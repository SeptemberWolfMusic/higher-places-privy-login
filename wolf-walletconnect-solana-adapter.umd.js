(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('events'), require('@solana/wallet-adapter-base'), require('@solana/web3.js'), require('fs'), require('util'), require('stream'), require('zlib'), require('assert'), require('buffer'), require('os'), require('path'), require('worker_threads'), require('module'), require('url'), require('crypto'), require('http'), require('punycode'), require('https')) :
    typeof define === 'function' && define.amd ? define(['exports', 'events', '@solana/wallet-adapter-base', '@solana/web3.js', 'fs', 'util', 'stream', 'zlib', 'assert', 'buffer', 'os', 'path', 'worker_threads', 'module', 'url', 'crypto', 'http', 'punycode', 'https'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.WalletConnectSolanaAdapter = {}, global.EventEmitter, global.WalletAdapterBase, global.solanaWeb3, global.require$$0$5, global.require$$0$4, global.require$$0$a, global.require$$0$b, global.require$$7$1, global.require$$0$6, global.require$$0$8, global.require$$2, global.require$$1$1, global.require$$0$7, global.require$$7, global.require$$5, global.require$$1$2, global.require$$0$9, global.require$$1$3));
})(this, (function (exports, require$$0$3, walletAdapterBase, web3_js, require$$0$5, require$$0$4, require$$0$a, require$$0$b, require$$7$1, require$$0$6, require$$0$8, require$$2, require$$1$1, require$$0$7, require$$7, require$$5, require$$1$2, require$$0$9, require$$1$3) { 'use strict';

    /* eslint-disable no-shadow */
    var WalletConnectChainID;
    (function (WalletConnectChainID) {
        WalletConnectChainID["Mainnet"] = "solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp";
        WalletConnectChainID["Devnet"] = "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1";
        WalletConnectChainID["Deprecated_Mainnet"] = "solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ";
        WalletConnectChainID["Deprecated_Devnet"] = "solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K";
    })(WalletConnectChainID || (WalletConnectChainID = {}));
    var WalletConnectRPCMethods;
    (function (WalletConnectRPCMethods) {
        WalletConnectRPCMethods["signTransaction"] = "solana_signTransaction";
        WalletConnectRPCMethods["signMessage"] = "solana_signMessage";
        WalletConnectRPCMethods["signAndSendTransaction"] = "solana_signAndSendTransaction";
        WalletConnectRPCMethods["signAndSendAllTransactions"] = "solana_signAndSendAllTransactions";
        WalletConnectRPCMethods["signAllTransactions"] = "solana_signAllTransactions";
    })(WalletConnectRPCMethods || (WalletConnectRPCMethods = {}));
    const SolanaChainIDs = {
        Mainnet: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',
        Devnet: 'solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1',
        Deprecated_Mainnet: 'solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ',
        Deprecated_Devnet: 'solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K'
    };

    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

    function getDefaultExportFromCjs (x) {
    	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
    }

    function getAugmentedNamespace(n) {
      if (Object.prototype.hasOwnProperty.call(n, '__esModule')) return n;
      var f = n.default;
    	if (typeof f == "function") {
    		var a = function a () {
    			var isInstance = false;
          try {
            isInstance = this instanceof a;
          } catch {}
    			if (isInstance) {
            return Reflect.construct(f, arguments, this.constructor);
    			}
    			return f.apply(this, arguments);
    		};
    		a.prototype = f.prototype;
      } else a = {};
      Object.defineProperty(a, '__esModule', {value: true});
    	Object.keys(n).forEach(function (k) {
    		var d = Object.getOwnPropertyDescriptor(n, k);
    		Object.defineProperty(a, k, d.get ? d : {
    			enumerable: true,
    			get: function () {
    				return n[k];
    			}
    		});
    	});
    	return a;
    }

    var cjs$3 = {};

    /******************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    /* global Reflect, Promise, SuppressedError, Symbol, Iterator */

    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };

    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };

    function __rest(s, e) {
        var t = {};
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
            t[p] = s[p];
        if (s != null && typeof Object.getOwnPropertySymbols === "function")
            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                    t[p[i]] = s[p[i]];
            }
        return t;
    }

    function __decorate$11(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }

    function __param(paramIndex, decorator) {
        return function (target, key) { decorator(target, key, paramIndex); }
    }

    function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {
        function accept(f) { if (f !== void 0 && typeof f !== "function") throw new TypeError("Function expected"); return f; }
        var kind = contextIn.kind, key = kind === "getter" ? "get" : kind === "setter" ? "set" : "value";
        var target = !descriptorIn && ctor ? contextIn["static"] ? ctor : ctor.prototype : null;
        var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});
        var _, done = false;
        for (var i = decorators.length - 1; i >= 0; i--) {
            var context = {};
            for (var p in contextIn) context[p] = p === "access" ? {} : contextIn[p];
            for (var p in contextIn.access) context.access[p] = contextIn.access[p];
            context.addInitializer = function (f) { if (done) throw new TypeError("Cannot add initializers after decoration has completed"); extraInitializers.push(accept(f || null)); };
            var result = (0, decorators[i])(kind === "accessor" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);
            if (kind === "accessor") {
                if (result === void 0) continue;
                if (result === null || typeof result !== "object") throw new TypeError("Object expected");
                if (_ = accept(result.get)) descriptor.get = _;
                if (_ = accept(result.set)) descriptor.set = _;
                if (_ = accept(result.init)) initializers.unshift(_);
            }
            else if (_ = accept(result)) {
                if (kind === "field") initializers.unshift(_);
                else descriptor[key] = _;
            }
        }
        if (target) Object.defineProperty(target, contextIn.name, descriptor);
        done = true;
    }
    function __runInitializers(thisArg, initializers, value) {
        var useValue = arguments.length > 2;
        for (var i = 0; i < initializers.length; i++) {
            value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);
        }
        return useValue ? value : void 0;
    }
    function __propKey(x) {
        return typeof x === "symbol" ? x : "".concat(x);
    }
    function __setFunctionName(f, name, prefix) {
        if (typeof name === "symbol") name = name.description ? "[".concat(name.description, "]") : "";
        return Object.defineProperty(f, "name", { configurable: true, value: prefix ? "".concat(prefix, " ", name) : name });
    }
    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
    }

    function __awaiter(thisArg, _arguments, P, generator) {
        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }

    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
        return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (g && (g = 0, op[0] && (_ = 0)), _) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    }

    var __createBinding = Object.create ? (function(o, m, k, k2) {
        if (k2 === undefined) k2 = k;
        var desc = Object.getOwnPropertyDescriptor(m, k);
        if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
            desc = { enumerable: true, get: function() { return m[k]; } };
        }
        Object.defineProperty(o, k2, desc);
    }) : (function(o, m, k, k2) {
        if (k2 === undefined) k2 = k;
        o[k2] = m[k];
    });

    function __exportStar(m, o) {
        for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
    }

    function __values(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m) return m.call(o);
        if (o && typeof o.length === "number") return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    }

    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    }

    /** @deprecated */
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }

    /** @deprecated */
    function __spreadArrays() {
        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
        for (var r = Array(s), k = 0, i = 0; i < il; i++)
            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
                r[k] = a[j];
        return r;
    }

    function __spreadArray$1(to, from, pack) {
        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
            if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
        }
        return to.concat(ar || Array.prototype.slice.call(from));
    }

    function __await(v) {
        return this instanceof __await ? (this.v = v, this) : new __await(v);
    }

    function __asyncGenerator(thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var g = generator.apply(thisArg, _arguments || []), i, q = [];
        return i = Object.create((typeof AsyncIterator === "function" ? AsyncIterator : Object).prototype), verb("next"), verb("throw"), verb("return", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;
        function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }
        function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }
        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
        function fulfill(value) { resume("next", value); }
        function reject(value) { resume("throw", value); }
        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
    }

    function __asyncDelegator(o) {
        var i, p;
        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }
    }

    function __asyncValues(o) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator], i;
        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
    }

    function __makeTemplateObject(cooked, raw) {
        if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
        return cooked;
    }
    var __setModuleDefault = Object.create ? (function(o, v) {
        Object.defineProperty(o, "default", { enumerable: true, value: v });
    }) : function(o, v) {
        o["default"] = v;
    };

    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };

    function __importStar(mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    }

    function __importDefault(mod) {
        return (mod && mod.__esModule) ? mod : { default: mod };
    }

    function __classPrivateFieldGet(receiver, state, kind, f) {
        if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
        return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
    }

    function __classPrivateFieldSet(receiver, state, value, kind, f) {
        if (kind === "m") throw new TypeError("Private method is not writable");
        if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
        return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
    }

    function __classPrivateFieldIn(state, receiver) {
        if (receiver === null || (typeof receiver !== "object" && typeof receiver !== "function")) throw new TypeError("Cannot use 'in' operator on non-object");
        return typeof state === "function" ? receiver === state : state.has(receiver);
    }

    function __addDisposableResource(env, value, async) {
        if (value !== null && value !== void 0) {
            if (typeof value !== "object" && typeof value !== "function") throw new TypeError("Object expected.");
            var dispose, inner;
            if (async) {
                if (!Symbol.asyncDispose) throw new TypeError("Symbol.asyncDispose is not defined.");
                dispose = value[Symbol.asyncDispose];
            }
            if (dispose === void 0) {
                if (!Symbol.dispose) throw new TypeError("Symbol.dispose is not defined.");
                dispose = value[Symbol.dispose];
                if (async) inner = dispose;
            }
            if (typeof dispose !== "function") throw new TypeError("Object not disposable.");
            if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };
            env.stack.push({ value: value, dispose: dispose, async: async });
        }
        else if (async) {
            env.stack.push({ async: true });
        }
        return value;

    }

    var _SuppressedError = typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
        var e = new Error(message);
        return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
    };

    function __disposeResources(env) {
        function fail(e) {
            env.error = env.hasError ? new _SuppressedError(e, env.error, "An error was suppressed during disposal.") : e;
            env.hasError = true;
        }
        var r, s = 0;
        function next() {
            while (r = env.stack.pop()) {
                try {
                    if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);
                    if (r.dispose) {
                        var result = r.dispose.call(r.value);
                        if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });
                    }
                    else s |= 1;
                }
                catch (e) {
                    fail(e);
                }
            }
            if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();
            if (env.hasError) throw env.error;
        }
        return next();
    }

    function __rewriteRelativeImportExtension(path, preserveJsx) {
        if (typeof path === "string" && /^\.\.?\//.test(path)) {
            return path.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {
                return tsx ? preserveJsx ? ".jsx" : ".js" : d && (!ext || !cm) ? m : (d + ext + "." + cm.toLowerCase() + "js");
            });
        }
        return path;
    }

    var tslib_es6 = {
        __extends: __extends,
        __assign: __assign,
        __rest: __rest,
        __decorate: __decorate$11,
        __param: __param,
        __esDecorate: __esDecorate,
        __runInitializers: __runInitializers,
        __propKey: __propKey,
        __setFunctionName: __setFunctionName,
        __metadata: __metadata,
        __awaiter: __awaiter,
        __generator: __generator,
        __createBinding: __createBinding,
        __exportStar: __exportStar,
        __values: __values,
        __read: __read,
        __spread: __spread,
        __spreadArrays: __spreadArrays,
        __spreadArray: __spreadArray$1,
        __await: __await,
        __asyncGenerator: __asyncGenerator,
        __asyncDelegator: __asyncDelegator,
        __asyncValues: __asyncValues,
        __makeTemplateObject: __makeTemplateObject,
        __importStar: __importStar,
        __importDefault: __importDefault,
        __classPrivateFieldGet: __classPrivateFieldGet,
        __classPrivateFieldSet: __classPrivateFieldSet,
        __classPrivateFieldIn: __classPrivateFieldIn,
        __addDisposableResource: __addDisposableResource,
        __disposeResources: __disposeResources,
        __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,
    };

    var tslib_es6$1 = /*#__PURE__*/Object.freeze({
        __proto__: null,
        __addDisposableResource: __addDisposableResource,
        get __assign () { return __assign; },
        __asyncDelegator: __asyncDelegator,
        __asyncGenerator: __asyncGenerator,
        __asyncValues: __asyncValues,
        __await: __await,
        __awaiter: __awaiter,
        __classPrivateFieldGet: __classPrivateFieldGet,
        __classPrivateFieldIn: __classPrivateFieldIn,
        __classPrivateFieldSet: __classPrivateFieldSet,
        __createBinding: __createBinding,
        __decorate: __decorate$11,
        __disposeResources: __disposeResources,
        __esDecorate: __esDecorate,
        __exportStar: __exportStar,
        __extends: __extends,
        __generator: __generator,
        __importDefault: __importDefault,
        __importStar: __importStar,
        __makeTemplateObject: __makeTemplateObject,
        __metadata: __metadata,
        __param: __param,
        __propKey: __propKey,
        __read: __read,
        __rest: __rest,
        __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,
        __runInitializers: __runInitializers,
        __setFunctionName: __setFunctionName,
        __spread: __spread,
        __spreadArray: __spreadArray$1,
        __spreadArrays: __spreadArrays,
        __values: __values,
        default: tslib_es6
    });

    var require$$0$2 = /*@__PURE__*/getAugmentedNamespace(tslib_es6$1);

    var utils$6 = {};

    var delay = {};

    var hasRequiredDelay;

    function requireDelay () {
    	if (hasRequiredDelay) return delay;
    	hasRequiredDelay = 1;
    	Object.defineProperty(delay, "__esModule", { value: true });
    	delay.delay = void 0;
    	function delay$1(timeout) {
    	    return new Promise(resolve => {
    	        setTimeout(() => {
    	            resolve(true);
    	        }, timeout);
    	    });
    	}
    	delay.delay = delay$1;
    	
    	return delay;
    }

    var convert = {};

    var constants$1 = {};

    var misc = {};

    var hasRequiredMisc;

    function requireMisc () {
    	if (hasRequiredMisc) return misc;
    	hasRequiredMisc = 1;
    	Object.defineProperty(misc, "__esModule", { value: true });
    	misc.ONE_THOUSAND = misc.ONE_HUNDRED = void 0;
    	misc.ONE_HUNDRED = 100;
    	misc.ONE_THOUSAND = 1000;
    	
    	return misc;
    }

    var time$1 = {};

    var hasRequiredTime$1;

    function requireTime$1 () {
    	if (hasRequiredTime$1) return time$1;
    	hasRequiredTime$1 = 1;
    	(function (exports) {
    		Object.defineProperty(exports, "__esModule", { value: true });
    		exports.ONE_YEAR = exports.FOUR_WEEKS = exports.THREE_WEEKS = exports.TWO_WEEKS = exports.ONE_WEEK = exports.THIRTY_DAYS = exports.SEVEN_DAYS = exports.FIVE_DAYS = exports.THREE_DAYS = exports.ONE_DAY = exports.TWENTY_FOUR_HOURS = exports.TWELVE_HOURS = exports.SIX_HOURS = exports.THREE_HOURS = exports.ONE_HOUR = exports.SIXTY_MINUTES = exports.THIRTY_MINUTES = exports.TEN_MINUTES = exports.FIVE_MINUTES = exports.ONE_MINUTE = exports.SIXTY_SECONDS = exports.THIRTY_SECONDS = exports.TEN_SECONDS = exports.FIVE_SECONDS = exports.ONE_SECOND = void 0;
    		exports.ONE_SECOND = 1;
    		exports.FIVE_SECONDS = 5;
    		exports.TEN_SECONDS = 10;
    		exports.THIRTY_SECONDS = 30;
    		exports.SIXTY_SECONDS = 60;
    		exports.ONE_MINUTE = exports.SIXTY_SECONDS;
    		exports.FIVE_MINUTES = exports.ONE_MINUTE * 5;
    		exports.TEN_MINUTES = exports.ONE_MINUTE * 10;
    		exports.THIRTY_MINUTES = exports.ONE_MINUTE * 30;
    		exports.SIXTY_MINUTES = exports.ONE_MINUTE * 60;
    		exports.ONE_HOUR = exports.SIXTY_MINUTES;
    		exports.THREE_HOURS = exports.ONE_HOUR * 3;
    		exports.SIX_HOURS = exports.ONE_HOUR * 6;
    		exports.TWELVE_HOURS = exports.ONE_HOUR * 12;
    		exports.TWENTY_FOUR_HOURS = exports.ONE_HOUR * 24;
    		exports.ONE_DAY = exports.TWENTY_FOUR_HOURS;
    		exports.THREE_DAYS = exports.ONE_DAY * 3;
    		exports.FIVE_DAYS = exports.ONE_DAY * 5;
    		exports.SEVEN_DAYS = exports.ONE_DAY * 7;
    		exports.THIRTY_DAYS = exports.ONE_DAY * 30;
    		exports.ONE_WEEK = exports.SEVEN_DAYS;
    		exports.TWO_WEEKS = exports.ONE_WEEK * 2;
    		exports.THREE_WEEKS = exports.ONE_WEEK * 3;
    		exports.FOUR_WEEKS = exports.ONE_WEEK * 4;
    		exports.ONE_YEAR = exports.ONE_DAY * 365;
    		
    	} (time$1));
    	return time$1;
    }

    var hasRequiredConstants$1;

    function requireConstants$1 () {
    	if (hasRequiredConstants$1) return constants$1;
    	hasRequiredConstants$1 = 1;
    	(function (exports) {
    		Object.defineProperty(exports, "__esModule", { value: true });
    		const tslib_1 = require$$0$2;
    		tslib_1.__exportStar(requireMisc(), exports);
    		tslib_1.__exportStar(requireTime$1(), exports);
    		
    	} (constants$1));
    	return constants$1;
    }

    var hasRequiredConvert;

    function requireConvert () {
    	if (hasRequiredConvert) return convert;
    	hasRequiredConvert = 1;
    	Object.defineProperty(convert, "__esModule", { value: true });
    	convert.fromMiliseconds = convert.toMiliseconds = void 0;
    	const constants_1 = requireConstants$1();
    	function toMiliseconds(seconds) {
    	    return seconds * constants_1.ONE_THOUSAND;
    	}
    	convert.toMiliseconds = toMiliseconds;
    	function fromMiliseconds(miliseconds) {
    	    return Math.floor(miliseconds / constants_1.ONE_THOUSAND);
    	}
    	convert.fromMiliseconds = fromMiliseconds;
    	
    	return convert;
    }

    var hasRequiredUtils$6;

    function requireUtils$6 () {
    	if (hasRequiredUtils$6) return utils$6;
    	hasRequiredUtils$6 = 1;
    	(function (exports) {
    		Object.defineProperty(exports, "__esModule", { value: true });
    		const tslib_1 = require$$0$2;
    		tslib_1.__exportStar(requireDelay(), exports);
    		tslib_1.__exportStar(requireConvert(), exports);
    		
    	} (utils$6));
    	return utils$6;
    }

    var watch$2 = {};

    var hasRequiredWatch$1;

    function requireWatch$1 () {
    	if (hasRequiredWatch$1) return watch$2;
    	hasRequiredWatch$1 = 1;
    	Object.defineProperty(watch$2, "__esModule", { value: true });
    	watch$2.Watch = void 0;
    	class Watch {
    	    constructor() {
    	        this.timestamps = new Map();
    	    }
    	    start(label) {
    	        if (this.timestamps.has(label)) {
    	            throw new Error(`Watch already started for label: ${label}`);
    	        }
    	        this.timestamps.set(label, { started: Date.now() });
    	    }
    	    stop(label) {
    	        const timestamp = this.get(label);
    	        if (typeof timestamp.elapsed !== "undefined") {
    	            throw new Error(`Watch already stopped for label: ${label}`);
    	        }
    	        const elapsed = Date.now() - timestamp.started;
    	        this.timestamps.set(label, { started: timestamp.started, elapsed });
    	    }
    	    get(label) {
    	        const timestamp = this.timestamps.get(label);
    	        if (typeof timestamp === "undefined") {
    	            throw new Error(`No timestamp found for label: ${label}`);
    	        }
    	        return timestamp;
    	    }
    	    elapsed(label) {
    	        const timestamp = this.get(label);
    	        const elapsed = timestamp.elapsed || Date.now() - timestamp.started;
    	        return elapsed;
    	    }
    	}
    	watch$2.Watch = Watch;
    	watch$2.default = Watch;
    	
    	return watch$2;
    }

    var types = {};

    var watch$1 = {};

    var hasRequiredWatch;

    function requireWatch () {
    	if (hasRequiredWatch) return watch$1;
    	hasRequiredWatch = 1;
    	Object.defineProperty(watch$1, "__esModule", { value: true });
    	watch$1.IWatch = void 0;
    	class IWatch {
    	}
    	watch$1.IWatch = IWatch;
    	
    	return watch$1;
    }

    var hasRequiredTypes;

    function requireTypes () {
    	if (hasRequiredTypes) return types;
    	hasRequiredTypes = 1;
    	(function (exports) {
    		Object.defineProperty(exports, "__esModule", { value: true });
    		const tslib_1 = require$$0$2;
    		tslib_1.__exportStar(requireWatch(), exports);
    		
    	} (types));
    	return types;
    }

    var hasRequiredCjs$3;

    function requireCjs$3 () {
    	if (hasRequiredCjs$3) return cjs$3;
    	hasRequiredCjs$3 = 1;
    	(function (exports) {
    		Object.defineProperty(exports, "__esModule", { value: true });
    		const tslib_1 = require$$0$2;
    		tslib_1.__exportStar(requireUtils$6(), exports);
    		tslib_1.__exportStar(requireWatch$1(), exports);
    		tslib_1.__exportStar(requireTypes(), exports);
    		tslib_1.__exportStar(requireConstants$1(), exports);
    		
    	} (cjs$3));
    	return cjs$3;
    }

    var cjsExports$3 = requireCjs$3();

    class IEvents {
    }

    let n$9 = class n extends IEvents{constructor(e){super();}};const s$6=cjsExports$3.FIVE_SECONDS,r$7={pulse:"heartbeat_pulse"};let i$a = class i extends n$9{constructor(e){super(e),this.events=new require$$0$3.EventEmitter,this.interval=s$6,this.interval=e?.interval||s$6;}static async init(e){const t=new i(e);return await t.init(),t}async init(){await this.initialize();}stop(){clearInterval(this.intervalRef);}on(e,t){this.events.on(e,t);}once(e,t){this.events.once(e,t);}off(e,t){this.events.off(e,t);}removeListener(e,t){this.events.removeListener(e,t);}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),cjsExports$3.toMiliseconds(this.interval));}pulse(){this.events.emit(r$7.pulse);}};

    const suspectProtoRx = /"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/;
    const suspectConstructorRx = /"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;
    const JsonSigRx = /^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;
    function jsonParseTransform(key, value) {
      if (key === "__proto__" || key === "constructor" && value && typeof value === "object" && "prototype" in value) {
        warnKeyDropped(key);
        return;
      }
      return value;
    }
    function warnKeyDropped(key) {
      console.warn(`[destr] Dropping "${key}" key to prevent prototype pollution.`);
    }
    function destr(value, options = {}) {
      if (typeof value !== "string") {
        return value;
      }
      if (value[0] === '"' && value[value.length - 1] === '"' && value.indexOf("\\") === -1) {
        return value.slice(1, -1);
      }
      const _value = value.trim();
      if (_value.length <= 9) {
        switch (_value.toLowerCase()) {
          case "true": {
            return true;
          }
          case "false": {
            return false;
          }
          case "undefined": {
            return void 0;
          }
          case "null": {
            return null;
          }
          case "nan": {
            return Number.NaN;
          }
          case "infinity": {
            return Number.POSITIVE_INFINITY;
          }
          case "-infinity": {
            return Number.NEGATIVE_INFINITY;
          }
        }
      }
      if (!JsonSigRx.test(value)) {
        if (options.strict) {
          throw new SyntaxError("[destr] Invalid JSON");
        }
        return value;
      }
      try {
        if (suspectProtoRx.test(value) || suspectConstructorRx.test(value)) {
          if (options.strict) {
            throw new Error("[destr] Possible prototype pollution");
          }
          return JSON.parse(value, jsonParseTransform);
        }
        return JSON.parse(value);
      } catch (error) {
        if (options.strict) {
          throw error;
        }
        return value;
      }
    }

    function wrapToPromise(value) {
      if (!value || typeof value.then !== "function") {
        return Promise.resolve(value);
      }
      return value;
    }
    function asyncCall(function_, ...arguments_) {
      try {
        return wrapToPromise(function_(...arguments_));
      } catch (error) {
        return Promise.reject(error);
      }
    }
    function isPrimitive(value) {
      const type = typeof value;
      return value === null || type !== "object" && type !== "function";
    }
    function isPureObject(value) {
      const proto = Object.getPrototypeOf(value);
      return !proto || proto.isPrototypeOf(Object);
    }
    function stringify$2(value) {
      if (isPrimitive(value)) {
        return String(value);
      }
      if (isPureObject(value) || Array.isArray(value)) {
        return JSON.stringify(value);
      }
      if (typeof value.toJSON === "function") {
        return stringify$2(value.toJSON());
      }
      throw new Error("[unstorage] Cannot stringify value!");
    }
    const BASE64_PREFIX = "base64:";
    function serializeRaw(value) {
      if (typeof value === "string") {
        return value;
      }
      return BASE64_PREFIX + base64Encode(value);
    }
    function deserializeRaw(value) {
      if (typeof value !== "string") {
        return value;
      }
      if (!value.startsWith(BASE64_PREFIX)) {
        return value;
      }
      return base64Decode(value.slice(BASE64_PREFIX.length));
    }
    function base64Decode(input) {
      if (globalThis.Buffer) {
        return Buffer.from(input, "base64");
      }
      return Uint8Array.from(
        globalThis.atob(input),
        (c) => c.codePointAt(0)
      );
    }
    function base64Encode(input) {
      if (globalThis.Buffer) {
        return Buffer.from(input).toString("base64");
      }
      return globalThis.btoa(String.fromCodePoint(...input));
    }
    function normalizeKey(key) {
      if (!key) {
        return "";
      }
      return key.split("?")[0]?.replace(/[/\\]/g, ":").replace(/:+/g, ":").replace(/^:|:$/g, "") || "";
    }
    function joinKeys(...keys) {
      return normalizeKey(keys.join(":"));
    }
    function normalizeBaseKey(base) {
      base = normalizeKey(base);
      return base ? base + ":" : "";
    }
    function filterKeyByDepth(key, depth) {
      if (depth === void 0) {
        return true;
      }
      let substrCount = 0;
      let index = key.indexOf(":");
      while (index > -1) {
        substrCount++;
        index = key.indexOf(":", index + 1);
      }
      return substrCount <= depth;
    }
    function filterKeyByBase(key, base) {
      if (base) {
        return key.startsWith(base) && key[key.length - 1] !== "$";
      }
      return key[key.length - 1] !== "$";
    }

    function defineDriver(factory) {
      return factory;
    }

    const DRIVER_NAME = "memory";
    const memory = defineDriver(() => {
      const data = /* @__PURE__ */ new Map();
      return {
        name: DRIVER_NAME,
        getInstance: () => data,
        hasItem(key) {
          return data.has(key);
        },
        getItem(key) {
          return data.get(key) ?? null;
        },
        getItemRaw(key) {
          return data.get(key) ?? null;
        },
        setItem(key, value) {
          data.set(key, value);
        },
        setItemRaw(key, value) {
          data.set(key, value);
        },
        removeItem(key) {
          data.delete(key);
        },
        getKeys() {
          return [...data.keys()];
        },
        clear() {
          data.clear();
        },
        dispose() {
          data.clear();
        }
      };
    });

    function createStorage(options = {}) {
      const context = {
        mounts: { "": options.driver || memory() },
        mountpoints: [""],
        watching: false,
        watchListeners: [],
        unwatch: {}
      };
      const getMount = (key) => {
        for (const base of context.mountpoints) {
          if (key.startsWith(base)) {
            return {
              base,
              relativeKey: key.slice(base.length),
              driver: context.mounts[base]
            };
          }
        }
        return {
          base: "",
          relativeKey: key,
          driver: context.mounts[""]
        };
      };
      const getMounts = (base, includeParent) => {
        return context.mountpoints.filter(
          (mountpoint) => mountpoint.startsWith(base) || includeParent && base.startsWith(mountpoint)
        ).map((mountpoint) => ({
          relativeBase: base.length > mountpoint.length ? base.slice(mountpoint.length) : void 0,
          mountpoint,
          driver: context.mounts[mountpoint]
        }));
      };
      const onChange = (event, key) => {
        if (!context.watching) {
          return;
        }
        key = normalizeKey(key);
        for (const listener of context.watchListeners) {
          listener(event, key);
        }
      };
      const startWatch = async () => {
        if (context.watching) {
          return;
        }
        context.watching = true;
        for (const mountpoint in context.mounts) {
          context.unwatch[mountpoint] = await watch(
            context.mounts[mountpoint],
            onChange,
            mountpoint
          );
        }
      };
      const stopWatch = async () => {
        if (!context.watching) {
          return;
        }
        for (const mountpoint in context.unwatch) {
          await context.unwatch[mountpoint]();
        }
        context.unwatch = {};
        context.watching = false;
      };
      const runBatch = (items, commonOptions, cb) => {
        const batches = /* @__PURE__ */ new Map();
        const getBatch = (mount) => {
          let batch = batches.get(mount.base);
          if (!batch) {
            batch = {
              driver: mount.driver,
              base: mount.base,
              items: []
            };
            batches.set(mount.base, batch);
          }
          return batch;
        };
        for (const item of items) {
          const isStringItem = typeof item === "string";
          const key = normalizeKey(isStringItem ? item : item.key);
          const value = isStringItem ? void 0 : item.value;
          const options2 = isStringItem || !item.options ? commonOptions : { ...commonOptions, ...item.options };
          const mount = getMount(key);
          getBatch(mount).items.push({
            key,
            value,
            relativeKey: mount.relativeKey,
            options: options2
          });
        }
        return Promise.all([...batches.values()].map((batch) => cb(batch))).then(
          (r) => r.flat()
        );
      };
      const storage = {
        // Item
        hasItem(key, opts = {}) {
          key = normalizeKey(key);
          const { relativeKey, driver } = getMount(key);
          return asyncCall(driver.hasItem, relativeKey, opts);
        },
        getItem(key, opts = {}) {
          key = normalizeKey(key);
          const { relativeKey, driver } = getMount(key);
          return asyncCall(driver.getItem, relativeKey, opts).then(
            (value) => destr(value)
          );
        },
        getItems(items, commonOptions = {}) {
          return runBatch(items, commonOptions, (batch) => {
            if (batch.driver.getItems) {
              return asyncCall(
                batch.driver.getItems,
                batch.items.map((item) => ({
                  key: item.relativeKey,
                  options: item.options
                })),
                commonOptions
              ).then(
                (r) => r.map((item) => ({
                  key: joinKeys(batch.base, item.key),
                  value: destr(item.value)
                }))
              );
            }
            return Promise.all(
              batch.items.map((item) => {
                return asyncCall(
                  batch.driver.getItem,
                  item.relativeKey,
                  item.options
                ).then((value) => ({
                  key: item.key,
                  value: destr(value)
                }));
              })
            );
          });
        },
        getItemRaw(key, opts = {}) {
          key = normalizeKey(key);
          const { relativeKey, driver } = getMount(key);
          if (driver.getItemRaw) {
            return asyncCall(driver.getItemRaw, relativeKey, opts);
          }
          return asyncCall(driver.getItem, relativeKey, opts).then(
            (value) => deserializeRaw(value)
          );
        },
        async setItem(key, value, opts = {}) {
          if (value === void 0) {
            return storage.removeItem(key);
          }
          key = normalizeKey(key);
          const { relativeKey, driver } = getMount(key);
          if (!driver.setItem) {
            return;
          }
          await asyncCall(driver.setItem, relativeKey, stringify$2(value), opts);
          if (!driver.watch) {
            onChange("update", key);
          }
        },
        async setItems(items, commonOptions) {
          await runBatch(items, commonOptions, async (batch) => {
            if (batch.driver.setItems) {
              return asyncCall(
                batch.driver.setItems,
                batch.items.map((item) => ({
                  key: item.relativeKey,
                  value: stringify$2(item.value),
                  options: item.options
                })),
                commonOptions
              );
            }
            if (!batch.driver.setItem) {
              return;
            }
            await Promise.all(
              batch.items.map((item) => {
                return asyncCall(
                  batch.driver.setItem,
                  item.relativeKey,
                  stringify$2(item.value),
                  item.options
                );
              })
            );
          });
        },
        async setItemRaw(key, value, opts = {}) {
          if (value === void 0) {
            return storage.removeItem(key, opts);
          }
          key = normalizeKey(key);
          const { relativeKey, driver } = getMount(key);
          if (driver.setItemRaw) {
            await asyncCall(driver.setItemRaw, relativeKey, value, opts);
          } else if (driver.setItem) {
            await asyncCall(driver.setItem, relativeKey, serializeRaw(value), opts);
          } else {
            return;
          }
          if (!driver.watch) {
            onChange("update", key);
          }
        },
        async removeItem(key, opts = {}) {
          if (typeof opts === "boolean") {
            opts = { removeMeta: opts };
          }
          key = normalizeKey(key);
          const { relativeKey, driver } = getMount(key);
          if (!driver.removeItem) {
            return;
          }
          await asyncCall(driver.removeItem, relativeKey, opts);
          if (opts.removeMeta || opts.removeMata) {
            await asyncCall(driver.removeItem, relativeKey + "$", opts);
          }
          if (!driver.watch) {
            onChange("remove", key);
          }
        },
        // Meta
        async getMeta(key, opts = {}) {
          if (typeof opts === "boolean") {
            opts = { nativeOnly: opts };
          }
          key = normalizeKey(key);
          const { relativeKey, driver } = getMount(key);
          const meta = /* @__PURE__ */ Object.create(null);
          if (driver.getMeta) {
            Object.assign(meta, await asyncCall(driver.getMeta, relativeKey, opts));
          }
          if (!opts.nativeOnly) {
            const value = await asyncCall(
              driver.getItem,
              relativeKey + "$",
              opts
            ).then((value_) => destr(value_));
            if (value && typeof value === "object") {
              if (typeof value.atime === "string") {
                value.atime = new Date(value.atime);
              }
              if (typeof value.mtime === "string") {
                value.mtime = new Date(value.mtime);
              }
              Object.assign(meta, value);
            }
          }
          return meta;
        },
        setMeta(key, value, opts = {}) {
          return this.setItem(key + "$", value, opts);
        },
        removeMeta(key, opts = {}) {
          return this.removeItem(key + "$", opts);
        },
        // Keys
        async getKeys(base, opts = {}) {
          base = normalizeBaseKey(base);
          const mounts = getMounts(base, true);
          let maskedMounts = [];
          const allKeys = [];
          let allMountsSupportMaxDepth = true;
          for (const mount of mounts) {
            if (!mount.driver.flags?.maxDepth) {
              allMountsSupportMaxDepth = false;
            }
            const rawKeys = await asyncCall(
              mount.driver.getKeys,
              mount.relativeBase,
              opts
            );
            for (const key of rawKeys) {
              const fullKey = mount.mountpoint + normalizeKey(key);
              if (!maskedMounts.some((p) => fullKey.startsWith(p))) {
                allKeys.push(fullKey);
              }
            }
            maskedMounts = [
              mount.mountpoint,
              ...maskedMounts.filter((p) => !p.startsWith(mount.mountpoint))
            ];
          }
          const shouldFilterByDepth = opts.maxDepth !== void 0 && !allMountsSupportMaxDepth;
          return allKeys.filter(
            (key) => (!shouldFilterByDepth || filterKeyByDepth(key, opts.maxDepth)) && filterKeyByBase(key, base)
          );
        },
        // Utils
        async clear(base, opts = {}) {
          base = normalizeBaseKey(base);
          await Promise.all(
            getMounts(base, false).map(async (m) => {
              if (m.driver.clear) {
                return asyncCall(m.driver.clear, m.relativeBase, opts);
              }
              if (m.driver.removeItem) {
                const keys = await m.driver.getKeys(m.relativeBase || "", opts);
                return Promise.all(
                  keys.map((key) => m.driver.removeItem(key, opts))
                );
              }
            })
          );
        },
        async dispose() {
          await Promise.all(
            Object.values(context.mounts).map((driver) => dispose(driver))
          );
        },
        async watch(callback) {
          await startWatch();
          context.watchListeners.push(callback);
          return async () => {
            context.watchListeners = context.watchListeners.filter(
              (listener) => listener !== callback
            );
            if (context.watchListeners.length === 0) {
              await stopWatch();
            }
          };
        },
        async unwatch() {
          context.watchListeners = [];
          await stopWatch();
        },
        // Mount
        mount(base, driver) {
          base = normalizeBaseKey(base);
          if (base && context.mounts[base]) {
            throw new Error(`already mounted at ${base}`);
          }
          if (base) {
            context.mountpoints.push(base);
            context.mountpoints.sort((a, b) => b.length - a.length);
          }
          context.mounts[base] = driver;
          if (context.watching) {
            Promise.resolve(watch(driver, onChange, base)).then((unwatcher) => {
              context.unwatch[base] = unwatcher;
            }).catch(console.error);
          }
          return storage;
        },
        async unmount(base, _dispose = true) {
          base = normalizeBaseKey(base);
          if (!base || !context.mounts[base]) {
            return;
          }
          if (context.watching && base in context.unwatch) {
            context.unwatch[base]?.();
            delete context.unwatch[base];
          }
          if (_dispose) {
            await dispose(context.mounts[base]);
          }
          context.mountpoints = context.mountpoints.filter((key) => key !== base);
          delete context.mounts[base];
        },
        getMount(key = "") {
          key = normalizeKey(key) + ":";
          const m = getMount(key);
          return {
            driver: m.driver,
            base: m.base
          };
        },
        getMounts(base = "", opts = {}) {
          base = normalizeKey(base);
          const mounts = getMounts(base, opts.parents);
          return mounts.map((m) => ({
            driver: m.driver,
            base: m.mountpoint
          }));
        },
        // Aliases
        keys: (base, opts = {}) => storage.getKeys(base, opts),
        get: (key, opts = {}) => storage.getItem(key, opts),
        set: (key, value, opts = {}) => storage.setItem(key, value, opts),
        has: (key, opts = {}) => storage.hasItem(key, opts),
        del: (key, opts = {}) => storage.removeItem(key, opts),
        remove: (key, opts = {}) => storage.removeItem(key, opts)
      };
      return storage;
    }
    function watch(driver, onChange, base) {
      return driver.watch ? driver.watch((event, key) => onChange(event, base + key)) : () => {
      };
    }
    async function dispose(driver) {
      if (typeof driver.dispose === "function") {
        await asyncCall(driver.dispose);
      }
    }

    function promisifyRequest(request) {
        return new Promise((resolve, reject) => {
            // @ts-ignore - file size hacks
            request.oncomplete = request.onsuccess = () => resolve(request.result);
            // @ts-ignore - file size hacks
            request.onabort = request.onerror = () => reject(request.error);
        });
    }
    function createStore(dbName, storeName) {
        let dbp;
        const getDB = () => {
            if (dbp)
                return dbp;
            const request = indexedDB.open(dbName);
            request.onupgradeneeded = () => request.result.createObjectStore(storeName);
            dbp = promisifyRequest(request);
            dbp.then((db) => {
                // It seems like Safari sometimes likes to just close the connection.
                // It's supposed to fire this event when that happens. Let's hope it does!
                db.onclose = () => (dbp = undefined);
            }, () => { });
            return dbp;
        };
        return (txMode, callback) => getDB().then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));
    }
    let defaultGetStoreFunc;
    function defaultGetStore() {
        if (!defaultGetStoreFunc) {
            defaultGetStoreFunc = createStore('keyval-store', 'keyval');
        }
        return defaultGetStoreFunc;
    }
    /**
     * Get a value by its key.
     *
     * @param key
     * @param customStore Method to get a custom store. Use with caution (see the docs).
     */
    function get(key, customStore = defaultGetStore()) {
        return customStore('readonly', (store) => promisifyRequest(store.get(key)));
    }
    /**
     * Set a value with a key.
     *
     * @param key
     * @param value
     * @param customStore Method to get a custom store. Use with caution (see the docs).
     */
    function set(key, value, customStore = defaultGetStore()) {
        return customStore('readwrite', (store) => {
            store.put(value, key);
            return promisifyRequest(store.transaction);
        });
    }
    /**
     * Delete a particular key from the store.
     *
     * @param key
     * @param customStore Method to get a custom store. Use with caution (see the docs).
     */
    function del(key, customStore = defaultGetStore()) {
        return customStore('readwrite', (store) => {
            store.delete(key);
            return promisifyRequest(store.transaction);
        });
    }
    /**
     * Clear all values in the store.
     *
     * @param customStore Method to get a custom store. Use with caution (see the docs).
     */
    function clear(customStore = defaultGetStore()) {
        return customStore('readwrite', (store) => {
            store.clear();
            return promisifyRequest(store.transaction);
        });
    }
    function eachCursor(store, callback) {
        store.openCursor().onsuccess = function () {
            if (!this.result)
                return;
            callback(this.result);
            this.result.continue();
        };
        return promisifyRequest(store.transaction);
    }
    /**
     * Get all keys in the store.
     *
     * @param customStore Method to get a custom store. Use with caution (see the docs).
     */
    function keys(customStore = defaultGetStore()) {
        return customStore('readonly', (store) => {
            // Fast path for modern browsers
            if (store.getAllKeys) {
                return promisifyRequest(store.getAllKeys());
            }
            const items = [];
            return eachCursor(store, (cursor) => items.push(cursor.key)).then(() => items);
        });
    }

    const JSONStringify = data => JSON.stringify(data, (_, value) => typeof value === "bigint" ? value.toString() + "n" : value);
    const JSONParse = json => {
        const numbersBiggerThanMaxInt = /([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g;
        const serializedData = json.replace(numbersBiggerThanMaxInt, "$1\"$2n\"$3");
        return JSON.parse(serializedData, (_, value) => {
            const isCustomFormatBigInt = typeof value === "string" && value.match(/^\d+n$/);
            if (isCustomFormatBigInt)
                return BigInt(value.substring(0, value.length - 1));
            return value;
        });
    };
    function safeJsonParse(value) {
        if (typeof value !== "string") {
            throw new Error(`Cannot safe json parse value of type ${typeof value}`);
        }
        try {
            return JSONParse(value);
        }
        catch (_a) {
            return value;
        }
    }
    function safeJsonStringify(value) {
        return typeof value === "string" ? value : JSONStringify(value) || "";
    }

    const x$9="idb-keyval";var z$7=(i={})=>{const t=i.base&&i.base.length>0?`${i.base}:`:"",e=s=>t+s;let n;return i.dbName&&i.storeName&&(n=createStore(i.dbName,i.storeName)),{name:x$9,options:i,async hasItem(s){return !(typeof await get(e(s),n)>"u")},async getItem(s){return await get(e(s),n)??null},setItem(s,a){return set(e(s),a,n)},removeItem(s){return del(e(s),n)},getKeys(){return keys(n)},clear(){return clear(n)}}};const D$3="WALLET_CONNECT_V2_INDEXED_DB",E$8="keyvaluestorage";let _$6 = class _{constructor(){this.indexedDb=createStorage({driver:z$7({dbName:D$3,storeName:E$8})});}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return (await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const e=await this.indexedDb.getItem(t);if(e!==null)return e}async setItem(t,e){await this.indexedDb.setItem(t,safeJsonStringify(e));}async removeItem(t){await this.indexedDb.removeItem(t);}};var l$5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c$c={exports:{}};(function(){let i;function t(){}i=t,i.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},i.prototype.setItem=function(e,n){this[e]=String(n);},i.prototype.removeItem=function(e){delete this[e];},i.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(n){e[n]=void 0,delete e[n];});},i.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},i.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$5<"u"&&l$5.localStorage?c$c.exports=l$5.localStorage:typeof window<"u"&&window.localStorage?c$c.exports=window.localStorage:c$c.exports=new t;})();function k$8(i){var t;return [i[0],safeJsonParse((t=i[1])!=null?t:"")]}let K$5 = class K{constructor(){this.localStorage=c$c.exports;}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$8)}async getItem(t){const e=this.localStorage.getItem(t);if(e!==null)return safeJsonParse(e)}async setItem(t,e){this.localStorage.setItem(t,safeJsonStringify(e));}async removeItem(t){this.localStorage.removeItem(t);}};const N$6="wc_storage_version",y$9=1,O$6=async(i,t,e)=>{const n=N$6,s=await t.getItem(n);if(s&&s>=y$9){e(t);return}const a=await i.getKeys();if(!a.length){e(t);return}const m=[];for(;a.length;){const r=a.shift();if(!r)continue;const o=r.toLowerCase();if(o.includes("wc@")||o.includes("walletconnect")||o.includes("wc_")||o.includes("wallet_connect")){const f=await i.getItem(r);await t.setItem(r,f),m.push(r);}}await t.setItem(n,y$9),e(t),j$5(i,m);},j$5=async(i,t)=>{t.length&&t.forEach(async e=>{await i.removeItem(e);});};let h$b = class h{constructor(){this.initialized=false,this.setInitialized=e=>{this.storage=e,this.initialized=true;};const t=new K$5;this.storage=t;try{const e=new _$6;O$6(t,e,this.setInitialized);}catch{this.initialized=true;}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const e=setInterval(()=>{this.initialized&&(clearInterval(e),t());},20);});}};

    var pino = {exports: {}};

    var err;
    var hasRequiredErr;

    function requireErr () {
    	if (hasRequiredErr) return err;
    	hasRequiredErr = 1;

    	err = errSerializer;

    	const { toString } = Object.prototype;
    	const seen = Symbol('circular-ref-tag');
    	const rawSymbol = Symbol('pino-raw-err-ref');
    	const pinoErrProto = Object.create({}, {
    	  type: {
    	    enumerable: true,
    	    writable: true,
    	    value: undefined
    	  },
    	  message: {
    	    enumerable: true,
    	    writable: true,
    	    value: undefined
    	  },
    	  stack: {
    	    enumerable: true,
    	    writable: true,
    	    value: undefined
    	  },
    	  raw: {
    	    enumerable: false,
    	    get: function () {
    	      return this[rawSymbol]
    	    },
    	    set: function (val) {
    	      this[rawSymbol] = val;
    	    }
    	  }
    	});
    	Object.defineProperty(pinoErrProto, rawSymbol, {
    	  writable: true,
    	  value: {}
    	});

    	function errSerializer (err) {
    	  if (!(err instanceof Error)) {
    	    return err
    	  }

    	  err[seen] = undefined; // tag to prevent re-looking at this
    	  const _err = Object.create(pinoErrProto);
    	  _err.type = toString.call(err.constructor) === '[object Function]'
    	    ? err.constructor.name
    	    : err.name;
    	  _err.message = err.message;
    	  _err.stack = err.stack;
    	  for (const key in err) {
    	    if (_err[key] === undefined) {
    	      const val = err[key];
    	      if (val instanceof Error) {
    	        /* eslint-disable no-prototype-builtins */
    	        if (!val.hasOwnProperty(seen)) {
    	          _err[key] = errSerializer(val);
    	        }
    	      } else {
    	        _err[key] = val;
    	      }
    	    }
    	  }

    	  delete err[seen]; // clean up tag in case err is serialized again later
    	  _err.raw = err;
    	  return _err
    	}
    	return err;
    }

    var req;
    var hasRequiredReq;

    function requireReq () {
    	if (hasRequiredReq) return req;
    	hasRequiredReq = 1;

    	req = {
    	  mapHttpRequest,
    	  reqSerializer
    	};

    	const rawSymbol = Symbol('pino-raw-req-ref');
    	const pinoReqProto = Object.create({}, {
    	  id: {
    	    enumerable: true,
    	    writable: true,
    	    value: ''
    	  },
    	  method: {
    	    enumerable: true,
    	    writable: true,
    	    value: ''
    	  },
    	  url: {
    	    enumerable: true,
    	    writable: true,
    	    value: ''
    	  },
    	  query: {
    	    enumerable: true,
    	    writable: true,
    	    value: ''
    	  },
    	  params: {
    	    enumerable: true,
    	    writable: true,
    	    value: ''
    	  },
    	  headers: {
    	    enumerable: true,
    	    writable: true,
    	    value: {}
    	  },
    	  remoteAddress: {
    	    enumerable: true,
    	    writable: true,
    	    value: ''
    	  },
    	  remotePort: {
    	    enumerable: true,
    	    writable: true,
    	    value: ''
    	  },
    	  raw: {
    	    enumerable: false,
    	    get: function () {
    	      return this[rawSymbol]
    	    },
    	    set: function (val) {
    	      this[rawSymbol] = val;
    	    }
    	  }
    	});
    	Object.defineProperty(pinoReqProto, rawSymbol, {
    	  writable: true,
    	  value: {}
    	});

    	function reqSerializer (req) {
    	  // req.info is for hapi compat.
    	  const connection = req.info || req.socket;
    	  const _req = Object.create(pinoReqProto);
    	  _req.id = (typeof req.id === 'function' ? req.id() : (req.id || (req.info ? req.info.id : undefined)));
    	  _req.method = req.method;
    	  // req.originalUrl is for expressjs compat.
    	  if (req.originalUrl) {
    	    _req.url = req.originalUrl;
    	    _req.query = req.query;
    	    _req.params = req.params;
    	  } else {
    	    // req.url.path is  for hapi compat.
    	    _req.url = req.path || (req.url ? (req.url.path || req.url) : undefined);
    	  }
    	  _req.headers = req.headers;
    	  _req.remoteAddress = connection && connection.remoteAddress;
    	  _req.remotePort = connection && connection.remotePort;
    	  // req.raw is  for hapi compat/equivalence
    	  _req.raw = req.raw || req;
    	  return _req
    	}

    	function mapHttpRequest (req) {
    	  return {
    	    req: reqSerializer(req)
    	  }
    	}
    	return req;
    }

    var res;
    var hasRequiredRes;

    function requireRes () {
    	if (hasRequiredRes) return res;
    	hasRequiredRes = 1;

    	res = {
    	  mapHttpResponse,
    	  resSerializer
    	};

    	const rawSymbol = Symbol('pino-raw-res-ref');
    	const pinoResProto = Object.create({}, {
    	  statusCode: {
    	    enumerable: true,
    	    writable: true,
    	    value: 0
    	  },
    	  headers: {
    	    enumerable: true,
    	    writable: true,
    	    value: ''
    	  },
    	  raw: {
    	    enumerable: false,
    	    get: function () {
    	      return this[rawSymbol]
    	    },
    	    set: function (val) {
    	      this[rawSymbol] = val;
    	    }
    	  }
    	});
    	Object.defineProperty(pinoResProto, rawSymbol, {
    	  writable: true,
    	  value: {}
    	});

    	function resSerializer (res) {
    	  const _res = Object.create(pinoResProto);
    	  _res.statusCode = res.statusCode;
    	  _res.headers = res.getHeaders ? res.getHeaders() : res._headers;
    	  _res.raw = res;
    	  return _res
    	}

    	function mapHttpResponse (res) {
    	  return {
    	    res: resSerializer(res)
    	  }
    	}
    	return res;
    }

    var pinoStdSerializers;
    var hasRequiredPinoStdSerializers;

    function requirePinoStdSerializers () {
    	if (hasRequiredPinoStdSerializers) return pinoStdSerializers;
    	hasRequiredPinoStdSerializers = 1;

    	const errSerializer = requireErr();
    	const reqSerializers = requireReq();
    	const resSerializers = requireRes();

    	pinoStdSerializers = {
    	  err: errSerializer,
    	  mapHttpRequest: reqSerializers.mapHttpRequest,
    	  mapHttpResponse: resSerializers.mapHttpResponse,
    	  req: reqSerializers.reqSerializer,
    	  res: resSerializers.resSerializer,

    	  wrapErrorSerializer: function wrapErrorSerializer (customSerializer) {
    	    if (customSerializer === errSerializer) return customSerializer
    	    return function wrapErrSerializer (err) {
    	      return customSerializer(errSerializer(err))
    	    }
    	  },

    	  wrapRequestSerializer: function wrapRequestSerializer (customSerializer) {
    	    if (customSerializer === reqSerializers.reqSerializer) return customSerializer
    	    return function wrappedReqSerializer (req) {
    	      return customSerializer(reqSerializers.reqSerializer(req))
    	    }
    	  },

    	  wrapResponseSerializer: function wrapResponseSerializer (customSerializer) {
    	    if (customSerializer === resSerializers.resSerializer) return customSerializer
    	    return function wrappedResSerializer (res) {
    	      return customSerializer(resSerializers.resSerializer(res))
    	    }
    	  }
    	};
    	return pinoStdSerializers;
    }

    var caller;
    var hasRequiredCaller;

    function requireCaller () {
    	if (hasRequiredCaller) return caller;
    	hasRequiredCaller = 1;

    	function noOpPrepareStackTrace (_, stack) {
    	  return stack
    	}

    	caller = function getCallers () {
    	  const originalPrepare = Error.prepareStackTrace;
    	  Error.prepareStackTrace = noOpPrepareStackTrace;
    	  const stack = new Error().stack;
    	  Error.prepareStackTrace = originalPrepare;

    	  if (!Array.isArray(stack)) {
    	    return undefined
    	  }

    	  const entries = stack.slice(2);

    	  const fileNames = [];

    	  for (const entry of entries) {
    	    if (!entry) {
    	      continue
    	    }

    	    fileNames.push(entry.getFileName());
    	  }

    	  return fileNames
    	};
    	return caller;
    }

    var validator_1;
    var hasRequiredValidator;

    function requireValidator () {
    	if (hasRequiredValidator) return validator_1;
    	hasRequiredValidator = 1;

    	validator_1 = validator;

    	function validator (opts = {}) {
    	  const {
    	    ERR_PATHS_MUST_BE_STRINGS = () => 'fast-redact - Paths must be (non-empty) strings',
    	    ERR_INVALID_PATH = (s) => `fast-redact – Invalid path (${s})`
    	  } = opts;

    	  return function validate ({ paths }) {
    	    paths.forEach((s) => {
    	      if (typeof s !== 'string') {
    	        throw Error(ERR_PATHS_MUST_BE_STRINGS())
    	      }
    	      try {
    	        if (/〇/.test(s)) throw Error()
    	        const expr = (s[0] === '[' ? '' : '.') + s.replace(/^\*/, '〇').replace(/\.\*/g, '.〇').replace(/\[\*\]/g, '[〇]');
    	        if (/\n|\r|;/.test(expr)) throw Error()
    	        if (/\/\*/.test(expr)) throw Error()
    	        /* eslint-disable-next-line */
    	        Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const 〇 = null;
            o${expr}
            if ([o${expr}].length !== 1) throw Error()`)();
    	      } catch (e) {
    	        throw Error(ERR_INVALID_PATH(s))
    	      }
    	    });
    	  }
    	}
    	return validator_1;
    }

    var rx;
    var hasRequiredRx;

    function requireRx () {
    	if (hasRequiredRx) return rx;
    	hasRequiredRx = 1;

    	rx = /[^.[\]]+|\[((?:.)*?)\]/g;

    	/*
    	Regular expression explanation:

    	Alt 1: /[^.[\]]+/ - Match one or more characters that are *not* a dot (.)
    	                    opening square bracket ([) or closing square bracket (])

    	Alt 2: /\[((?:.)*?)\]/ - If the char IS dot or square bracket, then create a capture
    	                         group (which will be capture group $1) that matches anything
    	                         within square brackets. Expansion is lazy so it will
    	                         stop matching as soon as the first closing bracket is met `]`
    	                         (rather than continuing to match until the final closing bracket).
    	*/
    	return rx;
    }

    var parse_1;
    var hasRequiredParse;

    function requireParse () {
    	if (hasRequiredParse) return parse_1;
    	hasRequiredParse = 1;

    	const rx = requireRx();

    	parse_1 = parse;

    	function parse ({ paths }) {
    	  const wildcards = [];
    	  var wcLen = 0;
    	  const secret = paths.reduce(function (o, strPath, ix) {
    	    var path = strPath.match(rx).map((p) => p.replace(/'|"|`/g, ''));
    	    const leadingBracket = strPath[0] === '[';
    	    path = path.map((p) => {
    	      if (p[0] === '[') return p.substr(1, p.length - 2)
    	      else return p
    	    });
    	    const star = path.indexOf('*');
    	    if (star > -1) {
    	      const before = path.slice(0, star);
    	      const beforeStr = before.join('.');
    	      const after = path.slice(star + 1, path.length);
    	      const nested = after.length > 0;
    	      wcLen++;
    	      wildcards.push({
    	        before,
    	        beforeStr,
    	        after,
    	        nested
    	      });
    	    } else {
    	      o[strPath] = {
    	        path: path,
    	        val: undefined,
    	        precensored: false,
    	        circle: '',
    	        escPath: JSON.stringify(strPath),
    	        leadingBracket: leadingBracket
    	      };
    	    }
    	    return o
    	  }, {});

    	  return { wildcards, wcLen, secret }
    	}
    	return parse_1;
    }

    var redactor_1;
    var hasRequiredRedactor;

    function requireRedactor () {
    	if (hasRequiredRedactor) return redactor_1;
    	hasRequiredRedactor = 1;

    	const rx = requireRx();

    	redactor_1 = redactor;

    	function redactor ({ secret, serialize, wcLen, strict, isCensorFct, censorFctTakesPath }, state) {
    	  /* eslint-disable-next-line */
    	  const redact = Function('o', `
    if (typeof o !== 'object' || o == null) {
      ${strictImpl(strict, serialize)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${redactTmpl(secret, isCensorFct, censorFctTakesPath)}
    this.compileRestore()
    ${dynamicRedactTmpl(wcLen > 0, isCensorFct, censorFctTakesPath)}
    this.secret = originalSecret
    ${resultTmpl(serialize)}
  `).bind(state);

    	  redact.state = state;

    	  if (serialize === false) {
    	    redact.restore = (o) => state.restore(o);
    	  }

    	  return redact
    	}

    	function redactTmpl (secret, isCensorFct, censorFctTakesPath) {
    	  return Object.keys(secret).map((path) => {
    	    const { escPath, leadingBracket, path: arrPath } = secret[path];
    	    const skip = leadingBracket ? 1 : 0;
    	    const delim = leadingBracket ? '' : '.';
    	    const hops = [];
    	    var match;
    	    while ((match = rx.exec(path)) !== null) {
    	      const [ , ix ] = match;
    	      const { index, input } = match;
    	      if (index > skip) hops.push(input.substring(0, index - (ix ? 0 : 1)));
    	    }
    	    var existence = hops.map((p) => `o${delim}${p}`).join(' && ');
    	    if (existence.length === 0) existence += `o${delim}${path} != null`;
    	    else existence += ` && o${delim}${path} != null`;

    	    const circularDetection = `
      switch (true) {
        ${hops.reverse().map((p) => `
          case o${delim}${p} === censor:
            secret[${escPath}].circle = ${JSON.stringify(p)}
            break
        `).join('\n')}
      }
    `;

    	    const censorArgs = censorFctTakesPath
    	      ? `val, ${JSON.stringify(arrPath)}`
    	      : `val`;

    	    return `
      if (${existence}) {
        const val = o${delim}${path}
        if (val === censor) {
          secret[${escPath}].precensored = true
        } else {
          secret[${escPath}].val = val
          o${delim}${path} = ${isCensorFct ? `censor(${censorArgs})` : 'censor'}
          ${circularDetection}
        }
      }
    `
    	  }).join('\n')
    	}

    	function dynamicRedactTmpl (hasWildcards, isCensorFct, censorFctTakesPath) {
    	  return hasWildcards === true ? `
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${isCensorFct}, ${censorFctTakesPath})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${isCensorFct}, ${censorFctTakesPath})
      }
    }
  ` : ''
    	}

    	function resultTmpl (serialize) {
    	  return serialize === false ? `return o` : `
    var s = this.serialize(o)
    this.restore(o)
    return s
  `
    	}

    	function strictImpl (strict, serialize) {
    	  return strict === true
    	    ? `throw Error('fast-redact: primitives cannot be redacted')`
    	    : serialize === false ? `return o` : `return this.serialize(o)`
    	}
    	return redactor_1;
    }

    var modifiers;
    var hasRequiredModifiers;

    function requireModifiers () {
    	if (hasRequiredModifiers) return modifiers;
    	hasRequiredModifiers = 1;

    	modifiers = {
    	  groupRedact,
    	  groupRestore,
    	  nestedRedact,
    	  nestedRestore
    	};

    	function groupRestore ({ keys, values, target }) {
    	  if (target == null || typeof target === 'string') return
    	  const length = keys.length;
    	  for (var i = 0; i < length; i++) {
    	    const k = keys[i];
    	    target[k] = values[i];
    	  }
    	}

    	function groupRedact (o, path, censor, isCensorFct, censorFctTakesPath) {
    	  const target = get(o, path);
    	  if (target == null || typeof target === 'string') return { keys: null, values: null, target, flat: true }
    	  const keys = Object.keys(target);
    	  const keysLength = keys.length;
    	  const pathLength = path.length;
    	  const pathWithKey = censorFctTakesPath ? [...path] : undefined;
    	  const values = new Array(keysLength);

    	  for (var i = 0; i < keysLength; i++) {
    	    const key = keys[i];
    	    values[i] = target[key];

    	    if (censorFctTakesPath) {
    	      pathWithKey[pathLength] = key;
    	      target[key] = censor(target[key], pathWithKey);
    	    } else if (isCensorFct) {
    	      target[key] = censor(target[key]);
    	    } else {
    	      target[key] = censor;
    	    }
    	  }
    	  return { keys, values, target, flat: true }
    	}

    	/**
    	 * @param {RestoreInstruction[]} instructions a set of instructions for restoring values to objects
    	 */
    	function nestedRestore (instructions) {
    	  for (let i = 0; i < instructions.length; i++) {
    	    const { target, path, value } = instructions[i];
    	    let current = target;
    	    for (let i = path.length - 1; i > 0; i--) {
    	      current = current[path[i]];
    	    }
    	    current[path[0]] = value;
    	  }
    	}

    	function nestedRedact (store, o, path, ns, censor, isCensorFct, censorFctTakesPath) {
    	  const target = get(o, path);
    	  if (target == null) return
    	  const keys = Object.keys(target);
    	  const keysLength = keys.length;
    	  for (var i = 0; i < keysLength; i++) {
    	    const key = keys[i];
    	    specialSet(store, target, key, path, ns, censor, isCensorFct, censorFctTakesPath);
    	  }
    	  return store
    	}

    	function has (obj, prop) {
    	  return obj !== undefined && obj !== null
    	    ? ('hasOwn' in Object ? Object.hasOwn(obj, prop) : Object.prototype.hasOwnProperty.call(obj, prop))
    	    : false
    	}

    	function specialSet (store, o, k, path, afterPath, censor, isCensorFct, censorFctTakesPath) {
    	  const afterPathLen = afterPath.length;
    	  const lastPathIndex = afterPathLen - 1;
    	  const originalKey = k;
    	  var i = -1;
    	  var n;
    	  var nv;
    	  var ov;
    	  var wc = null;
    	  var kIsWc;
    	  var wcov;
    	  var consecutive = false;
    	  var level = 0;
    	  // need to track depth of the `redactPath` tree
    	  var depth = 0;
    	  var redactPathCurrent = tree();
    	  ov = n = o[k];
    	  if (typeof n !== 'object') return
    	  while (n != null && ++i < afterPathLen) {
    	    depth += 1;
    	    k = afterPath[i];
    	    if (k !== '*' && !wc && !(typeof n === 'object' && k in n)) {
    	      break
    	    }
    	    if (k === '*') {
    	      if (wc === '*') {
    	        consecutive = true;
    	      }
    	      wc = k;
    	      if (i !== lastPathIndex) {
    	        continue
    	      }
    	    }
    	    if (wc) {
    	      const wcKeys = Object.keys(n);
    	      for (var j = 0; j < wcKeys.length; j++) {
    	        const wck = wcKeys[j];
    	        wcov = n[wck];
    	        kIsWc = k === '*';
    	        if (consecutive) {
    	          redactPathCurrent = node(redactPathCurrent, wck, depth);
    	          level = i;
    	          ov = iterateNthLevel(wcov, level - 1, k, path, afterPath, censor, isCensorFct, censorFctTakesPath, originalKey, n, nv, ov, kIsWc, wck, i, lastPathIndex, redactPathCurrent, store, o[originalKey], depth + 1);
    	        } else {
    	          if (kIsWc || (typeof wcov === 'object' && wcov !== null && k in wcov)) {
    	            if (kIsWc) {
    	              ov = wcov;
    	            } else {
    	              ov = wcov[k];
    	            }
    	            nv = (i !== lastPathIndex)
    	              ? ov
    	              : (isCensorFct
    	                ? (censorFctTakesPath ? censor(ov, [...path, originalKey, ...afterPath]) : censor(ov))
    	                : censor);
    	            if (kIsWc) {
    	              const rv = restoreInstr(node(redactPathCurrent, wck, depth), ov, o[originalKey]);
    	              store.push(rv);
    	              n[wck] = nv;
    	            } else {
    	              if (wcov[k] === nv) ; else if ((nv === undefined && censor !== undefined) || (has(wcov, k) && nv === ov)) {
    	                redactPathCurrent = node(redactPathCurrent, wck, depth);
    	              } else {
    	                redactPathCurrent = node(redactPathCurrent, wck, depth);
    	                const rv = restoreInstr(node(redactPathCurrent, k, depth + 1), ov, o[originalKey]);
    	                store.push(rv);
    	                wcov[k] = nv;
    	              }
    	            }
    	          }
    	        }
    	      }
    	      wc = null;
    	    } else {
    	      ov = n[k];
    	      redactPathCurrent = node(redactPathCurrent, k, depth);
    	      nv = (i !== lastPathIndex)
    	        ? ov
    	        : (isCensorFct
    	          ? (censorFctTakesPath ? censor(ov, [...path, originalKey, ...afterPath]) : censor(ov))
    	          : censor);
    	      if ((has(n, k) && nv === ov) || (nv === undefined && censor !== undefined)) ; else {
    	        const rv = restoreInstr(redactPathCurrent, ov, o[originalKey]);
    	        store.push(rv);
    	        n[k] = nv;
    	      }
    	      n = n[k];
    	    }
    	    if (typeof n !== 'object') break
    	  }
    	}

    	function get (o, p) {
    	  var i = -1;
    	  var l = p.length;
    	  var n = o;
    	  while (n != null && ++i < l) {
    	    n = n[p[i]];
    	  }
    	  return n
    	}

    	function iterateNthLevel (wcov, level, k, path, afterPath, censor, isCensorFct, censorFctTakesPath, originalKey, n, nv, ov, kIsWc, wck, i, lastPathIndex, redactPathCurrent, store, parent, depth) {
    	  if (level === 0) {
    	    if (kIsWc || (typeof wcov === 'object' && wcov !== null && k in wcov)) {
    	      if (kIsWc) {
    	        ov = wcov;
    	      } else {
    	        ov = wcov[k];
    	      }
    	      nv = (i !== lastPathIndex)
    	        ? ov
    	        : (isCensorFct
    	          ? (censorFctTakesPath ? censor(ov, [...path, originalKey, ...afterPath]) : censor(ov))
    	          : censor);
    	      if (kIsWc) {
    	        const rv = restoreInstr(redactPathCurrent, ov, parent);
    	        store.push(rv);
    	        n[wck] = nv;
    	      } else {
    	        if (wcov[k] === nv) ; else if ((nv === undefined && censor !== undefined) || (has(wcov, k) && nv === ov)) ; else {
    	          const rv = restoreInstr(node(redactPathCurrent, k, depth + 1), ov, parent);
    	          store.push(rv);
    	          wcov[k] = nv;
    	        }
    	      }
    	    }
    	  }
    	  for (const key in wcov) {
    	    if (typeof wcov[key] === 'object') {
    	      redactPathCurrent = node(redactPathCurrent, key, depth);
    	      iterateNthLevel(wcov[key], level - 1, k, path, afterPath, censor, isCensorFct, censorFctTakesPath, originalKey, n, nv, ov, kIsWc, wck, i, lastPathIndex, redactPathCurrent, store, parent, depth + 1);
    	    }
    	  }
    	}

    	/**
    	 * @typedef {object} TreeNode
    	 * @prop {TreeNode} [parent] reference to the parent of this node in the tree, or `null` if there is no parent
    	 * @prop {string} key the key that this node represents (key here being part of the path being redacted
    	 * @prop {TreeNode[]} children the child nodes of this node
    	 * @prop {number} depth the depth of this node in the tree
    	 */

    	/**
    	 * instantiate a new, empty tree
    	 * @returns {TreeNode}
    	 */
    	function tree () {
    	  return { parent: null, key: null, children: [], depth: 0 }
    	}

    	/**
    	 * creates a new node in the tree, attaching it as a child of the provided parent node
    	 * if the specified depth matches the parent depth, adds the new node as a _sibling_ of the parent instead
    	  * @param {TreeNode} parent the parent node to add a new node to (if the parent depth matches the provided `depth` value, will instead add as a sibling of this
    	  * @param {string} key the key that the new node represents (key here being part of the path being redacted)
    	  * @param {number} depth the depth of the new node in the tree - used to determing whether to add the new node as a child or sibling of the provided `parent` node
    	  * @returns {TreeNode} a reference to the newly created node in the tree
    	 */
    	function node (parent, key, depth) {
    	  if (parent.depth === depth) {
    	    return node(parent.parent, key, depth)
    	  }

    	  var child = {
    	    parent,
    	    key,
    	    depth,
    	    children: []
    	  };

    	  parent.children.push(child);

    	  return child
    	}

    	/**
    	 * @typedef {object} RestoreInstruction
    	 * @prop {string[]} path a reverse-order path that can be used to find the correct insertion point to restore a `value` for the given `parent` object
    	 * @prop {*} value the value to restore
    	 * @prop {object} target the object to restore the `value` in
    	 */

    	/**
    	 * create a restore instruction for the given redactPath node
    	 * generates a path in reverse order by walking up the redactPath tree
    	 * @param {TreeNode} node a tree node that should be at the bottom of the redact path (i.e. have no children) - this will be used to walk up the redact path tree to construct the path needed to restore
    	 * @param {*} value the value to restore
    	 * @param {object} target a reference to the parent object to apply the restore instruction to
    	 * @returns {RestoreInstruction} an instruction used to restore a nested value for a specific object
    	 */
    	function restoreInstr (node, value, target) {
    	  let current = node;
    	  const path = [];
    	  do {
    	    path.push(current.key);
    	    current = current.parent;
    	  } while (current.parent != null)

    	  return { path, value, target }
    	}
    	return modifiers;
    }

    var restorer_1;
    var hasRequiredRestorer;

    function requireRestorer () {
    	if (hasRequiredRestorer) return restorer_1;
    	hasRequiredRestorer = 1;

    	const { groupRestore, nestedRestore } = requireModifiers();

    	restorer_1 = restorer;

    	function restorer () {
    	  return function compileRestore () {
    	    if (this.restore) {
    	      this.restore.state.secret = this.secret;
    	      return
    	    }
    	    const { secret, wcLen } = this;
    	    const paths = Object.keys(secret);
    	    const resetters = resetTmpl(secret, paths);
    	    const hasWildcards = wcLen > 0;
    	    const state = hasWildcards ? { secret, groupRestore, nestedRestore } : { secret };
    	    /* eslint-disable-next-line */
    	    this.restore = Function(
    	      'o',
    	      restoreTmpl(resetters, paths, hasWildcards)
    	    ).bind(state);
    	    this.restore.state = state;
    	  }
    	}

    	/**
    	 * Mutates the original object to be censored by restoring its original values
    	 * prior to censoring.
    	 *
    	 * @param {object} secret Compiled object describing which target fields should
    	 * be censored and the field states.
    	 * @param {string[]} paths The list of paths to censor as provided at
    	 * initialization time.
    	 *
    	 * @returns {string} String of JavaScript to be used by `Function()`. The
    	 * string compiles to the function that does the work in the description.
    	 */
    	function resetTmpl (secret, paths) {
    	  return paths.map((path) => {
    	    const { circle, escPath, leadingBracket } = secret[path];
    	    const delim = leadingBracket ? '' : '.';
    	    const reset = circle
    	      ? `o.${circle} = secret[${escPath}].val`
    	      : `o${delim}${path} = secret[${escPath}].val`;
    	    const clear = `secret[${escPath}].val = undefined`;
    	    return `
      if (secret[${escPath}].val !== undefined) {
        try { ${reset} } catch (e) {}
        ${clear}
      }
    `
    	  }).join('')
    	}

    	/**
    	 * Creates the body of the restore function
    	 *
    	 * Restoration of the redacted object happens
    	 * backwards, in reverse order of redactions,
    	 * so that repeated redactions on the same object
    	 * property can be eventually rolled back to the
    	 * original value.
    	 *
    	 * This way dynamic redactions are restored first,
    	 * starting from the last one working backwards and
    	 * followed by the static ones.
    	 *
    	 * @returns {string} the body of the restore function
    	 */
    	function restoreTmpl (resetters, paths, hasWildcards) {
    	  const dynamicReset = hasWildcards === true ? `
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${paths.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  ` : '';

    	  return `
    const secret = this.secret
    ${dynamicReset}
    ${resetters}
    return o
  `
    	}
    	return restorer_1;
    }

    var state_1;
    var hasRequiredState;

    function requireState () {
    	if (hasRequiredState) return state_1;
    	hasRequiredState = 1;

    	state_1 = state;

    	function state (o) {
    	  const {
    	    secret,
    	    censor,
    	    compileRestore,
    	    serialize,
    	    groupRedact,
    	    nestedRedact,
    	    wildcards,
    	    wcLen
    	  } = o;
    	  const builder = [{ secret, censor, compileRestore }];
    	  if (serialize !== false) builder.push({ serialize });
    	  if (wcLen > 0) builder.push({ groupRedact, nestedRedact, wildcards, wcLen });
    	  return Object.assign(...builder)
    	}
    	return state_1;
    }

    var fastRedact_1;
    var hasRequiredFastRedact;

    function requireFastRedact () {
    	if (hasRequiredFastRedact) return fastRedact_1;
    	hasRequiredFastRedact = 1;

    	const validator = requireValidator();
    	const parse = requireParse();
    	const redactor = requireRedactor();
    	const restorer = requireRestorer();
    	const { groupRedact, nestedRedact } = requireModifiers();
    	const state = requireState();
    	const rx = requireRx();
    	const validate = validator();
    	const noop = (o) => o;
    	noop.restore = noop;

    	const DEFAULT_CENSOR = '[REDACTED]';
    	fastRedact.rx = rx;
    	fastRedact.validator = validator;

    	fastRedact_1 = fastRedact;

    	function fastRedact (opts = {}) {
    	  const paths = Array.from(new Set(opts.paths || []));
    	  const serialize = 'serialize' in opts ? (
    	    opts.serialize === false ? opts.serialize
    	      : (typeof opts.serialize === 'function' ? opts.serialize : JSON.stringify)
    	  ) : JSON.stringify;
    	  const remove = opts.remove;
    	  if (remove === true && serialize !== JSON.stringify) {
    	    throw Error('fast-redact – remove option may only be set when serializer is JSON.stringify')
    	  }
    	  const censor = remove === true
    	    ? undefined
    	    : 'censor' in opts ? opts.censor : DEFAULT_CENSOR;

    	  const isCensorFct = typeof censor === 'function';
    	  const censorFctTakesPath = isCensorFct && censor.length > 1;

    	  if (paths.length === 0) return serialize || noop

    	  validate({ paths, serialize, censor });

    	  const { wildcards, wcLen, secret } = parse({ paths, censor });

    	  const compileRestore = restorer();
    	  const strict = 'strict' in opts ? opts.strict : true;

    	  return redactor({ secret, wcLen, serialize, strict, isCensorFct, censorFctTakesPath }, state({
    	    secret,
    	    censor,
    	    compileRestore,
    	    serialize,
    	    groupRedact,
    	    nestedRedact,
    	    wildcards,
    	    wcLen
    	  }))
    	}
    	return fastRedact_1;
    }

    var symbols;
    var hasRequiredSymbols;

    function requireSymbols () {
    	if (hasRequiredSymbols) return symbols;
    	hasRequiredSymbols = 1;

    	const setLevelSym = Symbol('pino.setLevel');
    	const getLevelSym = Symbol('pino.getLevel');
    	const levelValSym = Symbol('pino.levelVal');
    	const useLevelLabelsSym = Symbol('pino.useLevelLabels');
    	const useOnlyCustomLevelsSym = Symbol('pino.useOnlyCustomLevels');
    	const mixinSym = Symbol('pino.mixin');

    	const lsCacheSym = Symbol('pino.lsCache');
    	const chindingsSym = Symbol('pino.chindings');
    	const parsedChindingsSym = Symbol('pino.parsedChindings');

    	const asJsonSym = Symbol('pino.asJson');
    	const writeSym = Symbol('pino.write');
    	const redactFmtSym = Symbol('pino.redactFmt');

    	const timeSym = Symbol('pino.time');
    	const timeSliceIndexSym = Symbol('pino.timeSliceIndex');
    	const streamSym = Symbol('pino.stream');
    	const stringifySym = Symbol('pino.stringify');
    	const stringifySafeSym = Symbol('pino.stringifySafe');
    	const stringifiersSym = Symbol('pino.stringifiers');
    	const endSym = Symbol('pino.end');
    	const formatOptsSym = Symbol('pino.formatOpts');
    	const messageKeySym = Symbol('pino.messageKey');
    	const nestedKeySym = Symbol('pino.nestedKey');
    	const nestedKeyStrSym = Symbol('pino.nestedKeyStr');
    	const mixinMergeStrategySym = Symbol('pino.mixinMergeStrategy');

    	const wildcardFirstSym = Symbol('pino.wildcardFirst');

    	// public symbols, no need to use the same pino
    	// version for these
    	const serializersSym = Symbol.for('pino.serializers');
    	const formattersSym = Symbol.for('pino.formatters');
    	const hooksSym = Symbol.for('pino.hooks');
    	const needsMetadataGsym = Symbol.for('pino.metadata');

    	symbols = {
    	  setLevelSym,
    	  getLevelSym,
    	  levelValSym,
    	  useLevelLabelsSym,
    	  mixinSym,
    	  lsCacheSym,
    	  chindingsSym,
    	  parsedChindingsSym,
    	  asJsonSym,
    	  writeSym,
    	  serializersSym,
    	  redactFmtSym,
    	  timeSym,
    	  timeSliceIndexSym,
    	  streamSym,
    	  stringifySym,
    	  stringifySafeSym,
    	  stringifiersSym,
    	  endSym,
    	  formatOptsSym,
    	  messageKeySym,
    	  nestedKeySym,
    	  wildcardFirstSym,
    	  needsMetadataGsym,
    	  useOnlyCustomLevelsSym,
    	  formattersSym,
    	  hooksSym,
    	  nestedKeyStrSym,
    	  mixinMergeStrategySym
    	};
    	return symbols;
    }

    var redaction_1;
    var hasRequiredRedaction;

    function requireRedaction () {
    	if (hasRequiredRedaction) return redaction_1;
    	hasRequiredRedaction = 1;

    	const fastRedact = requireFastRedact();
    	const { redactFmtSym, wildcardFirstSym } = requireSymbols();
    	const { rx, validator } = fastRedact;

    	const validate = validator({
    	  ERR_PATHS_MUST_BE_STRINGS: () => 'pino – redacted paths must be strings',
    	  ERR_INVALID_PATH: (s) => `pino – redact paths array contains an invalid path (${s})`
    	});

    	const CENSOR = '[Redacted]';
    	const strict = false; // TODO should this be configurable?

    	function redaction (opts, serialize) {
    	  const { paths, censor } = handle(opts);

    	  const shape = paths.reduce((o, str) => {
    	    rx.lastIndex = 0;
    	    const first = rx.exec(str);
    	    const next = rx.exec(str);

    	    // ns is the top-level path segment, brackets + quoting removed.
    	    let ns = first[1] !== undefined
    	      ? first[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/, '$1')
    	      : first[0];

    	    if (ns === '*') {
    	      ns = wildcardFirstSym;
    	    }

    	    // top level key:
    	    if (next === null) {
    	      o[ns] = null;
    	      return o
    	    }

    	    // path with at least two segments:
    	    // if ns is already redacted at the top level, ignore lower level redactions
    	    if (o[ns] === null) {
    	      return o
    	    }

    	    const { index } = next;
    	    const nextPath = `${str.substr(index, str.length - 1)}`;

    	    o[ns] = o[ns] || [];

    	    // shape is a mix of paths beginning with literal values and wildcard
    	    // paths [ "a.b.c", "*.b.z" ] should reduce to a shape of
    	    // { "a": [ "b.c", "b.z" ], *: [ "b.z" ] }
    	    // note: "b.z" is in both "a" and * arrays because "a" matches the wildcard.
    	    // (* entry has wildcardFirstSym as key)
    	    if (ns !== wildcardFirstSym && o[ns].length === 0) {
    	      // first time ns's get all '*' redactions so far
    	      o[ns].push(...(o[wildcardFirstSym] || []));
    	    }

    	    if (ns === wildcardFirstSym) {
    	      // new * path gets added to all previously registered literal ns's.
    	      Object.keys(o).forEach(function (k) {
    	        if (o[k]) {
    	          o[k].push(nextPath);
    	        }
    	      });
    	    }

    	    o[ns].push(nextPath);
    	    return o
    	  }, {});

    	  // the redactor assigned to the format symbol key
    	  // provides top level redaction for instances where
    	  // an object is interpolated into the msg string
    	  const result = {
    	    [redactFmtSym]: fastRedact({ paths, censor, serialize, strict })
    	  };

    	  const topCensor = (...args) => {
    	    return typeof censor === 'function' ? serialize(censor(...args)) : serialize(censor)
    	  };

    	  return [...Object.keys(shape), ...Object.getOwnPropertySymbols(shape)].reduce((o, k) => {
    	    // top level key:
    	    if (shape[k] === null) {
    	      o[k] = (value) => topCensor(value, [k]);
    	    } else {
    	      const wrappedCensor = typeof censor === 'function'
    	        ? (value, path) => {
    	            return censor(value, [k, ...path])
    	          }
    	        : censor;
    	      o[k] = fastRedact({
    	        paths: shape[k],
    	        censor: wrappedCensor,
    	        serialize,
    	        strict
    	      });
    	    }
    	    return o
    	  }, result)
    	}

    	function handle (opts) {
    	  if (Array.isArray(opts)) {
    	    opts = { paths: opts, censor: CENSOR };
    	    validate(opts);
    	    return opts
    	  }
    	  let { paths, censor = CENSOR, remove } = opts;
    	  if (Array.isArray(paths) === false) { throw Error('pino – redact must contain an array of strings') }
    	  if (remove === true) censor = undefined;
    	  validate({ paths, censor });

    	  return { paths, censor }
    	}

    	redaction_1 = redaction;
    	return redaction_1;
    }

    var time;
    var hasRequiredTime;

    function requireTime () {
    	if (hasRequiredTime) return time;
    	hasRequiredTime = 1;

    	const nullTime = () => '';

    	const epochTime = () => `,"time":${Date.now()}`;

    	const unixTime = () => `,"time":${Math.round(Date.now() / 1000.0)}`;

    	const isoTime = () => `,"time":"${new Date(Date.now()).toISOString()}"`; // using Date.now() for testability

    	time = { nullTime, epochTime, unixTime, isoTime };
    	return time;
    }

    var quickFormatUnescaped;
    var hasRequiredQuickFormatUnescaped;

    function requireQuickFormatUnescaped () {
    	if (hasRequiredQuickFormatUnescaped) return quickFormatUnescaped;
    	hasRequiredQuickFormatUnescaped = 1;
    	function tryStringify (o) {
    	  try { return JSON.stringify(o) } catch(e) { return '"[Circular]"' }
    	}

    	quickFormatUnescaped = format;

    	function format(f, args, opts) {
    	  var ss = (opts && opts.stringify) || tryStringify;
    	  var offset = 1;
    	  if (typeof f === 'object' && f !== null) {
    	    var len = args.length + offset;
    	    if (len === 1) return f
    	    var objects = new Array(len);
    	    objects[0] = ss(f);
    	    for (var index = 1; index < len; index++) {
    	      objects[index] = ss(args[index]);
    	    }
    	    return objects.join(' ')
    	  }
    	  if (typeof f !== 'string') {
    	    return f
    	  }
    	  var argLen = args.length;
    	  if (argLen === 0) return f
    	  var str = '';
    	  var a = 1 - offset;
    	  var lastPos = -1;
    	  var flen = (f && f.length) || 0;
    	  for (var i = 0; i < flen;) {
    	    if (f.charCodeAt(i) === 37 && i + 1 < flen) {
    	      lastPos = lastPos > -1 ? lastPos : 0;
    	      switch (f.charCodeAt(i + 1)) {
    	        case 100: // 'd'
    	        case 102: // 'f'
    	          if (a >= argLen)
    	            break
    	          if (args[a] == null)  break
    	          if (lastPos < i)
    	            str += f.slice(lastPos, i);
    	          str += Number(args[a]);
    	          lastPos = i + 2;
    	          i++;
    	          break
    	        case 105: // 'i'
    	          if (a >= argLen)
    	            break
    	          if (args[a] == null)  break
    	          if (lastPos < i)
    	            str += f.slice(lastPos, i);
    	          str += Math.floor(Number(args[a]));
    	          lastPos = i + 2;
    	          i++;
    	          break
    	        case 79: // 'O'
    	        case 111: // 'o'
    	        case 106: // 'j'
    	          if (a >= argLen)
    	            break
    	          if (args[a] === undefined) break
    	          if (lastPos < i)
    	            str += f.slice(lastPos, i);
    	          var type = typeof args[a];
    	          if (type === 'string') {
    	            str += '\'' + args[a] + '\'';
    	            lastPos = i + 2;
    	            i++;
    	            break
    	          }
    	          if (type === 'function') {
    	            str += args[a].name || '<anonymous>';
    	            lastPos = i + 2;
    	            i++;
    	            break
    	          }
    	          str += ss(args[a]);
    	          lastPos = i + 2;
    	          i++;
    	          break
    	        case 115: // 's'
    	          if (a >= argLen)
    	            break
    	          if (lastPos < i)
    	            str += f.slice(lastPos, i);
    	          str += String(args[a]);
    	          lastPos = i + 2;
    	          i++;
    	          break
    	        case 37: // '%'
    	          if (lastPos < i)
    	            str += f.slice(lastPos, i);
    	          str += '%';
    	          lastPos = i + 2;
    	          i++;
    	          a--;
    	          break
    	      }
    	      ++a;
    	    }
    	    ++i;
    	  }
    	  if (lastPos === -1)
    	    return f
    	  else if (lastPos < flen) {
    	    str += f.slice(lastPos);
    	  }

    	  return str
    	}
    	return quickFormatUnescaped;
    }

    var atomicSleep = {exports: {}};

    var hasRequiredAtomicSleep;

    function requireAtomicSleep () {
    	if (hasRequiredAtomicSleep) return atomicSleep.exports;
    	hasRequiredAtomicSleep = 1;

    	/* global SharedArrayBuffer, Atomics */

    	if (typeof SharedArrayBuffer !== 'undefined' && typeof Atomics !== 'undefined') {
    	  const nil = new Int32Array(new SharedArrayBuffer(4));

    	  function sleep (ms) {
    	    // also filters out NaN, non-number types, including empty strings, but allows bigints
    	    const valid = ms > 0 && ms < Infinity; 
    	    if (valid === false) {
    	      if (typeof ms !== 'number' && typeof ms !== 'bigint') {
    	        throw TypeError('sleep: ms must be a number')
    	      }
    	      throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity')
    	    }

    	    Atomics.wait(nil, 0, 0, Number(ms));
    	  }
    	  atomicSleep.exports = sleep;
    	} else {

    	  function sleep (ms) {
    	    // also filters out NaN, non-number types, including empty strings, but allows bigints
    	    const valid = ms > 0 && ms < Infinity; 
    	    if (valid === false) {
    	      if (typeof ms !== 'number' && typeof ms !== 'bigint') {
    	        throw TypeError('sleep: ms must be a number')
    	      }
    	      throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity')
    	    }
    	  }

    	  atomicSleep.exports = sleep;

    	}
    	return atomicSleep.exports;
    }

    var sonicBoom;
    var hasRequiredSonicBoom;

    function requireSonicBoom () {
    	if (hasRequiredSonicBoom) return sonicBoom;
    	hasRequiredSonicBoom = 1;

    	const fs = require$$0$5;
    	const EventEmitter = require$$0$3;
    	const inherits = require$$0$4.inherits;
    	const path = require$$2;
    	const sleep = requireAtomicSleep();

    	const BUSY_WRITE_TIMEOUT = 100;

    	// 16 KB. Don't write more than docker buffer size.
    	// https://github.com/moby/moby/blob/513ec73831269947d38a644c278ce3cac36783b2/daemon/logger/copier.go#L13
    	const MAX_WRITE = 16 * 1024;

    	function openFile (file, sonic) {
    	  sonic._opening = true;
    	  sonic._writing = true;
    	  sonic._asyncDrainScheduled = false;

    	  // NOTE: 'error' and 'ready' events emitted below only relevant when sonic.sync===false
    	  // for sync mode, there is no way to add a listener that will receive these

    	  function fileOpened (err, fd) {
    	    if (err) {
    	      sonic._reopening = false;
    	      sonic._writing = false;
    	      sonic._opening = false;

    	      if (sonic.sync) {
    	        process.nextTick(() => {
    	          if (sonic.listenerCount('error') > 0) {
    	            sonic.emit('error', err);
    	          }
    	        });
    	      } else {
    	        sonic.emit('error', err);
    	      }
    	      return
    	    }

    	    sonic.fd = fd;
    	    sonic.file = file;
    	    sonic._reopening = false;
    	    sonic._opening = false;
    	    sonic._writing = false;

    	    if (sonic.sync) {
    	      process.nextTick(() => sonic.emit('ready'));
    	    } else {
    	      sonic.emit('ready');
    	    }

    	    if (sonic._reopening) {
    	      return
    	    }

    	    // start
    	    if (!sonic._writing && sonic._len > sonic.minLength && !sonic.destroyed) {
    	      actualWrite(sonic);
    	    }
    	  }

    	  const flags = sonic.append ? 'a' : 'w';
    	  const mode = sonic.mode;

    	  if (sonic.sync) {
    	    try {
    	      if (sonic.mkdir) fs.mkdirSync(path.dirname(file), { recursive: true });
    	      const fd = fs.openSync(file, flags, mode);
    	      fileOpened(null, fd);
    	    } catch (err) {
    	      fileOpened(err);
    	      throw err
    	    }
    	  } else if (sonic.mkdir) {
    	    fs.mkdir(path.dirname(file), { recursive: true }, (err) => {
    	      if (err) return fileOpened(err)
    	      fs.open(file, flags, mode, fileOpened);
    	    });
    	  } else {
    	    fs.open(file, flags, mode, fileOpened);
    	  }
    	}

    	function SonicBoom (opts) {
    	  if (!(this instanceof SonicBoom)) {
    	    return new SonicBoom(opts)
    	  }

    	  let { fd, dest, minLength, maxLength, maxWrite, sync, append = true, mode, mkdir, retryEAGAIN } = opts || {};

    	  fd = fd || dest;

    	  this._bufs = [];
    	  this._len = 0;
    	  this.fd = -1;
    	  this._writing = false;
    	  this._writingBuf = '';
    	  this._ending = false;
    	  this._reopening = false;
    	  this._asyncDrainScheduled = false;
    	  this._hwm = Math.max(minLength || 0, 16387);
    	  this.file = null;
    	  this.destroyed = false;
    	  this.minLength = minLength || 0;
    	  this.maxLength = maxLength || 0;
    	  this.maxWrite = maxWrite || MAX_WRITE;
    	  this.sync = sync || false;
    	  this.append = append || false;
    	  this.mode = mode;
    	  this.retryEAGAIN = retryEAGAIN || (() => true);
    	  this.mkdir = mkdir || false;

    	  if (typeof fd === 'number') {
    	    this.fd = fd;
    	    process.nextTick(() => this.emit('ready'));
    	  } else if (typeof fd === 'string') {
    	    openFile(fd, this);
    	  } else {
    	    throw new Error('SonicBoom supports only file descriptors and files')
    	  }
    	  if (this.minLength >= this.maxWrite) {
    	    throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`)
    	  }

    	  this.release = (err, n) => {
    	    if (err) {
    	      if (err.code === 'EAGAIN' && this.retryEAGAIN(err, this._writingBuf.length, this._len - this._writingBuf.length)) {
    	        if (this.sync) {
    	          // This error code should not happen in sync mode, because it is
    	          // not using the underlining operating system asynchronous functions.
    	          // However it happens, and so we handle it.
    	          // Ref: https://github.com/pinojs/pino/issues/783
    	          try {
    	            sleep(BUSY_WRITE_TIMEOUT);
    	            this.release(undefined, 0);
    	          } catch (err) {
    	            this.release(err);
    	          }
    	        } else {
    	          // Let's give the destination some time to process the chunk.
    	          setTimeout(() => {
    	            fs.write(this.fd, this._writingBuf, 'utf8', this.release);
    	          }, BUSY_WRITE_TIMEOUT);
    	        }
    	      } else {
    	        this._writing = false;

    	        this.emit('error', err);
    	      }
    	      return
    	    }
    	    this.emit('write', n);

    	    this._len -= n;
    	    this._writingBuf = this._writingBuf.slice(n);

    	    if (this._writingBuf.length) {
    	      if (!this.sync) {
    	        fs.write(this.fd, this._writingBuf, 'utf8', this.release);
    	        return
    	      }

    	      try {
    	        do {
    	          const n = fs.writeSync(this.fd, this._writingBuf, 'utf8');
    	          this._len -= n;
    	          this._writingBuf = this._writingBuf.slice(n);
    	        } while (this._writingBuf)
    	      } catch (err) {
    	        this.release(err);
    	        return
    	      }
    	    }

    	    const len = this._len;
    	    if (this._reopening) {
    	      this._writing = false;
    	      this._reopening = false;
    	      this.reopen();
    	    } else if (len > this.minLength) {
    	      actualWrite(this);
    	    } else if (this._ending) {
    	      if (len > 0) {
    	        actualWrite(this);
    	      } else {
    	        this._writing = false;
    	        actualClose(this);
    	      }
    	    } else {
    	      this._writing = false;
    	      if (this.sync) {
    	        if (!this._asyncDrainScheduled) {
    	          this._asyncDrainScheduled = true;
    	          process.nextTick(emitDrain, this);
    	        }
    	      } else {
    	        this.emit('drain');
    	      }
    	    }
    	  };

    	  this.on('newListener', function (name) {
    	    if (name === 'drain') {
    	      this._asyncDrainScheduled = false;
    	    }
    	  });
    	}

    	function emitDrain (sonic) {
    	  const hasListeners = sonic.listenerCount('drain') > 0;
    	  if (!hasListeners) return
    	  sonic._asyncDrainScheduled = false;
    	  sonic.emit('drain');
    	}

    	inherits(SonicBoom, EventEmitter);

    	SonicBoom.prototype.write = function (data) {
    	  if (this.destroyed) {
    	    throw new Error('SonicBoom destroyed')
    	  }

    	  const len = this._len + data.length;
    	  const bufs = this._bufs;

    	  if (this.maxLength && len > this.maxLength) {
    	    this.emit('drop', data);
    	    return this._len < this._hwm
    	  }

    	  if (
    	    bufs.length === 0 ||
    	    bufs[bufs.length - 1].length + data.length > this.maxWrite
    	  ) {
    	    bufs.push('' + data);
    	  } else {
    	    bufs[bufs.length - 1] += data;
    	  }

    	  this._len = len;

    	  if (!this._writing && this._len >= this.minLength) {
    	    actualWrite(this);
    	  }

    	  return this._len < this._hwm
    	};

    	SonicBoom.prototype.flush = function () {
    	  if (this.destroyed) {
    	    throw new Error('SonicBoom destroyed')
    	  }

    	  if (this._writing || this.minLength <= 0) {
    	    return
    	  }

    	  if (this._bufs.length === 0) {
    	    this._bufs.push('');
    	  }

    	  actualWrite(this);
    	};

    	SonicBoom.prototype.reopen = function (file) {
    	  if (this.destroyed) {
    	    throw new Error('SonicBoom destroyed')
    	  }

    	  if (this._opening) {
    	    this.once('ready', () => {
    	      this.reopen(file);
    	    });
    	    return
    	  }

    	  if (this._ending) {
    	    return
    	  }

    	  if (!this.file) {
    	    throw new Error('Unable to reopen a file descriptor, you must pass a file to SonicBoom')
    	  }

    	  this._reopening = true;

    	  if (this._writing) {
    	    return
    	  }

    	  const fd = this.fd;
    	  this.once('ready', () => {
    	    if (fd !== this.fd) {
    	      fs.close(fd, (err) => {
    	        if (err) {
    	          return this.emit('error', err)
    	        }
    	      });
    	    }
    	  });

    	  openFile(file || this.file, this);
    	};

    	SonicBoom.prototype.end = function () {
    	  if (this.destroyed) {
    	    throw new Error('SonicBoom destroyed')
    	  }

    	  if (this._opening) {
    	    this.once('ready', () => {
    	      this.end();
    	    });
    	    return
    	  }

    	  if (this._ending) {
    	    return
    	  }

    	  this._ending = true;

    	  if (this._writing) {
    	    return
    	  }

    	  if (this._len > 0 && this.fd >= 0) {
    	    actualWrite(this);
    	  } else {
    	    actualClose(this);
    	  }
    	};

    	SonicBoom.prototype.flushSync = function () {
    	  if (this.destroyed) {
    	    throw new Error('SonicBoom destroyed')
    	  }

    	  if (this.fd < 0) {
    	    throw new Error('sonic boom is not ready yet')
    	  }

    	  if (!this._writing && this._writingBuf.length > 0) {
    	    this._bufs.unshift(this._writingBuf);
    	    this._writingBuf = '';
    	  }

    	  while (this._bufs.length) {
    	    const buf = this._bufs[0];
    	    try {
    	      this._len -= fs.writeSync(this.fd, buf, 'utf8');
    	      this._bufs.shift();
    	    } catch (err) {
    	      if (err.code !== 'EAGAIN' || !this.retryEAGAIN(err, buf.length, this._len - buf.length)) {
    	        throw err
    	      }

    	      sleep(BUSY_WRITE_TIMEOUT);
    	    }
    	  }
    	};

    	SonicBoom.prototype.destroy = function () {
    	  if (this.destroyed) {
    	    return
    	  }
    	  actualClose(this);
    	};

    	function actualWrite (sonic) {
    	  const release = sonic.release;
    	  sonic._writing = true;
    	  sonic._writingBuf = sonic._writingBuf || sonic._bufs.shift() || '';

    	  if (sonic.sync) {
    	    try {
    	      const written = fs.writeSync(sonic.fd, sonic._writingBuf, 'utf8');
    	      release(null, written);
    	    } catch (err) {
    	      release(err);
    	    }
    	  } else {
    	    fs.write(sonic.fd, sonic._writingBuf, 'utf8', release);
    	  }
    	}

    	function actualClose (sonic) {
    	  if (sonic.fd === -1) {
    	    sonic.once('ready', actualClose.bind(null, sonic));
    	    return
    	  }

    	  sonic.destroyed = true;
    	  sonic._bufs = [];

    	  if (sonic.fd !== 1 && sonic.fd !== 2) {
    	    fs.close(sonic.fd, done);
    	  } else {
    	    setImmediate(done);
    	  }

    	  function done (err) {
    	    if (err) {
    	      sonic.emit('error', err);
    	      return
    	    }

    	    if (sonic._ending && !sonic._writing) {
    	      sonic.emit('finish');
    	    }
    	    sonic.emit('close');
    	  }
    	}

    	/**
    	 * These export configurations enable JS and TS developers
    	 * to consumer SonicBoom in whatever way best suits their needs.
    	 * Some examples of supported import syntax includes:
    	 * - `const SonicBoom = require('SonicBoom')`
    	 * - `const { SonicBoom } = require('SonicBoom')`
    	 * - `import * as SonicBoom from 'SonicBoom'`
    	 * - `import { SonicBoom } from 'SonicBoom'`
    	 * - `import SonicBoom from 'SonicBoom'`
    	 */
    	SonicBoom.SonicBoom = SonicBoom;
    	SonicBoom.default = SonicBoom;
    	sonicBoom = SonicBoom;
    	return sonicBoom;
    }

    var processWarning;
    var hasRequiredProcessWarning;

    function requireProcessWarning () {
    	if (hasRequiredProcessWarning) return processWarning;
    	hasRequiredProcessWarning = 1;

    	const { format } = require$$0$4;

    	function build () {
    	  const codes = {};
    	  const emitted = new Map();

    	  function create (name, code, message) {
    	    if (!name) throw new Error('Warning name must not be empty')
    	    if (!code) throw new Error('Warning code must not be empty')
    	    if (!message) throw new Error('Warning message must not be empty')

    	    code = code.toUpperCase();

    	    if (codes[code] !== undefined) {
    	      throw new Error(`The code '${code}' already exist`)
    	    }

    	    function buildWarnOpts (a, b, c) {
    	      // more performant than spread (...) operator
    	      let formatted;
    	      if (a && b && c) {
    	        formatted = format(message, a, b, c);
    	      } else if (a && b) {
    	        formatted = format(message, a, b);
    	      } else if (a) {
    	        formatted = format(message, a);
    	      } else {
    	        formatted = message;
    	      }

    	      return {
    	        code,
    	        name,
    	        message: formatted
    	      }
    	    }

    	    emitted.set(code, false);
    	    codes[code] = buildWarnOpts;

    	    return codes[code]
    	  }

    	  function emit (code, a, b, c) {
    	    if (codes[code] === undefined) throw new Error(`The code '${code}' does not exist`)
    	    if (emitted.get(code) === true) return
    	    emitted.set(code, true);

    	    const warning = codes[code](a, b, c);
    	    process.emitWarning(warning.message, warning.name, warning.code);
    	  }

    	  return {
    	    create,
    	    emit,
    	    emitted
    	  }
    	}

    	processWarning = build;
    	return processWarning;
    }

    var deprecations;
    var hasRequiredDeprecations;

    function requireDeprecations () {
    	if (hasRequiredDeprecations) return deprecations;
    	hasRequiredDeprecations = 1;

    	const warning = requireProcessWarning()();
    	deprecations = warning;

    	const warnName = 'PinoWarning';

    	warning.create(warnName, 'PINODEP008', 'prettyPrint is deprecated, look at https://github.com/pinojs/pino-pretty for alternatives.');

    	warning.create(warnName, 'PINODEP009', 'The use of pino.final is discouraged in Node.js v14+ and not required. It will be removed in the next major version');
    	return deprecations;
    }

    var onExitLeakFree;
    var hasRequiredOnExitLeakFree;

    function requireOnExitLeakFree () {
    	if (hasRequiredOnExitLeakFree) return onExitLeakFree;
    	hasRequiredOnExitLeakFree = 1;

    	function genWrap (wraps, ref, fn, event) {
    	  function wrap () {
    	    const obj = ref.deref();
    	    // This should alway happen, however GC is
    	    // undeterministic so it might happen.
    	    /* istanbul ignore else */
    	    if (obj !== undefined) {
    	      fn(obj, event);
    	    }
    	  }

    	  wraps[event] = wrap;
    	  process.once(event, wrap);
    	}

    	const registry = new FinalizationRegistry(clear);
    	const map = new WeakMap();

    	function clear (wraps) {
    	  process.removeListener('exit', wraps.exit);
    	  process.removeListener('beforeExit', wraps.beforeExit);
    	}

    	function register (obj, fn) {
    	  if (obj === undefined) {
    	    throw new Error('the object can\'t be undefined')
    	  }
    	  const ref = new WeakRef(obj);

    	  const wraps = {};
    	  map.set(obj, wraps);
    	  registry.register(obj, wraps);

    	  genWrap(wraps, ref, fn, 'exit');
    	  genWrap(wraps, ref, fn, 'beforeExit');
    	}

    	function unregister (obj) {
    	  const wraps = map.get(obj);
    	  map.delete(obj);
    	  if (wraps) {
    	    clear(wraps);
    	  }
    	  registry.unregister(obj);
    	}

    	onExitLeakFree = {
    	  register,
    	  unregister
    	};
    	return onExitLeakFree;
    }

    var wait_1;
    var hasRequiredWait;

    function requireWait () {
    	if (hasRequiredWait) return wait_1;
    	hasRequiredWait = 1;

    	const MAX_TIMEOUT = 1000;

    	function wait (state, index, expected, timeout, done) {
    	  const max = Date.now() + timeout;
    	  let current = Atomics.load(state, index);
    	  if (current === expected) {
    	    done(null, 'ok');
    	    return
    	  }
    	  let prior = current;
    	  const check = (backoff) => {
    	    if (Date.now() > max) {
    	      done(null, 'timed-out');
    	    } else {
    	      setTimeout(() => {
    	        prior = current;
    	        current = Atomics.load(state, index);
    	        if (current === prior) {
    	          check(backoff >= MAX_TIMEOUT ? MAX_TIMEOUT : backoff * 2);
    	        } else {
    	          if (current === expected) done(null, 'ok');
    	          else done(null, 'not-equal');
    	        }
    	      }, backoff);
    	    }
    	  };
    	  check(1);
    	}

    	// let waitDiffCount = 0
    	function waitDiff (state, index, expected, timeout, done) {
    	  // const id = waitDiffCount++
    	  // process._rawDebug(`>>> waitDiff ${id}`)
    	  const max = Date.now() + timeout;
    	  let current = Atomics.load(state, index);
    	  if (current !== expected) {
    	    done(null, 'ok');
    	    return
    	  }
    	  const check = (backoff) => {
    	    // process._rawDebug(`${id} ${index} current ${current} expected ${expected}`)
    	    // process._rawDebug('' + backoff)
    	    if (Date.now() > max) {
    	      done(null, 'timed-out');
    	    } else {
    	      setTimeout(() => {
    	        current = Atomics.load(state, index);
    	        if (current !== expected) {
    	          done(null, 'ok');
    	        } else {
    	          check(backoff >= MAX_TIMEOUT ? MAX_TIMEOUT : backoff * 2);
    	        }
    	      }, backoff);
    	    }
    	  };
    	  check(1);
    	}

    	wait_1 = { wait, waitDiff };
    	return wait_1;
    }

    var indexes;
    var hasRequiredIndexes;

    function requireIndexes () {
    	if (hasRequiredIndexes) return indexes;
    	hasRequiredIndexes = 1;

    	const WRITE_INDEX = 4;
    	const READ_INDEX = 8;

    	indexes = {
    	  WRITE_INDEX,
    	  READ_INDEX
    	};
    	return indexes;
    }

    var threadStream;
    var hasRequiredThreadStream;

    function requireThreadStream () {
    	if (hasRequiredThreadStream) return threadStream;
    	hasRequiredThreadStream = 1;

    	const { EventEmitter } = require$$0$3;
    	const { Worker } = require$$1$1;
    	const { join } = require$$2;
    	const { pathToFileURL } = require$$7;
    	const { wait } = requireWait();
    	const {
    	  WRITE_INDEX,
    	  READ_INDEX
    	} = requireIndexes();
    	const buffer = require$$0$6;
    	const assert = require$$7$1;

    	const kImpl = Symbol('kImpl');

    	// V8 limit for string size
    	const MAX_STRING = buffer.constants.MAX_STRING_LENGTH;

    	class FakeWeakRef {
    	  constructor (value) {
    	    this._value = value;
    	  }

    	  deref () {
    	    return this._value
    	  }
    	}

    	const FinalizationRegistry = commonjsGlobal.FinalizationRegistry || class FakeFinalizationRegistry {
    	  register () {}
    	  unregister () {}
    	};

    	const WeakRef = commonjsGlobal.WeakRef || FakeWeakRef;

    	const registry = new FinalizationRegistry((worker) => {
    	  if (worker.exited) {
    	    return
    	  }
    	  worker.terminate();
    	});

    	function createWorker (stream, opts) {
    	  const { filename, workerData } = opts;

    	  const bundlerOverrides = '__bundlerPathsOverrides' in globalThis ? globalThis.__bundlerPathsOverrides : {};
    	  const toExecute = bundlerOverrides['thread-stream-worker'] || join(__dirname, 'lib', 'worker.js');

    	  const worker = new Worker(toExecute, {
    	    ...opts.workerOpts,
    	    workerData: {
    	      filename: filename.indexOf('file://') === 0
    	        ? filename
    	        : pathToFileURL(filename).href,
    	      dataBuf: stream[kImpl].dataBuf,
    	      stateBuf: stream[kImpl].stateBuf,
    	      workerData
    	    }
    	  });

    	  // We keep a strong reference for now,
    	  // we need to start writing first
    	  worker.stream = new FakeWeakRef(stream);

    	  worker.on('message', onWorkerMessage);
    	  worker.on('exit', onWorkerExit);
    	  registry.register(stream, worker);

    	  return worker
    	}

    	function drain (stream) {
    	  assert(!stream[kImpl].sync);
    	  if (stream[kImpl].needDrain) {
    	    stream[kImpl].needDrain = false;
    	    stream.emit('drain');
    	  }
    	}

    	function nextFlush (stream) {
    	  const writeIndex = Atomics.load(stream[kImpl].state, WRITE_INDEX);
    	  let leftover = stream[kImpl].data.length - writeIndex;

    	  if (leftover > 0) {
    	    if (stream[kImpl].buf.length === 0) {
    	      stream[kImpl].flushing = false;

    	      if (stream[kImpl].ending) {
    	        end(stream);
    	      } else if (stream[kImpl].needDrain) {
    	        process.nextTick(drain, stream);
    	      }

    	      return
    	    }

    	    let toWrite = stream[kImpl].buf.slice(0, leftover);
    	    let toWriteBytes = Buffer.byteLength(toWrite);
    	    if (toWriteBytes <= leftover) {
    	      stream[kImpl].buf = stream[kImpl].buf.slice(leftover);
    	      // process._rawDebug('writing ' + toWrite.length)
    	      write(stream, toWrite, nextFlush.bind(null, stream));
    	    } else {
    	      // multi-byte utf-8
    	      stream.flush(() => {
    	        // err is already handled in flush()
    	        if (stream.destroyed) {
    	          return
    	        }

    	        Atomics.store(stream[kImpl].state, READ_INDEX, 0);
    	        Atomics.store(stream[kImpl].state, WRITE_INDEX, 0);

    	        // Find a toWrite length that fits the buffer
    	        // it must exists as the buffer is at least 4 bytes length
    	        // and the max utf-8 length for a char is 4 bytes.
    	        while (toWriteBytes > stream[kImpl].data.length) {
    	          leftover = leftover / 2;
    	          toWrite = stream[kImpl].buf.slice(0, leftover);
    	          toWriteBytes = Buffer.byteLength(toWrite);
    	        }
    	        stream[kImpl].buf = stream[kImpl].buf.slice(leftover);
    	        write(stream, toWrite, nextFlush.bind(null, stream));
    	      });
    	    }
    	  } else if (leftover === 0) {
    	    if (writeIndex === 0 && stream[kImpl].buf.length === 0) {
    	      // we had a flushSync in the meanwhile
    	      return
    	    }
    	    stream.flush(() => {
    	      Atomics.store(stream[kImpl].state, READ_INDEX, 0);
    	      Atomics.store(stream[kImpl].state, WRITE_INDEX, 0);
    	      nextFlush(stream);
    	    });
    	  } else {
    	    // This should never happen
    	    throw new Error('overwritten')
    	  }
    	}

    	function onWorkerMessage (msg) {
    	  const stream = this.stream.deref();
    	  if (stream === undefined) {
    	    this.exited = true;
    	    // Terminate the worker.
    	    this.terminate();
    	    return
    	  }

    	  switch (msg.code) {
    	    case 'READY':
    	      // Replace the FakeWeakRef with a
    	      // proper one.
    	      this.stream = new WeakRef(stream);

    	      stream.flush(() => {
    	        stream[kImpl].ready = true;
    	        stream.emit('ready');
    	      });
    	      break
    	    case 'ERROR':
    	      destroy(stream, msg.err);
    	      break
    	    default:
    	      throw new Error('this should not happen: ' + msg.code)
    	  }
    	}

    	function onWorkerExit (code) {
    	  const stream = this.stream.deref();
    	  if (stream === undefined) {
    	    // Nothing to do, the worker already exit
    	    return
    	  }
    	  registry.unregister(stream);
    	  stream.worker.exited = true;
    	  stream.worker.off('exit', onWorkerExit);
    	  destroy(stream, code !== 0 ? new Error('The worker thread exited') : null);
    	}

    	class ThreadStream extends EventEmitter {
    	  constructor (opts = {}) {
    	    super();

    	    if (opts.bufferSize < 4) {
    	      throw new Error('bufferSize must at least fit a 4-byte utf-8 char')
    	    }

    	    this[kImpl] = {};
    	    this[kImpl].stateBuf = new SharedArrayBuffer(128);
    	    this[kImpl].state = new Int32Array(this[kImpl].stateBuf);
    	    this[kImpl].dataBuf = new SharedArrayBuffer(opts.bufferSize || 4 * 1024 * 1024);
    	    this[kImpl].data = Buffer.from(this[kImpl].dataBuf);
    	    this[kImpl].sync = opts.sync || false;
    	    this[kImpl].ending = false;
    	    this[kImpl].ended = false;
    	    this[kImpl].needDrain = false;
    	    this[kImpl].destroyed = false;
    	    this[kImpl].flushing = false;
    	    this[kImpl].ready = false;
    	    this[kImpl].finished = false;
    	    this[kImpl].errored = null;
    	    this[kImpl].closed = false;
    	    this[kImpl].buf = '';

    	    // TODO (fix): Make private?
    	    this.worker = createWorker(this, opts); // TODO (fix): make private
    	  }

    	  write (data) {
    	    if (this[kImpl].destroyed) {
    	      throw new Error('the worker has exited')
    	    }

    	    if (this[kImpl].ending) {
    	      throw new Error('the worker is ending')
    	    }

    	    if (this[kImpl].flushing && this[kImpl].buf.length + data.length >= MAX_STRING) {
    	      try {
    	        writeSync(this);
    	        this[kImpl].flushing = true;
    	      } catch (err) {
    	        destroy(this, err);
    	        return false
    	      }
    	    }

    	    this[kImpl].buf += data;

    	    if (this[kImpl].sync) {
    	      try {
    	        writeSync(this);
    	        return true
    	      } catch (err) {
    	        destroy(this, err);
    	        return false
    	      }
    	    }

    	    if (!this[kImpl].flushing) {
    	      this[kImpl].flushing = true;
    	      setImmediate(nextFlush, this);
    	    }

    	    this[kImpl].needDrain = this[kImpl].data.length - this[kImpl].buf.length - Atomics.load(this[kImpl].state, WRITE_INDEX) <= 0;
    	    return !this[kImpl].needDrain
    	  }

    	  end () {
    	    if (this[kImpl].destroyed) {
    	      return
    	    }

    	    this[kImpl].ending = true;
    	    end(this);
    	  }

    	  flush (cb) {
    	    if (this[kImpl].destroyed) {
    	      if (typeof cb === 'function') {
    	        process.nextTick(cb, new Error('the worker has exited'));
    	      }
    	      return
    	    }

    	    // TODO write all .buf
    	    const writeIndex = Atomics.load(this[kImpl].state, WRITE_INDEX);
    	    // process._rawDebug(`(flush) readIndex (${Atomics.load(this.state, READ_INDEX)}) writeIndex (${Atomics.load(this.state, WRITE_INDEX)})`)
    	    wait(this[kImpl].state, READ_INDEX, writeIndex, Infinity, (err, res) => {
    	      if (err) {
    	        destroy(this, err);
    	        process.nextTick(cb, err);
    	        return
    	      }
    	      if (res === 'not-equal') {
    	        // TODO handle deadlock
    	        this.flush(cb);
    	        return
    	      }
    	      process.nextTick(cb);
    	    });
    	  }

    	  flushSync () {
    	    if (this[kImpl].destroyed) {
    	      return
    	    }

    	    writeSync(this);
    	    flushSync(this);
    	  }

    	  unref () {
    	    this.worker.unref();
    	  }

    	  ref () {
    	    this.worker.ref();
    	  }

    	  get ready () {
    	    return this[kImpl].ready
    	  }

    	  get destroyed () {
    	    return this[kImpl].destroyed
    	  }

    	  get closed () {
    	    return this[kImpl].closed
    	  }

    	  get writable () {
    	    return !this[kImpl].destroyed && !this[kImpl].ending
    	  }

    	  get writableEnded () {
    	    return this[kImpl].ending
    	  }

    	  get writableFinished () {
    	    return this[kImpl].finished
    	  }

    	  get writableNeedDrain () {
    	    return this[kImpl].needDrain
    	  }

    	  get writableObjectMode () {
    	    return false
    	  }

    	  get writableErrored () {
    	    return this[kImpl].errored
    	  }
    	}

    	function destroy (stream, err) {
    	  if (stream[kImpl].destroyed) {
    	    return
    	  }
    	  stream[kImpl].destroyed = true;

    	  if (err) {
    	    stream[kImpl].errored = err;
    	    stream.emit('error', err);
    	  }

    	  if (!stream.worker.exited) {
    	    stream.worker.terminate()
    	      .catch(() => {})
    	      .then(() => {
    	        stream[kImpl].closed = true;
    	        stream.emit('close');
    	      });
    	  } else {
    	    setImmediate(() => {
    	      stream[kImpl].closed = true;
    	      stream.emit('close');
    	    });
    	  }
    	}

    	function write (stream, data, cb) {
    	  // data is smaller than the shared buffer length
    	  const current = Atomics.load(stream[kImpl].state, WRITE_INDEX);
    	  const length = Buffer.byteLength(data);
    	  stream[kImpl].data.write(data, current);
    	  Atomics.store(stream[kImpl].state, WRITE_INDEX, current + length);
    	  Atomics.notify(stream[kImpl].state, WRITE_INDEX);
    	  cb();
    	  return true
    	}

    	function end (stream) {
    	  if (stream[kImpl].ended || !stream[kImpl].ending || stream[kImpl].flushing) {
    	    return
    	  }
    	  stream[kImpl].ended = true;

    	  try {
    	    stream.flushSync();

    	    let readIndex = Atomics.load(stream[kImpl].state, READ_INDEX);

    	    // process._rawDebug('writing index')
    	    Atomics.store(stream[kImpl].state, WRITE_INDEX, -1);
    	    // process._rawDebug(`(end) readIndex (${Atomics.load(stream.state, READ_INDEX)}) writeIndex (${Atomics.load(stream.state, WRITE_INDEX)})`)
    	    Atomics.notify(stream[kImpl].state, WRITE_INDEX);

    	    // Wait for the process to complete
    	    let spins = 0;
    	    while (readIndex !== -1) {
    	      // process._rawDebug(`read = ${read}`)
    	      Atomics.wait(stream[kImpl].state, READ_INDEX, readIndex, 1000);
    	      readIndex = Atomics.load(stream[kImpl].state, READ_INDEX);

    	      if (readIndex === -2) {
    	        throw new Error('end() failed')
    	      }

    	      if (++spins === 10) {
    	        throw new Error('end() took too long (10s)')
    	      }
    	    }

    	    process.nextTick(() => {
    	      stream[kImpl].finished = true;
    	      stream.emit('finish');
    	    });
    	  } catch (err) {
    	    destroy(stream, err);
    	  }
    	  // process._rawDebug('end finished...')
    	}

    	function writeSync (stream) {
    	  const cb = () => {
    	    if (stream[kImpl].ending) {
    	      end(stream);
    	    } else if (stream[kImpl].needDrain) {
    	      process.nextTick(drain, stream);
    	    }
    	  };
    	  stream[kImpl].flushing = false;

    	  while (stream[kImpl].buf.length !== 0) {
    	    const writeIndex = Atomics.load(stream[kImpl].state, WRITE_INDEX);
    	    let leftover = stream[kImpl].data.length - writeIndex;
    	    if (leftover === 0) {
    	      flushSync(stream);
    	      Atomics.store(stream[kImpl].state, READ_INDEX, 0);
    	      Atomics.store(stream[kImpl].state, WRITE_INDEX, 0);
    	      continue
    	    } else if (leftover < 0) {
    	      // stream should never happen
    	      throw new Error('overwritten')
    	    }

    	    let toWrite = stream[kImpl].buf.slice(0, leftover);
    	    let toWriteBytes = Buffer.byteLength(toWrite);
    	    if (toWriteBytes <= leftover) {
    	      stream[kImpl].buf = stream[kImpl].buf.slice(leftover);
    	      // process._rawDebug('writing ' + toWrite.length)
    	      write(stream, toWrite, cb);
    	    } else {
    	      // multi-byte utf-8
    	      flushSync(stream);
    	      Atomics.store(stream[kImpl].state, READ_INDEX, 0);
    	      Atomics.store(stream[kImpl].state, WRITE_INDEX, 0);

    	      // Find a toWrite length that fits the buffer
    	      // it must exists as the buffer is at least 4 bytes length
    	      // and the max utf-8 length for a char is 4 bytes.
    	      while (toWriteBytes > stream[kImpl].buf.length) {
    	        leftover = leftover / 2;
    	        toWrite = stream[kImpl].buf.slice(0, leftover);
    	        toWriteBytes = Buffer.byteLength(toWrite);
    	      }
    	      stream[kImpl].buf = stream[kImpl].buf.slice(leftover);
    	      write(stream, toWrite, cb);
    	    }
    	  }
    	}

    	function flushSync (stream) {
    	  if (stream[kImpl].flushing) {
    	    throw new Error('unable to flush while flushing')
    	  }

    	  // process._rawDebug('flushSync started')

    	  const writeIndex = Atomics.load(stream[kImpl].state, WRITE_INDEX);

    	  let spins = 0;

    	  // TODO handle deadlock
    	  while (true) {
    	    const readIndex = Atomics.load(stream[kImpl].state, READ_INDEX);

    	    if (readIndex === -2) {
    	      throw new Error('_flushSync failed')
    	    }

    	    // process._rawDebug(`(flushSync) readIndex (${readIndex}) writeIndex (${writeIndex})`)
    	    if (readIndex !== writeIndex) {
    	      // TODO stream timeouts for some reason.
    	      Atomics.wait(stream[kImpl].state, READ_INDEX, readIndex, 1000);
    	    } else {
    	      break
    	    }

    	    if (++spins === 10) {
    	      throw new Error('_flushSync took too long (10s)')
    	    }
    	  }
    	  // process._rawDebug('flushSync finished')
    	}

    	threadStream = ThreadStream;
    	return threadStream;
    }

    var transport_1;
    var hasRequiredTransport;

    function requireTransport () {
    	if (hasRequiredTransport) return transport_1;
    	hasRequiredTransport = 1;

    	const { createRequire } = require$$0$7;
    	const getCallers = requireCaller();
    	const { join, isAbsolute } = require$$2;
    	const sleep = requireAtomicSleep();

    	let onExit;

    	if (commonjsGlobal.WeakRef && commonjsGlobal.WeakMap && commonjsGlobal.FinalizationRegistry) {
    	  // This require MUST be top level otherwise the transport would
    	  // not work from within Jest as it hijacks require.
    	  onExit = requireOnExitLeakFree();
    	}

    	const ThreadStream = requireThreadStream();

    	function setupOnExit (stream) {
    	  /* istanbul ignore next */
    	  if (onExit) {
    	    // This is leak free, it does not leave event handlers
    	    onExit.register(stream, autoEnd);

    	    stream.on('close', function () {
    	      onExit.unregister(stream);
    	    });
    	  } else {
    	    const fn = autoEnd.bind(null, stream);
    	    process.once('beforeExit', fn);
    	    process.once('exit', fn);

    	    stream.on('close', function () {
    	      process.removeListener('beforeExit', fn);
    	      process.removeListener('exit', fn);
    	    });
    	  }
    	}

    	function buildStream (filename, workerData, workerOpts) {
    	  const stream = new ThreadStream({
    	    filename,
    	    workerData,
    	    workerOpts
    	  });

    	  stream.on('ready', onReady);
    	  stream.on('close', function () {
    	    process.removeListener('exit', onExit);
    	  });

    	  process.on('exit', onExit);

    	  function onReady () {
    	    process.removeListener('exit', onExit);
    	    stream.unref();

    	    if (workerOpts.autoEnd !== false) {
    	      setupOnExit(stream);
    	    }
    	  }

    	  function onExit () {
    	    if (stream.closed) {
    	      return
    	    }
    	    stream.flushSync();
    	    // Apparently there is a very sporadic race condition
    	    // that in certain OS would prevent the messages to be flushed
    	    // because the thread might not have been created still.
    	    // Unfortunately we need to sleep(100) in this case.
    	    sleep(100);
    	    stream.end();
    	  }

    	  return stream
    	}

    	function autoEnd (stream) {
    	  stream.ref();
    	  stream.flushSync();
    	  stream.end();
    	  stream.once('close', function () {
    	    stream.unref();
    	  });
    	}

    	function transport (fullOptions) {
    	  const { pipeline, targets, levels, options = {}, worker = {}, caller = getCallers() } = fullOptions;

    	  // Backwards compatibility
    	  const callers = typeof caller === 'string' ? [caller] : caller;

    	  // This will be eventually modified by bundlers
    	  const bundlerOverrides = '__bundlerPathsOverrides' in globalThis ? globalThis.__bundlerPathsOverrides : {};

    	  let target = fullOptions.target;

    	  if (target && targets) {
    	    throw new Error('only one of target or targets can be specified')
    	  }

    	  if (targets) {
    	    target = bundlerOverrides['pino-worker'] || join(__dirname, 'worker.js');
    	    options.targets = targets.map((dest) => {
    	      return {
    	        ...dest,
    	        target: fixTarget(dest.target)
    	      }
    	    });
    	  } else if (pipeline) {
    	    target = bundlerOverrides['pino-pipeline-worker'] || join(__dirname, 'worker-pipeline.js');
    	    options.targets = pipeline.map((dest) => {
    	      return {
    	        ...dest,
    	        target: fixTarget(dest.target)
    	      }
    	    });
    	  }

    	  if (levels) {
    	    options.levels = levels;
    	  }

    	  return buildStream(fixTarget(target), options, worker)

    	  function fixTarget (origin) {
    	    origin = bundlerOverrides[origin] || origin;

    	    if (isAbsolute(origin) || origin.indexOf('file://') === 0) {
    	      return origin
    	    }

    	    if (origin === 'pino/file') {
    	      return join(__dirname, '..', 'file.js')
    	    }

    	    let fixTarget;

    	    for (const filePath of callers) {
    	      try {
    	        fixTarget = createRequire(filePath).resolve(origin);
    	        break
    	      } catch (err) {
    	        // Silent catch
    	        continue
    	      }
    	    }

    	    if (!fixTarget) {
    	      throw new Error(`unable to determine transport target for "${origin}"`)
    	    }

    	    return fixTarget
    	  }
    	}

    	transport_1 = transport;
    	return transport_1;
    }

    var tools;
    var hasRequiredTools;

    function requireTools () {
    	if (hasRequiredTools) return tools;
    	hasRequiredTools = 1;

    	/* eslint no-prototype-builtins: 0 */

    	const format = requireQuickFormatUnescaped();
    	const { mapHttpRequest, mapHttpResponse } = requirePinoStdSerializers();
    	const SonicBoom = requireSonicBoom();
    	const warning = requireDeprecations();
    	const {
    	  lsCacheSym,
    	  chindingsSym,
    	  parsedChindingsSym,
    	  writeSym,
    	  serializersSym,
    	  formatOptsSym,
    	  endSym,
    	  stringifiersSym,
    	  stringifySym,
    	  stringifySafeSym,
    	  wildcardFirstSym,
    	  needsMetadataGsym,
    	  redactFmtSym,
    	  streamSym,
    	  nestedKeySym,
    	  formattersSym,
    	  messageKeySym,
    	  nestedKeyStrSym
    	} = requireSymbols();
    	const { isMainThread } = require$$1$1;
    	const transport = requireTransport();

    	function noop () {}

    	function genLog (level, hook) {
    	  if (!hook) return LOG

    	  return function hookWrappedLog (...args) {
    	    hook.call(this, args, LOG, level);
    	  }

    	  function LOG (o, ...n) {
    	    if (typeof o === 'object') {
    	      let msg = o;
    	      if (o !== null) {
    	        if (o.method && o.headers && o.socket) {
    	          o = mapHttpRequest(o);
    	        } else if (typeof o.setHeader === 'function') {
    	          o = mapHttpResponse(o);
    	        }
    	      }
    	      let formatParams;
    	      if (msg === null && n.length === 0) {
    	        formatParams = [null];
    	      } else {
    	        msg = n.shift();
    	        formatParams = n;
    	      }
    	      this[writeSym](o, format(msg, formatParams, this[formatOptsSym]), level);
    	    } else {
    	      this[writeSym](null, format(o, n, this[formatOptsSym]), level);
    	    }
    	  }
    	}

    	// magically escape strings for json
    	// relying on their charCodeAt
    	// everything below 32 needs JSON.stringify()
    	// 34 and 92 happens all the time, so we
    	// have a fast case for them
    	function asString (str) {
    	  let result = '';
    	  let last = 0;
    	  let found = false;
    	  let point = 255;
    	  const l = str.length;
    	  if (l > 100) {
    	    return JSON.stringify(str)
    	  }
    	  for (var i = 0; i < l && point >= 32; i++) {
    	    point = str.charCodeAt(i);
    	    if (point === 34 || point === 92) {
    	      result += str.slice(last, i) + '\\';
    	      last = i;
    	      found = true;
    	    }
    	  }
    	  if (!found) {
    	    result = str;
    	  } else {
    	    result += str.slice(last);
    	  }
    	  return point < 32 ? JSON.stringify(str) : '"' + result + '"'
    	}

    	function asJson (obj, msg, num, time) {
    	  const stringify = this[stringifySym];
    	  const stringifySafe = this[stringifySafeSym];
    	  const stringifiers = this[stringifiersSym];
    	  const end = this[endSym];
    	  const chindings = this[chindingsSym];
    	  const serializers = this[serializersSym];
    	  const formatters = this[formattersSym];
    	  const messageKey = this[messageKeySym];
    	  let data = this[lsCacheSym][num] + time;

    	  // we need the child bindings added to the output first so instance logged
    	  // objects can take precedence when JSON.parse-ing the resulting log line
    	  data = data + chindings;

    	  let value;
    	  if (formatters.log) {
    	    obj = formatters.log(obj);
    	  }
    	  const wildcardStringifier = stringifiers[wildcardFirstSym];
    	  let propStr = '';
    	  for (const key in obj) {
    	    value = obj[key];
    	    if (Object.prototype.hasOwnProperty.call(obj, key) && value !== undefined) {
    	      value = serializers[key] ? serializers[key](value) : value;

    	      const stringifier = stringifiers[key] || wildcardStringifier;

    	      switch (typeof value) {
    	        case 'undefined':
    	        case 'function':
    	          continue
    	        case 'number':
    	          /* eslint no-fallthrough: "off" */
    	          if (Number.isFinite(value) === false) {
    	            value = null;
    	          }
    	        // this case explicitly falls through to the next one
    	        case 'boolean':
    	          if (stringifier) value = stringifier(value);
    	          break
    	        case 'string':
    	          value = (stringifier || asString)(value);
    	          break
    	        default:
    	          value = (stringifier || stringify)(value, stringifySafe);
    	      }
    	      if (value === undefined) continue
    	      propStr += ',"' + key + '":' + value;
    	    }
    	  }

    	  let msgStr = '';
    	  if (msg !== undefined) {
    	    value = serializers[messageKey] ? serializers[messageKey](msg) : msg;
    	    const stringifier = stringifiers[messageKey] || wildcardStringifier;

    	    switch (typeof value) {
    	      case 'function':
    	        break
    	      case 'number':
    	        /* eslint no-fallthrough: "off" */
    	        if (Number.isFinite(value) === false) {
    	          value = null;
    	        }
    	      // this case explicitly falls through to the next one
    	      case 'boolean':
    	        if (stringifier) value = stringifier(value);
    	        msgStr = ',"' + messageKey + '":' + value;
    	        break
    	      case 'string':
    	        value = (stringifier || asString)(value);
    	        msgStr = ',"' + messageKey + '":' + value;
    	        break
    	      default:
    	        value = (stringifier || stringify)(value, stringifySafe);
    	        msgStr = ',"' + messageKey + '":' + value;
    	    }
    	  }

    	  if (this[nestedKeySym] && propStr) {
    	    // place all the obj properties under the specified key
    	    // the nested key is already formatted from the constructor
    	    return data + this[nestedKeyStrSym] + propStr.slice(1) + '}' + msgStr + end
    	  } else {
    	    return data + propStr + msgStr + end
    	  }
    	}

    	function asChindings (instance, bindings) {
    	  let value;
    	  let data = instance[chindingsSym];
    	  const stringify = instance[stringifySym];
    	  const stringifySafe = instance[stringifySafeSym];
    	  const stringifiers = instance[stringifiersSym];
    	  const wildcardStringifier = stringifiers[wildcardFirstSym];
    	  const serializers = instance[serializersSym];
    	  const formatter = instance[formattersSym].bindings;
    	  bindings = formatter(bindings);

    	  for (const key in bindings) {
    	    value = bindings[key];
    	    const valid = key !== 'level' &&
    	      key !== 'serializers' &&
    	      key !== 'formatters' &&
    	      key !== 'customLevels' &&
    	      bindings.hasOwnProperty(key) &&
    	      value !== undefined;
    	    if (valid === true) {
    	      value = serializers[key] ? serializers[key](value) : value;
    	      value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe);
    	      if (value === undefined) continue
    	      data += ',"' + key + '":' + value;
    	    }
    	  }
    	  return data
    	}

    	function getPrettyStream (opts, prettifier, dest, instance) {
    	  if (prettifier && typeof prettifier === 'function') {
    	    prettifier = prettifier.bind(instance);
    	    return prettifierMetaWrapper(prettifier(opts), dest, opts)
    	  }
    	  try {
    	    const prettyFactory = require('pino-pretty').prettyFactory;
    	    prettyFactory.asMetaWrapper = prettifierMetaWrapper;
    	    return prettifierMetaWrapper(prettyFactory(opts), dest, opts)
    	  } catch (e) {
    	    if (e.message.startsWith("Cannot find module 'pino-pretty'")) {
    	      throw Error('Missing `pino-pretty` module: `pino-pretty` must be installed separately')
    	    }	    throw e
    	  }
    	}

    	function prettifierMetaWrapper (pretty, dest, opts) {
    	  opts = Object.assign({ suppressFlushSyncWarning: false }, opts);
    	  let warned = false;
    	  return {
    	    [needsMetadataGsym]: true,
    	    lastLevel: 0,
    	    lastMsg: null,
    	    lastObj: null,
    	    lastLogger: null,
    	    flushSync () {
    	      if (opts.suppressFlushSyncWarning || warned) {
    	        return
    	      }
    	      warned = true;
    	      setMetadataProps(dest, this);
    	      dest.write(pretty(Object.assign({
    	        level: 40, // warn
    	        msg: 'pino.final with prettyPrint does not support flushing',
    	        time: Date.now()
    	      }, this.chindings())));
    	    },
    	    chindings () {
    	      const lastLogger = this.lastLogger;
    	      let chindings = null;

    	      // protection against flushSync being called before logging
    	      // anything
    	      if (!lastLogger) {
    	        return null
    	      }

    	      if (lastLogger.hasOwnProperty(parsedChindingsSym)) {
    	        chindings = lastLogger[parsedChindingsSym];
    	      } else {
    	        chindings = JSON.parse('{' + lastLogger[chindingsSym].substr(1) + '}');
    	        lastLogger[parsedChindingsSym] = chindings;
    	      }

    	      return chindings
    	    },
    	    write (chunk) {
    	      const lastLogger = this.lastLogger;
    	      const chindings = this.chindings();

    	      let time = this.lastTime;

    	      /* istanbul ignore next */
    	      if (typeof time === 'number') ; else if (time.match(/^\d+/)) {
    	        time = parseInt(time);
    	      } else {
    	        time = time.slice(1, -1);
    	      }

    	      const lastObj = this.lastObj;
    	      const lastMsg = this.lastMsg;
    	      const errorProps = null;

    	      const formatters = lastLogger[formattersSym];
    	      const formattedObj = formatters.log ? formatters.log(lastObj) : lastObj;

    	      const messageKey = lastLogger[messageKeySym];
    	      if (lastMsg && formattedObj && !Object.prototype.hasOwnProperty.call(formattedObj, messageKey)) {
    	        formattedObj[messageKey] = lastMsg;
    	      }

    	      const obj = Object.assign({
    	        level: this.lastLevel,
    	        time
    	      }, formattedObj, errorProps);

    	      const serializers = lastLogger[serializersSym];
    	      const keys = Object.keys(serializers);

    	      for (var i = 0; i < keys.length; i++) {
    	        const key = keys[i];
    	        if (obj[key] !== undefined) {
    	          obj[key] = serializers[key](obj[key]);
    	        }
    	      }

    	      for (const key in chindings) {
    	        if (!obj.hasOwnProperty(key)) {
    	          obj[key] = chindings[key];
    	        }
    	      }

    	      const stringifiers = lastLogger[stringifiersSym];
    	      const redact = stringifiers[redactFmtSym];

    	      const formatted = pretty(typeof redact === 'function' ? redact(obj) : obj);
    	      if (formatted === undefined) return

    	      setMetadataProps(dest, this);
    	      dest.write(formatted);
    	    }
    	  }
    	}

    	function hasBeenTampered (stream) {
    	  return stream.write !== stream.constructor.prototype.write
    	}

    	function buildSafeSonicBoom (opts) {
    	  const stream = new SonicBoom(opts);
    	  stream.on('error', filterBrokenPipe);
    	  // if we are sync: false, we must flush on exit
    	  if (!opts.sync && isMainThread) {
    	    setupOnExit(stream);
    	  }
    	  return stream

    	  function filterBrokenPipe (err) {
    	    // TODO verify on Windows
    	    if (err.code === 'EPIPE') {
    	      // If we get EPIPE, we should stop logging here
    	      // however we have no control to the consumer of
    	      // SonicBoom, so we just overwrite the write method
    	      stream.write = noop;
    	      stream.end = noop;
    	      stream.flushSync = noop;
    	      stream.destroy = noop;
    	      return
    	    }
    	    stream.removeListener('error', filterBrokenPipe);
    	    stream.emit('error', err);
    	  }
    	}

    	function setupOnExit (stream) {
    	  /* istanbul ignore next */
    	  if (commonjsGlobal.WeakRef && commonjsGlobal.WeakMap && commonjsGlobal.FinalizationRegistry) {
    	    // This is leak free, it does not leave event handlers
    	    const onExit = requireOnExitLeakFree();

    	    onExit.register(stream, autoEnd);

    	    stream.on('close', function () {
    	      onExit.unregister(stream);
    	    });
    	  }
    	}

    	function autoEnd (stream, eventName) {
    	  // This check is needed only on some platforms
    	  /* istanbul ignore next */
    	  if (stream.destroyed) {
    	    return
    	  }

    	  if (eventName === 'beforeExit') {
    	    // We still have an event loop, let's use it
    	    stream.flush();
    	    stream.on('drain', function () {
    	      stream.end();
    	    });
    	  } else {
    	    // We do not have an event loop, so flush synchronously
    	    stream.flushSync();
    	  }
    	}

    	function createArgsNormalizer (defaultOptions) {
    	  return function normalizeArgs (instance, caller, opts = {}, stream) {
    	    // support stream as a string
    	    if (typeof opts === 'string') {
    	      stream = buildSafeSonicBoom({ dest: opts, sync: true });
    	      opts = {};
    	    } else if (typeof stream === 'string') {
    	      if (opts && opts.transport) {
    	        throw Error('only one of option.transport or stream can be specified')
    	      }
    	      stream = buildSafeSonicBoom({ dest: stream, sync: true });
    	    } else if (opts instanceof SonicBoom || opts.writable || opts._writableState) {
    	      stream = opts;
    	      opts = {};
    	    } else if (opts.transport) {
    	      if (opts.transport instanceof SonicBoom || opts.transport.writable || opts.transport._writableState) {
    	        throw Error('option.transport do not allow stream, please pass to option directly. e.g. pino(transport)')
    	      }
    	      if (opts.transport.targets && opts.transport.targets.length && opts.formatters && typeof opts.formatters.level === 'function') {
    	        throw Error('option.transport.targets do not allow custom level formatters')
    	      }

    	      let customLevels;
    	      if (opts.customLevels) {
    	        customLevels = opts.useOnlyCustomLevels ? opts.customLevels : Object.assign({}, opts.levels, opts.customLevels);
    	      }
    	      stream = transport({ caller, ...opts.transport, levels: customLevels });
    	    }
    	    opts = Object.assign({}, defaultOptions, opts);
    	    opts.serializers = Object.assign({}, defaultOptions.serializers, opts.serializers);
    	    opts.formatters = Object.assign({}, defaultOptions.formatters, opts.formatters);

    	    if ('onTerminated' in opts) {
    	      throw Error('The onTerminated option has been removed, use pino.final instead')
    	    }
    	    if ('changeLevelName' in opts) {
    	      process.emitWarning(
    	        'The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.',
    	        { code: 'changeLevelName_deprecation' }
    	      );
    	      opts.levelKey = opts.changeLevelName;
    	      delete opts.changeLevelName;
    	    }
    	    const { enabled, prettyPrint, prettifier, messageKey } = opts;
    	    if (enabled === false) opts.level = 'silent';
    	    stream = stream || process.stdout;
    	    if (stream === process.stdout && stream.fd >= 0 && !hasBeenTampered(stream)) {
    	      stream = buildSafeSonicBoom({ fd: stream.fd, sync: true });
    	    }
    	    if (prettyPrint) {
    	      warning.emit('PINODEP008');
    	      const prettyOpts = Object.assign({ messageKey }, prettyPrint);
    	      stream = getPrettyStream(prettyOpts, prettifier, stream, instance);
    	    }
    	    return { opts, stream }
    	  }
    	}

    	function final (logger, handler) {
    	  const major = Number(process.versions.node.split('.')[0]);
    	  if (major >= 14) warning.emit('PINODEP009');

    	  if (typeof logger === 'undefined' || typeof logger.child !== 'function') {
    	    throw Error('expected a pino logger instance')
    	  }
    	  const hasHandler = (typeof handler !== 'undefined');
    	  if (hasHandler && typeof handler !== 'function') {
    	    throw Error('if supplied, the handler parameter should be a function')
    	  }
    	  const stream = logger[streamSym];
    	  if (typeof stream.flushSync !== 'function') {
    	    throw Error('final requires a stream that has a flushSync method, such as pino.destination')
    	  }

    	  const finalLogger = new Proxy(logger, {
    	    get: (logger, key) => {
    	      if (key in logger.levels.values) {
    	        return (...args) => {
    	          logger[key](...args);
    	          stream.flushSync();
    	        }
    	      }
    	      return logger[key]
    	    }
    	  });

    	  if (!hasHandler) {
    	    try {
    	      stream.flushSync();
    	    } catch {
    	      // it's too late to wait for the stream to be ready
    	      // because this is a final tick scenario.
    	      // in practice there shouldn't be a situation where it isn't
    	      // however, swallow the error just in case (and for easier testing)
    	    }
    	    return finalLogger
    	  }

    	  return (err = null, ...args) => {
    	    try {
    	      stream.flushSync();
    	    } catch (e) {
    	      // it's too late to wait for the stream to be ready
    	      // because this is a final tick scenario.
    	      // in practice there shouldn't be a situation where it isn't
    	      // however, swallow the error just in case (and for easier testing)
    	    }
    	    return handler(err, finalLogger, ...args)
    	  }
    	}

    	function stringify (obj, stringifySafeFn) {
    	  try {
    	    return JSON.stringify(obj)
    	  } catch (_) {
    	    try {
    	      const stringify = stringifySafeFn || this[stringifySafeSym];
    	      return stringify(obj)
    	    } catch (_) {
    	      return '"[unable to serialize, circular reference is too complex to analyze]"'
    	    }
    	  }
    	}

    	function buildFormatters (level, bindings, log) {
    	  return {
    	    level,
    	    bindings,
    	    log
    	  }
    	}

    	function setMetadataProps (dest, that) {
    	  if (dest[needsMetadataGsym] === true) {
    	    dest.lastLevel = that.lastLevel;
    	    dest.lastMsg = that.lastMsg;
    	    dest.lastObj = that.lastObj;
    	    dest.lastTime = that.lastTime;
    	    dest.lastLogger = that.lastLogger;
    	  }
    	}

    	/**
    	 * Convert a string integer file descriptor to a proper native integer
    	 * file descriptor.
    	 *
    	 * @param {string} destination The file descriptor string to attempt to convert.
    	 *
    	 * @returns {Number}
    	 */
    	function normalizeDestFileDescriptor (destination) {
    	  const fd = Number(destination);
    	  if (typeof destination === 'string' && Number.isFinite(fd)) {
    	    return fd
    	  }
    	  return destination
    	}

    	tools = {
    	  noop,
    	  buildSafeSonicBoom,
    	  getPrettyStream,
    	  asChindings,
    	  asJson,
    	  genLog,
    	  createArgsNormalizer,
    	  final,
    	  stringify,
    	  buildFormatters,
    	  normalizeDestFileDescriptor
    	};
    	return tools;
    }

    var levels_1;
    var hasRequiredLevels;

    function requireLevels () {
    	if (hasRequiredLevels) return levels_1;
    	hasRequiredLevels = 1;
    	/* eslint no-prototype-builtins: 0 */
    	const {
    	  lsCacheSym,
    	  levelValSym,
    	  useOnlyCustomLevelsSym,
    	  streamSym,
    	  formattersSym,
    	  hooksSym
    	} = requireSymbols();
    	const { noop, genLog } = requireTools();

    	const levels = {
    	  trace: 10,
    	  debug: 20,
    	  info: 30,
    	  warn: 40,
    	  error: 50,
    	  fatal: 60
    	};
    	const levelMethods = {
    	  fatal: (hook) => {
    	    const logFatal = genLog(levels.fatal, hook);
    	    return function (...args) {
    	      const stream = this[streamSym];
    	      logFatal.call(this, ...args);
    	      if (typeof stream.flushSync === 'function') {
    	        try {
    	          stream.flushSync();
    	        } catch (e) {
    	          // https://github.com/pinojs/pino/pull/740#discussion_r346788313
    	        }
    	      }
    	    }
    	  },
    	  error: (hook) => genLog(levels.error, hook),
    	  warn: (hook) => genLog(levels.warn, hook),
    	  info: (hook) => genLog(levels.info, hook),
    	  debug: (hook) => genLog(levels.debug, hook),
    	  trace: (hook) => genLog(levels.trace, hook)
    	};

    	const nums = Object.keys(levels).reduce((o, k) => {
    	  o[levels[k]] = k;
    	  return o
    	}, {});

    	const initialLsCache = Object.keys(nums).reduce((o, k) => {
    	  o[k] = '{"level":' + Number(k);
    	  return o
    	}, {});

    	function genLsCache (instance) {
    	  const formatter = instance[formattersSym].level;
    	  const { labels } = instance.levels;
    	  const cache = {};
    	  for (const label in labels) {
    	    const level = formatter(labels[label], Number(label));
    	    cache[label] = JSON.stringify(level).slice(0, -1);
    	  }
    	  instance[lsCacheSym] = cache;
    	  return instance
    	}

    	function isStandardLevel (level, useOnlyCustomLevels) {
    	  if (useOnlyCustomLevels) {
    	    return false
    	  }

    	  switch (level) {
    	    case 'fatal':
    	    case 'error':
    	    case 'warn':
    	    case 'info':
    	    case 'debug':
    	    case 'trace':
    	      return true
    	    default:
    	      return false
    	  }
    	}

    	function setLevel (level) {
    	  const { labels, values } = this.levels;
    	  if (typeof level === 'number') {
    	    if (labels[level] === undefined) throw Error('unknown level value' + level)
    	    level = labels[level];
    	  }
    	  if (values[level] === undefined) throw Error('unknown level ' + level)
    	  const preLevelVal = this[levelValSym];
    	  const levelVal = this[levelValSym] = values[level];
    	  const useOnlyCustomLevelsVal = this[useOnlyCustomLevelsSym];
    	  const hook = this[hooksSym].logMethod;

    	  for (const key in values) {
    	    if (levelVal > values[key]) {
    	      this[key] = noop;
    	      continue
    	    }
    	    this[key] = isStandardLevel(key, useOnlyCustomLevelsVal) ? levelMethods[key](hook) : genLog(values[key], hook);
    	  }

    	  this.emit(
    	    'level-change',
    	    level,
    	    levelVal,
    	    labels[preLevelVal],
    	    preLevelVal
    	  );
    	}

    	function getLevel (level) {
    	  const { levels, levelVal } = this;
    	  // protection against potential loss of Pino scope from serializers (edge case with circular refs - https://github.com/pinojs/pino/issues/833)
    	  return (levels && levels.labels) ? levels.labels[levelVal] : ''
    	}

    	function isLevelEnabled (logLevel) {
    	  const { values } = this.levels;
    	  const logLevelVal = values[logLevel];
    	  return logLevelVal !== undefined && (logLevelVal >= this[levelValSym])
    	}

    	function mappings (customLevels = null, useOnlyCustomLevels = false) {
    	  const customNums = customLevels
    	    /* eslint-disable */
    	    ? Object.keys(customLevels).reduce((o, k) => {
    	        o[customLevels[k]] = k;
    	        return o
    	      }, {})
    	    : null;
    	    /* eslint-enable */

    	  const labels = Object.assign(
    	    Object.create(Object.prototype, { Infinity: { value: 'silent' } }),
    	    useOnlyCustomLevels ? null : nums,
    	    customNums
    	  );
    	  const values = Object.assign(
    	    Object.create(Object.prototype, { silent: { value: Infinity } }),
    	    useOnlyCustomLevels ? null : levels,
    	    customLevels
    	  );
    	  return { labels, values }
    	}

    	function assertDefaultLevelFound (defaultLevel, customLevels, useOnlyCustomLevels) {
    	  if (typeof defaultLevel === 'number') {
    	    const values = [].concat(
    	      Object.keys(customLevels || {}).map(key => customLevels[key]),
    	      useOnlyCustomLevels ? [] : Object.keys(nums).map(level => +level),
    	      Infinity
    	    );
    	    if (!values.includes(defaultLevel)) {
    	      throw Error(`default level:${defaultLevel} must be included in custom levels`)
    	    }
    	    return
    	  }

    	  const labels = Object.assign(
    	    Object.create(Object.prototype, { silent: { value: Infinity } }),
    	    useOnlyCustomLevels ? null : levels,
    	    customLevels
    	  );
    	  if (!(defaultLevel in labels)) {
    	    throw Error(`default level:${defaultLevel} must be included in custom levels`)
    	  }
    	}

    	function assertNoLevelCollisions (levels, customLevels) {
    	  const { labels, values } = levels;
    	  for (const k in customLevels) {
    	    if (k in values) {
    	      throw Error('levels cannot be overridden')
    	    }
    	    if (customLevels[k] in labels) {
    	      throw Error('pre-existing level values cannot be used for new levels')
    	    }
    	  }
    	}

    	levels_1 = {
    	  initialLsCache,
    	  genLsCache,
    	  levelMethods,
    	  getLevel,
    	  setLevel,
    	  isLevelEnabled,
    	  mappings,
    	  levels,
    	  assertNoLevelCollisions,
    	  assertDefaultLevelFound
    	};
    	return levels_1;
    }

    var version$9 = "7.11.0";
    var require$$0$1 = {
    	version: version$9};

    var meta;
    var hasRequiredMeta;

    function requireMeta () {
    	if (hasRequiredMeta) return meta;
    	hasRequiredMeta = 1;

    	const { version } = require$$0$1;

    	meta = { version };
    	return meta;
    }

    var proto;
    var hasRequiredProto;

    function requireProto () {
    	if (hasRequiredProto) return proto;
    	hasRequiredProto = 1;

    	/* eslint no-prototype-builtins: 0 */

    	const { EventEmitter } = require$$0$3;
    	const {
    	  lsCacheSym,
    	  levelValSym,
    	  setLevelSym,
    	  getLevelSym,
    	  chindingsSym,
    	  parsedChindingsSym,
    	  mixinSym,
    	  asJsonSym,
    	  writeSym,
    	  mixinMergeStrategySym,
    	  timeSym,
    	  timeSliceIndexSym,
    	  streamSym,
    	  serializersSym,
    	  formattersSym,
    	  useOnlyCustomLevelsSym,
    	  needsMetadataGsym,
    	  redactFmtSym,
    	  stringifySym,
    	  formatOptsSym,
    	  stringifiersSym
    	} = requireSymbols();
    	const {
    	  getLevel,
    	  setLevel,
    	  isLevelEnabled,
    	  mappings,
    	  initialLsCache,
    	  genLsCache,
    	  assertNoLevelCollisions
    	} = requireLevels();
    	const {
    	  asChindings,
    	  asJson,
    	  buildFormatters,
    	  stringify
    	} = requireTools();
    	const {
    	  version
    	} = requireMeta();
    	const redaction = requireRedaction();

    	// note: use of class is satirical
    	// https://github.com/pinojs/pino/pull/433#pullrequestreview-127703127
    	const constructor = class Pino {};
    	const prototype = {
    	  constructor,
    	  child,
    	  bindings,
    	  setBindings,
    	  flush,
    	  isLevelEnabled,
    	  version,
    	  get level () { return this[getLevelSym]() },
    	  set level (lvl) { this[setLevelSym](lvl); },
    	  get levelVal () { return this[levelValSym] },
    	  set levelVal (n) { throw Error('levelVal is read-only') },
    	  [lsCacheSym]: initialLsCache,
    	  [writeSym]: write,
    	  [asJsonSym]: asJson,
    	  [getLevelSym]: getLevel,
    	  [setLevelSym]: setLevel
    	};

    	Object.setPrototypeOf(prototype, EventEmitter.prototype);

    	// exporting and consuming the prototype object using factory pattern fixes scoping issues with getters when serializing
    	proto = function () {
    	  return Object.create(prototype)
    	};

    	const resetChildingsFormatter = bindings => bindings;
    	function child (bindings, options) {
    	  if (!bindings) {
    	    throw Error('missing bindings for child Pino')
    	  }
    	  options = options || {}; // default options to empty object
    	  const serializers = this[serializersSym];
    	  const formatters = this[formattersSym];
    	  const instance = Object.create(this);

    	  if (options.hasOwnProperty('serializers') === true) {
    	    instance[serializersSym] = Object.create(null);

    	    for (const k in serializers) {
    	      instance[serializersSym][k] = serializers[k];
    	    }
    	    const parentSymbols = Object.getOwnPropertySymbols(serializers);
    	    /* eslint no-var: off */
    	    for (var i = 0; i < parentSymbols.length; i++) {
    	      const ks = parentSymbols[i];
    	      instance[serializersSym][ks] = serializers[ks];
    	    }

    	    for (const bk in options.serializers) {
    	      instance[serializersSym][bk] = options.serializers[bk];
    	    }
    	    const bindingsSymbols = Object.getOwnPropertySymbols(options.serializers);
    	    for (var bi = 0; bi < bindingsSymbols.length; bi++) {
    	      const bks = bindingsSymbols[bi];
    	      instance[serializersSym][bks] = options.serializers[bks];
    	    }
    	  } else instance[serializersSym] = serializers;
    	  if (options.hasOwnProperty('formatters')) {
    	    const { level, bindings: chindings, log } = options.formatters;
    	    instance[formattersSym] = buildFormatters(
    	      level || formatters.level,
    	      chindings || resetChildingsFormatter,
    	      log || formatters.log
    	    );
    	  } else {
    	    instance[formattersSym] = buildFormatters(
    	      formatters.level,
    	      resetChildingsFormatter,
    	      formatters.log
    	    );
    	  }
    	  if (options.hasOwnProperty('customLevels') === true) {
    	    assertNoLevelCollisions(this.levels, options.customLevels);
    	    instance.levels = mappings(options.customLevels, instance[useOnlyCustomLevelsSym]);
    	    genLsCache(instance);
    	  }

    	  // redact must place before asChindings and only replace if exist
    	  if ((typeof options.redact === 'object' && options.redact !== null) || Array.isArray(options.redact)) {
    	    instance.redact = options.redact; // replace redact directly
    	    const stringifiers = redaction(instance.redact, stringify);
    	    const formatOpts = { stringify: stringifiers[redactFmtSym] };
    	    instance[stringifySym] = stringify;
    	    instance[stringifiersSym] = stringifiers;
    	    instance[formatOptsSym] = formatOpts;
    	  }

    	  instance[chindingsSym] = asChindings(instance, bindings);
    	  const childLevel = options.level || this.level;
    	  instance[setLevelSym](childLevel);

    	  return instance
    	}

    	function bindings () {
    	  const chindings = this[chindingsSym];
    	  const chindingsJson = `{${chindings.substr(1)}}`; // at least contains ,"pid":7068,"hostname":"myMac"
    	  const bindingsFromJson = JSON.parse(chindingsJson);
    	  delete bindingsFromJson.pid;
    	  delete bindingsFromJson.hostname;
    	  return bindingsFromJson
    	}

    	function setBindings (newBindings) {
    	  const chindings = asChindings(this, newBindings);
    	  this[chindingsSym] = chindings;
    	  delete this[parsedChindingsSym];
    	}

    	/**
    	 * Default strategy for creating `mergeObject` from arguments and the result from `mixin()`.
    	 * Fields from `mergeObject` have higher priority in this strategy.
    	 *
    	 * @param {Object} mergeObject The object a user has supplied to the logging function.
    	 * @param {Object} mixinObject The result of the `mixin` method.
    	 * @return {Object}
    	 */
    	function defaultMixinMergeStrategy (mergeObject, mixinObject) {
    	  return Object.assign(mixinObject, mergeObject)
    	}

    	function write (_obj, msg, num) {
    	  const t = this[timeSym]();
    	  const mixin = this[mixinSym];
    	  const mixinMergeStrategy = this[mixinMergeStrategySym] || defaultMixinMergeStrategy;
    	  let obj;

    	  if (_obj === undefined || _obj === null) {
    	    obj = {};
    	  } else if (_obj instanceof Error) {
    	    obj = { err: _obj };
    	    if (msg === undefined) {
    	      msg = _obj.message;
    	    }
    	  } else {
    	    obj = _obj;
    	    if (msg === undefined && _obj.err) {
    	      msg = _obj.err.message;
    	    }
    	  }

    	  if (mixin) {
    	    obj = mixinMergeStrategy(obj, mixin(obj, num));
    	  }

    	  const s = this[asJsonSym](obj, msg, num, t);

    	  const stream = this[streamSym];
    	  if (stream[needsMetadataGsym] === true) {
    	    stream.lastLevel = num;
    	    stream.lastObj = obj;
    	    stream.lastMsg = msg;
    	    stream.lastTime = t.slice(this[timeSliceIndexSym]);
    	    stream.lastLogger = this; // for child loggers
    	  }
    	  stream.write(s);
    	}

    	function noop () {}

    	function flush () {
    	  const stream = this[streamSym];
    	  if ('flush' in stream) stream.flush(noop);
    	}
    	return proto;
    }

    var safeStableStringify = {exports: {}};

    var hasRequiredSafeStableStringify;

    function requireSafeStableStringify () {
    	if (hasRequiredSafeStableStringify) return safeStableStringify.exports;
    	hasRequiredSafeStableStringify = 1;
    	(function (module, exports) {

    		const { hasOwnProperty } = Object.prototype;

    		const stringify = configure();

    		// @ts-expect-error
    		stringify.configure = configure;
    		// @ts-expect-error
    		stringify.stringify = stringify;

    		// @ts-expect-error
    		stringify.default = stringify;

    		// @ts-expect-error used for named export
    		exports.stringify = stringify;
    		// @ts-expect-error used for named export
    		exports.configure = configure;

    		module.exports = stringify;

    		// eslint-disable-next-line no-control-regex
    		const strEscapeSequencesRegExp = /[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;

    		// Escape C0 control characters, double quotes, the backslash and every code
    		// unit with a numeric value in the inclusive range 0xD800 to 0xDFFF.
    		function strEscape (str) {
    		  // Some magic numbers that worked out fine while benchmarking with v8 8.0
    		  if (str.length < 5000 && !strEscapeSequencesRegExp.test(str)) {
    		    return `"${str}"`
    		  }
    		  return JSON.stringify(str)
    		}

    		function sort (array, comparator) {
    		  // Insertion sort is very efficient for small input sizes, but it has a bad
    		  // worst case complexity. Thus, use native array sort for bigger values.
    		  if (array.length > 2e2 || comparator) {
    		    return array.sort(comparator)
    		  }
    		  for (let i = 1; i < array.length; i++) {
    		    const currentValue = array[i];
    		    let position = i;
    		    while (position !== 0 && array[position - 1] > currentValue) {
    		      array[position] = array[position - 1];
    		      position--;
    		    }
    		    array[position] = currentValue;
    		  }
    		  return array
    		}

    		const typedArrayPrototypeGetSymbolToStringTag =
    		  Object.getOwnPropertyDescriptor(
    		    Object.getPrototypeOf(
    		      Object.getPrototypeOf(
    		        new Int8Array()
    		      )
    		    ),
    		    Symbol.toStringTag
    		  ).get;

    		function isTypedArrayWithEntries (value) {
    		  return typedArrayPrototypeGetSymbolToStringTag.call(value) !== undefined && value.length !== 0
    		}

    		function stringifyTypedArray (array, separator, maximumBreadth) {
    		  if (array.length < maximumBreadth) {
    		    maximumBreadth = array.length;
    		  }
    		  const whitespace = separator === ',' ? '' : ' ';
    		  let res = `"0":${whitespace}${array[0]}`;
    		  for (let i = 1; i < maximumBreadth; i++) {
    		    res += `${separator}"${i}":${whitespace}${array[i]}`;
    		  }
    		  return res
    		}

    		function getCircularValueOption (options) {
    		  if (hasOwnProperty.call(options, 'circularValue')) {
    		    const circularValue = options.circularValue;
    		    if (typeof circularValue === 'string') {
    		      return `"${circularValue}"`
    		    }
    		    if (circularValue == null) {
    		      return circularValue
    		    }
    		    if (circularValue === Error || circularValue === TypeError) {
    		      return {
    		        toString () {
    		          throw new TypeError('Converting circular structure to JSON')
    		        }
    		      }
    		    }
    		    throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')
    		  }
    		  return '"[Circular]"'
    		}

    		function getDeterministicOption (options) {
    		  let value;
    		  if (hasOwnProperty.call(options, 'deterministic')) {
    		    value = options.deterministic;
    		    if (typeof value !== 'boolean' && typeof value !== 'function') {
    		      throw new TypeError('The "deterministic" argument must be of type boolean or comparator function')
    		    }
    		  }
    		  return value === undefined ? true : value
    		}

    		function getBooleanOption (options, key) {
    		  let value;
    		  if (hasOwnProperty.call(options, key)) {
    		    value = options[key];
    		    if (typeof value !== 'boolean') {
    		      throw new TypeError(`The "${key}" argument must be of type boolean`)
    		    }
    		  }
    		  return value === undefined ? true : value
    		}

    		function getPositiveIntegerOption (options, key) {
    		  let value;
    		  if (hasOwnProperty.call(options, key)) {
    		    value = options[key];
    		    if (typeof value !== 'number') {
    		      throw new TypeError(`The "${key}" argument must be of type number`)
    		    }
    		    if (!Number.isInteger(value)) {
    		      throw new TypeError(`The "${key}" argument must be an integer`)
    		    }
    		    if (value < 1) {
    		      throw new RangeError(`The "${key}" argument must be >= 1`)
    		    }
    		  }
    		  return value === undefined ? Infinity : value
    		}

    		function getItemCount (number) {
    		  if (number === 1) {
    		    return '1 item'
    		  }
    		  return `${number} items`
    		}

    		function getUniqueReplacerSet (replacerArray) {
    		  const replacerSet = new Set();
    		  for (const value of replacerArray) {
    		    if (typeof value === 'string' || typeof value === 'number') {
    		      replacerSet.add(String(value));
    		    }
    		  }
    		  return replacerSet
    		}

    		function getStrictOption (options) {
    		  if (hasOwnProperty.call(options, 'strict')) {
    		    const value = options.strict;
    		    if (typeof value !== 'boolean') {
    		      throw new TypeError('The "strict" argument must be of type boolean')
    		    }
    		    if (value) {
    		      return (value) => {
    		        let message = `Object can not safely be stringified. Received type ${typeof value}`;
    		        if (typeof value !== 'function') message += ` (${value.toString()})`;
    		        throw new Error(message)
    		      }
    		    }
    		  }
    		}

    		function configure (options) {
    		  options = { ...options };
    		  const fail = getStrictOption(options);
    		  if (fail) {
    		    if (options.bigint === undefined) {
    		      options.bigint = false;
    		    }
    		    if (!('circularValue' in options)) {
    		      options.circularValue = Error;
    		    }
    		  }
    		  const circularValue = getCircularValueOption(options);
    		  const bigint = getBooleanOption(options, 'bigint');
    		  const deterministic = getDeterministicOption(options);
    		  const comparator = typeof deterministic === 'function' ? deterministic : undefined;
    		  const maximumDepth = getPositiveIntegerOption(options, 'maximumDepth');
    		  const maximumBreadth = getPositiveIntegerOption(options, 'maximumBreadth');

    		  function stringifyFnReplacer (key, parent, stack, replacer, spacer, indentation) {
    		    let value = parent[key];

    		    if (typeof value === 'object' && value !== null && typeof value.toJSON === 'function') {
    		      value = value.toJSON(key);
    		    }
    		    value = replacer.call(parent, key, value);

    		    switch (typeof value) {
    		      case 'string':
    		        return strEscape(value)
    		      case 'object': {
    		        if (value === null) {
    		          return 'null'
    		        }
    		        if (stack.indexOf(value) !== -1) {
    		          return circularValue
    		        }

    		        let res = '';
    		        let join = ',';
    		        const originalIndentation = indentation;

    		        if (Array.isArray(value)) {
    		          if (value.length === 0) {
    		            return '[]'
    		          }
    		          if (maximumDepth < stack.length + 1) {
    		            return '"[Array]"'
    		          }
    		          stack.push(value);
    		          if (spacer !== '') {
    		            indentation += spacer;
    		            res += `\n${indentation}`;
    		            join = `,\n${indentation}`;
    		          }
    		          const maximumValuesToStringify = Math.min(value.length, maximumBreadth);
    		          let i = 0;
    		          for (; i < maximumValuesToStringify - 1; i++) {
    		            const tmp = stringifyFnReplacer(String(i), value, stack, replacer, spacer, indentation);
    		            res += tmp !== undefined ? tmp : 'null';
    		            res += join;
    		          }
    		          const tmp = stringifyFnReplacer(String(i), value, stack, replacer, spacer, indentation);
    		          res += tmp !== undefined ? tmp : 'null';
    		          if (value.length - 1 > maximumBreadth) {
    		            const removedKeys = value.length - maximumBreadth - 1;
    		            res += `${join}"... ${getItemCount(removedKeys)} not stringified"`;
    		          }
    		          if (spacer !== '') {
    		            res += `\n${originalIndentation}`;
    		          }
    		          stack.pop();
    		          return `[${res}]`
    		        }

    		        let keys = Object.keys(value);
    		        const keyLength = keys.length;
    		        if (keyLength === 0) {
    		          return '{}'
    		        }
    		        if (maximumDepth < stack.length + 1) {
    		          return '"[Object]"'
    		        }
    		        let whitespace = '';
    		        let separator = '';
    		        if (spacer !== '') {
    		          indentation += spacer;
    		          join = `,\n${indentation}`;
    		          whitespace = ' ';
    		        }
    		        const maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth);
    		        if (deterministic && !isTypedArrayWithEntries(value)) {
    		          keys = sort(keys, comparator);
    		        }
    		        stack.push(value);
    		        for (let i = 0; i < maximumPropertiesToStringify; i++) {
    		          const key = keys[i];
    		          const tmp = stringifyFnReplacer(key, value, stack, replacer, spacer, indentation);
    		          if (tmp !== undefined) {
    		            res += `${separator}${strEscape(key)}:${whitespace}${tmp}`;
    		            separator = join;
    		          }
    		        }
    		        if (keyLength > maximumBreadth) {
    		          const removedKeys = keyLength - maximumBreadth;
    		          res += `${separator}"...":${whitespace}"${getItemCount(removedKeys)} not stringified"`;
    		          separator = join;
    		        }
    		        if (spacer !== '' && separator.length > 1) {
    		          res = `\n${indentation}${res}\n${originalIndentation}`;
    		        }
    		        stack.pop();
    		        return `{${res}}`
    		      }
    		      case 'number':
    		        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'
    		      case 'boolean':
    		        return value === true ? 'true' : 'false'
    		      case 'undefined':
    		        return undefined
    		      case 'bigint':
    		        if (bigint) {
    		          return String(value)
    		        }
    		        // fallthrough
    		      default:
    		        return fail ? fail(value) : undefined
    		    }
    		  }

    		  function stringifyArrayReplacer (key, value, stack, replacer, spacer, indentation) {
    		    if (typeof value === 'object' && value !== null && typeof value.toJSON === 'function') {
    		      value = value.toJSON(key);
    		    }

    		    switch (typeof value) {
    		      case 'string':
    		        return strEscape(value)
    		      case 'object': {
    		        if (value === null) {
    		          return 'null'
    		        }
    		        if (stack.indexOf(value) !== -1) {
    		          return circularValue
    		        }

    		        const originalIndentation = indentation;
    		        let res = '';
    		        let join = ',';

    		        if (Array.isArray(value)) {
    		          if (value.length === 0) {
    		            return '[]'
    		          }
    		          if (maximumDepth < stack.length + 1) {
    		            return '"[Array]"'
    		          }
    		          stack.push(value);
    		          if (spacer !== '') {
    		            indentation += spacer;
    		            res += `\n${indentation}`;
    		            join = `,\n${indentation}`;
    		          }
    		          const maximumValuesToStringify = Math.min(value.length, maximumBreadth);
    		          let i = 0;
    		          for (; i < maximumValuesToStringify - 1; i++) {
    		            const tmp = stringifyArrayReplacer(String(i), value[i], stack, replacer, spacer, indentation);
    		            res += tmp !== undefined ? tmp : 'null';
    		            res += join;
    		          }
    		          const tmp = stringifyArrayReplacer(String(i), value[i], stack, replacer, spacer, indentation);
    		          res += tmp !== undefined ? tmp : 'null';
    		          if (value.length - 1 > maximumBreadth) {
    		            const removedKeys = value.length - maximumBreadth - 1;
    		            res += `${join}"... ${getItemCount(removedKeys)} not stringified"`;
    		          }
    		          if (spacer !== '') {
    		            res += `\n${originalIndentation}`;
    		          }
    		          stack.pop();
    		          return `[${res}]`
    		        }
    		        stack.push(value);
    		        let whitespace = '';
    		        if (spacer !== '') {
    		          indentation += spacer;
    		          join = `,\n${indentation}`;
    		          whitespace = ' ';
    		        }
    		        let separator = '';
    		        for (const key of replacer) {
    		          const tmp = stringifyArrayReplacer(key, value[key], stack, replacer, spacer, indentation);
    		          if (tmp !== undefined) {
    		            res += `${separator}${strEscape(key)}:${whitespace}${tmp}`;
    		            separator = join;
    		          }
    		        }
    		        if (spacer !== '' && separator.length > 1) {
    		          res = `\n${indentation}${res}\n${originalIndentation}`;
    		        }
    		        stack.pop();
    		        return `{${res}}`
    		      }
    		      case 'number':
    		        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'
    		      case 'boolean':
    		        return value === true ? 'true' : 'false'
    		      case 'undefined':
    		        return undefined
    		      case 'bigint':
    		        if (bigint) {
    		          return String(value)
    		        }
    		        // fallthrough
    		      default:
    		        return fail ? fail(value) : undefined
    		    }
    		  }

    		  function stringifyIndent (key, value, stack, spacer, indentation) {
    		    switch (typeof value) {
    		      case 'string':
    		        return strEscape(value)
    		      case 'object': {
    		        if (value === null) {
    		          return 'null'
    		        }
    		        if (typeof value.toJSON === 'function') {
    		          value = value.toJSON(key);
    		          // Prevent calling `toJSON` again.
    		          if (typeof value !== 'object') {
    		            return stringifyIndent(key, value, stack, spacer, indentation)
    		          }
    		          if (value === null) {
    		            return 'null'
    		          }
    		        }
    		        if (stack.indexOf(value) !== -1) {
    		          return circularValue
    		        }
    		        const originalIndentation = indentation;

    		        if (Array.isArray(value)) {
    		          if (value.length === 0) {
    		            return '[]'
    		          }
    		          if (maximumDepth < stack.length + 1) {
    		            return '"[Array]"'
    		          }
    		          stack.push(value);
    		          indentation += spacer;
    		          let res = `\n${indentation}`;
    		          const join = `,\n${indentation}`;
    		          const maximumValuesToStringify = Math.min(value.length, maximumBreadth);
    		          let i = 0;
    		          for (; i < maximumValuesToStringify - 1; i++) {
    		            const tmp = stringifyIndent(String(i), value[i], stack, spacer, indentation);
    		            res += tmp !== undefined ? tmp : 'null';
    		            res += join;
    		          }
    		          const tmp = stringifyIndent(String(i), value[i], stack, spacer, indentation);
    		          res += tmp !== undefined ? tmp : 'null';
    		          if (value.length - 1 > maximumBreadth) {
    		            const removedKeys = value.length - maximumBreadth - 1;
    		            res += `${join}"... ${getItemCount(removedKeys)} not stringified"`;
    		          }
    		          res += `\n${originalIndentation}`;
    		          stack.pop();
    		          return `[${res}]`
    		        }

    		        let keys = Object.keys(value);
    		        const keyLength = keys.length;
    		        if (keyLength === 0) {
    		          return '{}'
    		        }
    		        if (maximumDepth < stack.length + 1) {
    		          return '"[Object]"'
    		        }
    		        indentation += spacer;
    		        const join = `,\n${indentation}`;
    		        let res = '';
    		        let separator = '';
    		        let maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth);
    		        if (isTypedArrayWithEntries(value)) {
    		          res += stringifyTypedArray(value, join, maximumBreadth);
    		          keys = keys.slice(value.length);
    		          maximumPropertiesToStringify -= value.length;
    		          separator = join;
    		        }
    		        if (deterministic) {
    		          keys = sort(keys, comparator);
    		        }
    		        stack.push(value);
    		        for (let i = 0; i < maximumPropertiesToStringify; i++) {
    		          const key = keys[i];
    		          const tmp = stringifyIndent(key, value[key], stack, spacer, indentation);
    		          if (tmp !== undefined) {
    		            res += `${separator}${strEscape(key)}: ${tmp}`;
    		            separator = join;
    		          }
    		        }
    		        if (keyLength > maximumBreadth) {
    		          const removedKeys = keyLength - maximumBreadth;
    		          res += `${separator}"...": "${getItemCount(removedKeys)} not stringified"`;
    		          separator = join;
    		        }
    		        if (separator !== '') {
    		          res = `\n${indentation}${res}\n${originalIndentation}`;
    		        }
    		        stack.pop();
    		        return `{${res}}`
    		      }
    		      case 'number':
    		        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'
    		      case 'boolean':
    		        return value === true ? 'true' : 'false'
    		      case 'undefined':
    		        return undefined
    		      case 'bigint':
    		        if (bigint) {
    		          return String(value)
    		        }
    		        // fallthrough
    		      default:
    		        return fail ? fail(value) : undefined
    		    }
    		  }

    		  function stringifySimple (key, value, stack) {
    		    switch (typeof value) {
    		      case 'string':
    		        return strEscape(value)
    		      case 'object': {
    		        if (value === null) {
    		          return 'null'
    		        }
    		        if (typeof value.toJSON === 'function') {
    		          value = value.toJSON(key);
    		          // Prevent calling `toJSON` again
    		          if (typeof value !== 'object') {
    		            return stringifySimple(key, value, stack)
    		          }
    		          if (value === null) {
    		            return 'null'
    		          }
    		        }
    		        if (stack.indexOf(value) !== -1) {
    		          return circularValue
    		        }

    		        let res = '';

    		        const hasLength = value.length !== undefined;
    		        if (hasLength && Array.isArray(value)) {
    		          if (value.length === 0) {
    		            return '[]'
    		          }
    		          if (maximumDepth < stack.length + 1) {
    		            return '"[Array]"'
    		          }
    		          stack.push(value);
    		          const maximumValuesToStringify = Math.min(value.length, maximumBreadth);
    		          let i = 0;
    		          for (; i < maximumValuesToStringify - 1; i++) {
    		            const tmp = stringifySimple(String(i), value[i], stack);
    		            res += tmp !== undefined ? tmp : 'null';
    		            res += ',';
    		          }
    		          const tmp = stringifySimple(String(i), value[i], stack);
    		          res += tmp !== undefined ? tmp : 'null';
    		          if (value.length - 1 > maximumBreadth) {
    		            const removedKeys = value.length - maximumBreadth - 1;
    		            res += `,"... ${getItemCount(removedKeys)} not stringified"`;
    		          }
    		          stack.pop();
    		          return `[${res}]`
    		        }

    		        let keys = Object.keys(value);
    		        const keyLength = keys.length;
    		        if (keyLength === 0) {
    		          return '{}'
    		        }
    		        if (maximumDepth < stack.length + 1) {
    		          return '"[Object]"'
    		        }
    		        let separator = '';
    		        let maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth);
    		        if (hasLength && isTypedArrayWithEntries(value)) {
    		          res += stringifyTypedArray(value, ',', maximumBreadth);
    		          keys = keys.slice(value.length);
    		          maximumPropertiesToStringify -= value.length;
    		          separator = ',';
    		        }
    		        if (deterministic) {
    		          keys = sort(keys, comparator);
    		        }
    		        stack.push(value);
    		        for (let i = 0; i < maximumPropertiesToStringify; i++) {
    		          const key = keys[i];
    		          const tmp = stringifySimple(key, value[key], stack);
    		          if (tmp !== undefined) {
    		            res += `${separator}${strEscape(key)}:${tmp}`;
    		            separator = ',';
    		          }
    		        }
    		        if (keyLength > maximumBreadth) {
    		          const removedKeys = keyLength - maximumBreadth;
    		          res += `${separator}"...":"${getItemCount(removedKeys)} not stringified"`;
    		        }
    		        stack.pop();
    		        return `{${res}}`
    		      }
    		      case 'number':
    		        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'
    		      case 'boolean':
    		        return value === true ? 'true' : 'false'
    		      case 'undefined':
    		        return undefined
    		      case 'bigint':
    		        if (bigint) {
    		          return String(value)
    		        }
    		        // fallthrough
    		      default:
    		        return fail ? fail(value) : undefined
    		    }
    		  }

    		  function stringify (value, replacer, space) {
    		    if (arguments.length > 1) {
    		      let spacer = '';
    		      if (typeof space === 'number') {
    		        spacer = ' '.repeat(Math.min(space, 10));
    		      } else if (typeof space === 'string') {
    		        spacer = space.slice(0, 10);
    		      }
    		      if (replacer != null) {
    		        if (typeof replacer === 'function') {
    		          return stringifyFnReplacer('', { '': value }, [], replacer, spacer, '')
    		        }
    		        if (Array.isArray(replacer)) {
    		          return stringifyArrayReplacer('', value, [], getUniqueReplacerSet(replacer), spacer, '')
    		        }
    		      }
    		      if (spacer.length !== 0) {
    		        return stringifyIndent('', value, [], spacer, '')
    		      }
    		    }
    		    return stringifySimple('', value, [])
    		  }

    		  return stringify
    		} 
    	} (safeStableStringify, safeStableStringify.exports));
    	return safeStableStringify.exports;
    }

    var multistream_1;
    var hasRequiredMultistream;

    function requireMultistream () {
    	if (hasRequiredMultistream) return multistream_1;
    	hasRequiredMultistream = 1;

    	const metadata = Symbol.for('pino.metadata');
    	const { levels } = requireLevels();

    	const defaultLevels = Object.create(levels);
    	defaultLevels.silent = Infinity;

    	const DEFAULT_INFO_LEVEL = levels.info;

    	function multistream (streamsArray, opts) {
    	  let counter = 0;
    	  streamsArray = streamsArray || [];
    	  opts = opts || { dedupe: false };

    	  let levels = defaultLevels;
    	  if (opts.levels && typeof opts.levels === 'object') {
    	    levels = opts.levels;
    	  }

    	  const res = {
    	    write,
    	    add,
    	    flushSync,
    	    end,
    	    minLevel: 0,
    	    streams: [],
    	    clone,
    	    [metadata]: true
    	  };

    	  if (Array.isArray(streamsArray)) {
    	    streamsArray.forEach(add, res);
    	  } else {
    	    add.call(res, streamsArray);
    	  }

    	  // clean this object up
    	  // or it will stay allocated forever
    	  // as it is closed on the following closures
    	  streamsArray = null;

    	  return res

    	  // we can exit early because the streams are ordered by level
    	  function write (data) {
    	    let dest;
    	    const level = this.lastLevel;
    	    const { streams } = this;
    	    let stream;
    	    for (let i = 0; i < streams.length; i++) {
    	      dest = streams[i];
    	      if (dest.level <= level) {
    	        stream = dest.stream;
    	        if (stream[metadata]) {
    	          const { lastTime, lastMsg, lastObj, lastLogger } = this;
    	          stream.lastLevel = level;
    	          stream.lastTime = lastTime;
    	          stream.lastMsg = lastMsg;
    	          stream.lastObj = lastObj;
    	          stream.lastLogger = lastLogger;
    	        }
    	        if (!opts.dedupe || dest.level === level) {
    	          stream.write(data);
    	        }
    	      } else {
    	        break
    	      }
    	    }
    	  }

    	  function flushSync () {
    	    for (const { stream } of this.streams) {
    	      if (typeof stream.flushSync === 'function') {
    	        stream.flushSync();
    	      }
    	    }
    	  }

    	  function add (dest) {
    	    if (!dest) {
    	      return res
    	    }

    	    // Check that dest implements either StreamEntry or DestinationStream
    	    const isStream = typeof dest.write === 'function' || dest.stream;
    	    const stream_ = dest.write ? dest : dest.stream;
    	    // This is necessary to provide a meaningful error message, otherwise it throws somewhere inside write()
    	    if (!isStream) {
    	      throw Error('stream object needs to implement either StreamEntry or DestinationStream interface')
    	    }

    	    const { streams } = this;

    	    let level;
    	    if (typeof dest.levelVal === 'number') {
    	      level = dest.levelVal;
    	    } else if (typeof dest.level === 'string') {
    	      level = levels[dest.level];
    	    } else if (typeof dest.level === 'number') {
    	      level = dest.level;
    	    } else {
    	      level = DEFAULT_INFO_LEVEL;
    	    }

    	    const dest_ = {
    	      stream: stream_,
    	      level,
    	      levelVal: undefined,
    	      id: counter++
    	    };

    	    streams.unshift(dest_);
    	    streams.sort(compareByLevel);

    	    this.minLevel = streams[0].level;

    	    return res
    	  }

    	  function end () {
    	    for (const { stream } of this.streams) {
    	      if (typeof stream.flushSync === 'function') {
    	        stream.flushSync();
    	      }
    	      stream.end();
    	    }
    	  }

    	  function clone (level) {
    	    const streams = new Array(this.streams.length);

    	    for (let i = 0; i < streams.length; i++) {
    	      streams[i] = {
    	        level: level,
    	        stream: this.streams[i].stream
    	      };
    	    }

    	    return {
    	      write,
    	      add,
    	      minLevel: level,
    	      streams,
    	      clone,
    	      flushSync,
    	      [metadata]: true
    	    }
    	  }
    	}

    	function compareByLevel (a, b) {
    	  return a.level - b.level
    	}

    	multistream_1 = multistream;
    	return multistream_1;
    }

    var hasRequiredPino;

    function requirePino () {
    	if (hasRequiredPino) return pino.exports;
    	hasRequiredPino = 1;
    	/* eslint no-prototype-builtins: 0 */
    	const os = require$$0$8;
    	const stdSerializers = requirePinoStdSerializers();
    	const caller = requireCaller();
    	const redaction = requireRedaction();
    	const time = requireTime();
    	const proto = requireProto();
    	const symbols = requireSymbols();
    	const { configure } = requireSafeStableStringify();
    	const { assertDefaultLevelFound, mappings, genLsCache, levels } = requireLevels();
    	const {
    	  createArgsNormalizer,
    	  asChindings,
    	  final,
    	  buildSafeSonicBoom,
    	  buildFormatters,
    	  stringify,
    	  normalizeDestFileDescriptor,
    	  noop
    	} = requireTools();
    	const { version } = requireMeta();
    	const {
    	  chindingsSym,
    	  redactFmtSym,
    	  serializersSym,
    	  timeSym,
    	  timeSliceIndexSym,
    	  streamSym,
    	  stringifySym,
    	  stringifySafeSym,
    	  stringifiersSym,
    	  setLevelSym,
    	  endSym,
    	  formatOptsSym,
    	  messageKeySym,
    	  nestedKeySym,
    	  mixinSym,
    	  useOnlyCustomLevelsSym,
    	  formattersSym,
    	  hooksSym,
    	  nestedKeyStrSym,
    	  mixinMergeStrategySym
    	} = symbols;
    	const { epochTime, nullTime } = time;
    	const { pid } = process;
    	const hostname = os.hostname();
    	const defaultErrorSerializer = stdSerializers.err;
    	const defaultOptions = {
    	  level: 'info',
    	  levels,
    	  messageKey: 'msg',
    	  nestedKey: null,
    	  enabled: true,
    	  prettyPrint: false,
    	  base: { pid, hostname },
    	  serializers: Object.assign(Object.create(null), {
    	    err: defaultErrorSerializer
    	  }),
    	  formatters: Object.assign(Object.create(null), {
    	    bindings (bindings) {
    	      return bindings
    	    },
    	    level (label, number) {
    	      return { level: number }
    	    }
    	  }),
    	  hooks: {
    	    logMethod: undefined
    	  },
    	  timestamp: epochTime,
    	  name: undefined,
    	  redact: null,
    	  customLevels: null,
    	  useOnlyCustomLevels: false,
    	  depthLimit: 5,
    	  edgeLimit: 100
    	};

    	const normalize = createArgsNormalizer(defaultOptions);

    	const serializers = Object.assign(Object.create(null), stdSerializers);

    	function pino$1 (...args) {
    	  const instance = {};
    	  const { opts, stream } = normalize(instance, caller(), ...args);
    	  const {
    	    redact,
    	    crlf,
    	    serializers,
    	    timestamp,
    	    messageKey,
    	    nestedKey,
    	    base,
    	    name,
    	    level,
    	    customLevels,
    	    mixin,
    	    mixinMergeStrategy,
    	    useOnlyCustomLevels,
    	    formatters,
    	    hooks,
    	    depthLimit,
    	    edgeLimit
    	  } = opts;

    	  const stringifySafe = configure({
    	    maximumDepth: depthLimit,
    	    maximumBreadth: edgeLimit
    	  });

    	  const allFormatters = buildFormatters(
    	    formatters.level,
    	    formatters.bindings,
    	    formatters.log
    	  );

    	  const stringifiers = redact ? redaction(redact, stringify) : {};
    	  const stringifyFn = stringify.bind({
    	    [stringifySafeSym]: stringifySafe
    	  });
    	  const formatOpts = redact
    	    ? { stringify: stringifiers[redactFmtSym] }
    	    : { stringify: stringifyFn };
    	  const end = '}' + (crlf ? '\r\n' : '\n');
    	  const coreChindings = asChindings.bind(null, {
    	    [chindingsSym]: '',
    	    [serializersSym]: serializers,
    	    [stringifiersSym]: stringifiers,
    	    [stringifySym]: stringify,
    	    [stringifySafeSym]: stringifySafe,
    	    [formattersSym]: allFormatters
    	  });

    	  let chindings = '';
    	  if (base !== null) {
    	    if (name === undefined) {
    	      chindings = coreChindings(base);
    	    } else {
    	      chindings = coreChindings(Object.assign({}, base, { name }));
    	    }
    	  }

    	  const time = (timestamp instanceof Function)
    	    ? timestamp
    	    : (timestamp ? epochTime : nullTime);
    	  const timeSliceIndex = time().indexOf(':') + 1;

    	  if (useOnlyCustomLevels && !customLevels) throw Error('customLevels is required if useOnlyCustomLevels is set true')
    	  if (mixin && typeof mixin !== 'function') throw Error(`Unknown mixin type "${typeof mixin}" - expected "function"`)

    	  assertDefaultLevelFound(level, customLevels, useOnlyCustomLevels);
    	  const levels = mappings(customLevels, useOnlyCustomLevels);

    	  Object.assign(instance, {
    	    levels,
    	    [useOnlyCustomLevelsSym]: useOnlyCustomLevels,
    	    [streamSym]: stream,
    	    [timeSym]: time,
    	    [timeSliceIndexSym]: timeSliceIndex,
    	    [stringifySym]: stringify,
    	    [stringifySafeSym]: stringifySafe,
    	    [stringifiersSym]: stringifiers,
    	    [endSym]: end,
    	    [formatOptsSym]: formatOpts,
    	    [messageKeySym]: messageKey,
    	    [nestedKeySym]: nestedKey,
    	    // protect against injection
    	    [nestedKeyStrSym]: nestedKey ? `,${JSON.stringify(nestedKey)}:{` : '',
    	    [serializersSym]: serializers,
    	    [mixinSym]: mixin,
    	    [mixinMergeStrategySym]: mixinMergeStrategy,
    	    [chindingsSym]: chindings,
    	    [formattersSym]: allFormatters,
    	    [hooksSym]: hooks,
    	    silent: noop
    	  });

    	  Object.setPrototypeOf(instance, proto());

    	  genLsCache(instance);

    	  instance[setLevelSym](level);

    	  return instance
    	}

    	pino.exports = pino$1;

    	pino.exports.destination = (dest = process.stdout.fd) => {
    	  if (typeof dest === 'object') {
    	    dest.dest = normalizeDestFileDescriptor(dest.dest || process.stdout.fd);
    	    return buildSafeSonicBoom(dest)
    	  } else {
    	    return buildSafeSonicBoom({ dest: normalizeDestFileDescriptor(dest), minLength: 0, sync: true })
    	  }
    	};

    	pino.exports.transport = requireTransport();
    	pino.exports.multistream = requireMultistream();

    	pino.exports.final = final;
    	pino.exports.levels = mappings();
    	pino.exports.stdSerializers = serializers;
    	pino.exports.stdTimeFunctions = Object.assign({}, time);
    	pino.exports.symbols = symbols;
    	pino.exports.version = version;

    	// Enables default and name export with TypeScript and Babel
    	pino.exports.default = pino$1;
    	pino.exports.pino = pino$1;
    	return pino.exports;
    }

    var pinoExports = requirePino();
    var Ot$7 = /*@__PURE__*/getDefaultExportFromCjs(pinoExports);

    const c$b={level:"info"},n$8="custom_context",l$4=1e3*1024;let O$5 = class O{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null;}get value(){return this.nodeValue}get size(){return this.sizeInBytes}};let d$8 = class d{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0;}append(e){const t=new O$5(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size;}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size;}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return {next:()=>{if(!e)return {done:true,value:null};const t=e.value;return e=e.next,{done:false,value:t}}}}};let L$6 = class L{constructor(e,t=l$4){this.level=e??"error",this.levelValue=pinoExports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new d$8(this.MAX_LOG_SIZE_IN_BYTES);}forwardToConsole(e,t){t===pinoExports.levels.values.error?console.error(e):t===pinoExports.levels.values.warn?console.warn(e):t===pinoExports.levels.values.debug?console.debug(e):t===pinoExports.levels.values.trace?console.trace(e):console.log(e);}appendToLogs(e){this.logs.append(safeJsonStringify({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t);}getLogs(){return this.logs}clearLogs(){this.logs=new d$8(this.MAX_LOG_SIZE_IN_BYTES);}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(safeJsonStringify({extraMetadata:e})),new Blob(t,{type:"application/json"})}};let m$4 = class m{constructor(e,t=l$4){this.baseChunkLogger=new L$6(e,t);}write(e){this.baseChunkLogger.appendToLogs(e);}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs();}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),o=document.createElement("a");o.href=t,o.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t);}};let B$4 = class B{constructor(e,t=l$4){this.baseChunkLogger=new L$6(e,t);}write(e){this.baseChunkLogger.appendToLogs(e);}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs();}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var x$8=Object.defineProperty,S$8=Object.defineProperties,_$5=Object.getOwnPropertyDescriptors,p$9=Object.getOwnPropertySymbols,T$6=Object.prototype.hasOwnProperty,z$6=Object.prototype.propertyIsEnumerable,f$b=(r,e,t)=>e in r?x$8(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,i$9=(r,e)=>{for(var t in e||(e={}))T$6.call(e,t)&&f$b(r,t,e[t]);if(p$9)for(var t of p$9(e))z$6.call(e,t)&&f$b(r,t,e[t]);return r},g$4=(r,e)=>S$8(r,_$5(e));function k$7(r){return g$4(i$9({},r),{level:r?.level||c$b.level})}function v$9(r,e=n$8){return r[e]||""}function b$7(r,e,t=n$8){return r[t]=e,r}function y$8(r,e=n$8){let t="";return typeof r.bindings>"u"?t=v$9(r,e):t=r.bindings().context||"",t}function w$5(r,e,t=n$8){const o=y$8(r,t);return o.trim()?`${o}/${e}`:e}function E$7(r,e,t=n$8){const o=w$5(r,e,t),a=r.child({context:o});return b$7(a,o,t)}function C$6(r){var e,t;const o=new m$4((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return {logger:Ot$7(g$4(i$9({},r.opts),{level:"trace",browser:g$4(i$9({},(t=r.opts)==null?void 0:t.browser),{write:a=>o.write(a)})})),chunkLoggerController:o}}function I$5(r){var e;const t=new B$4((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return {logger:Ot$7(g$4(i$9({},r.opts),{level:"trace"}),t),chunkLoggerController:t}}function A$4(r){return typeof r.loggerOverride<"u"&&typeof r.loggerOverride!="string"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<"u"?C$6(r):I$5(r)}

    var a$3=Object.defineProperty,u$4=(e,s,r)=>s in e?a$3(e,s,{enumerable:true,configurable:true,writable:true,value:r}):e[s]=r,c$a=(e,s,r)=>u$4(e,typeof s!="symbol"?s+"":s,r);let h$a = class h extends IEvents{constructor(s){super(),this.opts=s,c$a(this,"protocol","wc"),c$a(this,"version",2);}};var p$8=Object.defineProperty,b$6=(e,s,r)=>s in e?p$8(e,s,{enumerable:true,configurable:true,writable:true,value:r}):e[s]=r,v$8=(e,s,r)=>b$6(e,s+"",r);let I$4 = class I extends IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v$8(this,"records",new Map);}};let y$7 = class y{constructor(s,r){this.logger=s,this.core=r;}};let m$3 = class m extends IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r;}};let d$7 = class d extends IEvents{constructor(s){super();}};let f$a = class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t;}};let P$9 = class P extends IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r;}};let S$7 = class S extends IEvents{constructor(s,r){super(),this.core=s,this.logger=r;}};let M$7 = class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t;}};let O$4 = class O{constructor(s,r){this.projectId=s,this.logger=r;}};let R$4 = class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t;}};var T$5=Object.defineProperty,k$6=(e,s,r)=>s in e?T$5(e,s,{enumerable:true,configurable:true,writable:true,value:r}):e[s]=r,i$8=(e,s,r)=>k$6(e,typeof s!="symbol"?s+"":s,r);let J$7 = class J{constructor(s){this.opts=s,i$8(this,"protocol","wc"),i$8(this,"version",2);}};let V$8 = class V{constructor(s){this.client=s;}};

    function En$7(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fe$4(t,...e){if(!En$7(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function De$6(t,e=true){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gn$6(t,e){fe$4(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const it$3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _t$8=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function yn$5(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function de$7(t){return typeof t=="string"&&(t=yn$5(t)),fe$4(t),t}let xn$4 = class xn{clone(){return this._cloneInto()}};function Bn$4(t){const e=r=>t().update(de$7(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function he$6(t=32){if(it$3&&typeof it$3.getRandomValues=="function")return it$3.getRandomValues(new Uint8Array(t));if(it$3&&typeof it$3.randomBytes=="function")return it$3.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Cn$5(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),a=Number(n>>o&s),u=Number(n&s),i=r?4:0,D=r?0:4;t.setUint32(e+i,a,r),t.setUint32(e+D,u,r);}let An$3 = class An extends xn$4{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=false,this.length=0,this.pos=0,this.destroyed=false,this.buffer=new Uint8Array(e),this.view=_t$8(this.buffer);}update(e){De$6(this);const{view:n,buffer:r,blockLen:o}=this;e=de$7(e);const s=e.length;for(let a=0;a<s;){const u=Math.min(o-this.pos,s-a);if(u===o){const i=_t$8(e);for(;o<=s-a;a+=o)this.process(i,a);continue}r.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(n,0),this.pos=0);}return this.length+=e.length,this.roundClean(),this}digestInto(e){De$6(this),gn$6(e,this),this.finished=true;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let l=a;l<o;l++)n[l]=0;Cn$5(r,o-8,BigInt(this.length*8),s),this.process(r,0);const u=_t$8(e),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const D=i/4,c=this.get();if(D>c.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<D;l++)u.setUint32(4*l,c[l],s);}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:a,pos:u}=this;return e.length=o,e.pos=u,e.finished=s,e.destroyed=a,o%n&&e.buffer.set(r),e}};const wt$7=BigInt(2**32-1),St$9=BigInt(32);function le$7(t,e=false){return e?{h:Number(t&wt$7),l:Number(t>>St$9&wt$7)}:{h:Number(t>>St$9&wt$7)|0,l:Number(t&wt$7)|0}}function mn$6(t,e=false){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:a}=le$7(t[o],e);[n[o],r[o]]=[s,a];}return [n,r]}const _n$6=(t,e)=>BigInt(t>>>0)<<St$9|BigInt(e>>>0),Sn$3=(t,e,n)=>t>>>n,vn$5=(t,e,n)=>t<<32-n|e>>>n,In$5=(t,e,n)=>t>>>n|e<<32-n,Un$4=(t,e,n)=>t<<32-n|e>>>n,Tn$5=(t,e,n)=>t<<64-n|e>>>n-32,Fn$5=(t,e,n)=>t>>>n-32|e<<64-n,Nn$3=(t,e)=>e,Ln$4=(t,e)=>t,On$4=(t,e,n)=>t<<n|e>>>32-n,Hn$4=(t,e,n)=>e<<n|t>>>32-n,zn$5=(t,e,n)=>e<<n-32|t>>>64-n,Mn$5=(t,e,n)=>t<<n-32|e>>>64-n;function qn$4(t,e,n,r){const o=(e>>>0)+(r>>>0);return {h:t+n+(o/2**32|0)|0,l:o|0}}const $n$4=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),kn$5=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Rn$5=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),jn$5=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,Zn$5=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Gn$6=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,x$7={fromBig:le$7,split:mn$6,toBig:_n$6,shrSH:Sn$3,shrSL:vn$5,rotrSH:In$5,rotrSL:Un$4,rotrBH:Tn$5,rotrBL:Fn$5,rotr32H:Nn$3,rotr32L:Ln$4,rotlSH:On$4,rotlSL:Hn$4,rotlBH:zn$5,rotlBL:Mn$5,add:qn$4,add3L:$n$4,add3H:kn$5,add4L:Rn$5,add4H:jn$5,add5H:Gn$6,add5L:Zn$5},[Vn$5,Yn$5]=(()=>x$7.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),P$8=new Uint32Array(80),Q$3=new Uint32Array(80);let Jn$6 = class Jn extends An$3{constructor(){super(128,64,16,false),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209;}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:a,Dh:u,Dl:i,Eh:D,El:c,Fh:l,Fl:p,Gh:w,Gl:h,Hh:g,Hl:S}=this;return [e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S]}set(e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=u|0,this.Dl=i|0,this.Eh=D|0,this.El=c|0,this.Fh=l|0,this.Fl=p|0,this.Gh=w|0,this.Gl=h|0,this.Hh=g|0,this.Hl=S|0;}process(e,n){for(let d=0;d<16;d++,n+=4)P$8[d]=e.getUint32(n),Q$3[d]=e.getUint32(n+=4);for(let d=16;d<80;d++){const m=P$8[d-15]|0,F=Q$3[d-15]|0,q=x$7.rotrSH(m,F,1)^x$7.rotrSH(m,F,8)^x$7.shrSH(m,F,7),z=x$7.rotrSL(m,F,1)^x$7.rotrSL(m,F,8)^x$7.shrSL(m,F,7),I=P$8[d-2]|0,O=Q$3[d-2]|0,ot=x$7.rotrSH(I,O,19)^x$7.rotrBH(I,O,61)^x$7.shrSH(I,O,6),tt=x$7.rotrSL(I,O,19)^x$7.rotrBL(I,O,61)^x$7.shrSL(I,O,6),st=x$7.add4L(z,tt,Q$3[d-7],Q$3[d-16]),at=x$7.add4H(st,q,ot,P$8[d-7],P$8[d-16]);P$8[d]=at|0,Q$3[d]=st|0;}let{Ah:r,Al:o,Bh:s,Bl:a,Ch:u,Cl:i,Dh:D,Dl:c,Eh:l,El:p,Fh:w,Fl:h,Gh:g,Gl:S,Hh:v,Hl:L}=this;for(let d=0;d<80;d++){const m=x$7.rotrSH(l,p,14)^x$7.rotrSH(l,p,18)^x$7.rotrBH(l,p,41),F=x$7.rotrSL(l,p,14)^x$7.rotrSL(l,p,18)^x$7.rotrBL(l,p,41),q=l&w^~l&g,z=p&h^~p&S,I=x$7.add5L(L,F,z,Yn$5[d],Q$3[d]),O=x$7.add5H(I,v,m,q,Vn$5[d],P$8[d]),ot=I|0,tt=x$7.rotrSH(r,o,28)^x$7.rotrBH(r,o,34)^x$7.rotrBH(r,o,39),st=x$7.rotrSL(r,o,28)^x$7.rotrBL(r,o,34)^x$7.rotrBL(r,o,39),at=r&s^r&u^s&u,Ct=o&a^o&i^a&i;v=g|0,L=S|0,g=w|0,S=h|0,w=l|0,h=p|0,{h:l,l:p}=x$7.add(D|0,c|0,O|0,ot|0),D=u|0,c=i|0,u=s|0,i=a|0,s=r|0,a=o|0;const At=x$7.add3L(ot,st,Ct);r=x$7.add3H(At,O,tt,at),o=At|0;}(({h:r,l:o}=x$7.add(this.Ah|0,this.Al|0,r|0,o|0))),{h:s,l:a}=x$7.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:u,l:i}=x$7.add(this.Ch|0,this.Cl|0,u|0,i|0),{h:D,l:c}=x$7.add(this.Dh|0,this.Dl|0,D|0,c|0),{h:l,l:p}=x$7.add(this.Eh|0,this.El|0,l|0,p|0),{h:w,l:h}=x$7.add(this.Fh|0,this.Fl|0,w|0,h|0),{h:g,l:S}=x$7.add(this.Gh|0,this.Gl|0,g|0,S|0),{h:v,l:L}=x$7.add(this.Hh|0,this.Hl|0,v|0,L|0),this.set(r,o,s,a,u,i,D,c,l,p,w,h,g,S,v,L);}roundClean(){P$8.fill(0),Q$3.fill(0);}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);}};const Kn$5=Bn$4(()=>new Jn$6);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt$4=BigInt(0),be$6=BigInt(1),Wn$6=BigInt(2);function It$5(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ut$5(t){if(!It$5(t))throw new Error("Uint8Array expected")}function Tt$7(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Xn$6=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ft$5(t){Ut$5(t);let e="";for(let n=0;n<t.length;n++)e+=Xn$6[t[n]];return e}function pe$6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vt$4:BigInt("0x"+t)}const K$4={_0:48,_9:57,A:65,F:70,a:97,f:102};function we$6(t){if(t>=K$4._0&&t<=K$4._9)return t-K$4._0;if(t>=K$4.A&&t<=K$4.F)return t-(K$4.A-10);if(t>=K$4.a&&t<=K$4.f)return t-(K$4.a-10)}function Ee$8(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const a=we$6(t.charCodeAt(s)),u=we$6(t.charCodeAt(s+1));if(a===void 0||u===void 0){const i=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+i+'" at index '+s)}r[o]=a*16+u;}return r}function Pn$4(t){return pe$6(Ft$5(t))}function Et$7(t){return Ut$5(t),pe$6(Ft$5(Uint8Array.from(t).reverse()))}function ge$4(t,e){return Ee$8(t.toString(16).padStart(e*2,"0"))}function Nt$5(t,e){return ge$4(t,e).reverse()}function W$3(t,e,n){let r;if(typeof e=="string")try{r=Ee$8(e);}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(It$5(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function ye$5(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Ut$5(o),e+=o.length;}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length;}return n}const Lt$7=t=>typeof t=="bigint"&&vt$4<=t;function Qn$6(t,e,n){return Lt$7(t)&&Lt$7(e)&&Lt$7(n)&&e<=t&&t<n}function ft$6(t,e,n,r){if(!Qn$6(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function tr$6(t){let e;for(e=0;t>vt$4;t>>=be$6,e+=1);return e}const er$6=t=>(Wn$6<<BigInt(t-1))-be$6,nr$7={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||It$5(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ot$6(t,e,n={}){const r=(o,s,a)=>{const u=nr$7[s];if(typeof u!="function")throw new Error("invalid validator function");const i=t[o];if(!(a&&i===void 0)&&!u(i,t))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+i)};for(const[o,s]of Object.entries(e))r(o,s,false);for(const[o,s]of Object.entries(n))r(o,s,true);return t}function xe$5(t){const e=new WeakMap;return (n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t(n,...r);return e.set(n,s),s}}const M$6=BigInt(0),N$5=BigInt(1),nt$3=BigInt(2),rr$7=BigInt(3),Ht$4=BigInt(4),Be$4=BigInt(5),Ce$5=BigInt(8);function H$7(t,e){const n=t%e;return n>=M$6?n:e+n}function or$7(t,e,n){if(e<M$6)throw new Error("invalid exponent, negatives unsupported");if(n<=M$6)throw new Error("invalid modulus");if(n===N$5)return M$6;let r=N$5;for(;e>M$6;)e&N$5&&(r=r*t%n),t=t*t%n,e>>=N$5;return r}function J$6(t,e,n){let r=t;for(;e-- >M$6;)r*=r,r%=n;return r}function Ae$4(t,e){if(t===M$6)throw new Error("invert: expected non-zero number");if(e<=M$6)throw new Error("invert: expected positive modulus, got "+e);let n=H$7(t,e),r=e,o=M$6,s=N$5;for(;n!==M$6;){const u=r/n,i=r%n,D=o-s*u;r=n,n=i,o=s,s=D;}if(r!==N$5)throw new Error("invert: does not exist");return H$7(o,e)}function sr$6(t){const e=(t-N$5)/nt$3;let n,r,o;for(n=t-N$5,r=0;n%nt$3===M$6;n/=nt$3,r++);for(o=nt$3;o<t&&or$7(o,e,t)!==t-N$5;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(t+N$5)/Ht$4;return function(i,D){const c=i.pow(D,a);if(!i.eql(i.sqr(c),D))throw new Error("Cannot find square root");return c}}const s=(n+N$5)/nt$3;return function(u,i){if(u.pow(i,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let D=r,c=u.pow(u.mul(u.ONE,o),n),l=u.pow(i,s),p=u.pow(i,n);for(;!u.eql(p,u.ONE);){if(u.eql(p,u.ZERO))return u.ZERO;let w=1;for(let g=u.sqr(p);w<D&&!u.eql(g,u.ONE);w++)g=u.sqr(g);const h=u.pow(c,N$5<<BigInt(D-w-1));c=u.sqr(h),l=u.mul(l,h),p=u.mul(p,c),D=w;}return l}}function ir$5(t){if(t%Ht$4===rr$7){const e=(t+N$5)/Ht$4;return function(r,o){const s=r.pow(o,e);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(t%Ce$5===Be$4){const e=(t-Be$4)/Ce$5;return function(r,o){const s=r.mul(o,nt$3),a=r.pow(s,e),u=r.mul(o,a),i=r.mul(r.mul(u,nt$3),a),D=r.mul(u,r.sub(i,r.ONE));if(!r.eql(r.sqr(D),o))throw new Error("Cannot find square root");return D}}return sr$6(t)}const ur$5=(t,e)=>(H$7(t,e)&N$5)===N$5,cr$6=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ar$6(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=cr$6.reduce((r,o)=>(r[o]="function",r),e);return Ot$6(t,n)}function fr$5(t,e,n){if(n<M$6)throw new Error("invalid exponent, negatives unsupported");if(n===M$6)return t.ONE;if(n===N$5)return e;let r=t.ONE,o=e;for(;n>M$6;)n&N$5&&(r=t.mul(r,o)),o=t.sqr(o),n>>=N$5;return r}function Dr$6(t,e){const n=new Array(e.length),r=e.reduce((s,a,u)=>t.is0(a)?s:(n[u]=s,t.mul(s,a)),t.ONE),o=t.inv(r);return e.reduceRight((s,a,u)=>t.is0(a)?s:(n[u]=t.mul(s,n[u]),t.mul(s,a)),o),n}function me$7(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return {nBitLength:n,nByteLength:r}}function _e$8(t,e,n=false,r={}){if(t<=M$6)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:o,nByteLength:s}=me$7(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const u=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:s,MASK:er$6(o),ZERO:M$6,ONE:N$5,create:i=>H$7(i,t),isValid:i=>{if(typeof i!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof i);return M$6<=i&&i<t},is0:i=>i===M$6,isOdd:i=>(i&N$5)===N$5,neg:i=>H$7(-i,t),eql:(i,D)=>i===D,sqr:i=>H$7(i*i,t),add:(i,D)=>H$7(i+D,t),sub:(i,D)=>H$7(i-D,t),mul:(i,D)=>H$7(i*D,t),pow:(i,D)=>fr$5(u,i,D),div:(i,D)=>H$7(i*Ae$4(D,t),t),sqrN:i=>i*i,addN:(i,D)=>i+D,subN:(i,D)=>i-D,mulN:(i,D)=>i*D,inv:i=>Ae$4(i,t),sqrt:r.sqrt||(i=>(a||(a=ir$5(t)),a(u,i))),invertBatch:i=>Dr$6(u,i),cmov:(i,D,c)=>c?D:i,toBytes:i=>n?Nt$5(i,s):ge$4(i,s),fromBytes:i=>{if(i.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+i.length);return n?Et$7(i):Pn$4(i)}});return Object.freeze(u)}const Se$5=BigInt(0),gt$5=BigInt(1);function zt$5(t,e){const n=e.negate();return t?n:e}function ve$4(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Mt$6(t,e){ve$4(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return {windows:n,windowSize:r}}function dr$6(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)});}function hr$6(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)});}const qt$5=new WeakMap,Ie$5=new WeakMap;function $t$4(t){return Ie$5.get(t)||1}function lr$6(t,e){return {constTimeNegate:zt$5,hasPrecomputes(n){return $t$4(n)!==1},unsafeLadder(n,r,o=t.ZERO){let s=n;for(;r>Se$5;)r&gt$5&&(o=o.add(s)),s=s.double(),r>>=gt$5;return o},precomputeWindow(n,r){const{windows:o,windowSize:s}=Mt$6(r,e),a=[];let u=n,i=u;for(let D=0;D<o;D++){i=u,a.push(i);for(let c=1;c<s;c++)i=i.add(u),a.push(i);u=i.double();}return a},wNAF(n,r,o){const{windows:s,windowSize:a}=Mt$6(n,e);let u=t.ZERO,i=t.BASE;const D=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let p=0;p<s;p++){const w=p*a;let h=Number(o&D);o>>=l,h>a&&(h-=c,o+=gt$5);const g=w,S=w+Math.abs(h)-1,v=p%2!==0,L=h<0;h===0?i=i.add(zt$5(v,r[g])):u=u.add(zt$5(L,r[S]));}return {p:u,f:i}},wNAFUnsafe(n,r,o,s=t.ZERO){const{windows:a,windowSize:u}=Mt$6(n,e),i=BigInt(2**n-1),D=2**n,c=BigInt(n);for(let l=0;l<a;l++){const p=l*u;if(o===Se$5)break;let w=Number(o&i);if(o>>=c,w>u&&(w-=D,o+=gt$5),w===0)continue;let h=r[p+Math.abs(w)-1];w<0&&(h=h.negate()),s=s.add(h);}return s},getPrecomputes(n,r,o){let s=qt$5.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&qt$5.set(r,o(s))),s},wNAFCached(n,r,o){const s=$t$4(n);return this.wNAF(s,this.getPrecomputes(s,n,o),r)},wNAFCachedUnsafe(n,r,o,s){const a=$t$4(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,o),r,s)},setWindowSize(n,r){ve$4(r,e),Ie$5.set(n,r),qt$5.delete(n);}}}function br$6(t,e,n,r){if(dr$6(n,t),hr$6(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,s=tr$6(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,u=(1<<a)-1,i=new Array(u+1).fill(o),D=Math.floor((e.BITS-1)/a)*a;let c=o;for(let l=D;l>=0;l-=a){i.fill(o);for(let w=0;w<r.length;w++){const h=r[w],g=Number(h>>BigInt(l)&BigInt(u));i[g]=i[g].add(n[w]);}let p=o;for(let w=i.length-1,h=o;w>0;w--)h=h.add(i[w]),p=p.add(h);if(c=c.add(p),l!==0)for(let w=0;w<a;w++)c=c.double();}return c}function pr$5(t){return ar$6(t.Fp),Ot$6(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...me$7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const G$5=BigInt(0),j$4=BigInt(1),yt$5=BigInt(2),wr$6=BigInt(8),Er$5={zip215:true};function gr$5(t){const e=pr$5(t);return Ot$6(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function yr$5(t){const e=gr$5(t),{Fp:n,n:r,prehash:o,hash:s,randomBytes:a,nByteLength:u,h:i}=e,D=yt$5<<BigInt(u*8)-j$4,c=n.create,l=_e$8(e.n,e.nBitLength),p=e.uvRatio||((y,f)=>{try{return {isValid:!0,value:n.sqrt(y*n.inv(f))}}catch{return {isValid:false,value:G$5}}}),w=e.adjustScalarBytes||(y=>y),h=e.domain||((y,f,b)=>{if(Tt$7("phflag",b),f.length||b)throw new Error("Contexts/pre-hash are not supported");return y});function g(y,f){ft$6("coordinate "+y,f,G$5,D);}function S(y){if(!(y instanceof d))throw new Error("ExtendedPoint expected")}const v=xe$5((y,f)=>{const{ex:b,ey:E,ez:B}=y,C=y.is0();f==null&&(f=C?wr$6:n.inv(B));const A=c(b*f),U=c(E*f),_=c(B*f);if(C)return {x:G$5,y:j$4};if(_!==j$4)throw new Error("invZ was invalid");return {x:A,y:U}}),L=xe$5(y=>{const{a:f,d:b}=e;if(y.is0())throw new Error("bad point: ZERO");const{ex:E,ey:B,ez:C,et:A}=y,U=c(E*E),_=c(B*B),T=c(C*C),$=c(T*T),R=c(U*f),V=c(T*c(R+_)),Y=c($+c(b*c(U*_)));if(V!==Y)throw new Error("bad point: equation left != right (1)");const Z=c(E*B),X=c(C*A);if(Z!==X)throw new Error("bad point: equation left != right (2)");return  true});class d{constructor(f,b,E,B){this.ex=f,this.ey=b,this.ez=E,this.et=B,g("x",f),g("y",b),g("z",E),g("t",B),Object.freeze(this);}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(f){if(f instanceof d)throw new Error("extended point not allowed");const{x:b,y:E}=f||{};return g("x",b),g("y",E),new d(b,E,j$4,c(b*E))}static normalizeZ(f){const b=n.invertBatch(f.map(E=>E.ez));return f.map((E,B)=>E.toAffine(b[B])).map(d.fromAffine)}static msm(f,b){return br$6(d,l,f,b)}_setWindowSize(f){q.setWindowSize(this,f);}assertValidity(){L(this);}equals(f){S(f);const{ex:b,ey:E,ez:B}=this,{ex:C,ey:A,ez:U}=f,_=c(b*U),T=c(C*B),$=c(E*U),R=c(A*B);return _===T&&$===R}is0(){return this.equals(d.ZERO)}negate(){return new d(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:f}=e,{ex:b,ey:E,ez:B}=this,C=c(b*b),A=c(E*E),U=c(yt$5*c(B*B)),_=c(f*C),T=b+E,$=c(c(T*T)-C-A),R=_+A,V=R-U,Y=_-A,Z=c($*V),X=c(R*Y),et=c($*Y),pt=c(V*R);return new d(Z,X,pt,et)}add(f){S(f);const{a:b,d:E}=e,{ex:B,ey:C,ez:A,et:U}=this,{ex:_,ey:T,ez:$,et:R}=f;if(b===BigInt(-1)){const re=c((C-B)*(T+_)),oe=c((C+B)*(T-_)),mt=c(oe-re);if(mt===G$5)return this.double();const se=c(A*yt$5*R),ie=c(U*yt$5*$),ue=ie+se,ce=oe+re,ae=ie-se,Dn=c(ue*mt),dn=c(ce*ae),hn=c(ue*ae),ln=c(mt*ce);return new d(Dn,dn,ln,hn)}const V=c(B*_),Y=c(C*T),Z=c(U*E*R),X=c(A*$),et=c((B+C)*(_+T)-V-Y),pt=X-Z,ee=X+Z,ne=c(Y-b*V),un=c(et*pt),cn=c(ee*ne),an=c(et*ne),fn=c(pt*ee);return new d(un,cn,fn,an)}subtract(f){return this.add(f.negate())}wNAF(f){return q.wNAFCached(this,f,d.normalizeZ)}multiply(f){const b=f;ft$6("scalar",b,j$4,r);const{p:E,f:B}=this.wNAF(b);return d.normalizeZ([E,B])[0]}multiplyUnsafe(f,b=d.ZERO){const E=f;return ft$6("scalar",E,G$5,r),E===G$5?F:this.is0()||E===j$4?this:q.wNAFCachedUnsafe(this,E,d.normalizeZ,b)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return q.unsafeLadder(this,r).is0()}toAffine(f){return v(this,f)}clearCofactor(){const{h:f}=e;return f===j$4?this:this.multiplyUnsafe(f)}static fromHex(f,b=false){const{d:E,a:B}=e,C=n.BYTES;f=W$3("pointHex",f,C),Tt$7("zip215",b);const A=f.slice(),U=f[C-1];A[C-1]=U&-129;const _=Et$7(A),T=b?D:n.ORDER;ft$6("pointHex.y",_,G$5,T);const $=c(_*_),R=c($-j$4),V=c(E*$-B);let{isValid:Y,value:Z}=p(R,V);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const X=(Z&j$4)===j$4,et=(U&128)!==0;if(!b&&Z===G$5&&et)throw new Error("Point.fromHex: x=0 and x_0=1");return et!==X&&(Z=c(-Z)),d.fromAffine({x:Z,y:_})}static fromPrivateKey(f){return O(f).point}toRawBytes(){const{x:f,y:b}=this.toAffine(),E=Nt$5(b,n.BYTES);return E[E.length-1]|=f&j$4?128:0,E}toHex(){return Ft$5(this.toRawBytes())}}d.BASE=new d(e.Gx,e.Gy,j$4,c(e.Gx*e.Gy)),d.ZERO=new d(G$5,j$4,j$4,G$5);const{BASE:m,ZERO:F}=d,q=lr$6(d,u*8);function z(y){return H$7(y,r)}function I(y){return z(Et$7(y))}function O(y){const f=n.BYTES;y=W$3("private key",y,f);const b=W$3("hashed private key",s(y),2*f),E=w(b.slice(0,f)),B=b.slice(f,2*f),C=I(E),A=m.multiply(C),U=A.toRawBytes();return {head:E,prefix:B,scalar:C,point:A,pointBytes:U}}function ot(y){return O(y).pointBytes}function tt(y=new Uint8Array,...f){const b=ye$5(...f);return I(s(h(b,W$3("context",y),!!o)))}function st(y,f,b={}){y=W$3("message",y),o&&(y=o(y));const{prefix:E,scalar:B,pointBytes:C}=O(f),A=tt(b.context,E,y),U=m.multiply(A).toRawBytes(),_=tt(b.context,U,C,y),T=z(A+_*B);ft$6("signature.s",T,G$5,r);const $=ye$5(U,Nt$5(T,n.BYTES));return W$3("result",$,n.BYTES*2)}const at=Er$5;function Ct(y,f,b,E=at){const{context:B,zip215:C}=E,A=n.BYTES;y=W$3("signature",y,2*A),f=W$3("message",f),b=W$3("publicKey",b,A),C!==void 0&&Tt$7("zip215",C),o&&(f=o(f));const U=Et$7(y.slice(A,2*A));let _,T,$;try{_=d.fromHex(b,C),T=d.fromHex(y.slice(0,A),C),$=m.multiplyUnsafe(U);}catch{return  false}if(!C&&_.isSmallOrder())return  false;const R=tt(B,T.toRawBytes(),_.toRawBytes(),f);return T.add(_.multiplyUnsafe(R)).subtract($).clearCofactor().equals(d.ZERO)}return m._setWindowSize(8),{CURVE:e,getPublicKey:ot,sign:st,verify:Ct,ExtendedPoint:d,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>a(n.BYTES),precompute(y=8,f=d.BASE){return f._setWindowSize(y),f.multiply(BigInt(3)),f}}}}BigInt(0),BigInt(1);const kt$6=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ue$7=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const xr$5=BigInt(1),Te$4=BigInt(2);BigInt(3);const Br$6=BigInt(5),Cr$6=BigInt(8);function Ar$7(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=kt$6,u=t*t%s*t%s,i=J$6(u,Te$4,s)*u%s,D=J$6(i,xr$5,s)*t%s,c=J$6(D,Br$6,s)*D%s,l=J$6(c,e,s)*c%s,p=J$6(l,n,s)*l%s,w=J$6(p,r,s)*p%s,h=J$6(w,o,s)*w%s,g=J$6(h,o,s)*w%s,S=J$6(g,e,s)*c%s;return {pow_p_5_8:J$6(S,Te$4,s)*t%s,b2:u}}function mr$6(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function _r$7(t,e){const n=kt$6,r=H$7(e*e*e,n),o=H$7(r*r*e,n),s=Ar$7(t*o).pow_p_5_8;let a=H$7(t*r*s,n);const u=H$7(e*a*a,n),i=a,D=H$7(a*Ue$7,n),c=u===t,l=u===H$7(-t,n),p=u===H$7(-t*Ue$7,n);return c&&(a=i),(l||p)&&(a=D),ur$5(a,n)&&(a=H$7(-a,n)),{isValid:c||l,value:a}}const Sr$7=(()=>_e$8(kt$6,void 0,true))(),vr$6=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Sr$7,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Cr$6,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Kn$5,randomBytes:he$6,adjustScalarBytes:mr$6,uvRatio:_r$7}))(),Rt$8=(()=>yr$5(vr$6))(),jt$6="EdDSA",Zt$4="JWT",ut$9=".",Dt$4="base64url",Gt$7="utf8",xt$6="utf8",Vt$6=":",Yt$6="did",Jt$7="key",dt$7="base58btc",Kt$5="z",Wt$7="K36",Ne$4=32;function Xt$6(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Le$8(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xt$6(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Oe$4(t,e){e||(e=t.reduce((o,s)=>o+s.length,0));const n=Le$8(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return Xt$6(n)}function Ir$7(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=o;}var u=t.length,i=t.charAt(0),D=Math.log(u)/Math.log(256),c=Math.log(256)/Math.log(u);function l(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return "";for(var g=0,S=0,v=0,L=h.length;v!==L&&h[v]===0;)v++,g++;for(var d=(L-v)*c+1>>>0,m=new Uint8Array(d);v!==L;){for(var F=h[v],q=0,z=d-1;(F!==0||q<S)&&z!==-1;z--,q++)F+=256*m[z]>>>0,m[z]=F%u>>>0,F=F/u>>>0;if(F!==0)throw new Error("Non-zero carry");S=q,v++;}for(var I=d-S;I!==d&&m[I]===0;)I++;for(var O=i.repeat(g);I<d;++I)O+=t.charAt(m[I]);return O}function p(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var g=0;if(h[g]!==" "){for(var S=0,v=0;h[g]===i;)S++,g++;for(var L=(h.length-g)*D+1>>>0,d=new Uint8Array(L);h[g];){var m=n[h.charCodeAt(g)];if(m===255)return;for(var F=0,q=L-1;(m!==0||F<v)&&q!==-1;q--,F++)m+=u*d[q]>>>0,d[q]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");v=F,g++;}if(h[g]!==" "){for(var z=L-v;z!==L&&d[z]===0;)z++;for(var I=new Uint8Array(S+(L-z)),O=S;z!==L;)I[O++]=d[z++];return I}}}function w(h){var g=p(h);if(g)return g;throw new Error(`Non-${e} character`)}return {encode:l,decodeUnsafe:p,decode:w}}var Ur$7=Ir$7,Tr$7=Ur$7;const He$5=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Fr$6=t=>new TextEncoder().encode(t),Nr$7=t=>new TextDecoder().decode(t);let Lr$6 = class Lr{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r;}encode(e){if(e instanceof Uint8Array)return `${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}};let Or$7 = class Or{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r;}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ze$6(this,e)}};let Hr$6 = class Hr{constructor(e){this.decoders=e;}or(e){return ze$6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const ze$6=(t,e)=>new Hr$6({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let zr$7 = class zr{constructor(e,n,r,o){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=o,this.encoder=new Lr$6(e,n,r),this.decoder=new Or$7(e,n,o);}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Bt$6=({name:t,prefix:e,encode:n,decode:r})=>new zr$7(t,e,n,r),ht$6=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:o}=Tr$7(n,e);return Bt$6({prefix:t,name:e,encode:r,decode:s=>He$5(o(s))})},Mr$6=(t,e,n,r)=>{const o={};for(let c=0;c<e.length;++c)o[e[c]]=c;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let u=0,i=0,D=0;for(let c=0;c<s;++c){const l=o[t[c]];if(l===void 0)throw new SyntaxError(`Non-${r} character`);i=i<<n|l,u+=n,u>=8&&(u-=8,a[D++]=255&i>>u);}if(u>=n||255&i<<8-u)throw new SyntaxError("Unexpected end of data");return a},qr$5=(t,e,n)=>{const r=e[e.length-1]==="=",o=(1<<n)-1;let s="",a=0,u=0;for(let i=0;i<t.length;++i)for(u=u<<8|t[i],a+=8;a>n;)a-=n,s+=e[o&u>>a];if(a&&(s+=e[o&u<<n-a]),r)for(;s.length*n&7;)s+="=";return s},k$5=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Bt$6({prefix:e,name:t,encode(o){return qr$5(o,r,n)},decode(o){return Mr$6(o,r,n,t)}}),$r$6=Bt$6({prefix:"\0",name:"identity",encode:t=>Nr$7(t),decode:t=>Fr$6(t)});var kr$6=Object.freeze({__proto__:null,identity:$r$6});const Rr$7=k$5({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jr$5=Object.freeze({__proto__:null,base2:Rr$7});const Zr$7=k$5({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gr$6=Object.freeze({__proto__:null,base8:Zr$7});const Vr$6=ht$6({prefix:"9",name:"base10",alphabet:"0123456789"});var Yr$7=Object.freeze({__proto__:null,base10:Vr$6});const Jr$7=k$5({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kr$6=k$5({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wr$7=Object.freeze({__proto__:null,base16:Jr$7,base16upper:Kr$6});const Xr$6=k$5({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pr$6=k$5({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qr$4=k$5({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),to$5=k$5({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eo$4=k$5({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),no$5=k$5({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ro$5=k$5({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oo$4=k$5({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),so$4=k$5({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var io$4=Object.freeze({__proto__:null,base32:Xr$6,base32upper:Pr$6,base32pad:Qr$4,base32padupper:to$5,base32hex:eo$4,base32hexupper:no$5,base32hexpad:ro$5,base32hexpadupper:oo$4,base32z:so$4});const uo$4=ht$6({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),co$5=ht$6({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ao$5=Object.freeze({__proto__:null,base36:uo$4,base36upper:co$5});const fo$3=ht$6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Do$3=ht$6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ho$4=Object.freeze({__proto__:null,base58btc:fo$3,base58flickr:Do$3});const lo$3=k$5({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bo$4=k$5({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),po$4=k$5({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wo$4=k$5({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Eo$4=Object.freeze({__proto__:null,base64:lo$3,base64pad:bo$4,base64url:po$4,base64urlpad:wo$4});const Me$9=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),go$4=Me$9.reduce((t,e,n)=>(t[n]=e,t),[]),yo$4=Me$9.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xo$4(t){return t.reduce((e,n)=>(e+=go$4[n],e),"")}function Bo$4(t){const e=[];for(const n of t){const r=yo$4[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r);}return new Uint8Array(e)}const Co$3=Bt$6({prefix:"\u{1F680}",name:"base256emoji",encode:xo$4,decode:Bo$4});var Ao$4=Object.freeze({__proto__:null,base256emoji:Co$3}),mo$4=$e$6,qe$6=128,So$4=-128,vo$4=Math.pow(2,31);function $e$6(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vo$4;)e[n++]=t&255|qe$6,t/=128;for(;t&So$4;)e[n++]=t&255|qe$6,t>>>=7;return e[n]=t|0,$e$6.bytes=n-r+1,e}var Io$4=Pt$6,Uo$4=128,ke$8=127;function Pt$6(t,r){var n=0,r=r||0,o=0,s=r,a,u=t.length;do{if(s>=u)throw Pt$6.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=o<28?(a&ke$8)<<o:(a&ke$8)*Math.pow(2,o),o+=7;}while(a>=Uo$4);return Pt$6.bytes=s-r,n}var To$4=Math.pow(2,7),Fo$3=Math.pow(2,14),No$4=Math.pow(2,21),Lo$4=Math.pow(2,28),Oo$4=Math.pow(2,35),Ho$3=Math.pow(2,42),zo$3=Math.pow(2,49),Mo$3=Math.pow(2,56),qo$3=Math.pow(2,63),$o$4=function(t){return t<To$4?1:t<Fo$3?2:t<No$4?3:t<Lo$4?4:t<Oo$4?5:t<Ho$3?6:t<zo$3?7:t<Mo$3?8:t<qo$3?9:10},ko$3={encode:mo$4,decode:Io$4,encodingLength:$o$4},Re$4=ko$3;const je$7=(t,e,n=0)=>(Re$4.encode(t,e,n),e),Ze$5=t=>Re$4.encodingLength(t),Qt$6=(t,e)=>{const n=e.byteLength,r=Ze$5(t),o=r+Ze$5(n),s=new Uint8Array(o+n);return je$7(t,s,0),je$7(n,s,r),s.set(e,o),new Ro$4(t,n,e,s)};let Ro$4 = class Ro{constructor(e,n,r,o){this.code=e,this.size=n,this.digest=r,this.bytes=o;}};const Ge$9=({name:t,code:e,encode:n})=>new jo$3(t,e,n);let jo$3 = class jo{constructor(e,n,r){this.name=e,this.code=n,this.encode=r;}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Qt$6(this.code,n):n.then(r=>Qt$6(this.code,r))}else throw Error("Unknown type, must be binary type")}};const Ve$6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Zo$2=Ge$9({name:"sha2-256",code:18,encode:Ve$6("SHA-256")}),Go$4=Ge$9({name:"sha2-512",code:19,encode:Ve$6("SHA-512")});var Vo$3=Object.freeze({__proto__:null,sha256:Zo$2,sha512:Go$4});const Ye$5=0,Yo$4="identity",Je$5=He$5,Jo$4=t=>Qt$6(Ye$5,Je$5(t)),Ko$3={code:Ye$5,name:Yo$4,encode:Je$5,digest:Jo$4};var Wo$4=Object.freeze({__proto__:null,identity:Ko$3});new TextEncoder,new TextDecoder;const Ke$a={...kr$6,...jr$5,...Gr$6,...Yr$7,...Wr$7,...io$4,...ao$5,...ho$4,...Eo$4,...Ao$4};({...Vo$3,...Wo$4});function We$5(t,e,n,r){return {name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Xe$6=We$5("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),te$5=We$5("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Le$8(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Pe$4={utf8:Xe$6,"utf-8":Xe$6,hex:Ke$a.base16,latin1:te$5,ascii:te$5,binary:te$5,...Ke$a};function ct$4(t,e="utf8"){const n=Pe$4[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return (e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function rt$3(t,e="utf8"){const n=Pe$4[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return (e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xt$6(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function lt$5(t){return safeJsonParse(ct$4(rt$3(t,Dt$4),Gt$7))}function bt$4(t){return ct$4(rt$3(safeJsonStringify(t),Gt$7),Dt$4)}function Qe$5(t){const e=rt$3(Wt$7,dt$7),n=Kt$5+ct$4(Oe$4([e,t]),dt$7);return [Yt$6,Jt$7,n].join(Vt$6)}function en$9(t){return ct$4(t,Dt$4)}function nn$7(t){return rt$3(t,Dt$4)}function rn$7(t){return rt$3([bt$4(t.header),bt$4(t.payload)].join(ut$9),xt$6)}function on$7(t){return [bt$4(t.header),bt$4(t.payload),en$9(t.signature)].join(ut$9)}function sn$7(t){const e=t.split(ut$9),n=lt$5(e[0]),r=lt$5(e[1]),o=nn$7(e[2]),s=rt$3(e.slice(0,2).join(ut$9),xt$6);return {header:n,payload:r,signature:o,data:s}}function Po$3(t=he$6(Ne$4)){const e=Rt$8.getPublicKey(t);return {secretKey:Oe$4([t,e]),publicKey:e}}async function Qo$1(t,e,n,r,o=cjsExports$3.fromMiliseconds(Date.now())){const s={alg:jt$6,typ:Zt$4},a=Qe$5(r.publicKey),u=o+n,i={iss:a,sub:t,aud:e,iat:o,exp:u},D=rn$7({header:s,payload:i}),c=Rt$8.sign(D,r.secretKey.slice(0,32));return on$7({header:s,payload:i,signature:c})}

    var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
            if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
        }
        return to.concat(ar || Array.prototype.slice.call(from));
    };
    var BrowserInfo = /** @class */ (function () {
        function BrowserInfo(name, version, os) {
            this.name = name;
            this.version = version;
            this.os = os;
            this.type = 'browser';
        }
        return BrowserInfo;
    }());
    var NodeInfo = /** @class */ (function () {
        function NodeInfo(version) {
            this.version = version;
            this.type = 'node';
            this.name = 'node';
            this.os = process.platform;
        }
        return NodeInfo;
    }());
    var SearchBotDeviceInfo = /** @class */ (function () {
        function SearchBotDeviceInfo(name, version, os, bot) {
            this.name = name;
            this.version = version;
            this.os = os;
            this.bot = bot;
            this.type = 'bot-device';
        }
        return SearchBotDeviceInfo;
    }());
    var BotInfo = /** @class */ (function () {
        function BotInfo() {
            this.type = 'bot';
            this.bot = true; // NOTE: deprecated test name instead
            this.name = 'bot';
            this.version = null;
            this.os = null;
        }
        return BotInfo;
    }());
    var ReactNativeInfo = /** @class */ (function () {
        function ReactNativeInfo() {
            this.type = 'react-native';
            this.name = 'react-native';
            this.version = null;
            this.os = null;
        }
        return ReactNativeInfo;
    }());
    // tslint:disable-next-line:max-line-length
    var SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;
    var SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/;
    var REQUIRED_VERSION_PARTS = 3;
    var userAgentRules = [
        ['aol', /AOLShield\/([0-9\._]+)/],
        ['edge', /Edge\/([0-9\._]+)/],
        ['edge-ios', /EdgiOS\/([0-9\._]+)/],
        ['yandexbrowser', /YaBrowser\/([0-9\._]+)/],
        ['kakaotalk', /KAKAOTALK\s([0-9\.]+)/],
        ['samsung', /SamsungBrowser\/([0-9\.]+)/],
        ['silk', /\bSilk\/([0-9._-]+)\b/],
        ['miui', /MiuiBrowser\/([0-9\.]+)$/],
        ['beaker', /BeakerBrowser\/([0-9\.]+)/],
        ['edge-chromium', /EdgA?\/([0-9\.]+)/],
        [
            'chromium-webview',
            /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,
        ],
        ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
        ['phantomjs', /PhantomJS\/([0-9\.]+)(:?\s|$)/],
        ['crios', /CriOS\/([0-9\.]+)(:?\s|$)/],
        ['firefox', /Firefox\/([0-9\.]+)(?:\s|$)/],
        ['fxios', /FxiOS\/([0-9\.]+)/],
        ['opera-mini', /Opera Mini.*Version\/([0-9\.]+)/],
        ['opera', /Opera\/([0-9\.]+)(?:\s|$)/],
        ['opera', /OPR\/([0-9\.]+)(:?\s|$)/],
        ['pie', /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
        ['pie', /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],
        ['netfront', /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
        ['ie', /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
        ['ie', /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
        ['ie', /MSIE\s(7\.0)/],
        ['bb10', /BB10;\sTouch.*Version\/([0-9\.]+)/],
        ['android', /Android\s([0-9\.]+)/],
        ['ios', /Version\/([0-9\._]+).*Mobile.*Safari.*/],
        ['safari', /Version\/([0-9\._]+).*Safari/],
        ['facebook', /FB[AS]V\/([0-9\.]+)/],
        ['instagram', /Instagram\s([0-9\.]+)/],
        ['ios-webview', /AppleWebKit\/([0-9\.]+).*Mobile/],
        ['ios-webview', /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
        ['curl', /^curl\/([0-9\.]+)$/],
        ['searchbot', SEARCHBOX_UA_REGEX],
    ];
    var operatingSystemRules = [
        ['iOS', /iP(hone|od|ad)/],
        ['Android OS', /Android/],
        ['BlackBerry OS', /BlackBerry|BB10/],
        ['Windows Mobile', /IEMobile/],
        ['Amazon OS', /Kindle/],
        ['Windows 3.11', /Win16/],
        ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],
        ['Windows 98', /(Windows 98)|(Win98)/],
        ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],
        ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],
        ['Windows Server 2003', /(Windows NT 5.2)/],
        ['Windows Vista', /(Windows NT 6.0)/],
        ['Windows 7', /(Windows NT 6.1)/],
        ['Windows 8', /(Windows NT 6.2)/],
        ['Windows 8.1', /(Windows NT 6.3)/],
        ['Windows 10', /(Windows NT 10.0)/],
        ['Windows ME', /Windows ME/],
        ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
        ['Open BSD', /OpenBSD/],
        ['Sun OS', /SunOS/],
        ['Chrome OS', /CrOS/],
        ['Linux', /(Linux)|(X11)/],
        ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],
        ['QNX', /QNX/],
        ['BeOS', /BeOS/],
        ['OS/2', /OS\/2/],
    ];
    function detect(userAgent) {
        if (typeof document === 'undefined' &&
            typeof navigator !== 'undefined' &&
            navigator.product === 'ReactNative') {
            return new ReactNativeInfo();
        }
        if (typeof navigator !== 'undefined') {
            return parseUserAgent(navigator.userAgent);
        }
        return getNodeVersion();
    }
    function matchUserAgent(ua) {
        // opted for using reduce here rather than Array#first with a regex.test call
        // this is primarily because using the reduce we only perform the regex
        // execution once rather than once for the test and for the exec again below
        // probably something that needs to be benchmarked though
        return (ua !== '' &&
            userAgentRules.reduce(function (matched, _a) {
                var browser = _a[0], regex = _a[1];
                if (matched) {
                    return matched;
                }
                var uaMatch = regex.exec(ua);
                return !!uaMatch && [browser, uaMatch];
            }, false));
    }
    function parseUserAgent(ua) {
        var matchedRule = matchUserAgent(ua);
        if (!matchedRule) {
            return null;
        }
        var name = matchedRule[0], match = matchedRule[1];
        if (name === 'searchbot') {
            return new BotInfo();
        }
        // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)
        var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);
        if (versionParts) {
            if (versionParts.length < REQUIRED_VERSION_PARTS) {
                versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);
            }
        }
        else {
            versionParts = [];
        }
        var version = versionParts.join('.');
        var os = detectOS(ua);
        var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);
        if (searchBotMatch && searchBotMatch[1]) {
            return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);
        }
        return new BrowserInfo(name, version, os);
    }
    function detectOS(ua) {
        for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {
            var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];
            var match = regex.exec(ua);
            if (match) {
                return os;
            }
        }
        return null;
    }
    function getNodeVersion() {
        var isNode = typeof process !== 'undefined' && process.version;
        return isNode ? new NodeInfo(process.version.slice(1)) : null;
    }
    function createVersionParts(count) {
        var output = [];
        for (var ii = 0; ii < count; ii++) {
            output.push('0');
        }
        return output;
    }

    var cjs$2 = {};

    var hasRequiredCjs$2;

    function requireCjs$2 () {
    	if (hasRequiredCjs$2) return cjs$2;
    	hasRequiredCjs$2 = 1;
    	Object.defineProperty(cjs$2, "__esModule", { value: true });
    	cjs$2.getLocalStorage = cjs$2.getLocalStorageOrThrow = cjs$2.getCrypto = cjs$2.getCryptoOrThrow = cjs$2.getLocation = cjs$2.getLocationOrThrow = cjs$2.getNavigator = cjs$2.getNavigatorOrThrow = cjs$2.getDocument = cjs$2.getDocumentOrThrow = cjs$2.getFromWindowOrThrow = cjs$2.getFromWindow = void 0;
    	function getFromWindow(name) {
    	    let res = undefined;
    	    if (typeof window !== "undefined" && typeof window[name] !== "undefined") {
    	        res = window[name];
    	    }
    	    return res;
    	}
    	cjs$2.getFromWindow = getFromWindow;
    	function getFromWindowOrThrow(name) {
    	    const res = getFromWindow(name);
    	    if (!res) {
    	        throw new Error(`${name} is not defined in Window`);
    	    }
    	    return res;
    	}
    	cjs$2.getFromWindowOrThrow = getFromWindowOrThrow;
    	function getDocumentOrThrow() {
    	    return getFromWindowOrThrow("document");
    	}
    	cjs$2.getDocumentOrThrow = getDocumentOrThrow;
    	function getDocument() {
    	    return getFromWindow("document");
    	}
    	cjs$2.getDocument = getDocument;
    	function getNavigatorOrThrow() {
    	    return getFromWindowOrThrow("navigator");
    	}
    	cjs$2.getNavigatorOrThrow = getNavigatorOrThrow;
    	function getNavigator() {
    	    return getFromWindow("navigator");
    	}
    	cjs$2.getNavigator = getNavigator;
    	function getLocationOrThrow() {
    	    return getFromWindowOrThrow("location");
    	}
    	cjs$2.getLocationOrThrow = getLocationOrThrow;
    	function getLocation() {
    	    return getFromWindow("location");
    	}
    	cjs$2.getLocation = getLocation;
    	function getCryptoOrThrow() {
    	    return getFromWindowOrThrow("crypto");
    	}
    	cjs$2.getCryptoOrThrow = getCryptoOrThrow;
    	function getCrypto() {
    	    return getFromWindow("crypto");
    	}
    	cjs$2.getCrypto = getCrypto;
    	function getLocalStorageOrThrow() {
    	    return getFromWindowOrThrow("localStorage");
    	}
    	cjs$2.getLocalStorageOrThrow = getLocalStorageOrThrow;
    	function getLocalStorage() {
    	    return getFromWindow("localStorage");
    	}
    	cjs$2.getLocalStorage = getLocalStorage;
    	
    	return cjs$2;
    }

    var cjsExports$2 = requireCjs$2();

    var cjs$1 = {};

    var hasRequiredCjs$1;

    function requireCjs$1 () {
    	if (hasRequiredCjs$1) return cjs$1;
    	hasRequiredCjs$1 = 1;
    	Object.defineProperty(cjs$1, "__esModule", { value: true });
    	cjs$1.getWindowMetadata = void 0;
    	const window_getters_1 = requireCjs$2();
    	function getWindowMetadata() {
    	    let doc;
    	    let loc;
    	    try {
    	        doc = window_getters_1.getDocumentOrThrow();
    	        loc = window_getters_1.getLocationOrThrow();
    	    }
    	    catch (e) {
    	        return null;
    	    }
    	    function getIcons() {
    	        const links = doc.getElementsByTagName("link");
    	        const icons = [];
    	        for (let i = 0; i < links.length; i++) {
    	            const link = links[i];
    	            const rel = link.getAttribute("rel");
    	            if (rel) {
    	                if (rel.toLowerCase().indexOf("icon") > -1) {
    	                    const href = link.getAttribute("href");
    	                    if (href) {
    	                        if (href.toLowerCase().indexOf("https:") === -1 &&
    	                            href.toLowerCase().indexOf("http:") === -1 &&
    	                            href.indexOf("//") !== 0) {
    	                            let absoluteHref = loc.protocol + "//" + loc.host;
    	                            if (href.indexOf("/") === 0) {
    	                                absoluteHref += href;
    	                            }
    	                            else {
    	                                const path = loc.pathname.split("/");
    	                                path.pop();
    	                                const finalPath = path.join("/");
    	                                absoluteHref += finalPath + "/" + href;
    	                            }
    	                            icons.push(absoluteHref);
    	                        }
    	                        else if (href.indexOf("//") === 0) {
    	                            const absoluteUrl = loc.protocol + href;
    	                            icons.push(absoluteUrl);
    	                        }
    	                        else {
    	                            icons.push(href);
    	                        }
    	                    }
    	                }
    	            }
    	        }
    	        return icons;
    	    }
    	    function getWindowMetadataOfAny(...args) {
    	        const metaTags = doc.getElementsByTagName("meta");
    	        for (let i = 0; i < metaTags.length; i++) {
    	            const tag = metaTags[i];
    	            const attributes = ["itemprop", "property", "name"]
    	                .map((target) => tag.getAttribute(target))
    	                .filter((attr) => {
    	                if (attr) {
    	                    return args.includes(attr);
    	                }
    	                return false;
    	            });
    	            if (attributes.length && attributes) {
    	                const content = tag.getAttribute("content");
    	                if (content) {
    	                    return content;
    	                }
    	            }
    	        }
    	        return "";
    	    }
    	    function getName() {
    	        let name = getWindowMetadataOfAny("name", "og:site_name", "og:title", "twitter:title");
    	        if (!name) {
    	            name = doc.title;
    	        }
    	        return name;
    	    }
    	    function getDescription() {
    	        const description = getWindowMetadataOfAny("description", "og:description", "twitter:description", "keywords");
    	        return description;
    	    }
    	    const name = getName();
    	    const description = getDescription();
    	    const url = loc.origin;
    	    const icons = getIcons();
    	    const meta = {
    	        description,
    	        url,
    	        icons,
    	        name,
    	    };
    	    return meta;
    	}
    	cjs$1.getWindowMetadata = getWindowMetadata;
    	
    	return cjs$1;
    }

    var cjsExports$1 = requireCjs$1();

    function isHex$2(value, { strict = true } = {}) {
        if (!value)
            return false;
        if (typeof value !== 'string')
            return false;
        return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');
    }

    /**
     * @description Retrieves the size of the value (in bytes).
     *
     * @param value The value (hex or byte array) to retrieve the size of.
     * @returns The size of the value (in bytes).
     */
    function size$b(value) {
        if (isHex$2(value, { strict: false }))
            return Math.ceil((value.length - 2) / 2);
        return value.length;
    }

    const version$8 = '2.23.2';

    let errorConfig$2 = {
        getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath
            ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`
            : undefined,
        version: `viem@${version$8}`,
    };
    let BaseError$6 = class BaseError extends Error {
        constructor(shortMessage, args = {}) {
            const details = (() => {
                if (args.cause instanceof BaseError)
                    return args.cause.details;
                if (args.cause?.message)
                    return args.cause.message;
                return args.details;
            })();
            const docsPath = (() => {
                if (args.cause instanceof BaseError)
                    return args.cause.docsPath || args.docsPath;
                return args.docsPath;
            })();
            const docsUrl = errorConfig$2.getDocsUrl?.({ ...args, docsPath });
            const message = [
                shortMessage || 'An error occurred.',
                '',
                ...(args.metaMessages ? [...args.metaMessages, ''] : []),
                ...(docsUrl ? [`Docs: ${docsUrl}`] : []),
                ...(details ? [`Details: ${details}`] : []),
                ...(errorConfig$2.version ? [`Version: ${errorConfig$2.version}`] : []),
            ].join('\n');
            super(message, args.cause ? { cause: args.cause } : undefined);
            Object.defineProperty(this, "details", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docsPath", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "metaMessages", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "shortMessage", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "version", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'BaseError'
            });
            this.details = details;
            this.docsPath = docsPath;
            this.metaMessages = args.metaMessages;
            this.name = args.name ?? this.name;
            this.shortMessage = shortMessage;
            this.version = version$8;
        }
        walk(fn) {
            return walk$6(this, fn);
        }
    };
    function walk$6(err, fn) {
        if (fn?.(err))
            return err;
        if (err &&
            typeof err === 'object' &&
            'cause' in err &&
            err.cause !== undefined)
            return walk$6(err.cause, fn);
        return fn ? null : err;
    }

    let SizeExceedsPaddingSizeError$a = class SizeExceedsPaddingSizeError extends BaseError$6 {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });
        }
    };

    function pad$a(hexOrBytes, { dir, size = 32 } = {}) {
        if (typeof hexOrBytes === 'string')
            return padHex$2(hexOrBytes, { dir, size });
        return padBytes$2(hexOrBytes, { dir, size });
    }
    function padHex$2(hex_, { dir, size = 32 } = {}) {
        if (size === null)
            return hex_;
        const hex = hex_.replace('0x', '');
        if (hex.length > size * 2)
            throw new SizeExceedsPaddingSizeError$a({
                size: Math.ceil(hex.length / 2),
                targetSize: size,
                type: 'hex',
            });
        return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;
    }
    function padBytes$2(bytes, { dir, size = 32 } = {}) {
        if (size === null)
            return bytes;
        if (bytes.length > size)
            throw new SizeExceedsPaddingSizeError$a({
                size: bytes.length,
                targetSize: size,
                type: 'bytes',
            });
        const paddedBytes = new Uint8Array(size);
        for (let i = 0; i < size; i++) {
            const padEnd = dir === 'right';
            paddedBytes[padEnd ? i : size - i - 1] =
                bytes[padEnd ? i : bytes.length - i - 1];
        }
        return paddedBytes;
    }

    let IntegerOutOfRangeError$6 = class IntegerOutOfRangeError extends BaseError$6 {
        constructor({ max, min, signed, size, value, }) {
            super(`Number "${value}" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });
        }
    };
    let SizeOverflowError$a = class SizeOverflowError extends BaseError$6 {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });
        }
    };

    function assertSize$a(hexOrBytes, { size }) {
        if (size$b(hexOrBytes) > size)
            throw new SizeOverflowError$a({
                givenSize: size$b(hexOrBytes),
                maxSize: size,
            });
    }
    /**
     * Decodes a hex value into a bigint.
     *
     * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint
     *
     * @param hex Hex value to decode.
     * @param opts Options.
     * @returns BigInt value.
     *
     * @example
     * import { hexToBigInt } from 'viem'
     * const data = hexToBigInt('0x1a4', { signed: true })
     * // 420n
     *
     * @example
     * import { hexToBigInt } from 'viem'
     * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
     * // 420n
     */
    function hexToBigInt$2(hex, opts = {}) {
        const { signed } = opts;
        if (opts.size)
            assertSize$a(hex, { size: opts.size });
        const value = BigInt(hex);
        if (!signed)
            return value;
        const size = (hex.length - 2) / 2;
        const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;
        if (value <= max)
            return value;
        return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;
    }
    /**
     * Decodes a hex string into a number.
     *
     * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber
     *
     * @param hex Hex value to decode.
     * @param opts Options.
     * @returns Number value.
     *
     * @example
     * import { hexToNumber } from 'viem'
     * const data = hexToNumber('0x1a4')
     * // 420
     *
     * @example
     * import { hexToNumber } from 'viem'
     * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
     * // 420
     */
    function hexToNumber$4(hex, opts = {}) {
        return Number(hexToBigInt$2(hex, opts));
    }

    const hexes$8 = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));
    /**
     * Encodes a string, number, bigint, or ByteArray into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex
     * - Example: https://viem.sh/docs/utilities/toHex#usage
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { toHex } from 'viem'
     * const data = toHex('Hello world')
     * // '0x48656c6c6f20776f726c6421'
     *
     * @example
     * import { toHex } from 'viem'
     * const data = toHex(420)
     * // '0x1a4'
     *
     * @example
     * import { toHex } from 'viem'
     * const data = toHex('Hello world', { size: 32 })
     * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'
     */
    function toHex$2(value, opts = {}) {
        if (typeof value === 'number' || typeof value === 'bigint')
            return numberToHex$2(value, opts);
        if (typeof value === 'string') {
            return stringToHex$2(value, opts);
        }
        if (typeof value === 'boolean')
            return boolToHex$2(value, opts);
        return bytesToHex$4(value, opts);
    }
    /**
     * Encodes a boolean into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#booltohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { boolToHex } from 'viem'
     * const data = boolToHex(true)
     * // '0x1'
     *
     * @example
     * import { boolToHex } from 'viem'
     * const data = boolToHex(false)
     * // '0x0'
     *
     * @example
     * import { boolToHex } from 'viem'
     * const data = boolToHex(true, { size: 32 })
     * // '0x0000000000000000000000000000000000000000000000000000000000000001'
     */
    function boolToHex$2(value, opts = {}) {
        const hex = `0x${Number(value)}`;
        if (typeof opts.size === 'number') {
            assertSize$a(hex, { size: opts.size });
            return pad$a(hex, { size: opts.size });
        }
        return hex;
    }
    /**
     * Encodes a bytes array into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { bytesToHex } from 'viem'
     * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     * // '0x48656c6c6f20576f726c6421'
     *
     * @example
     * import { bytesToHex } from 'viem'
     * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     */
    function bytesToHex$4(value, opts = {}) {
        let string = '';
        for (let i = 0; i < value.length; i++) {
            string += hexes$8[value[i]];
        }
        const hex = `0x${string}`;
        if (typeof opts.size === 'number') {
            assertSize$a(hex, { size: opts.size });
            return pad$a(hex, { dir: 'right', size: opts.size });
        }
        return hex;
    }
    /**
     * Encodes a number or bigint into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { numberToHex } from 'viem'
     * const data = numberToHex(420)
     * // '0x1a4'
     *
     * @example
     * import { numberToHex } from 'viem'
     * const data = numberToHex(420, { size: 32 })
     * // '0x00000000000000000000000000000000000000000000000000000000000001a4'
     */
    function numberToHex$2(value_, opts = {}) {
        const { signed, size } = opts;
        const value = BigInt(value_);
        let maxValue;
        if (size) {
            if (signed)
                maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;
            else
                maxValue = 2n ** (BigInt(size) * 8n) - 1n;
        }
        else if (typeof value_ === 'number') {
            maxValue = BigInt(Number.MAX_SAFE_INTEGER);
        }
        const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;
        if ((maxValue && value > maxValue) || value < minValue) {
            const suffix = typeof value_ === 'bigint' ? 'n' : '';
            throw new IntegerOutOfRangeError$6({
                max: maxValue ? `${maxValue}${suffix}` : undefined,
                min: `${minValue}${suffix}`,
                signed,
                size,
                value: `${value_}${suffix}`,
            });
        }
        const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;
        if (size)
            return pad$a(hex, { size });
        return hex;
    }
    const encoder$d = /*#__PURE__*/ new TextEncoder();
    /**
     * Encodes a UTF-8 string into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { stringToHex } from 'viem'
     * const data = stringToHex('Hello World!')
     * // '0x48656c6c6f20576f726c6421'
     *
     * @example
     * import { stringToHex } from 'viem'
     * const data = stringToHex('Hello World!', { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     */
    function stringToHex$2(value_, opts = {}) {
        const value = encoder$d.encode(value_);
        return bytesToHex$4(value, opts);
    }

    const encoder$c = /*#__PURE__*/ new TextEncoder();
    /**
     * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes
     * - Example: https://viem.sh/docs/utilities/toBytes#usage
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { toBytes } from 'viem'
     * const data = toBytes('Hello world')
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     *
     * @example
     * import { toBytes } from 'viem'
     * const data = toBytes(420)
     * // Uint8Array([1, 164])
     *
     * @example
     * import { toBytes } from 'viem'
     * const data = toBytes(420, { size: 4 })
     * // Uint8Array([0, 0, 1, 164])
     */
    function toBytes$6(value, opts = {}) {
        if (typeof value === 'number' || typeof value === 'bigint')
            return numberToBytes$2(value, opts);
        if (typeof value === 'boolean')
            return boolToBytes$2(value, opts);
        if (isHex$2(value))
            return hexToBytes$4(value, opts);
        return stringToBytes$2(value, opts);
    }
    /**
     * Encodes a boolean into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes
     *
     * @param value Boolean value to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { boolToBytes } from 'viem'
     * const data = boolToBytes(true)
     * // Uint8Array([1])
     *
     * @example
     * import { boolToBytes } from 'viem'
     * const data = boolToBytes(true, { size: 32 })
     * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])
     */
    function boolToBytes$2(value, opts = {}) {
        const bytes = new Uint8Array(1);
        bytes[0] = Number(value);
        if (typeof opts.size === 'number') {
            assertSize$a(bytes, { size: opts.size });
            return pad$a(bytes, { size: opts.size });
        }
        return bytes;
    }
    // We use very optimized technique to convert hex string to byte array
    const charCodeMap$6 = {
        zero: 48,
        nine: 57,
        A: 65,
        F: 70,
        a: 97,
        f: 102,
    };
    function charCodeToBase16$6(char) {
        if (char >= charCodeMap$6.zero && char <= charCodeMap$6.nine)
            return char - charCodeMap$6.zero;
        if (char >= charCodeMap$6.A && char <= charCodeMap$6.F)
            return char - (charCodeMap$6.A - 10);
        if (char >= charCodeMap$6.a && char <= charCodeMap$6.f)
            return char - (charCodeMap$6.a - 10);
        return undefined;
    }
    /**
     * Encodes a hex string into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes
     *
     * @param hex Hex string to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { hexToBytes } from 'viem'
     * const data = hexToBytes('0x48656c6c6f20776f726c6421')
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     *
     * @example
     * import { hexToBytes } from 'viem'
     * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     */
    function hexToBytes$4(hex_, opts = {}) {
        let hex = hex_;
        if (opts.size) {
            assertSize$a(hex, { size: opts.size });
            hex = pad$a(hex, { dir: 'right', size: opts.size });
        }
        let hexString = hex.slice(2);
        if (hexString.length % 2)
            hexString = `0${hexString}`;
        const length = hexString.length / 2;
        const bytes = new Uint8Array(length);
        for (let index = 0, j = 0; index < length; index++) {
            const nibbleLeft = charCodeToBase16$6(hexString.charCodeAt(j++));
            const nibbleRight = charCodeToBase16$6(hexString.charCodeAt(j++));
            if (nibbleLeft === undefined || nibbleRight === undefined) {
                throw new BaseError$6(`Invalid byte sequence ("${hexString[j - 2]}${hexString[j - 1]}" in "${hexString}").`);
            }
            bytes[index] = nibbleLeft * 16 + nibbleRight;
        }
        return bytes;
    }
    /**
     * Encodes a number into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes
     *
     * @param value Number to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { numberToBytes } from 'viem'
     * const data = numberToBytes(420)
     * // Uint8Array([1, 164])
     *
     * @example
     * import { numberToBytes } from 'viem'
     * const data = numberToBytes(420, { size: 4 })
     * // Uint8Array([0, 0, 1, 164])
     */
    function numberToBytes$2(value, opts) {
        const hex = numberToHex$2(value, opts);
        return hexToBytes$4(hex);
    }
    /**
     * Encodes a UTF-8 string into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes
     *
     * @param value String to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { stringToBytes } from 'viem'
     * const data = stringToBytes('Hello world!')
     * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])
     *
     * @example
     * import { stringToBytes } from 'viem'
     * const data = stringToBytes('Hello world!', { size: 32 })
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     */
    function stringToBytes$2(value, opts = {}) {
        const bytes = encoder$c.encode(value);
        if (typeof opts.size === 'number') {
            assertSize$a(bytes, { size: opts.size });
            return pad$a(bytes, { dir: 'right', size: opts.size });
        }
        return bytes;
    }

    /**
     * Internal assertion helpers.
     * @module
     */
    /** Asserts something is positive integer. */
    function anumber$3(n) {
        if (!Number.isSafeInteger(n) || n < 0)
            throw new Error('positive integer expected, got ' + n);
    }
    /** Is number an Uint8Array? Copied from utils for perf. */
    function isBytes$5(a) {
        return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');
    }
    /** Asserts something is Uint8Array. */
    function abytes$5(b, ...lengths) {
        if (!isBytes$5(b))
            throw new Error('Uint8Array expected');
        if (lengths.length > 0 && !lengths.includes(b.length))
            throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);
    }
    /** Asserts something is hash */
    function ahash$1(h) {
        if (typeof h !== 'function' || typeof h.create !== 'function')
            throw new Error('Hash should be wrapped by utils.wrapConstructor');
        anumber$3(h.outputLen);
        anumber$3(h.blockLen);
    }
    /** Asserts a hash instance has not been destroyed / finished */
    function aexists$3(instance, checkFinished = true) {
        if (instance.destroyed)
            throw new Error('Hash instance has been destroyed');
        if (checkFinished && instance.finished)
            throw new Error('Hash#digest() has already been called');
    }
    /** Asserts output is properly-sized byte array */
    function aoutput$3(out, instance) {
        abytes$5(out);
        const min = instance.outputLen;
        if (out.length < min) {
            throw new Error('digestInto() expects output buffer of length at least ' + min);
        }
    }

    /**
     * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.
     * @todo re-check https://issues.chromium.org/issues/42212588
     * @module
     */
    const U32_MASK64$3 = /* @__PURE__ */ BigInt(2 ** 32 - 1);
    const _32n$3 = /* @__PURE__ */ BigInt(32);
    function fromBig$3(n, le = false) {
        if (le)
            return { h: Number(n & U32_MASK64$3), l: Number((n >> _32n$3) & U32_MASK64$3) };
        return { h: Number((n >> _32n$3) & U32_MASK64$3) | 0, l: Number(n & U32_MASK64$3) | 0 };
    }
    function split$3(lst, le = false) {
        let Ah = new Uint32Array(lst.length);
        let Al = new Uint32Array(lst.length);
        for (let i = 0; i < lst.length; i++) {
            const { h, l } = fromBig$3(lst[i], le);
            [Ah[i], Al[i]] = [h, l];
        }
        return [Ah, Al];
    }
    // Left rotate for Shift in [1, 32)
    const rotlSH$3 = (h, l, s) => (h << s) | (l >>> (32 - s));
    const rotlSL$3 = (h, l, s) => (l << s) | (h >>> (32 - s));
    // Left rotate for Shift in (32, 64), NOTE: 32 is special case.
    const rotlBH$3 = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));
    const rotlBL$3 = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));

    const crypto$3 = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;

    /**
     * Utilities for hex, bytes, CSPRNG.
     * @module
     */
    /*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    // We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.
    // node.js versions earlier than v19 don't declare it in global scope.
    // For node.js, package.json#exports field mapping rewrites import
    // from `crypto` to `cryptoNode`, which imports native module.
    // Makes the utils un-importable in browsers without a bundler.
    // Once node.js 18 is deprecated (2025-04-30), we can just drop the import.
    function u32$3(arr) {
        return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));
    }
    // Cast array to view
    function createView$2(arr) {
        return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);
    }
    /** The rotate right (circular right shift) operation for uint32 */
    function rotr$2(word, shift) {
        return (word << (32 - shift)) | (word >>> shift);
    }
    /** Is current platform little-endian? Most are. Big-Endian platform: IBM */
    const isLE$3 = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();
    // The byte swap operation for uint32
    function byteSwap$3(word) {
        return (((word << 24) & 0xff000000) |
            ((word << 8) & 0xff0000) |
            ((word >>> 8) & 0xff00) |
            ((word >>> 24) & 0xff));
    }
    /** In place byte swap for Uint32Array */
    function byteSwap32$3(arr) {
        for (let i = 0; i < arr.length; i++) {
            arr[i] = byteSwap$3(arr[i]);
        }
    }
    /**
     * Convert JS string to byte array.
     * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])
     */
    function utf8ToBytes$5(str) {
        if (typeof str !== 'string')
            throw new Error('utf8ToBytes expected string, got ' + typeof str);
        return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809
    }
    /**
     * Normalizes (non-hex) string or Uint8Array to Uint8Array.
     * Warning: when Uint8Array is passed, it would NOT get copied.
     * Keep in mind for future mutable operations.
     */
    function toBytes$5(data) {
        if (typeof data === 'string')
            data = utf8ToBytes$5(data);
        abytes$5(data);
        return data;
    }
    /**
     * Copies several Uint8Arrays into one.
     */
    function concatBytes$3(...arrays) {
        let sum = 0;
        for (let i = 0; i < arrays.length; i++) {
            const a = arrays[i];
            abytes$5(a);
            sum += a.length;
        }
        const res = new Uint8Array(sum);
        for (let i = 0, pad = 0; i < arrays.length; i++) {
            const a = arrays[i];
            res.set(a, pad);
            pad += a.length;
        }
        return res;
    }
    /** For runtime check if class implements interface */
    let Hash$3 = class Hash {
        // Safe version that clones internal state
        clone() {
            return this._cloneInto();
        }
    };
    /** Wraps hash function, creating an interface on top of it */
    function wrapConstructor$2(hashCons) {
        const hashC = (msg) => hashCons().update(toBytes$5(msg)).digest();
        const tmp = hashCons();
        hashC.outputLen = tmp.outputLen;
        hashC.blockLen = tmp.blockLen;
        hashC.create = () => hashCons();
        return hashC;
    }
    /** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */
    function randomBytes$1(bytesLength = 32) {
        if (crypto$3 && typeof crypto$3.getRandomValues === 'function') {
            return crypto$3.getRandomValues(new Uint8Array(bytesLength));
        }
        // Legacy Node.js compatibility
        if (crypto$3 && typeof crypto$3.randomBytes === 'function') {
            return crypto$3.randomBytes(bytesLength);
        }
        throw new Error('crypto.getRandomValues must be defined');
    }

    /**
     * SHA3 (keccak) hash function, based on a new "Sponge function" design.
     * Different from older hashes, the internal state is bigger than output size.
     *
     * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),
     * [Website](https://keccak.team/keccak.html),
     * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).
     *
     * Check out `sha3-addons` module for cSHAKE, k12, and others.
     * @module
     */
    // Various per round constants calculations
    const SHA3_PI$3 = [];
    const SHA3_ROTL$3 = [];
    const _SHA3_IOTA$3 = [];
    const _0n$b = /* @__PURE__ */ BigInt(0);
    const _1n$d = /* @__PURE__ */ BigInt(1);
    const _2n$9 = /* @__PURE__ */ BigInt(2);
    const _7n$3 = /* @__PURE__ */ BigInt(7);
    const _256n$3 = /* @__PURE__ */ BigInt(256);
    const _0x71n$3 = /* @__PURE__ */ BigInt(0x71);
    for (let round = 0, R = _1n$d, x = 1, y = 0; round < 24; round++) {
        // Pi
        [x, y] = [y, (2 * x + 3 * y) % 5];
        SHA3_PI$3.push(2 * (5 * y + x));
        // Rotational
        SHA3_ROTL$3.push((((round + 1) * (round + 2)) / 2) % 64);
        // Iota
        let t = _0n$b;
        for (let j = 0; j < 7; j++) {
            R = ((R << _1n$d) ^ ((R >> _7n$3) * _0x71n$3)) % _256n$3;
            if (R & _2n$9)
                t ^= _1n$d << ((_1n$d << /* @__PURE__ */ BigInt(j)) - _1n$d);
        }
        _SHA3_IOTA$3.push(t);
    }
    const [SHA3_IOTA_H$3, SHA3_IOTA_L$3] = /* @__PURE__ */ split$3(_SHA3_IOTA$3, true);
    // Left rotation (without 0, 32, 64)
    const rotlH$3 = (h, l, s) => (s > 32 ? rotlBH$3(h, l, s) : rotlSH$3(h, l, s));
    const rotlL$3 = (h, l, s) => (s > 32 ? rotlBL$3(h, l, s) : rotlSL$3(h, l, s));
    /** `keccakf1600` internal function, additionally allows to adjust round count. */
    function keccakP$3(s, rounds = 24) {
        const B = new Uint32Array(5 * 2);
        // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)
        for (let round = 24 - rounds; round < 24; round++) {
            // Theta θ
            for (let x = 0; x < 10; x++)
                B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];
            for (let x = 0; x < 10; x += 2) {
                const idx1 = (x + 8) % 10;
                const idx0 = (x + 2) % 10;
                const B0 = B[idx0];
                const B1 = B[idx0 + 1];
                const Th = rotlH$3(B0, B1, 1) ^ B[idx1];
                const Tl = rotlL$3(B0, B1, 1) ^ B[idx1 + 1];
                for (let y = 0; y < 50; y += 10) {
                    s[x + y] ^= Th;
                    s[x + y + 1] ^= Tl;
                }
            }
            // Rho (ρ) and Pi (π)
            let curH = s[2];
            let curL = s[3];
            for (let t = 0; t < 24; t++) {
                const shift = SHA3_ROTL$3[t];
                const Th = rotlH$3(curH, curL, shift);
                const Tl = rotlL$3(curH, curL, shift);
                const PI = SHA3_PI$3[t];
                curH = s[PI];
                curL = s[PI + 1];
                s[PI] = Th;
                s[PI + 1] = Tl;
            }
            // Chi (χ)
            for (let y = 0; y < 50; y += 10) {
                for (let x = 0; x < 10; x++)
                    B[x] = s[y + x];
                for (let x = 0; x < 10; x++)
                    s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];
            }
            // Iota (ι)
            s[0] ^= SHA3_IOTA_H$3[round];
            s[1] ^= SHA3_IOTA_L$3[round];
        }
        B.fill(0);
    }
    /** Keccak sponge function. */
    let Keccak$3 = class Keccak extends Hash$3 {
        // NOTE: we accept arguments in bytes instead of bits here.
        constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {
            super();
            this.blockLen = blockLen;
            this.suffix = suffix;
            this.outputLen = outputLen;
            this.enableXOF = enableXOF;
            this.rounds = rounds;
            this.pos = 0;
            this.posOut = 0;
            this.finished = false;
            this.destroyed = false;
            // Can be passed from user as dkLen
            anumber$3(outputLen);
            // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes
            // 0 < blockLen < 200
            if (0 >= this.blockLen || this.blockLen >= 200)
                throw new Error('Sha3 supports only keccak-f1600 function');
            this.state = new Uint8Array(200);
            this.state32 = u32$3(this.state);
        }
        keccak() {
            if (!isLE$3)
                byteSwap32$3(this.state32);
            keccakP$3(this.state32, this.rounds);
            if (!isLE$3)
                byteSwap32$3(this.state32);
            this.posOut = 0;
            this.pos = 0;
        }
        update(data) {
            aexists$3(this);
            const { blockLen, state } = this;
            data = toBytes$5(data);
            const len = data.length;
            for (let pos = 0; pos < len;) {
                const take = Math.min(blockLen - this.pos, len - pos);
                for (let i = 0; i < take; i++)
                    state[this.pos++] ^= data[pos++];
                if (this.pos === blockLen)
                    this.keccak();
            }
            return this;
        }
        finish() {
            if (this.finished)
                return;
            this.finished = true;
            const { state, suffix, pos, blockLen } = this;
            // Do the padding
            state[pos] ^= suffix;
            if ((suffix & 0x80) !== 0 && pos === blockLen - 1)
                this.keccak();
            state[blockLen - 1] ^= 0x80;
            this.keccak();
        }
        writeInto(out) {
            aexists$3(this, false);
            abytes$5(out);
            this.finish();
            const bufferOut = this.state;
            const { blockLen } = this;
            for (let pos = 0, len = out.length; pos < len;) {
                if (this.posOut >= blockLen)
                    this.keccak();
                const take = Math.min(blockLen - this.posOut, len - pos);
                out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);
                this.posOut += take;
                pos += take;
            }
            return out;
        }
        xofInto(out) {
            // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF
            if (!this.enableXOF)
                throw new Error('XOF is not possible for this instance');
            return this.writeInto(out);
        }
        xof(bytes) {
            anumber$3(bytes);
            return this.xofInto(new Uint8Array(bytes));
        }
        digestInto(out) {
            aoutput$3(out, this);
            if (this.finished)
                throw new Error('digest() was already called');
            this.writeInto(out);
            this.destroy();
            return out;
        }
        digest() {
            return this.digestInto(new Uint8Array(this.outputLen));
        }
        destroy() {
            this.destroyed = true;
            this.state.fill(0);
        }
        _cloneInto(to) {
            const { blockLen, suffix, outputLen, rounds, enableXOF } = this;
            to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));
            to.state32.set(this.state32);
            to.pos = this.pos;
            to.posOut = this.posOut;
            to.finished = this.finished;
            to.rounds = rounds;
            // Suffix can change in cSHAKE
            to.suffix = suffix;
            to.outputLen = outputLen;
            to.enableXOF = enableXOF;
            to.destroyed = this.destroyed;
            return to;
        }
    };
    const gen$3 = (suffix, blockLen, outputLen) => wrapConstructor$2(() => new Keccak$3(blockLen, suffix, outputLen));
    /** keccak-256 hash function. Different from SHA3-256. */
    const keccak_256$3 = /* @__PURE__ */ gen$3(0x01, 136, 256 / 8);

    function keccak256$6(value, to_) {
        const to = to_ || 'hex';
        const bytes = keccak_256$3(isHex$2(value, { strict: false }) ? toBytes$6(value) : value);
        if (to === 'bytes')
            return bytes;
        return toHex$2(bytes);
    }

    /**
     * Map with a LRU (Least recently used) policy.
     *
     * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
     */
    let LruMap$7 = class LruMap extends Map {
        constructor(size) {
            super();
            Object.defineProperty(this, "maxSize", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.maxSize = size;
        }
        get(key) {
            const value = super.get(key);
            if (super.has(key) && value !== undefined) {
                this.delete(key);
                super.set(key, value);
            }
            return value;
        }
        set(key, value) {
            super.set(key, value);
            if (this.maxSize && this.size > this.maxSize) {
                const firstKey = this.keys().next().value;
                if (firstKey)
                    this.delete(firstKey);
            }
            return this;
        }
    };

    const checksumAddressCache$2 = /*#__PURE__*/ new LruMap$7(8192);
    function checksumAddress$2(address_, 
    /**
     * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the
     * wider Ethereum ecosystem, meaning it will break when validated against an application/tool
     * that relies on EIP-55 checksum encoding (checksum without chainId).
     *
     * It is highly recommended to not use this feature unless you
     * know what you are doing.
     *
     * See more: https://github.com/ethereum/EIPs/issues/1121
     */
    chainId) {
        if (checksumAddressCache$2.has(`${address_}.${chainId}`))
            return checksumAddressCache$2.get(`${address_}.${chainId}`);
        const hexAddress = address_.substring(2).toLowerCase();
        const hash = keccak256$6(stringToBytes$2(hexAddress), 'bytes');
        const address = (hexAddress).split('');
        for (let i = 0; i < 40; i += 2) {
            if (hash[i >> 1] >> 4 >= 8 && address[i]) {
                address[i] = address[i].toUpperCase();
            }
            if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {
                address[i + 1] = address[i + 1].toUpperCase();
            }
        }
        const result = `0x${address.join('')}`;
        checksumAddressCache$2.set(`${address_}.${chainId}`, result);
        return result;
    }

    /**
     * @description Converts an ECDSA public key to an address.
     *
     * @param publicKey The public key to convert.
     *
     * @returns The address.
     */
    function publicKeyToAddress$1(publicKey) {
        const address = keccak256$6(`0x${publicKey.substring(4)}`).substring(26);
        return checksumAddress$2(`0x${address}`);
    }

    async function recoverPublicKey$1({ hash, signature, }) {
        const hashHex = isHex$2(hash) ? hash : toHex$2(hash);
        const { secp256k1 } = await Promise.resolve().then(function () { return secp256k1$4; });
        const signature_ = (() => {
            // typeof signature: `Signature`
            if (typeof signature === 'object' && 'r' in signature && 's' in signature) {
                const { r, s, v, yParity } = signature;
                const yParityOrV = Number(yParity ?? v);
                const recoveryBit = toRecoveryBit$1(yParityOrV);
                return new secp256k1.Signature(hexToBigInt$2(r), hexToBigInt$2(s)).addRecoveryBit(recoveryBit);
            }
            // typeof signature: `Hex | ByteArray`
            const signatureHex = isHex$2(signature) ? signature : toHex$2(signature);
            const yParityOrV = hexToNumber$4(`0x${signatureHex.slice(130)}`);
            const recoveryBit = toRecoveryBit$1(yParityOrV);
            return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);
        })();
        const publicKey = signature_
            .recoverPublicKey(hashHex.substring(2))
            .toHex(false);
        return `0x${publicKey}`;
    }
    function toRecoveryBit$1(yParityOrV) {
        if (yParityOrV === 0 || yParityOrV === 1)
            return yParityOrV;
        if (yParityOrV === 27)
            return 0;
        if (yParityOrV === 28)
            return 1;
        throw new Error('Invalid yParityOrV value');
    }

    async function recoverAddress$1({ hash, signature, }) {
        return publicKeyToAddress$1(await recoverPublicKey$1({ hash: hash, signature }));
    }

    /**
     * Internal Merkle-Damgard hash utils.
     * @module
     */
    /** Polyfill for Safari 14. https://caniuse.com/mdn-javascript_builtins_dataview_setbiguint64 */
    function setBigUint64$2(view, byteOffset, value, isLE) {
        if (typeof view.setBigUint64 === 'function')
            return view.setBigUint64(byteOffset, value, isLE);
        const _32n = BigInt(32);
        const _u32_max = BigInt(0xffffffff);
        const wh = Number((value >> _32n) & _u32_max);
        const wl = Number(value & _u32_max);
        const h = isLE ? 4 : 0;
        const l = isLE ? 0 : 4;
        view.setUint32(byteOffset + h, wh, isLE);
        view.setUint32(byteOffset + l, wl, isLE);
    }
    /** Choice: a ? b : c */
    function Chi$2(a, b, c) {
        return (a & b) ^ (~a & c);
    }
    /** Majority function, true if any two inputs is true. */
    function Maj$2(a, b, c) {
        return (a & b) ^ (a & c) ^ (b & c);
    }
    /**
     * Merkle-Damgard hash construction base class.
     * Could be used to create MD5, RIPEMD, SHA1, SHA2.
     */
    let HashMD$2 = class HashMD extends Hash$3 {
        constructor(blockLen, outputLen, padOffset, isLE) {
            super();
            this.blockLen = blockLen;
            this.outputLen = outputLen;
            this.padOffset = padOffset;
            this.isLE = isLE;
            this.finished = false;
            this.length = 0;
            this.pos = 0;
            this.destroyed = false;
            this.buffer = new Uint8Array(blockLen);
            this.view = createView$2(this.buffer);
        }
        update(data) {
            aexists$3(this);
            const { view, buffer, blockLen } = this;
            data = toBytes$5(data);
            const len = data.length;
            for (let pos = 0; pos < len;) {
                const take = Math.min(blockLen - this.pos, len - pos);
                // Fast path: we have at least one block in input, cast it to view and process
                if (take === blockLen) {
                    const dataView = createView$2(data);
                    for (; blockLen <= len - pos; pos += blockLen)
                        this.process(dataView, pos);
                    continue;
                }
                buffer.set(data.subarray(pos, pos + take), this.pos);
                this.pos += take;
                pos += take;
                if (this.pos === blockLen) {
                    this.process(view, 0);
                    this.pos = 0;
                }
            }
            this.length += data.length;
            this.roundClean();
            return this;
        }
        digestInto(out) {
            aexists$3(this);
            aoutput$3(out, this);
            this.finished = true;
            // Padding
            // We can avoid allocation of buffer for padding completely if it
            // was previously not allocated here. But it won't change performance.
            const { buffer, view, blockLen, isLE } = this;
            let { pos } = this;
            // append the bit '1' to the message
            buffer[pos++] = 0b10000000;
            this.buffer.subarray(pos).fill(0);
            // we have less than padOffset left in buffer, so we cannot put length in
            // current block, need process it and pad again
            if (this.padOffset > blockLen - pos) {
                this.process(view, 0);
                pos = 0;
            }
            // Pad until full block byte with zeros
            for (let i = pos; i < blockLen; i++)
                buffer[i] = 0;
            // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that
            // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.
            // So we just write lowest 64 bits of that value.
            setBigUint64$2(view, blockLen - 8, BigInt(this.length * 8), isLE);
            this.process(view, 0);
            const oview = createView$2(out);
            const len = this.outputLen;
            // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT
            if (len % 4)
                throw new Error('_sha2: outputLen should be aligned to 32bit');
            const outLen = len / 4;
            const state = this.get();
            if (outLen > state.length)
                throw new Error('_sha2: outputLen bigger than state');
            for (let i = 0; i < outLen; i++)
                oview.setUint32(4 * i, state[i], isLE);
        }
        digest() {
            const { buffer, outputLen } = this;
            this.digestInto(buffer);
            const res = buffer.slice(0, outputLen);
            this.destroy();
            return res;
        }
        _cloneInto(to) {
            to || (to = new this.constructor());
            to.set(...this.get());
            const { blockLen, buffer, length, finished, destroyed, pos } = this;
            to.length = length;
            to.pos = pos;
            to.finished = finished;
            to.destroyed = destroyed;
            if (length % blockLen)
                to.buffer.set(buffer);
            return to;
        }
    };

    /**
     * SHA2-256 a.k.a. sha256. In JS, it is the fastest hash, even faster than Blake3.
     *
     * To break sha256 using birthday attack, attackers need to try 2^128 hashes.
     * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.
     *
     * Check out [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).
     * @module
     */
    /** Round constants: first 32 bits of fractional parts of the cube roots of the first 64 primes 2..311). */
    // prettier-ignore
    const SHA256_K$2 = /* @__PURE__ */ new Uint32Array([
        0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,
        0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,
        0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
        0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,
        0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,
        0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
        0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,
        0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2
    ]);
    /** Initial state: first 32 bits of fractional parts of the square roots of the first 8 primes 2..19. */
    // prettier-ignore
    const SHA256_IV$2 = /* @__PURE__ */ new Uint32Array([
        0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19
    ]);
    /**
     * Temporary buffer, not used to store anything between runs.
     * Named this way because it matches specification.
     */
    const SHA256_W$2 = /* @__PURE__ */ new Uint32Array(64);
    let SHA256$2 = class SHA256 extends HashMD$2 {
        constructor() {
            super(64, 32, 8, false);
            // We cannot use array here since array allows indexing by variable
            // which means optimizer/compiler cannot use registers.
            this.A = SHA256_IV$2[0] | 0;
            this.B = SHA256_IV$2[1] | 0;
            this.C = SHA256_IV$2[2] | 0;
            this.D = SHA256_IV$2[3] | 0;
            this.E = SHA256_IV$2[4] | 0;
            this.F = SHA256_IV$2[5] | 0;
            this.G = SHA256_IV$2[6] | 0;
            this.H = SHA256_IV$2[7] | 0;
        }
        get() {
            const { A, B, C, D, E, F, G, H } = this;
            return [A, B, C, D, E, F, G, H];
        }
        // prettier-ignore
        set(A, B, C, D, E, F, G, H) {
            this.A = A | 0;
            this.B = B | 0;
            this.C = C | 0;
            this.D = D | 0;
            this.E = E | 0;
            this.F = F | 0;
            this.G = G | 0;
            this.H = H | 0;
        }
        process(view, offset) {
            // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array
            for (let i = 0; i < 16; i++, offset += 4)
                SHA256_W$2[i] = view.getUint32(offset, false);
            for (let i = 16; i < 64; i++) {
                const W15 = SHA256_W$2[i - 15];
                const W2 = SHA256_W$2[i - 2];
                const s0 = rotr$2(W15, 7) ^ rotr$2(W15, 18) ^ (W15 >>> 3);
                const s1 = rotr$2(W2, 17) ^ rotr$2(W2, 19) ^ (W2 >>> 10);
                SHA256_W$2[i] = (s1 + SHA256_W$2[i - 7] + s0 + SHA256_W$2[i - 16]) | 0;
            }
            // Compression function main loop, 64 rounds
            let { A, B, C, D, E, F, G, H } = this;
            for (let i = 0; i < 64; i++) {
                const sigma1 = rotr$2(E, 6) ^ rotr$2(E, 11) ^ rotr$2(E, 25);
                const T1 = (H + sigma1 + Chi$2(E, F, G) + SHA256_K$2[i] + SHA256_W$2[i]) | 0;
                const sigma0 = rotr$2(A, 2) ^ rotr$2(A, 13) ^ rotr$2(A, 22);
                const T2 = (sigma0 + Maj$2(A, B, C)) | 0;
                H = G;
                G = F;
                F = E;
                E = (D + T1) | 0;
                D = C;
                C = B;
                B = A;
                A = (T1 + T2) | 0;
            }
            // Add the compressed chunk to the current hash value
            A = (A + this.A) | 0;
            B = (B + this.B) | 0;
            C = (C + this.C) | 0;
            D = (D + this.D) | 0;
            E = (E + this.E) | 0;
            F = (F + this.F) | 0;
            G = (G + this.G) | 0;
            H = (H + this.H) | 0;
            this.set(A, B, C, D, E, F, G, H);
        }
        roundClean() {
            SHA256_W$2.fill(0);
        }
        destroy() {
            this.set(0, 0, 0, 0, 0, 0, 0, 0);
            this.buffer.fill(0);
        }
    };
    /** SHA2-256 hash function */
    const sha256$4 = /* @__PURE__ */ wrapConstructor$2(() => new SHA256$2());

    new LruMap$7(128);

    /**
     * Hex, bytes and number utilities.
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    // 100 lines of code in the file are duplicated from noble-hashes (utils).
    // This is OK: `abstract` directory does not use noble-hashes.
    // User may opt-in into using different hashing library. This way, noble-hashes
    // won't be included into their bundle.
    const _0n$a = /* @__PURE__ */ BigInt(0);
    const _1n$c = /* @__PURE__ */ BigInt(1);
    const _2n$8 = /* @__PURE__ */ BigInt(2);
    function isBytes$4(a) {
        return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');
    }
    function abytes$4(item) {
        if (!isBytes$4(item))
            throw new Error('Uint8Array expected');
    }
    function abool$1(title, value) {
        if (typeof value !== 'boolean')
            throw new Error(title + ' boolean expected, got ' + value);
    }
    // Array where index 0xf0 (240) is mapped to string 'f0'
    const hexes$7 = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));
    /**
     * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'
     */
    function bytesToHex$3(bytes) {
        abytes$4(bytes);
        // pre-caching improves the speed 6x
        let hex = '';
        for (let i = 0; i < bytes.length; i++) {
            hex += hexes$7[bytes[i]];
        }
        return hex;
    }
    function numberToHexUnpadded$1(num) {
        const hex = num.toString(16);
        return hex.length & 1 ? '0' + hex : hex;
    }
    function hexToNumber$3(hex) {
        if (typeof hex !== 'string')
            throw new Error('hex string expected, got ' + typeof hex);
        return hex === '' ? _0n$a : BigInt('0x' + hex); // Big Endian
    }
    // We use optimized technique to convert hex string to byte array
    const asciis$1 = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };
    function asciiToBase16$1(ch) {
        if (ch >= asciis$1._0 && ch <= asciis$1._9)
            return ch - asciis$1._0; // '2' => 50-48
        if (ch >= asciis$1.A && ch <= asciis$1.F)
            return ch - (asciis$1.A - 10); // 'B' => 66-(65-10)
        if (ch >= asciis$1.a && ch <= asciis$1.f)
            return ch - (asciis$1.a - 10); // 'b' => 98-(97-10)
        return;
    }
    /**
     * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])
     */
    function hexToBytes$3(hex) {
        if (typeof hex !== 'string')
            throw new Error('hex string expected, got ' + typeof hex);
        const hl = hex.length;
        const al = hl / 2;
        if (hl % 2)
            throw new Error('hex string expected, got unpadded hex of length ' + hl);
        const array = new Uint8Array(al);
        for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {
            const n1 = asciiToBase16$1(hex.charCodeAt(hi));
            const n2 = asciiToBase16$1(hex.charCodeAt(hi + 1));
            if (n1 === undefined || n2 === undefined) {
                const char = hex[hi] + hex[hi + 1];
                throw new Error('hex string expected, got non-hex character "' + char + '" at index ' + hi);
            }
            array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163
        }
        return array;
    }
    // BE: Big Endian, LE: Little Endian
    function bytesToNumberBE$1(bytes) {
        return hexToNumber$3(bytesToHex$3(bytes));
    }
    function bytesToNumberLE$1(bytes) {
        abytes$4(bytes);
        return hexToNumber$3(bytesToHex$3(Uint8Array.from(bytes).reverse()));
    }
    function numberToBytesBE$1(n, len) {
        return hexToBytes$3(n.toString(16).padStart(len * 2, '0'));
    }
    function numberToBytesLE$1(n, len) {
        return numberToBytesBE$1(n, len).reverse();
    }
    // Unpadded, rarely used
    function numberToVarBytesBE$1(n) {
        return hexToBytes$3(numberToHexUnpadded$1(n));
    }
    /**
     * Takes hex string or Uint8Array, converts to Uint8Array.
     * Validates output length.
     * Will throw error for other types.
     * @param title descriptive title for an error e.g. 'private key'
     * @param hex hex string or Uint8Array
     * @param expectedLength optional, will compare to result array's length
     * @returns
     */
    function ensureBytes$1(title, hex, expectedLength) {
        let res;
        if (typeof hex === 'string') {
            try {
                res = hexToBytes$3(hex);
            }
            catch (e) {
                throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);
            }
        }
        else if (isBytes$4(hex)) {
            // Uint8Array.from() instead of hash.slice() because node.js Buffer
            // is instance of Uint8Array, and its slice() creates **mutable** copy
            res = Uint8Array.from(hex);
        }
        else {
            throw new Error(title + ' must be hex string or Uint8Array');
        }
        const len = res.length;
        if (typeof expectedLength === 'number' && len !== expectedLength)
            throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);
        return res;
    }
    /**
     * Copies several Uint8Arrays into one.
     */
    function concatBytes$2(...arrays) {
        let sum = 0;
        for (let i = 0; i < arrays.length; i++) {
            const a = arrays[i];
            abytes$4(a);
            sum += a.length;
        }
        const res = new Uint8Array(sum);
        for (let i = 0, pad = 0; i < arrays.length; i++) {
            const a = arrays[i];
            res.set(a, pad);
            pad += a.length;
        }
        return res;
    }
    // Compares 2 u8a-s in kinda constant time
    function equalBytes$1(a, b) {
        if (a.length !== b.length)
            return false;
        let diff = 0;
        for (let i = 0; i < a.length; i++)
            diff |= a[i] ^ b[i];
        return diff === 0;
    }
    /**
     * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])
     */
    function utf8ToBytes$4(str) {
        if (typeof str !== 'string')
            throw new Error('string expected');
        return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809
    }
    // Is positive bigint
    const isPosBig$1 = (n) => typeof n === 'bigint' && _0n$a <= n;
    function inRange$1(n, min, max) {
        return isPosBig$1(n) && isPosBig$1(min) && isPosBig$1(max) && min <= n && n < max;
    }
    /**
     * Asserts min <= n < max. NOTE: It's < max and not <= max.
     * @example
     * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)
     */
    function aInRange$1(title, n, min, max) {
        // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?
        // consider P=256n, min=0n, max=P
        // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`
        // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`
        // - our way is the cleanest:               `inRange('x', x, 0n, P)
        if (!inRange$1(n, min, max))
            throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);
    }
    // Bit operations
    /**
     * Calculates amount of bits in a bigint.
     * Same as `n.toString(2).length`
     */
    function bitLen$1(n) {
        let len;
        for (len = 0; n > _0n$a; n >>= _1n$c, len += 1)
            ;
        return len;
    }
    /**
     * Gets single bit at position.
     * NOTE: first bit position is 0 (same as arrays)
     * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`
     */
    function bitGet$1(n, pos) {
        return (n >> BigInt(pos)) & _1n$c;
    }
    /**
     * Sets single bit at position.
     */
    function bitSet$1(n, pos, value) {
        return n | ((value ? _1n$c : _0n$a) << BigInt(pos));
    }
    /**
     * Calculate mask for N bits. Not using ** operator with bigints because of old engines.
     * Same as BigInt(`0b${Array(i).fill('1').join('')}`)
     */
    const bitMask$1 = (n) => (_2n$8 << BigInt(n - 1)) - _1n$c;
    // DRBG
    const u8n$1 = (data) => new Uint8Array(data); // creates Uint8Array
    const u8fr$1 = (arr) => Uint8Array.from(arr); // another shortcut
    /**
     * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.
     * @returns function that will call DRBG until 2nd arg returns something meaningful
     * @example
     *   const drbg = createHmacDRBG<Key>(32, 32, hmac);
     *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined
     */
    function createHmacDrbg$1(hashLen, qByteLen, hmacFn) {
        if (typeof hashLen !== 'number' || hashLen < 2)
            throw new Error('hashLen must be a number');
        if (typeof qByteLen !== 'number' || qByteLen < 2)
            throw new Error('qByteLen must be a number');
        if (typeof hmacFn !== 'function')
            throw new Error('hmacFn must be a function');
        // Step B, Step C: set hashLen to 8*ceil(hlen/8)
        let v = u8n$1(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.
        let k = u8n$1(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same
        let i = 0; // Iterations counter, will throw when over 1000
        const reset = () => {
            v.fill(1);
            k.fill(0);
            i = 0;
        };
        const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)
        const reseed = (seed = u8n$1()) => {
            // HMAC-DRBG reseed() function. Steps D-G
            k = h(u8fr$1([0x00]), seed); // k = hmac(k || v || 0x00 || seed)
            v = h(); // v = hmac(k || v)
            if (seed.length === 0)
                return;
            k = h(u8fr$1([0x01]), seed); // k = hmac(k || v || 0x01 || seed)
            v = h(); // v = hmac(k || v)
        };
        const gen = () => {
            // HMAC-DRBG generate() function
            if (i++ >= 1000)
                throw new Error('drbg: tried 1000 values');
            let len = 0;
            const out = [];
            while (len < qByteLen) {
                v = h();
                const sl = v.slice();
                out.push(sl);
                len += v.length;
            }
            return concatBytes$2(...out);
        };
        const genUntil = (seed, pred) => {
            reset();
            reseed(seed); // Steps D-G
            let res = undefined; // Step H: grind until k is in [1..n-1]
            while (!(res = pred(gen())))
                reseed();
            reset();
            return res;
        };
        return genUntil;
    }
    // Validating curves and fields
    const validatorFns$1 = {
        bigint: (val) => typeof val === 'bigint',
        function: (val) => typeof val === 'function',
        boolean: (val) => typeof val === 'boolean',
        string: (val) => typeof val === 'string',
        stringOrUint8Array: (val) => typeof val === 'string' || isBytes$4(val),
        isSafeInteger: (val) => Number.isSafeInteger(val),
        array: (val) => Array.isArray(val),
        field: (val, object) => object.Fp.isValid(val),
        hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),
    };
    // type Record<K extends string | number | symbol, T> = { [P in K]: T; }
    function validateObject$1(object, validators, optValidators = {}) {
        const checkField = (fieldName, type, isOptional) => {
            const checkVal = validatorFns$1[type];
            if (typeof checkVal !== 'function')
                throw new Error('invalid validator function');
            const val = object[fieldName];
            if (isOptional && val === undefined)
                return;
            if (!checkVal(val, object)) {
                throw new Error('param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val);
            }
        };
        for (const [fieldName, type] of Object.entries(validators))
            checkField(fieldName, type, false);
        for (const [fieldName, type] of Object.entries(optValidators))
            checkField(fieldName, type, true);
        return object;
    }
    // validate type tests
    // const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };
    // const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!
    // // Should fail type-check
    // const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });
    // const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });
    // const z3 = validateObject(o, { test: 'boolean', z: 'bug' });
    // const z4 = validateObject(o, { a: 'boolean', z: 'bug' });
    /**
     * throws not implemented error
     */
    const notImplemented$1 = () => {
        throw new Error('not implemented');
    };
    /**
     * Memoizes (caches) computation result.
     * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.
     */
    function memoized$1(fn) {
        const map = new WeakMap();
        return (arg, ...args) => {
            const val = map.get(arg);
            if (val !== undefined)
                return val;
            const computed = fn(arg, ...args);
            map.set(arg, computed);
            return computed;
        };
    }

    var ut$8 = /*#__PURE__*/Object.freeze({
        __proto__: null,
        aInRange: aInRange$1,
        abool: abool$1,
        abytes: abytes$4,
        bitGet: bitGet$1,
        bitLen: bitLen$1,
        bitMask: bitMask$1,
        bitSet: bitSet$1,
        bytesToHex: bytesToHex$3,
        bytesToNumberBE: bytesToNumberBE$1,
        bytesToNumberLE: bytesToNumberLE$1,
        concatBytes: concatBytes$2,
        createHmacDrbg: createHmacDrbg$1,
        ensureBytes: ensureBytes$1,
        equalBytes: equalBytes$1,
        hexToBytes: hexToBytes$3,
        hexToNumber: hexToNumber$3,
        inRange: inRange$1,
        isBytes: isBytes$4,
        memoized: memoized$1,
        notImplemented: notImplemented$1,
        numberToBytesBE: numberToBytesBE$1,
        numberToBytesLE: numberToBytesLE$1,
        numberToHexUnpadded: numberToHexUnpadded$1,
        numberToVarBytesBE: numberToVarBytesBE$1,
        utf8ToBytes: utf8ToBytes$4,
        validateObject: validateObject$1
    });

    /** @internal */
    const version$7 = '0.1.1';

    /** @internal */
    function getVersion$3() {
        return version$7;
    }

    /**
     * Base error class inherited by all errors thrown by ox.
     *
     * @example
     * ```ts
     * import { Errors } from 'ox'
     * throw new Errors.BaseError('An error occurred')
     * ```
     */
    let BaseError$5 = class BaseError extends Error {
        constructor(shortMessage, options = {}) {
            const details = (() => {
                if (options.cause instanceof BaseError) {
                    if (options.cause.details)
                        return options.cause.details;
                    if (options.cause.shortMessage)
                        return options.cause.shortMessage;
                }
                if (options.cause?.message)
                    return options.cause.message;
                return options.details;
            })();
            const docsPath = (() => {
                if (options.cause instanceof BaseError)
                    return options.cause.docsPath || options.docsPath;
                return options.docsPath;
            })();
            const docsBaseUrl = 'https://oxlib.sh';
            const docs = `${docsBaseUrl}${docsPath ?? ''}`;
            const message = [
                shortMessage || 'An error occurred.',
                ...(options.metaMessages ? ['', ...options.metaMessages] : []),
                ...(details || docsPath
                    ? [
                        '',
                        details ? `Details: ${details}` : undefined,
                        docsPath ? `See: ${docs}` : undefined,
                    ]
                    : []),
            ]
                .filter((x) => typeof x === 'string')
                .join('\n');
            super(message, options.cause ? { cause: options.cause } : undefined);
            Object.defineProperty(this, "details", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docs", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docsPath", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "shortMessage", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "cause", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'BaseError'
            });
            Object.defineProperty(this, "version", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: `ox@${getVersion$3()}`
            });
            this.cause = options.cause;
            this.details = details;
            this.docs = docs;
            this.docsPath = docsPath;
            this.shortMessage = shortMessage;
        }
        walk(fn) {
            return walk$5(this, fn);
        }
    };
    /** @internal */
    function walk$5(err, fn) {
        if (fn?.(err))
            return err;
        if (err && typeof err === 'object' && 'cause' in err && err.cause)
            return walk$5(err.cause, fn);
        return fn ? null : err;
    }

    /** @internal */
    function assertSize$9(bytes, size_) {
        if (size$a(bytes) > size_)
            throw new SizeOverflowError$9({
                givenSize: size$a(bytes),
                maxSize: size_,
            });
    }
    /** @internal */
    const charCodeMap$5 = {
        zero: 48,
        nine: 57,
        A: 65,
        F: 70,
        a: 97,
        f: 102,
    };
    /** @internal */
    function charCodeToBase16$5(char) {
        if (char >= charCodeMap$5.zero && char <= charCodeMap$5.nine)
            return char - charCodeMap$5.zero;
        if (char >= charCodeMap$5.A && char <= charCodeMap$5.F)
            return char - (charCodeMap$5.A - 10);
        if (char >= charCodeMap$5.a && char <= charCodeMap$5.f)
            return char - (charCodeMap$5.a - 10);
        return undefined;
    }
    /** @internal */
    function pad$9(bytes, options = {}) {
        const { dir, size = 32 } = options;
        if (size === 0)
            return bytes;
        if (bytes.length > size)
            throw new SizeExceedsPaddingSizeError$9({
                size: bytes.length,
                targetSize: size,
                type: 'Bytes',
            });
        const paddedBytes = new Uint8Array(size);
        for (let i = 0; i < size; i++) {
            const padEnd = dir === 'right';
            paddedBytes[padEnd ? i : size - i - 1] =
                bytes[padEnd ? i : bytes.length - i - 1];
        }
        return paddedBytes;
    }

    /** @internal */
    function assertSize$8(hex, size_) {
        if (size$9(hex) > size_)
            throw new SizeOverflowError$8({
                givenSize: size$9(hex),
                maxSize: size_,
            });
    }
    /** @internal */
    function pad$8(hex_, options = {}) {
        const { dir, size = 32 } = options;
        if (size === 0)
            return hex_;
        const hex = hex_.replace('0x', '');
        if (hex.length > size * 2)
            throw new SizeExceedsPaddingSizeError$8({
                size: Math.ceil(hex.length / 2),
                targetSize: size,
                type: 'Hex',
            });
        return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;
    }

    const encoder$b = /*#__PURE__*/ new TextEncoder();
    /**
     * Instantiates a {@link ox#Bytes.Bytes} value from a `Uint8Array`, a hex string, or an array of unsigned 8-bit integers.
     *
     * :::tip
     *
     * To instantiate from a **Boolean**, **String**, or **Number**, use one of the following:
     *
     * - `Bytes.fromBoolean`
     *
     * - `Bytes.fromString`
     *
     * - `Bytes.fromNumber`
     *
     * :::
     *
     * @example
     * ```ts twoslash
     * // @noErrors
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.from([255, 124, 5, 4])
     * // @log: Uint8Array([255, 124, 5, 4])
     *
     * const data = Bytes.from('0xdeadbeef')
     * // @log: Uint8Array([222, 173, 190, 239])
     * ```
     *
     * @param value - Value to convert.
     * @returns A {@link ox#Bytes.Bytes} instance.
     */
    function from$3(value) {
        if (value instanceof Uint8Array)
            return value;
        if (typeof value === 'string')
            return fromHex$3(value);
        return fromArray$3(value);
    }
    /**
     * Converts an array of unsigned 8-bit integers into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromArray([255, 124, 5, 4])
     * // @log: Uint8Array([255, 124, 5, 4])
     * ```
     *
     * @param value - Value to convert.
     * @returns A {@link ox#Bytes.Bytes} instance.
     */
    function fromArray$3(value) {
        return value instanceof Uint8Array ? value : new Uint8Array(value);
    }
    /**
     * Encodes a {@link ox#Hex.Hex} value into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421')
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421', { size: 32 })
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     * ```
     *
     * @param value - {@link ox#Hex.Hex} value to encode.
     * @param options - Encoding options.
     * @returns Encoded {@link ox#Bytes.Bytes}.
     */
    function fromHex$3(value, options = {}) {
        const { size } = options;
        let hex = value;
        if (size) {
            assertSize$8(value, size);
            hex = padRight$6(value, size);
        }
        let hexString = hex.slice(2);
        if (hexString.length % 2)
            hexString = `0${hexString}`;
        const length = hexString.length / 2;
        const bytes = new Uint8Array(length);
        for (let index = 0, j = 0; index < length; index++) {
            const nibbleLeft = charCodeToBase16$5(hexString.charCodeAt(j++));
            const nibbleRight = charCodeToBase16$5(hexString.charCodeAt(j++));
            if (nibbleLeft === undefined || nibbleRight === undefined) {
                throw new BaseError$5(`Invalid byte sequence ("${hexString[j - 2]}${hexString[j - 1]}" in "${hexString}").`);
            }
            bytes[index] = nibbleLeft * 16 + nibbleRight;
        }
        return bytes;
    }
    /**
     * Encodes a string into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromString('Hello world!')
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromString('Hello world!', { size: 32 })
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     * ```
     *
     * @param value - String to encode.
     * @param options - Encoding options.
     * @returns Encoded {@link ox#Bytes.Bytes}.
     */
    function fromString$8(value, options = {}) {
        const { size } = options;
        const bytes = encoder$b.encode(value);
        if (typeof size === 'number') {
            assertSize$9(bytes, size);
            return padRight$7(bytes, size);
        }
        return bytes;
    }
    /**
     * Pads a {@link ox#Bytes.Bytes} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.padRight(Bytes.from([1]), 4)
     * // @log: Uint8Array([1, 0, 0, 0])
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} value to pad.
     * @param size - Size to pad the {@link ox#Bytes.Bytes} value to.
     * @returns Padded {@link ox#Bytes.Bytes} value.
     */
    function padRight$7(value, size) {
        return pad$9(value, { dir: 'right', size });
    }
    /**
     * Retrieves the size of a {@link ox#Bytes.Bytes} value.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.size(Bytes.from([1, 2, 3, 4]))
     * // @log: 4
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} value.
     * @returns Size of the {@link ox#Bytes.Bytes} value.
     */
    function size$a(value) {
        return value.length;
    }
    /**
     * Thrown when a size exceeds the maximum allowed size.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.fromString('Hello World!', { size: 8 })
     * // @error: Bytes.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.
     * ```
     */
    let SizeOverflowError$9 = class SizeOverflowError extends BaseError$5 {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed \`${maxSize}\` bytes. Given size: \`${givenSize}\` bytes.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Bytes.SizeOverflowError'
            });
        }
    };
    /**
     * Thrown when a the padding size exceeds the maximum allowed size.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.padLeft(Bytes.fromString('Hello World!'), 8)
     * // @error: [Bytes.SizeExceedsPaddingSizeError: Bytes size (`12`) exceeds padding size (`8`).
     * ```
     */
    let SizeExceedsPaddingSizeError$9 = class SizeExceedsPaddingSizeError extends BaseError$5 {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (\`${size}\`) exceeds padding size (\`${targetSize}\`).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Bytes.SizeExceedsPaddingSizeError'
            });
        }
    };

    const encoder$a = /*#__PURE__*/ new TextEncoder();
    const hexes$6 = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));
    /**
     * Concatenates two or more {@link ox#Hex.Hex}.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.concat('0x123', '0x456')
     * // @log: '0x123456'
     * ```
     *
     * @param values - The {@link ox#Hex.Hex} values to concatenate.
     * @returns The concatenated {@link ox#Hex.Hex} value.
     */
    function concat$4(...values) {
        return `0x${values.reduce((acc, x) => acc + x.replace('0x', ''), '')}`;
    }
    /**
     * Encodes a boolean into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromBoolean(true)
     * // @log: '0x1'
     *
     * Hex.fromBoolean(false)
     * // @log: '0x0'
     *
     * Hex.fromBoolean(true, { size: 32 })
     * // @log: '0x0000000000000000000000000000000000000000000000000000000000000001'
     * ```
     *
     * @param value - The boolean value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromBoolean$3(value, options = {}) {
        const hex = `0x${Number(value)}`;
        if (typeof options.size === 'number') {
            assertSize$8(hex, options.size);
            return padLeft$3(hex, options.size);
        }
        return hex;
    }
    /**
     * Encodes a {@link ox#Bytes.Bytes} value into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Bytes, Hex } from 'ox'
     *
     * Hex.fromBytes(Bytes.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]))
     * // @log: '0x48656c6c6f20576f726c6421'
     * ```
     *
     * @param value - The {@link ox#Bytes.Bytes} value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromBytes$3(value, options = {}) {
        let string = '';
        for (let i = 0; i < value.length; i++)
            string += hexes$6[value[i]];
        const hex = `0x${string}`;
        if (typeof options.size === 'number') {
            assertSize$8(hex, options.size);
            return padRight$6(hex, options.size);
        }
        return hex;
    }
    /**
     * Encodes a number or bigint into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromNumber(420)
     * // @log: '0x1a4'
     *
     * Hex.fromNumber(420, { size: 32 })
     * // @log: '0x00000000000000000000000000000000000000000000000000000000000001a4'
     * ```
     *
     * @param value - The number or bigint value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromNumber$3(value, options = {}) {
        const { signed, size } = options;
        const value_ = BigInt(value);
        let maxValue;
        if (size) {
            if (signed)
                maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;
            else
                maxValue = 2n ** (BigInt(size) * 8n) - 1n;
        }
        else if (typeof value === 'number') {
            maxValue = BigInt(Number.MAX_SAFE_INTEGER);
        }
        const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;
        if ((maxValue && value_ > maxValue) || value_ < minValue) {
            const suffix = typeof value === 'bigint' ? 'n' : '';
            throw new IntegerOutOfRangeError$5({
                max: maxValue ? `${maxValue}${suffix}` : undefined,
                min: `${minValue}${suffix}`,
                signed,
                size,
                value: `${value}${suffix}`,
            });
        }
        const stringValue = (signed && value_ < 0 ? (1n << BigInt(size * 8)) + BigInt(value_) : value_).toString(16);
        const hex = `0x${stringValue}`;
        if (size)
            return padLeft$3(hex, size);
        return hex;
    }
    /**
     * Encodes a string into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     * Hex.fromString('Hello World!')
     * // '0x48656c6c6f20576f726c6421'
     *
     * Hex.fromString('Hello World!', { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     * ```
     *
     * @param value - The string value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromString$7(value, options = {}) {
        return fromBytes$3(encoder$a.encode(value), options);
    }
    /**
     * Pads a {@link ox#Hex.Hex} value to the left with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.padLeft('0x1234', 4)
     * // @log: '0x00001234'
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to pad.
     * @param size - The size (in bytes) of the output hex value.
     * @returns The padded {@link ox#Hex.Hex} value.
     */
    function padLeft$3(value, size) {
        return pad$8(value, { dir: 'left', size });
    }
    /**
     * Pads a {@link ox#Hex.Hex} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts
     * import { Hex } from 'ox'
     *
     * Hex.padRight('0x1234', 4)
     * // @log: '0x12340000'
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to pad.
     * @param size - The size (in bytes) of the output hex value.
     * @returns The padded {@link ox#Hex.Hex} value.
     */
    function padRight$6(value, size) {
        return pad$8(value, { dir: 'right', size });
    }
    /**
     * Retrieves the size of a {@link ox#Hex.Hex} value (in bytes).
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.size('0xdeadbeef')
     * // @log: 4
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to get the size of.
     * @returns The size of the {@link ox#Hex.Hex} value (in bytes).
     */
    function size$9(value) {
        return Math.ceil((value.length - 2) / 2);
    }
    /**
     * Thrown when the provided integer is out of range, and cannot be represented as a hex value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromNumber(420182738912731283712937129)
     * // @error: Hex.IntegerOutOfRangeError: Number \`4.2018273891273126e+26\` is not in safe unsigned integer range (`0` to `9007199254740991`)
     * ```
     */
    let IntegerOutOfRangeError$5 = class IntegerOutOfRangeError extends BaseError$5 {
        constructor({ max, min, signed, size, value, }) {
            super(`Number \`${value}\` is not in safe${size ? ` ${size * 8}-bit` : ''}${signed ? ' signed' : ' unsigned'} integer range ${max ? `(\`${min}\` to \`${max}\`)` : `(above \`${min}\`)`}`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.IntegerOutOfRangeError'
            });
        }
    };
    /**
     * Thrown when the size of the value exceeds the expected max size.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromString('Hello World!', { size: 8 })
     * // @error: Hex.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.
     * ```
     */
    let SizeOverflowError$8 = class SizeOverflowError extends BaseError$5 {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed \`${maxSize}\` bytes. Given size: \`${givenSize}\` bytes.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.SizeOverflowError'
            });
        }
    };
    /**
     * Thrown when the size of the value exceeds the pad size.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.padLeft('0x1a4e12a45a21323123aaa87a897a897a898a6567a578a867a98778a667a85a875a87a6a787a65a675a6a9', 32)
     * // @error: Hex.SizeExceedsPaddingSizeError: Hex size (`43`) exceeds padding size (`32`).
     * ```
     */
    let SizeExceedsPaddingSizeError$8 = class SizeExceedsPaddingSizeError extends BaseError$5 {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (\`${size}\`) exceeds padding size (\`${targetSize}\`).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.SizeExceedsPaddingSizeError'
            });
        }
    };

    /**
     * Calculates the [Keccak256](https://en.wikipedia.org/wiki/SHA-3) hash of a {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.
     *
     * This function is a re-export of `keccak_256` from [`@noble/hashes`](https://github.com/paulmillr/noble-hashes), an audited & minimal JS hashing library.
     *
     * @example
     * ```ts twoslash
     * import { Hash } from 'ox'
     *
     * Hash.keccak256('0xdeadbeef')
     * // @log: '0xd4fd4e189132273036449fc9e11198c739161b4c0116a9a2dccdfa1c492006f1'
     * ```
     *
     * @example
     * ### Calculate Hash of a String
     *
     * ```ts twoslash
     * import { Hash, Hex } from 'ox'
     *
     * Hash.keccak256(Hex.fromString('hello world'))
     * // @log: '0x3ea2f1d0abf3fc66cf29eebb70cbd4e7fe762ef8a09bcc06c8edf641230afec0'
     * ```
     *
     * @example
     * ### Configure Return Type
     *
     * ```ts twoslash
     * import { Hash } from 'ox'
     *
     * Hash.keccak256('0xdeadbeef', { as: 'Bytes' })
     * // @log: Uint8Array [...]
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.
     * @param options - Options.
     * @returns Keccak256 hash.
     */
    function keccak256$5(value, options = {}) {
        const { as = typeof value === 'string' ? 'Hex' : 'Bytes' } = options;
        const bytes = keccak_256$3(from$3(value));
        if (as === 'Bytes')
            return bytes;
        return fromBytes$3(bytes);
    }

    /**
     * @internal
     *
     * Map with a LRU (Least recently used) policy.
     * @see https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
     */
    let LruMap$6 = class LruMap extends Map {
        constructor(size) {
            super();
            Object.defineProperty(this, "maxSize", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.maxSize = size;
        }
        get(key) {
            const value = super.get(key);
            if (super.has(key) && value !== undefined) {
                this.delete(key);
                super.set(key, value);
            }
            return value;
        }
        set(key, value) {
            super.set(key, value);
            if (this.maxSize && this.size > this.maxSize) {
                const firstKey = this.keys().next().value;
                if (firstKey)
                    this.delete(firstKey);
            }
            return this;
        }
    };

    const caches$3 = {
        checksum: /*#__PURE__*/ new LruMap$6(8192),
    };
    const checksum$7 = caches$3.checksum;

    const addressRegex$4 =  /^0x[a-fA-F0-9]{40}$/;
    /**
     * Asserts that the given value is a valid {@link ox#Address.Address}.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.assert('0xA0Cf798816D4b9b9866b5330EEa46a18382f251e')
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.assert('0xdeadbeef')
     * // @error: InvalidAddressError: Address "0xdeadbeef" is invalid.
     * ```
     *
     * @param value - Value to assert if it is a valid address.
     * @param options - Assertion options.
     */
    function assert$3(value, options = {}) {
        const { strict = true } = options;
        if (!addressRegex$4.test(value))
            throw new InvalidAddressError$4({
                address: value,
                cause: new InvalidInputError$3(),
            });
        if (strict) {
            if (value.toLowerCase() === value)
                return;
            if (checksum$6(value) !== value)
                throw new InvalidAddressError$4({
                    address: value,
                    cause: new InvalidChecksumError$3(),
                });
        }
    }
    /**
     * Computes the checksum address for the given {@link ox#Address.Address}.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.checksum('0xa0cf798816d4b9b9866b5330eea46a18382f251e')
     * // @log: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e'
     * ```
     *
     * @param address - The address to compute the checksum for.
     * @returns The checksummed address.
     */
    function checksum$6(address) {
        if (checksum$7.has(address))
            return checksum$7.get(address);
        assert$3(address, { strict: false });
        const hexAddress = address.substring(2).toLowerCase();
        const hash = keccak256$5(fromString$8(hexAddress), { as: 'Bytes' });
        const characters = hexAddress.split('');
        for (let i = 0; i < 40; i += 2) {
            if (hash[i >> 1] >> 4 >= 8 && characters[i]) {
                characters[i] = characters[i].toUpperCase();
            }
            if ((hash[i >> 1] & 0x0f) >= 8 && characters[i + 1]) {
                characters[i + 1] = characters[i + 1].toUpperCase();
            }
        }
        const result = `0x${characters.join('')}`;
        checksum$7.set(address, result);
        return result;
    }
    /**
     * Thrown when an address is invalid.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.from('0x123')
     * // @error: Address.InvalidAddressError: Address `0x123` is invalid.
     * ```
     */
    let InvalidAddressError$4 = class InvalidAddressError extends BaseError$5 {
        constructor({ address, cause }) {
            super(`Address "${address}" is invalid.`, {
                cause,
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidAddressError'
            });
        }
    };
    /** Thrown when an address is not a 20 byte (40 hexadecimal character) value. */
    let InvalidInputError$3 = class InvalidInputError extends BaseError$5 {
        constructor() {
            super('Address is not a 20 byte (40 hexadecimal character) value.');
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidInputError'
            });
        }
    };
    /** Thrown when an address does not match its checksum counterpart. */
    let InvalidChecksumError$3 = class InvalidChecksumError extends BaseError$5 {
        constructor() {
            super('Address does not match its checksum counterpart.');
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidChecksumError'
            });
        }
    };

    const arrayRegex$3 = /^(.*)\[([0-9]*)\]$/;
    // `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`
    // https://regexr.com/6va55
    const bytesRegex$3 = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;
    // `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`
    // https://regexr.com/6v8hp
    const integerRegex$3 = /^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;

    /**
     * Encodes an array of primitive values to a [packed ABI encoding](https://docs.soliditylang.org/en/latest/abi-spec.html#non-standard-packed-mode).
     *
     * @example
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     *
     * const encoded = AbiParameters.encodePacked(
     *   ['address', 'string'],
     *   ['0xd8da6bf26964af9d7eed9e03e53415d37aa96045', 'hello world'],
     * )
     * // @log: '0xd8da6bf26964af9d7eed9e03e53415d37aa9604568656c6c6f20776f726c64'
     * ```
     *
     * @param types - Set of ABI types to pack encode.
     * @param values - The set of primitive values that correspond to the ABI types defined in `types`.
     * @returns The encoded packed data.
     */
    function encodePacked$3(types, values) {
        if (types.length !== values.length)
            throw new LengthMismatchError$3({
                expectedLength: types.length,
                givenLength: values.length,
            });
        const data = [];
        for (let i = 0; i < types.length; i++) {
            const type = types[i];
            const value = values[i];
            data.push(encodePacked$3.encode(type, value));
        }
        return concat$4(...data);
    }
    (function (encodePacked) {
        // eslint-disable-next-line jsdoc/require-jsdoc
        function encode(type, value, isArray = false) {
            if (type === 'address') {
                const address = value;
                assert$3(address);
                return padLeft$3(address.toLowerCase(), isArray ? 32 : 0);
            }
            if (type === 'string')
                return fromString$7(value);
            if (type === 'bytes')
                return value;
            if (type === 'bool')
                return padLeft$3(fromBoolean$3(value), isArray ? 32 : 1);
            const intMatch = type.match(integerRegex$3);
            if (intMatch) {
                const [_type, baseType, bits = '256'] = intMatch;
                const size = Number.parseInt(bits) / 8;
                return fromNumber$3(value, {
                    size: isArray ? 32 : size,
                    signed: baseType === 'int',
                });
            }
            const bytesMatch = type.match(bytesRegex$3);
            if (bytesMatch) {
                const [_type, size] = bytesMatch;
                if (Number.parseInt(size) !== (value.length - 2) / 2)
                    throw new BytesSizeMismatchError$3({
                        expectedSize: Number.parseInt(size),
                        value: value,
                    });
                return padRight$6(value, isArray ? 32 : 0);
            }
            const arrayMatch = type.match(arrayRegex$3);
            if (arrayMatch && Array.isArray(value)) {
                const [_type, childType] = arrayMatch;
                const data = [];
                for (let i = 0; i < value.length; i++) {
                    data.push(encode(childType, value[i], true));
                }
                if (data.length === 0)
                    return '0x';
                return concat$4(...data);
            }
            throw new InvalidTypeError$3(type);
        }
        encodePacked.encode = encode;
    })(encodePacked$3 || (encodePacked$3 = {}));
    /**
     * The size of the bytes value does not match the size specified in the corresponding ABI parameter.
     *
     * ### Example
     *
     * ```ts twoslash
     * // @noErrors
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from('bytes8'), [['0xdeadbeefdeadbeefdeadbeef']])
     * //                                            ↑ expected: 8 bytes  ↑ ❌ size: 12 bytes
     * // @error: BytesSizeMismatchError: Size of bytes "0xdeadbeefdeadbeefdeadbeef"
     * // @error: (bytes12) does not match expected size (bytes8).
     * ```
     *
     * ### Solution
     *
     * Pass a bytes value of the correct size.
     *
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from(['bytes8']), ['0xdeadbeefdeadbeef'])
     * //                                                       ↑ ✅ size: 8 bytes
     * ```
     */
    let BytesSizeMismatchError$3 = class BytesSizeMismatchError extends BaseError$5 {
        constructor({ expectedSize, value, }) {
            super(`Size of bytes "${value}" (bytes${size$9(value)}) does not match expected size (bytes${expectedSize}).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.BytesSizeMismatchError'
            });
        }
    };
    /**
     * The length of the values to encode does not match the length of the ABI parameters.
     *
     * ### Example
     *
     * ```ts twoslash
     * // @noErrors
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from(['string', 'uint256']), ['hello'])
     * // @error: LengthMismatchError: ABI encoding params/values length mismatch.
     * // @error: Expected length (params): 2
     * // @error: Given length (values): 1
     * ```
     *
     * ### Solution
     *
     * Pass the correct number of values to encode.
     *
     * ### Solution
     *
     * Pass a [valid ABI type](https://docs.soliditylang.org/en/develop/abi-spec.html#types).
     */
    let LengthMismatchError$3 = class LengthMismatchError extends BaseError$5 {
        constructor({ expectedLength, givenLength, }) {
            super([
                'ABI encoding parameters/values length mismatch.',
                `Expected length (parameters): ${expectedLength}`,
                `Given length (values): ${givenLength}`,
            ].join('\n'));
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.LengthMismatchError'
            });
        }
    };
    /**
     * Throws when the ABI parameter type is invalid.
     *
     * @example
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     *
     * AbiParameters.decode([{ type: 'lol' }], '0x00000000000000000000000000000000000000000000000000000000000010f')
     * //                             ↑ ❌ invalid type
     * // @error: AbiParameters.InvalidTypeError: Type `lol` is not a valid ABI Type.
     * ```
     */
    let InvalidTypeError$3 = class InvalidTypeError extends BaseError$5 {
        constructor(type) {
            super(`Type \`${type}\` is not a valid ABI Type.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.InvalidTypeError'
            });
        }
    };

    /**
     * HMAC: RFC2104 message authentication code.
     * @module
     */
    let HMAC$1 = class HMAC extends Hash$3 {
        constructor(hash, _key) {
            super();
            this.finished = false;
            this.destroyed = false;
            ahash$1(hash);
            const key = toBytes$5(_key);
            this.iHash = hash.create();
            if (typeof this.iHash.update !== 'function')
                throw new Error('Expected instance of class which extends utils.Hash');
            this.blockLen = this.iHash.blockLen;
            this.outputLen = this.iHash.outputLen;
            const blockLen = this.blockLen;
            const pad = new Uint8Array(blockLen);
            // blockLen can be bigger than outputLen
            pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);
            for (let i = 0; i < pad.length; i++)
                pad[i] ^= 0x36;
            this.iHash.update(pad);
            // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone
            this.oHash = hash.create();
            // Undo internal XOR && apply outer XOR
            for (let i = 0; i < pad.length; i++)
                pad[i] ^= 0x36 ^ 0x5c;
            this.oHash.update(pad);
            pad.fill(0);
        }
        update(buf) {
            aexists$3(this);
            this.iHash.update(buf);
            return this;
        }
        digestInto(out) {
            aexists$3(this);
            abytes$5(out, this.outputLen);
            this.finished = true;
            this.iHash.digestInto(out);
            this.oHash.update(out);
            this.oHash.digestInto(out);
            this.destroy();
        }
        digest() {
            const out = new Uint8Array(this.oHash.outputLen);
            this.digestInto(out);
            return out;
        }
        _cloneInto(to) {
            // Create new instance without calling constructor since key already in state and we don't know it.
            to || (to = Object.create(Object.getPrototypeOf(this), {}));
            const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;
            to = to;
            to.finished = finished;
            to.destroyed = destroyed;
            to.blockLen = blockLen;
            to.outputLen = outputLen;
            to.oHash = oHash._cloneInto(to.oHash);
            to.iHash = iHash._cloneInto(to.iHash);
            return to;
        }
        destroy() {
            this.destroyed = true;
            this.oHash.destroy();
            this.iHash.destroy();
        }
    };
    /**
     * HMAC: RFC2104 message authentication code.
     * @param hash - function that would be used e.g. sha256
     * @param key - message key
     * @param message - message data
     * @example
     * import { hmac } from '@noble/hashes/hmac';
     * import { sha256 } from '@noble/hashes/sha2';
     * const mac1 = hmac(sha256, 'key', 'message');
     */
    const hmac$2 = (hash, key, message) => new HMAC$1(hash, key).update(message).digest();
    hmac$2.create = (hash, key) => new HMAC$1(hash, key);

    /**
     * Utils for modular division and finite fields.
     * A finite field over 11 is integer number operations `mod 11`.
     * There is no division: it is replaced by modular multiplicative inverse.
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    // prettier-ignore
    const _0n$9 = BigInt(0), _1n$b = BigInt(1), _2n$7 = /* @__PURE__ */ BigInt(2), _3n$3 = /* @__PURE__ */ BigInt(3);
    // prettier-ignore
    const _4n$1 = /* @__PURE__ */ BigInt(4), _5n$1 = /* @__PURE__ */ BigInt(5), _8n$1 = /* @__PURE__ */ BigInt(8);
    // Calculates a modulo b
    function mod$1(a, b) {
        const result = a % b;
        return result >= _0n$9 ? result : b + result;
    }
    /**
     * Efficiently raise num to power and do modular division.
     * Unsafe in some contexts: uses ladder, so can expose bigint bits.
     * @todo use field version && remove
     * @example
     * pow(2n, 6n, 11n) // 64n % 11n == 9n
     */
    function pow$1(num, power, modulo) {
        if (power < _0n$9)
            throw new Error('invalid exponent, negatives unsupported');
        if (modulo <= _0n$9)
            throw new Error('invalid modulus');
        if (modulo === _1n$b)
            return _0n$9;
        let res = _1n$b;
        while (power > _0n$9) {
            if (power & _1n$b)
                res = (res * num) % modulo;
            num = (num * num) % modulo;
            power >>= _1n$b;
        }
        return res;
    }
    /** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */
    function pow2$1(x, power, modulo) {
        let res = x;
        while (power-- > _0n$9) {
            res *= res;
            res %= modulo;
        }
        return res;
    }
    /**
     * Inverses number over modulo.
     * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).
     */
    function invert$1(number, modulo) {
        if (number === _0n$9)
            throw new Error('invert: expected non-zero number');
        if (modulo <= _0n$9)
            throw new Error('invert: expected positive modulus, got ' + modulo);
        // Fermat's little theorem "CT-like" version inv(n) = n^(m-2) mod m is 30x slower.
        let a = mod$1(number, modulo);
        let b = modulo;
        // prettier-ignore
        let x = _0n$9, u = _1n$b;
        while (a !== _0n$9) {
            // JIT applies optimization if those two lines follow each other
            const q = b / a;
            const r = b % a;
            const m = x - u * q;
            // prettier-ignore
            b = a, a = r, x = u, u = m;
        }
        const gcd = b;
        if (gcd !== _1n$b)
            throw new Error('invert: does not exist');
        return mod$1(x, modulo);
    }
    /**
     * Tonelli-Shanks square root search algorithm.
     * 1. https://eprint.iacr.org/2012/685.pdf (page 12)
     * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks
     * Will start an infinite loop if field order P is not prime.
     * @param P field order
     * @returns function that takes field Fp (created from P) and number n
     */
    function tonelliShanks$1(P) {
        // Legendre constant: used to calculate Legendre symbol (a | p),
        // which denotes the value of a^((p-1)/2) (mod p).
        // (a | p) ≡ 1    if a is a square (mod p)
        // (a | p) ≡ -1   if a is not a square (mod p)
        // (a | p) ≡ 0    if a ≡ 0 (mod p)
        const legendreC = (P - _1n$b) / _2n$7;
        let Q, S, Z;
        // Step 1: By factoring out powers of 2 from p - 1,
        // find q and s such that p - 1 = q*(2^s) with q odd
        for (Q = P - _1n$b, S = 0; Q % _2n$7 === _0n$9; Q /= _2n$7, S++)
            ;
        // Step 2: Select a non-square z such that (z | p) ≡ -1 and set c ≡ zq
        for (Z = _2n$7; Z < P && pow$1(Z, legendreC, P) !== P - _1n$b; Z++) {
            // Crash instead of infinity loop, we cannot reasonable count until P.
            if (Z > 1000)
                throw new Error('Cannot find square root: likely non-prime P');
        }
        // Fast-path
        if (S === 1) {
            const p1div4 = (P + _1n$b) / _4n$1;
            return function tonelliFast(Fp, n) {
                const root = Fp.pow(n, p1div4);
                if (!Fp.eql(Fp.sqr(root), n))
                    throw new Error('Cannot find square root');
                return root;
            };
        }
        // Slow-path
        const Q1div2 = (Q + _1n$b) / _2n$7;
        return function tonelliSlow(Fp, n) {
            // Step 0: Check that n is indeed a square: (n | p) should not be ≡ -1
            if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE))
                throw new Error('Cannot find square root');
            let r = S;
            // TODO: will fail at Fp2/etc
            let g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b
            let x = Fp.pow(n, Q1div2); // first guess at the square root
            let b = Fp.pow(n, Q); // first guess at the fudge factor
            while (!Fp.eql(b, Fp.ONE)) {
                if (Fp.eql(b, Fp.ZERO))
                    return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)
                // Find m such b^(2^m)==1
                let m = 1;
                for (let t2 = Fp.sqr(b); m < r; m++) {
                    if (Fp.eql(t2, Fp.ONE))
                        break;
                    t2 = Fp.sqr(t2); // t2 *= t2
                }
                // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow
                const ge = Fp.pow(g, _1n$b << BigInt(r - m - 1)); // ge = 2^(r-m-1)
                g = Fp.sqr(ge); // g = ge * ge
                x = Fp.mul(x, ge); // x *= ge
                b = Fp.mul(b, g); // b *= g
                r = m;
            }
            return x;
        };
    }
    /**
     * Square root for a finite field. It will try to check if optimizations are applicable and fall back to 4:
     *
     * 1. P ≡ 3 (mod 4)
     * 2. P ≡ 5 (mod 8)
     * 3. P ≡ 9 (mod 16)
     * 4. Tonelli-Shanks algorithm
     *
     * Different algorithms can give different roots, it is up to user to decide which one they want.
     * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).
     */
    function FpSqrt$1(P) {
        // P ≡ 3 (mod 4)
        // √n = n^((P+1)/4)
        if (P % _4n$1 === _3n$3) {
            // Not all roots possible!
            // const ORDER =
            //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;
            // const NUM = 72057594037927816n;
            const p1div4 = (P + _1n$b) / _4n$1;
            return function sqrt3mod4(Fp, n) {
                const root = Fp.pow(n, p1div4);
                // Throw if root**2 != n
                if (!Fp.eql(Fp.sqr(root), n))
                    throw new Error('Cannot find square root');
                return root;
            };
        }
        // Atkin algorithm for q ≡ 5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)
        if (P % _8n$1 === _5n$1) {
            const c1 = (P - _5n$1) / _8n$1;
            return function sqrt5mod8(Fp, n) {
                const n2 = Fp.mul(n, _2n$7);
                const v = Fp.pow(n2, c1);
                const nv = Fp.mul(n, v);
                const i = Fp.mul(Fp.mul(nv, _2n$7), v);
                const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));
                if (!Fp.eql(Fp.sqr(root), n))
                    throw new Error('Cannot find square root');
                return root;
            };
        }
        // Other cases: Tonelli-Shanks algorithm
        return tonelliShanks$1(P);
    }
    // prettier-ignore
    const FIELD_FIELDS$1 = [
        'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',
        'eql', 'add', 'sub', 'mul', 'pow', 'div',
        'addN', 'subN', 'mulN', 'sqrN'
    ];
    function validateField$1(field) {
        const initial = {
            ORDER: 'bigint',
            MASK: 'bigint',
            BYTES: 'isSafeInteger',
            BITS: 'isSafeInteger',
        };
        const opts = FIELD_FIELDS$1.reduce((map, val) => {
            map[val] = 'function';
            return map;
        }, initial);
        return validateObject$1(field, opts);
    }
    // Generic field functions
    /**
     * Same as `pow` but for Fp: non-constant-time.
     * Unsafe in some contexts: uses ladder, so can expose bigint bits.
     */
    function FpPow$1(f, num, power) {
        // Should have same speed as pow for bigints
        // TODO: benchmark!
        if (power < _0n$9)
            throw new Error('invalid exponent, negatives unsupported');
        if (power === _0n$9)
            return f.ONE;
        if (power === _1n$b)
            return num;
        let p = f.ONE;
        let d = num;
        while (power > _0n$9) {
            if (power & _1n$b)
                p = f.mul(p, d);
            d = f.sqr(d);
            power >>= _1n$b;
        }
        return p;
    }
    /**
     * Efficiently invert an array of Field elements.
     * `inv(0)` will return `undefined` here: make sure to throw an error.
     */
    function FpInvertBatch$1(f, nums) {
        const tmp = new Array(nums.length);
        // Walk from first to last, multiply them by each other MOD p
        const lastMultiplied = nums.reduce((acc, num, i) => {
            if (f.is0(num))
                return acc;
            tmp[i] = acc;
            return f.mul(acc, num);
        }, f.ONE);
        // Invert last element
        const inverted = f.inv(lastMultiplied);
        // Walk from last to first, multiply them by inverted each other MOD p
        nums.reduceRight((acc, num, i) => {
            if (f.is0(num))
                return acc;
            tmp[i] = f.mul(acc, tmp[i]);
            return f.mul(acc, num);
        }, inverted);
        return tmp;
    }
    // CURVE.n lengths
    function nLength$1(n, nBitLength) {
        // Bit size, byte size of CURVE.n
        const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;
        const nByteLength = Math.ceil(_nBitLength / 8);
        return { nBitLength: _nBitLength, nByteLength };
    }
    /**
     * Initializes a finite field over prime.
     * Major performance optimizations:
     * * a) denormalized operations like mulN instead of mul
     * * b) same object shape: never add or remove keys
     * * c) Object.freeze
     * Fragile: always run a benchmark on a change.
     * Security note: operations don't check 'isValid' for all elements for performance reasons,
     * it is caller responsibility to check this.
     * This is low-level code, please make sure you know what you're doing.
     * @param ORDER prime positive bigint
     * @param bitLen how many bits the field consumes
     * @param isLE (def: false) if encoding / decoding should be in little-endian
     * @param redef optional faster redefinitions of sqrt and other methods
     */
    function Field$1(ORDER, bitLen, isLE = false, redef = {}) {
        if (ORDER <= _0n$9)
            throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);
        const { nBitLength: BITS, nByteLength: BYTES } = nLength$1(ORDER, bitLen);
        if (BYTES > 2048)
            throw new Error('invalid field: expected ORDER of <= 2048 bytes');
        let sqrtP; // cached sqrtP
        const f = Object.freeze({
            ORDER,
            isLE,
            BITS,
            BYTES,
            MASK: bitMask$1(BITS),
            ZERO: _0n$9,
            ONE: _1n$b,
            create: (num) => mod$1(num, ORDER),
            isValid: (num) => {
                if (typeof num !== 'bigint')
                    throw new Error('invalid field element: expected bigint, got ' + typeof num);
                return _0n$9 <= num && num < ORDER; // 0 is valid element, but it's not invertible
            },
            is0: (num) => num === _0n$9,
            isOdd: (num) => (num & _1n$b) === _1n$b,
            neg: (num) => mod$1(-num, ORDER),
            eql: (lhs, rhs) => lhs === rhs,
            sqr: (num) => mod$1(num * num, ORDER),
            add: (lhs, rhs) => mod$1(lhs + rhs, ORDER),
            sub: (lhs, rhs) => mod$1(lhs - rhs, ORDER),
            mul: (lhs, rhs) => mod$1(lhs * rhs, ORDER),
            pow: (num, power) => FpPow$1(f, num, power),
            div: (lhs, rhs) => mod$1(lhs * invert$1(rhs, ORDER), ORDER),
            // Same as above, but doesn't normalize
            sqrN: (num) => num * num,
            addN: (lhs, rhs) => lhs + rhs,
            subN: (lhs, rhs) => lhs - rhs,
            mulN: (lhs, rhs) => lhs * rhs,
            inv: (num) => invert$1(num, ORDER),
            sqrt: redef.sqrt ||
                ((n) => {
                    if (!sqrtP)
                        sqrtP = FpSqrt$1(ORDER);
                    return sqrtP(f, n);
                }),
            invertBatch: (lst) => FpInvertBatch$1(f, lst),
            // TODO: do we really need constant cmov?
            // We don't have const-time bigints anyway, so probably will be not very useful
            cmov: (a, b, c) => (c ? b : a),
            toBytes: (num) => (isLE ? numberToBytesLE$1(num, BYTES) : numberToBytesBE$1(num, BYTES)),
            fromBytes: (bytes) => {
                if (bytes.length !== BYTES)
                    throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);
                return isLE ? bytesToNumberLE$1(bytes) : bytesToNumberBE$1(bytes);
            },
        });
        return Object.freeze(f);
    }
    /**
     * Returns total number of bytes consumed by the field element.
     * For example, 32 bytes for usual 256-bit weierstrass curve.
     * @param fieldOrder number of field elements, usually CURVE.n
     * @returns byte length of field
     */
    function getFieldBytesLength$1(fieldOrder) {
        if (typeof fieldOrder !== 'bigint')
            throw new Error('field order must be bigint');
        const bitLength = fieldOrder.toString(2).length;
        return Math.ceil(bitLength / 8);
    }
    /**
     * Returns minimal amount of bytes that can be safely reduced
     * by field order.
     * Should be 2^-128 for 128-bit curve such as P256.
     * @param fieldOrder number of field elements, usually CURVE.n
     * @returns byte length of target hash
     */
    function getMinHashLength$1(fieldOrder) {
        const length = getFieldBytesLength$1(fieldOrder);
        return length + Math.ceil(length / 2);
    }
    /**
     * "Constant-time" private key generation utility.
     * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF
     * and convert them into private scalar, with the modulo bias being negligible.
     * Needs at least 48 bytes of input for 32-byte private key.
     * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/
     * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final
     * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5
     * @param hash hash output from SHA3 or a similar function
     * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)
     * @param isLE interpret hash bytes as LE num
     * @returns valid private scalar
     */
    function mapHashToField$1(key, fieldOrder, isLE = false) {
        const len = key.length;
        const fieldLen = getFieldBytesLength$1(fieldOrder);
        const minLen = getMinHashLength$1(fieldOrder);
        // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.
        if (len < 16 || len < minLen || len > 1024)
            throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);
        const num = isLE ? bytesToNumberLE$1(key) : bytesToNumberBE$1(key);
        // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0
        const reduced = mod$1(num, fieldOrder - _1n$b) + _1n$b;
        return isLE ? numberToBytesLE$1(reduced, fieldLen) : numberToBytesBE$1(reduced, fieldLen);
    }

    /**
     * Methods for elliptic curve multiplication by scalars.
     * Contains wNAF, pippenger
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    const _0n$8 = BigInt(0);
    const _1n$a = BigInt(1);
    function constTimeNegate$1(condition, item) {
        const neg = item.negate();
        return condition ? neg : item;
    }
    function validateW$1(W, bits) {
        if (!Number.isSafeInteger(W) || W <= 0 || W > bits)
            throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);
    }
    function calcWOpts$1(W, bits) {
        validateW$1(W, bits);
        const windows = Math.ceil(bits / W) + 1; // +1, because
        const windowSize = 2 ** (W - 1); // -1 because we skip zero
        return { windows, windowSize };
    }
    function validateMSMPoints$1(points, c) {
        if (!Array.isArray(points))
            throw new Error('array expected');
        points.forEach((p, i) => {
            if (!(p instanceof c))
                throw new Error('invalid point at index ' + i);
        });
    }
    function validateMSMScalars$1(scalars, field) {
        if (!Array.isArray(scalars))
            throw new Error('array of scalars expected');
        scalars.forEach((s, i) => {
            if (!field.isValid(s))
                throw new Error('invalid scalar at index ' + i);
        });
    }
    // Since points in different groups cannot be equal (different object constructor),
    // we can have single place to store precomputes
    const pointPrecomputes$1 = new WeakMap();
    const pointWindowSizes$1 = new WeakMap(); // This allows use make points immutable (nothing changes inside)
    function getW$1(P) {
        return pointWindowSizes$1.get(P) || 1;
    }
    /**
     * Elliptic curve multiplication of Point by scalar. Fragile.
     * Scalars should always be less than curve order: this should be checked inside of a curve itself.
     * Creates precomputation tables for fast multiplication:
     * - private scalar is split by fixed size windows of W bits
     * - every window point is collected from window's table & added to accumulator
     * - since windows are different, same point inside tables won't be accessed more than once per calc
     * - each multiplication is 'Math.ceil(CURVE_ORDER / 𝑊) + 1' point additions (fixed for any scalar)
     * - +1 window is neccessary for wNAF
     * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication
     *
     * @todo Research returning 2d JS array of windows, instead of a single window.
     * This would allow windows to be in different memory locations
     */
    function wNAF$1(c, bits) {
        return {
            constTimeNegate: constTimeNegate$1,
            hasPrecomputes(elm) {
                return getW$1(elm) !== 1;
            },
            // non-const time multiplication ladder
            unsafeLadder(elm, n, p = c.ZERO) {
                let d = elm;
                while (n > _0n$8) {
                    if (n & _1n$a)
                        p = p.add(d);
                    d = d.double();
                    n >>= _1n$a;
                }
                return p;
            },
            /**
             * Creates a wNAF precomputation window. Used for caching.
             * Default window size is set by `utils.precompute()` and is equal to 8.
             * Number of precomputed points depends on the curve size:
             * 2^(𝑊−1) * (Math.ceil(𝑛 / 𝑊) + 1), where:
             * - 𝑊 is the window size
             * - 𝑛 is the bitlength of the curve order.
             * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.
             * @param elm Point instance
             * @param W window size
             * @returns precomputed point tables flattened to a single array
             */
            precomputeWindow(elm, W) {
                const { windows, windowSize } = calcWOpts$1(W, bits);
                const points = [];
                let p = elm;
                let base = p;
                for (let window = 0; window < windows; window++) {
                    base = p;
                    points.push(base);
                    // =1, because we skip zero
                    for (let i = 1; i < windowSize; i++) {
                        base = base.add(p);
                        points.push(base);
                    }
                    p = base.double();
                }
                return points;
            },
            /**
             * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.
             * @param W window size
             * @param precomputes precomputed tables
             * @param n scalar (we don't check here, but should be less than curve order)
             * @returns real and fake (for const-time) points
             */
            wNAF(W, precomputes, n) {
                // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise
                // But need to carefully remove other checks before wNAF. ORDER == bits here
                const { windows, windowSize } = calcWOpts$1(W, bits);
                let p = c.ZERO;
                let f = c.BASE;
                const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.
                const maxNumber = 2 ** W;
                const shiftBy = BigInt(W);
                for (let window = 0; window < windows; window++) {
                    const offset = window * windowSize;
                    // Extract W bits.
                    let wbits = Number(n & mask);
                    // Shift number by W bits.
                    n >>= shiftBy;
                    // If the bits are bigger than max size, we'll split those.
                    // +224 => 256 - 32
                    if (wbits > windowSize) {
                        wbits -= maxNumber;
                        n += _1n$a;
                    }
                    // This code was first written with assumption that 'f' and 'p' will never be infinity point:
                    // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,
                    // there is negate now: it is possible that negated element from low value
                    // would be the same as high element, which will create carry into next window.
                    // It's not obvious how this can fail, but still worth investigating later.
                    // Check if we're onto Zero point.
                    // Add random point inside current window to f.
                    const offset1 = offset;
                    const offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero
                    const cond1 = window % 2 !== 0;
                    const cond2 = wbits < 0;
                    if (wbits === 0) {
                        // The most important part for const-time getPublicKey
                        f = f.add(constTimeNegate$1(cond1, precomputes[offset1]));
                    }
                    else {
                        p = p.add(constTimeNegate$1(cond2, precomputes[offset2]));
                    }
                }
                // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()
                // Even if the variable is still unused, there are some checks which will
                // throw an exception, so compiler needs to prove they won't happen, which is hard.
                // At this point there is a way to F be infinity-point even if p is not,
                // which makes it less const-time: around 1 bigint multiply.
                return { p, f };
            },
            /**
             * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.
             * @param W window size
             * @param precomputes precomputed tables
             * @param n scalar (we don't check here, but should be less than curve order)
             * @param acc accumulator point to add result of multiplication
             * @returns point
             */
            wNAFUnsafe(W, precomputes, n, acc = c.ZERO) {
                const { windows, windowSize } = calcWOpts$1(W, bits);
                const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.
                const maxNumber = 2 ** W;
                const shiftBy = BigInt(W);
                for (let window = 0; window < windows; window++) {
                    const offset = window * windowSize;
                    if (n === _0n$8)
                        break; // No need to go over empty scalar
                    // Extract W bits.
                    let wbits = Number(n & mask);
                    // Shift number by W bits.
                    n >>= shiftBy;
                    // If the bits are bigger than max size, we'll split those.
                    // +224 => 256 - 32
                    if (wbits > windowSize) {
                        wbits -= maxNumber;
                        n += _1n$a;
                    }
                    if (wbits === 0)
                        continue;
                    let curr = precomputes[offset + Math.abs(wbits) - 1]; // -1 because we skip zero
                    if (wbits < 0)
                        curr = curr.negate();
                    // NOTE: by re-using acc, we can save a lot of additions in case of MSM
                    acc = acc.add(curr);
                }
                return acc;
            },
            getPrecomputes(W, P, transform) {
                // Calculate precomputes on a first run, reuse them after
                let comp = pointPrecomputes$1.get(P);
                if (!comp) {
                    comp = this.precomputeWindow(P, W);
                    if (W !== 1)
                        pointPrecomputes$1.set(P, transform(comp));
                }
                return comp;
            },
            wNAFCached(P, n, transform) {
                const W = getW$1(P);
                return this.wNAF(W, this.getPrecomputes(W, P, transform), n);
            },
            wNAFCachedUnsafe(P, n, transform, prev) {
                const W = getW$1(P);
                if (W === 1)
                    return this.unsafeLadder(P, n, prev); // For W=1 ladder is ~x2 faster
                return this.wNAFUnsafe(W, this.getPrecomputes(W, P, transform), n, prev);
            },
            // We calculate precomputes for elliptic curve point multiplication
            // using windowed method. This specifies window size and
            // stores precomputed values. Usually only base point would be precomputed.
            setWindowSize(P, W) {
                validateW$1(W, bits);
                pointWindowSizes$1.set(P, W);
                pointPrecomputes$1.delete(P);
            },
        };
    }
    /**
     * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).
     * 30x faster vs naive addition on L=4096, 10x faster with precomputes.
     * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.
     * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.
     * @param c Curve Point constructor
     * @param fieldN field over CURVE.N - important that it's not over CURVE.P
     * @param points array of L curve points
     * @param scalars array of L scalars (aka private keys / bigints)
     */
    function pippenger$1(c, fieldN, points, scalars) {
        // If we split scalars by some window (let's say 8 bits), every chunk will only
        // take 256 buckets even if there are 4096 scalars, also re-uses double.
        // TODO:
        // - https://eprint.iacr.org/2024/750.pdf
        // - https://tches.iacr.org/index.php/TCHES/article/view/10287
        // 0 is accepted in scalars
        validateMSMPoints$1(points, c);
        validateMSMScalars$1(scalars, fieldN);
        if (points.length !== scalars.length)
            throw new Error('arrays of points and scalars must have equal length');
        const zero = c.ZERO;
        const wbits = bitLen$1(BigInt(points.length));
        const windowSize = wbits > 12 ? wbits - 3 : wbits > 4 ? wbits - 2 : wbits ? 2 : 1; // in bits
        const MASK = (1 << windowSize) - 1;
        const buckets = new Array(MASK + 1).fill(zero); // +1 for zero array
        const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;
        let sum = zero;
        for (let i = lastBits; i >= 0; i -= windowSize) {
            buckets.fill(zero);
            for (let j = 0; j < scalars.length; j++) {
                const scalar = scalars[j];
                const wbits = Number((scalar >> BigInt(i)) & BigInt(MASK));
                buckets[wbits] = buckets[wbits].add(points[j]);
            }
            let resI = zero; // not using this will do small speed-up, but will lose ct
            // Skip first bucket, because it is zero
            for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {
                sumI = sumI.add(buckets[j]);
                resI = resI.add(sumI);
            }
            sum = sum.add(resI);
            if (i !== 0)
                for (let j = 0; j < windowSize; j++)
                    sum = sum.double();
        }
        return sum;
    }
    function validateBasic$1(curve) {
        validateField$1(curve.Fp);
        validateObject$1(curve, {
            n: 'bigint',
            h: 'bigint',
            Gx: 'field',
            Gy: 'field',
        }, {
            nBitLength: 'isSafeInteger',
            nByteLength: 'isSafeInteger',
        });
        // Set defaults
        return Object.freeze({
            ...nLength$1(curve.n, curve.nBitLength),
            ...curve,
            ...{ p: curve.Fp.ORDER },
        });
    }

    /**
     * Short Weierstrass curve methods. The formula is: y² = x³ + ax + b.
     *
     * ### Design rationale for types
     *
     * * Interaction between classes from different curves should fail:
     *   `k256.Point.BASE.add(p256.Point.BASE)`
     * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime
     * * Different calls of `curve()` would return different classes -
     *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,
     *   it won't affect others
     *
     * TypeScript can't infer types for classes created inside a function. Classes is one instance
     * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create
     * unique type for every function call.
     *
     * We can use generic types via some param, like curve opts, but that would:
     *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)
     *     which is hard to debug.
     *     2. Params can be generic and we can't enforce them to be constant value:
     *     if somebody creates curve from non-constant params,
     *     it would be allowed to interact with other curves with non-constant params
     *
     * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    function validateSigVerOpts$1(opts) {
        if (opts.lowS !== undefined)
            abool$1('lowS', opts.lowS);
        if (opts.prehash !== undefined)
            abool$1('prehash', opts.prehash);
    }
    function validatePointOpts$1(curve) {
        const opts = validateBasic$1(curve);
        validateObject$1(opts, {
            a: 'field',
            b: 'field',
        }, {
            allowedPrivateKeyLengths: 'array',
            wrapPrivateKey: 'boolean',
            isTorsionFree: 'function',
            clearCofactor: 'function',
            allowInfinityPoint: 'boolean',
            fromBytes: 'function',
            toBytes: 'function',
        });
        const { endo, Fp, a } = opts;
        if (endo) {
            if (!Fp.eql(a, Fp.ZERO)) {
                throw new Error('invalid endomorphism, can only be defined for Koblitz curves that have a=0');
            }
            if (typeof endo !== 'object' ||
                typeof endo.beta !== 'bigint' ||
                typeof endo.splitScalar !== 'function') {
                throw new Error('invalid endomorphism, expected beta: bigint and splitScalar: function');
            }
        }
        return Object.freeze({ ...opts });
    }
    const { bytesToNumberBE: b2n$1, hexToBytes: h2b$1 } = ut$8;
    let DERErr$1 = class DERErr extends Error {
        constructor(m = '') {
            super(m);
        }
    };
    /**
     * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:
     *
     *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]
     *
     * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html
     */
    const DER$1 = {
        // asn.1 DER encoding utils
        Err: DERErr$1,
        // Basic building block is TLV (Tag-Length-Value)
        _tlv: {
            encode: (tag, data) => {
                const { Err: E } = DER$1;
                if (tag < 0 || tag > 256)
                    throw new E('tlv.encode: wrong tag');
                if (data.length & 1)
                    throw new E('tlv.encode: unpadded data');
                const dataLen = data.length / 2;
                const len = numberToHexUnpadded$1(dataLen);
                if ((len.length / 2) & 128)
                    throw new E('tlv.encode: long form length too big');
                // length of length with long form flag
                const lenLen = dataLen > 127 ? numberToHexUnpadded$1((len.length / 2) | 128) : '';
                const t = numberToHexUnpadded$1(tag);
                return t + lenLen + len + data;
            },
            // v - value, l - left bytes (unparsed)
            decode(tag, data) {
                const { Err: E } = DER$1;
                let pos = 0;
                if (tag < 0 || tag > 256)
                    throw new E('tlv.encode: wrong tag');
                if (data.length < 2 || data[pos++] !== tag)
                    throw new E('tlv.decode: wrong tlv');
                const first = data[pos++];
                const isLong = !!(first & 128); // First bit of first length byte is flag for short/long form
                let length = 0;
                if (!isLong)
                    length = first;
                else {
                    // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]
                    const lenLen = first & 127;
                    if (!lenLen)
                        throw new E('tlv.decode(long): indefinite length not supported');
                    if (lenLen > 4)
                        throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js
                    const lengthBytes = data.subarray(pos, pos + lenLen);
                    if (lengthBytes.length !== lenLen)
                        throw new E('tlv.decode: length bytes not complete');
                    if (lengthBytes[0] === 0)
                        throw new E('tlv.decode(long): zero leftmost byte');
                    for (const b of lengthBytes)
                        length = (length << 8) | b;
                    pos += lenLen;
                    if (length < 128)
                        throw new E('tlv.decode(long): not minimal encoding');
                }
                const v = data.subarray(pos, pos + length);
                if (v.length !== length)
                    throw new E('tlv.decode: wrong value length');
                return { v, l: data.subarray(pos + length) };
            },
        },
        // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,
        // since we always use positive integers here. It must always be empty:
        // - add zero byte if exists
        // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)
        _int: {
            encode(num) {
                const { Err: E } = DER$1;
                if (num < _0n$7)
                    throw new E('integer: negative integers are not allowed');
                let hex = numberToHexUnpadded$1(num);
                // Pad with zero byte if negative flag is present
                if (Number.parseInt(hex[0], 16) & 0b1000)
                    hex = '00' + hex;
                if (hex.length & 1)
                    throw new E('unexpected DER parsing assertion: unpadded hex');
                return hex;
            },
            decode(data) {
                const { Err: E } = DER$1;
                if (data[0] & 128)
                    throw new E('invalid signature integer: negative');
                if (data[0] === 0x00 && !(data[1] & 128))
                    throw new E('invalid signature integer: unnecessary leading zero');
                return b2n$1(data);
            },
        },
        toSig(hex) {
            // parse DER signature
            const { Err: E, _int: int, _tlv: tlv } = DER$1;
            const data = typeof hex === 'string' ? h2b$1(hex) : hex;
            abytes$4(data);
            const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);
            if (seqLeftBytes.length)
                throw new E('invalid signature: left bytes after parsing');
            const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);
            const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);
            if (sLeftBytes.length)
                throw new E('invalid signature: left bytes after parsing');
            return { r: int.decode(rBytes), s: int.decode(sBytes) };
        },
        hexFromSig(sig) {
            const { _tlv: tlv, _int: int } = DER$1;
            const rs = tlv.encode(0x02, int.encode(sig.r));
            const ss = tlv.encode(0x02, int.encode(sig.s));
            const seq = rs + ss;
            return tlv.encode(0x30, seq);
        },
    };
    // Be friendly to bad ECMAScript parsers by not using bigint literals
    // prettier-ignore
    const _0n$7 = BigInt(0), _1n$9 = BigInt(1); BigInt(2); const _3n$2 = BigInt(3); BigInt(4);
    function weierstrassPoints$1(opts) {
        const CURVE = validatePointOpts$1(opts);
        const { Fp } = CURVE; // All curves has same field / group length as for now, but they can differ
        const Fn = Field$1(CURVE.n, CURVE.nBitLength);
        const toBytes = CURVE.toBytes ||
            ((_c, point, _isCompressed) => {
                const a = point.toAffine();
                return concatBytes$2(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));
            });
        const fromBytes = CURVE.fromBytes ||
            ((bytes) => {
                // const head = bytes[0];
                const tail = bytes.subarray(1);
                // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');
                const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));
                const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));
                return { x, y };
            });
        /**
         * y² = x³ + ax + b: Short weierstrass curve formula
         * @returns y²
         */
        function weierstrassEquation(x) {
            const { a, b } = CURVE;
            const x2 = Fp.sqr(x); // x * x
            const x3 = Fp.mul(x2, x); // x2 * x
            return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x3 + a * x + b
        }
        // Validate whether the passed curve params are valid.
        // We check if curve equation works for generator point.
        // `assertValidity()` won't work: `isTorsionFree()` is not available at this point in bls12-381.
        // ProjectivePoint class has not been initialized yet.
        if (!Fp.eql(Fp.sqr(CURVE.Gy), weierstrassEquation(CURVE.Gx)))
            throw new Error('bad generator point: equation left != right');
        // Valid group elements reside in range 1..n-1
        function isWithinCurveOrder(num) {
            return inRange$1(num, _1n$9, CURVE.n);
        }
        // Validates if priv key is valid and converts it to bigint.
        // Supports options allowedPrivateKeyLengths and wrapPrivateKey.
        function normPrivateKeyToScalar(key) {
            const { allowedPrivateKeyLengths: lengths, nByteLength, wrapPrivateKey, n: N } = CURVE;
            if (lengths && typeof key !== 'bigint') {
                if (isBytes$4(key))
                    key = bytesToHex$3(key);
                // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes
                if (typeof key !== 'string' || !lengths.includes(key.length))
                    throw new Error('invalid private key');
                key = key.padStart(nByteLength * 2, '0');
            }
            let num;
            try {
                num =
                    typeof key === 'bigint'
                        ? key
                        : bytesToNumberBE$1(ensureBytes$1('private key', key, nByteLength));
            }
            catch (error) {
                throw new Error('invalid private key, expected hex or ' + nByteLength + ' bytes, got ' + typeof key);
            }
            if (wrapPrivateKey)
                num = mod$1(num, N); // disabled by default, enabled for BLS
            aInRange$1('private key', num, _1n$9, N); // num in range [1..N-1]
            return num;
        }
        function assertPrjPoint(other) {
            if (!(other instanceof Point))
                throw new Error('ProjectivePoint expected');
        }
        // Memoized toAffine / validity check. They are heavy. Points are immutable.
        // Converts Projective point to affine (x, y) coordinates.
        // Can accept precomputed Z^-1 - for example, from invertBatch.
        // (x, y, z) ∋ (x=x/z, y=y/z)
        const toAffineMemo = memoized$1((p, iz) => {
            const { px: x, py: y, pz: z } = p;
            // Fast-path for normalized points
            if (Fp.eql(z, Fp.ONE))
                return { x, y };
            const is0 = p.is0();
            // If invZ was 0, we return zero point. However we still want to execute
            // all operations, so we replace invZ with a random number, 1.
            if (iz == null)
                iz = is0 ? Fp.ONE : Fp.inv(z);
            const ax = Fp.mul(x, iz);
            const ay = Fp.mul(y, iz);
            const zz = Fp.mul(z, iz);
            if (is0)
                return { x: Fp.ZERO, y: Fp.ZERO };
            if (!Fp.eql(zz, Fp.ONE))
                throw new Error('invZ was invalid');
            return { x: ax, y: ay };
        });
        // NOTE: on exception this will crash 'cached' and no value will be set.
        // Otherwise true will be return
        const assertValidMemo = memoized$1((p) => {
            if (p.is0()) {
                // (0, 1, 0) aka ZERO is invalid in most contexts.
                // In BLS, ZERO can be serialized, so we allow it.
                // (0, 0, 0) is invalid representation of ZERO.
                if (CURVE.allowInfinityPoint && !Fp.is0(p.py))
                    return;
                throw new Error('bad point: ZERO');
            }
            // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`
            const { x, y } = p.toAffine();
            // Check if x, y are valid field elements
            if (!Fp.isValid(x) || !Fp.isValid(y))
                throw new Error('bad point: x or y not FE');
            const left = Fp.sqr(y); // y²
            const right = weierstrassEquation(x); // x³ + ax + b
            if (!Fp.eql(left, right))
                throw new Error('bad point: equation left != right');
            if (!p.isTorsionFree())
                throw new Error('bad point: not in prime-order subgroup');
            return true;
        });
        /**
         * Projective Point works in 3d / projective (homogeneous) coordinates: (x, y, z) ∋ (x=x/z, y=y/z)
         * Default Point works in 2d / affine coordinates: (x, y)
         * We're doing calculations in projective, because its operations don't require costly inversion.
         */
        class Point {
            constructor(px, py, pz) {
                this.px = px;
                this.py = py;
                this.pz = pz;
                if (px == null || !Fp.isValid(px))
                    throw new Error('x required');
                if (py == null || !Fp.isValid(py))
                    throw new Error('y required');
                if (pz == null || !Fp.isValid(pz))
                    throw new Error('z required');
                Object.freeze(this);
            }
            // Does not validate if the point is on-curve.
            // Use fromHex instead, or call assertValidity() later.
            static fromAffine(p) {
                const { x, y } = p || {};
                if (!p || !Fp.isValid(x) || !Fp.isValid(y))
                    throw new Error('invalid affine point');
                if (p instanceof Point)
                    throw new Error('projective point not allowed');
                const is0 = (i) => Fp.eql(i, Fp.ZERO);
                // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)
                if (is0(x) && is0(y))
                    return Point.ZERO;
                return new Point(x, y, Fp.ONE);
            }
            get x() {
                return this.toAffine().x;
            }
            get y() {
                return this.toAffine().y;
            }
            /**
             * Takes a bunch of Projective Points but executes only one
             * inversion on all of them. Inversion is very slow operation,
             * so this improves performance massively.
             * Optimization: converts a list of projective points to a list of identical points with Z=1.
             */
            static normalizeZ(points) {
                const toInv = Fp.invertBatch(points.map((p) => p.pz));
                return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);
            }
            /**
             * Converts hash string or Uint8Array to Point.
             * @param hex short/long ECDSA hex
             */
            static fromHex(hex) {
                const P = Point.fromAffine(fromBytes(ensureBytes$1('pointHex', hex)));
                P.assertValidity();
                return P;
            }
            // Multiplies generator point by privateKey.
            static fromPrivateKey(privateKey) {
                return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));
            }
            // Multiscalar Multiplication
            static msm(points, scalars) {
                return pippenger$1(Point, Fn, points, scalars);
            }
            // "Private method", don't use it directly
            _setWindowSize(windowSize) {
                wnaf.setWindowSize(this, windowSize);
            }
            // A point on curve is valid if it conforms to equation.
            assertValidity() {
                assertValidMemo(this);
            }
            hasEvenY() {
                const { y } = this.toAffine();
                if (Fp.isOdd)
                    return !Fp.isOdd(y);
                throw new Error("Field doesn't support isOdd");
            }
            /**
             * Compare one point to another.
             */
            equals(other) {
                assertPrjPoint(other);
                const { px: X1, py: Y1, pz: Z1 } = this;
                const { px: X2, py: Y2, pz: Z2 } = other;
                const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));
                const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));
                return U1 && U2;
            }
            /**
             * Flips point to one corresponding to (x, -y) in Affine coordinates.
             */
            negate() {
                return new Point(this.px, Fp.neg(this.py), this.pz);
            }
            // Renes-Costello-Batina exception-free doubling formula.
            // There is 30% faster Jacobian formula, but it is not complete.
            // https://eprint.iacr.org/2015/1060, algorithm 3
            // Cost: 8M + 3S + 3*a + 2*b3 + 15add.
            double() {
                const { a, b } = CURVE;
                const b3 = Fp.mul(b, _3n$2);
                const { px: X1, py: Y1, pz: Z1 } = this;
                let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore
                let t0 = Fp.mul(X1, X1); // step 1
                let t1 = Fp.mul(Y1, Y1);
                let t2 = Fp.mul(Z1, Z1);
                let t3 = Fp.mul(X1, Y1);
                t3 = Fp.add(t3, t3); // step 5
                Z3 = Fp.mul(X1, Z1);
                Z3 = Fp.add(Z3, Z3);
                X3 = Fp.mul(a, Z3);
                Y3 = Fp.mul(b3, t2);
                Y3 = Fp.add(X3, Y3); // step 10
                X3 = Fp.sub(t1, Y3);
                Y3 = Fp.add(t1, Y3);
                Y3 = Fp.mul(X3, Y3);
                X3 = Fp.mul(t3, X3);
                Z3 = Fp.mul(b3, Z3); // step 15
                t2 = Fp.mul(a, t2);
                t3 = Fp.sub(t0, t2);
                t3 = Fp.mul(a, t3);
                t3 = Fp.add(t3, Z3);
                Z3 = Fp.add(t0, t0); // step 20
                t0 = Fp.add(Z3, t0);
                t0 = Fp.add(t0, t2);
                t0 = Fp.mul(t0, t3);
                Y3 = Fp.add(Y3, t0);
                t2 = Fp.mul(Y1, Z1); // step 25
                t2 = Fp.add(t2, t2);
                t0 = Fp.mul(t2, t3);
                X3 = Fp.sub(X3, t0);
                Z3 = Fp.mul(t2, t1);
                Z3 = Fp.add(Z3, Z3); // step 30
                Z3 = Fp.add(Z3, Z3);
                return new Point(X3, Y3, Z3);
            }
            // Renes-Costello-Batina exception-free addition formula.
            // There is 30% faster Jacobian formula, but it is not complete.
            // https://eprint.iacr.org/2015/1060, algorithm 1
            // Cost: 12M + 0S + 3*a + 3*b3 + 23add.
            add(other) {
                assertPrjPoint(other);
                const { px: X1, py: Y1, pz: Z1 } = this;
                const { px: X2, py: Y2, pz: Z2 } = other;
                let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore
                const a = CURVE.a;
                const b3 = Fp.mul(CURVE.b, _3n$2);
                let t0 = Fp.mul(X1, X2); // step 1
                let t1 = Fp.mul(Y1, Y2);
                let t2 = Fp.mul(Z1, Z2);
                let t3 = Fp.add(X1, Y1);
                let t4 = Fp.add(X2, Y2); // step 5
                t3 = Fp.mul(t3, t4);
                t4 = Fp.add(t0, t1);
                t3 = Fp.sub(t3, t4);
                t4 = Fp.add(X1, Z1);
                let t5 = Fp.add(X2, Z2); // step 10
                t4 = Fp.mul(t4, t5);
                t5 = Fp.add(t0, t2);
                t4 = Fp.sub(t4, t5);
                t5 = Fp.add(Y1, Z1);
                X3 = Fp.add(Y2, Z2); // step 15
                t5 = Fp.mul(t5, X3);
                X3 = Fp.add(t1, t2);
                t5 = Fp.sub(t5, X3);
                Z3 = Fp.mul(a, t4);
                X3 = Fp.mul(b3, t2); // step 20
                Z3 = Fp.add(X3, Z3);
                X3 = Fp.sub(t1, Z3);
                Z3 = Fp.add(t1, Z3);
                Y3 = Fp.mul(X3, Z3);
                t1 = Fp.add(t0, t0); // step 25
                t1 = Fp.add(t1, t0);
                t2 = Fp.mul(a, t2);
                t4 = Fp.mul(b3, t4);
                t1 = Fp.add(t1, t2);
                t2 = Fp.sub(t0, t2); // step 30
                t2 = Fp.mul(a, t2);
                t4 = Fp.add(t4, t2);
                t0 = Fp.mul(t1, t4);
                Y3 = Fp.add(Y3, t0);
                t0 = Fp.mul(t5, t4); // step 35
                X3 = Fp.mul(t3, X3);
                X3 = Fp.sub(X3, t0);
                t0 = Fp.mul(t3, t1);
                Z3 = Fp.mul(t5, Z3);
                Z3 = Fp.add(Z3, t0); // step 40
                return new Point(X3, Y3, Z3);
            }
            subtract(other) {
                return this.add(other.negate());
            }
            is0() {
                return this.equals(Point.ZERO);
            }
            wNAF(n) {
                return wnaf.wNAFCached(this, n, Point.normalizeZ);
            }
            /**
             * Non-constant-time multiplication. Uses double-and-add algorithm.
             * It's faster, but should only be used when you don't care about
             * an exposed private key e.g. sig verification, which works over *public* keys.
             */
            multiplyUnsafe(sc) {
                const { endo, n: N } = CURVE;
                aInRange$1('scalar', sc, _0n$7, N);
                const I = Point.ZERO;
                if (sc === _0n$7)
                    return I;
                if (this.is0() || sc === _1n$9)
                    return this;
                // Case a: no endomorphism. Case b: has precomputes.
                if (!endo || wnaf.hasPrecomputes(this))
                    return wnaf.wNAFCachedUnsafe(this, sc, Point.normalizeZ);
                // Case c: endomorphism
                let { k1neg, k1, k2neg, k2 } = endo.splitScalar(sc);
                let k1p = I;
                let k2p = I;
                let d = this;
                while (k1 > _0n$7 || k2 > _0n$7) {
                    if (k1 & _1n$9)
                        k1p = k1p.add(d);
                    if (k2 & _1n$9)
                        k2p = k2p.add(d);
                    d = d.double();
                    k1 >>= _1n$9;
                    k2 >>= _1n$9;
                }
                if (k1neg)
                    k1p = k1p.negate();
                if (k2neg)
                    k2p = k2p.negate();
                k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);
                return k1p.add(k2p);
            }
            /**
             * Constant time multiplication.
             * Uses wNAF method. Windowed method may be 10% faster,
             * but takes 2x longer to generate and consumes 2x memory.
             * Uses precomputes when available.
             * Uses endomorphism for Koblitz curves.
             * @param scalar by which the point would be multiplied
             * @returns New point
             */
            multiply(scalar) {
                const { endo, n: N } = CURVE;
                aInRange$1('scalar', scalar, _1n$9, N);
                let point, fake; // Fake point is used to const-time mult
                if (endo) {
                    const { k1neg, k1, k2neg, k2 } = endo.splitScalar(scalar);
                    let { p: k1p, f: f1p } = this.wNAF(k1);
                    let { p: k2p, f: f2p } = this.wNAF(k2);
                    k1p = wnaf.constTimeNegate(k1neg, k1p);
                    k2p = wnaf.constTimeNegate(k2neg, k2p);
                    k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);
                    point = k1p.add(k2p);
                    fake = f1p.add(f2p);
                }
                else {
                    const { p, f } = this.wNAF(scalar);
                    point = p;
                    fake = f;
                }
                // Normalize `z` for both points, but return only real one
                return Point.normalizeZ([point, fake])[0];
            }
            /**
             * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.
             * Not using Strauss-Shamir trick: precomputation tables are faster.
             * The trick could be useful if both P and Q are not G (not in our case).
             * @returns non-zero affine point
             */
            multiplyAndAddUnsafe(Q, a, b) {
                const G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes
                const mul = (P, a // Select faster multiply() method
                ) => (a === _0n$7 || a === _1n$9 || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a));
                const sum = mul(this, a).add(mul(Q, b));
                return sum.is0() ? undefined : sum;
            }
            // Converts Projective point to affine (x, y) coordinates.
            // Can accept precomputed Z^-1 - for example, from invertBatch.
            // (x, y, z) ∋ (x=x/z, y=y/z)
            toAffine(iz) {
                return toAffineMemo(this, iz);
            }
            isTorsionFree() {
                const { h: cofactor, isTorsionFree } = CURVE;
                if (cofactor === _1n$9)
                    return true; // No subgroups, always torsion-free
                if (isTorsionFree)
                    return isTorsionFree(Point, this);
                throw new Error('isTorsionFree() has not been declared for the elliptic curve');
            }
            clearCofactor() {
                const { h: cofactor, clearCofactor } = CURVE;
                if (cofactor === _1n$9)
                    return this; // Fast-path
                if (clearCofactor)
                    return clearCofactor(Point, this);
                return this.multiplyUnsafe(CURVE.h);
            }
            toRawBytes(isCompressed = true) {
                abool$1('isCompressed', isCompressed);
                this.assertValidity();
                return toBytes(Point, this, isCompressed);
            }
            toHex(isCompressed = true) {
                abool$1('isCompressed', isCompressed);
                return bytesToHex$3(this.toRawBytes(isCompressed));
            }
        }
        Point.BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);
        Point.ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO);
        const _bits = CURVE.nBitLength;
        const wnaf = wNAF$1(Point, CURVE.endo ? Math.ceil(_bits / 2) : _bits);
        // Validate if generator point is on curve
        return {
            CURVE,
            ProjectivePoint: Point,
            normPrivateKeyToScalar,
            weierstrassEquation,
            isWithinCurveOrder,
        };
    }
    function validateOpts$1(curve) {
        const opts = validateBasic$1(curve);
        validateObject$1(opts, {
            hash: 'hash',
            hmac: 'function',
            randomBytes: 'function',
        }, {
            bits2int: 'function',
            bits2int_modN: 'function',
            lowS: 'boolean',
        });
        return Object.freeze({ lowS: true, ...opts });
    }
    /**
     * Creates short weierstrass curve and ECDSA signature methods for it.
     * @example
     * import { Field } from '@noble/curves/abstract/modular';
     * // Before that, define BigInt-s: a, b, p, n, Gx, Gy
     * const curve = weierstrass({ a, b, Fp: Field(p), n, Gx, Gy, h: 1n })
     */
    function weierstrass$1(curveDef) {
        const CURVE = validateOpts$1(curveDef);
        const { Fp, n: CURVE_ORDER } = CURVE;
        const compressedLen = Fp.BYTES + 1; // e.g. 33 for 32
        const uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32
        function modN(a) {
            return mod$1(a, CURVE_ORDER);
        }
        function invN(a) {
            return invert$1(a, CURVE_ORDER);
        }
        const { ProjectivePoint: Point, normPrivateKeyToScalar, weierstrassEquation, isWithinCurveOrder, } = weierstrassPoints$1({
            ...CURVE,
            toBytes(_c, point, isCompressed) {
                const a = point.toAffine();
                const x = Fp.toBytes(a.x);
                const cat = concatBytes$2;
                abool$1('isCompressed', isCompressed);
                if (isCompressed) {
                    return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);
                }
                else {
                    return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));
                }
            },
            fromBytes(bytes) {
                const len = bytes.length;
                const head = bytes[0];
                const tail = bytes.subarray(1);
                // this.assertValidity() is done inside of fromHex
                if (len === compressedLen && (head === 0x02 || head === 0x03)) {
                    const x = bytesToNumberBE$1(tail);
                    if (!inRange$1(x, _1n$9, Fp.ORDER))
                        throw new Error('Point is not on curve');
                    const y2 = weierstrassEquation(x); // y² = x³ + ax + b
                    let y;
                    try {
                        y = Fp.sqrt(y2); // y = y² ^ (p+1)/4
                    }
                    catch (sqrtError) {
                        const suffix = sqrtError instanceof Error ? ': ' + sqrtError.message : '';
                        throw new Error('Point is not on curve' + suffix);
                    }
                    const isYOdd = (y & _1n$9) === _1n$9;
                    // ECDSA
                    const isHeadOdd = (head & 1) === 1;
                    if (isHeadOdd !== isYOdd)
                        y = Fp.neg(y);
                    return { x, y };
                }
                else if (len === uncompressedLen && head === 0x04) {
                    const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));
                    const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));
                    return { x, y };
                }
                else {
                    const cl = compressedLen;
                    const ul = uncompressedLen;
                    throw new Error('invalid Point, expected length of ' + cl + ', or uncompressed ' + ul + ', got ' + len);
                }
            },
        });
        const numToNByteStr = (num) => bytesToHex$3(numberToBytesBE$1(num, CURVE.nByteLength));
        function isBiggerThanHalfOrder(number) {
            const HALF = CURVE_ORDER >> _1n$9;
            return number > HALF;
        }
        function normalizeS(s) {
            return isBiggerThanHalfOrder(s) ? modN(-s) : s;
        }
        // slice bytes num
        const slcNum = (b, from, to) => bytesToNumberBE$1(b.slice(from, to));
        /**
         * ECDSA signature with its (r, s) properties. Supports DER & compact representations.
         */
        class Signature {
            constructor(r, s, recovery) {
                this.r = r;
                this.s = s;
                this.recovery = recovery;
                this.assertValidity();
            }
            // pair (bytes of r, bytes of s)
            static fromCompact(hex) {
                const l = CURVE.nByteLength;
                hex = ensureBytes$1('compactSignature', hex, l * 2);
                return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));
            }
            // DER encoded ECDSA signature
            // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script
            static fromDER(hex) {
                const { r, s } = DER$1.toSig(ensureBytes$1('DER', hex));
                return new Signature(r, s);
            }
            assertValidity() {
                aInRange$1('r', this.r, _1n$9, CURVE_ORDER); // r in [1..N]
                aInRange$1('s', this.s, _1n$9, CURVE_ORDER); // s in [1..N]
            }
            addRecoveryBit(recovery) {
                return new Signature(this.r, this.s, recovery);
            }
            recoverPublicKey(msgHash) {
                const { r, s, recovery: rec } = this;
                const h = bits2int_modN(ensureBytes$1('msgHash', msgHash)); // Truncate hash
                if (rec == null || ![0, 1, 2, 3].includes(rec))
                    throw new Error('recovery id invalid');
                const radj = rec === 2 || rec === 3 ? r + CURVE.n : r;
                if (radj >= Fp.ORDER)
                    throw new Error('recovery id 2 or 3 invalid');
                const prefix = (rec & 1) === 0 ? '02' : '03';
                const R = Point.fromHex(prefix + numToNByteStr(radj));
                const ir = invN(radj); // r^-1
                const u1 = modN(-h * ir); // -hr^-1
                const u2 = modN(s * ir); // sr^-1
                const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)
                if (!Q)
                    throw new Error('point at infinify'); // unsafe is fine: no priv data leaked
                Q.assertValidity();
                return Q;
            }
            // Signatures should be low-s, to prevent malleability.
            hasHighS() {
                return isBiggerThanHalfOrder(this.s);
            }
            normalizeS() {
                return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;
            }
            // DER-encoded
            toDERRawBytes() {
                return hexToBytes$3(this.toDERHex());
            }
            toDERHex() {
                return DER$1.hexFromSig({ r: this.r, s: this.s });
            }
            // padded bytes of r, then padded bytes of s
            toCompactRawBytes() {
                return hexToBytes$3(this.toCompactHex());
            }
            toCompactHex() {
                return numToNByteStr(this.r) + numToNByteStr(this.s);
            }
        }
        const utils = {
            isValidPrivateKey(privateKey) {
                try {
                    normPrivateKeyToScalar(privateKey);
                    return true;
                }
                catch (error) {
                    return false;
                }
            },
            normPrivateKeyToScalar: normPrivateKeyToScalar,
            /**
             * Produces cryptographically secure private key from random of size
             * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.
             */
            randomPrivateKey: () => {
                const length = getMinHashLength$1(CURVE.n);
                return mapHashToField$1(CURVE.randomBytes(length), CURVE.n);
            },
            /**
             * Creates precompute table for an arbitrary EC point. Makes point "cached".
             * Allows to massively speed-up `point.multiply(scalar)`.
             * @returns cached point
             * @example
             * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));
             * fast.multiply(privKey); // much faster ECDH now
             */
            precompute(windowSize = 8, point = Point.BASE) {
                point._setWindowSize(windowSize);
                point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here
                return point;
            },
        };
        /**
         * Computes public key for a private key. Checks for validity of the private key.
         * @param privateKey private key
         * @param isCompressed whether to return compact (default), or full key
         * @returns Public key, full when isCompressed=false; short when isCompressed=true
         */
        function getPublicKey(privateKey, isCompressed = true) {
            return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);
        }
        /**
         * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.
         */
        function isProbPub(item) {
            const arr = isBytes$4(item);
            const str = typeof item === 'string';
            const len = (arr || str) && item.length;
            if (arr)
                return len === compressedLen || len === uncompressedLen;
            if (str)
                return len === 2 * compressedLen || len === 2 * uncompressedLen;
            if (item instanceof Point)
                return true;
            return false;
        }
        /**
         * ECDH (Elliptic Curve Diffie Hellman).
         * Computes shared public key from private key and public key.
         * Checks: 1) private key validity 2) shared key is on-curve.
         * Does NOT hash the result.
         * @param privateA private key
         * @param publicB different public key
         * @param isCompressed whether to return compact (default), or full key
         * @returns shared public key
         */
        function getSharedSecret(privateA, publicB, isCompressed = true) {
            if (isProbPub(privateA))
                throw new Error('first arg must be private key');
            if (!isProbPub(publicB))
                throw new Error('second arg must be public key');
            const b = Point.fromHex(publicB); // check for being on-curve
            return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);
        }
        // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.
        // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.
        // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.
        // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors
        const bits2int = CURVE.bits2int ||
            function (bytes) {
                // Our custom check "just in case"
                if (bytes.length > 8192)
                    throw new Error('input is too large');
                // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)
                // for some cases, since bytes.length * 8 is not actual bitLength.
                const num = bytesToNumberBE$1(bytes); // check for == u8 done here
                const delta = bytes.length * 8 - CURVE.nBitLength; // truncate to nBitLength leftmost bits
                return delta > 0 ? num >> BigInt(delta) : num;
            };
        const bits2int_modN = CURVE.bits2int_modN ||
            function (bytes) {
                return modN(bits2int(bytes)); // can't use bytesToNumberBE here
            };
        // NOTE: pads output with zero as per spec
        const ORDER_MASK = bitMask$1(CURVE.nBitLength);
        /**
         * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.
         */
        function int2octets(num) {
            aInRange$1('num < 2^' + CURVE.nBitLength, num, _0n$7, ORDER_MASK);
            // works with order, can have different size than numToField!
            return numberToBytesBE$1(num, CURVE.nByteLength);
        }
        // Steps A, D of RFC6979 3.2
        // Creates RFC6979 seed; converts msg/privKey to numbers.
        // Used only in sign, not in verify.
        // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order,
        // this will be invalid at least for P521. Also it can be bigger for P224 + SHA256
        function prepSig(msgHash, privateKey, opts = defaultSigOpts) {
            if (['recovered', 'canonical'].some((k) => k in opts))
                throw new Error('sign() legacy options not supported');
            const { hash, randomBytes } = CURVE;
            let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default
            if (lowS == null)
                lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash
            msgHash = ensureBytes$1('msgHash', msgHash);
            validateSigVerOpts$1(opts);
            if (prehash)
                msgHash = ensureBytes$1('prehashed msgHash', hash(msgHash));
            // We can't later call bits2octets, since nested bits2int is broken for curves
            // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.
            // const bits2octets = (bits) => int2octets(bits2int_modN(bits))
            const h1int = bits2int_modN(msgHash);
            const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint
            const seedArgs = [int2octets(d), int2octets(h1int)];
            // extraEntropy. RFC6979 3.6: additional k' (optional).
            if (ent != null && ent !== false) {
                // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')
                const e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is
                seedArgs.push(ensureBytes$1('extraEntropy', e)); // check for being bytes
            }
            const seed = concatBytes$2(...seedArgs); // Step D of RFC6979 3.2
            const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!
            // Converts signature params into point w r/s, checks result for validity.
            function k2sig(kBytes) {
                // RFC 6979 Section 3.2, step 3: k = bits2int(T)
                const k = bits2int(kBytes); // Cannot use fields methods, since it is group element
                if (!isWithinCurveOrder(k))
                    return; // Important: all mod() calls here must be done over N
                const ik = invN(k); // k^-1 mod n
                const q = Point.BASE.multiply(k).toAffine(); // q = Gk
                const r = modN(q.x); // r = q.x mod n
                if (r === _0n$7)
                    return;
                // Can use scalar blinding b^-1(bm + bdr) where b ∈ [1,q−1] according to
                // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:
                // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT
                const s = modN(ik * modN(m + r * d)); // Not using blinding here
                if (s === _0n$7)
                    return;
                let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n$9); // recovery bit (2 or 3, when q.x > n)
                let normS = s;
                if (lowS && isBiggerThanHalfOrder(s)) {
                    normS = normalizeS(s); // if lowS was passed, ensure s is always
                    recovery ^= 1; // // in the bottom half of N
                }
                return new Signature(r, normS, recovery); // use normS, not s
            }
            return { seed, k2sig };
        }
        const defaultSigOpts = { lowS: CURVE.lowS, prehash: false };
        const defaultVerOpts = { lowS: CURVE.lowS, prehash: false };
        /**
         * Signs message hash with a private key.
         * ```
         * sign(m, d, k) where
         *   (x, y) = G × k
         *   r = x mod n
         *   s = (m + dr)/k mod n
         * ```
         * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.
         * @param privKey private key
         * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.
         * @returns signature with recovery param
         */
        function sign(msgHash, privKey, opts = defaultSigOpts) {
            const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.
            const C = CURVE;
            const drbg = createHmacDrbg$1(C.hash.outputLen, C.nByteLength, C.hmac);
            return drbg(seed, k2sig); // Steps B, C, D, E, F, G
        }
        // Enable precomputes. Slows down first publicKey computation by 20ms.
        Point.BASE._setWindowSize(8);
        // utils.precompute(8, ProjectivePoint.BASE)
        /**
         * Verifies a signature against message hash and public key.
         * Rejects lowS signatures by default: to override,
         * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:
         *
         * ```
         * verify(r, s, h, P) where
         *   U1 = hs^-1 mod n
         *   U2 = rs^-1 mod n
         *   R = U1⋅G - U2⋅P
         *   mod(R.x, n) == r
         * ```
         */
        function verify(signature, msgHash, publicKey, opts = defaultVerOpts) {
            const sg = signature;
            msgHash = ensureBytes$1('msgHash', msgHash);
            publicKey = ensureBytes$1('publicKey', publicKey);
            const { lowS, prehash, format } = opts;
            // Verify opts, deduce signature format
            validateSigVerOpts$1(opts);
            if ('strict' in opts)
                throw new Error('options.strict was renamed to lowS');
            if (format !== undefined && format !== 'compact' && format !== 'der')
                throw new Error('format must be compact or der');
            const isHex = typeof sg === 'string' || isBytes$4(sg);
            const isObj = !isHex &&
                !format &&
                typeof sg === 'object' &&
                sg !== null &&
                typeof sg.r === 'bigint' &&
                typeof sg.s === 'bigint';
            if (!isHex && !isObj)
                throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');
            let _sig = undefined;
            let P;
            try {
                if (isObj)
                    _sig = new Signature(sg.r, sg.s);
                if (isHex) {
                    // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).
                    // Since DER can also be 2*nByteLength bytes, we check for it first.
                    try {
                        if (format !== 'compact')
                            _sig = Signature.fromDER(sg);
                    }
                    catch (derError) {
                        if (!(derError instanceof DER$1.Err))
                            throw derError;
                    }
                    if (!_sig && format !== 'der')
                        _sig = Signature.fromCompact(sg);
                }
                P = Point.fromHex(publicKey);
            }
            catch (error) {
                return false;
            }
            if (!_sig)
                return false;
            if (lowS && _sig.hasHighS())
                return false;
            if (prehash)
                msgHash = CURVE.hash(msgHash);
            const { r, s } = _sig;
            const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element
            const is = invN(s); // s^-1
            const u1 = modN(h * is); // u1 = hs^-1 mod n
            const u2 = modN(r * is); // u2 = rs^-1 mod n
            const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)?.toAffine(); // R = u1⋅G + u2⋅P
            if (!R)
                return false;
            const v = modN(R.x);
            return v === r;
        }
        return {
            CURVE,
            getPublicKey,
            getSharedSecret,
            sign,
            verify,
            ProjectivePoint: Point,
            Signature,
            utils,
        };
    }

    /**
     * Utilities for short weierstrass curves, combined with noble-hashes.
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    /** connects noble-curves to noble-hashes */
    function getHash$1(hash) {
        return {
            hash,
            hmac: (key, ...msgs) => hmac$2(hash, key, concatBytes$3(...msgs)),
            randomBytes: randomBytes$1,
        };
    }
    function createCurve$1(curveDef, defHash) {
        const create = (hash) => weierstrass$1({ ...curveDef, ...getHash$1(hash) });
        return { ...create(defHash), create };
    }

    /**
     * NIST secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).
     *
     * Seems to be rigid (not backdoored)
     * [as per discussion](https://bitcointalk.org/index.php?topic=289795.msg3183975#msg3183975).
     *
     * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.
     * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.
     * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.
     * [See explanation](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    const secp256k1P$1 = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');
    const secp256k1N$1 = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');
    const _1n$8 = BigInt(1);
    const _2n$6 = BigInt(2);
    const divNearest$1 = (a, b) => (a + b / _2n$6) / b;
    /**
     * √n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.
     * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]
     */
    function sqrtMod$1(y) {
        const P = secp256k1P$1;
        // prettier-ignore
        const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);
        // prettier-ignore
        const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);
        const b2 = (y * y * y) % P; // x^3, 11
        const b3 = (b2 * b2 * y) % P; // x^7
        const b6 = (pow2$1(b3, _3n, P) * b3) % P;
        const b9 = (pow2$1(b6, _3n, P) * b3) % P;
        const b11 = (pow2$1(b9, _2n$6, P) * b2) % P;
        const b22 = (pow2$1(b11, _11n, P) * b11) % P;
        const b44 = (pow2$1(b22, _22n, P) * b22) % P;
        const b88 = (pow2$1(b44, _44n, P) * b44) % P;
        const b176 = (pow2$1(b88, _88n, P) * b88) % P;
        const b220 = (pow2$1(b176, _44n, P) * b44) % P;
        const b223 = (pow2$1(b220, _3n, P) * b3) % P;
        const t1 = (pow2$1(b223, _23n, P) * b22) % P;
        const t2 = (pow2$1(t1, _6n, P) * b2) % P;
        const root = pow2$1(t2, _2n$6, P);
        if (!Fpk1$1.eql(Fpk1$1.sqr(root), y))
            throw new Error('Cannot find square root');
        return root;
    }
    const Fpk1$1 = Field$1(secp256k1P$1, undefined, undefined, { sqrt: sqrtMod$1 });
    /**
     * secp256k1 short weierstrass curve and ECDSA signatures over it.
     *
     * @example
     * import { secp256k1 } from '@noble/curves/secp256k1';
     *
     * const priv = secp256k1.utils.randomPrivateKey();
     * const pub = secp256k1.getPublicKey(priv);
     * const msg = new Uint8Array(32).fill(1); // message hash (not message) in ecdsa
     * const sig = secp256k1.sign(msg, priv); // `{prehash: true}` option is available
     * const isValid = secp256k1.verify(sig, msg, pub) === true;
     */
    const secp256k1$3 = createCurve$1({
        a: BigInt(0), // equation params: a, b
        b: BigInt(7),
        Fp: Fpk1$1, // Field's prime: 2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n
        n: secp256k1N$1, // Curve order, total count of valid points in the field
        // Base point (x, y) aka generator point
        Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),
        Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),
        h: BigInt(1), // Cofactor
        lowS: true, // Allow only low-S signatures by default in sign() and verify()
        endo: {
            // Endomorphism, see above
            beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),
            splitScalar: (k) => {
                const n = secp256k1N$1;
                const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');
                const b1 = -_1n$8 * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');
                const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');
                const b2 = a1;
                const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)
                const c1 = divNearest$1(b2 * k, n);
                const c2 = divNearest$1(-b1 * k, n);
                let k1 = mod$1(k - c1 * a1 - c2 * a2, n);
                let k2 = mod$1(-c1 * b1 - c2 * b2, n);
                const k1neg = k1 > POW_2_128;
                const k2neg = k2 > POW_2_128;
                if (k1neg)
                    k1 = n - k1;
                if (k2neg)
                    k2 = n - k2;
                if (k1 > POW_2_128 || k2 > POW_2_128) {
                    throw new Error('splitScalar: Endomorphism failed, k=' + k);
                }
                return { k1neg, k1, k2neg, k2 };
            },
        },
    }, sha256$4);
    // Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.
    // https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki
    BigInt(0);
    secp256k1$3.ProjectivePoint;

    var secp256k1$4 = /*#__PURE__*/Object.freeze({
        __proto__: null,
        secp256k1: secp256k1$3
    });

    var src$1 = {};

    var compare = {};

    var hasRequiredCompare;

    function requireCompare () {
    	if (hasRequiredCompare) return compare;
    	hasRequiredCompare = 1;

    	Object.defineProperty(compare, '__esModule', { value: true });

    	function compare$1(a, b) {
    	  for (let i = 0; i < a.byteLength; i++) {
    	    if (a[i] < b[i]) {
    	      return -1;
    	    }
    	    if (a[i] > b[i]) {
    	      return 1;
    	    }
    	  }
    	  if (a.byteLength > b.byteLength) {
    	    return 1;
    	  }
    	  if (a.byteLength < b.byteLength) {
    	    return -1;
    	  }
    	  return 0;
    	}

    	compare.compare = compare$1;
    	return compare;
    }

    var concat$3 = {};

    var alloc = {};

    var hasRequiredAlloc;

    function requireAlloc () {
    	if (hasRequiredAlloc) return alloc;
    	hasRequiredAlloc = 1;

    	Object.defineProperty(alloc, '__esModule', { value: true });

    	function alloc$1(size = 0) {
    	  if (globalThis.Buffer != null && globalThis.Buffer.alloc != null) {
    	    return globalThis.Buffer.alloc(size);
    	  }
    	  return new Uint8Array(size);
    	}
    	function allocUnsafe(size = 0) {
    	  if (globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null) {
    	    return globalThis.Buffer.allocUnsafe(size);
    	  }
    	  return new Uint8Array(size);
    	}

    	alloc.alloc = alloc$1;
    	alloc.allocUnsafe = allocUnsafe;
    	return alloc;
    }

    var hasRequiredConcat;

    function requireConcat () {
    	if (hasRequiredConcat) return concat$3;
    	hasRequiredConcat = 1;

    	Object.defineProperty(concat$3, '__esModule', { value: true });

    	var alloc = requireAlloc();

    	function concat(arrays, length) {
    	  if (!length) {
    	    length = arrays.reduce((acc, curr) => acc + curr.length, 0);
    	  }
    	  const output = alloc.allocUnsafe(length);
    	  let offset = 0;
    	  for (const arr of arrays) {
    	    output.set(arr, offset);
    	    offset += arr.length;
    	  }
    	  return output;
    	}

    	concat$3.concat = concat;
    	return concat$3;
    }

    var equals = {};

    var hasRequiredEquals;

    function requireEquals () {
    	if (hasRequiredEquals) return equals;
    	hasRequiredEquals = 1;

    	Object.defineProperty(equals, '__esModule', { value: true });

    	function equals$1(a, b) {
    	  if (a === b) {
    	    return true;
    	  }
    	  if (a.byteLength !== b.byteLength) {
    	    return false;
    	  }
    	  for (let i = 0; i < a.byteLength; i++) {
    	    if (a[i] !== b[i]) {
    	      return false;
    	    }
    	  }
    	  return true;
    	}

    	equals.equals = equals$1;
    	return equals;
    }

    var fromString$6 = {};

    var basics = {};

    var identity$1 = {};

    var base$2 = {};

    var baseX;
    var hasRequiredBaseX;

    function requireBaseX () {
    	if (hasRequiredBaseX) return baseX;
    	hasRequiredBaseX = 1;

    	function base(ALPHABET, name) {
    	  if (ALPHABET.length >= 255) {
    	    throw new TypeError('Alphabet too long');
    	  }
    	  var BASE_MAP = new Uint8Array(256);
    	  for (var j = 0; j < BASE_MAP.length; j++) {
    	    BASE_MAP[j] = 255;
    	  }
    	  for (var i = 0; i < ALPHABET.length; i++) {
    	    var x = ALPHABET.charAt(i);
    	    var xc = x.charCodeAt(0);
    	    if (BASE_MAP[xc] !== 255) {
    	      throw new TypeError(x + ' is ambiguous');
    	    }
    	    BASE_MAP[xc] = i;
    	  }
    	  var BASE = ALPHABET.length;
    	  var LEADER = ALPHABET.charAt(0);
    	  var FACTOR = Math.log(BASE) / Math.log(256);
    	  var iFACTOR = Math.log(256) / Math.log(BASE);
    	  function encode(source) {
    	    if (source instanceof Uint8Array);
    	    else if (ArrayBuffer.isView(source)) {
    	      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);
    	    } else if (Array.isArray(source)) {
    	      source = Uint8Array.from(source);
    	    }
    	    if (!(source instanceof Uint8Array)) {
    	      throw new TypeError('Expected Uint8Array');
    	    }
    	    if (source.length === 0) {
    	      return '';
    	    }
    	    var zeroes = 0;
    	    var length = 0;
    	    var pbegin = 0;
    	    var pend = source.length;
    	    while (pbegin !== pend && source[pbegin] === 0) {
    	      pbegin++;
    	      zeroes++;
    	    }
    	    var size = (pend - pbegin) * iFACTOR + 1 >>> 0;
    	    var b58 = new Uint8Array(size);
    	    while (pbegin !== pend) {
    	      var carry = source[pbegin];
    	      var i = 0;
    	      for (var it1 = size - 1; (carry !== 0 || i < length) && it1 !== -1; it1--, i++) {
    	        carry += 256 * b58[it1] >>> 0;
    	        b58[it1] = carry % BASE >>> 0;
    	        carry = carry / BASE >>> 0;
    	      }
    	      if (carry !== 0) {
    	        throw new Error('Non-zero carry');
    	      }
    	      length = i;
    	      pbegin++;
    	    }
    	    var it2 = size - length;
    	    while (it2 !== size && b58[it2] === 0) {
    	      it2++;
    	    }
    	    var str = LEADER.repeat(zeroes);
    	    for (; it2 < size; ++it2) {
    	      str += ALPHABET.charAt(b58[it2]);
    	    }
    	    return str;
    	  }
    	  function decodeUnsafe(source) {
    	    if (typeof source !== 'string') {
    	      throw new TypeError('Expected String');
    	    }
    	    if (source.length === 0) {
    	      return new Uint8Array();
    	    }
    	    var psz = 0;
    	    if (source[psz] === ' ') {
    	      return;
    	    }
    	    var zeroes = 0;
    	    var length = 0;
    	    while (source[psz] === LEADER) {
    	      zeroes++;
    	      psz++;
    	    }
    	    var size = (source.length - psz) * FACTOR + 1 >>> 0;
    	    var b256 = new Uint8Array(size);
    	    while (source[psz]) {
    	      var carry = BASE_MAP[source.charCodeAt(psz)];
    	      if (carry === 255) {
    	        return;
    	      }
    	      var i = 0;
    	      for (var it3 = size - 1; (carry !== 0 || i < length) && it3 !== -1; it3--, i++) {
    	        carry += BASE * b256[it3] >>> 0;
    	        b256[it3] = carry % 256 >>> 0;
    	        carry = carry / 256 >>> 0;
    	      }
    	      if (carry !== 0) {
    	        throw new Error('Non-zero carry');
    	      }
    	      length = i;
    	      psz++;
    	    }
    	    if (source[psz] === ' ') {
    	      return;
    	    }
    	    var it4 = size - length;
    	    while (it4 !== size && b256[it4] === 0) {
    	      it4++;
    	    }
    	    var vch = new Uint8Array(zeroes + (size - it4));
    	    var j = zeroes;
    	    while (it4 !== size) {
    	      vch[j++] = b256[it4++];
    	    }
    	    return vch;
    	  }
    	  function decode(string) {
    	    var buffer = decodeUnsafe(string);
    	    if (buffer) {
    	      return buffer;
    	    }
    	    throw new Error(`Non-${ name } character`);
    	  }
    	  return {
    	    encode: encode,
    	    decodeUnsafe: decodeUnsafe,
    	    decode: decode
    	  };
    	}
    	var src = base;
    	var _brrp__multiformats_scope_baseX = src;

    	baseX = _brrp__multiformats_scope_baseX;
    	return baseX;
    }

    var bytes = {};

    var hasRequiredBytes;

    function requireBytes () {
    	if (hasRequiredBytes) return bytes;
    	hasRequiredBytes = 1;

    	Object.defineProperty(bytes, '__esModule', { value: true });

    	const empty = new Uint8Array(0);
    	const toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '');
    	const fromHex = hex => {
    	  const hexes = hex.match(/../g);
    	  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty;
    	};
    	const equals = (aa, bb) => {
    	  if (aa === bb)
    	    return true;
    	  if (aa.byteLength !== bb.byteLength) {
    	    return false;
    	  }
    	  for (let ii = 0; ii < aa.byteLength; ii++) {
    	    if (aa[ii] !== bb[ii]) {
    	      return false;
    	    }
    	  }
    	  return true;
    	};
    	const coerce = o => {
    	  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array')
    	    return o;
    	  if (o instanceof ArrayBuffer)
    	    return new Uint8Array(o);
    	  if (ArrayBuffer.isView(o)) {
    	    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength);
    	  }
    	  throw new Error('Unknown type, must be binary type');
    	};
    	const isBinary = o => o instanceof ArrayBuffer || ArrayBuffer.isView(o);
    	const fromString = str => new TextEncoder().encode(str);
    	const toString = b => new TextDecoder().decode(b);

    	bytes.coerce = coerce;
    	bytes.empty = empty;
    	bytes.equals = equals;
    	bytes.fromHex = fromHex;
    	bytes.fromString = fromString;
    	bytes.isBinary = isBinary;
    	bytes.toHex = toHex;
    	bytes.toString = toString;
    	return bytes;
    }

    var hasRequiredBase$1;

    function requireBase$1 () {
    	if (hasRequiredBase$1) return base$2;
    	hasRequiredBase$1 = 1;

    	Object.defineProperty(base$2, '__esModule', { value: true });

    	var baseX$1 = requireBaseX();
    	var bytes = requireBytes();

    	class Encoder {
    	  constructor(name, prefix, baseEncode) {
    	    this.name = name;
    	    this.prefix = prefix;
    	    this.baseEncode = baseEncode;
    	  }
    	  encode(bytes) {
    	    if (bytes instanceof Uint8Array) {
    	      return `${ this.prefix }${ this.baseEncode(bytes) }`;
    	    } else {
    	      throw Error('Unknown type, must be binary type');
    	    }
    	  }
    	}
    	class Decoder {
    	  constructor(name, prefix, baseDecode) {
    	    this.name = name;
    	    this.prefix = prefix;
    	    if (prefix.codePointAt(0) === undefined) {
    	      throw new Error('Invalid prefix character');
    	    }
    	    this.prefixCodePoint = prefix.codePointAt(0);
    	    this.baseDecode = baseDecode;
    	  }
    	  decode(text) {
    	    if (typeof text === 'string') {
    	      if (text.codePointAt(0) !== this.prefixCodePoint) {
    	        throw Error(`Unable to decode multibase string ${ JSON.stringify(text) }, ${ this.name } decoder only supports inputs prefixed with ${ this.prefix }`);
    	      }
    	      return this.baseDecode(text.slice(this.prefix.length));
    	    } else {
    	      throw Error('Can only multibase decode strings');
    	    }
    	  }
    	  or(decoder) {
    	    return or(this, decoder);
    	  }
    	}
    	class ComposedDecoder {
    	  constructor(decoders) {
    	    this.decoders = decoders;
    	  }
    	  or(decoder) {
    	    return or(this, decoder);
    	  }
    	  decode(input) {
    	    const prefix = input[0];
    	    const decoder = this.decoders[prefix];
    	    if (decoder) {
    	      return decoder.decode(input);
    	    } else {
    	      throw RangeError(`Unable to decode multibase string ${ JSON.stringify(input) }, only inputs prefixed with ${ Object.keys(this.decoders) } are supported`);
    	    }
    	  }
    	}
    	const or = (left, right) => new ComposedDecoder({
    	  ...left.decoders || { [left.prefix]: left },
    	  ...right.decoders || { [right.prefix]: right }
    	});
    	class Codec {
    	  constructor(name, prefix, baseEncode, baseDecode) {
    	    this.name = name;
    	    this.prefix = prefix;
    	    this.baseEncode = baseEncode;
    	    this.baseDecode = baseDecode;
    	    this.encoder = new Encoder(name, prefix, baseEncode);
    	    this.decoder = new Decoder(name, prefix, baseDecode);
    	  }
    	  encode(input) {
    	    return this.encoder.encode(input);
    	  }
    	  decode(input) {
    	    return this.decoder.decode(input);
    	  }
    	}
    	const from = ({name, prefix, encode, decode}) => new Codec(name, prefix, encode, decode);
    	const baseX = ({prefix, name, alphabet}) => {
    	  const {encode, decode} = baseX$1(alphabet, name);
    	  return from({
    	    prefix,
    	    name,
    	    encode,
    	    decode: text => bytes.coerce(decode(text))
    	  });
    	};
    	const decode = (string, alphabet, bitsPerChar, name) => {
    	  const codes = {};
    	  for (let i = 0; i < alphabet.length; ++i) {
    	    codes[alphabet[i]] = i;
    	  }
    	  let end = string.length;
    	  while (string[end - 1] === '=') {
    	    --end;
    	  }
    	  const out = new Uint8Array(end * bitsPerChar / 8 | 0);
    	  let bits = 0;
    	  let buffer = 0;
    	  let written = 0;
    	  for (let i = 0; i < end; ++i) {
    	    const value = codes[string[i]];
    	    if (value === undefined) {
    	      throw new SyntaxError(`Non-${ name } character`);
    	    }
    	    buffer = buffer << bitsPerChar | value;
    	    bits += bitsPerChar;
    	    if (bits >= 8) {
    	      bits -= 8;
    	      out[written++] = 255 & buffer >> bits;
    	    }
    	  }
    	  if (bits >= bitsPerChar || 255 & buffer << 8 - bits) {
    	    throw new SyntaxError('Unexpected end of data');
    	  }
    	  return out;
    	};
    	const encode = (data, alphabet, bitsPerChar) => {
    	  const pad = alphabet[alphabet.length - 1] === '=';
    	  const mask = (1 << bitsPerChar) - 1;
    	  let out = '';
    	  let bits = 0;
    	  let buffer = 0;
    	  for (let i = 0; i < data.length; ++i) {
    	    buffer = buffer << 8 | data[i];
    	    bits += 8;
    	    while (bits > bitsPerChar) {
    	      bits -= bitsPerChar;
    	      out += alphabet[mask & buffer >> bits];
    	    }
    	  }
    	  if (bits) {
    	    out += alphabet[mask & buffer << bitsPerChar - bits];
    	  }
    	  if (pad) {
    	    while (out.length * bitsPerChar & 7) {
    	      out += '=';
    	    }
    	  }
    	  return out;
    	};
    	const rfc4648 = ({name, prefix, bitsPerChar, alphabet}) => {
    	  return from({
    	    prefix,
    	    name,
    	    encode(input) {
    	      return encode(input, alphabet, bitsPerChar);
    	    },
    	    decode(input) {
    	      return decode(input, alphabet, bitsPerChar, name);
    	    }
    	  });
    	};

    	base$2.Codec = Codec;
    	base$2.baseX = baseX;
    	base$2.from = from;
    	base$2.or = or;
    	base$2.rfc4648 = rfc4648;
    	return base$2;
    }

    var hasRequiredIdentity$1;

    function requireIdentity$1 () {
    	if (hasRequiredIdentity$1) return identity$1;
    	hasRequiredIdentity$1 = 1;

    	Object.defineProperty(identity$1, '__esModule', { value: true });

    	var base = requireBase$1();
    	var bytes = requireBytes();

    	const identity = base.from({
    	  prefix: '\0',
    	  name: 'identity',
    	  encode: buf => bytes.toString(buf),
    	  decode: str => bytes.fromString(str)
    	});

    	identity$1.identity = identity;
    	return identity$1;
    }

    var base2 = {};

    var hasRequiredBase2;

    function requireBase2 () {
    	if (hasRequiredBase2) return base2;
    	hasRequiredBase2 = 1;

    	Object.defineProperty(base2, '__esModule', { value: true });

    	var base = requireBase$1();

    	const base2$1 = base.rfc4648({
    	  prefix: '0',
    	  name: 'base2',
    	  alphabet: '01',
    	  bitsPerChar: 1
    	});

    	base2.base2 = base2$1;
    	return base2;
    }

    var base8 = {};

    var hasRequiredBase8;

    function requireBase8 () {
    	if (hasRequiredBase8) return base8;
    	hasRequiredBase8 = 1;

    	Object.defineProperty(base8, '__esModule', { value: true });

    	var base = requireBase$1();

    	const base8$1 = base.rfc4648({
    	  prefix: '7',
    	  name: 'base8',
    	  alphabet: '01234567',
    	  bitsPerChar: 3
    	});

    	base8.base8 = base8$1;
    	return base8;
    }

    var base10 = {};

    var hasRequiredBase10;

    function requireBase10 () {
    	if (hasRequiredBase10) return base10;
    	hasRequiredBase10 = 1;

    	Object.defineProperty(base10, '__esModule', { value: true });

    	var base = requireBase$1();

    	const base10$1 = base.baseX({
    	  prefix: '9',
    	  name: 'base10',
    	  alphabet: '0123456789'
    	});

    	base10.base10 = base10$1;
    	return base10;
    }

    var base16 = {};

    var hasRequiredBase16;

    function requireBase16 () {
    	if (hasRequiredBase16) return base16;
    	hasRequiredBase16 = 1;

    	Object.defineProperty(base16, '__esModule', { value: true });

    	var base = requireBase$1();

    	const base16$1 = base.rfc4648({
    	  prefix: 'f',
    	  name: 'base16',
    	  alphabet: '0123456789abcdef',
    	  bitsPerChar: 4
    	});
    	const base16upper = base.rfc4648({
    	  prefix: 'F',
    	  name: 'base16upper',
    	  alphabet: '0123456789ABCDEF',
    	  bitsPerChar: 4
    	});

    	base16.base16 = base16$1;
    	base16.base16upper = base16upper;
    	return base16;
    }

    var base32 = {};

    var hasRequiredBase32;

    function requireBase32 () {
    	if (hasRequiredBase32) return base32;
    	hasRequiredBase32 = 1;

    	Object.defineProperty(base32, '__esModule', { value: true });

    	var base = requireBase$1();

    	const base32$1 = base.rfc4648({
    	  prefix: 'b',
    	  name: 'base32',
    	  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',
    	  bitsPerChar: 5
    	});
    	const base32upper = base.rfc4648({
    	  prefix: 'B',
    	  name: 'base32upper',
    	  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',
    	  bitsPerChar: 5
    	});
    	const base32pad = base.rfc4648({
    	  prefix: 'c',
    	  name: 'base32pad',
    	  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',
    	  bitsPerChar: 5
    	});
    	const base32padupper = base.rfc4648({
    	  prefix: 'C',
    	  name: 'base32padupper',
    	  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',
    	  bitsPerChar: 5
    	});
    	const base32hex = base.rfc4648({
    	  prefix: 'v',
    	  name: 'base32hex',
    	  alphabet: '0123456789abcdefghijklmnopqrstuv',
    	  bitsPerChar: 5
    	});
    	const base32hexupper = base.rfc4648({
    	  prefix: 'V',
    	  name: 'base32hexupper',
    	  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',
    	  bitsPerChar: 5
    	});
    	const base32hexpad = base.rfc4648({
    	  prefix: 't',
    	  name: 'base32hexpad',
    	  alphabet: '0123456789abcdefghijklmnopqrstuv=',
    	  bitsPerChar: 5
    	});
    	const base32hexpadupper = base.rfc4648({
    	  prefix: 'T',
    	  name: 'base32hexpadupper',
    	  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',
    	  bitsPerChar: 5
    	});
    	const base32z = base.rfc4648({
    	  prefix: 'h',
    	  name: 'base32z',
    	  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',
    	  bitsPerChar: 5
    	});

    	base32.base32 = base32$1;
    	base32.base32hex = base32hex;
    	base32.base32hexpad = base32hexpad;
    	base32.base32hexpadupper = base32hexpadupper;
    	base32.base32hexupper = base32hexupper;
    	base32.base32pad = base32pad;
    	base32.base32padupper = base32padupper;
    	base32.base32upper = base32upper;
    	base32.base32z = base32z;
    	return base32;
    }

    var base36 = {};

    var hasRequiredBase36;

    function requireBase36 () {
    	if (hasRequiredBase36) return base36;
    	hasRequiredBase36 = 1;

    	Object.defineProperty(base36, '__esModule', { value: true });

    	var base = requireBase$1();

    	const base36$1 = base.baseX({
    	  prefix: 'k',
    	  name: 'base36',
    	  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'
    	});
    	const base36upper = base.baseX({
    	  prefix: 'K',
    	  name: 'base36upper',
    	  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'
    	});

    	base36.base36 = base36$1;
    	base36.base36upper = base36upper;
    	return base36;
    }

    var base58$1 = {};

    var hasRequiredBase58;

    function requireBase58 () {
    	if (hasRequiredBase58) return base58$1;
    	hasRequiredBase58 = 1;

    	Object.defineProperty(base58$1, '__esModule', { value: true });

    	var base = requireBase$1();

    	const base58btc = base.baseX({
    	  name: 'base58btc',
    	  prefix: 'z',
    	  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'
    	});
    	const base58flickr = base.baseX({
    	  name: 'base58flickr',
    	  prefix: 'Z',
    	  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'
    	});

    	base58$1.base58btc = base58btc;
    	base58$1.base58flickr = base58flickr;
    	return base58$1;
    }

    var base64 = {};

    var hasRequiredBase64;

    function requireBase64 () {
    	if (hasRequiredBase64) return base64;
    	hasRequiredBase64 = 1;

    	Object.defineProperty(base64, '__esModule', { value: true });

    	var base = requireBase$1();

    	const base64$1 = base.rfc4648({
    	  prefix: 'm',
    	  name: 'base64',
    	  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',
    	  bitsPerChar: 6
    	});
    	const base64pad = base.rfc4648({
    	  prefix: 'M',
    	  name: 'base64pad',
    	  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',
    	  bitsPerChar: 6
    	});
    	const base64url = base.rfc4648({
    	  prefix: 'u',
    	  name: 'base64url',
    	  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',
    	  bitsPerChar: 6
    	});
    	const base64urlpad = base.rfc4648({
    	  prefix: 'U',
    	  name: 'base64urlpad',
    	  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',
    	  bitsPerChar: 6
    	});

    	base64.base64 = base64$1;
    	base64.base64pad = base64pad;
    	base64.base64url = base64url;
    	base64.base64urlpad = base64urlpad;
    	return base64;
    }

    var base256emoji = {};

    var hasRequiredBase256emoji;

    function requireBase256emoji () {
    	if (hasRequiredBase256emoji) return base256emoji;
    	hasRequiredBase256emoji = 1;

    	Object.defineProperty(base256emoji, '__esModule', { value: true });

    	var base = requireBase$1();

    	const alphabet = Array.from('\uD83D\uDE80\uD83E\uDE90\u2604\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\u2600\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\u2764\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\u263A\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\u270C\u2728\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\u2763\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\u270B\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\u2B50\u2705\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\u2714\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\u2639\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\u261D\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\u26BD\uD83E\uDD19\u2615\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\u26A1\uD83C\uDF1E\uD83C\uDF88\u274C\u270A\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\u2708\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\u25B6\u27A1\u2753\uD83D\uDC8E\uD83D\uDCB8\u2B07\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\u26A0\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\u260E\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\u2744\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42');
    	const alphabetBytesToChars = alphabet.reduce((p, c, i) => {
    	  p[i] = c;
    	  return p;
    	}, []);
    	const alphabetCharsToBytes = alphabet.reduce((p, c, i) => {
    	  p[c.codePointAt(0)] = i;
    	  return p;
    	}, []);
    	function encode(data) {
    	  return data.reduce((p, c) => {
    	    p += alphabetBytesToChars[c];
    	    return p;
    	  }, '');
    	}
    	function decode(str) {
    	  const byts = [];
    	  for (const char of str) {
    	    const byt = alphabetCharsToBytes[char.codePointAt(0)];
    	    if (byt === undefined) {
    	      throw new Error(`Non-base256emoji character: ${ char }`);
    	    }
    	    byts.push(byt);
    	  }
    	  return new Uint8Array(byts);
    	}
    	const base256emoji$1 = base.from({
    	  prefix: '\uD83D\uDE80',
    	  name: 'base256emoji',
    	  encode,
    	  decode
    	});

    	base256emoji.base256emoji = base256emoji$1;
    	return base256emoji;
    }

    var sha2 = {};

    var hasher = {};

    var digest = {};

    var varint = {};

    var varint_1;
    var hasRequiredVarint$1;

    function requireVarint$1 () {
    	if (hasRequiredVarint$1) return varint_1;
    	hasRequiredVarint$1 = 1;

    	var encode_1 = encode;
    	var MSB = 128, MSBALL = -128, INT = Math.pow(2, 31);
    	function encode(num, out, offset) {
    	  out = out || [];
    	  offset = offset || 0;
    	  var oldOffset = offset;
    	  while (num >= INT) {
    	    out[offset++] = num & 255 | MSB;
    	    num /= 128;
    	  }
    	  while (num & MSBALL) {
    	    out[offset++] = num & 255 | MSB;
    	    num >>>= 7;
    	  }
    	  out[offset] = num | 0;
    	  encode.bytes = offset - oldOffset + 1;
    	  return out;
    	}
    	var decode = read;
    	var MSB$1 = 128, REST$1 = 127;
    	function read(buf, offset) {
    	  var res = 0, offset = offset || 0, shift = 0, counter = offset, b, l = buf.length;
    	  do {
    	    if (counter >= l) {
    	      read.bytes = 0;
    	      throw new RangeError('Could not decode varint');
    	    }
    	    b = buf[counter++];
    	    res += shift < 28 ? (b & REST$1) << shift : (b & REST$1) * Math.pow(2, shift);
    	    shift += 7;
    	  } while (b >= MSB$1);
    	  read.bytes = counter - offset;
    	  return res;
    	}
    	var N1 = Math.pow(2, 7);
    	var N2 = Math.pow(2, 14);
    	var N3 = Math.pow(2, 21);
    	var N4 = Math.pow(2, 28);
    	var N5 = Math.pow(2, 35);
    	var N6 = Math.pow(2, 42);
    	var N7 = Math.pow(2, 49);
    	var N8 = Math.pow(2, 56);
    	var N9 = Math.pow(2, 63);
    	var length = function (value) {
    	  return value < N1 ? 1 : value < N2 ? 2 : value < N3 ? 3 : value < N4 ? 4 : value < N5 ? 5 : value < N6 ? 6 : value < N7 ? 7 : value < N8 ? 8 : value < N9 ? 9 : 10;
    	};
    	var varint = {
    	  encode: encode_1,
    	  decode: decode,
    	  encodingLength: length
    	};
    	var _brrp_varint = varint;
    	var varint$1 = _brrp_varint;

    	varint_1 = varint$1;
    	return varint_1;
    }

    var hasRequiredVarint;

    function requireVarint () {
    	if (hasRequiredVarint) return varint;
    	hasRequiredVarint = 1;

    	Object.defineProperty(varint, '__esModule', { value: true });

    	var varint$1 = requireVarint$1();

    	const decode = (data, offset = 0) => {
    	  const code = varint$1.decode(data, offset);
    	  return [
    	    code,
    	    varint$1.decode.bytes
    	  ];
    	};
    	const encodeTo = (int, target, offset = 0) => {
    	  varint$1.encode(int, target, offset);
    	  return target;
    	};
    	const encodingLength = int => {
    	  return varint$1.encodingLength(int);
    	};

    	varint.decode = decode;
    	varint.encodeTo = encodeTo;
    	varint.encodingLength = encodingLength;
    	return varint;
    }

    var hasRequiredDigest;

    function requireDigest () {
    	if (hasRequiredDigest) return digest;
    	hasRequiredDigest = 1;

    	Object.defineProperty(digest, '__esModule', { value: true });

    	var bytes = requireBytes();
    	var varint = requireVarint();

    	const create = (code, digest) => {
    	  const size = digest.byteLength;
    	  const sizeOffset = varint.encodingLength(code);
    	  const digestOffset = sizeOffset + varint.encodingLength(size);
    	  const bytes = new Uint8Array(digestOffset + size);
    	  varint.encodeTo(code, bytes, 0);
    	  varint.encodeTo(size, bytes, sizeOffset);
    	  bytes.set(digest, digestOffset);
    	  return new Digest(code, size, digest, bytes);
    	};
    	const decode = multihash => {
    	  const bytes$1 = bytes.coerce(multihash);
    	  const [code, sizeOffset] = varint.decode(bytes$1);
    	  const [size, digestOffset] = varint.decode(bytes$1.subarray(sizeOffset));
    	  const digest = bytes$1.subarray(sizeOffset + digestOffset);
    	  if (digest.byteLength !== size) {
    	    throw new Error('Incorrect length');
    	  }
    	  return new Digest(code, size, digest, bytes$1);
    	};
    	const equals = (a, b) => {
    	  if (a === b) {
    	    return true;
    	  } else {
    	    return a.code === b.code && a.size === b.size && bytes.equals(a.bytes, b.bytes);
    	  }
    	};
    	class Digest {
    	  constructor(code, size, digest, bytes) {
    	    this.code = code;
    	    this.size = size;
    	    this.digest = digest;
    	    this.bytes = bytes;
    	  }
    	}

    	digest.Digest = Digest;
    	digest.create = create;
    	digest.decode = decode;
    	digest.equals = equals;
    	return digest;
    }

    var hasRequiredHasher;

    function requireHasher () {
    	if (hasRequiredHasher) return hasher;
    	hasRequiredHasher = 1;

    	Object.defineProperty(hasher, '__esModule', { value: true });

    	var digest = requireDigest();

    	const from = ({name, code, encode}) => new Hasher(name, code, encode);
    	class Hasher {
    	  constructor(name, code, encode) {
    	    this.name = name;
    	    this.code = code;
    	    this.encode = encode;
    	  }
    	  digest(input) {
    	    if (input instanceof Uint8Array) {
    	      const result = this.encode(input);
    	      return result instanceof Uint8Array ? digest.create(this.code, result) : result.then(digest$1 => digest.create(this.code, digest$1));
    	    } else {
    	      throw Error('Unknown type, must be binary type');
    	    }
    	  }
    	}

    	hasher.Hasher = Hasher;
    	hasher.from = from;
    	return hasher;
    }

    var hasRequiredSha2;

    function requireSha2 () {
    	if (hasRequiredSha2) return sha2;
    	hasRequiredSha2 = 1;

    	Object.defineProperty(sha2, '__esModule', { value: true });

    	var crypto = require$$5;
    	var hasher = requireHasher();
    	var bytes = requireBytes();

    	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

    	var crypto__default = /*#__PURE__*/_interopDefaultLegacy(crypto);

    	const sha256 = hasher.from({
    	  name: 'sha2-256',
    	  code: 18,
    	  encode: input => bytes.coerce(crypto__default["default"].createHash('sha256').update(input).digest())
    	});
    	const sha512 = hasher.from({
    	  name: 'sha2-512',
    	  code: 19,
    	  encode: input => bytes.coerce(crypto__default["default"].createHash('sha512').update(input).digest())
    	});

    	sha2.sha256 = sha256;
    	sha2.sha512 = sha512;
    	return sha2;
    }

    var identity = {};

    var hasRequiredIdentity;

    function requireIdentity () {
    	if (hasRequiredIdentity) return identity;
    	hasRequiredIdentity = 1;

    	Object.defineProperty(identity, '__esModule', { value: true });

    	var bytes = requireBytes();
    	var digest$1 = requireDigest();

    	const code = 0;
    	const name = 'identity';
    	const encode = bytes.coerce;
    	const digest = input => digest$1.create(code, encode(input));
    	const identity$1 = {
    	  code,
    	  name,
    	  encode,
    	  digest
    	};

    	identity.identity = identity$1;
    	return identity;
    }

    var raw = {};

    var hasRequiredRaw;

    function requireRaw () {
    	if (hasRequiredRaw) return raw;
    	hasRequiredRaw = 1;

    	Object.defineProperty(raw, '__esModule', { value: true });

    	var bytes = requireBytes();

    	const name = 'raw';
    	const code = 85;
    	const encode = node => bytes.coerce(node);
    	const decode = data => bytes.coerce(data);

    	raw.code = code;
    	raw.decode = decode;
    	raw.encode = encode;
    	raw.name = name;
    	return raw;
    }

    var json = {};

    var hasRequiredJson;

    function requireJson () {
    	if (hasRequiredJson) return json;
    	hasRequiredJson = 1;

    	Object.defineProperty(json, '__esModule', { value: true });

    	const textEncoder = new TextEncoder();
    	const textDecoder = new TextDecoder();
    	const name = 'json';
    	const code = 512;
    	const encode = node => textEncoder.encode(JSON.stringify(node));
    	const decode = data => JSON.parse(textDecoder.decode(data));

    	json.code = code;
    	json.decode = decode;
    	json.encode = encode;
    	json.name = name;
    	return json;
    }

    var src = {};

    var cid = {};

    var hasRequiredCid;

    function requireCid () {
    	if (hasRequiredCid) return cid;
    	hasRequiredCid = 1;

    	Object.defineProperty(cid, '__esModule', { value: true });

    	var varint = requireVarint();
    	var digest = requireDigest();
    	var base58 = requireBase58();
    	var base32 = requireBase32();
    	var bytes = requireBytes();

    	class CID {
    	  constructor(version, code, multihash, bytes) {
    	    this.code = code;
    	    this.version = version;
    	    this.multihash = multihash;
    	    this.bytes = bytes;
    	    this.byteOffset = bytes.byteOffset;
    	    this.byteLength = bytes.byteLength;
    	    this.asCID = this;
    	    this._baseCache = new Map();
    	    Object.defineProperties(this, {
    	      byteOffset: hidden,
    	      byteLength: hidden,
    	      code: readonly,
    	      version: readonly,
    	      multihash: readonly,
    	      bytes: readonly,
    	      _baseCache: hidden,
    	      asCID: hidden
    	    });
    	  }
    	  toV0() {
    	    switch (this.version) {
    	    case 0: {
    	        return this;
    	      }
    	    default: {
    	        const {code, multihash} = this;
    	        if (code !== DAG_PB_CODE) {
    	          throw new Error('Cannot convert a non dag-pb CID to CIDv0');
    	        }
    	        if (multihash.code !== SHA_256_CODE) {
    	          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0');
    	        }
    	        return CID.createV0(multihash);
    	      }
    	    }
    	  }
    	  toV1() {
    	    switch (this.version) {
    	    case 0: {
    	        const {code, digest: digest$1} = this.multihash;
    	        const multihash = digest.create(code, digest$1);
    	        return CID.createV1(this.code, multihash);
    	      }
    	    case 1: {
    	        return this;
    	      }
    	    default: {
    	        throw Error(`Can not convert CID version ${ this.version } to version 0. This is a bug please report`);
    	      }
    	    }
    	  }
    	  equals(other) {
    	    return other && this.code === other.code && this.version === other.version && digest.equals(this.multihash, other.multihash);
    	  }
    	  toString(base) {
    	    const {bytes, version, _baseCache} = this;
    	    switch (version) {
    	    case 0:
    	      return toStringV0(bytes, _baseCache, base || base58.base58btc.encoder);
    	    default:
    	      return toStringV1(bytes, _baseCache, base || base32.base32.encoder);
    	    }
    	  }
    	  toJSON() {
    	    return {
    	      code: this.code,
    	      version: this.version,
    	      hash: this.multihash.bytes
    	    };
    	  }
    	  get [Symbol.toStringTag]() {
    	    return 'CID';
    	  }
    	  [Symbol.for('nodejs.util.inspect.custom')]() {
    	    return 'CID(' + this.toString() + ')';
    	  }
    	  static isCID(value) {
    	    deprecate(/^0\.0/, IS_CID_DEPRECATION);
    	    return !!(value && (value[cidSymbol] || value.asCID === value));
    	  }
    	  get toBaseEncodedString() {
    	    throw new Error('Deprecated, use .toString()');
    	  }
    	  get codec() {
    	    throw new Error('"codec" property is deprecated, use integer "code" property instead');
    	  }
    	  get buffer() {
    	    throw new Error('Deprecated .buffer property, use .bytes to get Uint8Array instead');
    	  }
    	  get multibaseName() {
    	    throw new Error('"multibaseName" property is deprecated');
    	  }
    	  get prefix() {
    	    throw new Error('"prefix" property is deprecated');
    	  }
    	  static asCID(value) {
    	    if (value instanceof CID) {
    	      return value;
    	    } else if (value != null && value.asCID === value) {
    	      const {version, code, multihash, bytes} = value;
    	      return new CID(version, code, multihash, bytes || encodeCID(version, code, multihash.bytes));
    	    } else if (value != null && value[cidSymbol] === true) {
    	      const {version, multihash, code} = value;
    	      const digest$1 = digest.decode(multihash);
    	      return CID.create(version, code, digest$1);
    	    } else {
    	      return null;
    	    }
    	  }
    	  static create(version, code, digest) {
    	    if (typeof code !== 'number') {
    	      throw new Error('String codecs are no longer supported');
    	    }
    	    switch (version) {
    	    case 0: {
    	        if (code !== DAG_PB_CODE) {
    	          throw new Error(`Version 0 CID must use dag-pb (code: ${ DAG_PB_CODE }) block encoding`);
    	        } else {
    	          return new CID(version, code, digest, digest.bytes);
    	        }
    	      }
    	    case 1: {
    	        const bytes = encodeCID(version, code, digest.bytes);
    	        return new CID(version, code, digest, bytes);
    	      }
    	    default: {
    	        throw new Error('Invalid version');
    	      }
    	    }
    	  }
    	  static createV0(digest) {
    	    return CID.create(0, DAG_PB_CODE, digest);
    	  }
    	  static createV1(code, digest) {
    	    return CID.create(1, code, digest);
    	  }
    	  static decode(bytes) {
    	    const [cid, remainder] = CID.decodeFirst(bytes);
    	    if (remainder.length) {
    	      throw new Error('Incorrect length');
    	    }
    	    return cid;
    	  }
    	  static decodeFirst(bytes$1) {
    	    const specs = CID.inspectBytes(bytes$1);
    	    const prefixSize = specs.size - specs.multihashSize;
    	    const multihashBytes = bytes.coerce(bytes$1.subarray(prefixSize, prefixSize + specs.multihashSize));
    	    if (multihashBytes.byteLength !== specs.multihashSize) {
    	      throw new Error('Incorrect length');
    	    }
    	    const digestBytes = multihashBytes.subarray(specs.multihashSize - specs.digestSize);
    	    const digest$1 = new digest.Digest(specs.multihashCode, specs.digestSize, digestBytes, multihashBytes);
    	    const cid = specs.version === 0 ? CID.createV0(digest$1) : CID.createV1(specs.codec, digest$1);
    	    return [
    	      cid,
    	      bytes$1.subarray(specs.size)
    	    ];
    	  }
    	  static inspectBytes(initialBytes) {
    	    let offset = 0;
    	    const next = () => {
    	      const [i, length] = varint.decode(initialBytes.subarray(offset));
    	      offset += length;
    	      return i;
    	    };
    	    let version = next();
    	    let codec = DAG_PB_CODE;
    	    if (version === 18) {
    	      version = 0;
    	      offset = 0;
    	    } else if (version === 1) {
    	      codec = next();
    	    }
    	    if (version !== 0 && version !== 1) {
    	      throw new RangeError(`Invalid CID version ${ version }`);
    	    }
    	    const prefixSize = offset;
    	    const multihashCode = next();
    	    const digestSize = next();
    	    const size = offset + digestSize;
    	    const multihashSize = size - prefixSize;
    	    return {
    	      version,
    	      codec,
    	      multihashCode,
    	      digestSize,
    	      multihashSize,
    	      size
    	    };
    	  }
    	  static parse(source, base) {
    	    const [prefix, bytes] = parseCIDtoBytes(source, base);
    	    const cid = CID.decode(bytes);
    	    cid._baseCache.set(prefix, source);
    	    return cid;
    	  }
    	}
    	const parseCIDtoBytes = (source, base) => {
    	  switch (source[0]) {
    	  case 'Q': {
    	      const decoder = base || base58.base58btc;
    	      return [
    	        base58.base58btc.prefix,
    	        decoder.decode(`${ base58.base58btc.prefix }${ source }`)
    	      ];
    	    }
    	  case base58.base58btc.prefix: {
    	      const decoder = base || base58.base58btc;
    	      return [
    	        base58.base58btc.prefix,
    	        decoder.decode(source)
    	      ];
    	    }
    	  case base32.base32.prefix: {
    	      const decoder = base || base32.base32;
    	      return [
    	        base32.base32.prefix,
    	        decoder.decode(source)
    	      ];
    	    }
    	  default: {
    	      if (base == null) {
    	        throw Error('To parse non base32 or base58btc encoded CID multibase decoder must be provided');
    	      }
    	      return [
    	        source[0],
    	        base.decode(source)
    	      ];
    	    }
    	  }
    	};
    	const toStringV0 = (bytes, cache, base) => {
    	  const {prefix} = base;
    	  if (prefix !== base58.base58btc.prefix) {
    	    throw Error(`Cannot string encode V0 in ${ base.name } encoding`);
    	  }
    	  const cid = cache.get(prefix);
    	  if (cid == null) {
    	    const cid = base.encode(bytes).slice(1);
    	    cache.set(prefix, cid);
    	    return cid;
    	  } else {
    	    return cid;
    	  }
    	};
    	const toStringV1 = (bytes, cache, base) => {
    	  const {prefix} = base;
    	  const cid = cache.get(prefix);
    	  if (cid == null) {
    	    const cid = base.encode(bytes);
    	    cache.set(prefix, cid);
    	    return cid;
    	  } else {
    	    return cid;
    	  }
    	};
    	const DAG_PB_CODE = 112;
    	const SHA_256_CODE = 18;
    	const encodeCID = (version, code, multihash) => {
    	  const codeOffset = varint.encodingLength(version);
    	  const hashOffset = codeOffset + varint.encodingLength(code);
    	  const bytes = new Uint8Array(hashOffset + multihash.byteLength);
    	  varint.encodeTo(version, bytes, 0);
    	  varint.encodeTo(code, bytes, codeOffset);
    	  bytes.set(multihash, hashOffset);
    	  return bytes;
    	};
    	const cidSymbol = Symbol.for('@ipld/js-cid/CID');
    	const readonly = {
    	  writable: false,
    	  configurable: false,
    	  enumerable: true
    	};
    	const hidden = {
    	  writable: false,
    	  enumerable: false,
    	  configurable: false
    	};
    	const version = '0.0.0-dev';
    	const deprecate = (range, message) => {
    	  if (range.test(version)) {
    	    console.warn(message);
    	  } else {
    	    throw new Error(message);
    	  }
    	};
    	const IS_CID_DEPRECATION = `CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;

    	cid.CID = CID;
    	return cid;
    }

    var hasRequiredSrc$1;

    function requireSrc$1 () {
    	if (hasRequiredSrc$1) return src;
    	hasRequiredSrc$1 = 1;

    	Object.defineProperty(src, '__esModule', { value: true });

    	var cid = requireCid();
    	var varint = requireVarint();
    	var bytes = requireBytes();
    	var hasher = requireHasher();
    	var digest = requireDigest();



    	src.CID = cid.CID;
    	src.varint = varint;
    	src.bytes = bytes;
    	src.hasher = hasher;
    	src.digest = digest;
    	return src;
    }

    var hasRequiredBasics;

    function requireBasics () {
    	if (hasRequiredBasics) return basics;
    	hasRequiredBasics = 1;

    	Object.defineProperty(basics, '__esModule', { value: true });

    	var identity = requireIdentity$1();
    	var base2 = requireBase2();
    	var base8 = requireBase8();
    	var base10 = requireBase10();
    	var base16 = requireBase16();
    	var base32 = requireBase32();
    	var base36 = requireBase36();
    	var base58 = requireBase58();
    	var base64 = requireBase64();
    	var base256emoji = requireBase256emoji();
    	var sha2 = requireSha2();
    	var identity$1 = requireIdentity();
    	var raw = requireRaw();
    	var json = requireJson();
    	requireSrc$1();
    	var cid = requireCid();
    	var hasher = requireHasher();
    	var digest = requireDigest();
    	var varint = requireVarint();
    	var bytes = requireBytes();

    	const bases = {
    	  ...identity,
    	  ...base2,
    	  ...base8,
    	  ...base10,
    	  ...base16,
    	  ...base32,
    	  ...base36,
    	  ...base58,
    	  ...base64,
    	  ...base256emoji
    	};
    	const hashes = {
    	  ...sha2,
    	  ...identity$1
    	};
    	const codecs = {
    	  raw,
    	  json
    	};

    	basics.CID = cid.CID;
    	basics.hasher = hasher;
    	basics.digest = digest;
    	basics.varint = varint;
    	basics.bytes = bytes;
    	basics.bases = bases;
    	basics.codecs = codecs;
    	basics.hashes = hashes;
    	return basics;
    }

    var bases;
    var hasRequiredBases;

    function requireBases () {
    	if (hasRequiredBases) return bases;
    	hasRequiredBases = 1;

    	var basics = requireBasics();
    	var alloc = requireAlloc();

    	function createCodec(name, prefix, encode, decode) {
    	  return {
    	    name,
    	    prefix,
    	    encoder: {
    	      name,
    	      prefix,
    	      encode
    	    },
    	    decoder: { decode }
    	  };
    	}
    	const string = createCodec('utf8', 'u', buf => {
    	  const decoder = new TextDecoder('utf8');
    	  return 'u' + decoder.decode(buf);
    	}, str => {
    	  const encoder = new TextEncoder();
    	  return encoder.encode(str.substring(1));
    	});
    	const ascii = createCodec('ascii', 'a', buf => {
    	  let string = 'a';
    	  for (let i = 0; i < buf.length; i++) {
    	    string += String.fromCharCode(buf[i]);
    	  }
    	  return string;
    	}, str => {
    	  str = str.substring(1);
    	  const buf = alloc.allocUnsafe(str.length);
    	  for (let i = 0; i < str.length; i++) {
    	    buf[i] = str.charCodeAt(i);
    	  }
    	  return buf;
    	});
    	const BASES = {
    	  utf8: string,
    	  'utf-8': string,
    	  hex: basics.bases.base16,
    	  latin1: ascii,
    	  ascii: ascii,
    	  binary: ascii,
    	  ...basics.bases
    	};

    	bases = BASES;
    	return bases;
    }

    var hasRequiredFromString;

    function requireFromString () {
    	if (hasRequiredFromString) return fromString$6;
    	hasRequiredFromString = 1;

    	Object.defineProperty(fromString$6, '__esModule', { value: true });

    	var bases = requireBases();

    	function fromString(string, encoding = 'utf8') {
    	  const base = bases[encoding];
    	  if (!base) {
    	    throw new Error(`Unsupported encoding "${ encoding }"`);
    	  }
    	  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {
    	    return globalThis.Buffer.from(string, 'utf8');
    	  }
    	  return base.decoder.decode(`${ base.prefix }${ string }`);
    	}

    	fromString$6.fromString = fromString;
    	return fromString$6;
    }

    var toString = {};

    var hasRequiredToString;

    function requireToString () {
    	if (hasRequiredToString) return toString;
    	hasRequiredToString = 1;

    	Object.defineProperty(toString, '__esModule', { value: true });

    	var bases = requireBases();

    	function toString$1(array, encoding = 'utf8') {
    	  const base = bases[encoding];
    	  if (!base) {
    	    throw new Error(`Unsupported encoding "${ encoding }"`);
    	  }
    	  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {
    	    return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');
    	  }
    	  return base.encoder.encode(array).substring(1);
    	}

    	toString.toString = toString$1;
    	return toString;
    }

    var xor = {};

    var hasRequiredXor;

    function requireXor () {
    	if (hasRequiredXor) return xor;
    	hasRequiredXor = 1;

    	Object.defineProperty(xor, '__esModule', { value: true });

    	var alloc = requireAlloc();

    	function xor$1(a, b) {
    	  if (a.length !== b.length) {
    	    throw new Error('Inputs should have the same length');
    	  }
    	  const result = alloc.allocUnsafe(a.length);
    	  for (let i = 0; i < a.length; i++) {
    	    result[i] = a[i] ^ b[i];
    	  }
    	  return result;
    	}

    	xor.xor = xor$1;
    	return xor;
    }

    var hasRequiredSrc;

    function requireSrc () {
    	if (hasRequiredSrc) return src$1;
    	hasRequiredSrc = 1;

    	Object.defineProperty(src$1, '__esModule', { value: true });

    	var compare = requireCompare();
    	var concat = requireConcat();
    	var equals = requireEquals();
    	var fromString = requireFromString();
    	var toString = requireToString();
    	var xor = requireXor();



    	src$1.compare = compare.compare;
    	src$1.concat = concat.concat;
    	src$1.equals = equals.equals;
    	src$1.fromString = fromString.fromString;
    	src$1.toString = toString.toString;
    	src$1.xor = xor.xor;
    	return src$1;
    }

    var srcExports = requireSrc();

    var elliptic = {};

    var version$6 = "6.6.1";
    var require$$0 = {
    	version: version$6};

    var utils$5 = {};

    var bn$7 = {exports: {}};

    var bn$6 = bn$7.exports;

    var hasRequiredBn;

    function requireBn () {
    	if (hasRequiredBn) return bn$7.exports;
    	hasRequiredBn = 1;
    	(function (module) {
    		(function (module, exports) {

    		  // Utils
    		  function assert (val, msg) {
    		    if (!val) throw new Error(msg || 'Assertion failed');
    		  }

    		  // Could use `inherits` module, but don't want to move from single file
    		  // architecture yet.
    		  function inherits (ctor, superCtor) {
    		    ctor.super_ = superCtor;
    		    var TempCtor = function () {};
    		    TempCtor.prototype = superCtor.prototype;
    		    ctor.prototype = new TempCtor();
    		    ctor.prototype.constructor = ctor;
    		  }

    		  // BN

    		  function BN (number, base, endian) {
    		    if (BN.isBN(number)) {
    		      return number;
    		    }

    		    this.negative = 0;
    		    this.words = null;
    		    this.length = 0;

    		    // Reduction context
    		    this.red = null;

    		    if (number !== null) {
    		      if (base === 'le' || base === 'be') {
    		        endian = base;
    		        base = 10;
    		      }

    		      this._init(number || 0, base || 10, endian || 'be');
    		    }
    		  }
    		  if (typeof module === 'object') {
    		    module.exports = BN;
    		  } else {
    		    exports.BN = BN;
    		  }

    		  BN.BN = BN;
    		  BN.wordSize = 26;

    		  var Buffer;
    		  try {
    		    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {
    		      Buffer = window.Buffer;
    		    } else {
    		      Buffer = require('buffer').Buffer;
    		    }
    		  } catch (e) {
    		  }

    		  BN.isBN = function isBN (num) {
    		    if (num instanceof BN) {
    		      return true;
    		    }

    		    return num !== null && typeof num === 'object' &&
    		      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);
    		  };

    		  BN.max = function max (left, right) {
    		    if (left.cmp(right) > 0) return left;
    		    return right;
    		  };

    		  BN.min = function min (left, right) {
    		    if (left.cmp(right) < 0) return left;
    		    return right;
    		  };

    		  BN.prototype._init = function init (number, base, endian) {
    		    if (typeof number === 'number') {
    		      return this._initNumber(number, base, endian);
    		    }

    		    if (typeof number === 'object') {
    		      return this._initArray(number, base, endian);
    		    }

    		    if (base === 'hex') {
    		      base = 16;
    		    }
    		    assert(base === (base | 0) && base >= 2 && base <= 36);

    		    number = number.toString().replace(/\s+/g, '');
    		    var start = 0;
    		    if (number[0] === '-') {
    		      start++;
    		      this.negative = 1;
    		    }

    		    if (start < number.length) {
    		      if (base === 16) {
    		        this._parseHex(number, start, endian);
    		      } else {
    		        this._parseBase(number, base, start);
    		        if (endian === 'le') {
    		          this._initArray(this.toArray(), base, endian);
    		        }
    		      }
    		    }
    		  };

    		  BN.prototype._initNumber = function _initNumber (number, base, endian) {
    		    if (number < 0) {
    		      this.negative = 1;
    		      number = -number;
    		    }
    		    if (number < 0x4000000) {
    		      this.words = [ number & 0x3ffffff ];
    		      this.length = 1;
    		    } else if (number < 0x10000000000000) {
    		      this.words = [
    		        number & 0x3ffffff,
    		        (number / 0x4000000) & 0x3ffffff
    		      ];
    		      this.length = 2;
    		    } else {
    		      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)
    		      this.words = [
    		        number & 0x3ffffff,
    		        (number / 0x4000000) & 0x3ffffff,
    		        1
    		      ];
    		      this.length = 3;
    		    }

    		    if (endian !== 'le') return;

    		    // Reverse the bytes
    		    this._initArray(this.toArray(), base, endian);
    		  };

    		  BN.prototype._initArray = function _initArray (number, base, endian) {
    		    // Perhaps a Uint8Array
    		    assert(typeof number.length === 'number');
    		    if (number.length <= 0) {
    		      this.words = [ 0 ];
    		      this.length = 1;
    		      return this;
    		    }

    		    this.length = Math.ceil(number.length / 3);
    		    this.words = new Array(this.length);
    		    for (var i = 0; i < this.length; i++) {
    		      this.words[i] = 0;
    		    }

    		    var j, w;
    		    var off = 0;
    		    if (endian === 'be') {
    		      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {
    		        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);
    		        this.words[j] |= (w << off) & 0x3ffffff;
    		        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;
    		        off += 24;
    		        if (off >= 26) {
    		          off -= 26;
    		          j++;
    		        }
    		      }
    		    } else if (endian === 'le') {
    		      for (i = 0, j = 0; i < number.length; i += 3) {
    		        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);
    		        this.words[j] |= (w << off) & 0x3ffffff;
    		        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;
    		        off += 24;
    		        if (off >= 26) {
    		          off -= 26;
    		          j++;
    		        }
    		      }
    		    }
    		    return this.strip();
    		  };

    		  function parseHex4Bits (string, index) {
    		    var c = string.charCodeAt(index);
    		    // 'A' - 'F'
    		    if (c >= 65 && c <= 70) {
    		      return c - 55;
    		    // 'a' - 'f'
    		    } else if (c >= 97 && c <= 102) {
    		      return c - 87;
    		    // '0' - '9'
    		    } else {
    		      return (c - 48) & 0xf;
    		    }
    		  }

    		  function parseHexByte (string, lowerBound, index) {
    		    var r = parseHex4Bits(string, index);
    		    if (index - 1 >= lowerBound) {
    		      r |= parseHex4Bits(string, index - 1) << 4;
    		    }
    		    return r;
    		  }

    		  BN.prototype._parseHex = function _parseHex (number, start, endian) {
    		    // Create possibly bigger array to ensure that it fits the number
    		    this.length = Math.ceil((number.length - start) / 6);
    		    this.words = new Array(this.length);
    		    for (var i = 0; i < this.length; i++) {
    		      this.words[i] = 0;
    		    }

    		    // 24-bits chunks
    		    var off = 0;
    		    var j = 0;

    		    var w;
    		    if (endian === 'be') {
    		      for (i = number.length - 1; i >= start; i -= 2) {
    		        w = parseHexByte(number, start, i) << off;
    		        this.words[j] |= w & 0x3ffffff;
    		        if (off >= 18) {
    		          off -= 18;
    		          j += 1;
    		          this.words[j] |= w >>> 26;
    		        } else {
    		          off += 8;
    		        }
    		      }
    		    } else {
    		      var parseLength = number.length - start;
    		      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {
    		        w = parseHexByte(number, start, i) << off;
    		        this.words[j] |= w & 0x3ffffff;
    		        if (off >= 18) {
    		          off -= 18;
    		          j += 1;
    		          this.words[j] |= w >>> 26;
    		        } else {
    		          off += 8;
    		        }
    		      }
    		    }

    		    this.strip();
    		  };

    		  function parseBase (str, start, end, mul) {
    		    var r = 0;
    		    var len = Math.min(str.length, end);
    		    for (var i = start; i < len; i++) {
    		      var c = str.charCodeAt(i) - 48;

    		      r *= mul;

    		      // 'a'
    		      if (c >= 49) {
    		        r += c - 49 + 0xa;

    		      // 'A'
    		      } else if (c >= 17) {
    		        r += c - 17 + 0xa;

    		      // '0' - '9'
    		      } else {
    		        r += c;
    		      }
    		    }
    		    return r;
    		  }

    		  BN.prototype._parseBase = function _parseBase (number, base, start) {
    		    // Initialize as zero
    		    this.words = [ 0 ];
    		    this.length = 1;

    		    // Find length of limb in base
    		    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {
    		      limbLen++;
    		    }
    		    limbLen--;
    		    limbPow = (limbPow / base) | 0;

    		    var total = number.length - start;
    		    var mod = total % limbLen;
    		    var end = Math.min(total, total - mod) + start;

    		    var word = 0;
    		    for (var i = start; i < end; i += limbLen) {
    		      word = parseBase(number, i, i + limbLen, base);

    		      this.imuln(limbPow);
    		      if (this.words[0] + word < 0x4000000) {
    		        this.words[0] += word;
    		      } else {
    		        this._iaddn(word);
    		      }
    		    }

    		    if (mod !== 0) {
    		      var pow = 1;
    		      word = parseBase(number, i, number.length, base);

    		      for (i = 0; i < mod; i++) {
    		        pow *= base;
    		      }

    		      this.imuln(pow);
    		      if (this.words[0] + word < 0x4000000) {
    		        this.words[0] += word;
    		      } else {
    		        this._iaddn(word);
    		      }
    		    }

    		    this.strip();
    		  };

    		  BN.prototype.copy = function copy (dest) {
    		    dest.words = new Array(this.length);
    		    for (var i = 0; i < this.length; i++) {
    		      dest.words[i] = this.words[i];
    		    }
    		    dest.length = this.length;
    		    dest.negative = this.negative;
    		    dest.red = this.red;
    		  };

    		  BN.prototype.clone = function clone () {
    		    var r = new BN(null);
    		    this.copy(r);
    		    return r;
    		  };

    		  BN.prototype._expand = function _expand (size) {
    		    while (this.length < size) {
    		      this.words[this.length++] = 0;
    		    }
    		    return this;
    		  };

    		  // Remove leading `0` from `this`
    		  BN.prototype.strip = function strip () {
    		    while (this.length > 1 && this.words[this.length - 1] === 0) {
    		      this.length--;
    		    }
    		    return this._normSign();
    		  };

    		  BN.prototype._normSign = function _normSign () {
    		    // -0 = 0
    		    if (this.length === 1 && this.words[0] === 0) {
    		      this.negative = 0;
    		    }
    		    return this;
    		  };

    		  BN.prototype.inspect = function inspect () {
    		    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';
    		  };

    		  /*

    		  var zeros = [];
    		  var groupSizes = [];
    		  var groupBases = [];

    		  var s = '';
    		  var i = -1;
    		  while (++i < BN.wordSize) {
    		    zeros[i] = s;
    		    s += '0';
    		  }
    		  groupSizes[0] = 0;
    		  groupSizes[1] = 0;
    		  groupBases[0] = 0;
    		  groupBases[1] = 0;
    		  var base = 2 - 1;
    		  while (++base < 36 + 1) {
    		    var groupSize = 0;
    		    var groupBase = 1;
    		    while (groupBase < (1 << BN.wordSize) / base) {
    		      groupBase *= base;
    		      groupSize += 1;
    		    }
    		    groupSizes[base] = groupSize;
    		    groupBases[base] = groupBase;
    		  }

    		  */

    		  var zeros = [
    		    '',
    		    '0',
    		    '00',
    		    '000',
    		    '0000',
    		    '00000',
    		    '000000',
    		    '0000000',
    		    '00000000',
    		    '000000000',
    		    '0000000000',
    		    '00000000000',
    		    '000000000000',
    		    '0000000000000',
    		    '00000000000000',
    		    '000000000000000',
    		    '0000000000000000',
    		    '00000000000000000',
    		    '000000000000000000',
    		    '0000000000000000000',
    		    '00000000000000000000',
    		    '000000000000000000000',
    		    '0000000000000000000000',
    		    '00000000000000000000000',
    		    '000000000000000000000000',
    		    '0000000000000000000000000'
    		  ];

    		  var groupSizes = [
    		    0, 0,
    		    25, 16, 12, 11, 10, 9, 8,
    		    8, 7, 7, 7, 7, 6, 6,
    		    6, 6, 6, 6, 6, 5, 5,
    		    5, 5, 5, 5, 5, 5, 5,
    		    5, 5, 5, 5, 5, 5, 5
    		  ];

    		  var groupBases = [
    		    0, 0,
    		    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,
    		    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,
    		    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,
    		    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,
    		    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176
    		  ];

    		  BN.prototype.toString = function toString (base, padding) {
    		    base = base || 10;
    		    padding = padding | 0 || 1;

    		    var out;
    		    if (base === 16 || base === 'hex') {
    		      out = '';
    		      var off = 0;
    		      var carry = 0;
    		      for (var i = 0; i < this.length; i++) {
    		        var w = this.words[i];
    		        var word = (((w << off) | carry) & 0xffffff).toString(16);
    		        carry = (w >>> (24 - off)) & 0xffffff;
    		        off += 2;
    		        if (off >= 26) {
    		          off -= 26;
    		          i--;
    		        }
    		        if (carry !== 0 || i !== this.length - 1) {
    		          out = zeros[6 - word.length] + word + out;
    		        } else {
    		          out = word + out;
    		        }
    		      }
    		      if (carry !== 0) {
    		        out = carry.toString(16) + out;
    		      }
    		      while (out.length % padding !== 0) {
    		        out = '0' + out;
    		      }
    		      if (this.negative !== 0) {
    		        out = '-' + out;
    		      }
    		      return out;
    		    }

    		    if (base === (base | 0) && base >= 2 && base <= 36) {
    		      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));
    		      var groupSize = groupSizes[base];
    		      // var groupBase = Math.pow(base, groupSize);
    		      var groupBase = groupBases[base];
    		      out = '';
    		      var c = this.clone();
    		      c.negative = 0;
    		      while (!c.isZero()) {
    		        var r = c.modn(groupBase).toString(base);
    		        c = c.idivn(groupBase);

    		        if (!c.isZero()) {
    		          out = zeros[groupSize - r.length] + r + out;
    		        } else {
    		          out = r + out;
    		        }
    		      }
    		      if (this.isZero()) {
    		        out = '0' + out;
    		      }
    		      while (out.length % padding !== 0) {
    		        out = '0' + out;
    		      }
    		      if (this.negative !== 0) {
    		        out = '-' + out;
    		      }
    		      return out;
    		    }

    		    assert(false, 'Base should be between 2 and 36');
    		  };

    		  BN.prototype.toNumber = function toNumber () {
    		    var ret = this.words[0];
    		    if (this.length === 2) {
    		      ret += this.words[1] * 0x4000000;
    		    } else if (this.length === 3 && this.words[2] === 0x01) {
    		      // NOTE: at this stage it is known that the top bit is set
    		      ret += 0x10000000000000 + (this.words[1] * 0x4000000);
    		    } else if (this.length > 2) {
    		      assert(false, 'Number can only safely store up to 53 bits');
    		    }
    		    return (this.negative !== 0) ? -ret : ret;
    		  };

    		  BN.prototype.toJSON = function toJSON () {
    		    return this.toString(16);
    		  };

    		  BN.prototype.toBuffer = function toBuffer (endian, length) {
    		    assert(typeof Buffer !== 'undefined');
    		    return this.toArrayLike(Buffer, endian, length);
    		  };

    		  BN.prototype.toArray = function toArray (endian, length) {
    		    return this.toArrayLike(Array, endian, length);
    		  };

    		  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {
    		    var byteLength = this.byteLength();
    		    var reqLength = length || Math.max(1, byteLength);
    		    assert(byteLength <= reqLength, 'byte array longer than desired length');
    		    assert(reqLength > 0, 'Requested array length <= 0');

    		    this.strip();
    		    var littleEndian = endian === 'le';
    		    var res = new ArrayType(reqLength);

    		    var b, i;
    		    var q = this.clone();
    		    if (!littleEndian) {
    		      // Assume big-endian
    		      for (i = 0; i < reqLength - byteLength; i++) {
    		        res[i] = 0;
    		      }

    		      for (i = 0; !q.isZero(); i++) {
    		        b = q.andln(0xff);
    		        q.iushrn(8);

    		        res[reqLength - i - 1] = b;
    		      }
    		    } else {
    		      for (i = 0; !q.isZero(); i++) {
    		        b = q.andln(0xff);
    		        q.iushrn(8);

    		        res[i] = b;
    		      }

    		      for (; i < reqLength; i++) {
    		        res[i] = 0;
    		      }
    		    }

    		    return res;
    		  };

    		  if (Math.clz32) {
    		    BN.prototype._countBits = function _countBits (w) {
    		      return 32 - Math.clz32(w);
    		    };
    		  } else {
    		    BN.prototype._countBits = function _countBits (w) {
    		      var t = w;
    		      var r = 0;
    		      if (t >= 0x1000) {
    		        r += 13;
    		        t >>>= 13;
    		      }
    		      if (t >= 0x40) {
    		        r += 7;
    		        t >>>= 7;
    		      }
    		      if (t >= 0x8) {
    		        r += 4;
    		        t >>>= 4;
    		      }
    		      if (t >= 0x02) {
    		        r += 2;
    		        t >>>= 2;
    		      }
    		      return r + t;
    		    };
    		  }

    		  BN.prototype._zeroBits = function _zeroBits (w) {
    		    // Short-cut
    		    if (w === 0) return 26;

    		    var t = w;
    		    var r = 0;
    		    if ((t & 0x1fff) === 0) {
    		      r += 13;
    		      t >>>= 13;
    		    }
    		    if ((t & 0x7f) === 0) {
    		      r += 7;
    		      t >>>= 7;
    		    }
    		    if ((t & 0xf) === 0) {
    		      r += 4;
    		      t >>>= 4;
    		    }
    		    if ((t & 0x3) === 0) {
    		      r += 2;
    		      t >>>= 2;
    		    }
    		    if ((t & 0x1) === 0) {
    		      r++;
    		    }
    		    return r;
    		  };

    		  // Return number of used bits in a BN
    		  BN.prototype.bitLength = function bitLength () {
    		    var w = this.words[this.length - 1];
    		    var hi = this._countBits(w);
    		    return (this.length - 1) * 26 + hi;
    		  };

    		  function toBitArray (num) {
    		    var w = new Array(num.bitLength());

    		    for (var bit = 0; bit < w.length; bit++) {
    		      var off = (bit / 26) | 0;
    		      var wbit = bit % 26;

    		      w[bit] = (num.words[off] & (1 << wbit)) >>> wbit;
    		    }

    		    return w;
    		  }

    		  // Number of trailing zero bits
    		  BN.prototype.zeroBits = function zeroBits () {
    		    if (this.isZero()) return 0;

    		    var r = 0;
    		    for (var i = 0; i < this.length; i++) {
    		      var b = this._zeroBits(this.words[i]);
    		      r += b;
    		      if (b !== 26) break;
    		    }
    		    return r;
    		  };

    		  BN.prototype.byteLength = function byteLength () {
    		    return Math.ceil(this.bitLength() / 8);
    		  };

    		  BN.prototype.toTwos = function toTwos (width) {
    		    if (this.negative !== 0) {
    		      return this.abs().inotn(width).iaddn(1);
    		    }
    		    return this.clone();
    		  };

    		  BN.prototype.fromTwos = function fromTwos (width) {
    		    if (this.testn(width - 1)) {
    		      return this.notn(width).iaddn(1).ineg();
    		    }
    		    return this.clone();
    		  };

    		  BN.prototype.isNeg = function isNeg () {
    		    return this.negative !== 0;
    		  };

    		  // Return negative clone of `this`
    		  BN.prototype.neg = function neg () {
    		    return this.clone().ineg();
    		  };

    		  BN.prototype.ineg = function ineg () {
    		    if (!this.isZero()) {
    		      this.negative ^= 1;
    		    }

    		    return this;
    		  };

    		  // Or `num` with `this` in-place
    		  BN.prototype.iuor = function iuor (num) {
    		    while (this.length < num.length) {
    		      this.words[this.length++] = 0;
    		    }

    		    for (var i = 0; i < num.length; i++) {
    		      this.words[i] = this.words[i] | num.words[i];
    		    }

    		    return this.strip();
    		  };

    		  BN.prototype.ior = function ior (num) {
    		    assert((this.negative | num.negative) === 0);
    		    return this.iuor(num);
    		  };

    		  // Or `num` with `this`
    		  BN.prototype.or = function or (num) {
    		    if (this.length > num.length) return this.clone().ior(num);
    		    return num.clone().ior(this);
    		  };

    		  BN.prototype.uor = function uor (num) {
    		    if (this.length > num.length) return this.clone().iuor(num);
    		    return num.clone().iuor(this);
    		  };

    		  // And `num` with `this` in-place
    		  BN.prototype.iuand = function iuand (num) {
    		    // b = min-length(num, this)
    		    var b;
    		    if (this.length > num.length) {
    		      b = num;
    		    } else {
    		      b = this;
    		    }

    		    for (var i = 0; i < b.length; i++) {
    		      this.words[i] = this.words[i] & num.words[i];
    		    }

    		    this.length = b.length;

    		    return this.strip();
    		  };

    		  BN.prototype.iand = function iand (num) {
    		    assert((this.negative | num.negative) === 0);
    		    return this.iuand(num);
    		  };

    		  // And `num` with `this`
    		  BN.prototype.and = function and (num) {
    		    if (this.length > num.length) return this.clone().iand(num);
    		    return num.clone().iand(this);
    		  };

    		  BN.prototype.uand = function uand (num) {
    		    if (this.length > num.length) return this.clone().iuand(num);
    		    return num.clone().iuand(this);
    		  };

    		  // Xor `num` with `this` in-place
    		  BN.prototype.iuxor = function iuxor (num) {
    		    // a.length > b.length
    		    var a;
    		    var b;
    		    if (this.length > num.length) {
    		      a = this;
    		      b = num;
    		    } else {
    		      a = num;
    		      b = this;
    		    }

    		    for (var i = 0; i < b.length; i++) {
    		      this.words[i] = a.words[i] ^ b.words[i];
    		    }

    		    if (this !== a) {
    		      for (; i < a.length; i++) {
    		        this.words[i] = a.words[i];
    		      }
    		    }

    		    this.length = a.length;

    		    return this.strip();
    		  };

    		  BN.prototype.ixor = function ixor (num) {
    		    assert((this.negative | num.negative) === 0);
    		    return this.iuxor(num);
    		  };

    		  // Xor `num` with `this`
    		  BN.prototype.xor = function xor (num) {
    		    if (this.length > num.length) return this.clone().ixor(num);
    		    return num.clone().ixor(this);
    		  };

    		  BN.prototype.uxor = function uxor (num) {
    		    if (this.length > num.length) return this.clone().iuxor(num);
    		    return num.clone().iuxor(this);
    		  };

    		  // Not ``this`` with ``width`` bitwidth
    		  BN.prototype.inotn = function inotn (width) {
    		    assert(typeof width === 'number' && width >= 0);

    		    var bytesNeeded = Math.ceil(width / 26) | 0;
    		    var bitsLeft = width % 26;

    		    // Extend the buffer with leading zeroes
    		    this._expand(bytesNeeded);

    		    if (bitsLeft > 0) {
    		      bytesNeeded--;
    		    }

    		    // Handle complete words
    		    for (var i = 0; i < bytesNeeded; i++) {
    		      this.words[i] = ~this.words[i] & 0x3ffffff;
    		    }

    		    // Handle the residue
    		    if (bitsLeft > 0) {
    		      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));
    		    }

    		    // And remove leading zeroes
    		    return this.strip();
    		  };

    		  BN.prototype.notn = function notn (width) {
    		    return this.clone().inotn(width);
    		  };

    		  // Set `bit` of `this`
    		  BN.prototype.setn = function setn (bit, val) {
    		    assert(typeof bit === 'number' && bit >= 0);

    		    var off = (bit / 26) | 0;
    		    var wbit = bit % 26;

    		    this._expand(off + 1);

    		    if (val) {
    		      this.words[off] = this.words[off] | (1 << wbit);
    		    } else {
    		      this.words[off] = this.words[off] & ~(1 << wbit);
    		    }

    		    return this.strip();
    		  };

    		  // Add `num` to `this` in-place
    		  BN.prototype.iadd = function iadd (num) {
    		    var r;

    		    // negative + positive
    		    if (this.negative !== 0 && num.negative === 0) {
    		      this.negative = 0;
    		      r = this.isub(num);
    		      this.negative ^= 1;
    		      return this._normSign();

    		    // positive + negative
    		    } else if (this.negative === 0 && num.negative !== 0) {
    		      num.negative = 0;
    		      r = this.isub(num);
    		      num.negative = 1;
    		      return r._normSign();
    		    }

    		    // a.length > b.length
    		    var a, b;
    		    if (this.length > num.length) {
    		      a = this;
    		      b = num;
    		    } else {
    		      a = num;
    		      b = this;
    		    }

    		    var carry = 0;
    		    for (var i = 0; i < b.length; i++) {
    		      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;
    		      this.words[i] = r & 0x3ffffff;
    		      carry = r >>> 26;
    		    }
    		    for (; carry !== 0 && i < a.length; i++) {
    		      r = (a.words[i] | 0) + carry;
    		      this.words[i] = r & 0x3ffffff;
    		      carry = r >>> 26;
    		    }

    		    this.length = a.length;
    		    if (carry !== 0) {
    		      this.words[this.length] = carry;
    		      this.length++;
    		    // Copy the rest of the words
    		    } else if (a !== this) {
    		      for (; i < a.length; i++) {
    		        this.words[i] = a.words[i];
    		      }
    		    }

    		    return this;
    		  };

    		  // Add `num` to `this`
    		  BN.prototype.add = function add (num) {
    		    var res;
    		    if (num.negative !== 0 && this.negative === 0) {
    		      num.negative = 0;
    		      res = this.sub(num);
    		      num.negative ^= 1;
    		      return res;
    		    } else if (num.negative === 0 && this.negative !== 0) {
    		      this.negative = 0;
    		      res = num.sub(this);
    		      this.negative = 1;
    		      return res;
    		    }

    		    if (this.length > num.length) return this.clone().iadd(num);

    		    return num.clone().iadd(this);
    		  };

    		  // Subtract `num` from `this` in-place
    		  BN.prototype.isub = function isub (num) {
    		    // this - (-num) = this + num
    		    if (num.negative !== 0) {
    		      num.negative = 0;
    		      var r = this.iadd(num);
    		      num.negative = 1;
    		      return r._normSign();

    		    // -this - num = -(this + num)
    		    } else if (this.negative !== 0) {
    		      this.negative = 0;
    		      this.iadd(num);
    		      this.negative = 1;
    		      return this._normSign();
    		    }

    		    // At this point both numbers are positive
    		    var cmp = this.cmp(num);

    		    // Optimization - zeroify
    		    if (cmp === 0) {
    		      this.negative = 0;
    		      this.length = 1;
    		      this.words[0] = 0;
    		      return this;
    		    }

    		    // a > b
    		    var a, b;
    		    if (cmp > 0) {
    		      a = this;
    		      b = num;
    		    } else {
    		      a = num;
    		      b = this;
    		    }

    		    var carry = 0;
    		    for (var i = 0; i < b.length; i++) {
    		      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;
    		      carry = r >> 26;
    		      this.words[i] = r & 0x3ffffff;
    		    }
    		    for (; carry !== 0 && i < a.length; i++) {
    		      r = (a.words[i] | 0) + carry;
    		      carry = r >> 26;
    		      this.words[i] = r & 0x3ffffff;
    		    }

    		    // Copy rest of the words
    		    if (carry === 0 && i < a.length && a !== this) {
    		      for (; i < a.length; i++) {
    		        this.words[i] = a.words[i];
    		      }
    		    }

    		    this.length = Math.max(this.length, i);

    		    if (a !== this) {
    		      this.negative = 1;
    		    }

    		    return this.strip();
    		  };

    		  // Subtract `num` from `this`
    		  BN.prototype.sub = function sub (num) {
    		    return this.clone().isub(num);
    		  };

    		  function smallMulTo (self, num, out) {
    		    out.negative = num.negative ^ self.negative;
    		    var len = (self.length + num.length) | 0;
    		    out.length = len;
    		    len = (len - 1) | 0;

    		    // Peel one iteration (compiler can't do it, because of code complexity)
    		    var a = self.words[0] | 0;
    		    var b = num.words[0] | 0;
    		    var r = a * b;

    		    var lo = r & 0x3ffffff;
    		    var carry = (r / 0x4000000) | 0;
    		    out.words[0] = lo;

    		    for (var k = 1; k < len; k++) {
    		      // Sum all words with the same `i + j = k` and accumulate `ncarry`,
    		      // note that ncarry could be >= 0x3ffffff
    		      var ncarry = carry >>> 26;
    		      var rword = carry & 0x3ffffff;
    		      var maxJ = Math.min(k, num.length - 1);
    		      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {
    		        var i = (k - j) | 0;
    		        a = self.words[i] | 0;
    		        b = num.words[j] | 0;
    		        r = a * b + rword;
    		        ncarry += (r / 0x4000000) | 0;
    		        rword = r & 0x3ffffff;
    		      }
    		      out.words[k] = rword | 0;
    		      carry = ncarry | 0;
    		    }
    		    if (carry !== 0) {
    		      out.words[k] = carry | 0;
    		    } else {
    		      out.length--;
    		    }

    		    return out.strip();
    		  }

    		  // TODO(indutny): it may be reasonable to omit it for users who don't need
    		  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit
    		  // multiplication (like elliptic secp256k1).
    		  var comb10MulTo = function comb10MulTo (self, num, out) {
    		    var a = self.words;
    		    var b = num.words;
    		    var o = out.words;
    		    var c = 0;
    		    var lo;
    		    var mid;
    		    var hi;
    		    var a0 = a[0] | 0;
    		    var al0 = a0 & 0x1fff;
    		    var ah0 = a0 >>> 13;
    		    var a1 = a[1] | 0;
    		    var al1 = a1 & 0x1fff;
    		    var ah1 = a1 >>> 13;
    		    var a2 = a[2] | 0;
    		    var al2 = a2 & 0x1fff;
    		    var ah2 = a2 >>> 13;
    		    var a3 = a[3] | 0;
    		    var al3 = a3 & 0x1fff;
    		    var ah3 = a3 >>> 13;
    		    var a4 = a[4] | 0;
    		    var al4 = a4 & 0x1fff;
    		    var ah4 = a4 >>> 13;
    		    var a5 = a[5] | 0;
    		    var al5 = a5 & 0x1fff;
    		    var ah5 = a5 >>> 13;
    		    var a6 = a[6] | 0;
    		    var al6 = a6 & 0x1fff;
    		    var ah6 = a6 >>> 13;
    		    var a7 = a[7] | 0;
    		    var al7 = a7 & 0x1fff;
    		    var ah7 = a7 >>> 13;
    		    var a8 = a[8] | 0;
    		    var al8 = a8 & 0x1fff;
    		    var ah8 = a8 >>> 13;
    		    var a9 = a[9] | 0;
    		    var al9 = a9 & 0x1fff;
    		    var ah9 = a9 >>> 13;
    		    var b0 = b[0] | 0;
    		    var bl0 = b0 & 0x1fff;
    		    var bh0 = b0 >>> 13;
    		    var b1 = b[1] | 0;
    		    var bl1 = b1 & 0x1fff;
    		    var bh1 = b1 >>> 13;
    		    var b2 = b[2] | 0;
    		    var bl2 = b2 & 0x1fff;
    		    var bh2 = b2 >>> 13;
    		    var b3 = b[3] | 0;
    		    var bl3 = b3 & 0x1fff;
    		    var bh3 = b3 >>> 13;
    		    var b4 = b[4] | 0;
    		    var bl4 = b4 & 0x1fff;
    		    var bh4 = b4 >>> 13;
    		    var b5 = b[5] | 0;
    		    var bl5 = b5 & 0x1fff;
    		    var bh5 = b5 >>> 13;
    		    var b6 = b[6] | 0;
    		    var bl6 = b6 & 0x1fff;
    		    var bh6 = b6 >>> 13;
    		    var b7 = b[7] | 0;
    		    var bl7 = b7 & 0x1fff;
    		    var bh7 = b7 >>> 13;
    		    var b8 = b[8] | 0;
    		    var bl8 = b8 & 0x1fff;
    		    var bh8 = b8 >>> 13;
    		    var b9 = b[9] | 0;
    		    var bl9 = b9 & 0x1fff;
    		    var bh9 = b9 >>> 13;

    		    out.negative = self.negative ^ num.negative;
    		    out.length = 19;
    		    /* k = 0 */
    		    lo = Math.imul(al0, bl0);
    		    mid = Math.imul(al0, bh0);
    		    mid = (mid + Math.imul(ah0, bl0)) | 0;
    		    hi = Math.imul(ah0, bh0);
    		    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;
    		    w0 &= 0x3ffffff;
    		    /* k = 1 */
    		    lo = Math.imul(al1, bl0);
    		    mid = Math.imul(al1, bh0);
    		    mid = (mid + Math.imul(ah1, bl0)) | 0;
    		    hi = Math.imul(ah1, bh0);
    		    lo = (lo + Math.imul(al0, bl1)) | 0;
    		    mid = (mid + Math.imul(al0, bh1)) | 0;
    		    mid = (mid + Math.imul(ah0, bl1)) | 0;
    		    hi = (hi + Math.imul(ah0, bh1)) | 0;
    		    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;
    		    w1 &= 0x3ffffff;
    		    /* k = 2 */
    		    lo = Math.imul(al2, bl0);
    		    mid = Math.imul(al2, bh0);
    		    mid = (mid + Math.imul(ah2, bl0)) | 0;
    		    hi = Math.imul(ah2, bh0);
    		    lo = (lo + Math.imul(al1, bl1)) | 0;
    		    mid = (mid + Math.imul(al1, bh1)) | 0;
    		    mid = (mid + Math.imul(ah1, bl1)) | 0;
    		    hi = (hi + Math.imul(ah1, bh1)) | 0;
    		    lo = (lo + Math.imul(al0, bl2)) | 0;
    		    mid = (mid + Math.imul(al0, bh2)) | 0;
    		    mid = (mid + Math.imul(ah0, bl2)) | 0;
    		    hi = (hi + Math.imul(ah0, bh2)) | 0;
    		    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;
    		    w2 &= 0x3ffffff;
    		    /* k = 3 */
    		    lo = Math.imul(al3, bl0);
    		    mid = Math.imul(al3, bh0);
    		    mid = (mid + Math.imul(ah3, bl0)) | 0;
    		    hi = Math.imul(ah3, bh0);
    		    lo = (lo + Math.imul(al2, bl1)) | 0;
    		    mid = (mid + Math.imul(al2, bh1)) | 0;
    		    mid = (mid + Math.imul(ah2, bl1)) | 0;
    		    hi = (hi + Math.imul(ah2, bh1)) | 0;
    		    lo = (lo + Math.imul(al1, bl2)) | 0;
    		    mid = (mid + Math.imul(al1, bh2)) | 0;
    		    mid = (mid + Math.imul(ah1, bl2)) | 0;
    		    hi = (hi + Math.imul(ah1, bh2)) | 0;
    		    lo = (lo + Math.imul(al0, bl3)) | 0;
    		    mid = (mid + Math.imul(al0, bh3)) | 0;
    		    mid = (mid + Math.imul(ah0, bl3)) | 0;
    		    hi = (hi + Math.imul(ah0, bh3)) | 0;
    		    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;
    		    w3 &= 0x3ffffff;
    		    /* k = 4 */
    		    lo = Math.imul(al4, bl0);
    		    mid = Math.imul(al4, bh0);
    		    mid = (mid + Math.imul(ah4, bl0)) | 0;
    		    hi = Math.imul(ah4, bh0);
    		    lo = (lo + Math.imul(al3, bl1)) | 0;
    		    mid = (mid + Math.imul(al3, bh1)) | 0;
    		    mid = (mid + Math.imul(ah3, bl1)) | 0;
    		    hi = (hi + Math.imul(ah3, bh1)) | 0;
    		    lo = (lo + Math.imul(al2, bl2)) | 0;
    		    mid = (mid + Math.imul(al2, bh2)) | 0;
    		    mid = (mid + Math.imul(ah2, bl2)) | 0;
    		    hi = (hi + Math.imul(ah2, bh2)) | 0;
    		    lo = (lo + Math.imul(al1, bl3)) | 0;
    		    mid = (mid + Math.imul(al1, bh3)) | 0;
    		    mid = (mid + Math.imul(ah1, bl3)) | 0;
    		    hi = (hi + Math.imul(ah1, bh3)) | 0;
    		    lo = (lo + Math.imul(al0, bl4)) | 0;
    		    mid = (mid + Math.imul(al0, bh4)) | 0;
    		    mid = (mid + Math.imul(ah0, bl4)) | 0;
    		    hi = (hi + Math.imul(ah0, bh4)) | 0;
    		    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;
    		    w4 &= 0x3ffffff;
    		    /* k = 5 */
    		    lo = Math.imul(al5, bl0);
    		    mid = Math.imul(al5, bh0);
    		    mid = (mid + Math.imul(ah5, bl0)) | 0;
    		    hi = Math.imul(ah5, bh0);
    		    lo = (lo + Math.imul(al4, bl1)) | 0;
    		    mid = (mid + Math.imul(al4, bh1)) | 0;
    		    mid = (mid + Math.imul(ah4, bl1)) | 0;
    		    hi = (hi + Math.imul(ah4, bh1)) | 0;
    		    lo = (lo + Math.imul(al3, bl2)) | 0;
    		    mid = (mid + Math.imul(al3, bh2)) | 0;
    		    mid = (mid + Math.imul(ah3, bl2)) | 0;
    		    hi = (hi + Math.imul(ah3, bh2)) | 0;
    		    lo = (lo + Math.imul(al2, bl3)) | 0;
    		    mid = (mid + Math.imul(al2, bh3)) | 0;
    		    mid = (mid + Math.imul(ah2, bl3)) | 0;
    		    hi = (hi + Math.imul(ah2, bh3)) | 0;
    		    lo = (lo + Math.imul(al1, bl4)) | 0;
    		    mid = (mid + Math.imul(al1, bh4)) | 0;
    		    mid = (mid + Math.imul(ah1, bl4)) | 0;
    		    hi = (hi + Math.imul(ah1, bh4)) | 0;
    		    lo = (lo + Math.imul(al0, bl5)) | 0;
    		    mid = (mid + Math.imul(al0, bh5)) | 0;
    		    mid = (mid + Math.imul(ah0, bl5)) | 0;
    		    hi = (hi + Math.imul(ah0, bh5)) | 0;
    		    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;
    		    w5 &= 0x3ffffff;
    		    /* k = 6 */
    		    lo = Math.imul(al6, bl0);
    		    mid = Math.imul(al6, bh0);
    		    mid = (mid + Math.imul(ah6, bl0)) | 0;
    		    hi = Math.imul(ah6, bh0);
    		    lo = (lo + Math.imul(al5, bl1)) | 0;
    		    mid = (mid + Math.imul(al5, bh1)) | 0;
    		    mid = (mid + Math.imul(ah5, bl1)) | 0;
    		    hi = (hi + Math.imul(ah5, bh1)) | 0;
    		    lo = (lo + Math.imul(al4, bl2)) | 0;
    		    mid = (mid + Math.imul(al4, bh2)) | 0;
    		    mid = (mid + Math.imul(ah4, bl2)) | 0;
    		    hi = (hi + Math.imul(ah4, bh2)) | 0;
    		    lo = (lo + Math.imul(al3, bl3)) | 0;
    		    mid = (mid + Math.imul(al3, bh3)) | 0;
    		    mid = (mid + Math.imul(ah3, bl3)) | 0;
    		    hi = (hi + Math.imul(ah3, bh3)) | 0;
    		    lo = (lo + Math.imul(al2, bl4)) | 0;
    		    mid = (mid + Math.imul(al2, bh4)) | 0;
    		    mid = (mid + Math.imul(ah2, bl4)) | 0;
    		    hi = (hi + Math.imul(ah2, bh4)) | 0;
    		    lo = (lo + Math.imul(al1, bl5)) | 0;
    		    mid = (mid + Math.imul(al1, bh5)) | 0;
    		    mid = (mid + Math.imul(ah1, bl5)) | 0;
    		    hi = (hi + Math.imul(ah1, bh5)) | 0;
    		    lo = (lo + Math.imul(al0, bl6)) | 0;
    		    mid = (mid + Math.imul(al0, bh6)) | 0;
    		    mid = (mid + Math.imul(ah0, bl6)) | 0;
    		    hi = (hi + Math.imul(ah0, bh6)) | 0;
    		    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;
    		    w6 &= 0x3ffffff;
    		    /* k = 7 */
    		    lo = Math.imul(al7, bl0);
    		    mid = Math.imul(al7, bh0);
    		    mid = (mid + Math.imul(ah7, bl0)) | 0;
    		    hi = Math.imul(ah7, bh0);
    		    lo = (lo + Math.imul(al6, bl1)) | 0;
    		    mid = (mid + Math.imul(al6, bh1)) | 0;
    		    mid = (mid + Math.imul(ah6, bl1)) | 0;
    		    hi = (hi + Math.imul(ah6, bh1)) | 0;
    		    lo = (lo + Math.imul(al5, bl2)) | 0;
    		    mid = (mid + Math.imul(al5, bh2)) | 0;
    		    mid = (mid + Math.imul(ah5, bl2)) | 0;
    		    hi = (hi + Math.imul(ah5, bh2)) | 0;
    		    lo = (lo + Math.imul(al4, bl3)) | 0;
    		    mid = (mid + Math.imul(al4, bh3)) | 0;
    		    mid = (mid + Math.imul(ah4, bl3)) | 0;
    		    hi = (hi + Math.imul(ah4, bh3)) | 0;
    		    lo = (lo + Math.imul(al3, bl4)) | 0;
    		    mid = (mid + Math.imul(al3, bh4)) | 0;
    		    mid = (mid + Math.imul(ah3, bl4)) | 0;
    		    hi = (hi + Math.imul(ah3, bh4)) | 0;
    		    lo = (lo + Math.imul(al2, bl5)) | 0;
    		    mid = (mid + Math.imul(al2, bh5)) | 0;
    		    mid = (mid + Math.imul(ah2, bl5)) | 0;
    		    hi = (hi + Math.imul(ah2, bh5)) | 0;
    		    lo = (lo + Math.imul(al1, bl6)) | 0;
    		    mid = (mid + Math.imul(al1, bh6)) | 0;
    		    mid = (mid + Math.imul(ah1, bl6)) | 0;
    		    hi = (hi + Math.imul(ah1, bh6)) | 0;
    		    lo = (lo + Math.imul(al0, bl7)) | 0;
    		    mid = (mid + Math.imul(al0, bh7)) | 0;
    		    mid = (mid + Math.imul(ah0, bl7)) | 0;
    		    hi = (hi + Math.imul(ah0, bh7)) | 0;
    		    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;
    		    w7 &= 0x3ffffff;
    		    /* k = 8 */
    		    lo = Math.imul(al8, bl0);
    		    mid = Math.imul(al8, bh0);
    		    mid = (mid + Math.imul(ah8, bl0)) | 0;
    		    hi = Math.imul(ah8, bh0);
    		    lo = (lo + Math.imul(al7, bl1)) | 0;
    		    mid = (mid + Math.imul(al7, bh1)) | 0;
    		    mid = (mid + Math.imul(ah7, bl1)) | 0;
    		    hi = (hi + Math.imul(ah7, bh1)) | 0;
    		    lo = (lo + Math.imul(al6, bl2)) | 0;
    		    mid = (mid + Math.imul(al6, bh2)) | 0;
    		    mid = (mid + Math.imul(ah6, bl2)) | 0;
    		    hi = (hi + Math.imul(ah6, bh2)) | 0;
    		    lo = (lo + Math.imul(al5, bl3)) | 0;
    		    mid = (mid + Math.imul(al5, bh3)) | 0;
    		    mid = (mid + Math.imul(ah5, bl3)) | 0;
    		    hi = (hi + Math.imul(ah5, bh3)) | 0;
    		    lo = (lo + Math.imul(al4, bl4)) | 0;
    		    mid = (mid + Math.imul(al4, bh4)) | 0;
    		    mid = (mid + Math.imul(ah4, bl4)) | 0;
    		    hi = (hi + Math.imul(ah4, bh4)) | 0;
    		    lo = (lo + Math.imul(al3, bl5)) | 0;
    		    mid = (mid + Math.imul(al3, bh5)) | 0;
    		    mid = (mid + Math.imul(ah3, bl5)) | 0;
    		    hi = (hi + Math.imul(ah3, bh5)) | 0;
    		    lo = (lo + Math.imul(al2, bl6)) | 0;
    		    mid = (mid + Math.imul(al2, bh6)) | 0;
    		    mid = (mid + Math.imul(ah2, bl6)) | 0;
    		    hi = (hi + Math.imul(ah2, bh6)) | 0;
    		    lo = (lo + Math.imul(al1, bl7)) | 0;
    		    mid = (mid + Math.imul(al1, bh7)) | 0;
    		    mid = (mid + Math.imul(ah1, bl7)) | 0;
    		    hi = (hi + Math.imul(ah1, bh7)) | 0;
    		    lo = (lo + Math.imul(al0, bl8)) | 0;
    		    mid = (mid + Math.imul(al0, bh8)) | 0;
    		    mid = (mid + Math.imul(ah0, bl8)) | 0;
    		    hi = (hi + Math.imul(ah0, bh8)) | 0;
    		    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;
    		    w8 &= 0x3ffffff;
    		    /* k = 9 */
    		    lo = Math.imul(al9, bl0);
    		    mid = Math.imul(al9, bh0);
    		    mid = (mid + Math.imul(ah9, bl0)) | 0;
    		    hi = Math.imul(ah9, bh0);
    		    lo = (lo + Math.imul(al8, bl1)) | 0;
    		    mid = (mid + Math.imul(al8, bh1)) | 0;
    		    mid = (mid + Math.imul(ah8, bl1)) | 0;
    		    hi = (hi + Math.imul(ah8, bh1)) | 0;
    		    lo = (lo + Math.imul(al7, bl2)) | 0;
    		    mid = (mid + Math.imul(al7, bh2)) | 0;
    		    mid = (mid + Math.imul(ah7, bl2)) | 0;
    		    hi = (hi + Math.imul(ah7, bh2)) | 0;
    		    lo = (lo + Math.imul(al6, bl3)) | 0;
    		    mid = (mid + Math.imul(al6, bh3)) | 0;
    		    mid = (mid + Math.imul(ah6, bl3)) | 0;
    		    hi = (hi + Math.imul(ah6, bh3)) | 0;
    		    lo = (lo + Math.imul(al5, bl4)) | 0;
    		    mid = (mid + Math.imul(al5, bh4)) | 0;
    		    mid = (mid + Math.imul(ah5, bl4)) | 0;
    		    hi = (hi + Math.imul(ah5, bh4)) | 0;
    		    lo = (lo + Math.imul(al4, bl5)) | 0;
    		    mid = (mid + Math.imul(al4, bh5)) | 0;
    		    mid = (mid + Math.imul(ah4, bl5)) | 0;
    		    hi = (hi + Math.imul(ah4, bh5)) | 0;
    		    lo = (lo + Math.imul(al3, bl6)) | 0;
    		    mid = (mid + Math.imul(al3, bh6)) | 0;
    		    mid = (mid + Math.imul(ah3, bl6)) | 0;
    		    hi = (hi + Math.imul(ah3, bh6)) | 0;
    		    lo = (lo + Math.imul(al2, bl7)) | 0;
    		    mid = (mid + Math.imul(al2, bh7)) | 0;
    		    mid = (mid + Math.imul(ah2, bl7)) | 0;
    		    hi = (hi + Math.imul(ah2, bh7)) | 0;
    		    lo = (lo + Math.imul(al1, bl8)) | 0;
    		    mid = (mid + Math.imul(al1, bh8)) | 0;
    		    mid = (mid + Math.imul(ah1, bl8)) | 0;
    		    hi = (hi + Math.imul(ah1, bh8)) | 0;
    		    lo = (lo + Math.imul(al0, bl9)) | 0;
    		    mid = (mid + Math.imul(al0, bh9)) | 0;
    		    mid = (mid + Math.imul(ah0, bl9)) | 0;
    		    hi = (hi + Math.imul(ah0, bh9)) | 0;
    		    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;
    		    w9 &= 0x3ffffff;
    		    /* k = 10 */
    		    lo = Math.imul(al9, bl1);
    		    mid = Math.imul(al9, bh1);
    		    mid = (mid + Math.imul(ah9, bl1)) | 0;
    		    hi = Math.imul(ah9, bh1);
    		    lo = (lo + Math.imul(al8, bl2)) | 0;
    		    mid = (mid + Math.imul(al8, bh2)) | 0;
    		    mid = (mid + Math.imul(ah8, bl2)) | 0;
    		    hi = (hi + Math.imul(ah8, bh2)) | 0;
    		    lo = (lo + Math.imul(al7, bl3)) | 0;
    		    mid = (mid + Math.imul(al7, bh3)) | 0;
    		    mid = (mid + Math.imul(ah7, bl3)) | 0;
    		    hi = (hi + Math.imul(ah7, bh3)) | 0;
    		    lo = (lo + Math.imul(al6, bl4)) | 0;
    		    mid = (mid + Math.imul(al6, bh4)) | 0;
    		    mid = (mid + Math.imul(ah6, bl4)) | 0;
    		    hi = (hi + Math.imul(ah6, bh4)) | 0;
    		    lo = (lo + Math.imul(al5, bl5)) | 0;
    		    mid = (mid + Math.imul(al5, bh5)) | 0;
    		    mid = (mid + Math.imul(ah5, bl5)) | 0;
    		    hi = (hi + Math.imul(ah5, bh5)) | 0;
    		    lo = (lo + Math.imul(al4, bl6)) | 0;
    		    mid = (mid + Math.imul(al4, bh6)) | 0;
    		    mid = (mid + Math.imul(ah4, bl6)) | 0;
    		    hi = (hi + Math.imul(ah4, bh6)) | 0;
    		    lo = (lo + Math.imul(al3, bl7)) | 0;
    		    mid = (mid + Math.imul(al3, bh7)) | 0;
    		    mid = (mid + Math.imul(ah3, bl7)) | 0;
    		    hi = (hi + Math.imul(ah3, bh7)) | 0;
    		    lo = (lo + Math.imul(al2, bl8)) | 0;
    		    mid = (mid + Math.imul(al2, bh8)) | 0;
    		    mid = (mid + Math.imul(ah2, bl8)) | 0;
    		    hi = (hi + Math.imul(ah2, bh8)) | 0;
    		    lo = (lo + Math.imul(al1, bl9)) | 0;
    		    mid = (mid + Math.imul(al1, bh9)) | 0;
    		    mid = (mid + Math.imul(ah1, bl9)) | 0;
    		    hi = (hi + Math.imul(ah1, bh9)) | 0;
    		    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;
    		    w10 &= 0x3ffffff;
    		    /* k = 11 */
    		    lo = Math.imul(al9, bl2);
    		    mid = Math.imul(al9, bh2);
    		    mid = (mid + Math.imul(ah9, bl2)) | 0;
    		    hi = Math.imul(ah9, bh2);
    		    lo = (lo + Math.imul(al8, bl3)) | 0;
    		    mid = (mid + Math.imul(al8, bh3)) | 0;
    		    mid = (mid + Math.imul(ah8, bl3)) | 0;
    		    hi = (hi + Math.imul(ah8, bh3)) | 0;
    		    lo = (lo + Math.imul(al7, bl4)) | 0;
    		    mid = (mid + Math.imul(al7, bh4)) | 0;
    		    mid = (mid + Math.imul(ah7, bl4)) | 0;
    		    hi = (hi + Math.imul(ah7, bh4)) | 0;
    		    lo = (lo + Math.imul(al6, bl5)) | 0;
    		    mid = (mid + Math.imul(al6, bh5)) | 0;
    		    mid = (mid + Math.imul(ah6, bl5)) | 0;
    		    hi = (hi + Math.imul(ah6, bh5)) | 0;
    		    lo = (lo + Math.imul(al5, bl6)) | 0;
    		    mid = (mid + Math.imul(al5, bh6)) | 0;
    		    mid = (mid + Math.imul(ah5, bl6)) | 0;
    		    hi = (hi + Math.imul(ah5, bh6)) | 0;
    		    lo = (lo + Math.imul(al4, bl7)) | 0;
    		    mid = (mid + Math.imul(al4, bh7)) | 0;
    		    mid = (mid + Math.imul(ah4, bl7)) | 0;
    		    hi = (hi + Math.imul(ah4, bh7)) | 0;
    		    lo = (lo + Math.imul(al3, bl8)) | 0;
    		    mid = (mid + Math.imul(al3, bh8)) | 0;
    		    mid = (mid + Math.imul(ah3, bl8)) | 0;
    		    hi = (hi + Math.imul(ah3, bh8)) | 0;
    		    lo = (lo + Math.imul(al2, bl9)) | 0;
    		    mid = (mid + Math.imul(al2, bh9)) | 0;
    		    mid = (mid + Math.imul(ah2, bl9)) | 0;
    		    hi = (hi + Math.imul(ah2, bh9)) | 0;
    		    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;
    		    w11 &= 0x3ffffff;
    		    /* k = 12 */
    		    lo = Math.imul(al9, bl3);
    		    mid = Math.imul(al9, bh3);
    		    mid = (mid + Math.imul(ah9, bl3)) | 0;
    		    hi = Math.imul(ah9, bh3);
    		    lo = (lo + Math.imul(al8, bl4)) | 0;
    		    mid = (mid + Math.imul(al8, bh4)) | 0;
    		    mid = (mid + Math.imul(ah8, bl4)) | 0;
    		    hi = (hi + Math.imul(ah8, bh4)) | 0;
    		    lo = (lo + Math.imul(al7, bl5)) | 0;
    		    mid = (mid + Math.imul(al7, bh5)) | 0;
    		    mid = (mid + Math.imul(ah7, bl5)) | 0;
    		    hi = (hi + Math.imul(ah7, bh5)) | 0;
    		    lo = (lo + Math.imul(al6, bl6)) | 0;
    		    mid = (mid + Math.imul(al6, bh6)) | 0;
    		    mid = (mid + Math.imul(ah6, bl6)) | 0;
    		    hi = (hi + Math.imul(ah6, bh6)) | 0;
    		    lo = (lo + Math.imul(al5, bl7)) | 0;
    		    mid = (mid + Math.imul(al5, bh7)) | 0;
    		    mid = (mid + Math.imul(ah5, bl7)) | 0;
    		    hi = (hi + Math.imul(ah5, bh7)) | 0;
    		    lo = (lo + Math.imul(al4, bl8)) | 0;
    		    mid = (mid + Math.imul(al4, bh8)) | 0;
    		    mid = (mid + Math.imul(ah4, bl8)) | 0;
    		    hi = (hi + Math.imul(ah4, bh8)) | 0;
    		    lo = (lo + Math.imul(al3, bl9)) | 0;
    		    mid = (mid + Math.imul(al3, bh9)) | 0;
    		    mid = (mid + Math.imul(ah3, bl9)) | 0;
    		    hi = (hi + Math.imul(ah3, bh9)) | 0;
    		    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;
    		    w12 &= 0x3ffffff;
    		    /* k = 13 */
    		    lo = Math.imul(al9, bl4);
    		    mid = Math.imul(al9, bh4);
    		    mid = (mid + Math.imul(ah9, bl4)) | 0;
    		    hi = Math.imul(ah9, bh4);
    		    lo = (lo + Math.imul(al8, bl5)) | 0;
    		    mid = (mid + Math.imul(al8, bh5)) | 0;
    		    mid = (mid + Math.imul(ah8, bl5)) | 0;
    		    hi = (hi + Math.imul(ah8, bh5)) | 0;
    		    lo = (lo + Math.imul(al7, bl6)) | 0;
    		    mid = (mid + Math.imul(al7, bh6)) | 0;
    		    mid = (mid + Math.imul(ah7, bl6)) | 0;
    		    hi = (hi + Math.imul(ah7, bh6)) | 0;
    		    lo = (lo + Math.imul(al6, bl7)) | 0;
    		    mid = (mid + Math.imul(al6, bh7)) | 0;
    		    mid = (mid + Math.imul(ah6, bl7)) | 0;
    		    hi = (hi + Math.imul(ah6, bh7)) | 0;
    		    lo = (lo + Math.imul(al5, bl8)) | 0;
    		    mid = (mid + Math.imul(al5, bh8)) | 0;
    		    mid = (mid + Math.imul(ah5, bl8)) | 0;
    		    hi = (hi + Math.imul(ah5, bh8)) | 0;
    		    lo = (lo + Math.imul(al4, bl9)) | 0;
    		    mid = (mid + Math.imul(al4, bh9)) | 0;
    		    mid = (mid + Math.imul(ah4, bl9)) | 0;
    		    hi = (hi + Math.imul(ah4, bh9)) | 0;
    		    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;
    		    w13 &= 0x3ffffff;
    		    /* k = 14 */
    		    lo = Math.imul(al9, bl5);
    		    mid = Math.imul(al9, bh5);
    		    mid = (mid + Math.imul(ah9, bl5)) | 0;
    		    hi = Math.imul(ah9, bh5);
    		    lo = (lo + Math.imul(al8, bl6)) | 0;
    		    mid = (mid + Math.imul(al8, bh6)) | 0;
    		    mid = (mid + Math.imul(ah8, bl6)) | 0;
    		    hi = (hi + Math.imul(ah8, bh6)) | 0;
    		    lo = (lo + Math.imul(al7, bl7)) | 0;
    		    mid = (mid + Math.imul(al7, bh7)) | 0;
    		    mid = (mid + Math.imul(ah7, bl7)) | 0;
    		    hi = (hi + Math.imul(ah7, bh7)) | 0;
    		    lo = (lo + Math.imul(al6, bl8)) | 0;
    		    mid = (mid + Math.imul(al6, bh8)) | 0;
    		    mid = (mid + Math.imul(ah6, bl8)) | 0;
    		    hi = (hi + Math.imul(ah6, bh8)) | 0;
    		    lo = (lo + Math.imul(al5, bl9)) | 0;
    		    mid = (mid + Math.imul(al5, bh9)) | 0;
    		    mid = (mid + Math.imul(ah5, bl9)) | 0;
    		    hi = (hi + Math.imul(ah5, bh9)) | 0;
    		    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;
    		    w14 &= 0x3ffffff;
    		    /* k = 15 */
    		    lo = Math.imul(al9, bl6);
    		    mid = Math.imul(al9, bh6);
    		    mid = (mid + Math.imul(ah9, bl6)) | 0;
    		    hi = Math.imul(ah9, bh6);
    		    lo = (lo + Math.imul(al8, bl7)) | 0;
    		    mid = (mid + Math.imul(al8, bh7)) | 0;
    		    mid = (mid + Math.imul(ah8, bl7)) | 0;
    		    hi = (hi + Math.imul(ah8, bh7)) | 0;
    		    lo = (lo + Math.imul(al7, bl8)) | 0;
    		    mid = (mid + Math.imul(al7, bh8)) | 0;
    		    mid = (mid + Math.imul(ah7, bl8)) | 0;
    		    hi = (hi + Math.imul(ah7, bh8)) | 0;
    		    lo = (lo + Math.imul(al6, bl9)) | 0;
    		    mid = (mid + Math.imul(al6, bh9)) | 0;
    		    mid = (mid + Math.imul(ah6, bl9)) | 0;
    		    hi = (hi + Math.imul(ah6, bh9)) | 0;
    		    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;
    		    w15 &= 0x3ffffff;
    		    /* k = 16 */
    		    lo = Math.imul(al9, bl7);
    		    mid = Math.imul(al9, bh7);
    		    mid = (mid + Math.imul(ah9, bl7)) | 0;
    		    hi = Math.imul(ah9, bh7);
    		    lo = (lo + Math.imul(al8, bl8)) | 0;
    		    mid = (mid + Math.imul(al8, bh8)) | 0;
    		    mid = (mid + Math.imul(ah8, bl8)) | 0;
    		    hi = (hi + Math.imul(ah8, bh8)) | 0;
    		    lo = (lo + Math.imul(al7, bl9)) | 0;
    		    mid = (mid + Math.imul(al7, bh9)) | 0;
    		    mid = (mid + Math.imul(ah7, bl9)) | 0;
    		    hi = (hi + Math.imul(ah7, bh9)) | 0;
    		    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;
    		    w16 &= 0x3ffffff;
    		    /* k = 17 */
    		    lo = Math.imul(al9, bl8);
    		    mid = Math.imul(al9, bh8);
    		    mid = (mid + Math.imul(ah9, bl8)) | 0;
    		    hi = Math.imul(ah9, bh8);
    		    lo = (lo + Math.imul(al8, bl9)) | 0;
    		    mid = (mid + Math.imul(al8, bh9)) | 0;
    		    mid = (mid + Math.imul(ah8, bl9)) | 0;
    		    hi = (hi + Math.imul(ah8, bh9)) | 0;
    		    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;
    		    w17 &= 0x3ffffff;
    		    /* k = 18 */
    		    lo = Math.imul(al9, bl9);
    		    mid = Math.imul(al9, bh9);
    		    mid = (mid + Math.imul(ah9, bl9)) | 0;
    		    hi = Math.imul(ah9, bh9);
    		    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;
    		    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;
    		    w18 &= 0x3ffffff;
    		    o[0] = w0;
    		    o[1] = w1;
    		    o[2] = w2;
    		    o[3] = w3;
    		    o[4] = w4;
    		    o[5] = w5;
    		    o[6] = w6;
    		    o[7] = w7;
    		    o[8] = w8;
    		    o[9] = w9;
    		    o[10] = w10;
    		    o[11] = w11;
    		    o[12] = w12;
    		    o[13] = w13;
    		    o[14] = w14;
    		    o[15] = w15;
    		    o[16] = w16;
    		    o[17] = w17;
    		    o[18] = w18;
    		    if (c !== 0) {
    		      o[19] = c;
    		      out.length++;
    		    }
    		    return out;
    		  };

    		  // Polyfill comb
    		  if (!Math.imul) {
    		    comb10MulTo = smallMulTo;
    		  }

    		  function bigMulTo (self, num, out) {
    		    out.negative = num.negative ^ self.negative;
    		    out.length = self.length + num.length;

    		    var carry = 0;
    		    var hncarry = 0;
    		    for (var k = 0; k < out.length - 1; k++) {
    		      // Sum all words with the same `i + j = k` and accumulate `ncarry`,
    		      // note that ncarry could be >= 0x3ffffff
    		      var ncarry = hncarry;
    		      hncarry = 0;
    		      var rword = carry & 0x3ffffff;
    		      var maxJ = Math.min(k, num.length - 1);
    		      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {
    		        var i = k - j;
    		        var a = self.words[i] | 0;
    		        var b = num.words[j] | 0;
    		        var r = a * b;

    		        var lo = r & 0x3ffffff;
    		        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;
    		        lo = (lo + rword) | 0;
    		        rword = lo & 0x3ffffff;
    		        ncarry = (ncarry + (lo >>> 26)) | 0;

    		        hncarry += ncarry >>> 26;
    		        ncarry &= 0x3ffffff;
    		      }
    		      out.words[k] = rword;
    		      carry = ncarry;
    		      ncarry = hncarry;
    		    }
    		    if (carry !== 0) {
    		      out.words[k] = carry;
    		    } else {
    		      out.length--;
    		    }

    		    return out.strip();
    		  }

    		  function jumboMulTo (self, num, out) {
    		    var fftm = new FFTM();
    		    return fftm.mulp(self, num, out);
    		  }

    		  BN.prototype.mulTo = function mulTo (num, out) {
    		    var res;
    		    var len = this.length + num.length;
    		    if (this.length === 10 && num.length === 10) {
    		      res = comb10MulTo(this, num, out);
    		    } else if (len < 63) {
    		      res = smallMulTo(this, num, out);
    		    } else if (len < 1024) {
    		      res = bigMulTo(this, num, out);
    		    } else {
    		      res = jumboMulTo(this, num, out);
    		    }

    		    return res;
    		  };

    		  // Cooley-Tukey algorithm for FFT
    		  // slightly revisited to rely on looping instead of recursion

    		  function FFTM (x, y) {
    		    this.x = x;
    		    this.y = y;
    		  }

    		  FFTM.prototype.makeRBT = function makeRBT (N) {
    		    var t = new Array(N);
    		    var l = BN.prototype._countBits(N) - 1;
    		    for (var i = 0; i < N; i++) {
    		      t[i] = this.revBin(i, l, N);
    		    }

    		    return t;
    		  };

    		  // Returns binary-reversed representation of `x`
    		  FFTM.prototype.revBin = function revBin (x, l, N) {
    		    if (x === 0 || x === N - 1) return x;

    		    var rb = 0;
    		    for (var i = 0; i < l; i++) {
    		      rb |= (x & 1) << (l - i - 1);
    		      x >>= 1;
    		    }

    		    return rb;
    		  };

    		  // Performs "tweedling" phase, therefore 'emulating'
    		  // behaviour of the recursive algorithm
    		  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {
    		    for (var i = 0; i < N; i++) {
    		      rtws[i] = rws[rbt[i]];
    		      itws[i] = iws[rbt[i]];
    		    }
    		  };

    		  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {
    		    this.permute(rbt, rws, iws, rtws, itws, N);

    		    for (var s = 1; s < N; s <<= 1) {
    		      var l = s << 1;

    		      var rtwdf = Math.cos(2 * Math.PI / l);
    		      var itwdf = Math.sin(2 * Math.PI / l);

    		      for (var p = 0; p < N; p += l) {
    		        var rtwdf_ = rtwdf;
    		        var itwdf_ = itwdf;

    		        for (var j = 0; j < s; j++) {
    		          var re = rtws[p + j];
    		          var ie = itws[p + j];

    		          var ro = rtws[p + j + s];
    		          var io = itws[p + j + s];

    		          var rx = rtwdf_ * ro - itwdf_ * io;

    		          io = rtwdf_ * io + itwdf_ * ro;
    		          ro = rx;

    		          rtws[p + j] = re + ro;
    		          itws[p + j] = ie + io;

    		          rtws[p + j + s] = re - ro;
    		          itws[p + j + s] = ie - io;

    		          /* jshint maxdepth : false */
    		          if (j !== l) {
    		            rx = rtwdf * rtwdf_ - itwdf * itwdf_;

    		            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;
    		            rtwdf_ = rx;
    		          }
    		        }
    		      }
    		    }
    		  };

    		  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {
    		    var N = Math.max(m, n) | 1;
    		    var odd = N & 1;
    		    var i = 0;
    		    for (N = N / 2 | 0; N; N = N >>> 1) {
    		      i++;
    		    }

    		    return 1 << i + 1 + odd;
    		  };

    		  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {
    		    if (N <= 1) return;

    		    for (var i = 0; i < N / 2; i++) {
    		      var t = rws[i];

    		      rws[i] = rws[N - i - 1];
    		      rws[N - i - 1] = t;

    		      t = iws[i];

    		      iws[i] = -iws[N - i - 1];
    		      iws[N - i - 1] = -t;
    		    }
    		  };

    		  FFTM.prototype.normalize13b = function normalize13b (ws, N) {
    		    var carry = 0;
    		    for (var i = 0; i < N / 2; i++) {
    		      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +
    		        Math.round(ws[2 * i] / N) +
    		        carry;

    		      ws[i] = w & 0x3ffffff;

    		      if (w < 0x4000000) {
    		        carry = 0;
    		      } else {
    		        carry = w / 0x4000000 | 0;
    		      }
    		    }

    		    return ws;
    		  };

    		  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {
    		    var carry = 0;
    		    for (var i = 0; i < len; i++) {
    		      carry = carry + (ws[i] | 0);

    		      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;
    		      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;
    		    }

    		    // Pad with zeroes
    		    for (i = 2 * len; i < N; ++i) {
    		      rws[i] = 0;
    		    }

    		    assert(carry === 0);
    		    assert((carry & -8192) === 0);
    		  };

    		  FFTM.prototype.stub = function stub (N) {
    		    var ph = new Array(N);
    		    for (var i = 0; i < N; i++) {
    		      ph[i] = 0;
    		    }

    		    return ph;
    		  };

    		  FFTM.prototype.mulp = function mulp (x, y, out) {
    		    var N = 2 * this.guessLen13b(x.length, y.length);

    		    var rbt = this.makeRBT(N);

    		    var _ = this.stub(N);

    		    var rws = new Array(N);
    		    var rwst = new Array(N);
    		    var iwst = new Array(N);

    		    var nrws = new Array(N);
    		    var nrwst = new Array(N);
    		    var niwst = new Array(N);

    		    var rmws = out.words;
    		    rmws.length = N;

    		    this.convert13b(x.words, x.length, rws, N);
    		    this.convert13b(y.words, y.length, nrws, N);

    		    this.transform(rws, _, rwst, iwst, N, rbt);
    		    this.transform(nrws, _, nrwst, niwst, N, rbt);

    		    for (var i = 0; i < N; i++) {
    		      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];
    		      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];
    		      rwst[i] = rx;
    		    }

    		    this.conjugate(rwst, iwst, N);
    		    this.transform(rwst, iwst, rmws, _, N, rbt);
    		    this.conjugate(rmws, _, N);
    		    this.normalize13b(rmws, N);

    		    out.negative = x.negative ^ y.negative;
    		    out.length = x.length + y.length;
    		    return out.strip();
    		  };

    		  // Multiply `this` by `num`
    		  BN.prototype.mul = function mul (num) {
    		    var out = new BN(null);
    		    out.words = new Array(this.length + num.length);
    		    return this.mulTo(num, out);
    		  };

    		  // Multiply employing FFT
    		  BN.prototype.mulf = function mulf (num) {
    		    var out = new BN(null);
    		    out.words = new Array(this.length + num.length);
    		    return jumboMulTo(this, num, out);
    		  };

    		  // In-place Multiplication
    		  BN.prototype.imul = function imul (num) {
    		    return this.clone().mulTo(num, this);
    		  };

    		  BN.prototype.imuln = function imuln (num) {
    		    assert(typeof num === 'number');
    		    assert(num < 0x4000000);

    		    // Carry
    		    var carry = 0;
    		    for (var i = 0; i < this.length; i++) {
    		      var w = (this.words[i] | 0) * num;
    		      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);
    		      carry >>= 26;
    		      carry += (w / 0x4000000) | 0;
    		      // NOTE: lo is 27bit maximum
    		      carry += lo >>> 26;
    		      this.words[i] = lo & 0x3ffffff;
    		    }

    		    if (carry !== 0) {
    		      this.words[i] = carry;
    		      this.length++;
    		    }
    		    this.length = num === 0 ? 1 : this.length;

    		    return this;
    		  };

    		  BN.prototype.muln = function muln (num) {
    		    return this.clone().imuln(num);
    		  };

    		  // `this` * `this`
    		  BN.prototype.sqr = function sqr () {
    		    return this.mul(this);
    		  };

    		  // `this` * `this` in-place
    		  BN.prototype.isqr = function isqr () {
    		    return this.imul(this.clone());
    		  };

    		  // Math.pow(`this`, `num`)
    		  BN.prototype.pow = function pow (num) {
    		    var w = toBitArray(num);
    		    if (w.length === 0) return new BN(1);

    		    // Skip leading zeroes
    		    var res = this;
    		    for (var i = 0; i < w.length; i++, res = res.sqr()) {
    		      if (w[i] !== 0) break;
    		    }

    		    if (++i < w.length) {
    		      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {
    		        if (w[i] === 0) continue;

    		        res = res.mul(q);
    		      }
    		    }

    		    return res;
    		  };

    		  // Shift-left in-place
    		  BN.prototype.iushln = function iushln (bits) {
    		    assert(typeof bits === 'number' && bits >= 0);
    		    var r = bits % 26;
    		    var s = (bits - r) / 26;
    		    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);
    		    var i;

    		    if (r !== 0) {
    		      var carry = 0;

    		      for (i = 0; i < this.length; i++) {
    		        var newCarry = this.words[i] & carryMask;
    		        var c = ((this.words[i] | 0) - newCarry) << r;
    		        this.words[i] = c | carry;
    		        carry = newCarry >>> (26 - r);
    		      }

    		      if (carry) {
    		        this.words[i] = carry;
    		        this.length++;
    		      }
    		    }

    		    if (s !== 0) {
    		      for (i = this.length - 1; i >= 0; i--) {
    		        this.words[i + s] = this.words[i];
    		      }

    		      for (i = 0; i < s; i++) {
    		        this.words[i] = 0;
    		      }

    		      this.length += s;
    		    }

    		    return this.strip();
    		  };

    		  BN.prototype.ishln = function ishln (bits) {
    		    // TODO(indutny): implement me
    		    assert(this.negative === 0);
    		    return this.iushln(bits);
    		  };

    		  // Shift-right in-place
    		  // NOTE: `hint` is a lowest bit before trailing zeroes
    		  // NOTE: if `extended` is present - it will be filled with destroyed bits
    		  BN.prototype.iushrn = function iushrn (bits, hint, extended) {
    		    assert(typeof bits === 'number' && bits >= 0);
    		    var h;
    		    if (hint) {
    		      h = (hint - (hint % 26)) / 26;
    		    } else {
    		      h = 0;
    		    }

    		    var r = bits % 26;
    		    var s = Math.min((bits - r) / 26, this.length);
    		    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);
    		    var maskedWords = extended;

    		    h -= s;
    		    h = Math.max(0, h);

    		    // Extended mode, copy masked part
    		    if (maskedWords) {
    		      for (var i = 0; i < s; i++) {
    		        maskedWords.words[i] = this.words[i];
    		      }
    		      maskedWords.length = s;
    		    }

    		    if (s === 0) ; else if (this.length > s) {
    		      this.length -= s;
    		      for (i = 0; i < this.length; i++) {
    		        this.words[i] = this.words[i + s];
    		      }
    		    } else {
    		      this.words[0] = 0;
    		      this.length = 1;
    		    }

    		    var carry = 0;
    		    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {
    		      var word = this.words[i] | 0;
    		      this.words[i] = (carry << (26 - r)) | (word >>> r);
    		      carry = word & mask;
    		    }

    		    // Push carried bits as a mask
    		    if (maskedWords && carry !== 0) {
    		      maskedWords.words[maskedWords.length++] = carry;
    		    }

    		    if (this.length === 0) {
    		      this.words[0] = 0;
    		      this.length = 1;
    		    }

    		    return this.strip();
    		  };

    		  BN.prototype.ishrn = function ishrn (bits, hint, extended) {
    		    // TODO(indutny): implement me
    		    assert(this.negative === 0);
    		    return this.iushrn(bits, hint, extended);
    		  };

    		  // Shift-left
    		  BN.prototype.shln = function shln (bits) {
    		    return this.clone().ishln(bits);
    		  };

    		  BN.prototype.ushln = function ushln (bits) {
    		    return this.clone().iushln(bits);
    		  };

    		  // Shift-right
    		  BN.prototype.shrn = function shrn (bits) {
    		    return this.clone().ishrn(bits);
    		  };

    		  BN.prototype.ushrn = function ushrn (bits) {
    		    return this.clone().iushrn(bits);
    		  };

    		  // Test if n bit is set
    		  BN.prototype.testn = function testn (bit) {
    		    assert(typeof bit === 'number' && bit >= 0);
    		    var r = bit % 26;
    		    var s = (bit - r) / 26;
    		    var q = 1 << r;

    		    // Fast case: bit is much higher than all existing words
    		    if (this.length <= s) return false;

    		    // Check bit and return
    		    var w = this.words[s];

    		    return !!(w & q);
    		  };

    		  // Return only lowers bits of number (in-place)
    		  BN.prototype.imaskn = function imaskn (bits) {
    		    assert(typeof bits === 'number' && bits >= 0);
    		    var r = bits % 26;
    		    var s = (bits - r) / 26;

    		    assert(this.negative === 0, 'imaskn works only with positive numbers');

    		    if (this.length <= s) {
    		      return this;
    		    }

    		    if (r !== 0) {
    		      s++;
    		    }
    		    this.length = Math.min(s, this.length);

    		    if (r !== 0) {
    		      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);
    		      this.words[this.length - 1] &= mask;
    		    }

    		    return this.strip();
    		  };

    		  // Return only lowers bits of number
    		  BN.prototype.maskn = function maskn (bits) {
    		    return this.clone().imaskn(bits);
    		  };

    		  // Add plain number `num` to `this`
    		  BN.prototype.iaddn = function iaddn (num) {
    		    assert(typeof num === 'number');
    		    assert(num < 0x4000000);
    		    if (num < 0) return this.isubn(-num);

    		    // Possible sign change
    		    if (this.negative !== 0) {
    		      if (this.length === 1 && (this.words[0] | 0) < num) {
    		        this.words[0] = num - (this.words[0] | 0);
    		        this.negative = 0;
    		        return this;
    		      }

    		      this.negative = 0;
    		      this.isubn(num);
    		      this.negative = 1;
    		      return this;
    		    }

    		    // Add without checks
    		    return this._iaddn(num);
    		  };

    		  BN.prototype._iaddn = function _iaddn (num) {
    		    this.words[0] += num;

    		    // Carry
    		    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {
    		      this.words[i] -= 0x4000000;
    		      if (i === this.length - 1) {
    		        this.words[i + 1] = 1;
    		      } else {
    		        this.words[i + 1]++;
    		      }
    		    }
    		    this.length = Math.max(this.length, i + 1);

    		    return this;
    		  };

    		  // Subtract plain number `num` from `this`
    		  BN.prototype.isubn = function isubn (num) {
    		    assert(typeof num === 'number');
    		    assert(num < 0x4000000);
    		    if (num < 0) return this.iaddn(-num);

    		    if (this.negative !== 0) {
    		      this.negative = 0;
    		      this.iaddn(num);
    		      this.negative = 1;
    		      return this;
    		    }

    		    this.words[0] -= num;

    		    if (this.length === 1 && this.words[0] < 0) {
    		      this.words[0] = -this.words[0];
    		      this.negative = 1;
    		    } else {
    		      // Carry
    		      for (var i = 0; i < this.length && this.words[i] < 0; i++) {
    		        this.words[i] += 0x4000000;
    		        this.words[i + 1] -= 1;
    		      }
    		    }

    		    return this.strip();
    		  };

    		  BN.prototype.addn = function addn (num) {
    		    return this.clone().iaddn(num);
    		  };

    		  BN.prototype.subn = function subn (num) {
    		    return this.clone().isubn(num);
    		  };

    		  BN.prototype.iabs = function iabs () {
    		    this.negative = 0;

    		    return this;
    		  };

    		  BN.prototype.abs = function abs () {
    		    return this.clone().iabs();
    		  };

    		  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {
    		    var len = num.length + shift;
    		    var i;

    		    this._expand(len);

    		    var w;
    		    var carry = 0;
    		    for (i = 0; i < num.length; i++) {
    		      w = (this.words[i + shift] | 0) + carry;
    		      var right = (num.words[i] | 0) * mul;
    		      w -= right & 0x3ffffff;
    		      carry = (w >> 26) - ((right / 0x4000000) | 0);
    		      this.words[i + shift] = w & 0x3ffffff;
    		    }
    		    for (; i < this.length - shift; i++) {
    		      w = (this.words[i + shift] | 0) + carry;
    		      carry = w >> 26;
    		      this.words[i + shift] = w & 0x3ffffff;
    		    }

    		    if (carry === 0) return this.strip();

    		    // Subtraction overflow
    		    assert(carry === -1);
    		    carry = 0;
    		    for (i = 0; i < this.length; i++) {
    		      w = -(this.words[i] | 0) + carry;
    		      carry = w >> 26;
    		      this.words[i] = w & 0x3ffffff;
    		    }
    		    this.negative = 1;

    		    return this.strip();
    		  };

    		  BN.prototype._wordDiv = function _wordDiv (num, mode) {
    		    var shift = this.length - num.length;

    		    var a = this.clone();
    		    var b = num;

    		    // Normalize
    		    var bhi = b.words[b.length - 1] | 0;
    		    var bhiBits = this._countBits(bhi);
    		    shift = 26 - bhiBits;
    		    if (shift !== 0) {
    		      b = b.ushln(shift);
    		      a.iushln(shift);
    		      bhi = b.words[b.length - 1] | 0;
    		    }

    		    // Initialize quotient
    		    var m = a.length - b.length;
    		    var q;

    		    if (mode !== 'mod') {
    		      q = new BN(null);
    		      q.length = m + 1;
    		      q.words = new Array(q.length);
    		      for (var i = 0; i < q.length; i++) {
    		        q.words[i] = 0;
    		      }
    		    }

    		    var diff = a.clone()._ishlnsubmul(b, 1, m);
    		    if (diff.negative === 0) {
    		      a = diff;
    		      if (q) {
    		        q.words[m] = 1;
    		      }
    		    }

    		    for (var j = m - 1; j >= 0; j--) {
    		      var qj = (a.words[b.length + j] | 0) * 0x4000000 +
    		        (a.words[b.length + j - 1] | 0);

    		      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max
    		      // (0x7ffffff)
    		      qj = Math.min((qj / bhi) | 0, 0x3ffffff);

    		      a._ishlnsubmul(b, qj, j);
    		      while (a.negative !== 0) {
    		        qj--;
    		        a.negative = 0;
    		        a._ishlnsubmul(b, 1, j);
    		        if (!a.isZero()) {
    		          a.negative ^= 1;
    		        }
    		      }
    		      if (q) {
    		        q.words[j] = qj;
    		      }
    		    }
    		    if (q) {
    		      q.strip();
    		    }
    		    a.strip();

    		    // Denormalize
    		    if (mode !== 'div' && shift !== 0) {
    		      a.iushrn(shift);
    		    }

    		    return {
    		      div: q || null,
    		      mod: a
    		    };
    		  };

    		  // NOTE: 1) `mode` can be set to `mod` to request mod only,
    		  //       to `div` to request div only, or be absent to
    		  //       request both div & mod
    		  //       2) `positive` is true if unsigned mod is requested
    		  BN.prototype.divmod = function divmod (num, mode, positive) {
    		    assert(!num.isZero());

    		    if (this.isZero()) {
    		      return {
    		        div: new BN(0),
    		        mod: new BN(0)
    		      };
    		    }

    		    var div, mod, res;
    		    if (this.negative !== 0 && num.negative === 0) {
    		      res = this.neg().divmod(num, mode);

    		      if (mode !== 'mod') {
    		        div = res.div.neg();
    		      }

    		      if (mode !== 'div') {
    		        mod = res.mod.neg();
    		        if (positive && mod.negative !== 0) {
    		          mod.iadd(num);
    		        }
    		      }

    		      return {
    		        div: div,
    		        mod: mod
    		      };
    		    }

    		    if (this.negative === 0 && num.negative !== 0) {
    		      res = this.divmod(num.neg(), mode);

    		      if (mode !== 'mod') {
    		        div = res.div.neg();
    		      }

    		      return {
    		        div: div,
    		        mod: res.mod
    		      };
    		    }

    		    if ((this.negative & num.negative) !== 0) {
    		      res = this.neg().divmod(num.neg(), mode);

    		      if (mode !== 'div') {
    		        mod = res.mod.neg();
    		        if (positive && mod.negative !== 0) {
    		          mod.isub(num);
    		        }
    		      }

    		      return {
    		        div: res.div,
    		        mod: mod
    		      };
    		    }

    		    // Both numbers are positive at this point

    		    // Strip both numbers to approximate shift value
    		    if (num.length > this.length || this.cmp(num) < 0) {
    		      return {
    		        div: new BN(0),
    		        mod: this
    		      };
    		    }

    		    // Very short reduction
    		    if (num.length === 1) {
    		      if (mode === 'div') {
    		        return {
    		          div: this.divn(num.words[0]),
    		          mod: null
    		        };
    		      }

    		      if (mode === 'mod') {
    		        return {
    		          div: null,
    		          mod: new BN(this.modn(num.words[0]))
    		        };
    		      }

    		      return {
    		        div: this.divn(num.words[0]),
    		        mod: new BN(this.modn(num.words[0]))
    		      };
    		    }

    		    return this._wordDiv(num, mode);
    		  };

    		  // Find `this` / `num`
    		  BN.prototype.div = function div (num) {
    		    return this.divmod(num, 'div', false).div;
    		  };

    		  // Find `this` % `num`
    		  BN.prototype.mod = function mod (num) {
    		    return this.divmod(num, 'mod', false).mod;
    		  };

    		  BN.prototype.umod = function umod (num) {
    		    return this.divmod(num, 'mod', true).mod;
    		  };

    		  // Find Round(`this` / `num`)
    		  BN.prototype.divRound = function divRound (num) {
    		    var dm = this.divmod(num);

    		    // Fast case - exact division
    		    if (dm.mod.isZero()) return dm.div;

    		    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;

    		    var half = num.ushrn(1);
    		    var r2 = num.andln(1);
    		    var cmp = mod.cmp(half);

    		    // Round down
    		    if (cmp < 0 || r2 === 1 && cmp === 0) return dm.div;

    		    // Round up
    		    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);
    		  };

    		  BN.prototype.modn = function modn (num) {
    		    assert(num <= 0x3ffffff);
    		    var p = (1 << 26) % num;

    		    var acc = 0;
    		    for (var i = this.length - 1; i >= 0; i--) {
    		      acc = (p * acc + (this.words[i] | 0)) % num;
    		    }

    		    return acc;
    		  };

    		  // In-place division by number
    		  BN.prototype.idivn = function idivn (num) {
    		    assert(num <= 0x3ffffff);

    		    var carry = 0;
    		    for (var i = this.length - 1; i >= 0; i--) {
    		      var w = (this.words[i] | 0) + carry * 0x4000000;
    		      this.words[i] = (w / num) | 0;
    		      carry = w % num;
    		    }

    		    return this.strip();
    		  };

    		  BN.prototype.divn = function divn (num) {
    		    return this.clone().idivn(num);
    		  };

    		  BN.prototype.egcd = function egcd (p) {
    		    assert(p.negative === 0);
    		    assert(!p.isZero());

    		    var x = this;
    		    var y = p.clone();

    		    if (x.negative !== 0) {
    		      x = x.umod(p);
    		    } else {
    		      x = x.clone();
    		    }

    		    // A * x + B * y = x
    		    var A = new BN(1);
    		    var B = new BN(0);

    		    // C * x + D * y = y
    		    var C = new BN(0);
    		    var D = new BN(1);

    		    var g = 0;

    		    while (x.isEven() && y.isEven()) {
    		      x.iushrn(1);
    		      y.iushrn(1);
    		      ++g;
    		    }

    		    var yp = y.clone();
    		    var xp = x.clone();

    		    while (!x.isZero()) {
    		      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);
    		      if (i > 0) {
    		        x.iushrn(i);
    		        while (i-- > 0) {
    		          if (A.isOdd() || B.isOdd()) {
    		            A.iadd(yp);
    		            B.isub(xp);
    		          }

    		          A.iushrn(1);
    		          B.iushrn(1);
    		        }
    		      }

    		      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);
    		      if (j > 0) {
    		        y.iushrn(j);
    		        while (j-- > 0) {
    		          if (C.isOdd() || D.isOdd()) {
    		            C.iadd(yp);
    		            D.isub(xp);
    		          }

    		          C.iushrn(1);
    		          D.iushrn(1);
    		        }
    		      }

    		      if (x.cmp(y) >= 0) {
    		        x.isub(y);
    		        A.isub(C);
    		        B.isub(D);
    		      } else {
    		        y.isub(x);
    		        C.isub(A);
    		        D.isub(B);
    		      }
    		    }

    		    return {
    		      a: C,
    		      b: D,
    		      gcd: y.iushln(g)
    		    };
    		  };

    		  // This is reduced incarnation of the binary EEA
    		  // above, designated to invert members of the
    		  // _prime_ fields F(p) at a maximal speed
    		  BN.prototype._invmp = function _invmp (p) {
    		    assert(p.negative === 0);
    		    assert(!p.isZero());

    		    var a = this;
    		    var b = p.clone();

    		    if (a.negative !== 0) {
    		      a = a.umod(p);
    		    } else {
    		      a = a.clone();
    		    }

    		    var x1 = new BN(1);
    		    var x2 = new BN(0);

    		    var delta = b.clone();

    		    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {
    		      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);
    		      if (i > 0) {
    		        a.iushrn(i);
    		        while (i-- > 0) {
    		          if (x1.isOdd()) {
    		            x1.iadd(delta);
    		          }

    		          x1.iushrn(1);
    		        }
    		      }

    		      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);
    		      if (j > 0) {
    		        b.iushrn(j);
    		        while (j-- > 0) {
    		          if (x2.isOdd()) {
    		            x2.iadd(delta);
    		          }

    		          x2.iushrn(1);
    		        }
    		      }

    		      if (a.cmp(b) >= 0) {
    		        a.isub(b);
    		        x1.isub(x2);
    		      } else {
    		        b.isub(a);
    		        x2.isub(x1);
    		      }
    		    }

    		    var res;
    		    if (a.cmpn(1) === 0) {
    		      res = x1;
    		    } else {
    		      res = x2;
    		    }

    		    if (res.cmpn(0) < 0) {
    		      res.iadd(p);
    		    }

    		    return res;
    		  };

    		  BN.prototype.gcd = function gcd (num) {
    		    if (this.isZero()) return num.abs();
    		    if (num.isZero()) return this.abs();

    		    var a = this.clone();
    		    var b = num.clone();
    		    a.negative = 0;
    		    b.negative = 0;

    		    // Remove common factor of two
    		    for (var shift = 0; a.isEven() && b.isEven(); shift++) {
    		      a.iushrn(1);
    		      b.iushrn(1);
    		    }

    		    do {
    		      while (a.isEven()) {
    		        a.iushrn(1);
    		      }
    		      while (b.isEven()) {
    		        b.iushrn(1);
    		      }

    		      var r = a.cmp(b);
    		      if (r < 0) {
    		        // Swap `a` and `b` to make `a` always bigger than `b`
    		        var t = a;
    		        a = b;
    		        b = t;
    		      } else if (r === 0 || b.cmpn(1) === 0) {
    		        break;
    		      }

    		      a.isub(b);
    		    } while (true);

    		    return b.iushln(shift);
    		  };

    		  // Invert number in the field F(num)
    		  BN.prototype.invm = function invm (num) {
    		    return this.egcd(num).a.umod(num);
    		  };

    		  BN.prototype.isEven = function isEven () {
    		    return (this.words[0] & 1) === 0;
    		  };

    		  BN.prototype.isOdd = function isOdd () {
    		    return (this.words[0] & 1) === 1;
    		  };

    		  // And first word and num
    		  BN.prototype.andln = function andln (num) {
    		    return this.words[0] & num;
    		  };

    		  // Increment at the bit position in-line
    		  BN.prototype.bincn = function bincn (bit) {
    		    assert(typeof bit === 'number');
    		    var r = bit % 26;
    		    var s = (bit - r) / 26;
    		    var q = 1 << r;

    		    // Fast case: bit is much higher than all existing words
    		    if (this.length <= s) {
    		      this._expand(s + 1);
    		      this.words[s] |= q;
    		      return this;
    		    }

    		    // Add bit and propagate, if needed
    		    var carry = q;
    		    for (var i = s; carry !== 0 && i < this.length; i++) {
    		      var w = this.words[i] | 0;
    		      w += carry;
    		      carry = w >>> 26;
    		      w &= 0x3ffffff;
    		      this.words[i] = w;
    		    }
    		    if (carry !== 0) {
    		      this.words[i] = carry;
    		      this.length++;
    		    }
    		    return this;
    		  };

    		  BN.prototype.isZero = function isZero () {
    		    return this.length === 1 && this.words[0] === 0;
    		  };

    		  BN.prototype.cmpn = function cmpn (num) {
    		    var negative = num < 0;

    		    if (this.negative !== 0 && !negative) return -1;
    		    if (this.negative === 0 && negative) return 1;

    		    this.strip();

    		    var res;
    		    if (this.length > 1) {
    		      res = 1;
    		    } else {
    		      if (negative) {
    		        num = -num;
    		      }

    		      assert(num <= 0x3ffffff, 'Number is too big');

    		      var w = this.words[0] | 0;
    		      res = w === num ? 0 : w < num ? -1 : 1;
    		    }
    		    if (this.negative !== 0) return -res | 0;
    		    return res;
    		  };

    		  // Compare two numbers and return:
    		  // 1 - if `this` > `num`
    		  // 0 - if `this` == `num`
    		  // -1 - if `this` < `num`
    		  BN.prototype.cmp = function cmp (num) {
    		    if (this.negative !== 0 && num.negative === 0) return -1;
    		    if (this.negative === 0 && num.negative !== 0) return 1;

    		    var res = this.ucmp(num);
    		    if (this.negative !== 0) return -res | 0;
    		    return res;
    		  };

    		  // Unsigned comparison
    		  BN.prototype.ucmp = function ucmp (num) {
    		    // At this point both numbers have the same sign
    		    if (this.length > num.length) return 1;
    		    if (this.length < num.length) return -1;

    		    var res = 0;
    		    for (var i = this.length - 1; i >= 0; i--) {
    		      var a = this.words[i] | 0;
    		      var b = num.words[i] | 0;

    		      if (a === b) continue;
    		      if (a < b) {
    		        res = -1;
    		      } else if (a > b) {
    		        res = 1;
    		      }
    		      break;
    		    }
    		    return res;
    		  };

    		  BN.prototype.gtn = function gtn (num) {
    		    return this.cmpn(num) === 1;
    		  };

    		  BN.prototype.gt = function gt (num) {
    		    return this.cmp(num) === 1;
    		  };

    		  BN.prototype.gten = function gten (num) {
    		    return this.cmpn(num) >= 0;
    		  };

    		  BN.prototype.gte = function gte (num) {
    		    return this.cmp(num) >= 0;
    		  };

    		  BN.prototype.ltn = function ltn (num) {
    		    return this.cmpn(num) === -1;
    		  };

    		  BN.prototype.lt = function lt (num) {
    		    return this.cmp(num) === -1;
    		  };

    		  BN.prototype.lten = function lten (num) {
    		    return this.cmpn(num) <= 0;
    		  };

    		  BN.prototype.lte = function lte (num) {
    		    return this.cmp(num) <= 0;
    		  };

    		  BN.prototype.eqn = function eqn (num) {
    		    return this.cmpn(num) === 0;
    		  };

    		  BN.prototype.eq = function eq (num) {
    		    return this.cmp(num) === 0;
    		  };

    		  //
    		  // A reduce context, could be using montgomery or something better, depending
    		  // on the `m` itself.
    		  //
    		  BN.red = function red (num) {
    		    return new Red(num);
    		  };

    		  BN.prototype.toRed = function toRed (ctx) {
    		    assert(!this.red, 'Already a number in reduction context');
    		    assert(this.negative === 0, 'red works only with positives');
    		    return ctx.convertTo(this)._forceRed(ctx);
    		  };

    		  BN.prototype.fromRed = function fromRed () {
    		    assert(this.red, 'fromRed works only with numbers in reduction context');
    		    return this.red.convertFrom(this);
    		  };

    		  BN.prototype._forceRed = function _forceRed (ctx) {
    		    this.red = ctx;
    		    return this;
    		  };

    		  BN.prototype.forceRed = function forceRed (ctx) {
    		    assert(!this.red, 'Already a number in reduction context');
    		    return this._forceRed(ctx);
    		  };

    		  BN.prototype.redAdd = function redAdd (num) {
    		    assert(this.red, 'redAdd works only with red numbers');
    		    return this.red.add(this, num);
    		  };

    		  BN.prototype.redIAdd = function redIAdd (num) {
    		    assert(this.red, 'redIAdd works only with red numbers');
    		    return this.red.iadd(this, num);
    		  };

    		  BN.prototype.redSub = function redSub (num) {
    		    assert(this.red, 'redSub works only with red numbers');
    		    return this.red.sub(this, num);
    		  };

    		  BN.prototype.redISub = function redISub (num) {
    		    assert(this.red, 'redISub works only with red numbers');
    		    return this.red.isub(this, num);
    		  };

    		  BN.prototype.redShl = function redShl (num) {
    		    assert(this.red, 'redShl works only with red numbers');
    		    return this.red.shl(this, num);
    		  };

    		  BN.prototype.redMul = function redMul (num) {
    		    assert(this.red, 'redMul works only with red numbers');
    		    this.red._verify2(this, num);
    		    return this.red.mul(this, num);
    		  };

    		  BN.prototype.redIMul = function redIMul (num) {
    		    assert(this.red, 'redMul works only with red numbers');
    		    this.red._verify2(this, num);
    		    return this.red.imul(this, num);
    		  };

    		  BN.prototype.redSqr = function redSqr () {
    		    assert(this.red, 'redSqr works only with red numbers');
    		    this.red._verify1(this);
    		    return this.red.sqr(this);
    		  };

    		  BN.prototype.redISqr = function redISqr () {
    		    assert(this.red, 'redISqr works only with red numbers');
    		    this.red._verify1(this);
    		    return this.red.isqr(this);
    		  };

    		  // Square root over p
    		  BN.prototype.redSqrt = function redSqrt () {
    		    assert(this.red, 'redSqrt works only with red numbers');
    		    this.red._verify1(this);
    		    return this.red.sqrt(this);
    		  };

    		  BN.prototype.redInvm = function redInvm () {
    		    assert(this.red, 'redInvm works only with red numbers');
    		    this.red._verify1(this);
    		    return this.red.invm(this);
    		  };

    		  // Return negative clone of `this` % `red modulo`
    		  BN.prototype.redNeg = function redNeg () {
    		    assert(this.red, 'redNeg works only with red numbers');
    		    this.red._verify1(this);
    		    return this.red.neg(this);
    		  };

    		  BN.prototype.redPow = function redPow (num) {
    		    assert(this.red && !num.red, 'redPow(normalNum)');
    		    this.red._verify1(this);
    		    return this.red.pow(this, num);
    		  };

    		  // Prime numbers with efficient reduction
    		  var primes = {
    		    k256: null,
    		    p224: null,
    		    p192: null,
    		    p25519: null
    		  };

    		  // Pseudo-Mersenne prime
    		  function MPrime (name, p) {
    		    // P = 2 ^ N - K
    		    this.name = name;
    		    this.p = new BN(p, 16);
    		    this.n = this.p.bitLength();
    		    this.k = new BN(1).iushln(this.n).isub(this.p);

    		    this.tmp = this._tmp();
    		  }

    		  MPrime.prototype._tmp = function _tmp () {
    		    var tmp = new BN(null);
    		    tmp.words = new Array(Math.ceil(this.n / 13));
    		    return tmp;
    		  };

    		  MPrime.prototype.ireduce = function ireduce (num) {
    		    // Assumes that `num` is less than `P^2`
    		    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)
    		    var r = num;
    		    var rlen;

    		    do {
    		      this.split(r, this.tmp);
    		      r = this.imulK(r);
    		      r = r.iadd(this.tmp);
    		      rlen = r.bitLength();
    		    } while (rlen > this.n);

    		    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);
    		    if (cmp === 0) {
    		      r.words[0] = 0;
    		      r.length = 1;
    		    } else if (cmp > 0) {
    		      r.isub(this.p);
    		    } else {
    		      if (r.strip !== undefined) {
    		        // r is BN v4 instance
    		        r.strip();
    		      } else {
    		        // r is BN v5 instance
    		        r._strip();
    		      }
    		    }

    		    return r;
    		  };

    		  MPrime.prototype.split = function split (input, out) {
    		    input.iushrn(this.n, 0, out);
    		  };

    		  MPrime.prototype.imulK = function imulK (num) {
    		    return num.imul(this.k);
    		  };

    		  function K256 () {
    		    MPrime.call(
    		      this,
    		      'k256',
    		      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');
    		  }
    		  inherits(K256, MPrime);

    		  K256.prototype.split = function split (input, output) {
    		    // 256 = 9 * 26 + 22
    		    var mask = 0x3fffff;

    		    var outLen = Math.min(input.length, 9);
    		    for (var i = 0; i < outLen; i++) {
    		      output.words[i] = input.words[i];
    		    }
    		    output.length = outLen;

    		    if (input.length <= 9) {
    		      input.words[0] = 0;
    		      input.length = 1;
    		      return;
    		    }

    		    // Shift by 9 limbs
    		    var prev = input.words[9];
    		    output.words[output.length++] = prev & mask;

    		    for (i = 10; i < input.length; i++) {
    		      var next = input.words[i] | 0;
    		      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);
    		      prev = next;
    		    }
    		    prev >>>= 22;
    		    input.words[i - 10] = prev;
    		    if (prev === 0 && input.length > 10) {
    		      input.length -= 10;
    		    } else {
    		      input.length -= 9;
    		    }
    		  };

    		  K256.prototype.imulK = function imulK (num) {
    		    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]
    		    num.words[num.length] = 0;
    		    num.words[num.length + 1] = 0;
    		    num.length += 2;

    		    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390
    		    var lo = 0;
    		    for (var i = 0; i < num.length; i++) {
    		      var w = num.words[i] | 0;
    		      lo += w * 0x3d1;
    		      num.words[i] = lo & 0x3ffffff;
    		      lo = w * 0x40 + ((lo / 0x4000000) | 0);
    		    }

    		    // Fast length reduction
    		    if (num.words[num.length - 1] === 0) {
    		      num.length--;
    		      if (num.words[num.length - 1] === 0) {
    		        num.length--;
    		      }
    		    }
    		    return num;
    		  };

    		  function P224 () {
    		    MPrime.call(
    		      this,
    		      'p224',
    		      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');
    		  }
    		  inherits(P224, MPrime);

    		  function P192 () {
    		    MPrime.call(
    		      this,
    		      'p192',
    		      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');
    		  }
    		  inherits(P192, MPrime);

    		  function P25519 () {
    		    // 2 ^ 255 - 19
    		    MPrime.call(
    		      this,
    		      '25519',
    		      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');
    		  }
    		  inherits(P25519, MPrime);

    		  P25519.prototype.imulK = function imulK (num) {
    		    // K = 0x13
    		    var carry = 0;
    		    for (var i = 0; i < num.length; i++) {
    		      var hi = (num.words[i] | 0) * 0x13 + carry;
    		      var lo = hi & 0x3ffffff;
    		      hi >>>= 26;

    		      num.words[i] = lo;
    		      carry = hi;
    		    }
    		    if (carry !== 0) {
    		      num.words[num.length++] = carry;
    		    }
    		    return num;
    		  };

    		  // Exported mostly for testing purposes, use plain name instead
    		  BN._prime = function prime (name) {
    		    // Cached version of prime
    		    if (primes[name]) return primes[name];

    		    var prime;
    		    if (name === 'k256') {
    		      prime = new K256();
    		    } else if (name === 'p224') {
    		      prime = new P224();
    		    } else if (name === 'p192') {
    		      prime = new P192();
    		    } else if (name === 'p25519') {
    		      prime = new P25519();
    		    } else {
    		      throw new Error('Unknown prime ' + name);
    		    }
    		    primes[name] = prime;

    		    return prime;
    		  };

    		  //
    		  // Base reduction engine
    		  //
    		  function Red (m) {
    		    if (typeof m === 'string') {
    		      var prime = BN._prime(m);
    		      this.m = prime.p;
    		      this.prime = prime;
    		    } else {
    		      assert(m.gtn(1), 'modulus must be greater than 1');
    		      this.m = m;
    		      this.prime = null;
    		    }
    		  }

    		  Red.prototype._verify1 = function _verify1 (a) {
    		    assert(a.negative === 0, 'red works only with positives');
    		    assert(a.red, 'red works only with red numbers');
    		  };

    		  Red.prototype._verify2 = function _verify2 (a, b) {
    		    assert((a.negative | b.negative) === 0, 'red works only with positives');
    		    assert(a.red && a.red === b.red,
    		      'red works only with red numbers');
    		  };

    		  Red.prototype.imod = function imod (a) {
    		    if (this.prime) return this.prime.ireduce(a)._forceRed(this);
    		    return a.umod(this.m)._forceRed(this);
    		  };

    		  Red.prototype.neg = function neg (a) {
    		    if (a.isZero()) {
    		      return a.clone();
    		    }

    		    return this.m.sub(a)._forceRed(this);
    		  };

    		  Red.prototype.add = function add (a, b) {
    		    this._verify2(a, b);

    		    var res = a.add(b);
    		    if (res.cmp(this.m) >= 0) {
    		      res.isub(this.m);
    		    }
    		    return res._forceRed(this);
    		  };

    		  Red.prototype.iadd = function iadd (a, b) {
    		    this._verify2(a, b);

    		    var res = a.iadd(b);
    		    if (res.cmp(this.m) >= 0) {
    		      res.isub(this.m);
    		    }
    		    return res;
    		  };

    		  Red.prototype.sub = function sub (a, b) {
    		    this._verify2(a, b);

    		    var res = a.sub(b);
    		    if (res.cmpn(0) < 0) {
    		      res.iadd(this.m);
    		    }
    		    return res._forceRed(this);
    		  };

    		  Red.prototype.isub = function isub (a, b) {
    		    this._verify2(a, b);

    		    var res = a.isub(b);
    		    if (res.cmpn(0) < 0) {
    		      res.iadd(this.m);
    		    }
    		    return res;
    		  };

    		  Red.prototype.shl = function shl (a, num) {
    		    this._verify1(a);
    		    return this.imod(a.ushln(num));
    		  };

    		  Red.prototype.imul = function imul (a, b) {
    		    this._verify2(a, b);
    		    return this.imod(a.imul(b));
    		  };

    		  Red.prototype.mul = function mul (a, b) {
    		    this._verify2(a, b);
    		    return this.imod(a.mul(b));
    		  };

    		  Red.prototype.isqr = function isqr (a) {
    		    return this.imul(a, a.clone());
    		  };

    		  Red.prototype.sqr = function sqr (a) {
    		    return this.mul(a, a);
    		  };

    		  Red.prototype.sqrt = function sqrt (a) {
    		    if (a.isZero()) return a.clone();

    		    var mod3 = this.m.andln(3);
    		    assert(mod3 % 2 === 1);

    		    // Fast case
    		    if (mod3 === 3) {
    		      var pow = this.m.add(new BN(1)).iushrn(2);
    		      return this.pow(a, pow);
    		    }

    		    // Tonelli-Shanks algorithm (Totally unoptimized and slow)
    		    //
    		    // Find Q and S, that Q * 2 ^ S = (P - 1)
    		    var q = this.m.subn(1);
    		    var s = 0;
    		    while (!q.isZero() && q.andln(1) === 0) {
    		      s++;
    		      q.iushrn(1);
    		    }
    		    assert(!q.isZero());

    		    var one = new BN(1).toRed(this);
    		    var nOne = one.redNeg();

    		    // Find quadratic non-residue
    		    // NOTE: Max is such because of generalized Riemann hypothesis.
    		    var lpow = this.m.subn(1).iushrn(1);
    		    var z = this.m.bitLength();
    		    z = new BN(2 * z * z).toRed(this);

    		    while (this.pow(z, lpow).cmp(nOne) !== 0) {
    		      z.redIAdd(nOne);
    		    }

    		    var c = this.pow(z, q);
    		    var r = this.pow(a, q.addn(1).iushrn(1));
    		    var t = this.pow(a, q);
    		    var m = s;
    		    while (t.cmp(one) !== 0) {
    		      var tmp = t;
    		      for (var i = 0; tmp.cmp(one) !== 0; i++) {
    		        tmp = tmp.redSqr();
    		      }
    		      assert(i < m);
    		      var b = this.pow(c, new BN(1).iushln(m - i - 1));

    		      r = r.redMul(b);
    		      c = b.redSqr();
    		      t = t.redMul(c);
    		      m = i;
    		    }

    		    return r;
    		  };

    		  Red.prototype.invm = function invm (a) {
    		    var inv = a._invmp(this.m);
    		    if (inv.negative !== 0) {
    		      inv.negative = 0;
    		      return this.imod(inv).redNeg();
    		    } else {
    		      return this.imod(inv);
    		    }
    		  };

    		  Red.prototype.pow = function pow (a, num) {
    		    if (num.isZero()) return new BN(1).toRed(this);
    		    if (num.cmpn(1) === 0) return a.clone();

    		    var windowSize = 4;
    		    var wnd = new Array(1 << windowSize);
    		    wnd[0] = new BN(1).toRed(this);
    		    wnd[1] = a;
    		    for (var i = 2; i < wnd.length; i++) {
    		      wnd[i] = this.mul(wnd[i - 1], a);
    		    }

    		    var res = wnd[0];
    		    var current = 0;
    		    var currentLen = 0;
    		    var start = num.bitLength() % 26;
    		    if (start === 0) {
    		      start = 26;
    		    }

    		    for (i = num.length - 1; i >= 0; i--) {
    		      var word = num.words[i];
    		      for (var j = start - 1; j >= 0; j--) {
    		        var bit = (word >> j) & 1;
    		        if (res !== wnd[0]) {
    		          res = this.sqr(res);
    		        }

    		        if (bit === 0 && current === 0) {
    		          currentLen = 0;
    		          continue;
    		        }

    		        current <<= 1;
    		        current |= bit;
    		        currentLen++;
    		        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;

    		        res = this.mul(res, wnd[current]);
    		        currentLen = 0;
    		        current = 0;
    		      }
    		      start = 26;
    		    }

    		    return res;
    		  };

    		  Red.prototype.convertTo = function convertTo (num) {
    		    var r = num.umod(this.m);

    		    return r === num ? r.clone() : r;
    		  };

    		  Red.prototype.convertFrom = function convertFrom (num) {
    		    var res = num.clone();
    		    res.red = null;
    		    return res;
    		  };

    		  //
    		  // Montgomery method engine
    		  //

    		  BN.mont = function mont (num) {
    		    return new Mont(num);
    		  };

    		  function Mont (m) {
    		    Red.call(this, m);

    		    this.shift = this.m.bitLength();
    		    if (this.shift % 26 !== 0) {
    		      this.shift += 26 - (this.shift % 26);
    		    }

    		    this.r = new BN(1).iushln(this.shift);
    		    this.r2 = this.imod(this.r.sqr());
    		    this.rinv = this.r._invmp(this.m);

    		    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);
    		    this.minv = this.minv.umod(this.r);
    		    this.minv = this.r.sub(this.minv);
    		  }
    		  inherits(Mont, Red);

    		  Mont.prototype.convertTo = function convertTo (num) {
    		    return this.imod(num.ushln(this.shift));
    		  };

    		  Mont.prototype.convertFrom = function convertFrom (num) {
    		    var r = this.imod(num.mul(this.rinv));
    		    r.red = null;
    		    return r;
    		  };

    		  Mont.prototype.imul = function imul (a, b) {
    		    if (a.isZero() || b.isZero()) {
    		      a.words[0] = 0;
    		      a.length = 1;
    		      return a;
    		    }

    		    var t = a.imul(b);
    		    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
    		    var u = t.isub(c).iushrn(this.shift);
    		    var res = u;

    		    if (u.cmp(this.m) >= 0) {
    		      res = u.isub(this.m);
    		    } else if (u.cmpn(0) < 0) {
    		      res = u.iadd(this.m);
    		    }

    		    return res._forceRed(this);
    		  };

    		  Mont.prototype.mul = function mul (a, b) {
    		    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);

    		    var t = a.mul(b);
    		    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
    		    var u = t.isub(c).iushrn(this.shift);
    		    var res = u;
    		    if (u.cmp(this.m) >= 0) {
    		      res = u.isub(this.m);
    		    } else if (u.cmpn(0) < 0) {
    		      res = u.iadd(this.m);
    		    }

    		    return res._forceRed(this);
    		  };

    		  Mont.prototype.invm = function invm (a) {
    		    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R
    		    var res = this.imod(a._invmp(this.m).mul(this.r2));
    		    return res._forceRed(this);
    		  };
    		})(module, bn$6); 
    	} (bn$7));
    	return bn$7.exports;
    }

    var minimalisticAssert;
    var hasRequiredMinimalisticAssert;

    function requireMinimalisticAssert () {
    	if (hasRequiredMinimalisticAssert) return minimalisticAssert;
    	hasRequiredMinimalisticAssert = 1;
    	minimalisticAssert = assert;

    	function assert(val, msg) {
    	  if (!val)
    	    throw new Error(msg || 'Assertion failed');
    	}

    	assert.equal = function assertEqual(l, r, msg) {
    	  if (l != r)
    	    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));
    	};
    	return minimalisticAssert;
    }

    var utils$4 = {};

    var hasRequiredUtils$5;

    function requireUtils$5 () {
    	if (hasRequiredUtils$5) return utils$4;
    	hasRequiredUtils$5 = 1;
    	(function (exports) {

    		var utils = exports;

    		function toArray(msg, enc) {
    		  if (Array.isArray(msg))
    		    return msg.slice();
    		  if (!msg)
    		    return [];
    		  var res = [];
    		  if (typeof msg !== 'string') {
    		    for (var i = 0; i < msg.length; i++)
    		      res[i] = msg[i] | 0;
    		    return res;
    		  }
    		  if (enc === 'hex') {
    		    msg = msg.replace(/[^a-z0-9]+/ig, '');
    		    if (msg.length % 2 !== 0)
    		      msg = '0' + msg;
    		    for (var i = 0; i < msg.length; i += 2)
    		      res.push(parseInt(msg[i] + msg[i + 1], 16));
    		  } else {
    		    for (var i = 0; i < msg.length; i++) {
    		      var c = msg.charCodeAt(i);
    		      var hi = c >> 8;
    		      var lo = c & 0xff;
    		      if (hi)
    		        res.push(hi, lo);
    		      else
    		        res.push(lo);
    		    }
    		  }
    		  return res;
    		}
    		utils.toArray = toArray;

    		function zero2(word) {
    		  if (word.length === 1)
    		    return '0' + word;
    		  else
    		    return word;
    		}
    		utils.zero2 = zero2;

    		function toHex(msg) {
    		  var res = '';
    		  for (var i = 0; i < msg.length; i++)
    		    res += zero2(msg[i].toString(16));
    		  return res;
    		}
    		utils.toHex = toHex;

    		utils.encode = function encode(arr, enc) {
    		  if (enc === 'hex')
    		    return toHex(arr);
    		  else
    		    return arr;
    		}; 
    	} (utils$4));
    	return utils$4;
    }

    var hasRequiredUtils$4;

    function requireUtils$4 () {
    	if (hasRequiredUtils$4) return utils$5;
    	hasRequiredUtils$4 = 1;
    	(function (exports) {

    		var utils = exports;
    		var BN = requireBn();
    		var minAssert = requireMinimalisticAssert();
    		var minUtils = requireUtils$5();

    		utils.assert = minAssert;
    		utils.toArray = minUtils.toArray;
    		utils.zero2 = minUtils.zero2;
    		utils.toHex = minUtils.toHex;
    		utils.encode = minUtils.encode;

    		// Represent num in a w-NAF form
    		function getNAF(num, w, bits) {
    		  var naf = new Array(Math.max(num.bitLength(), bits) + 1);
    		  var i;
    		  for (i = 0; i < naf.length; i += 1) {
    		    naf[i] = 0;
    		  }

    		  var ws = 1 << (w + 1);
    		  var k = num.clone();

    		  for (i = 0; i < naf.length; i++) {
    		    var z;
    		    var mod = k.andln(ws - 1);
    		    if (k.isOdd()) {
    		      if (mod > (ws >> 1) - 1)
    		        z = (ws >> 1) - mod;
    		      else
    		        z = mod;
    		      k.isubn(z);
    		    } else {
    		      z = 0;
    		    }

    		    naf[i] = z;
    		    k.iushrn(1);
    		  }

    		  return naf;
    		}
    		utils.getNAF = getNAF;

    		// Represent k1, k2 in a Joint Sparse Form
    		function getJSF(k1, k2) {
    		  var jsf = [
    		    [],
    		    [],
    		  ];

    		  k1 = k1.clone();
    		  k2 = k2.clone();
    		  var d1 = 0;
    		  var d2 = 0;
    		  var m8;
    		  while (k1.cmpn(-d1) > 0 || k2.cmpn(-d2) > 0) {
    		    // First phase
    		    var m14 = (k1.andln(3) + d1) & 3;
    		    var m24 = (k2.andln(3) + d2) & 3;
    		    if (m14 === 3)
    		      m14 = -1;
    		    if (m24 === 3)
    		      m24 = -1;
    		    var u1;
    		    if ((m14 & 1) === 0) {
    		      u1 = 0;
    		    } else {
    		      m8 = (k1.andln(7) + d1) & 7;
    		      if ((m8 === 3 || m8 === 5) && m24 === 2)
    		        u1 = -m14;
    		      else
    		        u1 = m14;
    		    }
    		    jsf[0].push(u1);

    		    var u2;
    		    if ((m24 & 1) === 0) {
    		      u2 = 0;
    		    } else {
    		      m8 = (k2.andln(7) + d2) & 7;
    		      if ((m8 === 3 || m8 === 5) && m14 === 2)
    		        u2 = -m24;
    		      else
    		        u2 = m24;
    		    }
    		    jsf[1].push(u2);

    		    // Second phase
    		    if (2 * d1 === u1 + 1)
    		      d1 = 1 - d1;
    		    if (2 * d2 === u2 + 1)
    		      d2 = 1 - d2;
    		    k1.iushrn(1);
    		    k2.iushrn(1);
    		  }

    		  return jsf;
    		}
    		utils.getJSF = getJSF;

    		function cachedProperty(obj, name, computer) {
    		  var key = '_' + name;
    		  obj.prototype[name] = function cachedProperty() {
    		    return this[key] !== undefined ? this[key] :
    		      this[key] = computer.call(this);
    		  };
    		}
    		utils.cachedProperty = cachedProperty;

    		function parseBytes(bytes) {
    		  return typeof bytes === 'string' ? utils.toArray(bytes, 'hex') :
    		    bytes;
    		}
    		utils.parseBytes = parseBytes;

    		function intFromLE(bytes) {
    		  return new BN(bytes, 'hex', 'le');
    		}
    		utils.intFromLE = intFromLE; 
    	} (utils$5));
    	return utils$5;
    }

    var brorand = {exports: {}};

    var hasRequiredBrorand;

    function requireBrorand () {
    	if (hasRequiredBrorand) return brorand.exports;
    	hasRequiredBrorand = 1;
    	var r;

    	brorand.exports = function rand(len) {
    	  if (!r)
    	    r = new Rand(null);

    	  return r.generate(len);
    	};

    	function Rand(rand) {
    	  this.rand = rand;
    	}
    	brorand.exports.Rand = Rand;

    	Rand.prototype.generate = function generate(len) {
    	  return this._rand(len);
    	};

    	// Emulate crypto API using randy
    	Rand.prototype._rand = function _rand(n) {
    	  if (this.rand.getBytes)
    	    return this.rand.getBytes(n);

    	  var res = new Uint8Array(n);
    	  for (var i = 0; i < res.length; i++)
    	    res[i] = this.rand.getByte();
    	  return res;
    	};

    	if (typeof self === 'object') {
    	  if (self.crypto && self.crypto.getRandomValues) {
    	    // Modern browsers
    	    Rand.prototype._rand = function _rand(n) {
    	      var arr = new Uint8Array(n);
    	      self.crypto.getRandomValues(arr);
    	      return arr;
    	    };
    	  } else if (self.msCrypto && self.msCrypto.getRandomValues) {
    	    // IE
    	    Rand.prototype._rand = function _rand(n) {
    	      var arr = new Uint8Array(n);
    	      self.msCrypto.getRandomValues(arr);
    	      return arr;
    	    };

    	  // Safari's WebWorkers do not have `crypto`
    	  } else if (typeof window === 'object') {
    	    // Old junk
    	    Rand.prototype._rand = function() {
    	      throw new Error('Not implemented yet');
    	    };
    	  }
    	} else {
    	  // Node.js or Web worker with no crypto support
    	  try {
    	    var crypto = require('crypto');
    	    if (typeof crypto.randomBytes !== 'function')
    	      throw new Error('Not supported');

    	    Rand.prototype._rand = function _rand(n) {
    	      return crypto.randomBytes(n);
    	    };
    	  } catch (e) {
    	  }
    	}
    	return brorand.exports;
    }

    var curve = {};

    var base$1;
    var hasRequiredBase;

    function requireBase () {
    	if (hasRequiredBase) return base$1;
    	hasRequiredBase = 1;

    	var BN = requireBn();
    	var utils = requireUtils$4();
    	var getNAF = utils.getNAF;
    	var getJSF = utils.getJSF;
    	var assert = utils.assert;

    	function BaseCurve(type, conf) {
    	  this.type = type;
    	  this.p = new BN(conf.p, 16);

    	  // Use Montgomery, when there is no fast reduction for the prime
    	  this.red = conf.prime ? BN.red(conf.prime) : BN.mont(this.p);

    	  // Useful for many curves
    	  this.zero = new BN(0).toRed(this.red);
    	  this.one = new BN(1).toRed(this.red);
    	  this.two = new BN(2).toRed(this.red);

    	  // Curve configuration, optional
    	  this.n = conf.n && new BN(conf.n, 16);
    	  this.g = conf.g && this.pointFromJSON(conf.g, conf.gRed);

    	  // Temporary arrays
    	  this._wnafT1 = new Array(4);
    	  this._wnafT2 = new Array(4);
    	  this._wnafT3 = new Array(4);
    	  this._wnafT4 = new Array(4);

    	  this._bitLength = this.n ? this.n.bitLength() : 0;

    	  // Generalized Greg Maxwell's trick
    	  var adjustCount = this.n && this.p.div(this.n);
    	  if (!adjustCount || adjustCount.cmpn(100) > 0) {
    	    this.redN = null;
    	  } else {
    	    this._maxwellTrick = true;
    	    this.redN = this.n.toRed(this.red);
    	  }
    	}
    	base$1 = BaseCurve;

    	BaseCurve.prototype.point = function point() {
    	  throw new Error('Not implemented');
    	};

    	BaseCurve.prototype.validate = function validate() {
    	  throw new Error('Not implemented');
    	};

    	BaseCurve.prototype._fixedNafMul = function _fixedNafMul(p, k) {
    	  assert(p.precomputed);
    	  var doubles = p._getDoubles();

    	  var naf = getNAF(k, 1, this._bitLength);
    	  var I = (1 << (doubles.step + 1)) - (doubles.step % 2 === 0 ? 2 : 1);
    	  I /= 3;

    	  // Translate into more windowed form
    	  var repr = [];
    	  var j;
    	  var nafW;
    	  for (j = 0; j < naf.length; j += doubles.step) {
    	    nafW = 0;
    	    for (var l = j + doubles.step - 1; l >= j; l--)
    	      nafW = (nafW << 1) + naf[l];
    	    repr.push(nafW);
    	  }

    	  var a = this.jpoint(null, null, null);
    	  var b = this.jpoint(null, null, null);
    	  for (var i = I; i > 0; i--) {
    	    for (j = 0; j < repr.length; j++) {
    	      nafW = repr[j];
    	      if (nafW === i)
    	        b = b.mixedAdd(doubles.points[j]);
    	      else if (nafW === -i)
    	        b = b.mixedAdd(doubles.points[j].neg());
    	    }
    	    a = a.add(b);
    	  }
    	  return a.toP();
    	};

    	BaseCurve.prototype._wnafMul = function _wnafMul(p, k) {
    	  var w = 4;

    	  // Precompute window
    	  var nafPoints = p._getNAFPoints(w);
    	  w = nafPoints.wnd;
    	  var wnd = nafPoints.points;

    	  // Get NAF form
    	  var naf = getNAF(k, w, this._bitLength);

    	  // Add `this`*(N+1) for every w-NAF index
    	  var acc = this.jpoint(null, null, null);
    	  for (var i = naf.length - 1; i >= 0; i--) {
    	    // Count zeroes
    	    for (var l = 0; i >= 0 && naf[i] === 0; i--)
    	      l++;
    	    if (i >= 0)
    	      l++;
    	    acc = acc.dblp(l);

    	    if (i < 0)
    	      break;
    	    var z = naf[i];
    	    assert(z !== 0);
    	    if (p.type === 'affine') {
    	      // J +- P
    	      if (z > 0)
    	        acc = acc.mixedAdd(wnd[(z - 1) >> 1]);
    	      else
    	        acc = acc.mixedAdd(wnd[(-z - 1) >> 1].neg());
    	    } else {
    	      // J +- J
    	      if (z > 0)
    	        acc = acc.add(wnd[(z - 1) >> 1]);
    	      else
    	        acc = acc.add(wnd[(-z - 1) >> 1].neg());
    	    }
    	  }
    	  return p.type === 'affine' ? acc.toP() : acc;
    	};

    	BaseCurve.prototype._wnafMulAdd = function _wnafMulAdd(defW,
    	  points,
    	  coeffs,
    	  len,
    	  jacobianResult) {
    	  var wndWidth = this._wnafT1;
    	  var wnd = this._wnafT2;
    	  var naf = this._wnafT3;

    	  // Fill all arrays
    	  var max = 0;
    	  var i;
    	  var j;
    	  var p;
    	  for (i = 0; i < len; i++) {
    	    p = points[i];
    	    var nafPoints = p._getNAFPoints(defW);
    	    wndWidth[i] = nafPoints.wnd;
    	    wnd[i] = nafPoints.points;
    	  }

    	  // Comb small window NAFs
    	  for (i = len - 1; i >= 1; i -= 2) {
    	    var a = i - 1;
    	    var b = i;
    	    if (wndWidth[a] !== 1 || wndWidth[b] !== 1) {
    	      naf[a] = getNAF(coeffs[a], wndWidth[a], this._bitLength);
    	      naf[b] = getNAF(coeffs[b], wndWidth[b], this._bitLength);
    	      max = Math.max(naf[a].length, max);
    	      max = Math.max(naf[b].length, max);
    	      continue;
    	    }

    	    var comb = [
    	      points[a], /* 1 */
    	      null, /* 3 */
    	      null, /* 5 */
    	      points[b], /* 7 */
    	    ];

    	    // Try to avoid Projective points, if possible
    	    if (points[a].y.cmp(points[b].y) === 0) {
    	      comb[1] = points[a].add(points[b]);
    	      comb[2] = points[a].toJ().mixedAdd(points[b].neg());
    	    } else if (points[a].y.cmp(points[b].y.redNeg()) === 0) {
    	      comb[1] = points[a].toJ().mixedAdd(points[b]);
    	      comb[2] = points[a].add(points[b].neg());
    	    } else {
    	      comb[1] = points[a].toJ().mixedAdd(points[b]);
    	      comb[2] = points[a].toJ().mixedAdd(points[b].neg());
    	    }

    	    var index = [
    	      -3, /* -1 -1 */
    	      -1, /* -1 0 */
    	      -5, /* -1 1 */
    	      -7, /* 0 -1 */
    	      0, /* 0 0 */
    	      7, /* 0 1 */
    	      5, /* 1 -1 */
    	      1, /* 1 0 */
    	      3,  /* 1 1 */
    	    ];

    	    var jsf = getJSF(coeffs[a], coeffs[b]);
    	    max = Math.max(jsf[0].length, max);
    	    naf[a] = new Array(max);
    	    naf[b] = new Array(max);
    	    for (j = 0; j < max; j++) {
    	      var ja = jsf[0][j] | 0;
    	      var jb = jsf[1][j] | 0;

    	      naf[a][j] = index[(ja + 1) * 3 + (jb + 1)];
    	      naf[b][j] = 0;
    	      wnd[a] = comb;
    	    }
    	  }

    	  var acc = this.jpoint(null, null, null);
    	  var tmp = this._wnafT4;
    	  for (i = max; i >= 0; i--) {
    	    var k = 0;

    	    while (i >= 0) {
    	      var zero = true;
    	      for (j = 0; j < len; j++) {
    	        tmp[j] = naf[j][i] | 0;
    	        if (tmp[j] !== 0)
    	          zero = false;
    	      }
    	      if (!zero)
    	        break;
    	      k++;
    	      i--;
    	    }
    	    if (i >= 0)
    	      k++;
    	    acc = acc.dblp(k);
    	    if (i < 0)
    	      break;

    	    for (j = 0; j < len; j++) {
    	      var z = tmp[j];
    	      if (z === 0)
    	        continue;
    	      else if (z > 0)
    	        p = wnd[j][(z - 1) >> 1];
    	      else if (z < 0)
    	        p = wnd[j][(-z - 1) >> 1].neg();

    	      if (p.type === 'affine')
    	        acc = acc.mixedAdd(p);
    	      else
    	        acc = acc.add(p);
    	    }
    	  }
    	  // Zeroify references
    	  for (i = 0; i < len; i++)
    	    wnd[i] = null;

    	  if (jacobianResult)
    	    return acc;
    	  else
    	    return acc.toP();
    	};

    	function BasePoint(curve, type) {
    	  this.curve = curve;
    	  this.type = type;
    	  this.precomputed = null;
    	}
    	BaseCurve.BasePoint = BasePoint;

    	BasePoint.prototype.eq = function eq(/*other*/) {
    	  throw new Error('Not implemented');
    	};

    	BasePoint.prototype.validate = function validate() {
    	  return this.curve.validate(this);
    	};

    	BaseCurve.prototype.decodePoint = function decodePoint(bytes, enc) {
    	  bytes = utils.toArray(bytes, enc);

    	  var len = this.p.byteLength();

    	  // uncompressed, hybrid-odd, hybrid-even
    	  if ((bytes[0] === 0x04 || bytes[0] === 0x06 || bytes[0] === 0x07) &&
    	      bytes.length - 1 === 2 * len) {
    	    if (bytes[0] === 0x06)
    	      assert(bytes[bytes.length - 1] % 2 === 0);
    	    else if (bytes[0] === 0x07)
    	      assert(bytes[bytes.length - 1] % 2 === 1);

    	    var res =  this.point(bytes.slice(1, 1 + len),
    	      bytes.slice(1 + len, 1 + 2 * len));

    	    return res;
    	  } else if ((bytes[0] === 0x02 || bytes[0] === 0x03) &&
    	              bytes.length - 1 === len) {
    	    return this.pointFromX(bytes.slice(1, 1 + len), bytes[0] === 0x03);
    	  }
    	  throw new Error('Unknown point format');
    	};

    	BasePoint.prototype.encodeCompressed = function encodeCompressed(enc) {
    	  return this.encode(enc, true);
    	};

    	BasePoint.prototype._encode = function _encode(compact) {
    	  var len = this.curve.p.byteLength();
    	  var x = this.getX().toArray('be', len);

    	  if (compact)
    	    return [ this.getY().isEven() ? 0x02 : 0x03 ].concat(x);

    	  return [ 0x04 ].concat(x, this.getY().toArray('be', len));
    	};

    	BasePoint.prototype.encode = function encode(enc, compact) {
    	  return utils.encode(this._encode(compact), enc);
    	};

    	BasePoint.prototype.precompute = function precompute(power) {
    	  if (this.precomputed)
    	    return this;

    	  var precomputed = {
    	    doubles: null,
    	    naf: null,
    	    beta: null,
    	  };
    	  precomputed.naf = this._getNAFPoints(8);
    	  precomputed.doubles = this._getDoubles(4, power);
    	  precomputed.beta = this._getBeta();
    	  this.precomputed = precomputed;

    	  return this;
    	};

    	BasePoint.prototype._hasDoubles = function _hasDoubles(k) {
    	  if (!this.precomputed)
    	    return false;

    	  var doubles = this.precomputed.doubles;
    	  if (!doubles)
    	    return false;

    	  return doubles.points.length >= Math.ceil((k.bitLength() + 1) / doubles.step);
    	};

    	BasePoint.prototype._getDoubles = function _getDoubles(step, power) {
    	  if (this.precomputed && this.precomputed.doubles)
    	    return this.precomputed.doubles;

    	  var doubles = [ this ];
    	  var acc = this;
    	  for (var i = 0; i < power; i += step) {
    	    for (var j = 0; j < step; j++)
    	      acc = acc.dbl();
    	    doubles.push(acc);
    	  }
    	  return {
    	    step: step,
    	    points: doubles,
    	  };
    	};

    	BasePoint.prototype._getNAFPoints = function _getNAFPoints(wnd) {
    	  if (this.precomputed && this.precomputed.naf)
    	    return this.precomputed.naf;

    	  var res = [ this ];
    	  var max = (1 << wnd) - 1;
    	  var dbl = max === 1 ? null : this.dbl();
    	  for (var i = 1; i < max; i++)
    	    res[i] = res[i - 1].add(dbl);
    	  return {
    	    wnd: wnd,
    	    points: res,
    	  };
    	};

    	BasePoint.prototype._getBeta = function _getBeta() {
    	  return null;
    	};

    	BasePoint.prototype.dblp = function dblp(k) {
    	  var r = this;
    	  for (var i = 0; i < k; i++)
    	    r = r.dbl();
    	  return r;
    	};
    	return base$1;
    }

    var inherits = {exports: {}};

    var inherits_browser = {exports: {}};

    var hasRequiredInherits_browser;

    function requireInherits_browser () {
    	if (hasRequiredInherits_browser) return inherits_browser.exports;
    	hasRequiredInherits_browser = 1;
    	if (typeof Object.create === 'function') {
    	  // implementation from standard node.js 'util' module
    	  inherits_browser.exports = function inherits(ctor, superCtor) {
    	    if (superCtor) {
    	      ctor.super_ = superCtor;
    	      ctor.prototype = Object.create(superCtor.prototype, {
    	        constructor: {
    	          value: ctor,
    	          enumerable: false,
    	          writable: true,
    	          configurable: true
    	        }
    	      });
    	    }
    	  };
    	} else {
    	  // old school shim for old browsers
    	  inherits_browser.exports = function inherits(ctor, superCtor) {
    	    if (superCtor) {
    	      ctor.super_ = superCtor;
    	      var TempCtor = function () {};
    	      TempCtor.prototype = superCtor.prototype;
    	      ctor.prototype = new TempCtor();
    	      ctor.prototype.constructor = ctor;
    	    }
    	  };
    	}
    	return inherits_browser.exports;
    }

    var hasRequiredInherits;

    function requireInherits () {
    	if (hasRequiredInherits) return inherits.exports;
    	hasRequiredInherits = 1;
    	try {
    	  var util = require('util');
    	  /* istanbul ignore next */
    	  if (typeof util.inherits !== 'function') throw '';
    	  inherits.exports = util.inherits;
    	} catch (e) {
    	  /* istanbul ignore next */
    	  inherits.exports = requireInherits_browser();
    	}
    	return inherits.exports;
    }

    var short;
    var hasRequiredShort;

    function requireShort () {
    	if (hasRequiredShort) return short;
    	hasRequiredShort = 1;

    	var utils = requireUtils$4();
    	var BN = requireBn();
    	var inherits = requireInherits();
    	var Base = requireBase();

    	var assert = utils.assert;

    	function ShortCurve(conf) {
    	  Base.call(this, 'short', conf);

    	  this.a = new BN(conf.a, 16).toRed(this.red);
    	  this.b = new BN(conf.b, 16).toRed(this.red);
    	  this.tinv = this.two.redInvm();

    	  this.zeroA = this.a.fromRed().cmpn(0) === 0;
    	  this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0;

    	  // If the curve is endomorphic, precalculate beta and lambda
    	  this.endo = this._getEndomorphism(conf);
    	  this._endoWnafT1 = new Array(4);
    	  this._endoWnafT2 = new Array(4);
    	}
    	inherits(ShortCurve, Base);
    	short = ShortCurve;

    	ShortCurve.prototype._getEndomorphism = function _getEndomorphism(conf) {
    	  // No efficient endomorphism
    	  if (!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)
    	    return;

    	  // Compute beta and lambda, that lambda * P = (beta * Px; Py)
    	  var beta;
    	  var lambda;
    	  if (conf.beta) {
    	    beta = new BN(conf.beta, 16).toRed(this.red);
    	  } else {
    	    var betas = this._getEndoRoots(this.p);
    	    // Choose the smallest beta
    	    beta = betas[0].cmp(betas[1]) < 0 ? betas[0] : betas[1];
    	    beta = beta.toRed(this.red);
    	  }
    	  if (conf.lambda) {
    	    lambda = new BN(conf.lambda, 16);
    	  } else {
    	    // Choose the lambda that is matching selected beta
    	    var lambdas = this._getEndoRoots(this.n);
    	    if (this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta)) === 0) {
    	      lambda = lambdas[0];
    	    } else {
    	      lambda = lambdas[1];
    	      assert(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta)) === 0);
    	    }
    	  }

    	  // Get basis vectors, used for balanced length-two representation
    	  var basis;
    	  if (conf.basis) {
    	    basis = conf.basis.map(function(vec) {
    	      return {
    	        a: new BN(vec.a, 16),
    	        b: new BN(vec.b, 16),
    	      };
    	    });
    	  } else {
    	    basis = this._getEndoBasis(lambda);
    	  }

    	  return {
    	    beta: beta,
    	    lambda: lambda,
    	    basis: basis,
    	  };
    	};

    	ShortCurve.prototype._getEndoRoots = function _getEndoRoots(num) {
    	  // Find roots of for x^2 + x + 1 in F
    	  // Root = (-1 +- Sqrt(-3)) / 2
    	  //
    	  var red = num === this.p ? this.red : BN.mont(num);
    	  var tinv = new BN(2).toRed(red).redInvm();
    	  var ntinv = tinv.redNeg();

    	  var s = new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);

    	  var l1 = ntinv.redAdd(s).fromRed();
    	  var l2 = ntinv.redSub(s).fromRed();
    	  return [ l1, l2 ];
    	};

    	ShortCurve.prototype._getEndoBasis = function _getEndoBasis(lambda) {
    	  // aprxSqrt >= sqrt(this.n)
    	  var aprxSqrt = this.n.ushrn(Math.floor(this.n.bitLength() / 2));

    	  // 3.74
    	  // Run EGCD, until r(L + 1) < aprxSqrt
    	  var u = lambda;
    	  var v = this.n.clone();
    	  var x1 = new BN(1);
    	  var y1 = new BN(0);
    	  var x2 = new BN(0);
    	  var y2 = new BN(1);

    	  // NOTE: all vectors are roots of: a + b * lambda = 0 (mod n)
    	  var a0;
    	  var b0;
    	  // First vector
    	  var a1;
    	  var b1;
    	  // Second vector
    	  var a2;
    	  var b2;

    	  var prevR;
    	  var i = 0;
    	  var r;
    	  var x;
    	  while (u.cmpn(0) !== 0) {
    	    var q = v.div(u);
    	    r = v.sub(q.mul(u));
    	    x = x2.sub(q.mul(x1));
    	    var y = y2.sub(q.mul(y1));

    	    if (!a1 && r.cmp(aprxSqrt) < 0) {
    	      a0 = prevR.neg();
    	      b0 = x1;
    	      a1 = r.neg();
    	      b1 = x;
    	    } else if (a1 && ++i === 2) {
    	      break;
    	    }
    	    prevR = r;

    	    v = u;
    	    u = r;
    	    x2 = x1;
    	    x1 = x;
    	    y2 = y1;
    	    y1 = y;
    	  }
    	  a2 = r.neg();
    	  b2 = x;

    	  var len1 = a1.sqr().add(b1.sqr());
    	  var len2 = a2.sqr().add(b2.sqr());
    	  if (len2.cmp(len1) >= 0) {
    	    a2 = a0;
    	    b2 = b0;
    	  }

    	  // Normalize signs
    	  if (a1.negative) {
    	    a1 = a1.neg();
    	    b1 = b1.neg();
    	  }
    	  if (a2.negative) {
    	    a2 = a2.neg();
    	    b2 = b2.neg();
    	  }

    	  return [
    	    { a: a1, b: b1 },
    	    { a: a2, b: b2 },
    	  ];
    	};

    	ShortCurve.prototype._endoSplit = function _endoSplit(k) {
    	  var basis = this.endo.basis;
    	  var v1 = basis[0];
    	  var v2 = basis[1];

    	  var c1 = v2.b.mul(k).divRound(this.n);
    	  var c2 = v1.b.neg().mul(k).divRound(this.n);

    	  var p1 = c1.mul(v1.a);
    	  var p2 = c2.mul(v2.a);
    	  var q1 = c1.mul(v1.b);
    	  var q2 = c2.mul(v2.b);

    	  // Calculate answer
    	  var k1 = k.sub(p1).sub(p2);
    	  var k2 = q1.add(q2).neg();
    	  return { k1: k1, k2: k2 };
    	};

    	ShortCurve.prototype.pointFromX = function pointFromX(x, odd) {
    	  x = new BN(x, 16);
    	  if (!x.red)
    	    x = x.toRed(this.red);

    	  var y2 = x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);
    	  var y = y2.redSqrt();
    	  if (y.redSqr().redSub(y2).cmp(this.zero) !== 0)
    	    throw new Error('invalid point');

    	  // XXX Is there any way to tell if the number is odd without converting it
    	  // to non-red form?
    	  var isOdd = y.fromRed().isOdd();
    	  if (odd && !isOdd || !odd && isOdd)
    	    y = y.redNeg();

    	  return this.point(x, y);
    	};

    	ShortCurve.prototype.validate = function validate(point) {
    	  if (point.inf)
    	    return true;

    	  var x = point.x;
    	  var y = point.y;

    	  var ax = this.a.redMul(x);
    	  var rhs = x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);
    	  return y.redSqr().redISub(rhs).cmpn(0) === 0;
    	};

    	ShortCurve.prototype._endoWnafMulAdd =
    	    function _endoWnafMulAdd(points, coeffs, jacobianResult) {
    	      var npoints = this._endoWnafT1;
    	      var ncoeffs = this._endoWnafT2;
    	      for (var i = 0; i < points.length; i++) {
    	        var split = this._endoSplit(coeffs[i]);
    	        var p = points[i];
    	        var beta = p._getBeta();

    	        if (split.k1.negative) {
    	          split.k1.ineg();
    	          p = p.neg(true);
    	        }
    	        if (split.k2.negative) {
    	          split.k2.ineg();
    	          beta = beta.neg(true);
    	        }

    	        npoints[i * 2] = p;
    	        npoints[i * 2 + 1] = beta;
    	        ncoeffs[i * 2] = split.k1;
    	        ncoeffs[i * 2 + 1] = split.k2;
    	      }
    	      var res = this._wnafMulAdd(1, npoints, ncoeffs, i * 2, jacobianResult);

    	      // Clean-up references to points and coefficients
    	      for (var j = 0; j < i * 2; j++) {
    	        npoints[j] = null;
    	        ncoeffs[j] = null;
    	      }
    	      return res;
    	    };

    	function Point(curve, x, y, isRed) {
    	  Base.BasePoint.call(this, curve, 'affine');
    	  if (x === null && y === null) {
    	    this.x = null;
    	    this.y = null;
    	    this.inf = true;
    	  } else {
    	    this.x = new BN(x, 16);
    	    this.y = new BN(y, 16);
    	    // Force redgomery representation when loading from JSON
    	    if (isRed) {
    	      this.x.forceRed(this.curve.red);
    	      this.y.forceRed(this.curve.red);
    	    }
    	    if (!this.x.red)
    	      this.x = this.x.toRed(this.curve.red);
    	    if (!this.y.red)
    	      this.y = this.y.toRed(this.curve.red);
    	    this.inf = false;
    	  }
    	}
    	inherits(Point, Base.BasePoint);

    	ShortCurve.prototype.point = function point(x, y, isRed) {
    	  return new Point(this, x, y, isRed);
    	};

    	ShortCurve.prototype.pointFromJSON = function pointFromJSON(obj, red) {
    	  return Point.fromJSON(this, obj, red);
    	};

    	Point.prototype._getBeta = function _getBeta() {
    	  if (!this.curve.endo)
    	    return;

    	  var pre = this.precomputed;
    	  if (pre && pre.beta)
    	    return pre.beta;

    	  var beta = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
    	  if (pre) {
    	    var curve = this.curve;
    	    var endoMul = function(p) {
    	      return curve.point(p.x.redMul(curve.endo.beta), p.y);
    	    };
    	    pre.beta = beta;
    	    beta.precomputed = {
    	      beta: null,
    	      naf: pre.naf && {
    	        wnd: pre.naf.wnd,
    	        points: pre.naf.points.map(endoMul),
    	      },
    	      doubles: pre.doubles && {
    	        step: pre.doubles.step,
    	        points: pre.doubles.points.map(endoMul),
    	      },
    	    };
    	  }
    	  return beta;
    	};

    	Point.prototype.toJSON = function toJSON() {
    	  if (!this.precomputed)
    	    return [ this.x, this.y ];

    	  return [ this.x, this.y, this.precomputed && {
    	    doubles: this.precomputed.doubles && {
    	      step: this.precomputed.doubles.step,
    	      points: this.precomputed.doubles.points.slice(1),
    	    },
    	    naf: this.precomputed.naf && {
    	      wnd: this.precomputed.naf.wnd,
    	      points: this.precomputed.naf.points.slice(1),
    	    },
    	  } ];
    	};

    	Point.fromJSON = function fromJSON(curve, obj, red) {
    	  if (typeof obj === 'string')
    	    obj = JSON.parse(obj);
    	  var res = curve.point(obj[0], obj[1], red);
    	  if (!obj[2])
    	    return res;

    	  function obj2point(obj) {
    	    return curve.point(obj[0], obj[1], red);
    	  }

    	  var pre = obj[2];
    	  res.precomputed = {
    	    beta: null,
    	    doubles: pre.doubles && {
    	      step: pre.doubles.step,
    	      points: [ res ].concat(pre.doubles.points.map(obj2point)),
    	    },
    	    naf: pre.naf && {
    	      wnd: pre.naf.wnd,
    	      points: [ res ].concat(pre.naf.points.map(obj2point)),
    	    },
    	  };
    	  return res;
    	};

    	Point.prototype.inspect = function inspect() {
    	  if (this.isInfinity())
    	    return '<EC Point Infinity>';
    	  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +
    	      ' y: ' + this.y.fromRed().toString(16, 2) + '>';
    	};

    	Point.prototype.isInfinity = function isInfinity() {
    	  return this.inf;
    	};

    	Point.prototype.add = function add(p) {
    	  // O + P = P
    	  if (this.inf)
    	    return p;

    	  // P + O = P
    	  if (p.inf)
    	    return this;

    	  // P + P = 2P
    	  if (this.eq(p))
    	    return this.dbl();

    	  // P + (-P) = O
    	  if (this.neg().eq(p))
    	    return this.curve.point(null, null);

    	  // P + Q = O
    	  if (this.x.cmp(p.x) === 0)
    	    return this.curve.point(null, null);

    	  var c = this.y.redSub(p.y);
    	  if (c.cmpn(0) !== 0)
    	    c = c.redMul(this.x.redSub(p.x).redInvm());
    	  var nx = c.redSqr().redISub(this.x).redISub(p.x);
    	  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);
    	  return this.curve.point(nx, ny);
    	};

    	Point.prototype.dbl = function dbl() {
    	  if (this.inf)
    	    return this;

    	  // 2P = O
    	  var ys1 = this.y.redAdd(this.y);
    	  if (ys1.cmpn(0) === 0)
    	    return this.curve.point(null, null);

    	  var a = this.curve.a;

    	  var x2 = this.x.redSqr();
    	  var dyinv = ys1.redInvm();
    	  var c = x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);

    	  var nx = c.redSqr().redISub(this.x.redAdd(this.x));
    	  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);
    	  return this.curve.point(nx, ny);
    	};

    	Point.prototype.getX = function getX() {
    	  return this.x.fromRed();
    	};

    	Point.prototype.getY = function getY() {
    	  return this.y.fromRed();
    	};

    	Point.prototype.mul = function mul(k) {
    	  k = new BN(k, 16);
    	  if (this.isInfinity())
    	    return this;
    	  else if (this._hasDoubles(k))
    	    return this.curve._fixedNafMul(this, k);
    	  else if (this.curve.endo)
    	    return this.curve._endoWnafMulAdd([ this ], [ k ]);
    	  else
    	    return this.curve._wnafMul(this, k);
    	};

    	Point.prototype.mulAdd = function mulAdd(k1, p2, k2) {
    	  var points = [ this, p2 ];
    	  var coeffs = [ k1, k2 ];
    	  if (this.curve.endo)
    	    return this.curve._endoWnafMulAdd(points, coeffs);
    	  else
    	    return this.curve._wnafMulAdd(1, points, coeffs, 2);
    	};

    	Point.prototype.jmulAdd = function jmulAdd(k1, p2, k2) {
    	  var points = [ this, p2 ];
    	  var coeffs = [ k1, k2 ];
    	  if (this.curve.endo)
    	    return this.curve._endoWnafMulAdd(points, coeffs, true);
    	  else
    	    return this.curve._wnafMulAdd(1, points, coeffs, 2, true);
    	};

    	Point.prototype.eq = function eq(p) {
    	  return this === p ||
    	         this.inf === p.inf &&
    	             (this.inf || this.x.cmp(p.x) === 0 && this.y.cmp(p.y) === 0);
    	};

    	Point.prototype.neg = function neg(_precompute) {
    	  if (this.inf)
    	    return this;

    	  var res = this.curve.point(this.x, this.y.redNeg());
    	  if (_precompute && this.precomputed) {
    	    var pre = this.precomputed;
    	    var negate = function(p) {
    	      return p.neg();
    	    };
    	    res.precomputed = {
    	      naf: pre.naf && {
    	        wnd: pre.naf.wnd,
    	        points: pre.naf.points.map(negate),
    	      },
    	      doubles: pre.doubles && {
    	        step: pre.doubles.step,
    	        points: pre.doubles.points.map(negate),
    	      },
    	    };
    	  }
    	  return res;
    	};

    	Point.prototype.toJ = function toJ() {
    	  if (this.inf)
    	    return this.curve.jpoint(null, null, null);

    	  var res = this.curve.jpoint(this.x, this.y, this.curve.one);
    	  return res;
    	};

    	function JPoint(curve, x, y, z) {
    	  Base.BasePoint.call(this, curve, 'jacobian');
    	  if (x === null && y === null && z === null) {
    	    this.x = this.curve.one;
    	    this.y = this.curve.one;
    	    this.z = new BN(0);
    	  } else {
    	    this.x = new BN(x, 16);
    	    this.y = new BN(y, 16);
    	    this.z = new BN(z, 16);
    	  }
    	  if (!this.x.red)
    	    this.x = this.x.toRed(this.curve.red);
    	  if (!this.y.red)
    	    this.y = this.y.toRed(this.curve.red);
    	  if (!this.z.red)
    	    this.z = this.z.toRed(this.curve.red);

    	  this.zOne = this.z === this.curve.one;
    	}
    	inherits(JPoint, Base.BasePoint);

    	ShortCurve.prototype.jpoint = function jpoint(x, y, z) {
    	  return new JPoint(this, x, y, z);
    	};

    	JPoint.prototype.toP = function toP() {
    	  if (this.isInfinity())
    	    return this.curve.point(null, null);

    	  var zinv = this.z.redInvm();
    	  var zinv2 = zinv.redSqr();
    	  var ax = this.x.redMul(zinv2);
    	  var ay = this.y.redMul(zinv2).redMul(zinv);

    	  return this.curve.point(ax, ay);
    	};

    	JPoint.prototype.neg = function neg() {
    	  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
    	};

    	JPoint.prototype.add = function add(p) {
    	  // O + P = P
    	  if (this.isInfinity())
    	    return p;

    	  // P + O = P
    	  if (p.isInfinity())
    	    return this;

    	  // 12M + 4S + 7A
    	  var pz2 = p.z.redSqr();
    	  var z2 = this.z.redSqr();
    	  var u1 = this.x.redMul(pz2);
    	  var u2 = p.x.redMul(z2);
    	  var s1 = this.y.redMul(pz2.redMul(p.z));
    	  var s2 = p.y.redMul(z2.redMul(this.z));

    	  var h = u1.redSub(u2);
    	  var r = s1.redSub(s2);
    	  if (h.cmpn(0) === 0) {
    	    if (r.cmpn(0) !== 0)
    	      return this.curve.jpoint(null, null, null);
    	    else
    	      return this.dbl();
    	  }

    	  var h2 = h.redSqr();
    	  var h3 = h2.redMul(h);
    	  var v = u1.redMul(h2);

    	  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);
    	  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));
    	  var nz = this.z.redMul(p.z).redMul(h);

    	  return this.curve.jpoint(nx, ny, nz);
    	};

    	JPoint.prototype.mixedAdd = function mixedAdd(p) {
    	  // O + P = P
    	  if (this.isInfinity())
    	    return p.toJ();

    	  // P + O = P
    	  if (p.isInfinity())
    	    return this;

    	  // 8M + 3S + 7A
    	  var z2 = this.z.redSqr();
    	  var u1 = this.x;
    	  var u2 = p.x.redMul(z2);
    	  var s1 = this.y;
    	  var s2 = p.y.redMul(z2).redMul(this.z);

    	  var h = u1.redSub(u2);
    	  var r = s1.redSub(s2);
    	  if (h.cmpn(0) === 0) {
    	    if (r.cmpn(0) !== 0)
    	      return this.curve.jpoint(null, null, null);
    	    else
    	      return this.dbl();
    	  }

    	  var h2 = h.redSqr();
    	  var h3 = h2.redMul(h);
    	  var v = u1.redMul(h2);

    	  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);
    	  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));
    	  var nz = this.z.redMul(h);

    	  return this.curve.jpoint(nx, ny, nz);
    	};

    	JPoint.prototype.dblp = function dblp(pow) {
    	  if (pow === 0)
    	    return this;
    	  if (this.isInfinity())
    	    return this;
    	  if (!pow)
    	    return this.dbl();

    	  var i;
    	  if (this.curve.zeroA || this.curve.threeA) {
    	    var r = this;
    	    for (i = 0; i < pow; i++)
    	      r = r.dbl();
    	    return r;
    	  }

    	  // 1M + 2S + 1A + N * (4S + 5M + 8A)
    	  // N = 1 => 6M + 6S + 9A
    	  var a = this.curve.a;
    	  var tinv = this.curve.tinv;

    	  var jx = this.x;
    	  var jy = this.y;
    	  var jz = this.z;
    	  var jz4 = jz.redSqr().redSqr();

    	  // Reuse results
    	  var jyd = jy.redAdd(jy);
    	  for (i = 0; i < pow; i++) {
    	    var jx2 = jx.redSqr();
    	    var jyd2 = jyd.redSqr();
    	    var jyd4 = jyd2.redSqr();
    	    var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));

    	    var t1 = jx.redMul(jyd2);
    	    var nx = c.redSqr().redISub(t1.redAdd(t1));
    	    var t2 = t1.redISub(nx);
    	    var dny = c.redMul(t2);
    	    dny = dny.redIAdd(dny).redISub(jyd4);
    	    var nz = jyd.redMul(jz);
    	    if (i + 1 < pow)
    	      jz4 = jz4.redMul(jyd4);

    	    jx = nx;
    	    jz = nz;
    	    jyd = dny;
    	  }

    	  return this.curve.jpoint(jx, jyd.redMul(tinv), jz);
    	};

    	JPoint.prototype.dbl = function dbl() {
    	  if (this.isInfinity())
    	    return this;

    	  if (this.curve.zeroA)
    	    return this._zeroDbl();
    	  else if (this.curve.threeA)
    	    return this._threeDbl();
    	  else
    	    return this._dbl();
    	};

    	JPoint.prototype._zeroDbl = function _zeroDbl() {
    	  var nx;
    	  var ny;
    	  var nz;
    	  // Z = 1
    	  if (this.zOne) {
    	    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html
    	    //     #doubling-mdbl-2007-bl
    	    // 1M + 5S + 14A

    	    // XX = X1^2
    	    var xx = this.x.redSqr();
    	    // YY = Y1^2
    	    var yy = this.y.redSqr();
    	    // YYYY = YY^2
    	    var yyyy = yy.redSqr();
    	    // S = 2 * ((X1 + YY)^2 - XX - YYYY)
    	    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);
    	    s = s.redIAdd(s);
    	    // M = 3 * XX + a; a = 0
    	    var m = xx.redAdd(xx).redIAdd(xx);
    	    // T = M ^ 2 - 2*S
    	    var t = m.redSqr().redISub(s).redISub(s);

    	    // 8 * YYYY
    	    var yyyy8 = yyyy.redIAdd(yyyy);
    	    yyyy8 = yyyy8.redIAdd(yyyy8);
    	    yyyy8 = yyyy8.redIAdd(yyyy8);

    	    // X3 = T
    	    nx = t;
    	    // Y3 = M * (S - T) - 8 * YYYY
    	    ny = m.redMul(s.redISub(t)).redISub(yyyy8);
    	    // Z3 = 2*Y1
    	    nz = this.y.redAdd(this.y);
    	  } else {
    	    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html
    	    //     #doubling-dbl-2009-l
    	    // 2M + 5S + 13A

    	    // A = X1^2
    	    var a = this.x.redSqr();
    	    // B = Y1^2
    	    var b = this.y.redSqr();
    	    // C = B^2
    	    var c = b.redSqr();
    	    // D = 2 * ((X1 + B)^2 - A - C)
    	    var d = this.x.redAdd(b).redSqr().redISub(a).redISub(c);
    	    d = d.redIAdd(d);
    	    // E = 3 * A
    	    var e = a.redAdd(a).redIAdd(a);
    	    // F = E^2
    	    var f = e.redSqr();

    	    // 8 * C
    	    var c8 = c.redIAdd(c);
    	    c8 = c8.redIAdd(c8);
    	    c8 = c8.redIAdd(c8);

    	    // X3 = F - 2 * D
    	    nx = f.redISub(d).redISub(d);
    	    // Y3 = E * (D - X3) - 8 * C
    	    ny = e.redMul(d.redISub(nx)).redISub(c8);
    	    // Z3 = 2 * Y1 * Z1
    	    nz = this.y.redMul(this.z);
    	    nz = nz.redIAdd(nz);
    	  }

    	  return this.curve.jpoint(nx, ny, nz);
    	};

    	JPoint.prototype._threeDbl = function _threeDbl() {
    	  var nx;
    	  var ny;
    	  var nz;
    	  // Z = 1
    	  if (this.zOne) {
    	    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html
    	    //     #doubling-mdbl-2007-bl
    	    // 1M + 5S + 15A

    	    // XX = X1^2
    	    var xx = this.x.redSqr();
    	    // YY = Y1^2
    	    var yy = this.y.redSqr();
    	    // YYYY = YY^2
    	    var yyyy = yy.redSqr();
    	    // S = 2 * ((X1 + YY)^2 - XX - YYYY)
    	    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);
    	    s = s.redIAdd(s);
    	    // M = 3 * XX + a
    	    var m = xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);
    	    // T = M^2 - 2 * S
    	    var t = m.redSqr().redISub(s).redISub(s);
    	    // X3 = T
    	    nx = t;
    	    // Y3 = M * (S - T) - 8 * YYYY
    	    var yyyy8 = yyyy.redIAdd(yyyy);
    	    yyyy8 = yyyy8.redIAdd(yyyy8);
    	    yyyy8 = yyyy8.redIAdd(yyyy8);
    	    ny = m.redMul(s.redISub(t)).redISub(yyyy8);
    	    // Z3 = 2 * Y1
    	    nz = this.y.redAdd(this.y);
    	  } else {
    	    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html#doubling-dbl-2001-b
    	    // 3M + 5S

    	    // delta = Z1^2
    	    var delta = this.z.redSqr();
    	    // gamma = Y1^2
    	    var gamma = this.y.redSqr();
    	    // beta = X1 * gamma
    	    var beta = this.x.redMul(gamma);
    	    // alpha = 3 * (X1 - delta) * (X1 + delta)
    	    var alpha = this.x.redSub(delta).redMul(this.x.redAdd(delta));
    	    alpha = alpha.redAdd(alpha).redIAdd(alpha);
    	    // X3 = alpha^2 - 8 * beta
    	    var beta4 = beta.redIAdd(beta);
    	    beta4 = beta4.redIAdd(beta4);
    	    var beta8 = beta4.redAdd(beta4);
    	    nx = alpha.redSqr().redISub(beta8);
    	    // Z3 = (Y1 + Z1)^2 - gamma - delta
    	    nz = this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);
    	    // Y3 = alpha * (4 * beta - X3) - 8 * gamma^2
    	    var ggamma8 = gamma.redSqr();
    	    ggamma8 = ggamma8.redIAdd(ggamma8);
    	    ggamma8 = ggamma8.redIAdd(ggamma8);
    	    ggamma8 = ggamma8.redIAdd(ggamma8);
    	    ny = alpha.redMul(beta4.redISub(nx)).redISub(ggamma8);
    	  }

    	  return this.curve.jpoint(nx, ny, nz);
    	};

    	JPoint.prototype._dbl = function _dbl() {
    	  var a = this.curve.a;

    	  // 4M + 6S + 10A
    	  var jx = this.x;
    	  var jy = this.y;
    	  var jz = this.z;
    	  var jz4 = jz.redSqr().redSqr();

    	  var jx2 = jx.redSqr();
    	  var jy2 = jy.redSqr();

    	  var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));

    	  var jxd4 = jx.redAdd(jx);
    	  jxd4 = jxd4.redIAdd(jxd4);
    	  var t1 = jxd4.redMul(jy2);
    	  var nx = c.redSqr().redISub(t1.redAdd(t1));
    	  var t2 = t1.redISub(nx);

    	  var jyd8 = jy2.redSqr();
    	  jyd8 = jyd8.redIAdd(jyd8);
    	  jyd8 = jyd8.redIAdd(jyd8);
    	  jyd8 = jyd8.redIAdd(jyd8);
    	  var ny = c.redMul(t2).redISub(jyd8);
    	  var nz = jy.redAdd(jy).redMul(jz);

    	  return this.curve.jpoint(nx, ny, nz);
    	};

    	JPoint.prototype.trpl = function trpl() {
    	  if (!this.curve.zeroA)
    	    return this.dbl().add(this);

    	  // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html#tripling-tpl-2007-bl
    	  // 5M + 10S + ...

    	  // XX = X1^2
    	  var xx = this.x.redSqr();
    	  // YY = Y1^2
    	  var yy = this.y.redSqr();
    	  // ZZ = Z1^2
    	  var zz = this.z.redSqr();
    	  // YYYY = YY^2
    	  var yyyy = yy.redSqr();
    	  // M = 3 * XX + a * ZZ2; a = 0
    	  var m = xx.redAdd(xx).redIAdd(xx);
    	  // MM = M^2
    	  var mm = m.redSqr();
    	  // E = 6 * ((X1 + YY)^2 - XX - YYYY) - MM
    	  var e = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);
    	  e = e.redIAdd(e);
    	  e = e.redAdd(e).redIAdd(e);
    	  e = e.redISub(mm);
    	  // EE = E^2
    	  var ee = e.redSqr();
    	  // T = 16*YYYY
    	  var t = yyyy.redIAdd(yyyy);
    	  t = t.redIAdd(t);
    	  t = t.redIAdd(t);
    	  t = t.redIAdd(t);
    	  // U = (M + E)^2 - MM - EE - T
    	  var u = m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);
    	  // X3 = 4 * (X1 * EE - 4 * YY * U)
    	  var yyu4 = yy.redMul(u);
    	  yyu4 = yyu4.redIAdd(yyu4);
    	  yyu4 = yyu4.redIAdd(yyu4);
    	  var nx = this.x.redMul(ee).redISub(yyu4);
    	  nx = nx.redIAdd(nx);
    	  nx = nx.redIAdd(nx);
    	  // Y3 = 8 * Y1 * (U * (T - U) - E * EE)
    	  var ny = this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));
    	  ny = ny.redIAdd(ny);
    	  ny = ny.redIAdd(ny);
    	  ny = ny.redIAdd(ny);
    	  // Z3 = (Z1 + E)^2 - ZZ - EE
    	  var nz = this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);

    	  return this.curve.jpoint(nx, ny, nz);
    	};

    	JPoint.prototype.mul = function mul(k, kbase) {
    	  k = new BN(k, kbase);

    	  return this.curve._wnafMul(this, k);
    	};

    	JPoint.prototype.eq = function eq(p) {
    	  if (p.type === 'affine')
    	    return this.eq(p.toJ());

    	  if (this === p)
    	    return true;

    	  // x1 * z2^2 == x2 * z1^2
    	  var z2 = this.z.redSqr();
    	  var pz2 = p.z.redSqr();
    	  if (this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0) !== 0)
    	    return false;

    	  // y1 * z2^3 == y2 * z1^3
    	  var z3 = z2.redMul(this.z);
    	  var pz3 = pz2.redMul(p.z);
    	  return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0) === 0;
    	};

    	JPoint.prototype.eqXToP = function eqXToP(x) {
    	  var zs = this.z.redSqr();
    	  var rx = x.toRed(this.curve.red).redMul(zs);
    	  if (this.x.cmp(rx) === 0)
    	    return true;

    	  var xc = x.clone();
    	  var t = this.curve.redN.redMul(zs);
    	  for (;;) {
    	    xc.iadd(this.curve.n);
    	    if (xc.cmp(this.curve.p) >= 0)
    	      return false;

    	    rx.redIAdd(t);
    	    if (this.x.cmp(rx) === 0)
    	      return true;
    	  }
    	};

    	JPoint.prototype.inspect = function inspect() {
    	  if (this.isInfinity())
    	    return '<EC JPoint Infinity>';
    	  return '<EC JPoint x: ' + this.x.toString(16, 2) +
    	      ' y: ' + this.y.toString(16, 2) +
    	      ' z: ' + this.z.toString(16, 2) + '>';
    	};

    	JPoint.prototype.isInfinity = function isInfinity() {
    	  // XXX This code assumes that zero is always zero in red
    	  return this.z.cmpn(0) === 0;
    	};
    	return short;
    }

    var mont;
    var hasRequiredMont;

    function requireMont () {
    	if (hasRequiredMont) return mont;
    	hasRequiredMont = 1;

    	var BN = requireBn();
    	var inherits = requireInherits();
    	var Base = requireBase();

    	var utils = requireUtils$4();

    	function MontCurve(conf) {
    	  Base.call(this, 'mont', conf);

    	  this.a = new BN(conf.a, 16).toRed(this.red);
    	  this.b = new BN(conf.b, 16).toRed(this.red);
    	  this.i4 = new BN(4).toRed(this.red).redInvm();
    	  this.two = new BN(2).toRed(this.red);
    	  this.a24 = this.i4.redMul(this.a.redAdd(this.two));
    	}
    	inherits(MontCurve, Base);
    	mont = MontCurve;

    	MontCurve.prototype.validate = function validate(point) {
    	  var x = point.normalize().x;
    	  var x2 = x.redSqr();
    	  var rhs = x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);
    	  var y = rhs.redSqrt();

    	  return y.redSqr().cmp(rhs) === 0;
    	};

    	function Point(curve, x, z) {
    	  Base.BasePoint.call(this, curve, 'projective');
    	  if (x === null && z === null) {
    	    this.x = this.curve.one;
    	    this.z = this.curve.zero;
    	  } else {
    	    this.x = new BN(x, 16);
    	    this.z = new BN(z, 16);
    	    if (!this.x.red)
    	      this.x = this.x.toRed(this.curve.red);
    	    if (!this.z.red)
    	      this.z = this.z.toRed(this.curve.red);
    	  }
    	}
    	inherits(Point, Base.BasePoint);

    	MontCurve.prototype.decodePoint = function decodePoint(bytes, enc) {
    	  return this.point(utils.toArray(bytes, enc), 1);
    	};

    	MontCurve.prototype.point = function point(x, z) {
    	  return new Point(this, x, z);
    	};

    	MontCurve.prototype.pointFromJSON = function pointFromJSON(obj) {
    	  return Point.fromJSON(this, obj);
    	};

    	Point.prototype.precompute = function precompute() {
    	  // No-op
    	};

    	Point.prototype._encode = function _encode() {
    	  return this.getX().toArray('be', this.curve.p.byteLength());
    	};

    	Point.fromJSON = function fromJSON(curve, obj) {
    	  return new Point(curve, obj[0], obj[1] || curve.one);
    	};

    	Point.prototype.inspect = function inspect() {
    	  if (this.isInfinity())
    	    return '<EC Point Infinity>';
    	  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +
    	      ' z: ' + this.z.fromRed().toString(16, 2) + '>';
    	};

    	Point.prototype.isInfinity = function isInfinity() {
    	  // XXX This code assumes that zero is always zero in red
    	  return this.z.cmpn(0) === 0;
    	};

    	Point.prototype.dbl = function dbl() {
    	  // http://hyperelliptic.org/EFD/g1p/auto-montgom-xz.html#doubling-dbl-1987-m-3
    	  // 2M + 2S + 4A

    	  // A = X1 + Z1
    	  var a = this.x.redAdd(this.z);
    	  // AA = A^2
    	  var aa = a.redSqr();
    	  // B = X1 - Z1
    	  var b = this.x.redSub(this.z);
    	  // BB = B^2
    	  var bb = b.redSqr();
    	  // C = AA - BB
    	  var c = aa.redSub(bb);
    	  // X3 = AA * BB
    	  var nx = aa.redMul(bb);
    	  // Z3 = C * (BB + A24 * C)
    	  var nz = c.redMul(bb.redAdd(this.curve.a24.redMul(c)));
    	  return this.curve.point(nx, nz);
    	};

    	Point.prototype.add = function add() {
    	  throw new Error('Not supported on Montgomery curve');
    	};

    	Point.prototype.diffAdd = function diffAdd(p, diff) {
    	  // http://hyperelliptic.org/EFD/g1p/auto-montgom-xz.html#diffadd-dadd-1987-m-3
    	  // 4M + 2S + 6A

    	  // A = X2 + Z2
    	  var a = this.x.redAdd(this.z);
    	  // B = X2 - Z2
    	  var b = this.x.redSub(this.z);
    	  // C = X3 + Z3
    	  var c = p.x.redAdd(p.z);
    	  // D = X3 - Z3
    	  var d = p.x.redSub(p.z);
    	  // DA = D * A
    	  var da = d.redMul(a);
    	  // CB = C * B
    	  var cb = c.redMul(b);
    	  // X5 = Z1 * (DA + CB)^2
    	  var nx = diff.z.redMul(da.redAdd(cb).redSqr());
    	  // Z5 = X1 * (DA - CB)^2
    	  var nz = diff.x.redMul(da.redISub(cb).redSqr());
    	  return this.curve.point(nx, nz);
    	};

    	Point.prototype.mul = function mul(k) {
    	  var t = k.clone();
    	  var a = this; // (N / 2) * Q + Q
    	  var b = this.curve.point(null, null); // (N / 2) * Q
    	  var c = this; // Q

    	  for (var bits = []; t.cmpn(0) !== 0; t.iushrn(1))
    	    bits.push(t.andln(1));

    	  for (var i = bits.length - 1; i >= 0; i--) {
    	    if (bits[i] === 0) {
    	      // N * Q + Q = ((N / 2) * Q + Q)) + (N / 2) * Q
    	      a = a.diffAdd(b, c);
    	      // N * Q = 2 * ((N / 2) * Q + Q))
    	      b = b.dbl();
    	    } else {
    	      // N * Q = ((N / 2) * Q + Q) + ((N / 2) * Q)
    	      b = a.diffAdd(b, c);
    	      // N * Q + Q = 2 * ((N / 2) * Q + Q)
    	      a = a.dbl();
    	    }
    	  }
    	  return b;
    	};

    	Point.prototype.mulAdd = function mulAdd() {
    	  throw new Error('Not supported on Montgomery curve');
    	};

    	Point.prototype.jumlAdd = function jumlAdd() {
    	  throw new Error('Not supported on Montgomery curve');
    	};

    	Point.prototype.eq = function eq(other) {
    	  return this.getX().cmp(other.getX()) === 0;
    	};

    	Point.prototype.normalize = function normalize() {
    	  this.x = this.x.redMul(this.z.redInvm());
    	  this.z = this.curve.one;
    	  return this;
    	};

    	Point.prototype.getX = function getX() {
    	  // Normalize coordinates
    	  this.normalize();

    	  return this.x.fromRed();
    	};
    	return mont;
    }

    var edwards;
    var hasRequiredEdwards;

    function requireEdwards () {
    	if (hasRequiredEdwards) return edwards;
    	hasRequiredEdwards = 1;

    	var utils = requireUtils$4();
    	var BN = requireBn();
    	var inherits = requireInherits();
    	var Base = requireBase();

    	var assert = utils.assert;

    	function EdwardsCurve(conf) {
    	  // NOTE: Important as we are creating point in Base.call()
    	  this.twisted = (conf.a | 0) !== 1;
    	  this.mOneA = this.twisted && (conf.a | 0) === -1;
    	  this.extended = this.mOneA;

    	  Base.call(this, 'edwards', conf);

    	  this.a = new BN(conf.a, 16).umod(this.red.m);
    	  this.a = this.a.toRed(this.red);
    	  this.c = new BN(conf.c, 16).toRed(this.red);
    	  this.c2 = this.c.redSqr();
    	  this.d = new BN(conf.d, 16).toRed(this.red);
    	  this.dd = this.d.redAdd(this.d);

    	  assert(!this.twisted || this.c.fromRed().cmpn(1) === 0);
    	  this.oneC = (conf.c | 0) === 1;
    	}
    	inherits(EdwardsCurve, Base);
    	edwards = EdwardsCurve;

    	EdwardsCurve.prototype._mulA = function _mulA(num) {
    	  if (this.mOneA)
    	    return num.redNeg();
    	  else
    	    return this.a.redMul(num);
    	};

    	EdwardsCurve.prototype._mulC = function _mulC(num) {
    	  if (this.oneC)
    	    return num;
    	  else
    	    return this.c.redMul(num);
    	};

    	// Just for compatibility with Short curve
    	EdwardsCurve.prototype.jpoint = function jpoint(x, y, z, t) {
    	  return this.point(x, y, z, t);
    	};

    	EdwardsCurve.prototype.pointFromX = function pointFromX(x, odd) {
    	  x = new BN(x, 16);
    	  if (!x.red)
    	    x = x.toRed(this.red);

    	  var x2 = x.redSqr();
    	  var rhs = this.c2.redSub(this.a.redMul(x2));
    	  var lhs = this.one.redSub(this.c2.redMul(this.d).redMul(x2));

    	  var y2 = rhs.redMul(lhs.redInvm());
    	  var y = y2.redSqrt();
    	  if (y.redSqr().redSub(y2).cmp(this.zero) !== 0)
    	    throw new Error('invalid point');

    	  var isOdd = y.fromRed().isOdd();
    	  if (odd && !isOdd || !odd && isOdd)
    	    y = y.redNeg();

    	  return this.point(x, y);
    	};

    	EdwardsCurve.prototype.pointFromY = function pointFromY(y, odd) {
    	  y = new BN(y, 16);
    	  if (!y.red)
    	    y = y.toRed(this.red);

    	  // x^2 = (y^2 - c^2) / (c^2 d y^2 - a)
    	  var y2 = y.redSqr();
    	  var lhs = y2.redSub(this.c2);
    	  var rhs = y2.redMul(this.d).redMul(this.c2).redSub(this.a);
    	  var x2 = lhs.redMul(rhs.redInvm());

    	  if (x2.cmp(this.zero) === 0) {
    	    if (odd)
    	      throw new Error('invalid point');
    	    else
    	      return this.point(this.zero, y);
    	  }

    	  var x = x2.redSqrt();
    	  if (x.redSqr().redSub(x2).cmp(this.zero) !== 0)
    	    throw new Error('invalid point');

    	  if (x.fromRed().isOdd() !== odd)
    	    x = x.redNeg();

    	  return this.point(x, y);
    	};

    	EdwardsCurve.prototype.validate = function validate(point) {
    	  if (point.isInfinity())
    	    return true;

    	  // Curve: A * X^2 + Y^2 = C^2 * (1 + D * X^2 * Y^2)
    	  point.normalize();

    	  var x2 = point.x.redSqr();
    	  var y2 = point.y.redSqr();
    	  var lhs = x2.redMul(this.a).redAdd(y2);
    	  var rhs = this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));

    	  return lhs.cmp(rhs) === 0;
    	};

    	function Point(curve, x, y, z, t) {
    	  Base.BasePoint.call(this, curve, 'projective');
    	  if (x === null && y === null && z === null) {
    	    this.x = this.curve.zero;
    	    this.y = this.curve.one;
    	    this.z = this.curve.one;
    	    this.t = this.curve.zero;
    	    this.zOne = true;
    	  } else {
    	    this.x = new BN(x, 16);
    	    this.y = new BN(y, 16);
    	    this.z = z ? new BN(z, 16) : this.curve.one;
    	    this.t = t && new BN(t, 16);
    	    if (!this.x.red)
    	      this.x = this.x.toRed(this.curve.red);
    	    if (!this.y.red)
    	      this.y = this.y.toRed(this.curve.red);
    	    if (!this.z.red)
    	      this.z = this.z.toRed(this.curve.red);
    	    if (this.t && !this.t.red)
    	      this.t = this.t.toRed(this.curve.red);
    	    this.zOne = this.z === this.curve.one;

    	    // Use extended coordinates
    	    if (this.curve.extended && !this.t) {
    	      this.t = this.x.redMul(this.y);
    	      if (!this.zOne)
    	        this.t = this.t.redMul(this.z.redInvm());
    	    }
    	  }
    	}
    	inherits(Point, Base.BasePoint);

    	EdwardsCurve.prototype.pointFromJSON = function pointFromJSON(obj) {
    	  return Point.fromJSON(this, obj);
    	};

    	EdwardsCurve.prototype.point = function point(x, y, z, t) {
    	  return new Point(this, x, y, z, t);
    	};

    	Point.fromJSON = function fromJSON(curve, obj) {
    	  return new Point(curve, obj[0], obj[1], obj[2]);
    	};

    	Point.prototype.inspect = function inspect() {
    	  if (this.isInfinity())
    	    return '<EC Point Infinity>';
    	  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +
    	      ' y: ' + this.y.fromRed().toString(16, 2) +
    	      ' z: ' + this.z.fromRed().toString(16, 2) + '>';
    	};

    	Point.prototype.isInfinity = function isInfinity() {
    	  // XXX This code assumes that zero is always zero in red
    	  return this.x.cmpn(0) === 0 &&
    	    (this.y.cmp(this.z) === 0 ||
    	    (this.zOne && this.y.cmp(this.curve.c) === 0));
    	};

    	Point.prototype._extDbl = function _extDbl() {
    	  // hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html
    	  //     #doubling-dbl-2008-hwcd
    	  // 4M + 4S

    	  // A = X1^2
    	  var a = this.x.redSqr();
    	  // B = Y1^2
    	  var b = this.y.redSqr();
    	  // C = 2 * Z1^2
    	  var c = this.z.redSqr();
    	  c = c.redIAdd(c);
    	  // D = a * A
    	  var d = this.curve._mulA(a);
    	  // E = (X1 + Y1)^2 - A - B
    	  var e = this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);
    	  // G = D + B
    	  var g = d.redAdd(b);
    	  // F = G - C
    	  var f = g.redSub(c);
    	  // H = D - B
    	  var h = d.redSub(b);
    	  // X3 = E * F
    	  var nx = e.redMul(f);
    	  // Y3 = G * H
    	  var ny = g.redMul(h);
    	  // T3 = E * H
    	  var nt = e.redMul(h);
    	  // Z3 = F * G
    	  var nz = f.redMul(g);
    	  return this.curve.point(nx, ny, nz, nt);
    	};

    	Point.prototype._projDbl = function _projDbl() {
    	  // hyperelliptic.org/EFD/g1p/auto-twisted-projective.html
    	  //     #doubling-dbl-2008-bbjlp
    	  //     #doubling-dbl-2007-bl
    	  // and others
    	  // Generally 3M + 4S or 2M + 4S

    	  // B = (X1 + Y1)^2
    	  var b = this.x.redAdd(this.y).redSqr();
    	  // C = X1^2
    	  var c = this.x.redSqr();
    	  // D = Y1^2
    	  var d = this.y.redSqr();

    	  var nx;
    	  var ny;
    	  var nz;
    	  var e;
    	  var h;
    	  var j;
    	  if (this.curve.twisted) {
    	    // E = a * C
    	    e = this.curve._mulA(c);
    	    // F = E + D
    	    var f = e.redAdd(d);
    	    if (this.zOne) {
    	      // X3 = (B - C - D) * (F - 2)
    	      nx = b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));
    	      // Y3 = F * (E - D)
    	      ny = f.redMul(e.redSub(d));
    	      // Z3 = F^2 - 2 * F
    	      nz = f.redSqr().redSub(f).redSub(f);
    	    } else {
    	      // H = Z1^2
    	      h = this.z.redSqr();
    	      // J = F - 2 * H
    	      j = f.redSub(h).redISub(h);
    	      // X3 = (B-C-D)*J
    	      nx = b.redSub(c).redISub(d).redMul(j);
    	      // Y3 = F * (E - D)
    	      ny = f.redMul(e.redSub(d));
    	      // Z3 = F * J
    	      nz = f.redMul(j);
    	    }
    	  } else {
    	    // E = C + D
    	    e = c.redAdd(d);
    	    // H = (c * Z1)^2
    	    h = this.curve._mulC(this.z).redSqr();
    	    // J = E - 2 * H
    	    j = e.redSub(h).redSub(h);
    	    // X3 = c * (B - E) * J
    	    nx = this.curve._mulC(b.redISub(e)).redMul(j);
    	    // Y3 = c * E * (C - D)
    	    ny = this.curve._mulC(e).redMul(c.redISub(d));
    	    // Z3 = E * J
    	    nz = e.redMul(j);
    	  }
    	  return this.curve.point(nx, ny, nz);
    	};

    	Point.prototype.dbl = function dbl() {
    	  if (this.isInfinity())
    	    return this;

    	  // Double in extended coordinates
    	  if (this.curve.extended)
    	    return this._extDbl();
    	  else
    	    return this._projDbl();
    	};

    	Point.prototype._extAdd = function _extAdd(p) {
    	  // hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html
    	  //     #addition-add-2008-hwcd-3
    	  // 8M

    	  // A = (Y1 - X1) * (Y2 - X2)
    	  var a = this.y.redSub(this.x).redMul(p.y.redSub(p.x));
    	  // B = (Y1 + X1) * (Y2 + X2)
    	  var b = this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));
    	  // C = T1 * k * T2
    	  var c = this.t.redMul(this.curve.dd).redMul(p.t);
    	  // D = Z1 * 2 * Z2
    	  var d = this.z.redMul(p.z.redAdd(p.z));
    	  // E = B - A
    	  var e = b.redSub(a);
    	  // F = D - C
    	  var f = d.redSub(c);
    	  // G = D + C
    	  var g = d.redAdd(c);
    	  // H = B + A
    	  var h = b.redAdd(a);
    	  // X3 = E * F
    	  var nx = e.redMul(f);
    	  // Y3 = G * H
    	  var ny = g.redMul(h);
    	  // T3 = E * H
    	  var nt = e.redMul(h);
    	  // Z3 = F * G
    	  var nz = f.redMul(g);
    	  return this.curve.point(nx, ny, nz, nt);
    	};

    	Point.prototype._projAdd = function _projAdd(p) {
    	  // hyperelliptic.org/EFD/g1p/auto-twisted-projective.html
    	  //     #addition-add-2008-bbjlp
    	  //     #addition-add-2007-bl
    	  // 10M + 1S

    	  // A = Z1 * Z2
    	  var a = this.z.redMul(p.z);
    	  // B = A^2
    	  var b = a.redSqr();
    	  // C = X1 * X2
    	  var c = this.x.redMul(p.x);
    	  // D = Y1 * Y2
    	  var d = this.y.redMul(p.y);
    	  // E = d * C * D
    	  var e = this.curve.d.redMul(c).redMul(d);
    	  // F = B - E
    	  var f = b.redSub(e);
    	  // G = B + E
    	  var g = b.redAdd(e);
    	  // X3 = A * F * ((X1 + Y1) * (X2 + Y2) - C - D)
    	  var tmp = this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);
    	  var nx = a.redMul(f).redMul(tmp);
    	  var ny;
    	  var nz;
    	  if (this.curve.twisted) {
    	    // Y3 = A * G * (D - a * C)
    	    ny = a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));
    	    // Z3 = F * G
    	    nz = f.redMul(g);
    	  } else {
    	    // Y3 = A * G * (D - C)
    	    ny = a.redMul(g).redMul(d.redSub(c));
    	    // Z3 = c * F * G
    	    nz = this.curve._mulC(f).redMul(g);
    	  }
    	  return this.curve.point(nx, ny, nz);
    	};

    	Point.prototype.add = function add(p) {
    	  if (this.isInfinity())
    	    return p;
    	  if (p.isInfinity())
    	    return this;

    	  if (this.curve.extended)
    	    return this._extAdd(p);
    	  else
    	    return this._projAdd(p);
    	};

    	Point.prototype.mul = function mul(k) {
    	  if (this._hasDoubles(k))
    	    return this.curve._fixedNafMul(this, k);
    	  else
    	    return this.curve._wnafMul(this, k);
    	};

    	Point.prototype.mulAdd = function mulAdd(k1, p, k2) {
    	  return this.curve._wnafMulAdd(1, [ this, p ], [ k1, k2 ], 2, false);
    	};

    	Point.prototype.jmulAdd = function jmulAdd(k1, p, k2) {
    	  return this.curve._wnafMulAdd(1, [ this, p ], [ k1, k2 ], 2, true);
    	};

    	Point.prototype.normalize = function normalize() {
    	  if (this.zOne)
    	    return this;

    	  // Normalize coordinates
    	  var zi = this.z.redInvm();
    	  this.x = this.x.redMul(zi);
    	  this.y = this.y.redMul(zi);
    	  if (this.t)
    	    this.t = this.t.redMul(zi);
    	  this.z = this.curve.one;
    	  this.zOne = true;
    	  return this;
    	};

    	Point.prototype.neg = function neg() {
    	  return this.curve.point(this.x.redNeg(),
    	    this.y,
    	    this.z,
    	    this.t && this.t.redNeg());
    	};

    	Point.prototype.getX = function getX() {
    	  this.normalize();
    	  return this.x.fromRed();
    	};

    	Point.prototype.getY = function getY() {
    	  this.normalize();
    	  return this.y.fromRed();
    	};

    	Point.prototype.eq = function eq(other) {
    	  return this === other ||
    	         this.getX().cmp(other.getX()) === 0 &&
    	         this.getY().cmp(other.getY()) === 0;
    	};

    	Point.prototype.eqXToP = function eqXToP(x) {
    	  var rx = x.toRed(this.curve.red).redMul(this.z);
    	  if (this.x.cmp(rx) === 0)
    	    return true;

    	  var xc = x.clone();
    	  var t = this.curve.redN.redMul(this.z);
    	  for (;;) {
    	    xc.iadd(this.curve.n);
    	    if (xc.cmp(this.curve.p) >= 0)
    	      return false;

    	    rx.redIAdd(t);
    	    if (this.x.cmp(rx) === 0)
    	      return true;
    	  }
    	};

    	// Compatibility with BaseCurve
    	Point.prototype.toP = Point.prototype.normalize;
    	Point.prototype.mixedAdd = Point.prototype.add;
    	return edwards;
    }

    var hasRequiredCurve;

    function requireCurve () {
    	if (hasRequiredCurve) return curve;
    	hasRequiredCurve = 1;
    	(function (exports) {

    		var curve = exports;

    		curve.base = requireBase();
    		curve.short = requireShort();
    		curve.mont = requireMont();
    		curve.edwards = requireEdwards(); 
    	} (curve));
    	return curve;
    }

    var curves = {};

    var hash = {};

    var utils$3 = {};

    var hasRequiredUtils$3;

    function requireUtils$3 () {
    	if (hasRequiredUtils$3) return utils$3;
    	hasRequiredUtils$3 = 1;

    	var assert = requireMinimalisticAssert();
    	var inherits = requireInherits();

    	utils$3.inherits = inherits;

    	function isSurrogatePair(msg, i) {
    	  if ((msg.charCodeAt(i) & 0xFC00) !== 0xD800) {
    	    return false;
    	  }
    	  if (i < 0 || i + 1 >= msg.length) {
    	    return false;
    	  }
    	  return (msg.charCodeAt(i + 1) & 0xFC00) === 0xDC00;
    	}

    	function toArray(msg, enc) {
    	  if (Array.isArray(msg))
    	    return msg.slice();
    	  if (!msg)
    	    return [];
    	  var res = [];
    	  if (typeof msg === 'string') {
    	    if (!enc) {
    	      // Inspired by stringToUtf8ByteArray() in closure-library by Google
    	      // https://github.com/google/closure-library/blob/8598d87242af59aac233270742c8984e2b2bdbe0/closure/goog/crypt/crypt.js#L117-L143
    	      // Apache License 2.0
    	      // https://github.com/google/closure-library/blob/master/LICENSE
    	      var p = 0;
    	      for (var i = 0; i < msg.length; i++) {
    	        var c = msg.charCodeAt(i);
    	        if (c < 128) {
    	          res[p++] = c;
    	        } else if (c < 2048) {
    	          res[p++] = (c >> 6) | 192;
    	          res[p++] = (c & 63) | 128;
    	        } else if (isSurrogatePair(msg, i)) {
    	          c = 0x10000 + ((c & 0x03FF) << 10) + (msg.charCodeAt(++i) & 0x03FF);
    	          res[p++] = (c >> 18) | 240;
    	          res[p++] = ((c >> 12) & 63) | 128;
    	          res[p++] = ((c >> 6) & 63) | 128;
    	          res[p++] = (c & 63) | 128;
    	        } else {
    	          res[p++] = (c >> 12) | 224;
    	          res[p++] = ((c >> 6) & 63) | 128;
    	          res[p++] = (c & 63) | 128;
    	        }
    	      }
    	    } else if (enc === 'hex') {
    	      msg = msg.replace(/[^a-z0-9]+/ig, '');
    	      if (msg.length % 2 !== 0)
    	        msg = '0' + msg;
    	      for (i = 0; i < msg.length; i += 2)
    	        res.push(parseInt(msg[i] + msg[i + 1], 16));
    	    }
    	  } else {
    	    for (i = 0; i < msg.length; i++)
    	      res[i] = msg[i] | 0;
    	  }
    	  return res;
    	}
    	utils$3.toArray = toArray;

    	function toHex(msg) {
    	  var res = '';
    	  for (var i = 0; i < msg.length; i++)
    	    res += zero2(msg[i].toString(16));
    	  return res;
    	}
    	utils$3.toHex = toHex;

    	function htonl(w) {
    	  var res = (w >>> 24) |
    	            ((w >>> 8) & 0xff00) |
    	            ((w << 8) & 0xff0000) |
    	            ((w & 0xff) << 24);
    	  return res >>> 0;
    	}
    	utils$3.htonl = htonl;

    	function toHex32(msg, endian) {
    	  var res = '';
    	  for (var i = 0; i < msg.length; i++) {
    	    var w = msg[i];
    	    if (endian === 'little')
    	      w = htonl(w);
    	    res += zero8(w.toString(16));
    	  }
    	  return res;
    	}
    	utils$3.toHex32 = toHex32;

    	function zero2(word) {
    	  if (word.length === 1)
    	    return '0' + word;
    	  else
    	    return word;
    	}
    	utils$3.zero2 = zero2;

    	function zero8(word) {
    	  if (word.length === 7)
    	    return '0' + word;
    	  else if (word.length === 6)
    	    return '00' + word;
    	  else if (word.length === 5)
    	    return '000' + word;
    	  else if (word.length === 4)
    	    return '0000' + word;
    	  else if (word.length === 3)
    	    return '00000' + word;
    	  else if (word.length === 2)
    	    return '000000' + word;
    	  else if (word.length === 1)
    	    return '0000000' + word;
    	  else
    	    return word;
    	}
    	utils$3.zero8 = zero8;

    	function join32(msg, start, end, endian) {
    	  var len = end - start;
    	  assert(len % 4 === 0);
    	  var res = new Array(len / 4);
    	  for (var i = 0, k = start; i < res.length; i++, k += 4) {
    	    var w;
    	    if (endian === 'big')
    	      w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3];
    	    else
    	      w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k];
    	    res[i] = w >>> 0;
    	  }
    	  return res;
    	}
    	utils$3.join32 = join32;

    	function split32(msg, endian) {
    	  var res = new Array(msg.length * 4);
    	  for (var i = 0, k = 0; i < msg.length; i++, k += 4) {
    	    var m = msg[i];
    	    if (endian === 'big') {
    	      res[k] = m >>> 24;
    	      res[k + 1] = (m >>> 16) & 0xff;
    	      res[k + 2] = (m >>> 8) & 0xff;
    	      res[k + 3] = m & 0xff;
    	    } else {
    	      res[k + 3] = m >>> 24;
    	      res[k + 2] = (m >>> 16) & 0xff;
    	      res[k + 1] = (m >>> 8) & 0xff;
    	      res[k] = m & 0xff;
    	    }
    	  }
    	  return res;
    	}
    	utils$3.split32 = split32;

    	function rotr32(w, b) {
    	  return (w >>> b) | (w << (32 - b));
    	}
    	utils$3.rotr32 = rotr32;

    	function rotl32(w, b) {
    	  return (w << b) | (w >>> (32 - b));
    	}
    	utils$3.rotl32 = rotl32;

    	function sum32(a, b) {
    	  return (a + b) >>> 0;
    	}
    	utils$3.sum32 = sum32;

    	function sum32_3(a, b, c) {
    	  return (a + b + c) >>> 0;
    	}
    	utils$3.sum32_3 = sum32_3;

    	function sum32_4(a, b, c, d) {
    	  return (a + b + c + d) >>> 0;
    	}
    	utils$3.sum32_4 = sum32_4;

    	function sum32_5(a, b, c, d, e) {
    	  return (a + b + c + d + e) >>> 0;
    	}
    	utils$3.sum32_5 = sum32_5;

    	function sum64(buf, pos, ah, al) {
    	  var bh = buf[pos];
    	  var bl = buf[pos + 1];

    	  var lo = (al + bl) >>> 0;
    	  var hi = (lo < al ? 1 : 0) + ah + bh;
    	  buf[pos] = hi >>> 0;
    	  buf[pos + 1] = lo;
    	}
    	utils$3.sum64 = sum64;

    	function sum64_hi(ah, al, bh, bl) {
    	  var lo = (al + bl) >>> 0;
    	  var hi = (lo < al ? 1 : 0) + ah + bh;
    	  return hi >>> 0;
    	}
    	utils$3.sum64_hi = sum64_hi;

    	function sum64_lo(ah, al, bh, bl) {
    	  var lo = al + bl;
    	  return lo >>> 0;
    	}
    	utils$3.sum64_lo = sum64_lo;

    	function sum64_4_hi(ah, al, bh, bl, ch, cl, dh, dl) {
    	  var carry = 0;
    	  var lo = al;
    	  lo = (lo + bl) >>> 0;
    	  carry += lo < al ? 1 : 0;
    	  lo = (lo + cl) >>> 0;
    	  carry += lo < cl ? 1 : 0;
    	  lo = (lo + dl) >>> 0;
    	  carry += lo < dl ? 1 : 0;

    	  var hi = ah + bh + ch + dh + carry;
    	  return hi >>> 0;
    	}
    	utils$3.sum64_4_hi = sum64_4_hi;

    	function sum64_4_lo(ah, al, bh, bl, ch, cl, dh, dl) {
    	  var lo = al + bl + cl + dl;
    	  return lo >>> 0;
    	}
    	utils$3.sum64_4_lo = sum64_4_lo;

    	function sum64_5_hi(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {
    	  var carry = 0;
    	  var lo = al;
    	  lo = (lo + bl) >>> 0;
    	  carry += lo < al ? 1 : 0;
    	  lo = (lo + cl) >>> 0;
    	  carry += lo < cl ? 1 : 0;
    	  lo = (lo + dl) >>> 0;
    	  carry += lo < dl ? 1 : 0;
    	  lo = (lo + el) >>> 0;
    	  carry += lo < el ? 1 : 0;

    	  var hi = ah + bh + ch + dh + eh + carry;
    	  return hi >>> 0;
    	}
    	utils$3.sum64_5_hi = sum64_5_hi;

    	function sum64_5_lo(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {
    	  var lo = al + bl + cl + dl + el;

    	  return lo >>> 0;
    	}
    	utils$3.sum64_5_lo = sum64_5_lo;

    	function rotr64_hi(ah, al, num) {
    	  var r = (al << (32 - num)) | (ah >>> num);
    	  return r >>> 0;
    	}
    	utils$3.rotr64_hi = rotr64_hi;

    	function rotr64_lo(ah, al, num) {
    	  var r = (ah << (32 - num)) | (al >>> num);
    	  return r >>> 0;
    	}
    	utils$3.rotr64_lo = rotr64_lo;

    	function shr64_hi(ah, al, num) {
    	  return ah >>> num;
    	}
    	utils$3.shr64_hi = shr64_hi;

    	function shr64_lo(ah, al, num) {
    	  var r = (ah << (32 - num)) | (al >>> num);
    	  return r >>> 0;
    	}
    	utils$3.shr64_lo = shr64_lo;
    	return utils$3;
    }

    var common$1 = {};

    var hasRequiredCommon$1;

    function requireCommon$1 () {
    	if (hasRequiredCommon$1) return common$1;
    	hasRequiredCommon$1 = 1;

    	var utils = requireUtils$3();
    	var assert = requireMinimalisticAssert();

    	function BlockHash() {
    	  this.pending = null;
    	  this.pendingTotal = 0;
    	  this.blockSize = this.constructor.blockSize;
    	  this.outSize = this.constructor.outSize;
    	  this.hmacStrength = this.constructor.hmacStrength;
    	  this.padLength = this.constructor.padLength / 8;
    	  this.endian = 'big';

    	  this._delta8 = this.blockSize / 8;
    	  this._delta32 = this.blockSize / 32;
    	}
    	common$1.BlockHash = BlockHash;

    	BlockHash.prototype.update = function update(msg, enc) {
    	  // Convert message to array, pad it, and join into 32bit blocks
    	  msg = utils.toArray(msg, enc);
    	  if (!this.pending)
    	    this.pending = msg;
    	  else
    	    this.pending = this.pending.concat(msg);
    	  this.pendingTotal += msg.length;

    	  // Enough data, try updating
    	  if (this.pending.length >= this._delta8) {
    	    msg = this.pending;

    	    // Process pending data in blocks
    	    var r = msg.length % this._delta8;
    	    this.pending = msg.slice(msg.length - r, msg.length);
    	    if (this.pending.length === 0)
    	      this.pending = null;

    	    msg = utils.join32(msg, 0, msg.length - r, this.endian);
    	    for (var i = 0; i < msg.length; i += this._delta32)
    	      this._update(msg, i, i + this._delta32);
    	  }

    	  return this;
    	};

    	BlockHash.prototype.digest = function digest(enc) {
    	  this.update(this._pad());
    	  assert(this.pending === null);

    	  return this._digest(enc);
    	};

    	BlockHash.prototype._pad = function pad() {
    	  var len = this.pendingTotal;
    	  var bytes = this._delta8;
    	  var k = bytes - ((len + this.padLength) % bytes);
    	  var res = new Array(k + this.padLength);
    	  res[0] = 0x80;
    	  for (var i = 1; i < k; i++)
    	    res[i] = 0;

    	  // Append length
    	  len <<= 3;
    	  if (this.endian === 'big') {
    	    for (var t = 8; t < this.padLength; t++)
    	      res[i++] = 0;

    	    res[i++] = 0;
    	    res[i++] = 0;
    	    res[i++] = 0;
    	    res[i++] = 0;
    	    res[i++] = (len >>> 24) & 0xff;
    	    res[i++] = (len >>> 16) & 0xff;
    	    res[i++] = (len >>> 8) & 0xff;
    	    res[i++] = len & 0xff;
    	  } else {
    	    res[i++] = len & 0xff;
    	    res[i++] = (len >>> 8) & 0xff;
    	    res[i++] = (len >>> 16) & 0xff;
    	    res[i++] = (len >>> 24) & 0xff;
    	    res[i++] = 0;
    	    res[i++] = 0;
    	    res[i++] = 0;
    	    res[i++] = 0;

    	    for (t = 8; t < this.padLength; t++)
    	      res[i++] = 0;
    	  }

    	  return res;
    	};
    	return common$1;
    }

    var sha = {};

    var common = {};

    var hasRequiredCommon;

    function requireCommon () {
    	if (hasRequiredCommon) return common;
    	hasRequiredCommon = 1;

    	var utils = requireUtils$3();
    	var rotr32 = utils.rotr32;

    	function ft_1(s, x, y, z) {
    	  if (s === 0)
    	    return ch32(x, y, z);
    	  if (s === 1 || s === 3)
    	    return p32(x, y, z);
    	  if (s === 2)
    	    return maj32(x, y, z);
    	}
    	common.ft_1 = ft_1;

    	function ch32(x, y, z) {
    	  return (x & y) ^ ((~x) & z);
    	}
    	common.ch32 = ch32;

    	function maj32(x, y, z) {
    	  return (x & y) ^ (x & z) ^ (y & z);
    	}
    	common.maj32 = maj32;

    	function p32(x, y, z) {
    	  return x ^ y ^ z;
    	}
    	common.p32 = p32;

    	function s0_256(x) {
    	  return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22);
    	}
    	common.s0_256 = s0_256;

    	function s1_256(x) {
    	  return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25);
    	}
    	common.s1_256 = s1_256;

    	function g0_256(x) {
    	  return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3);
    	}
    	common.g0_256 = g0_256;

    	function g1_256(x) {
    	  return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10);
    	}
    	common.g1_256 = g1_256;
    	return common;
    }

    var _1;
    var hasRequired_1;

    function require_1 () {
    	if (hasRequired_1) return _1;
    	hasRequired_1 = 1;

    	var utils = requireUtils$3();
    	var common = requireCommon$1();
    	var shaCommon = requireCommon();

    	var rotl32 = utils.rotl32;
    	var sum32 = utils.sum32;
    	var sum32_5 = utils.sum32_5;
    	var ft_1 = shaCommon.ft_1;
    	var BlockHash = common.BlockHash;

    	var sha1_K = [
    	  0x5A827999, 0x6ED9EBA1,
    	  0x8F1BBCDC, 0xCA62C1D6
    	];

    	function SHA1() {
    	  if (!(this instanceof SHA1))
    	    return new SHA1();

    	  BlockHash.call(this);
    	  this.h = [
    	    0x67452301, 0xefcdab89, 0x98badcfe,
    	    0x10325476, 0xc3d2e1f0 ];
    	  this.W = new Array(80);
    	}

    	utils.inherits(SHA1, BlockHash);
    	_1 = SHA1;

    	SHA1.blockSize = 512;
    	SHA1.outSize = 160;
    	SHA1.hmacStrength = 80;
    	SHA1.padLength = 64;

    	SHA1.prototype._update = function _update(msg, start) {
    	  var W = this.W;

    	  for (var i = 0; i < 16; i++)
    	    W[i] = msg[start + i];

    	  for(; i < W.length; i++)
    	    W[i] = rotl32(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);

    	  var a = this.h[0];
    	  var b = this.h[1];
    	  var c = this.h[2];
    	  var d = this.h[3];
    	  var e = this.h[4];

    	  for (i = 0; i < W.length; i++) {
    	    var s = ~~(i / 20);
    	    var t = sum32_5(rotl32(a, 5), ft_1(s, b, c, d), e, W[i], sha1_K[s]);
    	    e = d;
    	    d = c;
    	    c = rotl32(b, 30);
    	    b = a;
    	    a = t;
    	  }

    	  this.h[0] = sum32(this.h[0], a);
    	  this.h[1] = sum32(this.h[1], b);
    	  this.h[2] = sum32(this.h[2], c);
    	  this.h[3] = sum32(this.h[3], d);
    	  this.h[4] = sum32(this.h[4], e);
    	};

    	SHA1.prototype._digest = function digest(enc) {
    	  if (enc === 'hex')
    	    return utils.toHex32(this.h, 'big');
    	  else
    	    return utils.split32(this.h, 'big');
    	};
    	return _1;
    }

    var _256;
    var hasRequired_256;

    function require_256 () {
    	if (hasRequired_256) return _256;
    	hasRequired_256 = 1;

    	var utils = requireUtils$3();
    	var common = requireCommon$1();
    	var shaCommon = requireCommon();
    	var assert = requireMinimalisticAssert();

    	var sum32 = utils.sum32;
    	var sum32_4 = utils.sum32_4;
    	var sum32_5 = utils.sum32_5;
    	var ch32 = shaCommon.ch32;
    	var maj32 = shaCommon.maj32;
    	var s0_256 = shaCommon.s0_256;
    	var s1_256 = shaCommon.s1_256;
    	var g0_256 = shaCommon.g0_256;
    	var g1_256 = shaCommon.g1_256;

    	var BlockHash = common.BlockHash;

    	var sha256_K = [
    	  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,
    	  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,
    	  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,
    	  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,
    	  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,
    	  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
    	  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,
    	  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,
    	  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,
    	  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,
    	  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,
    	  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
    	  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,
    	  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,
    	  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,
    	  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2
    	];

    	function SHA256() {
    	  if (!(this instanceof SHA256))
    	    return new SHA256();

    	  BlockHash.call(this);
    	  this.h = [
    	    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a,
    	    0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19
    	  ];
    	  this.k = sha256_K;
    	  this.W = new Array(64);
    	}
    	utils.inherits(SHA256, BlockHash);
    	_256 = SHA256;

    	SHA256.blockSize = 512;
    	SHA256.outSize = 256;
    	SHA256.hmacStrength = 192;
    	SHA256.padLength = 64;

    	SHA256.prototype._update = function _update(msg, start) {
    	  var W = this.W;

    	  for (var i = 0; i < 16; i++)
    	    W[i] = msg[start + i];
    	  for (; i < W.length; i++)
    	    W[i] = sum32_4(g1_256(W[i - 2]), W[i - 7], g0_256(W[i - 15]), W[i - 16]);

    	  var a = this.h[0];
    	  var b = this.h[1];
    	  var c = this.h[2];
    	  var d = this.h[3];
    	  var e = this.h[4];
    	  var f = this.h[5];
    	  var g = this.h[6];
    	  var h = this.h[7];

    	  assert(this.k.length === W.length);
    	  for (i = 0; i < W.length; i++) {
    	    var T1 = sum32_5(h, s1_256(e), ch32(e, f, g), this.k[i], W[i]);
    	    var T2 = sum32(s0_256(a), maj32(a, b, c));
    	    h = g;
    	    g = f;
    	    f = e;
    	    e = sum32(d, T1);
    	    d = c;
    	    c = b;
    	    b = a;
    	    a = sum32(T1, T2);
    	  }

    	  this.h[0] = sum32(this.h[0], a);
    	  this.h[1] = sum32(this.h[1], b);
    	  this.h[2] = sum32(this.h[2], c);
    	  this.h[3] = sum32(this.h[3], d);
    	  this.h[4] = sum32(this.h[4], e);
    	  this.h[5] = sum32(this.h[5], f);
    	  this.h[6] = sum32(this.h[6], g);
    	  this.h[7] = sum32(this.h[7], h);
    	};

    	SHA256.prototype._digest = function digest(enc) {
    	  if (enc === 'hex')
    	    return utils.toHex32(this.h, 'big');
    	  else
    	    return utils.split32(this.h, 'big');
    	};
    	return _256;
    }

    var _224;
    var hasRequired_224;

    function require_224 () {
    	if (hasRequired_224) return _224;
    	hasRequired_224 = 1;

    	var utils = requireUtils$3();
    	var SHA256 = require_256();

    	function SHA224() {
    	  if (!(this instanceof SHA224))
    	    return new SHA224();

    	  SHA256.call(this);
    	  this.h = [
    	    0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939,
    	    0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4 ];
    	}
    	utils.inherits(SHA224, SHA256);
    	_224 = SHA224;

    	SHA224.blockSize = 512;
    	SHA224.outSize = 224;
    	SHA224.hmacStrength = 192;
    	SHA224.padLength = 64;

    	SHA224.prototype._digest = function digest(enc) {
    	  // Just truncate output
    	  if (enc === 'hex')
    	    return utils.toHex32(this.h.slice(0, 7), 'big');
    	  else
    	    return utils.split32(this.h.slice(0, 7), 'big');
    	};
    	return _224;
    }

    var _512;
    var hasRequired_512;

    function require_512 () {
    	if (hasRequired_512) return _512;
    	hasRequired_512 = 1;

    	var utils = requireUtils$3();
    	var common = requireCommon$1();
    	var assert = requireMinimalisticAssert();

    	var rotr64_hi = utils.rotr64_hi;
    	var rotr64_lo = utils.rotr64_lo;
    	var shr64_hi = utils.shr64_hi;
    	var shr64_lo = utils.shr64_lo;
    	var sum64 = utils.sum64;
    	var sum64_hi = utils.sum64_hi;
    	var sum64_lo = utils.sum64_lo;
    	var sum64_4_hi = utils.sum64_4_hi;
    	var sum64_4_lo = utils.sum64_4_lo;
    	var sum64_5_hi = utils.sum64_5_hi;
    	var sum64_5_lo = utils.sum64_5_lo;

    	var BlockHash = common.BlockHash;

    	var sha512_K = [
    	  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,
    	  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,
    	  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,
    	  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,
    	  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,
    	  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,
    	  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,
    	  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,
    	  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,
    	  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,
    	  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,
    	  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,
    	  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,
    	  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,
    	  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,
    	  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,
    	  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,
    	  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,
    	  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,
    	  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,
    	  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,
    	  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,
    	  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,
    	  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,
    	  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,
    	  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,
    	  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,
    	  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,
    	  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,
    	  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,
    	  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,
    	  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,
    	  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,
    	  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,
    	  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,
    	  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,
    	  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,
    	  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,
    	  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,
    	  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817
    	];

    	function SHA512() {
    	  if (!(this instanceof SHA512))
    	    return new SHA512();

    	  BlockHash.call(this);
    	  this.h = [
    	    0x6a09e667, 0xf3bcc908,
    	    0xbb67ae85, 0x84caa73b,
    	    0x3c6ef372, 0xfe94f82b,
    	    0xa54ff53a, 0x5f1d36f1,
    	    0x510e527f, 0xade682d1,
    	    0x9b05688c, 0x2b3e6c1f,
    	    0x1f83d9ab, 0xfb41bd6b,
    	    0x5be0cd19, 0x137e2179 ];
    	  this.k = sha512_K;
    	  this.W = new Array(160);
    	}
    	utils.inherits(SHA512, BlockHash);
    	_512 = SHA512;

    	SHA512.blockSize = 1024;
    	SHA512.outSize = 512;
    	SHA512.hmacStrength = 192;
    	SHA512.padLength = 128;

    	SHA512.prototype._prepareBlock = function _prepareBlock(msg, start) {
    	  var W = this.W;

    	  // 32 x 32bit words
    	  for (var i = 0; i < 32; i++)
    	    W[i] = msg[start + i];
    	  for (; i < W.length; i += 2) {
    	    var c0_hi = g1_512_hi(W[i - 4], W[i - 3]);  // i - 2
    	    var c0_lo = g1_512_lo(W[i - 4], W[i - 3]);
    	    var c1_hi = W[i - 14];  // i - 7
    	    var c1_lo = W[i - 13];
    	    var c2_hi = g0_512_hi(W[i - 30], W[i - 29]);  // i - 15
    	    var c2_lo = g0_512_lo(W[i - 30], W[i - 29]);
    	    var c3_hi = W[i - 32];  // i - 16
    	    var c3_lo = W[i - 31];

    	    W[i] = sum64_4_hi(
    	      c0_hi, c0_lo,
    	      c1_hi, c1_lo,
    	      c2_hi, c2_lo,
    	      c3_hi, c3_lo);
    	    W[i + 1] = sum64_4_lo(
    	      c0_hi, c0_lo,
    	      c1_hi, c1_lo,
    	      c2_hi, c2_lo,
    	      c3_hi, c3_lo);
    	  }
    	};

    	SHA512.prototype._update = function _update(msg, start) {
    	  this._prepareBlock(msg, start);

    	  var W = this.W;

    	  var ah = this.h[0];
    	  var al = this.h[1];
    	  var bh = this.h[2];
    	  var bl = this.h[3];
    	  var ch = this.h[4];
    	  var cl = this.h[5];
    	  var dh = this.h[6];
    	  var dl = this.h[7];
    	  var eh = this.h[8];
    	  var el = this.h[9];
    	  var fh = this.h[10];
    	  var fl = this.h[11];
    	  var gh = this.h[12];
    	  var gl = this.h[13];
    	  var hh = this.h[14];
    	  var hl = this.h[15];

    	  assert(this.k.length === W.length);
    	  for (var i = 0; i < W.length; i += 2) {
    	    var c0_hi = hh;
    	    var c0_lo = hl;
    	    var c1_hi = s1_512_hi(eh, el);
    	    var c1_lo = s1_512_lo(eh, el);
    	    var c2_hi = ch64_hi(eh, el, fh, fl, gh);
    	    var c2_lo = ch64_lo(eh, el, fh, fl, gh, gl);
    	    var c3_hi = this.k[i];
    	    var c3_lo = this.k[i + 1];
    	    var c4_hi = W[i];
    	    var c4_lo = W[i + 1];

    	    var T1_hi = sum64_5_hi(
    	      c0_hi, c0_lo,
    	      c1_hi, c1_lo,
    	      c2_hi, c2_lo,
    	      c3_hi, c3_lo,
    	      c4_hi, c4_lo);
    	    var T1_lo = sum64_5_lo(
    	      c0_hi, c0_lo,
    	      c1_hi, c1_lo,
    	      c2_hi, c2_lo,
    	      c3_hi, c3_lo,
    	      c4_hi, c4_lo);

    	    c0_hi = s0_512_hi(ah, al);
    	    c0_lo = s0_512_lo(ah, al);
    	    c1_hi = maj64_hi(ah, al, bh, bl, ch);
    	    c1_lo = maj64_lo(ah, al, bh, bl, ch, cl);

    	    var T2_hi = sum64_hi(c0_hi, c0_lo, c1_hi, c1_lo);
    	    var T2_lo = sum64_lo(c0_hi, c0_lo, c1_hi, c1_lo);

    	    hh = gh;
    	    hl = gl;

    	    gh = fh;
    	    gl = fl;

    	    fh = eh;
    	    fl = el;

    	    eh = sum64_hi(dh, dl, T1_hi, T1_lo);
    	    el = sum64_lo(dl, dl, T1_hi, T1_lo);

    	    dh = ch;
    	    dl = cl;

    	    ch = bh;
    	    cl = bl;

    	    bh = ah;
    	    bl = al;

    	    ah = sum64_hi(T1_hi, T1_lo, T2_hi, T2_lo);
    	    al = sum64_lo(T1_hi, T1_lo, T2_hi, T2_lo);
    	  }

    	  sum64(this.h, 0, ah, al);
    	  sum64(this.h, 2, bh, bl);
    	  sum64(this.h, 4, ch, cl);
    	  sum64(this.h, 6, dh, dl);
    	  sum64(this.h, 8, eh, el);
    	  sum64(this.h, 10, fh, fl);
    	  sum64(this.h, 12, gh, gl);
    	  sum64(this.h, 14, hh, hl);
    	};

    	SHA512.prototype._digest = function digest(enc) {
    	  if (enc === 'hex')
    	    return utils.toHex32(this.h, 'big');
    	  else
    	    return utils.split32(this.h, 'big');
    	};

    	function ch64_hi(xh, xl, yh, yl, zh) {
    	  var r = (xh & yh) ^ ((~xh) & zh);
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function ch64_lo(xh, xl, yh, yl, zh, zl) {
    	  var r = (xl & yl) ^ ((~xl) & zl);
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function maj64_hi(xh, xl, yh, yl, zh) {
    	  var r = (xh & yh) ^ (xh & zh) ^ (yh & zh);
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function maj64_lo(xh, xl, yh, yl, zh, zl) {
    	  var r = (xl & yl) ^ (xl & zl) ^ (yl & zl);
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function s0_512_hi(xh, xl) {
    	  var c0_hi = rotr64_hi(xh, xl, 28);
    	  var c1_hi = rotr64_hi(xl, xh, 2);  // 34
    	  var c2_hi = rotr64_hi(xl, xh, 7);  // 39

    	  var r = c0_hi ^ c1_hi ^ c2_hi;
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function s0_512_lo(xh, xl) {
    	  var c0_lo = rotr64_lo(xh, xl, 28);
    	  var c1_lo = rotr64_lo(xl, xh, 2);  // 34
    	  var c2_lo = rotr64_lo(xl, xh, 7);  // 39

    	  var r = c0_lo ^ c1_lo ^ c2_lo;
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function s1_512_hi(xh, xl) {
    	  var c0_hi = rotr64_hi(xh, xl, 14);
    	  var c1_hi = rotr64_hi(xh, xl, 18);
    	  var c2_hi = rotr64_hi(xl, xh, 9);  // 41

    	  var r = c0_hi ^ c1_hi ^ c2_hi;
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function s1_512_lo(xh, xl) {
    	  var c0_lo = rotr64_lo(xh, xl, 14);
    	  var c1_lo = rotr64_lo(xh, xl, 18);
    	  var c2_lo = rotr64_lo(xl, xh, 9);  // 41

    	  var r = c0_lo ^ c1_lo ^ c2_lo;
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function g0_512_hi(xh, xl) {
    	  var c0_hi = rotr64_hi(xh, xl, 1);
    	  var c1_hi = rotr64_hi(xh, xl, 8);
    	  var c2_hi = shr64_hi(xh, xl, 7);

    	  var r = c0_hi ^ c1_hi ^ c2_hi;
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function g0_512_lo(xh, xl) {
    	  var c0_lo = rotr64_lo(xh, xl, 1);
    	  var c1_lo = rotr64_lo(xh, xl, 8);
    	  var c2_lo = shr64_lo(xh, xl, 7);

    	  var r = c0_lo ^ c1_lo ^ c2_lo;
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function g1_512_hi(xh, xl) {
    	  var c0_hi = rotr64_hi(xh, xl, 19);
    	  var c1_hi = rotr64_hi(xl, xh, 29);  // 61
    	  var c2_hi = shr64_hi(xh, xl, 6);

    	  var r = c0_hi ^ c1_hi ^ c2_hi;
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}

    	function g1_512_lo(xh, xl) {
    	  var c0_lo = rotr64_lo(xh, xl, 19);
    	  var c1_lo = rotr64_lo(xl, xh, 29);  // 61
    	  var c2_lo = shr64_lo(xh, xl, 6);

    	  var r = c0_lo ^ c1_lo ^ c2_lo;
    	  if (r < 0)
    	    r += 0x100000000;
    	  return r;
    	}
    	return _512;
    }

    var _384;
    var hasRequired_384;

    function require_384 () {
    	if (hasRequired_384) return _384;
    	hasRequired_384 = 1;

    	var utils = requireUtils$3();

    	var SHA512 = require_512();

    	function SHA384() {
    	  if (!(this instanceof SHA384))
    	    return new SHA384();

    	  SHA512.call(this);
    	  this.h = [
    	    0xcbbb9d5d, 0xc1059ed8,
    	    0x629a292a, 0x367cd507,
    	    0x9159015a, 0x3070dd17,
    	    0x152fecd8, 0xf70e5939,
    	    0x67332667, 0xffc00b31,
    	    0x8eb44a87, 0x68581511,
    	    0xdb0c2e0d, 0x64f98fa7,
    	    0x47b5481d, 0xbefa4fa4 ];
    	}
    	utils.inherits(SHA384, SHA512);
    	_384 = SHA384;

    	SHA384.blockSize = 1024;
    	SHA384.outSize = 384;
    	SHA384.hmacStrength = 192;
    	SHA384.padLength = 128;

    	SHA384.prototype._digest = function digest(enc) {
    	  if (enc === 'hex')
    	    return utils.toHex32(this.h.slice(0, 12), 'big');
    	  else
    	    return utils.split32(this.h.slice(0, 12), 'big');
    	};
    	return _384;
    }

    var hasRequiredSha;

    function requireSha () {
    	if (hasRequiredSha) return sha;
    	hasRequiredSha = 1;

    	sha.sha1 = require_1();
    	sha.sha224 = require_224();
    	sha.sha256 = require_256();
    	sha.sha384 = require_384();
    	sha.sha512 = require_512();
    	return sha;
    }

    var ripemd = {};

    var hasRequiredRipemd;

    function requireRipemd () {
    	if (hasRequiredRipemd) return ripemd;
    	hasRequiredRipemd = 1;

    	var utils = requireUtils$3();
    	var common = requireCommon$1();

    	var rotl32 = utils.rotl32;
    	var sum32 = utils.sum32;
    	var sum32_3 = utils.sum32_3;
    	var sum32_4 = utils.sum32_4;
    	var BlockHash = common.BlockHash;

    	function RIPEMD160() {
    	  if (!(this instanceof RIPEMD160))
    	    return new RIPEMD160();

    	  BlockHash.call(this);

    	  this.h = [ 0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0 ];
    	  this.endian = 'little';
    	}
    	utils.inherits(RIPEMD160, BlockHash);
    	ripemd.ripemd160 = RIPEMD160;

    	RIPEMD160.blockSize = 512;
    	RIPEMD160.outSize = 160;
    	RIPEMD160.hmacStrength = 192;
    	RIPEMD160.padLength = 64;

    	RIPEMD160.prototype._update = function update(msg, start) {
    	  var A = this.h[0];
    	  var B = this.h[1];
    	  var C = this.h[2];
    	  var D = this.h[3];
    	  var E = this.h[4];
    	  var Ah = A;
    	  var Bh = B;
    	  var Ch = C;
    	  var Dh = D;
    	  var Eh = E;
    	  for (var j = 0; j < 80; j++) {
    	    var T = sum32(
    	      rotl32(
    	        sum32_4(A, f(j, B, C, D), msg[r[j] + start], K(j)),
    	        s[j]),
    	      E);
    	    A = E;
    	    E = D;
    	    D = rotl32(C, 10);
    	    C = B;
    	    B = T;
    	    T = sum32(
    	      rotl32(
    	        sum32_4(Ah, f(79 - j, Bh, Ch, Dh), msg[rh[j] + start], Kh(j)),
    	        sh[j]),
    	      Eh);
    	    Ah = Eh;
    	    Eh = Dh;
    	    Dh = rotl32(Ch, 10);
    	    Ch = Bh;
    	    Bh = T;
    	  }
    	  T = sum32_3(this.h[1], C, Dh);
    	  this.h[1] = sum32_3(this.h[2], D, Eh);
    	  this.h[2] = sum32_3(this.h[3], E, Ah);
    	  this.h[3] = sum32_3(this.h[4], A, Bh);
    	  this.h[4] = sum32_3(this.h[0], B, Ch);
    	  this.h[0] = T;
    	};

    	RIPEMD160.prototype._digest = function digest(enc) {
    	  if (enc === 'hex')
    	    return utils.toHex32(this.h, 'little');
    	  else
    	    return utils.split32(this.h, 'little');
    	};

    	function f(j, x, y, z) {
    	  if (j <= 15)
    	    return x ^ y ^ z;
    	  else if (j <= 31)
    	    return (x & y) | ((~x) & z);
    	  else if (j <= 47)
    	    return (x | (~y)) ^ z;
    	  else if (j <= 63)
    	    return (x & z) | (y & (~z));
    	  else
    	    return x ^ (y | (~z));
    	}

    	function K(j) {
    	  if (j <= 15)
    	    return 0x00000000;
    	  else if (j <= 31)
    	    return 0x5a827999;
    	  else if (j <= 47)
    	    return 0x6ed9eba1;
    	  else if (j <= 63)
    	    return 0x8f1bbcdc;
    	  else
    	    return 0xa953fd4e;
    	}

    	function Kh(j) {
    	  if (j <= 15)
    	    return 0x50a28be6;
    	  else if (j <= 31)
    	    return 0x5c4dd124;
    	  else if (j <= 47)
    	    return 0x6d703ef3;
    	  else if (j <= 63)
    	    return 0x7a6d76e9;
    	  else
    	    return 0x00000000;
    	}

    	var r = [
    	  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
    	  7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,
    	  3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12,
    	  1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2,
    	  4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13
    	];

    	var rh = [
    	  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12,
    	  6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2,
    	  15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13,
    	  8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14,
    	  12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11
    	];

    	var s = [
    	  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,
    	  7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,
    	  11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,
    	  11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,
    	  9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6
    	];

    	var sh = [
    	  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,
    	  9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,
    	  9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,
    	  15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,
    	  8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11
    	];
    	return ripemd;
    }

    var hmac$1;
    var hasRequiredHmac;

    function requireHmac () {
    	if (hasRequiredHmac) return hmac$1;
    	hasRequiredHmac = 1;

    	var utils = requireUtils$3();
    	var assert = requireMinimalisticAssert();

    	function Hmac(hash, key, enc) {
    	  if (!(this instanceof Hmac))
    	    return new Hmac(hash, key, enc);
    	  this.Hash = hash;
    	  this.blockSize = hash.blockSize / 8;
    	  this.outSize = hash.outSize / 8;
    	  this.inner = null;
    	  this.outer = null;

    	  this._init(utils.toArray(key, enc));
    	}
    	hmac$1 = Hmac;

    	Hmac.prototype._init = function init(key) {
    	  // Shorten key, if needed
    	  if (key.length > this.blockSize)
    	    key = new this.Hash().update(key).digest();
    	  assert(key.length <= this.blockSize);

    	  // Add padding to key
    	  for (var i = key.length; i < this.blockSize; i++)
    	    key.push(0);

    	  for (i = 0; i < key.length; i++)
    	    key[i] ^= 0x36;
    	  this.inner = new this.Hash().update(key);

    	  // 0x36 ^ 0x5c = 0x6a
    	  for (i = 0; i < key.length; i++)
    	    key[i] ^= 0x6a;
    	  this.outer = new this.Hash().update(key);
    	};

    	Hmac.prototype.update = function update(msg, enc) {
    	  this.inner.update(msg, enc);
    	  return this;
    	};

    	Hmac.prototype.digest = function digest(enc) {
    	  this.outer.update(this.inner.digest());
    	  return this.outer.digest(enc);
    	};
    	return hmac$1;
    }

    var hasRequiredHash;

    function requireHash () {
    	if (hasRequiredHash) return hash;
    	hasRequiredHash = 1;
    	(function (exports) {
    		var hash = exports;

    		hash.utils = requireUtils$3();
    		hash.common = requireCommon$1();
    		hash.sha = requireSha();
    		hash.ripemd = requireRipemd();
    		hash.hmac = requireHmac();

    		// Proxy hash functions to the main object
    		hash.sha1 = hash.sha.sha1;
    		hash.sha256 = hash.sha.sha256;
    		hash.sha224 = hash.sha.sha224;
    		hash.sha384 = hash.sha.sha384;
    		hash.sha512 = hash.sha.sha512;
    		hash.ripemd160 = hash.ripemd.ripemd160; 
    	} (hash));
    	return hash;
    }

    var secp256k1$2;
    var hasRequiredSecp256k1;

    function requireSecp256k1 () {
    	if (hasRequiredSecp256k1) return secp256k1$2;
    	hasRequiredSecp256k1 = 1;
    	secp256k1$2 = {
    	  doubles: {
    	    step: 4,
    	    points: [
    	      [
    	        'e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a',
    	        'f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821',
    	      ],
    	      [
    	        '8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508',
    	        '11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf',
    	      ],
    	      [
    	        '175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739',
    	        'd3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695',
    	      ],
    	      [
    	        '363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640',
    	        '4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9',
    	      ],
    	      [
    	        '8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c',
    	        '4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36',
    	      ],
    	      [
    	        '723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda',
    	        '96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f',
    	      ],
    	      [
    	        'eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa',
    	        '5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999',
    	      ],
    	      [
    	        '100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0',
    	        'cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09',
    	      ],
    	      [
    	        'e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d',
    	        '9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d',
    	      ],
    	      [
    	        'feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d',
    	        'e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088',
    	      ],
    	      [
    	        'da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1',
    	        '9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d',
    	      ],
    	      [
    	        '53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0',
    	        '5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8',
    	      ],
    	      [
    	        '8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047',
    	        '10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a',
    	      ],
    	      [
    	        '385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862',
    	        '283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453',
    	      ],
    	      [
    	        '6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7',
    	        '7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160',
    	      ],
    	      [
    	        '3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd',
    	        '56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0',
    	      ],
    	      [
    	        '85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83',
    	        '7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6',
    	      ],
    	      [
    	        '948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a',
    	        '53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589',
    	      ],
    	      [
    	        '6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8',
    	        'bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17',
    	      ],
    	      [
    	        'e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d',
    	        '4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda',
    	      ],
    	      [
    	        'e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725',
    	        '7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd',
    	      ],
    	      [
    	        '213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754',
    	        '4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2',
    	      ],
    	      [
    	        '4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c',
    	        '17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6',
    	      ],
    	      [
    	        'fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6',
    	        '6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f',
    	      ],
    	      [
    	        '76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39',
    	        'c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01',
    	      ],
    	      [
    	        'c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891',
    	        '893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3',
    	      ],
    	      [
    	        'd895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b',
    	        'febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f',
    	      ],
    	      [
    	        'b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03',
    	        '2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7',
    	      ],
    	      [
    	        'e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d',
    	        'eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78',
    	      ],
    	      [
    	        'a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070',
    	        '7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1',
    	      ],
    	      [
    	        '90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4',
    	        'e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150',
    	      ],
    	      [
    	        '8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da',
    	        '662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82',
    	      ],
    	      [
    	        'e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11',
    	        '1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc',
    	      ],
    	      [
    	        '8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e',
    	        'efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b',
    	      ],
    	      [
    	        'e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41',
    	        '2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51',
    	      ],
    	      [
    	        'b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef',
    	        '67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45',
    	      ],
    	      [
    	        'd68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8',
    	        'db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120',
    	      ],
    	      [
    	        '324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d',
    	        '648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84',
    	      ],
    	      [
    	        '4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96',
    	        '35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d',
    	      ],
    	      [
    	        '9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd',
    	        'ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d',
    	      ],
    	      [
    	        '6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5',
    	        '9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8',
    	      ],
    	      [
    	        'a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266',
    	        '40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8',
    	      ],
    	      [
    	        '7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71',
    	        '34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac',
    	      ],
    	      [
    	        '928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac',
    	        'c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f',
    	      ],
    	      [
    	        '85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751',
    	        '1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962',
    	      ],
    	      [
    	        'ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e',
    	        '493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907',
    	      ],
    	      [
    	        '827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241',
    	        'c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec',
    	      ],
    	      [
    	        'eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3',
    	        'be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d',
    	      ],
    	      [
    	        'e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f',
    	        '4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414',
    	      ],
    	      [
    	        '1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19',
    	        'aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd',
    	      ],
    	      [
    	        '146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be',
    	        'b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0',
    	      ],
    	      [
    	        'fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9',
    	        '6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811',
    	      ],
    	      [
    	        'da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2',
    	        '8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1',
    	      ],
    	      [
    	        'a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13',
    	        '7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c',
    	      ],
    	      [
    	        '174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c',
    	        'ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73',
    	      ],
    	      [
    	        '959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba',
    	        '2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd',
    	      ],
    	      [
    	        'd2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151',
    	        'e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405',
    	      ],
    	      [
    	        '64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073',
    	        'd99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589',
    	      ],
    	      [
    	        '8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458',
    	        '38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e',
    	      ],
    	      [
    	        '13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b',
    	        '69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27',
    	      ],
    	      [
    	        'bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366',
    	        'd3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1',
    	      ],
    	      [
    	        '8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa',
    	        '40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482',
    	      ],
    	      [
    	        '8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0',
    	        '620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945',
    	      ],
    	      [
    	        'dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787',
    	        '7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573',
    	      ],
    	      [
    	        'f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e',
    	        'ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82',
    	      ],
    	    ],
    	  },
    	  naf: {
    	    wnd: 7,
    	    points: [
    	      [
    	        'f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9',
    	        '388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672',
    	      ],
    	      [
    	        '2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4',
    	        'd8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6',
    	      ],
    	      [
    	        '5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc',
    	        '6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da',
    	      ],
    	      [
    	        'acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe',
    	        'cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37',
    	      ],
    	      [
    	        '774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb',
    	        'd984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b',
    	      ],
    	      [
    	        'f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8',
    	        'ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81',
    	      ],
    	      [
    	        'd7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e',
    	        '581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58',
    	      ],
    	      [
    	        'defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34',
    	        '4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77',
    	      ],
    	      [
    	        '2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c',
    	        '85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a',
    	      ],
    	      [
    	        '352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5',
    	        '321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c',
    	      ],
    	      [
    	        '2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f',
    	        '2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67',
    	      ],
    	      [
    	        '9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714',
    	        '73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402',
    	      ],
    	      [
    	        'daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729',
    	        'a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55',
    	      ],
    	      [
    	        'c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db',
    	        '2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482',
    	      ],
    	      [
    	        '6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4',
    	        'e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82',
    	      ],
    	      [
    	        '1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5',
    	        'b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396',
    	      ],
    	      [
    	        '605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479',
    	        '2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49',
    	      ],
    	      [
    	        '62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d',
    	        '80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf',
    	      ],
    	      [
    	        '80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f',
    	        '1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a',
    	      ],
    	      [
    	        '7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb',
    	        'd0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7',
    	      ],
    	      [
    	        'd528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9',
    	        'eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933',
    	      ],
    	      [
    	        '49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963',
    	        '758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a',
    	      ],
    	      [
    	        '77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74',
    	        '958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6',
    	      ],
    	      [
    	        'f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530',
    	        'e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37',
    	      ],
    	      [
    	        '463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b',
    	        '5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e',
    	      ],
    	      [
    	        'f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247',
    	        'cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6',
    	      ],
    	      [
    	        'caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1',
    	        'cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476',
    	      ],
    	      [
    	        '2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120',
    	        '4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40',
    	      ],
    	      [
    	        '7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435',
    	        '91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61',
    	      ],
    	      [
    	        '754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18',
    	        '673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683',
    	      ],
    	      [
    	        'e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8',
    	        '59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5',
    	      ],
    	      [
    	        '186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb',
    	        '3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b',
    	      ],
    	      [
    	        'df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f',
    	        '55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417',
    	      ],
    	      [
    	        '5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143',
    	        'efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868',
    	      ],
    	      [
    	        '290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba',
    	        'e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a',
    	      ],
    	      [
    	        'af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45',
    	        'f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6',
    	      ],
    	      [
    	        '766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a',
    	        '744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996',
    	      ],
    	      [
    	        '59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e',
    	        'c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e',
    	      ],
    	      [
    	        'f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8',
    	        'e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d',
    	      ],
    	      [
    	        '7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c',
    	        '30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2',
    	      ],
    	      [
    	        '948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519',
    	        'e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e',
    	      ],
    	      [
    	        '7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab',
    	        '100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437',
    	      ],
    	      [
    	        '3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca',
    	        'ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311',
    	      ],
    	      [
    	        'd3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf',
    	        '8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4',
    	      ],
    	      [
    	        '1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610',
    	        '68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575',
    	      ],
    	      [
    	        '733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4',
    	        'f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d',
    	      ],
    	      [
    	        '15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c',
    	        'd56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d',
    	      ],
    	      [
    	        'a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940',
    	        'edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629',
    	      ],
    	      [
    	        'e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980',
    	        'a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06',
    	      ],
    	      [
    	        '311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3',
    	        '66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374',
    	      ],
    	      [
    	        '34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf',
    	        '9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee',
    	      ],
    	      [
    	        'f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63',
    	        '4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1',
    	      ],
    	      [
    	        'd7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448',
    	        'fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b',
    	      ],
    	      [
    	        '32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf',
    	        '5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661',
    	      ],
    	      [
    	        '7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5',
    	        '8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6',
    	      ],
    	      [
    	        'ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6',
    	        '8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e',
    	      ],
    	      [
    	        '16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5',
    	        '5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d',
    	      ],
    	      [
    	        'eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99',
    	        'f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc',
    	      ],
    	      [
    	        '78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51',
    	        'f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4',
    	      ],
    	      [
    	        '494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5',
    	        '42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c',
    	      ],
    	      [
    	        'a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5',
    	        '204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b',
    	      ],
    	      [
    	        'c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997',
    	        '4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913',
    	      ],
    	      [
    	        '841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881',
    	        '73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154',
    	      ],
    	      [
    	        '5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5',
    	        '39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865',
    	      ],
    	      [
    	        '36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66',
    	        'd2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc',
    	      ],
    	      [
    	        '336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726',
    	        'ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224',
    	      ],
    	      [
    	        '8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede',
    	        '6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e',
    	      ],
    	      [
    	        '1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94',
    	        '60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6',
    	      ],
    	      [
    	        '85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31',
    	        '3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511',
    	      ],
    	      [
    	        '29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51',
    	        'b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b',
    	      ],
    	      [
    	        'a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252',
    	        'ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2',
    	      ],
    	      [
    	        '4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5',
    	        'cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c',
    	      ],
    	      [
    	        'd24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b',
    	        '6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3',
    	      ],
    	      [
    	        'ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4',
    	        '322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d',
    	      ],
    	      [
    	        'af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f',
    	        '6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700',
    	      ],
    	      [
    	        'e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889',
    	        '2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4',
    	      ],
    	      [
    	        '591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246',
    	        'b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196',
    	      ],
    	      [
    	        '11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984',
    	        '998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4',
    	      ],
    	      [
    	        '3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a',
    	        'b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257',
    	      ],
    	      [
    	        'cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030',
    	        'bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13',
    	      ],
    	      [
    	        'c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197',
    	        '6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096',
    	      ],
    	      [
    	        'c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593',
    	        'c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38',
    	      ],
    	      [
    	        'a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef',
    	        '21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f',
    	      ],
    	      [
    	        '347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38',
    	        '60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448',
    	      ],
    	      [
    	        'da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a',
    	        '49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a',
    	      ],
    	      [
    	        'c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111',
    	        '5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4',
    	      ],
    	      [
    	        '4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502',
    	        '7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437',
    	      ],
    	      [
    	        '3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea',
    	        'be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7',
    	      ],
    	      [
    	        'cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26',
    	        '8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d',
    	      ],
    	      [
    	        'b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986',
    	        '39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a',
    	      ],
    	      [
    	        'd4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e',
    	        '62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54',
    	      ],
    	      [
    	        '48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4',
    	        '25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77',
    	      ],
    	      [
    	        'dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda',
    	        'ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517',
    	      ],
    	      [
    	        '6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859',
    	        'cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10',
    	      ],
    	      [
    	        'e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f',
    	        'f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125',
    	      ],
    	      [
    	        'eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c',
    	        '6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e',
    	      ],
    	      [
    	        '13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942',
    	        'fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1',
    	      ],
    	      [
    	        'ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a',
    	        '1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2',
    	      ],
    	      [
    	        'b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80',
    	        '5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423',
    	      ],
    	      [
    	        'ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d',
    	        '438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8',
    	      ],
    	      [
    	        '8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1',
    	        'cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758',
    	      ],
    	      [
    	        '52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63',
    	        'c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375',
    	      ],
    	      [
    	        'e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352',
    	        '6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d',
    	      ],
    	      [
    	        '7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193',
    	        'ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec',
    	      ],
    	      [
    	        '5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00',
    	        '9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0',
    	      ],
    	      [
    	        '32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58',
    	        'ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c',
    	      ],
    	      [
    	        'e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7',
    	        'd3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4',
    	      ],
    	      [
    	        '8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8',
    	        'c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f',
    	      ],
    	      [
    	        '4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e',
    	        '67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649',
    	      ],
    	      [
    	        '3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d',
    	        'cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826',
    	      ],
    	      [
    	        '674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b',
    	        '299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5',
    	      ],
    	      [
    	        'd32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f',
    	        'f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87',
    	      ],
    	      [
    	        '30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6',
    	        '462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b',
    	      ],
    	      [
    	        'be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297',
    	        '62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc',
    	      ],
    	      [
    	        '93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a',
    	        '7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c',
    	      ],
    	      [
    	        'b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c',
    	        'ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f',
    	      ],
    	      [
    	        'd5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52',
    	        '4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a',
    	      ],
    	      [
    	        'd3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb',
    	        'bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46',
    	      ],
    	      [
    	        '463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065',
    	        'bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f',
    	      ],
    	      [
    	        '7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917',
    	        '603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03',
    	      ],
    	      [
    	        '74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9',
    	        'cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08',
    	      ],
    	      [
    	        '30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3',
    	        '553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8',
    	      ],
    	      [
    	        '9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57',
    	        '712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373',
    	      ],
    	      [
    	        '176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66',
    	        'ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3',
    	      ],
    	      [
    	        '75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8',
    	        '9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8',
    	      ],
    	      [
    	        '809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721',
    	        '9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1',
    	      ],
    	      [
    	        '1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180',
    	        '4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9',
    	      ],
    	    ],
    	  },
    	};
    	return secp256k1$2;
    }

    var hasRequiredCurves;

    function requireCurves () {
    	if (hasRequiredCurves) return curves;
    	hasRequiredCurves = 1;
    	(function (exports) {

    		var curves = exports;

    		var hash = requireHash();
    		var curve = requireCurve();
    		var utils = requireUtils$4();

    		var assert = utils.assert;

    		function PresetCurve(options) {
    		  if (options.type === 'short')
    		    this.curve = new curve.short(options);
    		  else if (options.type === 'edwards')
    		    this.curve = new curve.edwards(options);
    		  else
    		    this.curve = new curve.mont(options);
    		  this.g = this.curve.g;
    		  this.n = this.curve.n;
    		  this.hash = options.hash;

    		  assert(this.g.validate(), 'Invalid curve');
    		  assert(this.g.mul(this.n).isInfinity(), 'Invalid curve, G*N != O');
    		}
    		curves.PresetCurve = PresetCurve;

    		function defineCurve(name, options) {
    		  Object.defineProperty(curves, name, {
    		    configurable: true,
    		    enumerable: true,
    		    get: function() {
    		      var curve = new PresetCurve(options);
    		      Object.defineProperty(curves, name, {
    		        configurable: true,
    		        enumerable: true,
    		        value: curve,
    		      });
    		      return curve;
    		    },
    		  });
    		}

    		defineCurve('p192', {
    		  type: 'short',
    		  prime: 'p192',
    		  p: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff',
    		  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc',
    		  b: '64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1',
    		  n: 'ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831',
    		  hash: hash.sha256,
    		  gRed: false,
    		  g: [
    		    '188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012',
    		    '07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811',
    		  ],
    		});

    		defineCurve('p224', {
    		  type: 'short',
    		  prime: 'p224',
    		  p: 'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001',
    		  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe',
    		  b: 'b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4',
    		  n: 'ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d',
    		  hash: hash.sha256,
    		  gRed: false,
    		  g: [
    		    'b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21',
    		    'bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34',
    		  ],
    		});

    		defineCurve('p256', {
    		  type: 'short',
    		  prime: null,
    		  p: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff',
    		  a: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc',
    		  b: '5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b',
    		  n: 'ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551',
    		  hash: hash.sha256,
    		  gRed: false,
    		  g: [
    		    '6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296',
    		    '4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5',
    		  ],
    		});

    		defineCurve('p384', {
    		  type: 'short',
    		  prime: null,
    		  p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +
    		     'fffffffe ffffffff 00000000 00000000 ffffffff',
    		  a: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +
    		     'fffffffe ffffffff 00000000 00000000 fffffffc',
    		  b: 'b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f ' +
    		     '5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef',
    		  n: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 ' +
    		     'f4372ddf 581a0db2 48b0a77a ecec196a ccc52973',
    		  hash: hash.sha384,
    		  gRed: false,
    		  g: [
    		    'aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 ' +
    		    '5502f25d bf55296c 3a545e38 72760ab7',
    		    '3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 ' +
    		    '0a60b1ce 1d7e819d 7a431d7c 90ea0e5f',
    		  ],
    		});

    		defineCurve('p521', {
    		  type: 'short',
    		  prime: null,
    		  p: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +
    		     'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +
    		     'ffffffff ffffffff ffffffff ffffffff ffffffff',
    		  a: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +
    		     'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +
    		     'ffffffff ffffffff ffffffff ffffffff fffffffc',
    		  b: '00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b ' +
    		     '99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd ' +
    		     '3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00',
    		  n: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +
    		     'ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 ' +
    		     'f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409',
    		  hash: hash.sha512,
    		  gRed: false,
    		  g: [
    		    '000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 ' +
    		    '053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 ' +
    		    'a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66',
    		    '00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 ' +
    		    '579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 ' +
    		    '3fad0761 353c7086 a272c240 88be9476 9fd16650',
    		  ],
    		});

    		defineCurve('curve25519', {
    		  type: 'mont',
    		  prime: 'p25519',
    		  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',
    		  a: '76d06',
    		  b: '1',
    		  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',
    		  hash: hash.sha256,
    		  gRed: false,
    		  g: [
    		    '9',
    		  ],
    		});

    		defineCurve('ed25519', {
    		  type: 'edwards',
    		  prime: 'p25519',
    		  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',
    		  a: '-1',
    		  c: '1',
    		  // -121665 * (121666^(-1)) (mod P)
    		  d: '52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3',
    		  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',
    		  hash: hash.sha256,
    		  gRed: false,
    		  g: [
    		    '216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a',

    		    // 4/5
    		    '6666666666666666666666666666666666666666666666666666666666666658',
    		  ],
    		});

    		var pre;
    		try {
    		  pre = requireSecp256k1();
    		} catch (e) {
    		  pre = undefined;
    		}

    		defineCurve('secp256k1', {
    		  type: 'short',
    		  prime: 'k256',
    		  p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',
    		  a: '0',
    		  b: '7',
    		  n: 'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',
    		  h: '1',
    		  hash: hash.sha256,

    		  // Precomputed endomorphism
    		  beta: '7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',
    		  lambda: '5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',
    		  basis: [
    		    {
    		      a: '3086d221a7d46bcde86c90e49284eb15',
    		      b: '-e4437ed6010e88286f547fa90abfe4c3',
    		    },
    		    {
    		      a: '114ca50f7a8e2f3f657c1108d9d44cfd8',
    		      b: '3086d221a7d46bcde86c90e49284eb15',
    		    },
    		  ],

    		  gRed: false,
    		  g: [
    		    '79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798',
    		    '483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',
    		    pre,
    		  ],
    		}); 
    	} (curves));
    	return curves;
    }

    var hmacDrbg;
    var hasRequiredHmacDrbg;

    function requireHmacDrbg () {
    	if (hasRequiredHmacDrbg) return hmacDrbg;
    	hasRequiredHmacDrbg = 1;

    	var hash = requireHash();
    	var utils = requireUtils$5();
    	var assert = requireMinimalisticAssert();

    	function HmacDRBG(options) {
    	  if (!(this instanceof HmacDRBG))
    	    return new HmacDRBG(options);
    	  this.hash = options.hash;
    	  this.predResist = !!options.predResist;

    	  this.outLen = this.hash.outSize;
    	  this.minEntropy = options.minEntropy || this.hash.hmacStrength;

    	  this._reseed = null;
    	  this.reseedInterval = null;
    	  this.K = null;
    	  this.V = null;

    	  var entropy = utils.toArray(options.entropy, options.entropyEnc || 'hex');
    	  var nonce = utils.toArray(options.nonce, options.nonceEnc || 'hex');
    	  var pers = utils.toArray(options.pers, options.persEnc || 'hex');
    	  assert(entropy.length >= (this.minEntropy / 8),
    	         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');
    	  this._init(entropy, nonce, pers);
    	}
    	hmacDrbg = HmacDRBG;

    	HmacDRBG.prototype._init = function init(entropy, nonce, pers) {
    	  var seed = entropy.concat(nonce).concat(pers);

    	  this.K = new Array(this.outLen / 8);
    	  this.V = new Array(this.outLen / 8);
    	  for (var i = 0; i < this.V.length; i++) {
    	    this.K[i] = 0x00;
    	    this.V[i] = 0x01;
    	  }

    	  this._update(seed);
    	  this._reseed = 1;
    	  this.reseedInterval = 0x1000000000000;  // 2^48
    	};

    	HmacDRBG.prototype._hmac = function hmac() {
    	  return new hash.hmac(this.hash, this.K);
    	};

    	HmacDRBG.prototype._update = function update(seed) {
    	  var kmac = this._hmac()
    	                 .update(this.V)
    	                 .update([ 0x00 ]);
    	  if (seed)
    	    kmac = kmac.update(seed);
    	  this.K = kmac.digest();
    	  this.V = this._hmac().update(this.V).digest();
    	  if (!seed)
    	    return;

    	  this.K = this._hmac()
    	               .update(this.V)
    	               .update([ 0x01 ])
    	               .update(seed)
    	               .digest();
    	  this.V = this._hmac().update(this.V).digest();
    	};

    	HmacDRBG.prototype.reseed = function reseed(entropy, entropyEnc, add, addEnc) {
    	  // Optional entropy enc
    	  if (typeof entropyEnc !== 'string') {
    	    addEnc = add;
    	    add = entropyEnc;
    	    entropyEnc = null;
    	  }

    	  entropy = utils.toArray(entropy, entropyEnc);
    	  add = utils.toArray(add, addEnc);

    	  assert(entropy.length >= (this.minEntropy / 8),
    	         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');

    	  this._update(entropy.concat(add || []));
    	  this._reseed = 1;
    	};

    	HmacDRBG.prototype.generate = function generate(len, enc, add, addEnc) {
    	  if (this._reseed > this.reseedInterval)
    	    throw new Error('Reseed is required');

    	  // Optional encoding
    	  if (typeof enc !== 'string') {
    	    addEnc = add;
    	    add = enc;
    	    enc = null;
    	  }

    	  // Optional additional data
    	  if (add) {
    	    add = utils.toArray(add, addEnc || 'hex');
    	    this._update(add);
    	  }

    	  var temp = [];
    	  while (temp.length < len) {
    	    this.V = this._hmac().update(this.V).digest();
    	    temp = temp.concat(this.V);
    	  }

    	  var res = temp.slice(0, len);
    	  this._update(add);
    	  this._reseed++;
    	  return utils.encode(res, enc);
    	};
    	return hmacDrbg;
    }

    var key$1;
    var hasRequiredKey$1;

    function requireKey$1 () {
    	if (hasRequiredKey$1) return key$1;
    	hasRequiredKey$1 = 1;

    	var BN = requireBn();
    	var utils = requireUtils$4();
    	var assert = utils.assert;

    	function KeyPair(ec, options) {
    	  this.ec = ec;
    	  this.priv = null;
    	  this.pub = null;

    	  // KeyPair(ec, { priv: ..., pub: ... })
    	  if (options.priv)
    	    this._importPrivate(options.priv, options.privEnc);
    	  if (options.pub)
    	    this._importPublic(options.pub, options.pubEnc);
    	}
    	key$1 = KeyPair;

    	KeyPair.fromPublic = function fromPublic(ec, pub, enc) {
    	  if (pub instanceof KeyPair)
    	    return pub;

    	  return new KeyPair(ec, {
    	    pub: pub,
    	    pubEnc: enc,
    	  });
    	};

    	KeyPair.fromPrivate = function fromPrivate(ec, priv, enc) {
    	  if (priv instanceof KeyPair)
    	    return priv;

    	  return new KeyPair(ec, {
    	    priv: priv,
    	    privEnc: enc,
    	  });
    	};

    	KeyPair.prototype.validate = function validate() {
    	  var pub = this.getPublic();

    	  if (pub.isInfinity())
    	    return { result: false, reason: 'Invalid public key' };
    	  if (!pub.validate())
    	    return { result: false, reason: 'Public key is not a point' };
    	  if (!pub.mul(this.ec.curve.n).isInfinity())
    	    return { result: false, reason: 'Public key * N != O' };

    	  return { result: true, reason: null };
    	};

    	KeyPair.prototype.getPublic = function getPublic(compact, enc) {
    	  // compact is optional argument
    	  if (typeof compact === 'string') {
    	    enc = compact;
    	    compact = null;
    	  }

    	  if (!this.pub)
    	    this.pub = this.ec.g.mul(this.priv);

    	  if (!enc)
    	    return this.pub;

    	  return this.pub.encode(enc, compact);
    	};

    	KeyPair.prototype.getPrivate = function getPrivate(enc) {
    	  if (enc === 'hex')
    	    return this.priv.toString(16, 2);
    	  else
    	    return this.priv;
    	};

    	KeyPair.prototype._importPrivate = function _importPrivate(key, enc) {
    	  this.priv = new BN(key, enc || 16);

    	  // Ensure that the priv won't be bigger than n, otherwise we may fail
    	  // in fixed multiplication method
    	  this.priv = this.priv.umod(this.ec.curve.n);
    	};

    	KeyPair.prototype._importPublic = function _importPublic(key, enc) {
    	  if (key.x || key.y) {
    	    // Montgomery points only have an `x` coordinate.
    	    // Weierstrass/Edwards points on the other hand have both `x` and
    	    // `y` coordinates.
    	    if (this.ec.curve.type === 'mont') {
    	      assert(key.x, 'Need x coordinate');
    	    } else if (this.ec.curve.type === 'short' ||
    	               this.ec.curve.type === 'edwards') {
    	      assert(key.x && key.y, 'Need both x and y coordinate');
    	    }
    	    this.pub = this.ec.curve.point(key.x, key.y);
    	    return;
    	  }
    	  this.pub = this.ec.curve.decodePoint(key, enc);
    	};

    	// ECDH
    	KeyPair.prototype.derive = function derive(pub) {
    	  if(!pub.validate()) {
    	    assert(pub.validate(), 'public point not validated');
    	  }
    	  return pub.mul(this.priv).getX();
    	};

    	// ECDSA
    	KeyPair.prototype.sign = function sign(msg, enc, options) {
    	  return this.ec.sign(msg, this, enc, options);
    	};

    	KeyPair.prototype.verify = function verify(msg, signature, options) {
    	  return this.ec.verify(msg, signature, this, undefined, options);
    	};

    	KeyPair.prototype.inspect = function inspect() {
    	  return '<Key priv: ' + (this.priv && this.priv.toString(16, 2)) +
    	         ' pub: ' + (this.pub && this.pub.inspect()) + ' >';
    	};
    	return key$1;
    }

    var signature$1;
    var hasRequiredSignature$1;

    function requireSignature$1 () {
    	if (hasRequiredSignature$1) return signature$1;
    	hasRequiredSignature$1 = 1;

    	var BN = requireBn();

    	var utils = requireUtils$4();
    	var assert = utils.assert;

    	function Signature(options, enc) {
    	  if (options instanceof Signature)
    	    return options;

    	  if (this._importDER(options, enc))
    	    return;

    	  assert(options.r && options.s, 'Signature without r or s');
    	  this.r = new BN(options.r, 16);
    	  this.s = new BN(options.s, 16);
    	  if (options.recoveryParam === undefined)
    	    this.recoveryParam = null;
    	  else
    	    this.recoveryParam = options.recoveryParam;
    	}
    	signature$1 = Signature;

    	function Position() {
    	  this.place = 0;
    	}

    	function getLength(buf, p) {
    	  var initial = buf[p.place++];
    	  if (!(initial & 0x80)) {
    	    return initial;
    	  }
    	  var octetLen = initial & 0xf;

    	  // Indefinite length or overflow
    	  if (octetLen === 0 || octetLen > 4) {
    	    return false;
    	  }

    	  if(buf[p.place] === 0x00) {
    	    return false;
    	  }

    	  var val = 0;
    	  for (var i = 0, off = p.place; i < octetLen; i++, off++) {
    	    val <<= 8;
    	    val |= buf[off];
    	    val >>>= 0;
    	  }

    	  // Leading zeroes
    	  if (val <= 0x7f) {
    	    return false;
    	  }

    	  p.place = off;
    	  return val;
    	}

    	function rmPadding(buf) {
    	  var i = 0;
    	  var len = buf.length - 1;
    	  while (!buf[i] && !(buf[i + 1] & 0x80) && i < len) {
    	    i++;
    	  }
    	  if (i === 0) {
    	    return buf;
    	  }
    	  return buf.slice(i);
    	}

    	Signature.prototype._importDER = function _importDER(data, enc) {
    	  data = utils.toArray(data, enc);
    	  var p = new Position();
    	  if (data[p.place++] !== 0x30) {
    	    return false;
    	  }
    	  var len = getLength(data, p);
    	  if (len === false) {
    	    return false;
    	  }
    	  if ((len + p.place) !== data.length) {
    	    return false;
    	  }
    	  if (data[p.place++] !== 0x02) {
    	    return false;
    	  }
    	  var rlen = getLength(data, p);
    	  if (rlen === false) {
    	    return false;
    	  }
    	  if ((data[p.place] & 128) !== 0) {
    	    return false;
    	  }
    	  var r = data.slice(p.place, rlen + p.place);
    	  p.place += rlen;
    	  if (data[p.place++] !== 0x02) {
    	    return false;
    	  }
    	  var slen = getLength(data, p);
    	  if (slen === false) {
    	    return false;
    	  }
    	  if (data.length !== slen + p.place) {
    	    return false;
    	  }
    	  if ((data[p.place] & 128) !== 0) {
    	    return false;
    	  }
    	  var s = data.slice(p.place, slen + p.place);
    	  if (r[0] === 0) {
    	    if (r[1] & 0x80) {
    	      r = r.slice(1);
    	    } else {
    	      // Leading zeroes
    	      return false;
    	    }
    	  }
    	  if (s[0] === 0) {
    	    if (s[1] & 0x80) {
    	      s = s.slice(1);
    	    } else {
    	      // Leading zeroes
    	      return false;
    	    }
    	  }

    	  this.r = new BN(r);
    	  this.s = new BN(s);
    	  this.recoveryParam = null;

    	  return true;
    	};

    	function constructLength(arr, len) {
    	  if (len < 0x80) {
    	    arr.push(len);
    	    return;
    	  }
    	  var octets = 1 + (Math.log(len) / Math.LN2 >>> 3);
    	  arr.push(octets | 0x80);
    	  while (--octets) {
    	    arr.push((len >>> (octets << 3)) & 0xff);
    	  }
    	  arr.push(len);
    	}

    	Signature.prototype.toDER = function toDER(enc) {
    	  var r = this.r.toArray();
    	  var s = this.s.toArray();

    	  // Pad values
    	  if (r[0] & 0x80)
    	    r = [ 0 ].concat(r);
    	  // Pad values
    	  if (s[0] & 0x80)
    	    s = [ 0 ].concat(s);

    	  r = rmPadding(r);
    	  s = rmPadding(s);

    	  while (!s[0] && !(s[1] & 0x80)) {
    	    s = s.slice(1);
    	  }
    	  var arr = [ 0x02 ];
    	  constructLength(arr, r.length);
    	  arr = arr.concat(r);
    	  arr.push(0x02);
    	  constructLength(arr, s.length);
    	  var backHalf = arr.concat(s);
    	  var res = [ 0x30 ];
    	  constructLength(res, backHalf.length);
    	  res = res.concat(backHalf);
    	  return utils.encode(res, enc);
    	};
    	return signature$1;
    }

    var ec$3;
    var hasRequiredEc;

    function requireEc () {
    	if (hasRequiredEc) return ec$3;
    	hasRequiredEc = 1;

    	var BN = requireBn();
    	var HmacDRBG = requireHmacDrbg();
    	var utils = requireUtils$4();
    	var curves = requireCurves();
    	var rand = requireBrorand();
    	var assert = utils.assert;

    	var KeyPair = requireKey$1();
    	var Signature = requireSignature$1();

    	function EC(options) {
    	  if (!(this instanceof EC))
    	    return new EC(options);

    	  // Shortcut `elliptic.ec(curve-name)`
    	  if (typeof options === 'string') {
    	    assert(Object.prototype.hasOwnProperty.call(curves, options),
    	      'Unknown curve ' + options);

    	    options = curves[options];
    	  }

    	  // Shortcut for `elliptic.ec(elliptic.curves.curveName)`
    	  if (options instanceof curves.PresetCurve)
    	    options = { curve: options };

    	  this.curve = options.curve.curve;
    	  this.n = this.curve.n;
    	  this.nh = this.n.ushrn(1);
    	  this.g = this.curve.g;

    	  // Point on curve
    	  this.g = options.curve.g;
    	  this.g.precompute(options.curve.n.bitLength() + 1);

    	  // Hash for function for DRBG
    	  this.hash = options.hash || options.curve.hash;
    	}
    	ec$3 = EC;

    	EC.prototype.keyPair = function keyPair(options) {
    	  return new KeyPair(this, options);
    	};

    	EC.prototype.keyFromPrivate = function keyFromPrivate(priv, enc) {
    	  return KeyPair.fromPrivate(this, priv, enc);
    	};

    	EC.prototype.keyFromPublic = function keyFromPublic(pub, enc) {
    	  return KeyPair.fromPublic(this, pub, enc);
    	};

    	EC.prototype.genKeyPair = function genKeyPair(options) {
    	  if (!options)
    	    options = {};

    	  // Instantiate Hmac_DRBG
    	  var drbg = new HmacDRBG({
    	    hash: this.hash,
    	    pers: options.pers,
    	    persEnc: options.persEnc || 'utf8',
    	    entropy: options.entropy || rand(this.hash.hmacStrength),
    	    entropyEnc: options.entropy && options.entropyEnc || 'utf8',
    	    nonce: this.n.toArray(),
    	  });

    	  var bytes = this.n.byteLength();
    	  var ns2 = this.n.sub(new BN(2));
    	  for (;;) {
    	    var priv = new BN(drbg.generate(bytes));
    	    if (priv.cmp(ns2) > 0)
    	      continue;

    	    priv.iaddn(1);
    	    return this.keyFromPrivate(priv);
    	  }
    	};

    	EC.prototype._truncateToN = function _truncateToN(msg, truncOnly, bitLength) {
    	  var byteLength;
    	  if (BN.isBN(msg) || typeof msg === 'number') {
    	    msg = new BN(msg, 16);
    	    byteLength = msg.byteLength();
    	  } else if (typeof msg === 'object') {
    	    // BN assumes an array-like input and asserts length
    	    byteLength = msg.length;
    	    msg = new BN(msg, 16);
    	  } else {
    	    // BN converts the value to string
    	    var str = msg.toString();
    	    // HEX encoding
    	    byteLength = (str.length + 1) >>> 1;
    	    msg = new BN(str, 16);
    	  }
    	  // Allow overriding
    	  if (typeof bitLength !== 'number') {
    	    bitLength = byteLength * 8;
    	  }
    	  var delta = bitLength - this.n.bitLength();
    	  if (delta > 0)
    	    msg = msg.ushrn(delta);
    	  if (!truncOnly && msg.cmp(this.n) >= 0)
    	    return msg.sub(this.n);
    	  else
    	    return msg;
    	};

    	EC.prototype.sign = function sign(msg, key, enc, options) {
    	  if (typeof enc === 'object') {
    	    options = enc;
    	    enc = null;
    	  }
    	  if (!options)
    	    options = {};

    	  if (typeof msg !== 'string' && typeof msg !== 'number' && !BN.isBN(msg)) {
    	    assert(typeof msg === 'object' && msg && typeof msg.length === 'number',
    	      'Expected message to be an array-like, a hex string, or a BN instance');
    	    assert((msg.length >>> 0) === msg.length); // non-negative 32-bit integer
    	    for (var i = 0; i < msg.length; i++) assert((msg[i] & 255) === msg[i]);
    	  }

    	  key = this.keyFromPrivate(key, enc);
    	  msg = this._truncateToN(msg, false, options.msgBitLength);

    	  // Would fail further checks, but let's make the error message clear
    	  assert(!msg.isNeg(), 'Can not sign a negative message');

    	  // Zero-extend key to provide enough entropy
    	  var bytes = this.n.byteLength();
    	  var bkey = key.getPrivate().toArray('be', bytes);

    	  // Zero-extend nonce to have the same byte size as N
    	  var nonce = msg.toArray('be', bytes);

    	  // Recheck nonce to be bijective to msg
    	  assert((new BN(nonce)).eq(msg), 'Can not sign message');

    	  // Instantiate Hmac_DRBG
    	  var drbg = new HmacDRBG({
    	    hash: this.hash,
    	    entropy: bkey,
    	    nonce: nonce,
    	    pers: options.pers,
    	    persEnc: options.persEnc || 'utf8',
    	  });

    	  // Number of bytes to generate
    	  var ns1 = this.n.sub(new BN(1));

    	  for (var iter = 0; ; iter++) {
    	    var k = options.k ?
    	      options.k(iter) :
    	      new BN(drbg.generate(this.n.byteLength()));
    	    k = this._truncateToN(k, true);
    	    if (k.cmpn(1) <= 0 || k.cmp(ns1) >= 0)
    	      continue;

    	    var kp = this.g.mul(k);
    	    if (kp.isInfinity())
    	      continue;

    	    var kpX = kp.getX();
    	    var r = kpX.umod(this.n);
    	    if (r.cmpn(0) === 0)
    	      continue;

    	    var s = k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));
    	    s = s.umod(this.n);
    	    if (s.cmpn(0) === 0)
    	      continue;

    	    var recoveryParam = (kp.getY().isOdd() ? 1 : 0) |
    	                        (kpX.cmp(r) !== 0 ? 2 : 0);

    	    // Use complement of `s`, if it is > `n / 2`
    	    if (options.canonical && s.cmp(this.nh) > 0) {
    	      s = this.n.sub(s);
    	      recoveryParam ^= 1;
    	    }

    	    return new Signature({ r: r, s: s, recoveryParam: recoveryParam });
    	  }
    	};

    	EC.prototype.verify = function verify(msg, signature, key, enc, options) {
    	  if (!options)
    	    options = {};

    	  msg = this._truncateToN(msg, false, options.msgBitLength);
    	  key = this.keyFromPublic(key, enc);
    	  signature = new Signature(signature, 'hex');

    	  // Perform primitive values validation
    	  var r = signature.r;
    	  var s = signature.s;
    	  if (r.cmpn(1) < 0 || r.cmp(this.n) >= 0)
    	    return false;
    	  if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0)
    	    return false;

    	  // Validate signature
    	  var sinv = s.invm(this.n);
    	  var u1 = sinv.mul(msg).umod(this.n);
    	  var u2 = sinv.mul(r).umod(this.n);
    	  var p;

    	  if (!this.curve._maxwellTrick) {
    	    p = this.g.mulAdd(u1, key.getPublic(), u2);
    	    if (p.isInfinity())
    	      return false;

    	    return p.getX().umod(this.n).cmp(r) === 0;
    	  }

    	  // NOTE: Greg Maxwell's trick, inspired by:
    	  // https://git.io/vad3K

    	  p = this.g.jmulAdd(u1, key.getPublic(), u2);
    	  if (p.isInfinity())
    	    return false;

    	  // Compare `p.x` of Jacobian point with `r`,
    	  // this will do `p.x == r * p.z^2` instead of multiplying `p.x` by the
    	  // inverse of `p.z^2`
    	  return p.eqXToP(r);
    	};

    	EC.prototype.recoverPubKey = function(msg, signature, j, enc) {
    	  assert((3 & j) === j, 'The recovery param is more than two bits');
    	  signature = new Signature(signature, enc);

    	  var n = this.n;
    	  var e = new BN(msg);
    	  var r = signature.r;
    	  var s = signature.s;

    	  // A set LSB signifies that the y-coordinate is odd
    	  var isYOdd = j & 1;
    	  var isSecondKey = j >> 1;
    	  if (r.cmp(this.curve.p.umod(this.curve.n)) >= 0 && isSecondKey)
    	    throw new Error('Unable to find sencond key candinate');

    	  // 1.1. Let x = r + jn.
    	  if (isSecondKey)
    	    r = this.curve.pointFromX(r.add(this.curve.n), isYOdd);
    	  else
    	    r = this.curve.pointFromX(r, isYOdd);

    	  var rInv = signature.r.invm(n);
    	  var s1 = n.sub(e).mul(rInv).umod(n);
    	  var s2 = s.mul(rInv).umod(n);

    	  // 1.6.1 Compute Q = r^-1 (sR -  eG)
    	  //               Q = r^-1 (sR + -eG)
    	  return this.g.mulAdd(s1, r, s2);
    	};

    	EC.prototype.getKeyRecoveryParam = function(e, signature, Q, enc) {
    	  signature = new Signature(signature, enc);
    	  if (signature.recoveryParam !== null)
    	    return signature.recoveryParam;

    	  for (var i = 0; i < 4; i++) {
    	    var Qprime;
    	    try {
    	      Qprime = this.recoverPubKey(e, signature, i);
    	    } catch (e) {
    	      continue;
    	    }

    	    if (Qprime.eq(Q))
    	      return i;
    	  }
    	  throw new Error('Unable to find valid recovery factor');
    	};
    	return ec$3;
    }

    var key;
    var hasRequiredKey;

    function requireKey () {
    	if (hasRequiredKey) return key;
    	hasRequiredKey = 1;

    	var utils = requireUtils$4();
    	var assert = utils.assert;
    	var parseBytes = utils.parseBytes;
    	var cachedProperty = utils.cachedProperty;

    	/**
    	* @param {EDDSA} eddsa - instance
    	* @param {Object} params - public/private key parameters
    	*
    	* @param {Array<Byte>} [params.secret] - secret seed bytes
    	* @param {Point} [params.pub] - public key point (aka `A` in eddsa terms)
    	* @param {Array<Byte>} [params.pub] - public key point encoded as bytes
    	*
    	*/
    	function KeyPair(eddsa, params) {
    	  this.eddsa = eddsa;
    	  this._secret = parseBytes(params.secret);
    	  if (eddsa.isPoint(params.pub))
    	    this._pub = params.pub;
    	  else
    	    this._pubBytes = parseBytes(params.pub);
    	}

    	KeyPair.fromPublic = function fromPublic(eddsa, pub) {
    	  if (pub instanceof KeyPair)
    	    return pub;
    	  return new KeyPair(eddsa, { pub: pub });
    	};

    	KeyPair.fromSecret = function fromSecret(eddsa, secret) {
    	  if (secret instanceof KeyPair)
    	    return secret;
    	  return new KeyPair(eddsa, { secret: secret });
    	};

    	KeyPair.prototype.secret = function secret() {
    	  return this._secret;
    	};

    	cachedProperty(KeyPair, 'pubBytes', function pubBytes() {
    	  return this.eddsa.encodePoint(this.pub());
    	});

    	cachedProperty(KeyPair, 'pub', function pub() {
    	  if (this._pubBytes)
    	    return this.eddsa.decodePoint(this._pubBytes);
    	  return this.eddsa.g.mul(this.priv());
    	});

    	cachedProperty(KeyPair, 'privBytes', function privBytes() {
    	  var eddsa = this.eddsa;
    	  var hash = this.hash();
    	  var lastIx = eddsa.encodingLength - 1;

    	  var a = hash.slice(0, eddsa.encodingLength);
    	  a[0] &= 248;
    	  a[lastIx] &= 127;
    	  a[lastIx] |= 64;

    	  return a;
    	});

    	cachedProperty(KeyPair, 'priv', function priv() {
    	  return this.eddsa.decodeInt(this.privBytes());
    	});

    	cachedProperty(KeyPair, 'hash', function hash() {
    	  return this.eddsa.hash().update(this.secret()).digest();
    	});

    	cachedProperty(KeyPair, 'messagePrefix', function messagePrefix() {
    	  return this.hash().slice(this.eddsa.encodingLength);
    	});

    	KeyPair.prototype.sign = function sign(message) {
    	  assert(this._secret, 'KeyPair can only verify');
    	  return this.eddsa.sign(message, this);
    	};

    	KeyPair.prototype.verify = function verify(message, sig) {
    	  return this.eddsa.verify(message, sig, this);
    	};

    	KeyPair.prototype.getSecret = function getSecret(enc) {
    	  assert(this._secret, 'KeyPair is public only');
    	  return utils.encode(this.secret(), enc);
    	};

    	KeyPair.prototype.getPublic = function getPublic(enc) {
    	  return utils.encode(this.pubBytes(), enc);
    	};

    	key = KeyPair;
    	return key;
    }

    var signature;
    var hasRequiredSignature;

    function requireSignature () {
    	if (hasRequiredSignature) return signature;
    	hasRequiredSignature = 1;

    	var BN = requireBn();
    	var utils = requireUtils$4();
    	var assert = utils.assert;
    	var cachedProperty = utils.cachedProperty;
    	var parseBytes = utils.parseBytes;

    	/**
    	* @param {EDDSA} eddsa - eddsa instance
    	* @param {Array<Bytes>|Object} sig -
    	* @param {Array<Bytes>|Point} [sig.R] - R point as Point or bytes
    	* @param {Array<Bytes>|bn} [sig.S] - S scalar as bn or bytes
    	* @param {Array<Bytes>} [sig.Rencoded] - R point encoded
    	* @param {Array<Bytes>} [sig.Sencoded] - S scalar encoded
    	*/
    	function Signature(eddsa, sig) {
    	  this.eddsa = eddsa;

    	  if (typeof sig !== 'object')
    	    sig = parseBytes(sig);

    	  if (Array.isArray(sig)) {
    	    assert(sig.length === eddsa.encodingLength * 2, 'Signature has invalid size');
    	    sig = {
    	      R: sig.slice(0, eddsa.encodingLength),
    	      S: sig.slice(eddsa.encodingLength),
    	    };
    	  }

    	  assert(sig.R && sig.S, 'Signature without R or S');

    	  if (eddsa.isPoint(sig.R))
    	    this._R = sig.R;
    	  if (sig.S instanceof BN)
    	    this._S = sig.S;

    	  this._Rencoded = Array.isArray(sig.R) ? sig.R : sig.Rencoded;
    	  this._Sencoded = Array.isArray(sig.S) ? sig.S : sig.Sencoded;
    	}

    	cachedProperty(Signature, 'S', function S() {
    	  return this.eddsa.decodeInt(this.Sencoded());
    	});

    	cachedProperty(Signature, 'R', function R() {
    	  return this.eddsa.decodePoint(this.Rencoded());
    	});

    	cachedProperty(Signature, 'Rencoded', function Rencoded() {
    	  return this.eddsa.encodePoint(this.R());
    	});

    	cachedProperty(Signature, 'Sencoded', function Sencoded() {
    	  return this.eddsa.encodeInt(this.S());
    	});

    	Signature.prototype.toBytes = function toBytes() {
    	  return this.Rencoded().concat(this.Sencoded());
    	};

    	Signature.prototype.toHex = function toHex() {
    	  return utils.encode(this.toBytes(), 'hex').toUpperCase();
    	};

    	signature = Signature;
    	return signature;
    }

    var eddsa;
    var hasRequiredEddsa;

    function requireEddsa () {
    	if (hasRequiredEddsa) return eddsa;
    	hasRequiredEddsa = 1;

    	var hash = requireHash();
    	var curves = requireCurves();
    	var utils = requireUtils$4();
    	var assert = utils.assert;
    	var parseBytes = utils.parseBytes;
    	var KeyPair = requireKey();
    	var Signature = requireSignature();

    	function EDDSA(curve) {
    	  assert(curve === 'ed25519', 'only tested with ed25519 so far');

    	  if (!(this instanceof EDDSA))
    	    return new EDDSA(curve);

    	  curve = curves[curve].curve;
    	  this.curve = curve;
    	  this.g = curve.g;
    	  this.g.precompute(curve.n.bitLength() + 1);

    	  this.pointClass = curve.point().constructor;
    	  this.encodingLength = Math.ceil(curve.n.bitLength() / 8);
    	  this.hash = hash.sha512;
    	}

    	eddsa = EDDSA;

    	/**
    	* @param {Array|String} message - message bytes
    	* @param {Array|String|KeyPair} secret - secret bytes or a keypair
    	* @returns {Signature} - signature
    	*/
    	EDDSA.prototype.sign = function sign(message, secret) {
    	  message = parseBytes(message);
    	  var key = this.keyFromSecret(secret);
    	  var r = this.hashInt(key.messagePrefix(), message);
    	  var R = this.g.mul(r);
    	  var Rencoded = this.encodePoint(R);
    	  var s_ = this.hashInt(Rencoded, key.pubBytes(), message)
    	    .mul(key.priv());
    	  var S = r.add(s_).umod(this.curve.n);
    	  return this.makeSignature({ R: R, S: S, Rencoded: Rencoded });
    	};

    	/**
    	* @param {Array} message - message bytes
    	* @param {Array|String|Signature} sig - sig bytes
    	* @param {Array|String|Point|KeyPair} pub - public key
    	* @returns {Boolean} - true if public key matches sig of message
    	*/
    	EDDSA.prototype.verify = function verify(message, sig, pub) {
    	  message = parseBytes(message);
    	  sig = this.makeSignature(sig);
    	  if (sig.S().gte(sig.eddsa.curve.n) || sig.S().isNeg()) {
    	    return false;
    	  }
    	  var key = this.keyFromPublic(pub);
    	  var h = this.hashInt(sig.Rencoded(), key.pubBytes(), message);
    	  var SG = this.g.mul(sig.S());
    	  var RplusAh = sig.R().add(key.pub().mul(h));
    	  return RplusAh.eq(SG);
    	};

    	EDDSA.prototype.hashInt = function hashInt() {
    	  var hash = this.hash();
    	  for (var i = 0; i < arguments.length; i++)
    	    hash.update(arguments[i]);
    	  return utils.intFromLE(hash.digest()).umod(this.curve.n);
    	};

    	EDDSA.prototype.keyFromPublic = function keyFromPublic(pub) {
    	  return KeyPair.fromPublic(this, pub);
    	};

    	EDDSA.prototype.keyFromSecret = function keyFromSecret(secret) {
    	  return KeyPair.fromSecret(this, secret);
    	};

    	EDDSA.prototype.makeSignature = function makeSignature(sig) {
    	  if (sig instanceof Signature)
    	    return sig;
    	  return new Signature(this, sig);
    	};

    	/**
    	* * https://tools.ietf.org/html/draft-josefsson-eddsa-ed25519-03#section-5.2
    	*
    	* EDDSA defines methods for encoding and decoding points and integers. These are
    	* helper convenience methods, that pass along to utility functions implied
    	* parameters.
    	*
    	*/
    	EDDSA.prototype.encodePoint = function encodePoint(point) {
    	  var enc = point.getY().toArray('le', this.encodingLength);
    	  enc[this.encodingLength - 1] |= point.getX().isOdd() ? 0x80 : 0;
    	  return enc;
    	};

    	EDDSA.prototype.decodePoint = function decodePoint(bytes) {
    	  bytes = utils.parseBytes(bytes);

    	  var lastIx = bytes.length - 1;
    	  var normed = bytes.slice(0, lastIx).concat(bytes[lastIx] & -129);
    	  var xIsOdd = (bytes[lastIx] & 0x80) !== 0;

    	  var y = utils.intFromLE(normed);
    	  return this.curve.pointFromY(y, xIsOdd);
    	};

    	EDDSA.prototype.encodeInt = function encodeInt(num) {
    	  return num.toArray('le', this.encodingLength);
    	};

    	EDDSA.prototype.decodeInt = function decodeInt(bytes) {
    	  return utils.intFromLE(bytes);
    	};

    	EDDSA.prototype.isPoint = function isPoint(val) {
    	  return val instanceof this.pointClass;
    	};
    	return eddsa;
    }

    var hasRequiredElliptic;

    function requireElliptic () {
    	if (hasRequiredElliptic) return elliptic;
    	hasRequiredElliptic = 1;
    	(function (exports) {

    		var elliptic = exports;

    		elliptic.version = require$$0.version;
    		elliptic.utils = requireUtils$4();
    		elliptic.rand = requireBrorand();
    		elliptic.curve = requireCurve();
    		elliptic.curves = requireCurves();

    		// Protocols
    		elliptic.ec = requireEc();
    		elliptic.eddsa = requireEddsa(); 
    	} (elliptic));
    	return elliptic;
    }

    var ellipticExports = requireElliptic();

    const C$5={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};

    const Pe$3=":";function Ye$4(e){const[t,n]=e.split(Pe$3);return {namespace:t,reference:n}}function Xe$5(e){const[t,n,r]=e.split(Pe$3);return {namespace:t,reference:n,address:r}}function Le$7(e,t){return e.includes(":")?[e]:t.chains||[]}const Ft$4="ReactNative",H$6={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Gt$6="js";function et$4(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ne$3(){return !cjsExports$2.getDocument()&&!!cjsExports$2.getNavigator()&&navigator.product===Ft$4}function Wr$6(){return ne$3()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function zr$6(){return ne$3()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Ae$3(){return !et$4()&&!!cjsExports$2.getNavigator()&&!!cjsExports$2.getDocument()}function ue$6(){return ne$3()?H$6.reactNative:et$4()?H$6.node:Ae$3()?H$6.browser:H$6.unknown}function Jr$6(){var e;try{return ne$3()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function Wt$6(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const o=t[r];o!==void 0&&n.set(r,o);}return n.toString()}function Yr$6(){return cjsExports$1.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function zt$4(){if(ue$6()===H$6.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return [n,r].join("-")}const e=detect();if(e===null)return "unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function Jt$6(){var e;const t=ue$6();return t===H$6.browser?[t,((e=cjsExports$2.getLocation())==null?void 0:e.host)||"unknown"].join(":"):t}function Yt$5(e,t,n){const r=zt$4(),o=Jt$6();return [[e,t].join("-"),[Gt$6,n].join("-"),r,o].join("/")}function Zr$6({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:o,projectId:s,useOnCloseEvent:i,bundleId:c,packageName:u}){const a=n.split("?"),l=Yt$5(e,t,r),f={auth:o,ua:l,projectId:s,useOnCloseEvent:i,packageName:u||void 0,bundleId:c||void 0},d=Wt$6(a[1]||"",f);return a[0]+"?"+d}function re$5(e,t){return e.filter(n=>t.includes(n)).length===e.length}function no$4(e){return Object.fromEntries(e.entries())}function ro$4(e){return new Map(Object.entries(e))}function co$4(e=cjsExports$3.FIVE_MINUTES,t){const n=cjsExports$3.toMiliseconds(e||cjsExports$3.FIVE_MINUTES);let r,o,s,i;return {resolve:c=>{s&&r&&(clearTimeout(s),r(c),i=Promise.resolve(c));},reject:c=>{s&&o&&(clearTimeout(s),o(c));},done:()=>new Promise((c,u)=>{if(i)return c(i);s=setTimeout(()=>{const a=new Error(t);i=Promise.reject(a),u(a);},n),r=c,o=u;})}}function ao$4(e,t,n){return new Promise(async(r,o)=>{const s=setTimeout(()=>o(new Error(n)),t);try{const i=await e;r(i);}catch(i){o(i);}clearTimeout(s);})}function tt$4(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return `topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return `id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function uo$3(e){return tt$4("topic",e)}function fo$2(e){return tt$4("id",e)}function lo$2(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function ho$3(e,t){return cjsExports$3.fromMiliseconds((Date.now())+cjsExports$3.toMiliseconds(e))}function po$3(e){return Date.now()>=cjsExports$3.toMiliseconds(e)}function go$3(e,t){return `${e}${t?`:${t}`:""}`}function Q$2(e=[],t=[]){return [...new Set([...e,...t])]}async function yo$3({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n=="string"?JSON.parse(n):n,s=o?.href;if(typeof s!="string")return;const i=en$8(s,e,t),c=ue$6();if(c===H$6.browser){if(!((r=cjsExports$2.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}tn$6(i);}else c===H$6.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(i);}catch(o){console.error(o);}}function en$8(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let o=`${e}`;if(e.startsWith("https://t.me")){const s=e.includes("?")?"&startapp=":"?startapp=";o=`${o}${s}${on$6(r,true)}`;}else o=`${o}/wc?${r}`;return o}function tn$6(e){let t="_self";rn$6()?t="_top":(nn$6()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener");}async function mo$3(e,t){let n="";try{if(Ae$3()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t);}catch(r){console.error(r);}return n}function bo$3(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function wo$3(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return (e==="x"?t:t&3|8).toString(16)})}function Eo$3(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function nn$6(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function rn$6(){try{return window.self!==window.top}catch{return  false}}function on$6(e,t=false){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function rt$2(e){return Buffer.from(e,"base64").toString("utf-8")}function vo$3(e){return new Promise(t=>setTimeout(t,e))}function Ne$3(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function xo$3(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function je$6(e,...t){if(!xo$3(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ot$4(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ne$3(e.outputLen),Ne$3(e.blockLen);}function me$6(e,t=true){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function sn$6(e,t){je$6(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ce$4=BigInt(2**32-1),cn$6=BigInt(32);function Oo$3(e,t=false){return t?{h:Number(e&Ce$4),l:Number(e>>cn$6&Ce$4)}:{h:Number(e>>cn$6&Ce$4)|0,l:Number(e&Ce$4)|0}}function Io$3(e,t=false){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:s,l:i}=Oo$3(e[o],t);[n[o],r[o]]=[s,i];}return [n,r]}const Ao$3=(e,t,n)=>e<<n|t>>>32-n,No$3=(e,t,n)=>t<<n|e>>>32-n,So$3=(e,t,n)=>t<<n-32|e>>>64-n,Uo$3=(e,t,n)=>e<<n-32|t>>>64-n,be$5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function _o$3(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function st$4(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function J$5(e,t){return e<<32-t|e>>>t}const an$6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function To$3(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function un$5(e){for(let t=0;t<e.length;t++)e[t]=To$3(e[t]);}function $o$3(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function we$5(e){return typeof e=="string"&&(e=$o$3(e)),je$6(e),e}let it$2 = class it{clone(){return this._cloneInto()}};function fn$5(e){const t=r=>e().update(we$5(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Se$4(e=32){if(be$5&&typeof be$5.getRandomValues=="function")return be$5.getRandomValues(new Uint8Array(e));if(be$5&&typeof be$5.randomBytes=="function")return be$5.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const ln$5=[],dn$5=[],hn$5=[],Ro$3=BigInt(0),Ue$6=BigInt(1),Po$2=BigInt(2),Lo$3=BigInt(7),Bo$3=BigInt(256),jo$2=BigInt(113);for(let e=0,t=Ue$6,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ln$5.push(2*(5*r+n)),dn$5.push((e+1)*(e+2)/2%64);let o=Ro$3;for(let s=0;s<7;s++)t=(t<<Ue$6^(t>>Lo$3)*jo$2)%Bo$3,t&Po$2&&(o^=Ue$6<<(Ue$6<<BigInt(s))-Ue$6);hn$5.push(o);}const[Co$2,ko$2]=Io$3(hn$5,true),pn$5=(e,t,n)=>n>32?So$3(e,t,n):Ao$3(e,t,n),gn$5=(e,t,n)=>n>32?Uo$3(e,t,n):No$3(e,t,n);function Do$2(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const c=(i+8)%10,u=(i+2)%10,a=n[u],l=n[u+1],f=pn$5(a,l,1)^n[c],d=gn$5(a,l,1)^n[c+1];for(let g=0;g<50;g+=10)e[i+g]^=f,e[i+g+1]^=d;}let o=e[2],s=e[3];for(let i=0;i<24;i++){const c=dn$5[i],u=pn$5(o,s,c),a=gn$5(o,s,c),l=ln$5[i];o=e[l],s=e[l+1],e[l]=u,e[l+1]=a;}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)n[c]=e[i+c];for(let c=0;c<10;c++)e[i+c]^=~n[(c+2)%10]&n[(c+4)%10];}e[0]^=Co$2[r],e[1]^=ko$2[r];}n.fill(0);}let Bt$5 = class Bt extends it$2{constructor(t,n,r,o=false,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=false,this.destroyed=false,Ne$3(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=_o$3(this.state);}keccak(){an$6||un$5(this.state32),Do$2(this.state32,this.rounds),an$6||un$5(this.state32),this.posOut=0,this.pos=0;}update(t){me$6(this);const{blockLen:n,state:r}=this;t=we$5(t);const o=t.length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);for(let c=0;c<i;c++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak();}return this}finish(){if(this.finished)return;this.finished=true;const{state:t,suffix:n,pos:r,blockLen:o}=this;t[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),t[o-1]^=128,this.keccak();}writeInto(t){me$6(this,false),je$6(t),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=t.length;o<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-o);t.set(n.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i;}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ne$3(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(sn$6(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=true,this.state.fill(0);}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:i}=this;return t||(t=new Bt(n,r,o,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=o,t.enableXOF=i,t.destroyed=this.destroyed,t}};const Mo$2=(e,t,n)=>fn$5(()=>new Bt$5(t,e,n)),Vo$2=Mo$2(1,136,256/8),Ho$2="https://rpc.walletconnect.org/v1";function ct$3(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return "0x"+Buffer.from(Vo$2(n)).toString("hex")}async function yn$4(e,t,n,r,o,s){switch(n.t){case "eip191":return await mn$5(e,t,n.s);case "eip1271":return await bn$5(e,t,n.s,r,o,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function mn$5(e,t,n){return (await recoverAddress$1({hash:ct$3(t),signature:n})).toLowerCase()===e.toLowerCase()}async function bn$5(e,t,n,r,o,s){const i=Ye$4(r);if(!i.namespace||!i.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",a="0000000000000000000000000000000000000000000000000000000000000041",l=n.substring(2),f=ct$3(t).substring(2),d=c+f+u+a+l,g=await fetch(`${s||Ho$2}/?chainId=${r}&projectId=${o}`,{method:"POST",body:JSON.stringify({id:Ko$2(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:d},"latest"]})}),{result:y}=await g.json();return y?y.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),false}}function Ko$2(){return Date.now()+Math.floor(Math.random()*1e3)}var Fo$2=Object.defineProperty,qo$2=Object.defineProperties,Go$3=Object.getOwnPropertyDescriptors,wn$5=Object.getOwnPropertySymbols,Wo$3=Object.prototype.hasOwnProperty,zo$2=Object.prototype.propertyIsEnumerable,En$6=(e,t,n)=>t in e?Fo$2(e,t,{enumerable:true,configurable:true,writable:true,value:n}):e[t]=n,at$3=(e,t)=>{for(var n in t||(t={}))Wo$3.call(t,n)&&En$6(e,n,t[n]);if(wn$5)for(var n of wn$5(t))zo$2.call(t,n)&&En$6(e,n,t[n]);return e},vn$4=(e,t)=>qo$2(e,Go$3(t));const Jo$3="did:pkh:",ke$7=e=>e?.split(":"),xn$3=e=>{const t=e&&ke$7(e);if(t)return e.includes(Jo$3)?t[3]:t[1]},On$3=e=>{const t=e&&ke$7(e);if(t)return t[2]+":"+t[3]},ut$7=e=>{const t=e&&ke$7(e);if(t)return t.pop()};async function Yo$3(e){const{cacao:t,projectId:n}=e,{s:r,p:o}=t,s=In$4(o,o.iss),i=ut$7(o.iss);return await yn$4(i,s,r,On$3(o.iss),n)}const In$4=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=ut$7(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let o=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,i=`Version: ${e.version}`,c=`Chain ID: ${xn$3(t)}`,u=`Nonce: ${e.nonce}`,a=`Issued At: ${e.iat}`,l=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,d=e.requestId?`Request ID: ${e.requestId}`:void 0,g=e.resources?`Resources:${e.resources.map(h=>`
- ${h}`).join("")}`:void 0,y=Me$8(e.resources);if(y){const h=oe$3(y);o=dt$6(o,h);}return [n,r,"",o,"",s,i,c,u,a,l,f,d,g].filter(h=>h!=null).join(`
`)};function Un$3(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function _n$5(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Y$4(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const s=r[o];if(!Array.isArray(s))throw new Error(`Ability limits ${o} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);s.forEach(i=>{if(typeof i!="object")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${i}`)});});});}function Tn$4(e,t,n,r={}){return n?.sort((o,s)=>o.localeCompare(s)),{att:{[e]:ft$5(t,n,r)}}}function ft$5(e,t,n={}){t=t?.sort((o,s)=>o.localeCompare(s));const r=t.map(o=>({[`${e}/${o}`]:[n]}));return Object.assign({},...r)}function De$5(e){return Y$4(e),`urn:recap:${Un$3(e).replace(/=/g,"")}`}function oe$3(e){const t=_n$5(e.replace("urn:recap:",""));return Y$4(t),t}function ts$3(e,t,n){const r=Tn$4(e,t,n);return De$5(r)}function lt$4(e){return e&&e.includes("urn:recap:")}function ns$2(e,t){const n=oe$3(e),r=oe$3(t),o=Rn$4(n,r);return De$5(o)}function Rn$4(e,t){Y$4(e),Y$4(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((o,s)=>o.localeCompare(s)),r={att:{}};return n.forEach(o=>{var s,i;Object.keys(((s=e.att)==null?void 0:s[o])||{}).concat(Object.keys(((i=t.att)==null?void 0:i[o])||{})).sort((c,u)=>c.localeCompare(u)).forEach(c=>{var u,a;r.att[o]=vn$4(at$3({},r.att[o]),{[c]:((u=e.att[o])==null?void 0:u[c])||((a=t.att[o])==null?void 0:a[c])});});}),r}function dt$6(e="",t){Y$4(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let o=0;Object.keys(t.att).forEach(c=>{const u=Object.keys(t.att[c]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));u.sort((f,d)=>f.action.localeCompare(d.action));const a={};u.forEach(f=>{a[f.ability]||(a[f.ability]=[]),a[f.ability].push(f.action);});const l=Object.keys(a).map(f=>(o++,`(${o}) '${f}': '${a[f].join("', '")}' for '${c}'.`));r.push(l.join(", ").replace(".,","."));});const s=r.join(" "),i=`${n}${s}`;return `${e?e+" ":""}${i}`}function rs$2(e){var t;const n=oe$3(e);Y$4(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(o=>o.split("/")[1]):[]}function os$2(e){const t=oe$3(e);Y$4(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(o=>{var s;(s=o?.[0])!=null&&s.chains&&n.push(o[0].chains);});}),[...new Set(n.flat())]}function Me$8(e){if(!e)return;const t=e?.[e.length-1];return lt$4(t)?t:void 0}function ht$5(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ln$3(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function F$6(e,...t){if(!Ln$3(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Bn$3(e,t=true){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ss$1(e,t){F$6(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function jn$4(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}const se$5=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),is$2=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),cs$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!cs$1)throw new Error("Non little-endian hardware is not supported");function as$1(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function pt$5(e){if(typeof e=="string")e=as$1(e);else if(Ln$3(e))e=gt$4(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function us$1(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function fs$3(e,t){if(e.length!==t.length)return  false;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const ls$2=(e,t)=>{function n(r,...o){if(F$6(r),e.nonceLength!==void 0){const l=o[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?F$6(l):F$6(l,e.nonceLength);}const s=e.tagLength;s&&o[1]!==void 0&&F$6(o[1]);const i=t(r,...o),c=(l,f)=>{if(f!==void 0){if(l!==2)throw new Error("cipher output not supported");F$6(f);}};let u=false;return {encrypt(l,f){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=true,F$6(l),c(i.encrypt.length,f),i.encrypt(l,f)},decrypt(l,f){if(F$6(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return c(i.decrypt.length,f),i.decrypt(l,f)}}}return Object.assign(n,e),n};function Cn$4(e,t,n=true){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!ds$2(t))throw new Error("invalid output, must be aligned");return t}function kn$4(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),u=4,a=0;e.setUint32(t+u,i,r),e.setUint32(t+a,c,r);}function ds$2(e){return e.byteOffset%4===0}function gt$4(e){return Uint8Array.from(e)}function Ee$7(...e){for(let t=0;t<e.length;t++)e[t].fill(0);}const Dn$4=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),hs$2=Dn$4("expand 16-byte k"),ps$3=Dn$4("expand 32-byte k"),gs$3=se$5(hs$2),ys$3=se$5(ps$3);function x$6(e,t){return e<<t|e>>>32-t}function yt$4(e){return e.byteOffset%4===0}const Ve$5=64,ms$3=16,Mn$4=2**32-1,Vn$4=new Uint32Array;function bs$5(e,t,n,r,o,s,i,c){const u=o.length,a=new Uint8Array(Ve$5),l=se$5(a),f=yt$4(o)&&yt$4(s),d=f?se$5(o):Vn$4,g=f?se$5(s):Vn$4;for(let y=0;y<u;i++){if(e(t,n,r,l,i,c),i>=Mn$4)throw new Error("arx: counter overflow");const h=Math.min(Ve$5,u-y);if(f&&h===Ve$5){const m=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let B=0,b;B<ms$3;B++)b=m+B,g[b]=d[b]^l[B];y+=Ve$5;continue}for(let m=0,B;m<h;m++)B=y+m,s[B]=o[B]^a[m];y+=h;}}function ws$3(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=us$1({allowShortKeys:false,counterLength:8,counterRight:false,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return ht$5(o),ht$5(i),jn$4(s),jn$4(n),(c,u,a,l,f=0)=>{F$6(c),F$6(u),F$6(a);const d=a.length;if(l===void 0&&(l=new Uint8Array(d)),F$6(l),ht$5(f),f<0||f>=Mn$4)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const g=[];let y=c.length,h,m;if(y===32)g.push(h=gt$4(c)),m=ys$3;else if(y===16&&n)h=new Uint8Array(32),h.set(c),h.set(c,16),m=gs$3,g.push(h);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);yt$4(u)||g.push(u=gt$4(u));const B=se$5(h);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,B,se$5(u.subarray(0,16)),B),u=u.subarray(16);}const b=16-o;if(b!==u.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const I=new Uint8Array(12);I.set(u,s?0:12-u.length),u=I,g.push(u);}const _=se$5(u);return bs$5(e,m,B,_,a,l,f,i),Ee$7(...g),l}}const M$5=(e,t)=>e[t++]&255|(e[t++]&255)<<8;let Es$3 = class Es{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=false,t=pt$5(t),F$6(t,32);const n=M$5(t,0),r=M$5(t,2),o=M$5(t,4),s=M$5(t,6),i=M$5(t,8),c=M$5(t,10),u=M$5(t,12),a=M$5(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|a<<8)&8191,this.r[9]=a>>>5&127;for(let l=0;l<8;l++)this.pad[l]=M$5(t,16+2*l);}process(t,n,r=false){const o=r?0:2048,{h:s,r:i}=this,c=i[0],u=i[1],a=i[2],l=i[3],f=i[4],d=i[5],g=i[6],y=i[7],h=i[8],m=i[9],B=M$5(t,n+0),b=M$5(t,n+2),_=M$5(t,n+4),I=M$5(t,n+6),k=M$5(t,n+8),E=M$5(t,n+10),L=M$5(t,n+12),j=M$5(t,n+14);let v=s[0]+(B&8191),O=s[1]+((B>>>13|b<<3)&8191),w=s[2]+((b>>>10|_<<6)&8191),R=s[3]+((_>>>7|I<<9)&8191),A=s[4]+((I>>>4|k<<12)&8191),T=s[5]+(k>>>1&8191),N=s[6]+((k>>>14|E<<2)&8191),S=s[7]+((E>>>11|L<<5)&8191),U=s[8]+((L>>>8|j<<8)&8191),$=s[9]+(j>>>5|o),p=0,C=p+v*c+O*(5*m)+w*(5*h)+R*(5*y)+A*(5*g);p=C>>>13,C&=8191,C+=T*(5*d)+N*(5*f)+S*(5*l)+U*(5*a)+$*(5*u),p+=C>>>13,C&=8191;let D=p+v*u+O*c+w*(5*m)+R*(5*h)+A*(5*y);p=D>>>13,D&=8191,D+=T*(5*g)+N*(5*d)+S*(5*f)+U*(5*l)+$*(5*a),p+=D>>>13,D&=8191;let P=p+v*a+O*u+w*c+R*(5*m)+A*(5*h);p=P>>>13,P&=8191,P+=T*(5*y)+N*(5*g)+S*(5*d)+U*(5*f)+$*(5*l),p+=P>>>13,P&=8191;let G=p+v*l+O*a+w*u+R*c+A*(5*m);p=G>>>13,G&=8191,G+=T*(5*h)+N*(5*y)+S*(5*g)+U*(5*d)+$*(5*f),p+=G>>>13,G&=8191;let X=p+v*f+O*l+w*a+R*u+A*c;p=X>>>13,X&=8191,X+=T*(5*m)+N*(5*h)+S*(5*y)+U*(5*g)+$*(5*d),p+=X>>>13,X&=8191;let Z=p+v*d+O*f+w*l+R*a+A*u;p=Z>>>13,Z&=8191,Z+=T*c+N*(5*m)+S*(5*h)+U*(5*y)+$*(5*g),p+=Z>>>13,Z&=8191;let he=p+v*g+O*d+w*f+R*l+A*a;p=he>>>13,he&=8191,he+=T*u+N*c+S*(5*m)+U*(5*h)+$*(5*y),p+=he>>>13,he&=8191;let pe=p+v*y+O*g+w*d+R*f+A*l;p=pe>>>13,pe&=8191,pe+=T*a+N*u+S*c+U*(5*m)+$*(5*h),p+=pe>>>13,pe&=8191;let ge=p+v*h+O*y+w*g+R*d+A*f;p=ge>>>13,ge&=8191,ge+=T*l+N*a+S*u+U*c+$*(5*m),p+=ge>>>13,ge&=8191;let ye=p+v*m+O*h+w*y+R*g+A*d;p=ye>>>13,ye&=8191,ye+=T*f+N*l+S*a+U*u+$*c,p+=ye>>>13,ye&=8191,p=(p<<2)+p|0,p=p+C|0,C=p&8191,p=p>>>13,D+=p,s[0]=C,s[1]=D,s[2]=P,s[3]=G,s[4]=X,s[5]=Z,s[6]=he,s[7]=pe,s[8]=ge,s[9]=ye;}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let o=t[1]>>>13;t[1]&=8191;for(let c=2;c<10;c++)t[c]+=o,o=t[c]>>>13,t[c]&=8191;t[0]+=o*5,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,r[0]=t[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=t[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(o^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)t[c]=t[c]&s|r[c];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let i=t[0]+n[0];t[0]=i&65535;for(let c=1;c<8;c++)i=(t[c]+n[c]|0)+(i>>>16)|0,t[c]=i&65535;Ee$7(r);}update(t){Bn$3(this);const{buffer:n,blockLen:r}=this;t=pt$5(t);const o=t.length;for(let s=0;s<o;){const i=Math.min(r-this.pos,o-s);if(i===r){for(;r<=o-s;s+=r)this.process(t,s);continue}n.set(t.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,false),this.pos=0);}return this}destroy(){Ee$7(this.h,this.r,this.buffer,this.pad);}digestInto(t){Bn$3(this),ss$1(t,this),this.finished=true;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,true);}this.finalize();let s=0;for(let i=0;i<8;i++)t[s++]=r[i]>>>0,t[s++]=r[i]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}};function vs$5(e){const t=(r,o)=>e(o).update(pt$5(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const xs$5=vs$5(e=>new Es$3(e));function Os$5(e,t,n,r,o,s=20){let i=e[0],c=e[1],u=e[2],a=e[3],l=t[0],f=t[1],d=t[2],g=t[3],y=t[4],h=t[5],m=t[6],B=t[7],b=o,_=n[0],I=n[1],k=n[2],E=i,L=c,j=u,v=a,O=l,w=f,R=d,A=g,T=y,N=h,S=m,U=B,$=b,p=_,C=I,D=k;for(let G=0;G<s;G+=2)E=E+O|0,$=x$6($^E,16),T=T+$|0,O=x$6(O^T,12),E=E+O|0,$=x$6($^E,8),T=T+$|0,O=x$6(O^T,7),L=L+w|0,p=x$6(p^L,16),N=N+p|0,w=x$6(w^N,12),L=L+w|0,p=x$6(p^L,8),N=N+p|0,w=x$6(w^N,7),j=j+R|0,C=x$6(C^j,16),S=S+C|0,R=x$6(R^S,12),j=j+R|0,C=x$6(C^j,8),S=S+C|0,R=x$6(R^S,7),v=v+A|0,D=x$6(D^v,16),U=U+D|0,A=x$6(A^U,12),v=v+A|0,D=x$6(D^v,8),U=U+D|0,A=x$6(A^U,7),E=E+w|0,D=x$6(D^E,16),S=S+D|0,w=x$6(w^S,12),E=E+w|0,D=x$6(D^E,8),S=S+D|0,w=x$6(w^S,7),L=L+R|0,$=x$6($^L,16),U=U+$|0,R=x$6(R^U,12),L=L+R|0,$=x$6($^L,8),U=U+$|0,R=x$6(R^U,7),j=j+A|0,p=x$6(p^j,16),T=T+p|0,A=x$6(A^T,12),j=j+A|0,p=x$6(p^j,8),T=T+p|0,A=x$6(A^T,7),v=v+O|0,C=x$6(C^v,16),N=N+C|0,O=x$6(O^N,12),v=v+O|0,C=x$6(C^v,8),N=N+C|0,O=x$6(O^N,7);let P=0;r[P++]=i+E|0,r[P++]=c+L|0,r[P++]=u+j|0,r[P++]=a+v|0,r[P++]=l+O|0,r[P++]=f+w|0,r[P++]=d+R|0,r[P++]=g+A|0,r[P++]=y+T|0,r[P++]=h+N|0,r[P++]=m+S|0,r[P++]=B+U|0,r[P++]=b+$|0,r[P++]=_+p|0,r[P++]=I+C|0,r[P++]=k+D|0;}const Is$5=ws$3(Os$5,{counterRight:false,counterLength:4,allowShortKeys:false}),As$5=new Uint8Array(16),Hn$3=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(As$5.subarray(n));},Ns$5=new Uint8Array(32);function Kn$4(e,t,n,r,o){const s=e(t,n,Ns$5),i=xs$5.create(s);o&&Hn$3(i,o),Hn$3(i,r);const c=new Uint8Array(16),u=is$2(c);kn$4(u,0,BigInt(o?o.length:0),true),kn$4(u,8,BigInt(r.length),true),i.update(c);const a=i.digest();return Ee$7(s,c),a}const Ss$3=e=>(t,n,r)=>({encrypt(s,i){const c=s.length;i=Cn$4(c+16,i,false),i.set(s);const u=i.subarray(0,-16);e(t,n,u,u,1);const a=Kn$4(e,t,n,u,r);return i.set(a,c),Ee$7(a),i},decrypt(s,i){i=Cn$4(s.length-16,i,false);const c=s.subarray(0,-16),u=s.subarray(-16),a=Kn$4(e,t,n,c,r);if(!fs$3(u,a))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),e(t,n,i,i,1),Ee$7(a),i}}),Fn$4=ls$2({blockSize:64,nonceLength:12,tagLength:16},Ss$3(Is$5));let qn$3 = class qn extends it$2{constructor(t,n){super(),this.finished=false,this.destroyed=false,ot$4(t);const r=we$5(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0);}update(t){return me$6(this),this.iHash.update(t),this}digestInto(t){me$6(this),je$6(t,this.outputLen),this.finished=true,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy();}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=true,this.oHash.destroy(),this.iHash.destroy();}};const mt$6=(e,t,n)=>new qn$3(e,t).update(n).digest();mt$6.create=(e,t)=>new qn$3(e,t);function Us$3(e,t,n){return ot$4(e),n===void 0&&(n=new Uint8Array(e.outputLen)),mt$6(e,we$5(n),we$5(t))}const bt$3=new Uint8Array([0]),Gn$5=new Uint8Array;function _s$3(e,t,n,r=32){if(ot$4(e),Ne$3(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/e.outputLen);n===void 0&&(n=Gn$5);const s=new Uint8Array(o*e.outputLen),i=mt$6.create(e,t),c=i._cloneInto(),u=new Uint8Array(i.outputLen);for(let a=0;a<o;a++)bt$3[0]=a+1,c.update(a===0?Gn$5:u).update(n).update(bt$3).digestInto(u),s.set(u,e.outputLen*a),i._cloneInto(c);return i.destroy(),c.destroy(),u.fill(0),bt$3.fill(0),s.slice(0,r)}const Ts$5=(e,t,n,r,o)=>_s$3(e,Us$3(e,t,n),r,o);function $s$3(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),u=r?4:0,a=r?0:4;e.setUint32(t+u,i,r),e.setUint32(t+a,c,r);}function Rs$5(e,t,n){return e&t^~e&n}function Ps$4(e,t,n){return e&t^e&n^t&n}let Ls$6 = class Ls extends it$2{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=false,this.length=0,this.pos=0,this.destroyed=false,this.buffer=new Uint8Array(t),this.view=st$4(this.buffer);}update(t){me$6(this);const{view:n,buffer:r,blockLen:o}=this;t=we$5(t);const s=t.length;for(let i=0;i<s;){const c=Math.min(o-this.pos,s-i);if(c===o){const u=st$4(t);for(;o<=s-i;i+=o)this.process(u,i);continue}r.set(t.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===o&&(this.process(n,0),this.pos=0);}return this.length+=t.length,this.roundClean(),this}digestInto(t){me$6(this),sn$6(t,this),this.finished=true;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let f=i;f<o;f++)n[f]=0;$s$3(r,o-8,BigInt(this.length*8),s),this.process(r,0);const c=st$4(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=u/4,l=this.get();if(a>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<a;f++)c.setUint32(4*f,l[f],s);}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:c}=this;return t.length=o,t.pos=c,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};const Bs$3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ie$5=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ce$5=new Uint32Array(64);let js$4 = class js extends Ls$6{constructor(){super(64,32,8,false),this.A=ie$5[0]|0,this.B=ie$5[1]|0,this.C=ie$5[2]|0,this.D=ie$5[3]|0,this.E=ie$5[4]|0,this.F=ie$5[5]|0,this.G=ie$5[6]|0,this.H=ie$5[7]|0;}get(){const{A:t,B:n,C:r,D:o,E:s,F:i,G:c,H:u}=this;return [t,n,r,o,s,i,c,u]}set(t,n,r,o,s,i,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=c|0,this.H=u|0;}process(t,n){for(let f=0;f<16;f++,n+=4)ce$5[f]=t.getUint32(n,false);for(let f=16;f<64;f++){const d=ce$5[f-15],g=ce$5[f-2],y=J$5(d,7)^J$5(d,18)^d>>>3,h=J$5(g,17)^J$5(g,19)^g>>>10;ce$5[f]=h+ce$5[f-7]+y+ce$5[f-16]|0;}let{A:r,B:o,C:s,D:i,E:c,F:u,G:a,H:l}=this;for(let f=0;f<64;f++){const d=J$5(c,6)^J$5(c,11)^J$5(c,25),g=l+d+Rs$5(c,u,a)+Bs$3[f]+ce$5[f]|0,h=(J$5(r,2)^J$5(r,13)^J$5(r,22))+Ps$4(r,o,s)|0;l=a,a=u,u=c,c=i+g|0,i=s,s=o,o=r,r=g+h|0;}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,c=c+this.E|0,u=u+this.F|0,a=a+this.G|0,l=l+this.H|0,this.set(r,o,s,i,c,u,a,l);}roundClean(){ce$5.fill(0);}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0);}};const He$4=fn$5(()=>new js$4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wn$5=BigInt(0);function wt$6(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function zn$4(e){if(!wt$6(e))throw new Error("Uint8Array expected")}const Cs$5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ks$3(e){zn$4(e);let t="";for(let n=0;n<e.length;n++)t+=Cs$5[e[n]];return t}function Ds$5(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Wn$5:BigInt("0x"+e)}const ee$3={_0:48,_9:57,A:65,F:70,a:97,f:102};function Jn$5(e){if(e>=ee$3._0&&e<=ee$3._9)return e-ee$3._0;if(e>=ee$3.A&&e<=ee$3.F)return e-(ee$3.A-10);if(e>=ee$3.a&&e<=ee$3.f)return e-(ee$3.a-10)}function Yn$4(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const i=Jn$5(e.charCodeAt(s)),c=Jn$5(e.charCodeAt(s+1));if(i===void 0||c===void 0){const u=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[o]=i*16+c;}return r}function Xn$5(e){return zn$4(e),Ds$5(ks$3(Uint8Array.from(e).reverse()))}function Ms$3(e,t){return Yn$4(e.toString(16).padStart(t*2,"0"))}function Vs$4(e,t){return Ms$3(e,t).reverse()}function Zn$4(e,t,n){let r;if(typeof t=="string")try{r=Yn$4(t);}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(wt$6(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return r}const Et$6=e=>typeof e=="bigint"&&Wn$5<=e;function Hs$4(e,t,n){return Et$6(e)&&Et$6(t)&&Et$6(n)&&t<=e&&e<n}function Qn$5(e,t,n,r){if(!Hs$4(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Ks$3={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||wt$6(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Fs$3(e,t,n={}){const r=(o,s,i)=>{const c=Ks$3[s];if(typeof c!="function")throw new Error("invalid validator function");const u=e[o];if(!(i&&u===void 0)&&!c(u,e))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+u)};for(const[o,s]of Object.entries(t))r(o,s,false);for(const[o,s]of Object.entries(n))r(o,s,true);return e}const ve$3=BigInt(0),Ke$9=BigInt(1);function er$5(e,t){const n=e%t;return n>=ve$3?n:t+n}function qs$6(e,t,n){if(t<ve$3)throw new Error("invalid exponent, negatives unsupported");if(n<=ve$3)throw new Error("invalid modulus");if(n===Ke$9)return ve$3;let r=Ke$9;for(;t>ve$3;)t&Ke$9&&(r=r*e%n),e=e*e%n,t>>=Ke$9;return r}function z$5(e,t,n){let r=e;for(;t-- >ve$3;)r*=r,r%=n;return r}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const xe$4=BigInt(0),vt$3=BigInt(1);function Gs$4(e){return Fs$3(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function Ws$4(e){const t=Gs$4(e),{P:n}=t,r=b=>er$5(b,n),o=t.montgomeryBits,s=Math.ceil(o/8),i=t.nByteLength,c=t.adjustScalarBytes||(b=>b),u=t.powPminus2||(b=>qs$6(b,n-BigInt(2),n));function a(b,_,I){const k=r(b*(_-I));return _=r(_-k),I=r(I+k),[_,I]}const l=(t.a-BigInt(2))/BigInt(4);function f(b,_){Qn$5("u",b,xe$4,n),Qn$5("scalar",_,xe$4,n);const I=_,k=b;let E=vt$3,L=xe$4,j=b,v=vt$3,O=xe$4,w;for(let A=BigInt(o-1);A>=xe$4;A--){const T=I>>A&vt$3;O^=T,w=a(O,E,j),E=w[0],j=w[1],w=a(O,L,v),L=w[0],v=w[1],O=T;const N=E+L,S=r(N*N),U=E-L,$=r(U*U),p=S-$,C=j+v,D=j-v,P=r(D*N),G=r(C*U),X=P+G,Z=P-G;j=r(X*X),v=r(k*r(Z*Z)),E=r(S*$),L=r(p*(S+r(l*p)));}w=a(O,E,j),E=w[0],j=w[1],w=a(O,L,v),L=w[0],v=w[1];const R=u(L);return r(E*R)}function d(b){return Vs$4(r(b),s)}function g(b){const _=Zn$4("u coordinate",b,s);return i===32&&(_[31]&=127),Xn$5(_)}function y(b){const _=Zn$4("scalar",b),I=_.length;if(I!==s&&I!==i){let k=""+s+" or "+i;throw new Error("invalid scalar, expected "+k+" bytes, got "+I)}return Xn$5(c(_))}function h(b,_){const I=g(_),k=y(b),E=f(I,k);if(E===xe$4)throw new Error("invalid private or public key received");return d(E)}const m=d(t.Gu);function B(b){return h(b,m)}return {scalarMult:h,scalarMultBase:B,getSharedSecret:(b,_)=>h(b,_),getPublicKey:b=>B(b),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:m}}const xt$5=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const zs$3=BigInt(1),tr$5=BigInt(2),Js$4=BigInt(3),Ys$4=BigInt(5);BigInt(8);function Xs$5(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=xt$5,c=e*e%s*e%s,u=z$5(c,tr$5,s)*c%s,a=z$5(u,zs$3,s)*e%s,l=z$5(a,Ys$4,s)*a%s,f=z$5(l,t,s)*l%s,d=z$5(f,n,s)*f%s,g=z$5(d,r,s)*d%s,y=z$5(g,o,s)*g%s,h=z$5(y,o,s)*g%s,m=z$5(h,t,s)*l%s;return {pow_p_5_8:z$5(m,tr$5,s)*e%s,b2:c}}function Zs$4(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Ot$5=Ws$4({P:xt$5,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=xt$5,{pow_p_5_8:n,b2:r}=Xs$5(e);return er$5(z$5(n,Js$4,t)*r,t)},adjustScalarBytes:Zs$4,randomBytes:Se$4}),It$4="base10",V$7="base16",At$5="base64pad",Qs$5="base64url",Oe$3="utf8",Nt$4=0,Ie$4=1,_e$7=2,ei$4=0,nr$6=1,Te$3=12,St$8=32;function ti$3(){const e=Ot$5.utils.randomPrivateKey(),t=Ot$5.getPublicKey(e);return {privateKey:srcExports.toString(e,V$7),publicKey:srcExports.toString(t,V$7)}}function ni$5(){const e=Se$4(St$8);return srcExports.toString(e,V$7)}function ri$5(e,t){const n=Ot$5.getSharedSecret(srcExports.fromString(e,V$7),srcExports.fromString(t,V$7)),r=Ts$5(He$4,n,void 0,void 0,St$8);return srcExports.toString(r,V$7)}function oi$5(e){const t=He$4(srcExports.fromString(e,V$7));return srcExports.toString(t,V$7)}function si$5(e){const t=He$4(srcExports.fromString(e,Oe$3));return srcExports.toString(t,V$7)}function Ut$4(e){return srcExports.fromString(`${e}`,It$4)}function fe$3(e){return Number(srcExports.toString(e,It$4))}function ii$3(e){const t=Ut$4(typeof e.type<"u"?e.type:Nt$4);if(fe$3(t)===Ie$4&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?srcExports.fromString(e.senderPublicKey,V$7):void 0,r=typeof e.iv<"u"?srcExports.fromString(e.iv,V$7):Se$4(Te$3),o=srcExports.fromString(e.symKey,V$7),s=Fn$4(o,r).encrypt(srcExports.fromString(e.message,Oe$3));return _t$7({type:t,sealed:s,iv:r,senderPublicKey:n,encoding:e.encoding})}function ci$4(e){const t=srcExports.fromString(e.symKey,V$7),{sealed:n,iv:r}=Fe$6(e),o=Fn$4(t,r).decrypt(n);if(o===null)throw new Error("Failed to decrypt");return srcExports.toString(o,Oe$3)}function ai$4(e,t){const n=Ut$4(_e$7),r=Se$4(Te$3),o=srcExports.fromString(e,Oe$3);return _t$7({type:n,sealed:o,iv:r,encoding:t})}function ui$4(e,t){const{sealed:n}=Fe$6({encoded:e,encoding:t});return srcExports.toString(n,Oe$3)}function _t$7(e){const{encoding:t=At$5}=e;if(fe$3(e.type)===_e$7)return srcExports.toString(srcExports.concat([e.type,e.sealed]),t);if(fe$3(e.type)===Ie$4){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return srcExports.toString(srcExports.concat([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return srcExports.toString(srcExports.concat([e.type,e.iv,e.sealed]),t)}function Fe$6(e){const{encoded:t,encoding:n=At$5}=e,r=srcExports.fromString(t,n),o=r.slice(ei$4,nr$6),s=nr$6;if(fe$3(o)===Ie$4){const a=s+St$8,l=a+Te$3,f=r.slice(s,a),d=r.slice(a,l),g=r.slice(l);return {type:o,sealed:g,iv:d,senderPublicKey:f}}if(fe$3(o)===_e$7){const a=r.slice(s),l=Se$4(Te$3);return {type:o,sealed:a,iv:l}}const i=s+Te$3,c=r.slice(s,i),u=r.slice(i);return {type:o,sealed:u,iv:c}}function fi$4(e,t){const n=Fe$6({encoded:e,encoding:t?.encoding});return rr$6({type:fe$3(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?srcExports.toString(n.senderPublicKey,V$7):void 0,receiverPublicKey:t?.receiverPublicKey})}function rr$6(e){const t=e?.type||Nt$4;if(t===Ie$4){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return {type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function li$5(e){return e.type===Ie$4&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function di$4(e){return e.type===_e$7}function or$6(e){return new ellipticExports.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}function hi$4(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n>0&&(t+="=".repeat(4-n)),t}function pi$4(e){return Buffer.from(hi$4(e),"base64")}function gi$5(e,t){const[n,r,o]=e.split("."),s=pi$4(o);if(s.length!==64)throw new Error("Invalid signature length");const i=s.slice(0,32).toString("hex"),c=s.slice(32,64).toString("hex"),u=`${n}.${r}`,a=He$4(u),l=or$6(t),f=srcExports.toString(a,V$7);if(!l.verify(f,{r:i,s:c}))throw new Error("Invalid signature");return sn$7(e).payload}const sr$5="irn";function yi$5(e){return e?.relay||{protocol:sr$5}}function mi$4(e){const t=C$5[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function ir$4(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(o=>{if(o.startsWith(r)){const s=o.replace(r,""),i=e[o];n[s]=i;}}),n}function bi$4(e){if(!e.includes("wc:")){const a=rt$2(e);a!=null&&a.includes("wc:")&&(e=a);}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),o=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",i=new URLSearchParams(s),c={};i.forEach((a,l)=>{c[l]=a;});const u=typeof c.methods=="string"?c.methods.split(","):void 0;return {protocol:r,topic:cr$5(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:ir$4(c),methods:u,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function cr$5(e){return e.startsWith("//")?e.substring(2):e}function ar$5(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(o=>{const s=o,i=n+t+s;e[s]&&(r[i]=e[s]);}),r}function wi$4(e){const t=new URLSearchParams,n=ar$5(e.relay);Object.keys(n).sort().forEach(o=>{t.set(o,n[o]);}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return `${e.protocol}:${e.topic}@${e.version}?${r}`}function Ei$4(e,t,n){return `${e}?wc_ev=${n}&topic=${t}`}function le$6(e){const t=[];return e.forEach(n=>{const[r,o]=n.split(":");t.push(`${r}:${o}`);}),t}function lr$5(e){const t=[];return Object.values(e).forEach(n=>{t.push(...le$6(n.accounts));}),t}function dr$5(e,t){const n=[];return Object.values(e).forEach(r=>{le$6(r.accounts).includes(t)&&n.push(...r.methods);}),n}function hr$5(e,t){const n=[];return Object.values(e).forEach(r=>{le$6(r.accounts).includes(t)&&n.push(...r.events);}),n}function Tt$6(e){return e.includes(":")}function pr$4(e){return Tt$6(e)?e.split(":")[0]:e}function gr$4(e){const t={};return e?.forEach(n=>{var r;const[o,s]=n.split(":");t[o]||(t[o]={accounts:[],chains:[],events:[],methods:[]}),t[o].accounts.push(n),(r=t[o].chains)==null||r.push(`${o}:${s}`);}),t}function Ti$5(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=gr$4(t);for(const[r,o]of Object.entries(n))o.methods?o.methods=Q$2(o.methods,e):o.methods=e,o.events=["chainChanged","accountsChanged"];return n}const yr$4={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},mr$5={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function te$4(e,t){const{message:n,code:r}=mr$5[e];return {message:t?`${n} ${t}`:n,code:r}}function de$6(e,t){const{message:n,code:r}=yr$4[e];return {message:t?`${n} ${t}`:n,code:r}}function $e$5(e,t){return Array.isArray(e)?true:false}function qe$5(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function ae$3(e){return typeof e>"u"}function q$4(e,t){return t&&ae$3(e)?true:typeof e=="string"&&!!e.trim().length}function Ge$8(e,t){return t&&ae$3(e)?true:typeof e=="number"&&!isNaN(e)}function $i$5(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),o=Object.keys(n);let s=true;return re$5(o,r)?(r.forEach(i=>{const{accounts:c,methods:u,events:a}=e.namespaces[i],l=le$6(c),f=n[i];(!re$5(Le$7(i,f),l)||!re$5(f.methods,u)||!re$5(f.events,a))&&(s=false);}),s):false}function Re$3(e){return q$4(e,false)&&e.includes(":")?e.split(":").length===2:false}function br$5(e){if(q$4(e,false)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return !!t[2]&&Re$3(n)}}return  false}function Ri$5(e){function t(n){try{return typeof new URL(n)<"u"}catch{return  false}}try{if(q$4(e,!1)){if(t(e))return !0;const n=rt$2(e);return t(n)}}catch{}return  false}function Pi$5(e){var t;return (t=e?.proposer)==null?void 0:t.publicKey}function Li$5(e){return e?.topic}function Bi$3(e,t){let n=null;return q$4(e?.publicKey,false)||(n=te$4("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function Rt$7(e){let t=true;return $e$5(e)?e.length&&(t=e.every(n=>q$4(n,false))):t=false,t}function wr$5(e,t,n){let r=null;return $e$5(t)&&t.length?t.forEach(o=>{r||Re$3(o)||(r=de$6("UNSUPPORTED_CHAINS",`${n}, chain ${o} should be a string and conform to "namespace:chainId" format`));}):Re$3(e)||(r=de$6("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Er$4(e,t,n){let r=null;return Object.entries(e).forEach(([o,s])=>{if(r)return;const i=wr$5(o,Le$7(o,s),`${t} ${n}`);i&&(r=i);}),r}function vr$5(e,t){let n=null;return $e$5(e)?e.forEach(r=>{n||br$5(r)||(n=de$6("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`));}):n=de$6("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function xr$4(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const o=vr$5(r?.accounts,`${t} namespace`);o&&(n=o);}),n}function Or$6(e,t){let n=null;return Rt$7(e?.methods)?Rt$7(e?.events)||(n=de$6("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=de$6("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function Pt$5(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const o=Or$6(r,`${t}, namespace`);o&&(n=o);}),n}function ji$4(e,t,n){let r=null;if(e&&qe$5(e)){const o=Pt$5(e,t);o&&(r=o);const s=Er$4(e,t,n);s&&(r=s);}else r=te$4("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function Ir$6(e,t){let n=null;if(e&&qe$5(e)){const r=Pt$5(e,t);r&&(n=r);const o=xr$4(e,t);o&&(n=o);}else n=te$4("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function Ar$6(e){return q$4(e.protocol,true)}function Ci$5(e,t){let n=false;return !e?n=true:e&&$e$5(e)&&e.length&&e.forEach(r=>{n=Ar$6(r);}),n}function ki$4(e){return typeof e=="number"}function Di$5(e){return typeof e<"u"&&typeof e!==null}function Mi$4(e){return !(!e||typeof e!="object"||!e.code||!Ge$8(e.code,false)||!e.message||!q$4(e.message,false))}function Vi$4(e){return !(ae$3(e)||!q$4(e.method,false))}function Hi$3(e){return !(ae$3(e)||ae$3(e.result)&&ae$3(e.error)||!Ge$8(e.id,false)||!q$4(e.jsonrpc,false))}function Ki$4(e){return !(ae$3(e)||!q$4(e.name,false))}function Fi$4(e,t){return !(!Re$3(t)||!lr$5(e).includes(t))}function qi$4(e,t,n){return q$4(n,false)?dr$5(e,t).includes(n):false}function Gi$2(e,t,n){return q$4(n,false)?hr$5(e,t).includes(n):false}function Nr$6(e,t,n){let r=null;const o=Wi$2(e),s=zi$5(t),i=Object.keys(o),c=Object.keys(s),u=Sr$6(Object.keys(e)),a=Sr$6(Object.keys(t)),l=u.filter(f=>!a.includes(f));return l.length&&(r=te$4("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(t).toString()}`)),re$5(i,c)||(r=te$4("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${i.toString()}
      Approved: ${c.toString()}`)),Object.keys(t).forEach(f=>{if(!f.includes(":")||r)return;const d=le$6(t[f].accounts);d.includes(f)||(r=te$4("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`));}),i.forEach(f=>{r||(re$5(o[f].methods,s[f].methods)?re$5(o[f].events,s[f].events)||(r=te$4("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=te$4("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`));}),r}function Wi$2(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(o=>{t[o]={methods:e[n].methods,events:e[n].events};});}),t}function Sr$6(e){return [...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function zi$5(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else {const r=le$6(e[n].accounts);r?.forEach(o=>{t[o]={accounts:e[n].accounts.filter(s=>s.includes(`${o}:`)),methods:e[n].methods,events:e[n].events};});}}),t}function Ji$2(e,t){return Ge$8(e,false)&&e<=t.max&&e>=t.min}function Yi$3(){const e=ue$6();return new Promise(t=>{switch(e){case H$6.browser:t(Ur$6());break;case H$6.reactNative:t(_r$6());break;case H$6.node:t(Tr$6());break;default:t(true);}})}function Ur$6(){return Ae$3()&&navigator?.onLine}async function _r$6(){if(ne$3()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e?.isConnected}return  true}function Tr$6(){return  true}function Xi$2(e){switch(ue$6()){case H$6.browser:$r$5(e);break;case H$6.reactNative:Rr$6(e);break;}}function $r$5(e){!ne$3()&&Ae$3()&&(window.addEventListener("online",()=>e(true)),window.addEventListener("offline",()=>e(false)));}function Rr$6(e){ne$3()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected));}const Lt$6={};let Zi$3 = class Zi{static get(t){return Lt$6[t]}static set(t,n){Lt$6[t]=n;}static delete(t){delete Lt$6[t];}};

    const PARSE_ERROR = "PARSE_ERROR";
    const INVALID_REQUEST = "INVALID_REQUEST";
    const METHOD_NOT_FOUND = "METHOD_NOT_FOUND";
    const INVALID_PARAMS = "INVALID_PARAMS";
    const INTERNAL_ERROR = "INTERNAL_ERROR";
    const SERVER_ERROR = "SERVER_ERROR";
    const RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];
    const STANDARD_ERROR_MAP = {
        [PARSE_ERROR]: { code: -32700, message: "Parse error" },
        [INVALID_REQUEST]: { code: -32600, message: "Invalid Request" },
        [METHOD_NOT_FOUND]: { code: -32601, message: "Method not found" },
        [INVALID_PARAMS]: { code: -32602, message: "Invalid params" },
        [INTERNAL_ERROR]: { code: -32603, message: "Internal error" },
        [SERVER_ERROR]: { code: -32e3, message: "Server error" },
    };
    const DEFAULT_ERROR = SERVER_ERROR;

    function isReservedErrorCode(code) {
        return RESERVED_ERROR_CODES.includes(code);
    }
    function getError(type) {
        if (!Object.keys(STANDARD_ERROR_MAP).includes(type)) {
            return STANDARD_ERROR_MAP[DEFAULT_ERROR];
        }
        return STANDARD_ERROR_MAP[type];
    }
    function getErrorByCode(code) {
        const match = Object.values(STANDARD_ERROR_MAP).find(e => e.code === code);
        if (!match) {
            return STANDARD_ERROR_MAP[DEFAULT_ERROR];
        }
        return match;
    }
    function parseConnectionError(e, url, type) {
        return e.message.includes("getaddrinfo ENOTFOUND") || e.message.includes("connect ECONNREFUSED")
            ? new Error(`Unavailable ${type} RPC url at ${url}`)
            : e;
    }

    var cjs = {};

    var crypto$2 = {};

    var hasRequiredCrypto;

    function requireCrypto () {
    	if (hasRequiredCrypto) return crypto$2;
    	hasRequiredCrypto = 1;
    	Object.defineProperty(crypto$2, "__esModule", { value: true });
    	crypto$2.isBrowserCryptoAvailable = crypto$2.getSubtleCrypto = crypto$2.getBrowerCrypto = void 0;
    	function getBrowerCrypto() {
    	    return (commonjsGlobal === null || commonjsGlobal === void 0 ? void 0 : commonjsGlobal.crypto) || (commonjsGlobal === null || commonjsGlobal === void 0 ? void 0 : commonjsGlobal.msCrypto) || {};
    	}
    	crypto$2.getBrowerCrypto = getBrowerCrypto;
    	function getSubtleCrypto() {
    	    const browserCrypto = getBrowerCrypto();
    	    return browserCrypto.subtle || browserCrypto.webkitSubtle;
    	}
    	crypto$2.getSubtleCrypto = getSubtleCrypto;
    	function isBrowserCryptoAvailable() {
    	    return !!getBrowerCrypto() && !!getSubtleCrypto();
    	}
    	crypto$2.isBrowserCryptoAvailable = isBrowserCryptoAvailable;
    	
    	return crypto$2;
    }

    var env = {};

    var hasRequiredEnv;

    function requireEnv () {
    	if (hasRequiredEnv) return env;
    	hasRequiredEnv = 1;
    	Object.defineProperty(env, "__esModule", { value: true });
    	env.isBrowser = env.isNode = env.isReactNative = void 0;
    	function isReactNative() {
    	    return (typeof document === "undefined" &&
    	        typeof navigator !== "undefined" &&
    	        navigator.product === "ReactNative");
    	}
    	env.isReactNative = isReactNative;
    	function isNode() {
    	    return (typeof process !== "undefined" &&
    	        typeof process.versions !== "undefined" &&
    	        typeof process.versions.node !== "undefined");
    	}
    	env.isNode = isNode;
    	function isBrowser() {
    	    return !isReactNative() && !isNode();
    	}
    	env.isBrowser = isBrowser;
    	
    	return env;
    }

    var hasRequiredCjs;

    function requireCjs () {
    	if (hasRequiredCjs) return cjs;
    	hasRequiredCjs = 1;
    	(function (exports) {
    		Object.defineProperty(exports, "__esModule", { value: true });
    		const tslib_1 = require$$0$2;
    		tslib_1.__exportStar(requireCrypto(), exports);
    		tslib_1.__exportStar(requireEnv(), exports);
    		
    	} (cjs));
    	return cjs;
    }

    var cjsExports = requireCjs();

    function payloadId(entropy = 3) {
        const date = Date.now() * Math.pow(10, entropy);
        const extra = Math.floor(Math.random() * Math.pow(10, entropy));
        return date + extra;
    }
    function getBigIntRpcId(entropy = 6) {
        return BigInt(payloadId(entropy));
    }
    function formatJsonRpcRequest(method, params, id) {
        return {
            id: id || payloadId(),
            jsonrpc: "2.0",
            method,
            params,
        };
    }
    function formatJsonRpcResult(id, result) {
        return {
            id,
            jsonrpc: "2.0",
            result,
        };
    }
    function formatJsonRpcError(id, error, data) {
        return {
            id,
            jsonrpc: "2.0",
            error: formatErrorMessage(error),
        };
    }
    function formatErrorMessage(error, data) {
        if (typeof error === "undefined") {
            return getError(INTERNAL_ERROR);
        }
        if (typeof error === "string") {
            error = Object.assign(Object.assign({}, getError(SERVER_ERROR)), { message: error });
        }
        if (isReservedErrorCode(error.code)) {
            error = getErrorByCode(error.code);
        }
        return error;
    }

    let e$6 = class e{};let n$7 = class n extends e$6{constructor(){super();}};let r$6 = class r extends n$7{constructor(c){super();}};

    const HTTP_REGEX = "^https?:";
    const WS_REGEX = "^wss?:";
    function getUrlProtocol(url) {
        const matches = url.match(new RegExp(/^\w+:/, "gi"));
        if (!matches || !matches.length)
            return;
        return matches[0];
    }
    function matchRegexProtocol(url, regex) {
        const protocol = getUrlProtocol(url);
        if (typeof protocol === "undefined")
            return false;
        return new RegExp(regex).test(protocol);
    }
    function isHttpUrl(url) {
        return matchRegexProtocol(url, HTTP_REGEX);
    }
    function isWsUrl(url) {
        return matchRegexProtocol(url, WS_REGEX);
    }
    function isLocalhostUrl(url) {
        return new RegExp("wss?://localhost(:d{2,5})?").test(url);
    }

    function isJsonRpcPayload(payload) {
        return (typeof payload === "object" &&
            "id" in payload &&
            "jsonrpc" in payload &&
            payload.jsonrpc === "2.0");
    }
    function isJsonRpcRequest(payload) {
        return isJsonRpcPayload(payload) && "method" in payload;
    }
    function isJsonRpcResponse(payload) {
        return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));
    }
    function isJsonRpcResult(payload) {
        return "result" in payload;
    }
    function isJsonRpcError(payload) {
        return "error" in payload;
    }

    let o$9 = class o extends r$6{constructor(t){super(t),this.events=new require$$0$3.EventEmitter,this.hasRegisteredEventListeners=false,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners();}async connect(t=this.connection){await this.open(t);}async disconnect(){await this.close();}on(t,e){this.events.on(t,e);}once(t,e){this.events.once(t,e);}off(t,e){this.events.off(t,e);}removeListener(t,e){this.events.removeListener(t,e);}async request(t,e){return this.requestStrict(formatJsonRpcRequest(t.method,t.params||[],t.id||getBigIntRpcId().toString()),e)}async requestStrict(t,e){return new Promise(async(i,s)=>{if(!this.connection.connected)try{await this.open();}catch(n){s(n);}this.events.on(`${t.id}`,n=>{isJsonRpcError(n)?s(n.error):i(n.result);});try{await this.connection.send(t,e);}catch(n){s(n);}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),isJsonRpcResponse(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params});}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect");}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"));}async close(){await this.connection.close();}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=true);}};

    const v$7=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),w$4=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",d$6=r=>r.split("?")[0],h$9=10,b$5=v$7();let f$9 = class f{constructor(e){if(this.url=e,this.events=new require$$0$3.EventEmitter,this.registering=false,!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e;}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t);}once(e,t){this.events.once(e,t);}off(e,t){this.events.off(e,t);}removeListener(e,t){this.events.removeListener(e,t);}async open(e=this.url){await this.register(e);}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e();},this.socket.close();})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(e));}catch(t){this.onError(e.id,t);}}register(e=this.url){if(!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return (this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,s)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),s(o);}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket);});})}return this.url=e,this.registering=true,new Promise((t,n)=>{const s=cjsExports.isReactNative()?void 0:{rejectUnauthorized:!isLocalhostUrl(e)},o=new b$5(e,[],s);w$4()?o.onerror=i=>{const a=i;n(this.emitError(a.error));}:o.on("error",i=>{n(this.emitError(i));}),o.onopen=()=>{this.onOpen(o),t(o);};})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=false,this.events.emit("open");}onClose(e){this.socket=void 0,this.registering=false,this.events.emit("close",e);}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?safeJsonParse(e.data):e.data;this.events.emit("payload",t);}onError(e,t){const n=this.parseError(t),s=n.message||n.toString(),o=formatJsonRpcError(e,s);this.events.emit("payload",o);}parseError(e,t=this.url){return parseConnectionError(e,d$6(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h$9&&this.events.setMaxListeners(h$9);}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${d$6(this.url)}`));return this.events.emit("register_error",t),t}};

    var lodash_isequal = {exports: {}};

    /**
     * Lodash (Custom Build) <https://lodash.com/>
     * Build: `lodash modularize exports="npm" -o ./`
     * Copyright JS Foundation and other contributors <https://js.foundation/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */
    lodash_isequal.exports;

    var hasRequiredLodash_isequal;

    function requireLodash_isequal () {
    	if (hasRequiredLodash_isequal) return lodash_isequal.exports;
    	hasRequiredLodash_isequal = 1;
    	(function (module, exports) {
    		/** Used as the size to enable large array optimizations. */
    		var LARGE_ARRAY_SIZE = 200;

    		/** Used to stand-in for `undefined` hash values. */
    		var HASH_UNDEFINED = '__lodash_hash_undefined__';

    		/** Used to compose bitmasks for value comparisons. */
    		var COMPARE_PARTIAL_FLAG = 1,
    		    COMPARE_UNORDERED_FLAG = 2;

    		/** Used as references for various `Number` constants. */
    		var MAX_SAFE_INTEGER = 9007199254740991;

    		/** `Object#toString` result references. */
    		var argsTag = '[object Arguments]',
    		    arrayTag = '[object Array]',
    		    asyncTag = '[object AsyncFunction]',
    		    boolTag = '[object Boolean]',
    		    dateTag = '[object Date]',
    		    errorTag = '[object Error]',
    		    funcTag = '[object Function]',
    		    genTag = '[object GeneratorFunction]',
    		    mapTag = '[object Map]',
    		    numberTag = '[object Number]',
    		    nullTag = '[object Null]',
    		    objectTag = '[object Object]',
    		    promiseTag = '[object Promise]',
    		    proxyTag = '[object Proxy]',
    		    regexpTag = '[object RegExp]',
    		    setTag = '[object Set]',
    		    stringTag = '[object String]',
    		    symbolTag = '[object Symbol]',
    		    undefinedTag = '[object Undefined]',
    		    weakMapTag = '[object WeakMap]';

    		var arrayBufferTag = '[object ArrayBuffer]',
    		    dataViewTag = '[object DataView]',
    		    float32Tag = '[object Float32Array]',
    		    float64Tag = '[object Float64Array]',
    		    int8Tag = '[object Int8Array]',
    		    int16Tag = '[object Int16Array]',
    		    int32Tag = '[object Int32Array]',
    		    uint8Tag = '[object Uint8Array]',
    		    uint8ClampedTag = '[object Uint8ClampedArray]',
    		    uint16Tag = '[object Uint16Array]',
    		    uint32Tag = '[object Uint32Array]';

    		/**
    		 * Used to match `RegExp`
    		 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
    		 */
    		var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

    		/** Used to detect host constructors (Safari). */
    		var reIsHostCtor = /^\[object .+?Constructor\]$/;

    		/** Used to detect unsigned integer values. */
    		var reIsUint = /^(?:0|[1-9]\d*)$/;

    		/** Used to identify `toStringTag` values of typed arrays. */
    		var typedArrayTags = {};
    		typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
    		typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
    		typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
    		typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
    		typedArrayTags[uint32Tag] = true;
    		typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
    		typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
    		typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
    		typedArrayTags[errorTag] = typedArrayTags[funcTag] =
    		typedArrayTags[mapTag] = typedArrayTags[numberTag] =
    		typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
    		typedArrayTags[setTag] = typedArrayTags[stringTag] =
    		typedArrayTags[weakMapTag] = false;

    		/** Detect free variable `global` from Node.js. */
    		var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;

    		/** Detect free variable `self`. */
    		var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

    		/** Used as a reference to the global object. */
    		var root = freeGlobal || freeSelf || Function('return this')();

    		/** Detect free variable `exports`. */
    		var freeExports = exports && !exports.nodeType && exports;

    		/** Detect free variable `module`. */
    		var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;

    		/** Detect the popular CommonJS extension `module.exports`. */
    		var moduleExports = freeModule && freeModule.exports === freeExports;

    		/** Detect free variable `process` from Node.js. */
    		var freeProcess = moduleExports && freeGlobal.process;

    		/** Used to access faster Node.js helpers. */
    		var nodeUtil = (function() {
    		  try {
    		    return freeProcess && freeProcess.binding && freeProcess.binding('util');
    		  } catch (e) {}
    		}());

    		/* Node.js helper references. */
    		var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

    		/**
    		 * A specialized version of `_.filter` for arrays without support for
    		 * iteratee shorthands.
    		 *
    		 * @private
    		 * @param {Array} [array] The array to iterate over.
    		 * @param {Function} predicate The function invoked per iteration.
    		 * @returns {Array} Returns the new filtered array.
    		 */
    		function arrayFilter(array, predicate) {
    		  var index = -1,
    		      length = array == null ? 0 : array.length,
    		      resIndex = 0,
    		      result = [];

    		  while (++index < length) {
    		    var value = array[index];
    		    if (predicate(value, index, array)) {
    		      result[resIndex++] = value;
    		    }
    		  }
    		  return result;
    		}

    		/**
    		 * Appends the elements of `values` to `array`.
    		 *
    		 * @private
    		 * @param {Array} array The array to modify.
    		 * @param {Array} values The values to append.
    		 * @returns {Array} Returns `array`.
    		 */
    		function arrayPush(array, values) {
    		  var index = -1,
    		      length = values.length,
    		      offset = array.length;

    		  while (++index < length) {
    		    array[offset + index] = values[index];
    		  }
    		  return array;
    		}

    		/**
    		 * A specialized version of `_.some` for arrays without support for iteratee
    		 * shorthands.
    		 *
    		 * @private
    		 * @param {Array} [array] The array to iterate over.
    		 * @param {Function} predicate The function invoked per iteration.
    		 * @returns {boolean} Returns `true` if any element passes the predicate check,
    		 *  else `false`.
    		 */
    		function arraySome(array, predicate) {
    		  var index = -1,
    		      length = array == null ? 0 : array.length;

    		  while (++index < length) {
    		    if (predicate(array[index], index, array)) {
    		      return true;
    		    }
    		  }
    		  return false;
    		}

    		/**
    		 * The base implementation of `_.times` without support for iteratee shorthands
    		 * or max array length checks.
    		 *
    		 * @private
    		 * @param {number} n The number of times to invoke `iteratee`.
    		 * @param {Function} iteratee The function invoked per iteration.
    		 * @returns {Array} Returns the array of results.
    		 */
    		function baseTimes(n, iteratee) {
    		  var index = -1,
    		      result = Array(n);

    		  while (++index < n) {
    		    result[index] = iteratee(index);
    		  }
    		  return result;
    		}

    		/**
    		 * The base implementation of `_.unary` without support for storing metadata.
    		 *
    		 * @private
    		 * @param {Function} func The function to cap arguments for.
    		 * @returns {Function} Returns the new capped function.
    		 */
    		function baseUnary(func) {
    		  return function(value) {
    		    return func(value);
    		  };
    		}

    		/**
    		 * Checks if a `cache` value for `key` exists.
    		 *
    		 * @private
    		 * @param {Object} cache The cache to query.
    		 * @param {string} key The key of the entry to check.
    		 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
    		 */
    		function cacheHas(cache, key) {
    		  return cache.has(key);
    		}

    		/**
    		 * Gets the value at `key` of `object`.
    		 *
    		 * @private
    		 * @param {Object} [object] The object to query.
    		 * @param {string} key The key of the property to get.
    		 * @returns {*} Returns the property value.
    		 */
    		function getValue(object, key) {
    		  return object == null ? undefined : object[key];
    		}

    		/**
    		 * Converts `map` to its key-value pairs.
    		 *
    		 * @private
    		 * @param {Object} map The map to convert.
    		 * @returns {Array} Returns the key-value pairs.
    		 */
    		function mapToArray(map) {
    		  var index = -1,
    		      result = Array(map.size);

    		  map.forEach(function(value, key) {
    		    result[++index] = [key, value];
    		  });
    		  return result;
    		}

    		/**
    		 * Creates a unary function that invokes `func` with its argument transformed.
    		 *
    		 * @private
    		 * @param {Function} func The function to wrap.
    		 * @param {Function} transform The argument transform.
    		 * @returns {Function} Returns the new function.
    		 */
    		function overArg(func, transform) {
    		  return function(arg) {
    		    return func(transform(arg));
    		  };
    		}

    		/**
    		 * Converts `set` to an array of its values.
    		 *
    		 * @private
    		 * @param {Object} set The set to convert.
    		 * @returns {Array} Returns the values.
    		 */
    		function setToArray(set) {
    		  var index = -1,
    		      result = Array(set.size);

    		  set.forEach(function(value) {
    		    result[++index] = value;
    		  });
    		  return result;
    		}

    		/** Used for built-in method references. */
    		var arrayProto = Array.prototype,
    		    funcProto = Function.prototype,
    		    objectProto = Object.prototype;

    		/** Used to detect overreaching core-js shims. */
    		var coreJsData = root['__core-js_shared__'];

    		/** Used to resolve the decompiled source of functions. */
    		var funcToString = funcProto.toString;

    		/** Used to check objects for own properties. */
    		var hasOwnProperty = objectProto.hasOwnProperty;

    		/** Used to detect methods masquerading as native. */
    		var maskSrcKey = (function() {
    		  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
    		  return uid ? ('Symbol(src)_1.' + uid) : '';
    		}());

    		/**
    		 * Used to resolve the
    		 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
    		 * of values.
    		 */
    		var nativeObjectToString = objectProto.toString;

    		/** Used to detect if a method is native. */
    		var reIsNative = RegExp('^' +
    		  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
    		  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
    		);

    		/** Built-in value references. */
    		var Buffer = moduleExports ? root.Buffer : undefined,
    		    Symbol = root.Symbol,
    		    Uint8Array = root.Uint8Array,
    		    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    		    splice = arrayProto.splice,
    		    symToStringTag = Symbol ? Symbol.toStringTag : undefined;

    		/* Built-in method references for those with the same name as other `lodash` methods. */
    		var nativeGetSymbols = Object.getOwnPropertySymbols,
    		    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    		    nativeKeys = overArg(Object.keys, Object);

    		/* Built-in method references that are verified to be native. */
    		var DataView = getNative(root, 'DataView'),
    		    Map = getNative(root, 'Map'),
    		    Promise = getNative(root, 'Promise'),
    		    Set = getNative(root, 'Set'),
    		    WeakMap = getNative(root, 'WeakMap'),
    		    nativeCreate = getNative(Object, 'create');

    		/** Used to detect maps, sets, and weakmaps. */
    		var dataViewCtorString = toSource(DataView),
    		    mapCtorString = toSource(Map),
    		    promiseCtorString = toSource(Promise),
    		    setCtorString = toSource(Set),
    		    weakMapCtorString = toSource(WeakMap);

    		/** Used to convert symbols to primitives and strings. */
    		var symbolProto = Symbol ? Symbol.prototype : undefined,
    		    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;

    		/**
    		 * Creates a hash object.
    		 *
    		 * @private
    		 * @constructor
    		 * @param {Array} [entries] The key-value pairs to cache.
    		 */
    		function Hash(entries) {
    		  var index = -1,
    		      length = entries == null ? 0 : entries.length;

    		  this.clear();
    		  while (++index < length) {
    		    var entry = entries[index];
    		    this.set(entry[0], entry[1]);
    		  }
    		}

    		/**
    		 * Removes all key-value entries from the hash.
    		 *
    		 * @private
    		 * @name clear
    		 * @memberOf Hash
    		 */
    		function hashClear() {
    		  this.__data__ = nativeCreate ? nativeCreate(null) : {};
    		  this.size = 0;
    		}

    		/**
    		 * Removes `key` and its value from the hash.
    		 *
    		 * @private
    		 * @name delete
    		 * @memberOf Hash
    		 * @param {Object} hash The hash to modify.
    		 * @param {string} key The key of the value to remove.
    		 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
    		 */
    		function hashDelete(key) {
    		  var result = this.has(key) && delete this.__data__[key];
    		  this.size -= result ? 1 : 0;
    		  return result;
    		}

    		/**
    		 * Gets the hash value for `key`.
    		 *
    		 * @private
    		 * @name get
    		 * @memberOf Hash
    		 * @param {string} key The key of the value to get.
    		 * @returns {*} Returns the entry value.
    		 */
    		function hashGet(key) {
    		  var data = this.__data__;
    		  if (nativeCreate) {
    		    var result = data[key];
    		    return result === HASH_UNDEFINED ? undefined : result;
    		  }
    		  return hasOwnProperty.call(data, key) ? data[key] : undefined;
    		}

    		/**
    		 * Checks if a hash value for `key` exists.
    		 *
    		 * @private
    		 * @name has
    		 * @memberOf Hash
    		 * @param {string} key The key of the entry to check.
    		 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
    		 */
    		function hashHas(key) {
    		  var data = this.__data__;
    		  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);
    		}

    		/**
    		 * Sets the hash `key` to `value`.
    		 *
    		 * @private
    		 * @name set
    		 * @memberOf Hash
    		 * @param {string} key The key of the value to set.
    		 * @param {*} value The value to set.
    		 * @returns {Object} Returns the hash instance.
    		 */
    		function hashSet(key, value) {
    		  var data = this.__data__;
    		  this.size += this.has(key) ? 0 : 1;
    		  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
    		  return this;
    		}

    		// Add methods to `Hash`.
    		Hash.prototype.clear = hashClear;
    		Hash.prototype['delete'] = hashDelete;
    		Hash.prototype.get = hashGet;
    		Hash.prototype.has = hashHas;
    		Hash.prototype.set = hashSet;

    		/**
    		 * Creates an list cache object.
    		 *
    		 * @private
    		 * @constructor
    		 * @param {Array} [entries] The key-value pairs to cache.
    		 */
    		function ListCache(entries) {
    		  var index = -1,
    		      length = entries == null ? 0 : entries.length;

    		  this.clear();
    		  while (++index < length) {
    		    var entry = entries[index];
    		    this.set(entry[0], entry[1]);
    		  }
    		}

    		/**
    		 * Removes all key-value entries from the list cache.
    		 *
    		 * @private
    		 * @name clear
    		 * @memberOf ListCache
    		 */
    		function listCacheClear() {
    		  this.__data__ = [];
    		  this.size = 0;
    		}

    		/**
    		 * Removes `key` and its value from the list cache.
    		 *
    		 * @private
    		 * @name delete
    		 * @memberOf ListCache
    		 * @param {string} key The key of the value to remove.
    		 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
    		 */
    		function listCacheDelete(key) {
    		  var data = this.__data__,
    		      index = assocIndexOf(data, key);

    		  if (index < 0) {
    		    return false;
    		  }
    		  var lastIndex = data.length - 1;
    		  if (index == lastIndex) {
    		    data.pop();
    		  } else {
    		    splice.call(data, index, 1);
    		  }
    		  --this.size;
    		  return true;
    		}

    		/**
    		 * Gets the list cache value for `key`.
    		 *
    		 * @private
    		 * @name get
    		 * @memberOf ListCache
    		 * @param {string} key The key of the value to get.
    		 * @returns {*} Returns the entry value.
    		 */
    		function listCacheGet(key) {
    		  var data = this.__data__,
    		      index = assocIndexOf(data, key);

    		  return index < 0 ? undefined : data[index][1];
    		}

    		/**
    		 * Checks if a list cache value for `key` exists.
    		 *
    		 * @private
    		 * @name has
    		 * @memberOf ListCache
    		 * @param {string} key The key of the entry to check.
    		 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
    		 */
    		function listCacheHas(key) {
    		  return assocIndexOf(this.__data__, key) > -1;
    		}

    		/**
    		 * Sets the list cache `key` to `value`.
    		 *
    		 * @private
    		 * @name set
    		 * @memberOf ListCache
    		 * @param {string} key The key of the value to set.
    		 * @param {*} value The value to set.
    		 * @returns {Object} Returns the list cache instance.
    		 */
    		function listCacheSet(key, value) {
    		  var data = this.__data__,
    		      index = assocIndexOf(data, key);

    		  if (index < 0) {
    		    ++this.size;
    		    data.push([key, value]);
    		  } else {
    		    data[index][1] = value;
    		  }
    		  return this;
    		}

    		// Add methods to `ListCache`.
    		ListCache.prototype.clear = listCacheClear;
    		ListCache.prototype['delete'] = listCacheDelete;
    		ListCache.prototype.get = listCacheGet;
    		ListCache.prototype.has = listCacheHas;
    		ListCache.prototype.set = listCacheSet;

    		/**
    		 * Creates a map cache object to store key-value pairs.
    		 *
    		 * @private
    		 * @constructor
    		 * @param {Array} [entries] The key-value pairs to cache.
    		 */
    		function MapCache(entries) {
    		  var index = -1,
    		      length = entries == null ? 0 : entries.length;

    		  this.clear();
    		  while (++index < length) {
    		    var entry = entries[index];
    		    this.set(entry[0], entry[1]);
    		  }
    		}

    		/**
    		 * Removes all key-value entries from the map.
    		 *
    		 * @private
    		 * @name clear
    		 * @memberOf MapCache
    		 */
    		function mapCacheClear() {
    		  this.size = 0;
    		  this.__data__ = {
    		    'hash': new Hash,
    		    'map': new (Map || ListCache),
    		    'string': new Hash
    		  };
    		}

    		/**
    		 * Removes `key` and its value from the map.
    		 *
    		 * @private
    		 * @name delete
    		 * @memberOf MapCache
    		 * @param {string} key The key of the value to remove.
    		 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
    		 */
    		function mapCacheDelete(key) {
    		  var result = getMapData(this, key)['delete'](key);
    		  this.size -= result ? 1 : 0;
    		  return result;
    		}

    		/**
    		 * Gets the map value for `key`.
    		 *
    		 * @private
    		 * @name get
    		 * @memberOf MapCache
    		 * @param {string} key The key of the value to get.
    		 * @returns {*} Returns the entry value.
    		 */
    		function mapCacheGet(key) {
    		  return getMapData(this, key).get(key);
    		}

    		/**
    		 * Checks if a map value for `key` exists.
    		 *
    		 * @private
    		 * @name has
    		 * @memberOf MapCache
    		 * @param {string} key The key of the entry to check.
    		 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
    		 */
    		function mapCacheHas(key) {
    		  return getMapData(this, key).has(key);
    		}

    		/**
    		 * Sets the map `key` to `value`.
    		 *
    		 * @private
    		 * @name set
    		 * @memberOf MapCache
    		 * @param {string} key The key of the value to set.
    		 * @param {*} value The value to set.
    		 * @returns {Object} Returns the map cache instance.
    		 */
    		function mapCacheSet(key, value) {
    		  var data = getMapData(this, key),
    		      size = data.size;

    		  data.set(key, value);
    		  this.size += data.size == size ? 0 : 1;
    		  return this;
    		}

    		// Add methods to `MapCache`.
    		MapCache.prototype.clear = mapCacheClear;
    		MapCache.prototype['delete'] = mapCacheDelete;
    		MapCache.prototype.get = mapCacheGet;
    		MapCache.prototype.has = mapCacheHas;
    		MapCache.prototype.set = mapCacheSet;

    		/**
    		 *
    		 * Creates an array cache object to store unique values.
    		 *
    		 * @private
    		 * @constructor
    		 * @param {Array} [values] The values to cache.
    		 */
    		function SetCache(values) {
    		  var index = -1,
    		      length = values == null ? 0 : values.length;

    		  this.__data__ = new MapCache;
    		  while (++index < length) {
    		    this.add(values[index]);
    		  }
    		}

    		/**
    		 * Adds `value` to the array cache.
    		 *
    		 * @private
    		 * @name add
    		 * @memberOf SetCache
    		 * @alias push
    		 * @param {*} value The value to cache.
    		 * @returns {Object} Returns the cache instance.
    		 */
    		function setCacheAdd(value) {
    		  this.__data__.set(value, HASH_UNDEFINED);
    		  return this;
    		}

    		/**
    		 * Checks if `value` is in the array cache.
    		 *
    		 * @private
    		 * @name has
    		 * @memberOf SetCache
    		 * @param {*} value The value to search for.
    		 * @returns {number} Returns `true` if `value` is found, else `false`.
    		 */
    		function setCacheHas(value) {
    		  return this.__data__.has(value);
    		}

    		// Add methods to `SetCache`.
    		SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
    		SetCache.prototype.has = setCacheHas;

    		/**
    		 * Creates a stack cache object to store key-value pairs.
    		 *
    		 * @private
    		 * @constructor
    		 * @param {Array} [entries] The key-value pairs to cache.
    		 */
    		function Stack(entries) {
    		  var data = this.__data__ = new ListCache(entries);
    		  this.size = data.size;
    		}

    		/**
    		 * Removes all key-value entries from the stack.
    		 *
    		 * @private
    		 * @name clear
    		 * @memberOf Stack
    		 */
    		function stackClear() {
    		  this.__data__ = new ListCache;
    		  this.size = 0;
    		}

    		/**
    		 * Removes `key` and its value from the stack.
    		 *
    		 * @private
    		 * @name delete
    		 * @memberOf Stack
    		 * @param {string} key The key of the value to remove.
    		 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
    		 */
    		function stackDelete(key) {
    		  var data = this.__data__,
    		      result = data['delete'](key);

    		  this.size = data.size;
    		  return result;
    		}

    		/**
    		 * Gets the stack value for `key`.
    		 *
    		 * @private
    		 * @name get
    		 * @memberOf Stack
    		 * @param {string} key The key of the value to get.
    		 * @returns {*} Returns the entry value.
    		 */
    		function stackGet(key) {
    		  return this.__data__.get(key);
    		}

    		/**
    		 * Checks if a stack value for `key` exists.
    		 *
    		 * @private
    		 * @name has
    		 * @memberOf Stack
    		 * @param {string} key The key of the entry to check.
    		 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
    		 */
    		function stackHas(key) {
    		  return this.__data__.has(key);
    		}

    		/**
    		 * Sets the stack `key` to `value`.
    		 *
    		 * @private
    		 * @name set
    		 * @memberOf Stack
    		 * @param {string} key The key of the value to set.
    		 * @param {*} value The value to set.
    		 * @returns {Object} Returns the stack cache instance.
    		 */
    		function stackSet(key, value) {
    		  var data = this.__data__;
    		  if (data instanceof ListCache) {
    		    var pairs = data.__data__;
    		    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
    		      pairs.push([key, value]);
    		      this.size = ++data.size;
    		      return this;
    		    }
    		    data = this.__data__ = new MapCache(pairs);
    		  }
    		  data.set(key, value);
    		  this.size = data.size;
    		  return this;
    		}

    		// Add methods to `Stack`.
    		Stack.prototype.clear = stackClear;
    		Stack.prototype['delete'] = stackDelete;
    		Stack.prototype.get = stackGet;
    		Stack.prototype.has = stackHas;
    		Stack.prototype.set = stackSet;

    		/**
    		 * Creates an array of the enumerable property names of the array-like `value`.
    		 *
    		 * @private
    		 * @param {*} value The value to query.
    		 * @param {boolean} inherited Specify returning inherited property names.
    		 * @returns {Array} Returns the array of property names.
    		 */
    		function arrayLikeKeys(value, inherited) {
    		  var isArr = isArray(value),
    		      isArg = !isArr && isArguments(value),
    		      isBuff = !isArr && !isArg && isBuffer(value),
    		      isType = !isArr && !isArg && !isBuff && isTypedArray(value),
    		      skipIndexes = isArr || isArg || isBuff || isType,
    		      result = skipIndexes ? baseTimes(value.length, String) : [],
    		      length = result.length;

    		  for (var key in value) {
    		    if ((hasOwnProperty.call(value, key)) &&
    		        !(skipIndexes && (
    		           // Safari 9 has enumerable `arguments.length` in strict mode.
    		           key == 'length' ||
    		           // Node.js 0.10 has enumerable non-index properties on buffers.
    		           (isBuff && (key == 'offset' || key == 'parent')) ||
    		           // PhantomJS 2 has enumerable non-index properties on typed arrays.
    		           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
    		           // Skip index properties.
    		           isIndex(key, length)
    		        ))) {
    		      result.push(key);
    		    }
    		  }
    		  return result;
    		}

    		/**
    		 * Gets the index at which the `key` is found in `array` of key-value pairs.
    		 *
    		 * @private
    		 * @param {Array} array The array to inspect.
    		 * @param {*} key The key to search for.
    		 * @returns {number} Returns the index of the matched value, else `-1`.
    		 */
    		function assocIndexOf(array, key) {
    		  var length = array.length;
    		  while (length--) {
    		    if (eq(array[length][0], key)) {
    		      return length;
    		    }
    		  }
    		  return -1;
    		}

    		/**
    		 * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
    		 * `keysFunc` and `symbolsFunc` to get the enumerable property names and
    		 * symbols of `object`.
    		 *
    		 * @private
    		 * @param {Object} object The object to query.
    		 * @param {Function} keysFunc The function to get the keys of `object`.
    		 * @param {Function} symbolsFunc The function to get the symbols of `object`.
    		 * @returns {Array} Returns the array of property names and symbols.
    		 */
    		function baseGetAllKeys(object, keysFunc, symbolsFunc) {
    		  var result = keysFunc(object);
    		  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
    		}

    		/**
    		 * The base implementation of `getTag` without fallbacks for buggy environments.
    		 *
    		 * @private
    		 * @param {*} value The value to query.
    		 * @returns {string} Returns the `toStringTag`.
    		 */
    		function baseGetTag(value) {
    		  if (value == null) {
    		    return value === undefined ? undefinedTag : nullTag;
    		  }
    		  return (symToStringTag && symToStringTag in Object(value))
    		    ? getRawTag(value)
    		    : objectToString(value);
    		}

    		/**
    		 * The base implementation of `_.isArguments`.
    		 *
    		 * @private
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
    		 */
    		function baseIsArguments(value) {
    		  return isObjectLike(value) && baseGetTag(value) == argsTag;
    		}

    		/**
    		 * The base implementation of `_.isEqual` which supports partial comparisons
    		 * and tracks traversed objects.
    		 *
    		 * @private
    		 * @param {*} value The value to compare.
    		 * @param {*} other The other value to compare.
    		 * @param {boolean} bitmask The bitmask flags.
    		 *  1 - Unordered comparison
    		 *  2 - Partial comparison
    		 * @param {Function} [customizer] The function to customize comparisons.
    		 * @param {Object} [stack] Tracks traversed `value` and `other` objects.
    		 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
    		 */
    		function baseIsEqual(value, other, bitmask, customizer, stack) {
    		  if (value === other) {
    		    return true;
    		  }
    		  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {
    		    return value !== value && other !== other;
    		  }
    		  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
    		}

    		/**
    		 * A specialized version of `baseIsEqual` for arrays and objects which performs
    		 * deep comparisons and tracks traversed objects enabling objects with circular
    		 * references to be compared.
    		 *
    		 * @private
    		 * @param {Object} object The object to compare.
    		 * @param {Object} other The other object to compare.
    		 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
    		 * @param {Function} customizer The function to customize comparisons.
    		 * @param {Function} equalFunc The function to determine equivalents of values.
    		 * @param {Object} [stack] Tracks traversed `object` and `other` objects.
    		 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
    		 */
    		function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
    		  var objIsArr = isArray(object),
    		      othIsArr = isArray(other),
    		      objTag = objIsArr ? arrayTag : getTag(object),
    		      othTag = othIsArr ? arrayTag : getTag(other);

    		  objTag = objTag == argsTag ? objectTag : objTag;
    		  othTag = othTag == argsTag ? objectTag : othTag;

    		  var objIsObj = objTag == objectTag,
    		      othIsObj = othTag == objectTag,
    		      isSameTag = objTag == othTag;

    		  if (isSameTag && isBuffer(object)) {
    		    if (!isBuffer(other)) {
    		      return false;
    		    }
    		    objIsArr = true;
    		    objIsObj = false;
    		  }
    		  if (isSameTag && !objIsObj) {
    		    stack || (stack = new Stack);
    		    return (objIsArr || isTypedArray(object))
    		      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)
    		      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
    		  }
    		  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
    		    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),
    		        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');

    		    if (objIsWrapped || othIsWrapped) {
    		      var objUnwrapped = objIsWrapped ? object.value() : object,
    		          othUnwrapped = othIsWrapped ? other.value() : other;

    		      stack || (stack = new Stack);
    		      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
    		    }
    		  }
    		  if (!isSameTag) {
    		    return false;
    		  }
    		  stack || (stack = new Stack);
    		  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
    		}

    		/**
    		 * The base implementation of `_.isNative` without bad shim checks.
    		 *
    		 * @private
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is a native function,
    		 *  else `false`.
    		 */
    		function baseIsNative(value) {
    		  if (!isObject(value) || isMasked(value)) {
    		    return false;
    		  }
    		  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
    		  return pattern.test(toSource(value));
    		}

    		/**
    		 * The base implementation of `_.isTypedArray` without Node.js optimizations.
    		 *
    		 * @private
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
    		 */
    		function baseIsTypedArray(value) {
    		  return isObjectLike(value) &&
    		    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
    		}

    		/**
    		 * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
    		 *
    		 * @private
    		 * @param {Object} object The object to query.
    		 * @returns {Array} Returns the array of property names.
    		 */
    		function baseKeys(object) {
    		  if (!isPrototype(object)) {
    		    return nativeKeys(object);
    		  }
    		  var result = [];
    		  for (var key in Object(object)) {
    		    if (hasOwnProperty.call(object, key) && key != 'constructor') {
    		      result.push(key);
    		    }
    		  }
    		  return result;
    		}

    		/**
    		 * A specialized version of `baseIsEqualDeep` for arrays with support for
    		 * partial deep comparisons.
    		 *
    		 * @private
    		 * @param {Array} array The array to compare.
    		 * @param {Array} other The other array to compare.
    		 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
    		 * @param {Function} customizer The function to customize comparisons.
    		 * @param {Function} equalFunc The function to determine equivalents of values.
    		 * @param {Object} stack Tracks traversed `array` and `other` objects.
    		 * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
    		 */
    		function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
    		  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
    		      arrLength = array.length,
    		      othLength = other.length;

    		  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
    		    return false;
    		  }
    		  // Assume cyclic values are equal.
    		  var stacked = stack.get(array);
    		  if (stacked && stack.get(other)) {
    		    return stacked == other;
    		  }
    		  var index = -1,
    		      result = true,
    		      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;

    		  stack.set(array, other);
    		  stack.set(other, array);

    		  // Ignore non-index properties.
    		  while (++index < arrLength) {
    		    var arrValue = array[index],
    		        othValue = other[index];

    		    if (customizer) {
    		      var compared = isPartial
    		        ? customizer(othValue, arrValue, index, other, array, stack)
    		        : customizer(arrValue, othValue, index, array, other, stack);
    		    }
    		    if (compared !== undefined) {
    		      if (compared) {
    		        continue;
    		      }
    		      result = false;
    		      break;
    		    }
    		    // Recursively compare arrays (susceptible to call stack limits).
    		    if (seen) {
    		      if (!arraySome(other, function(othValue, othIndex) {
    		            if (!cacheHas(seen, othIndex) &&
    		                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
    		              return seen.push(othIndex);
    		            }
    		          })) {
    		        result = false;
    		        break;
    		      }
    		    } else if (!(
    		          arrValue === othValue ||
    		            equalFunc(arrValue, othValue, bitmask, customizer, stack)
    		        )) {
    		      result = false;
    		      break;
    		    }
    		  }
    		  stack['delete'](array);
    		  stack['delete'](other);
    		  return result;
    		}

    		/**
    		 * A specialized version of `baseIsEqualDeep` for comparing objects of
    		 * the same `toStringTag`.
    		 *
    		 * **Note:** This function only supports comparing values with tags of
    		 * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
    		 *
    		 * @private
    		 * @param {Object} object The object to compare.
    		 * @param {Object} other The other object to compare.
    		 * @param {string} tag The `toStringTag` of the objects to compare.
    		 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
    		 * @param {Function} customizer The function to customize comparisons.
    		 * @param {Function} equalFunc The function to determine equivalents of values.
    		 * @param {Object} stack Tracks traversed `object` and `other` objects.
    		 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
    		 */
    		function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
    		  switch (tag) {
    		    case dataViewTag:
    		      if ((object.byteLength != other.byteLength) ||
    		          (object.byteOffset != other.byteOffset)) {
    		        return false;
    		      }
    		      object = object.buffer;
    		      other = other.buffer;

    		    case arrayBufferTag:
    		      if ((object.byteLength != other.byteLength) ||
    		          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {
    		        return false;
    		      }
    		      return true;

    		    case boolTag:
    		    case dateTag:
    		    case numberTag:
    		      // Coerce booleans to `1` or `0` and dates to milliseconds.
    		      // Invalid dates are coerced to `NaN`.
    		      return eq(+object, +other);

    		    case errorTag:
    		      return object.name == other.name && object.message == other.message;

    		    case regexpTag:
    		    case stringTag:
    		      // Coerce regexes to strings and treat strings, primitives and objects,
    		      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
    		      // for more details.
    		      return object == (other + '');

    		    case mapTag:
    		      var convert = mapToArray;

    		    case setTag:
    		      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
    		      convert || (convert = setToArray);

    		      if (object.size != other.size && !isPartial) {
    		        return false;
    		      }
    		      // Assume cyclic values are equal.
    		      var stacked = stack.get(object);
    		      if (stacked) {
    		        return stacked == other;
    		      }
    		      bitmask |= COMPARE_UNORDERED_FLAG;

    		      // Recursively compare objects (susceptible to call stack limits).
    		      stack.set(object, other);
    		      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
    		      stack['delete'](object);
    		      return result;

    		    case symbolTag:
    		      if (symbolValueOf) {
    		        return symbolValueOf.call(object) == symbolValueOf.call(other);
    		      }
    		  }
    		  return false;
    		}

    		/**
    		 * A specialized version of `baseIsEqualDeep` for objects with support for
    		 * partial deep comparisons.
    		 *
    		 * @private
    		 * @param {Object} object The object to compare.
    		 * @param {Object} other The other object to compare.
    		 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
    		 * @param {Function} customizer The function to customize comparisons.
    		 * @param {Function} equalFunc The function to determine equivalents of values.
    		 * @param {Object} stack Tracks traversed `object` and `other` objects.
    		 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
    		 */
    		function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
    		  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
    		      objProps = getAllKeys(object),
    		      objLength = objProps.length,
    		      othProps = getAllKeys(other),
    		      othLength = othProps.length;

    		  if (objLength != othLength && !isPartial) {
    		    return false;
    		  }
    		  var index = objLength;
    		  while (index--) {
    		    var key = objProps[index];
    		    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
    		      return false;
    		    }
    		  }
    		  // Assume cyclic values are equal.
    		  var stacked = stack.get(object);
    		  if (stacked && stack.get(other)) {
    		    return stacked == other;
    		  }
    		  var result = true;
    		  stack.set(object, other);
    		  stack.set(other, object);

    		  var skipCtor = isPartial;
    		  while (++index < objLength) {
    		    key = objProps[index];
    		    var objValue = object[key],
    		        othValue = other[key];

    		    if (customizer) {
    		      var compared = isPartial
    		        ? customizer(othValue, objValue, key, other, object, stack)
    		        : customizer(objValue, othValue, key, object, other, stack);
    		    }
    		    // Recursively compare objects (susceptible to call stack limits).
    		    if (!(compared === undefined
    		          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))
    		          : compared
    		        )) {
    		      result = false;
    		      break;
    		    }
    		    skipCtor || (skipCtor = key == 'constructor');
    		  }
    		  if (result && !skipCtor) {
    		    var objCtor = object.constructor,
    		        othCtor = other.constructor;

    		    // Non `Object` object instances with different constructors are not equal.
    		    if (objCtor != othCtor &&
    		        ('constructor' in object && 'constructor' in other) &&
    		        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&
    		          typeof othCtor == 'function' && othCtor instanceof othCtor)) {
    		      result = false;
    		    }
    		  }
    		  stack['delete'](object);
    		  stack['delete'](other);
    		  return result;
    		}

    		/**
    		 * Creates an array of own enumerable property names and symbols of `object`.
    		 *
    		 * @private
    		 * @param {Object} object The object to query.
    		 * @returns {Array} Returns the array of property names and symbols.
    		 */
    		function getAllKeys(object) {
    		  return baseGetAllKeys(object, keys, getSymbols);
    		}

    		/**
    		 * Gets the data for `map`.
    		 *
    		 * @private
    		 * @param {Object} map The map to query.
    		 * @param {string} key The reference key.
    		 * @returns {*} Returns the map data.
    		 */
    		function getMapData(map, key) {
    		  var data = map.__data__;
    		  return isKeyable(key)
    		    ? data[typeof key == 'string' ? 'string' : 'hash']
    		    : data.map;
    		}

    		/**
    		 * Gets the native function at `key` of `object`.
    		 *
    		 * @private
    		 * @param {Object} object The object to query.
    		 * @param {string} key The key of the method to get.
    		 * @returns {*} Returns the function if it's native, else `undefined`.
    		 */
    		function getNative(object, key) {
    		  var value = getValue(object, key);
    		  return baseIsNative(value) ? value : undefined;
    		}

    		/**
    		 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
    		 *
    		 * @private
    		 * @param {*} value The value to query.
    		 * @returns {string} Returns the raw `toStringTag`.
    		 */
    		function getRawTag(value) {
    		  var isOwn = hasOwnProperty.call(value, symToStringTag),
    		      tag = value[symToStringTag];

    		  try {
    		    value[symToStringTag] = undefined;
    		    var unmasked = true;
    		  } catch (e) {}

    		  var result = nativeObjectToString.call(value);
    		  if (unmasked) {
    		    if (isOwn) {
    		      value[symToStringTag] = tag;
    		    } else {
    		      delete value[symToStringTag];
    		    }
    		  }
    		  return result;
    		}

    		/**
    		 * Creates an array of the own enumerable symbols of `object`.
    		 *
    		 * @private
    		 * @param {Object} object The object to query.
    		 * @returns {Array} Returns the array of symbols.
    		 */
    		var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
    		  if (object == null) {
    		    return [];
    		  }
    		  object = Object(object);
    		  return arrayFilter(nativeGetSymbols(object), function(symbol) {
    		    return propertyIsEnumerable.call(object, symbol);
    		  });
    		};

    		/**
    		 * Gets the `toStringTag` of `value`.
    		 *
    		 * @private
    		 * @param {*} value The value to query.
    		 * @returns {string} Returns the `toStringTag`.
    		 */
    		var getTag = baseGetTag;

    		// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
    		if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
    		    (Map && getTag(new Map) != mapTag) ||
    		    (Promise && getTag(Promise.resolve()) != promiseTag) ||
    		    (Set && getTag(new Set) != setTag) ||
    		    (WeakMap && getTag(new WeakMap) != weakMapTag)) {
    		  getTag = function(value) {
    		    var result = baseGetTag(value),
    		        Ctor = result == objectTag ? value.constructor : undefined,
    		        ctorString = Ctor ? toSource(Ctor) : '';

    		    if (ctorString) {
    		      switch (ctorString) {
    		        case dataViewCtorString: return dataViewTag;
    		        case mapCtorString: return mapTag;
    		        case promiseCtorString: return promiseTag;
    		        case setCtorString: return setTag;
    		        case weakMapCtorString: return weakMapTag;
    		      }
    		    }
    		    return result;
    		  };
    		}

    		/**
    		 * Checks if `value` is a valid array-like index.
    		 *
    		 * @private
    		 * @param {*} value The value to check.
    		 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
    		 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
    		 */
    		function isIndex(value, length) {
    		  length = length == null ? MAX_SAFE_INTEGER : length;
    		  return !!length &&
    		    (typeof value == 'number' || reIsUint.test(value)) &&
    		    (value > -1 && value % 1 == 0 && value < length);
    		}

    		/**
    		 * Checks if `value` is suitable for use as unique object key.
    		 *
    		 * @private
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
    		 */
    		function isKeyable(value) {
    		  var type = typeof value;
    		  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    		    ? (value !== '__proto__')
    		    : (value === null);
    		}

    		/**
    		 * Checks if `func` has its source masked.
    		 *
    		 * @private
    		 * @param {Function} func The function to check.
    		 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
    		 */
    		function isMasked(func) {
    		  return !!maskSrcKey && (maskSrcKey in func);
    		}

    		/**
    		 * Checks if `value` is likely a prototype object.
    		 *
    		 * @private
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
    		 */
    		function isPrototype(value) {
    		  var Ctor = value && value.constructor,
    		      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

    		  return value === proto;
    		}

    		/**
    		 * Converts `value` to a string using `Object.prototype.toString`.
    		 *
    		 * @private
    		 * @param {*} value The value to convert.
    		 * @returns {string} Returns the converted string.
    		 */
    		function objectToString(value) {
    		  return nativeObjectToString.call(value);
    		}

    		/**
    		 * Converts `func` to its source code.
    		 *
    		 * @private
    		 * @param {Function} func The function to convert.
    		 * @returns {string} Returns the source code.
    		 */
    		function toSource(func) {
    		  if (func != null) {
    		    try {
    		      return funcToString.call(func);
    		    } catch (e) {}
    		    try {
    		      return (func + '');
    		    } catch (e) {}
    		  }
    		  return '';
    		}

    		/**
    		 * Performs a
    		 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
    		 * comparison between two values to determine if they are equivalent.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 4.0.0
    		 * @category Lang
    		 * @param {*} value The value to compare.
    		 * @param {*} other The other value to compare.
    		 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
    		 * @example
    		 *
    		 * var object = { 'a': 1 };
    		 * var other = { 'a': 1 };
    		 *
    		 * _.eq(object, object);
    		 * // => true
    		 *
    		 * _.eq(object, other);
    		 * // => false
    		 *
    		 * _.eq('a', 'a');
    		 * // => true
    		 *
    		 * _.eq('a', Object('a'));
    		 * // => false
    		 *
    		 * _.eq(NaN, NaN);
    		 * // => true
    		 */
    		function eq(value, other) {
    		  return value === other || (value !== value && other !== other);
    		}

    		/**
    		 * Checks if `value` is likely an `arguments` object.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 0.1.0
    		 * @category Lang
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
    		 *  else `false`.
    		 * @example
    		 *
    		 * _.isArguments(function() { return arguments; }());
    		 * // => true
    		 *
    		 * _.isArguments([1, 2, 3]);
    		 * // => false
    		 */
    		var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
    		  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
    		    !propertyIsEnumerable.call(value, 'callee');
    		};

    		/**
    		 * Checks if `value` is classified as an `Array` object.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 0.1.0
    		 * @category Lang
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
    		 * @example
    		 *
    		 * _.isArray([1, 2, 3]);
    		 * // => true
    		 *
    		 * _.isArray(document.body.children);
    		 * // => false
    		 *
    		 * _.isArray('abc');
    		 * // => false
    		 *
    		 * _.isArray(_.noop);
    		 * // => false
    		 */
    		var isArray = Array.isArray;

    		/**
    		 * Checks if `value` is array-like. A value is considered array-like if it's
    		 * not a function and has a `value.length` that's an integer greater than or
    		 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 4.0.0
    		 * @category Lang
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
    		 * @example
    		 *
    		 * _.isArrayLike([1, 2, 3]);
    		 * // => true
    		 *
    		 * _.isArrayLike(document.body.children);
    		 * // => true
    		 *
    		 * _.isArrayLike('abc');
    		 * // => true
    		 *
    		 * _.isArrayLike(_.noop);
    		 * // => false
    		 */
    		function isArrayLike(value) {
    		  return value != null && isLength(value.length) && !isFunction(value);
    		}

    		/**
    		 * Checks if `value` is a buffer.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 4.3.0
    		 * @category Lang
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
    		 * @example
    		 *
    		 * _.isBuffer(new Buffer(2));
    		 * // => true
    		 *
    		 * _.isBuffer(new Uint8Array(2));
    		 * // => false
    		 */
    		var isBuffer = nativeIsBuffer || stubFalse;

    		/**
    		 * Performs a deep comparison between two values to determine if they are
    		 * equivalent.
    		 *
    		 * **Note:** This method supports comparing arrays, array buffers, booleans,
    		 * date objects, error objects, maps, numbers, `Object` objects, regexes,
    		 * sets, strings, symbols, and typed arrays. `Object` objects are compared
    		 * by their own, not inherited, enumerable properties. Functions and DOM
    		 * nodes are compared by strict equality, i.e. `===`.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 0.1.0
    		 * @category Lang
    		 * @param {*} value The value to compare.
    		 * @param {*} other The other value to compare.
    		 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
    		 * @example
    		 *
    		 * var object = { 'a': 1 };
    		 * var other = { 'a': 1 };
    		 *
    		 * _.isEqual(object, other);
    		 * // => true
    		 *
    		 * object === other;
    		 * // => false
    		 */
    		function isEqual(value, other) {
    		  return baseIsEqual(value, other);
    		}

    		/**
    		 * Checks if `value` is classified as a `Function` object.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 0.1.0
    		 * @category Lang
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
    		 * @example
    		 *
    		 * _.isFunction(_);
    		 * // => true
    		 *
    		 * _.isFunction(/abc/);
    		 * // => false
    		 */
    		function isFunction(value) {
    		  if (!isObject(value)) {
    		    return false;
    		  }
    		  // The use of `Object#toString` avoids issues with the `typeof` operator
    		  // in Safari 9 which returns 'object' for typed arrays and other constructors.
    		  var tag = baseGetTag(value);
    		  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
    		}

    		/**
    		 * Checks if `value` is a valid array-like length.
    		 *
    		 * **Note:** This method is loosely based on
    		 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 4.0.0
    		 * @category Lang
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
    		 * @example
    		 *
    		 * _.isLength(3);
    		 * // => true
    		 *
    		 * _.isLength(Number.MIN_VALUE);
    		 * // => false
    		 *
    		 * _.isLength(Infinity);
    		 * // => false
    		 *
    		 * _.isLength('3');
    		 * // => false
    		 */
    		function isLength(value) {
    		  return typeof value == 'number' &&
    		    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
    		}

    		/**
    		 * Checks if `value` is the
    		 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
    		 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 0.1.0
    		 * @category Lang
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
    		 * @example
    		 *
    		 * _.isObject({});
    		 * // => true
    		 *
    		 * _.isObject([1, 2, 3]);
    		 * // => true
    		 *
    		 * _.isObject(_.noop);
    		 * // => true
    		 *
    		 * _.isObject(null);
    		 * // => false
    		 */
    		function isObject(value) {
    		  var type = typeof value;
    		  return value != null && (type == 'object' || type == 'function');
    		}

    		/**
    		 * Checks if `value` is object-like. A value is object-like if it's not `null`
    		 * and has a `typeof` result of "object".
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 4.0.0
    		 * @category Lang
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
    		 * @example
    		 *
    		 * _.isObjectLike({});
    		 * // => true
    		 *
    		 * _.isObjectLike([1, 2, 3]);
    		 * // => true
    		 *
    		 * _.isObjectLike(_.noop);
    		 * // => false
    		 *
    		 * _.isObjectLike(null);
    		 * // => false
    		 */
    		function isObjectLike(value) {
    		  return value != null && typeof value == 'object';
    		}

    		/**
    		 * Checks if `value` is classified as a typed array.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 3.0.0
    		 * @category Lang
    		 * @param {*} value The value to check.
    		 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
    		 * @example
    		 *
    		 * _.isTypedArray(new Uint8Array);
    		 * // => true
    		 *
    		 * _.isTypedArray([]);
    		 * // => false
    		 */
    		var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

    		/**
    		 * Creates an array of the own enumerable property names of `object`.
    		 *
    		 * **Note:** Non-object values are coerced to objects. See the
    		 * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
    		 * for more details.
    		 *
    		 * @static
    		 * @since 0.1.0
    		 * @memberOf _
    		 * @category Object
    		 * @param {Object} object The object to query.
    		 * @returns {Array} Returns the array of property names.
    		 * @example
    		 *
    		 * function Foo() {
    		 *   this.a = 1;
    		 *   this.b = 2;
    		 * }
    		 *
    		 * Foo.prototype.c = 3;
    		 *
    		 * _.keys(new Foo);
    		 * // => ['a', 'b'] (iteration order is not guaranteed)
    		 *
    		 * _.keys('hi');
    		 * // => ['0', '1']
    		 */
    		function keys(object) {
    		  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
    		}

    		/**
    		 * This method returns a new empty array.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 4.13.0
    		 * @category Util
    		 * @returns {Array} Returns the new empty array.
    		 * @example
    		 *
    		 * var arrays = _.times(2, _.stubArray);
    		 *
    		 * console.log(arrays);
    		 * // => [[], []]
    		 *
    		 * console.log(arrays[0] === arrays[1]);
    		 * // => false
    		 */
    		function stubArray() {
    		  return [];
    		}

    		/**
    		 * This method returns `false`.
    		 *
    		 * @static
    		 * @memberOf _
    		 * @since 4.13.0
    		 * @category Util
    		 * @returns {boolean} Returns `false`.
    		 * @example
    		 *
    		 * _.times(2, _.stubFalse);
    		 * // => [false, false]
    		 */
    		function stubFalse() {
    		  return false;
    		}

    		module.exports = isEqual; 
    	} (lodash_isequal, lodash_isequal.exports));
    	return lodash_isequal.exports;
    }

    var lodash_isequalExports = requireLodash_isequal();
    var Ls$5 = /*@__PURE__*/getDefaultExportFromCjs(lodash_isequalExports);

    const xe$3="wc",Oe$2=2,he$5="core",B$3=`${xe$3}@2:${he$5}:`,mt$5={logger:"error"},vt$2={database:":memory:"},ft$4="crypto",Ae$2="client_ed25519_seed",_t$6=cjsExports$3.ONE_DAY,Et$5="keychain",wt$5="0.3",It$3="messages",Tt$5="0.3",Ne$2=cjsExports$3.SIX_HOURS,Ct$4="publisher",Pt$4="irn",St$7="error",$e$4="wss://relay.walletconnect.org",Rt$6="relayer",T$4={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},xt$4="_subscription",L$5={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Ot$4=.1,me$5="2.19.0",Q$1={link_mode:"link_mode",relay:"relay"},At$4="0.3",Nt$3="WALLETCONNECT_CLIENT_ID",ze$5="WALLETCONNECT_LINK_MODE_APPS",$$6={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},$t$3="subscription",zt$3="0.3",Lt$5=cjsExports$3.FIVE_SECONDS*1e3,kt$5="pairing",Ut$3="0.3",ie$4={wc_pairingDelete:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1e3},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1001}},wc_pairingPing:{req:{ttl:cjsExports$3.THIRTY_SECONDS,prompt:false,tag:1002},res:{ttl:cjsExports$3.THIRTY_SECONDS,prompt:false,tag:1003}},unregistered_method:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:0},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:0}}},se$4={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},F$5={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Ft$3="history",Mt$5="0.3",Kt$4="expirer",M$4={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Bt$4="0.3",jt$5="verify-api",js$3="https://verify.walletconnect.com",Vt$5="https://verify.walletconnect.org",le$5=Vt$5,qt$4=`${le$5}/v3`,Gt$5=[js$3,Vt$5],Ht$3="echo",Yt$4="https://echo.walletconnect.com",q$3={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},J$4={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},qs$5={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Gs$3={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Hs$3={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Ys$3={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Jt$5=.1,Xt$5="event-client",Wt$5=86400,Zt$3="https://pulse.walletconnect.org/batch";function Js$3(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),s=0;s<t.length;s++)t[s]=255;for(var i=0;i<n.length;i++){var r=n.charAt(i),o=r.charCodeAt(0);if(t[o]!==255)throw new TypeError(r+" is ambiguous");t[o]=i;}var a=n.length,c=n.charAt(0),h=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function g(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return "";for(var y=0,O=0,w=0,v=l.length;w!==v&&l[w]===0;)w++,y++;for(var k=(v-w)*u+1>>>0,I=new Uint8Array(k);w!==v;){for(var V=l[w],X=0,K=k-1;(V!==0||X<O)&&K!==-1;K--,X++)V+=256*I[K]>>>0,I[K]=V%a>>>0,V=V/a>>>0;if(V!==0)throw new Error("Non-zero carry");O=X,w++;}for(var Y=k-O;Y!==k&&I[Y]===0;)Y++;for(var ge=c.repeat(y);Y<k;++Y)ge+=n.charAt(I[Y]);return ge}function m(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var y=0;if(l[y]!==" "){for(var O=0,w=0;l[y]===c;)O++,y++;for(var v=(l.length-y)*h+1>>>0,k=new Uint8Array(v);l[y];){var I=t[l.charCodeAt(y)];if(I===255)return;for(var V=0,X=v-1;(I!==0||V<w)&&X!==-1;X--,V++)I+=a*k[X]>>>0,k[X]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");w=V,y++;}if(l[y]!==" "){for(var K=v-w;K!==v&&k[K]===0;)K++;for(var Y=new Uint8Array(O+(v-K)),ge=O;K!==v;)Y[ge++]=k[K++];return Y}}}function A(l){var y=m(l);if(y)return y;throw new Error(`Non-${e} character`)}return {encode:g,decodeUnsafe:m,decode:A}}var Xs$4=Js$3,Ws$3=Xs$4;const Qt$5=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},Zs$3=n=>new TextEncoder().encode(n),Qs$4=n=>new TextDecoder().decode(n);let er$4 = class er{constructor(e,t,s){this.name=e,this.prefix=t,this.baseEncode=s;}encode(e){if(e instanceof Uint8Array)return `${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}};let tr$4 = class tr{constructor(e,t,s){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=s;}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ei$3(this,e)}};let ir$3 = class ir{constructor(e){this.decoders=e;}or(e){return ei$3(this,e)}decode(e){const t=e[0],s=this.decoders[t];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const ei$3=(n,e)=>new ir$3({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});let sr$4 = class sr{constructor(e,t,s,i){this.name=e,this.prefix=t,this.baseEncode=s,this.baseDecode=i,this.encoder=new er$4(e,t,s),this.decoder=new tr$4(e,t,i);}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const ve$2=({name:n,prefix:e,encode:t,decode:s})=>new sr$4(n,e,t,s),ue$5=({prefix:n,name:e,alphabet:t})=>{const{encode:s,decode:i}=Ws$3(t,e);return ve$2({prefix:n,name:e,encode:s,decode:r=>Qt$5(i(r))})},rr$5=(n,e,t,s)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let r=n.length;for(;n[r-1]==="=";)--r;const o=new Uint8Array(r*t/8|0);let a=0,c=0,h=0;for(let u=0;u<r;++u){const g=i[n[u]];if(g===void 0)throw new SyntaxError(`Non-${s} character`);c=c<<t|g,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a);}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},nr$5=(n,e,t)=>{const s=e[e.length-1]==="=",i=(1<<t)-1;let r="",o=0,a=0;for(let c=0;c<n.length;++c)for(a=a<<8|n[c],o+=8;o>t;)o-=t,r+=e[i&a>>o];if(o&&(r+=e[i&a<<t-o]),s)for(;r.length*t&7;)r+="=";return r},C$4=({name:n,prefix:e,bitsPerChar:t,alphabet:s})=>ve$2({prefix:e,name:n,encode(i){return nr$5(i,s,t)},decode(i){return rr$5(i,s,t,n)}}),or$5=ve$2({prefix:"\0",name:"identity",encode:n=>Qs$4(n),decode:n=>Zs$3(n)});var ar$4=Object.freeze({__proto__:null,identity:or$5});const cr$4=C$4({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var hr$4=Object.freeze({__proto__:null,base2:cr$4});const lr$4=C$4({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ur$4=Object.freeze({__proto__:null,base8:lr$4});const dr$4=ue$5({prefix:"9",name:"base10",alphabet:"0123456789"});var pr$3=Object.freeze({__proto__:null,base10:dr$4});const gr$3=C$4({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),yr$3=C$4({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var br$4=Object.freeze({__proto__:null,base16:gr$3,base16upper:yr$3});const Dr$5=C$4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mr$4=C$4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vr$4=C$4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fr$4=C$4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_r$5=C$4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Er$3=C$4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wr$4=C$4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ir$5=C$4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tr$5=C$4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Cr$5=Object.freeze({__proto__:null,base32:Dr$5,base32upper:mr$4,base32pad:vr$4,base32padupper:fr$4,base32hex:_r$5,base32hexupper:Er$3,base32hexpad:wr$4,base32hexpadupper:Ir$5,base32z:Tr$5});const Pr$5=ue$5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Sr$5=ue$5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Rr$5=Object.freeze({__proto__:null,base36:Pr$5,base36upper:Sr$5});const xr$3=ue$5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Or$5=ue$5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ar$5=Object.freeze({__proto__:null,base58btc:xr$3,base58flickr:Or$5});const Nr$5=C$4({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$r$4=C$4({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),zr$5=C$4({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Lr$5=C$4({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var kr$5=Object.freeze({__proto__:null,base64:Nr$5,base64pad:$r$4,base64url:zr$5,base64urlpad:Lr$5});const ti$2=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Ur$5=ti$2.reduce((n,e,t)=>(n[t]=e,n),[]),Fr$5=ti$2.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]);function Mr$5(n){return n.reduce((e,t)=>(e+=Ur$5[t],e),"")}function Kr$5(n){const e=[];for(const t of n){const s=Fr$5[t.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(s);}return new Uint8Array(e)}const Br$5=ve$2({prefix:"\u{1F680}",name:"base256emoji",encode:Mr$5,decode:Kr$5});var jr$4=Object.freeze({__proto__:null,base256emoji:Br$5}),Vr$5=si$4,ii$2=128,Gr$5=-128,Hr$5=Math.pow(2,31);function si$4(n,e,t){e=e||[],t=t||0;for(var s=t;n>=Hr$5;)e[t++]=n&255|ii$2,n/=128;for(;n&Gr$5;)e[t++]=n&255|ii$2,n>>>=7;return e[t]=n|0,si$4.bytes=t-s+1,e}var Yr$5=Le$6,Jr$5=128,ri$4=127;function Le$6(n,s){var t=0,s=s||0,i=0,r=s,o,a=n.length;do{if(r>=a)throw Le$6.bytes=0,new RangeError("Could not decode varint");o=n[r++],t+=i<28?(o&ri$4)<<i:(o&ri$4)*Math.pow(2,i),i+=7;}while(o>=Jr$5);return Le$6.bytes=r-s,t}var Xr$5=Math.pow(2,7),Wr$5=Math.pow(2,14),Zr$5=Math.pow(2,21),Qr$3=Math.pow(2,28),en$7=Math.pow(2,35),tn$5=Math.pow(2,42),sn$5=Math.pow(2,49),rn$5=Math.pow(2,56),nn$5=Math.pow(2,63),on$5=function(n){return n<Xr$5?1:n<Wr$5?2:n<Zr$5?3:n<Qr$3?4:n<en$7?5:n<tn$5?6:n<sn$5?7:n<rn$5?8:n<nn$5?9:10},an$5={encode:Vr$5,decode:Yr$5,encodingLength:on$5},ni$4=an$5;const oi$4=(n,e,t=0)=>(ni$4.encode(n,e,t),e),ai$3=n=>ni$4.encodingLength(n),ke$6=(n,e)=>{const t=e.byteLength,s=ai$3(n),i=s+ai$3(t),r=new Uint8Array(i+t);return oi$4(n,r,0),oi$4(t,r,s),r.set(e,i),new cn$5(n,t,e,r)};let cn$5 = class cn{constructor(e,t,s,i){this.code=e,this.size=t,this.digest=s,this.bytes=i;}};const ci$3=({name:n,code:e,encode:t})=>new hn$4(n,e,t);let hn$4 = class hn{constructor(e,t,s){this.name=e,this.code=t,this.encode=s;}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ke$6(this.code,t):t.then(s=>ke$6(this.code,s))}else throw Error("Unknown type, must be binary type")}};const hi$3=n=>async e=>new Uint8Array(await crypto.subtle.digest(n,e)),ln$4=ci$3({name:"sha2-256",code:18,encode:hi$3("SHA-256")}),un$4=ci$3({name:"sha2-512",code:19,encode:hi$3("SHA-512")});var dn$4=Object.freeze({__proto__:null,sha256:ln$4,sha512:un$4});const li$4=0,pn$4="identity",ui$3=Qt$5,gn$4=n=>ke$6(li$4,ui$3(n)),yn$3={code:li$4,name:pn$4,encode:ui$3,digest:gn$4};var bn$4=Object.freeze({__proto__:null,identity:yn$3});new TextEncoder,new TextDecoder;const di$3={...ar$4,...hr$4,...ur$4,...pr$3,...br$4,...Cr$5,...Rr$5,...Ar$5,...kr$5,...jr$4};({...dn$4,...bn$4});function Dn$3(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(n):new Uint8Array(n)}function pi$3(n,e,t,s){return {name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:s}}}const gi$4=pi$3("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),Ue$5=pi$3("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=Dn$3(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),mn$4={utf8:gi$4,"utf-8":gi$4,hex:di$3.base16,latin1:Ue$5,ascii:Ue$5,binary:Ue$5,...di$3};function vn$3(n,e="utf8"){const t=mn$4[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return (e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(n,"utf8"):t.decoder.decode(`${t.prefix}${n}`)}var fn$4=Object.defineProperty,_n$4=(n,e,t)=>e in n?fn$4(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,G$4=(n,e,t)=>_n$4(n,typeof e!="symbol"?e+"":e,t);let yi$4 = class yi{constructor(e,t){this.core=e,this.logger=t,G$4(this,"keychain",new Map),G$4(this,"name",Et$5),G$4(this,"version",wt$5),G$4(this,"initialized",false),G$4(this,"storagePrefix",B$3),G$4(this,"init",async()=>{if(!this.initialized){const s=await this.getKeyChain();typeof s<"u"&&(this.keychain=s),this.initialized=true;}}),G$4(this,"has",s=>(this.isInitialized(),this.keychain.has(s))),G$4(this,"set",async(s,i)=>{this.isInitialized(),this.keychain.set(s,i),await this.persist();}),G$4(this,"get",s=>{this.isInitialized();const i=this.keychain.get(s);if(typeof i>"u"){const{message:r}=te$4("NO_MATCHING_KEY",`${this.name}: ${s}`);throw new Error(r)}return i}),G$4(this,"del",async s=>{this.isInitialized(),this.keychain.delete(s),await this.persist();}),this.core=e,this.logger=E$7(t,this.name);}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,no$4(e));}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ro$4(e):void 0}async persist(){await this.setKeyChain(this.keychain);}isInitialized(){if(!this.initialized){const{message:e}=te$4("NOT_INITIALIZED",this.name);throw new Error(e)}}};var En$5=Object.defineProperty,wn$4=(n,e,t)=>e in n?En$5(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,P$7=(n,e,t)=>wn$4(n,typeof e!="symbol"?e+"":e,t);let bi$3 = class bi{constructor(e,t,s){this.core=e,this.logger=t,P$7(this,"name",ft$4),P$7(this,"keychain"),P$7(this,"randomSessionIdentifier",ni$5()),P$7(this,"initialized",false),P$7(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=true);}),P$7(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),P$7(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),r=Po$3(i);return Qe$5(r.publicKey)}),P$7(this,"generateKeyPair",()=>{this.isInitialized();const i=ti$3();return this.setPrivateKey(i.publicKey,i.privateKey)}),P$7(this,"signJWT",async i=>{this.isInitialized();const r=await this.getClientSeed(),o=Po$3(r),a=this.randomSessionIdentifier,c=_t$6;return await Qo$1(a,i,c,o)}),P$7(this,"generateSharedKey",(i,r,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=ri$5(a,r);return this.setSymKey(c,o)}),P$7(this,"setSymKey",async(i,r)=>{this.isInitialized();const o=r||oi$5(i);return await this.keychain.set(o,i),o}),P$7(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i);}),P$7(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i);}),P$7(this,"encode",async(i,r,o)=>{this.isInitialized();const a=rr$6(o),c=safeJsonStringify(r);if(di$4(a))return ai$4(c,o?.encoding);if(li$5(a)){const m=a.senderPublicKey,A=a.receiverPublicKey;i=await this.generateSharedKey(m,A);}const h=this.getSymKey(i),{type:u,senderPublicKey:g}=a;return ii$3({type:u,symKey:h,message:c,senderPublicKey:g,encoding:o?.encoding})}),P$7(this,"decode",async(i,r,o)=>{this.isInitialized();const a=fi$4(r,o);if(di$4(a)){const c=ui$4(r,o?.encoding);return safeJsonParse(c)}if(li$5(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;i=await this.generateSharedKey(c,h);}try{const c=this.getSymKey(i),h=ci$4({symKey:c,encoded:r,encoding:o?.encoding});return safeJsonParse(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c);}}),P$7(this,"getPayloadType",(i,r=At$5)=>{const o=Fe$6({encoded:i,encoding:r});return fe$3(o.type)}),P$7(this,"getPayloadSenderPublicKey",(i,r=At$5)=>{const o=Fe$6({encoded:i,encoding:r});return o.senderPublicKey?srcExports.toString(o.senderPublicKey,V$7):void 0}),this.core=e,this.logger=E$7(t,this.name),this.keychain=s||new yi$4(this.core,this.logger);}get context(){return y$8(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Ae$2);}catch{e=ni$5(),await this.keychain.set(Ae$2,e);}return vn$3(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=te$4("NOT_INITIALIZED",this.name);throw new Error(e)}}};var In$3=Object.defineProperty,Tn$3=(n,e,t)=>e in n?In$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,H$5=(n,e,t)=>Tn$3(n,typeof e!="symbol"?e+"":e,t);let Di$4 = class Di extends y$7{constructor(e,t){super(e,t),this.logger=e,this.core=t,H$5(this,"messages",new Map),H$5(this,"name",It$3),H$5(this,"version",Tt$5),H$5(this,"initialized",false),H$5(this,"storagePrefix",B$3),H$5(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const s=await this.getRelayerMessages();typeof s<"u"&&(this.messages=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size});}catch(s){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(s);}finally{this.initialized=true;}}}),H$5(this,"set",async(s,i)=>{this.isInitialized();const r=si$5(i);let o=this.messages.get(s);return typeof o>"u"&&(o={}),typeof o[r]<"u"||(o[r]=i,this.messages.set(s,o),await this.persist()),r}),H$5(this,"get",s=>{this.isInitialized();let i=this.messages.get(s);return typeof i>"u"&&(i={}),i}),H$5(this,"has",(s,i)=>{this.isInitialized();const r=this.get(s),o=si$5(i);return typeof r[o]<"u"}),H$5(this,"del",async s=>{this.isInitialized(),this.messages.delete(s),await this.persist();}),this.logger=E$7(e,this.name),this.core=t;}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,no$4(e));}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ro$4(e):void 0}async persist(){await this.setRelayerMessages(this.messages);}isInitialized(){if(!this.initialized){const{message:e}=te$4("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Cn$3=Object.defineProperty,Pn$3=Object.defineProperties,Sn$2=Object.getOwnPropertyDescriptors,mi$3=Object.getOwnPropertySymbols,Rn$3=Object.prototype.hasOwnProperty,xn$2=Object.prototype.propertyIsEnumerable,Fe$5=(n,e,t)=>e in n?Cn$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,fe$2=(n,e)=>{for(var t in e||(e={}))Rn$3.call(e,t)&&Fe$5(n,t,e[t]);if(mi$3)for(var t of mi$3(e))xn$2.call(e,t)&&Fe$5(n,t,e[t]);return n},Me$7=(n,e)=>Pn$3(n,Sn$2(e)),j$3=(n,e,t)=>Fe$5(n,typeof e!="symbol"?e+"":e,t);let On$2 = class On extends m$3{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,j$3(this,"events",new require$$0$3.EventEmitter),j$3(this,"name",Ct$4),j$3(this,"queue",new Map),j$3(this,"publishTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_MINUTE)),j$3(this,"initialPublishTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND*15)),j$3(this,"needsTransportRestart",false),j$3(this,"publish",async(s,i,r)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:s,message:i,opts:r}});const a=r?.ttl||Ne$2,c=yi$5(r),h=r?.prompt||false,u=r?.tag||0,g=r?.id||getBigIntRpcId().toString(),m={topic:s,message:i,opts:{ttl:a,relay:c,prompt:h,tag:u,id:g,attestation:r?.attestation,tvf:r?.tvf}},A=`Failed to publish payload, please try again. id:${g} tag:${u}`;try{const l=new Promise(async y=>{const O=({id:v})=>{m.opts.id===v&&(this.removeRequestFromQueue(v),this.relayer.events.removeListener(T$4.publish,O),y(m));};this.relayer.events.on(T$4.publish,O);const w=ao$4(new Promise((v,k)=>{this.rpcPublish({topic:s,message:i,ttl:a,prompt:h,tag:u,id:g,attestation:r?.attestation,tvf:r?.tvf}).then(v).catch(I=>{this.logger.warn(I,I?.message),k(I);});}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${u}`);try{await w,this.events.removeListener(T$4.publish,O);}catch(v){this.queue.set(g,Me$7(fe$2({},m),{attempt:1})),this.logger.warn(v,v?.message);}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:s,message:i,opts:r}}),await ao$4(l,this.publishTimeout,A);}catch(l){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(l),(o=r?.internal)!=null&&o.throwOnFailedPublish)throw l}finally{this.queue.delete(g);}}),j$3(this,"on",(s,i)=>{this.events.on(s,i);}),j$3(this,"once",(s,i)=>{this.events.once(s,i);}),j$3(this,"off",(s,i)=>{this.events.off(s,i);}),j$3(this,"removeListener",(s,i)=>{this.events.removeListener(s,i);}),this.relayer=e,this.logger=E$7(t,this.name),this.registerEventListeners();}get context(){return y$8(this.logger)}async rpcPublish(e){var t,s,i,r;const{topic:o,message:a,ttl:c=Ne$2,prompt:h,tag:u,id:g,attestation:m,tvf:A}=e,l={method:mi$4(yi$5().protocol).publish,params:fe$2({topic:o,message:a,ttl:c,prompt:h,tag:u,attestation:m},A),id:g};ae$3((t=l.params)==null?void 0:t.prompt)&&((s=l.params)==null||delete s.prompt),ae$3((i=l.params)==null?void 0:i.tag)&&((r=l.params)==null||delete r.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:l});const y=await this.relayer.request(l);return this.relayer.events.emit(T$4.publish,e),this.logger.debug("Successfully Published Payload"),y}removeRequestFromQueue(e){this.queue.delete(e);}checkQueue(){this.queue.forEach(async(e,t)=>{const s=e.attempt+1;this.queue.set(t,Me$7(fe$2({},e),{attempt:s}));const{topic:i,message:r,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${s}`),await this.rpcPublish(Me$7(fe$2({},e),{topic:i,message:r,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`);});}registerEventListeners(){this.relayer.core.heartbeat.on(r$7.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=false,this.relayer.events.emit(T$4.connection_stalled);return}this.checkQueue();}),this.relayer.on(T$4.message_ack,e=>{this.removeRequestFromQueue(e.id.toString());});}};var An$2=Object.defineProperty,Nn$2=(n,e,t)=>e in n?An$2(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,re$4=(n,e,t)=>Nn$2(n,typeof e!="symbol"?e+"":e,t);let $n$3 = class $n{constructor(){re$4(this,"map",new Map),re$4(this,"set",(e,t)=>{const s=this.get(e);this.exists(e,t)||this.map.set(e,[...s,t]);}),re$4(this,"get",e=>this.map.get(e)||[]),re$4(this,"exists",(e,t)=>this.get(e).includes(t)),re$4(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const s=this.get(e);if(!this.exists(e,t))return;const i=s.filter(r=>r!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i);}),re$4(this,"clear",()=>{this.map.clear();});}get topics(){return Array.from(this.map.keys())}};var zn$3=Object.defineProperty,Ln$2=Object.defineProperties,kn$3=Object.getOwnPropertyDescriptors,vi$3=Object.getOwnPropertySymbols,Un$2=Object.prototype.hasOwnProperty,Fn$3=Object.prototype.propertyIsEnumerable,Ke$8=(n,e,t)=>e in n?zn$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,de$5=(n,e)=>{for(var t in e||(e={}))Un$2.call(e,t)&&Ke$8(n,t,e[t]);if(vi$3)for(var t of vi$3(e))Fn$3.call(e,t)&&Ke$8(n,t,e[t]);return n},Be$3=(n,e)=>Ln$2(n,kn$3(e)),D$2=(n,e,t)=>Ke$8(n,typeof e!="symbol"?e+"":e,t);let fi$3 = class fi extends P$9{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,D$2(this,"subscriptions",new Map),D$2(this,"topicMap",new $n$3),D$2(this,"events",new require$$0$3.EventEmitter),D$2(this,"name",$t$3),D$2(this,"version",zt$3),D$2(this,"pending",new Map),D$2(this,"cached",[]),D$2(this,"initialized",false),D$2(this,"pendingSubscriptionWatchLabel","pending_sub_watch_label"),D$2(this,"pollingInterval",20),D$2(this,"storagePrefix",B$3),D$2(this,"subscribeTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_MINUTE)),D$2(this,"initialSubscribeTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND*15)),D$2(this,"clientId"),D$2(this,"batchSubscribeTopicsLimit",500),D$2(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=true;}),D$2(this,"subscribe",async(s,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:i}});try{const r=yi$5(i),o={topic:s,relay:r,transportType:i?.transportType};this.pending.set(s,o);const a=await this.rpcSubscribe(s,r,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:i}})),a}catch(r){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(r),r}}),D$2(this,"unsubscribe",async(s,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(s,i.id,i):await this.unsubscribeByTopic(s,i);}),D$2(this,"isSubscribed",async s=>{if(this.topics.includes(s))return  true;const i=`${this.pendingSubscriptionWatchLabel}_${s}`;return await new Promise((r,o)=>{const a=new cjsExports$3.Watch;a.start(i);const c=setInterval(()=>{(!this.pending.has(s)&&this.topics.includes(s)||this.cached.some(h=>h.topic===s))&&(clearInterval(c),a.stop(i),r(true)),a.elapsed(i)>=Lt$5&&(clearInterval(c),a.stop(i),o(new Error("Subscription resolution timeout")));},this.pollingInterval);}).catch(()=>false)}),D$2(this,"on",(s,i)=>{this.events.on(s,i);}),D$2(this,"once",(s,i)=>{this.events.once(s,i);}),D$2(this,"off",(s,i)=>{this.events.off(s,i);}),D$2(this,"removeListener",(s,i)=>{this.events.removeListener(s,i);}),D$2(this,"start",async()=>{await this.onConnect();}),D$2(this,"stop",async()=>{await this.onDisconnect();}),D$2(this,"restart",async()=>{await this.restore(),await this.onRestart();}),D$2(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const s=[];this.pending.forEach(i=>{s.push(i);}),await this.batchSubscribe(s);}),D$2(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(r$7.pulse,async()=>{await this.checkPending();}),this.events.on($$6.created,async s=>{const i=$$6.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:s}),await this.persist();}),this.events.on($$6.deleted,async s=>{const i=$$6.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:s}),await this.persist();});}),this.relayer=e,this.logger=E$7(t,this.name),this.clientId="";}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let s=false;try{s=this.getSubscription(e).topic===t;}catch{}return s}reset(){this.cached=[],this.initialized=true;}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear();}async unsubscribeByTopic(e,t){const s=this.topicMap.get(e);await Promise.all(s.map(async i=>await this.unsubscribeById(e,i,t)));}async unsubscribeById(e,t,s){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:s}});try{const i=yi$5(s);await this.restartToComplete({topic:e,id:t,relay:i}),await this.rpcUnsubscribe(e,t,i);const r=de$6("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,r),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:s}});}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,t,s){var i;(!s||s?.transportType===Q$1.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const r={method:mi$4(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});const o=(i=s?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(s?.transportType===Q$1.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(r).catch(u=>this.logger.warn(u));},cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND)),a;const c=new Promise(async u=>{const g=m=>{m.topic===e&&(this.events.removeListener($$6.created,g),u(m.id));};this.events.on($$6.created,g);try{const m=await ao$4(new Promise((A,l)=>{this.relayer.request(r).catch(y=>{this.logger.warn(y,y?.message),l(y);}).then(A);}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener($$6.created,g),u(m);}catch{}}),h=await ao$4(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(T$4.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,s={method:mi$4(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});try{await await ao$4(new Promise(i=>{this.relayer.request(s).catch(r=>this.logger.warn(r)).then(i);}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again");}catch{this.relayer.events.emit(T$4.connection_stalled);}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,s={method:mi$4(t.protocol).batchFetchMessages,params:{topics:e.map(r=>r.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});let i;try{i=await await ao$4(new Promise((r,o)=>{this.relayer.request(s).catch(a=>{this.logger.warn(a),o(a);}).then(r);}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again");}catch{this.relayer.events.emit(T$4.connection_stalled);}return i}rpcUnsubscribe(e,t,s){const i={method:mi$4(s.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,Be$3(de$5({},t),{id:e})),this.pending.delete(t.topic);}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,de$5({},t)),this.pending.delete(t.topic);});}async onUnsubscribe(e,t,s){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,s),await this.relayer.messages.del(e);}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e);}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t);}addSubscription(e,t){this.subscriptions.set(e,de$5({},t)),this.topicMap.set(t.topic,e),this.events.emit($$6.created,t);}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:s}=te$4("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const s=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(s.topic,e),this.events.emit($$6.deleted,Be$3(de$5({},s),{reason:t}));}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($$6.sync);}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let s=0;s<t;s++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i);}}this.events.emit($$6.resubscribed);}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=te$4("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values});}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e);}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>Be$3(de$5({},t),{id:await this.getSubscriptionId(t.topic)})))));}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await vo$3(cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages));}async onConnect(){await this.restart(),this.reset();}onDisconnect(){this.onDisable();}isInitialized(){if(!this.initialized){const{message:e}=te$4("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen());}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return si$5(e+await this.getClientId())}};var Mn$3=Object.defineProperty,_i$4=Object.getOwnPropertySymbols,Kn$3=Object.prototype.hasOwnProperty,Bn$2=Object.prototype.propertyIsEnumerable,je$5=(n,e,t)=>e in n?Mn$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,Ei$3=(n,e)=>{for(var t in e||(e={}))Kn$3.call(e,t)&&je$5(n,t,e[t]);if(_i$4)for(var t of _i$4(e))Bn$2.call(e,t)&&je$5(n,t,e[t]);return n},p$7=(n,e,t)=>je$5(n,typeof e!="symbol"?e+"":e,t);let wi$3 = class wi extends d$7{constructor(e){super(e),p$7(this,"protocol","wc"),p$7(this,"version",2),p$7(this,"core"),p$7(this,"logger"),p$7(this,"events",new require$$0$3.EventEmitter),p$7(this,"provider"),p$7(this,"messages"),p$7(this,"subscriber"),p$7(this,"publisher"),p$7(this,"name",Rt$6),p$7(this,"transportExplicitlyClosed",false),p$7(this,"initialized",false),p$7(this,"connectionAttemptInProgress",false),p$7(this,"relayUrl"),p$7(this,"projectId"),p$7(this,"packageName"),p$7(this,"bundleId"),p$7(this,"hasExperiencedNetworkDisruption",false),p$7(this,"pingTimeout"),p$7(this,"heartBeatTimeout",cjsExports$3.toMiliseconds(cjsExports$3.THIRTY_SECONDS+cjsExports$3.FIVE_SECONDS)),p$7(this,"reconnectTimeout"),p$7(this,"connectPromise"),p$7(this,"reconnectInProgress",false),p$7(this,"requestsInFlight",[]),p$7(this,"connectTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND*15)),p$7(this,"request",async t=>{var s,i;this.logger.debug("Publishing Request Payload");const r=t.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:t.method,topic:(s=t.params)==null?void 0:s.topic},"relayer.request - publishing...");const o=`${r}:${((i=t.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${r}`),o}}),p$7(this,"resetPingTimeout",()=>{if(et$4())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,s,i;this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(t=this.provider)==null?void 0:t.connection)==null?void 0:s.socket)==null||i.terminate();},this.heartBeatTimeout);}catch(t){this.logger.warn(t,t?.message);}}),p$7(this,"onPayloadHandler",t=>{this.onProviderPayload(t),this.resetPingTimeout();}),p$7(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(T$4.connect);}),p$7(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect();}),p$7(this,"onProviderErrorHandler",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(T$4.error,t),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose();}),p$7(this,"registerProviderListeners",()=>{this.provider.on(L$5.payload,this.onPayloadHandler),this.provider.on(L$5.connect,this.onConnectHandler),this.provider.on(L$5.disconnect,this.onDisconnectHandler),this.provider.on(L$5.error,this.onProviderErrorHandler);}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?E$7(e.logger,this.name):Ot$7(k$7({level:e.logger||St$7})),this.messages=new Di$4(this.logger,e.core),this.subscriber=new fi$3(this,this.logger),this.publisher=new On$2(this,this.logger),this.relayUrl=e?.relayUrl||$e$4,this.projectId=e.projectId,Wr$6()?this.packageName=Jr$6():zr$6()&&(this.bundleId=Jr$6()),this.provider={};}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=true,this.subscriber.hasAnyTopics)try{await this.transportOpen();}catch(e){this.logger.warn(e,e?.message);}}get context(){return y$8(this.logger)}get connected(){var e,t,s;return ((s=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:s.readyState)===1||false}get connecting(){var e,t,s;return ((s=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:s.readyState)===0||this.connectPromise!==void 0||false}async publish(e,t,s){this.isInitialized(),await this.publisher.publish(e,t,s),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Q$1.relay});}async subscribe(e,t){var s,i,r;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((s=t?.internal)==null?void 0:s.throwOnFailedPublish)>"u"?true:(i=t?.internal)==null?void 0:i.throwOnFailedPublish;let a=((r=this.subscriber.topicMap.get(e))==null?void 0:r[0])||"",c;const h=u=>{u.topic===e&&(this.subscriber.off($$6.created,h),c());};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on($$6.created,h);}),new Promise(async(u,g)=>{a=await this.subscriber.subscribe(e,Ei$3({internal:{throwOnFailedPublish:o}},t)).catch(m=>{o&&g(m);})||a,u();})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t);}on(e,t){this.events.on(e,t);}once(e,t){this.events.once(e,t);}off(e,t){this.events.off(e,t);}removeListener(e,t){this.events.removeListener(e,t);}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ao$4(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect();}async transportClose(){this.transportExplicitlyClosed=true,await this.transportDisconnect();}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,s)=>{await this.connect(e).then(t).catch(s).finally(()=>{this.connectPromise=void 0;});}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen());}async confirmOnlineStateOrThrow(){if(!await Yi$3())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((s,i)=>s.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const s of t)try{await this.onMessageEvent(s);}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message);}this.logger.trace(`Batch of ${t.length} message events processed`);}async onLinkMessageEvent(e,t){const{topic:s}=e;if(!t.sessionExists){const i=ho$3(cjsExports$3.FIVE_MINUTES),r={topic:s,expiry:i,relay:{protocol:"irn"},active:false};await this.core.pairing.pairings.set(s,r);}this.events.emit(T$4.message,e),await this.recordMessageEvent(e);}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=true,this.transportExplicitlyClosed=false;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(s,i)=>{const r=()=>{i(new Error("Connection interrupted while trying to subscribe"));};this.provider.once(L$5.disconnect,r),await ao$4(new Promise((o,a)=>{this.provider.connect().then(o).catch(a);}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o);}).finally(()=>{this.provider.off(L$5.disconnect,r),clearTimeout(this.reconnectTimeout);}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"));};this.provider.once(L$5.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(L$5.disconnect,c);});}),this.hasExperiencedNetworkDisruption=!1,s();});}catch(s){await this.subscriber.stop();const i=s;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=true;}finally{this.connectionAttemptInProgress=false;}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(s=>setTimeout(s,cjsExports$3.toMiliseconds(t*1))),t++;}}startPingTimeout(){var e,t,s,i,r;if(et$4())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((r=(i=(s=this.provider)==null?void 0:s.connection)==null?void 0:i.socket)==null||r.on("ping",()=>{this.resetPingTimeout();})),this.resetPingTimeout();}catch(o){this.logger.warn(o,o?.message);}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$9(new f$9(Zr$6({sdkVersion:me$5,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:true,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners();}async recordMessageEvent(e){const{topic:t,message:s}=e;await this.messages.set(t,s);}async shouldIgnoreMessageEvent(e){const{topic:t,message:s}=e;if(!s||s.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${s}`),true;if(!await this.subscriber.isSubscribed(t))return this.logger.warn(`Ignoring message for non-subscribed topic ${t}`),true;const i=this.messages.has(t,s);return i&&this.logger.warn(`Ignoring duplicate message: ${s}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),isJsonRpcRequest(e)){if(!e.method.endsWith(xt$4))return;const t=e.params,{topic:s,message:i,publishedAt:r,attestation:o}=t.data,a={topic:s,message:i,publishedAt:r,transportType:Q$1.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ei$3({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a);}else isJsonRpcResponse(e)&&this.events.emit(T$4.message_ack,e);}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(T$4.message,e),await this.recordMessageEvent(e));}async acknowledgePayload(e){const t=formatJsonRpcResult(e.id,true);await this.provider.connection.send(t);}unregisterProviderListeners(){this.provider.off(L$5.payload,this.onPayloadHandler),this.provider.off(L$5.connect,this.onConnectHandler),this.provider.off(L$5.disconnect,this.onDisconnectHandler),this.provider.off(L$5.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout);}async registerEventListeners(){let e=await Yi$3();Xi$2(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(s=>this.logger.error(s,s?.message)):(this.hasExperiencedNetworkDisruption=true,await this.transportDisconnect(),this.transportExplicitlyClosed=false));});}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(T$4.disconnect),this.connectionAttemptInProgress=false,!this.reconnectInProgress&&(this.reconnectInProgress=true,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=false;},cjsExports$3.toMiliseconds(Ot$4)))));}isInitialized(){if(!this.initialized){const{message:e}=te$4("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect();}};var jn$3=Object.defineProperty,Ii$3=Object.getOwnPropertySymbols,Vn$3=Object.prototype.hasOwnProperty,qn$2=Object.prototype.propertyIsEnumerable,Ve$4=(n,e,t)=>e in n?jn$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,Ti$4=(n,e)=>{for(var t in e||(e={}))Vn$3.call(e,t)&&Ve$4(n,t,e[t]);if(Ii$3)for(var t of Ii$3(e))qn$2.call(e,t)&&Ve$4(n,t,e[t]);return n},z$4=(n,e,t)=>Ve$4(n,typeof e!="symbol"?e+"":e,t);let Ci$4 = class Ci extends f$a{constructor(e,t,s,i=B$3,r=void 0){super(e,t,s,i),this.core=e,this.logger=t,this.name=s,z$4(this,"map",new Map),z$4(this,"version",At$4),z$4(this,"cached",[]),z$4(this,"initialized",false),z$4(this,"getKey"),z$4(this,"storagePrefix",B$3),z$4(this,"recentlyDeleted",[]),z$4(this,"recentlyDeletedLimit",200),z$4(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ae$3(o)?this.map.set(this.getKey(o),o):Pi$5(o)?this.map.set(o.id,o):Li$5(o)&&this.map.set(o.topic,o);}),this.cached=[],this.initialized=true);}),z$4(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist());}),z$4(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),z$4(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Ls$5(a[c],o[c]))):this.values)),z$4(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Ti$4(Ti$4({},this.getData(o)),a);this.map.set(o,c),await this.persist();}),z$4(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist());}),this.logger=E$7(t,this.name),this.storagePrefix=i,this.getKey=r;}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2);}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e);}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:i}=te$4("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:s}=te$4("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}return t}async persist(){await this.setDataStore(this.values);}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=te$4("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values});}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e);}}isInitialized(){if(!this.initialized){const{message:e}=te$4("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Gn$4=Object.defineProperty,Hn$2=(n,e,t)=>e in n?Gn$4(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,d$5=(n,e,t)=>Hn$2(n,typeof e!="symbol"?e+"":e,t);let Pi$4 = class Pi{constructor(e,t){this.core=e,this.logger=t,d$5(this,"name",kt$5),d$5(this,"version",Ut$3),d$5(this,"events",new require$$0$3),d$5(this,"pairings"),d$5(this,"initialized",false),d$5(this,"storagePrefix",B$3),d$5(this,"ignoredPayloadTypes",[Ie$4]),d$5(this,"registeredMethods",[]),d$5(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=true,this.logger.trace("Initialized"));}),d$5(this,"register",({methods:s})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...s])];}),d$5(this,"create",async s=>{this.isInitialized();const i=ni$5(),r=await this.core.crypto.setSymKey(i),o=ho$3(cjsExports$3.FIVE_MINUTES),a={protocol:Pt$4},c={topic:r,expiry:o,relay:a,active:false,methods:s?.methods},h=wi$4({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:i,relay:a,expiryTimestamp:o,methods:s?.methods});return this.events.emit(se$4.create,c),this.core.expirer.set(r,o),await this.pairings.set(r,c),await this.core.relayer.subscribe(r,{transportType:s?.transportType}),{topic:r,uri:h}}),d$5(this,"pair",async s=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:s?.uri,trace:[q$3.pairing_started]}});this.isValidPair(s,i);const{topic:r,symKey:o,relay:a,expiryTimestamp:c,methods:h}=bi$4(s.uri);i.props.properties.topic=r,i.addTrace(q$3.pairing_uri_validation_success),i.addTrace(q$3.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(r)){if(u=this.pairings.get(r),i.addTrace(q$3.existing_pairing),u.active)throw i.setError(J$4.active_pairing_already_exists),new Error(`Pairing already exists: ${r}. Please try again with a new connection URI.`);i.addTrace(q$3.pairing_not_expired);}const g=c||ho$3(cjsExports$3.FIVE_MINUTES),m={topic:r,relay:a,expiry:g,active:false,methods:h};this.core.expirer.set(r,g),await this.pairings.set(r,m),i.addTrace(q$3.store_new_pairing),s.activatePairing&&await this.activate({topic:r}),this.events.emit(se$4.create,m),i.addTrace(q$3.emit_inactive_pairing),this.core.crypto.keychain.has(r)||await this.core.crypto.setSymKey(o,r),i.addTrace(q$3.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow();}catch{i.setError(J$4.no_internet_connection);}try{await this.core.relayer.subscribe(r,{relay:a});}catch(A){throw i.setError(J$4.subscribe_pairing_topic_failure),A}return i.addTrace(q$3.subscribe_pairing_topic_success),m}),d$5(this,"activate",async({topic:s})=>{this.isInitialized();const i=ho$3(cjsExports$3.FIVE_MINUTES);this.core.expirer.set(s,i),await this.pairings.update(s,{active:true,expiry:i});}),d$5(this,"ping",async s=>{this.isInitialized(),await this.isValidPing(s),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=s;if(this.pairings.keys.includes(i)){const r=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=co$4();this.events.once(go$3("pairing_ping",r),({error:h})=>{h?c(h):a();}),await o();}}),d$5(this,"updateExpiry",async({topic:s,expiry:i})=>{this.isInitialized(),await this.pairings.update(s,{expiry:i});}),d$5(this,"updateMetadata",async({topic:s,metadata:i})=>{this.isInitialized(),await this.pairings.update(s,{peerMetadata:i});}),d$5(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),d$5(this,"disconnect",async s=>{this.isInitialized(),await this.isValidDisconnect(s);const{topic:i}=s;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",de$6("USER_DISCONNECTED")),await this.deletePairing(i));}),d$5(this,"formatUriFromPairing",s=>{this.isInitialized();const{topic:i,relay:r,expiry:o,methods:a}=s,c=this.core.crypto.keychain.get(i);return wi$4({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:r,expiryTimestamp:o,methods:a})}),d$5(this,"sendRequest",async(s,i,r)=>{const o=formatJsonRpcRequest(i,r),a=await this.core.crypto.encode(s,o),c=ie$4[i].req;return this.core.history.set(s,o),this.core.relayer.publish(s,a,c),o.id}),d$5(this,"sendResult",async(s,i,r)=>{const o=formatJsonRpcResult(s,r),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,s)).request.method,h=ie$4[c].res;await this.core.relayer.publish(i,a,h),await this.core.history.resolve(o);}),d$5(this,"sendError",async(s,i,r)=>{const o=formatJsonRpcError(s,r),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,s)).request.method,h=ie$4[c]?ie$4[c].res:ie$4.unregistered_method.res;await this.core.relayer.publish(i,a,h),await this.core.history.resolve(o);}),d$5(this,"deletePairing",async(s,i)=>{await this.core.relayer.unsubscribe(s),await Promise.all([this.pairings.delete(s,de$6("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(s),i?Promise.resolve():this.core.expirer.del(s)]);}),d$5(this,"cleanup",async()=>{const s=this.pairings.getAll().filter(i=>po$3(i.expiry));await Promise.all(s.map(i=>this.deletePairing(i.topic)));}),d$5(this,"onRelayEventRequest",s=>{const{topic:i,payload:r}=s;switch(r.method){case "wc_pairingPing":return this.onPairingPingRequest(i,r);case "wc_pairingDelete":return this.onPairingDeleteRequest(i,r);default:return this.onUnknownRpcMethodRequest(i,r)}}),d$5(this,"onRelayEventResponse",async s=>{const{topic:i,payload:r}=s,o=(await this.core.history.get(i,r.id)).request.method;switch(o){case "wc_pairingPing":return this.onPairingPingResponse(i,r);default:return this.onUnknownRpcMethodResponse(o)}}),d$5(this,"onPairingPingRequest",async(s,i)=>{const{id:r}=i;try{this.isValidPing({topic:s}),await this.sendResult(r,s,!0),this.events.emit(se$4.ping,{id:r,topic:s});}catch(o){await this.sendError(r,s,o),this.logger.error(o);}}),d$5(this,"onPairingPingResponse",(s,i)=>{const{id:r}=i;setTimeout(()=>{isJsonRpcResult(i)?this.events.emit(go$3("pairing_ping",r),{}):isJsonRpcError(i)&&this.events.emit(go$3("pairing_ping",r),{error:i.error});},500);}),d$5(this,"onPairingDeleteRequest",async(s,i)=>{const{id:r}=i;try{this.isValidDisconnect({topic:s}),await this.deletePairing(s),this.events.emit(se$4.delete,{id:r,topic:s});}catch(o){await this.sendError(r,s,o),this.logger.error(o);}}),d$5(this,"onUnknownRpcMethodRequest",async(s,i)=>{const{id:r,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=de$6("WC_METHOD_UNSUPPORTED",o);await this.sendError(r,s,a),this.logger.error(a);}catch(a){await this.sendError(r,s,a),this.logger.error(a);}}),d$5(this,"onUnknownRpcMethodResponse",s=>{this.registeredMethods.includes(s)||this.logger.error(de$6("WC_METHOD_UNSUPPORTED",s));}),d$5(this,"isValidPair",(s,i)=>{var r;if(!Di$5(s)){const{message:a}=te$4("MISSING_OR_INVALID",`pair() params: ${s}`);throw i.setError(J$4.malformed_pairing_uri),new Error(a)}if(!Ri$5(s.uri)){const{message:a}=te$4("MISSING_OR_INVALID",`pair() uri: ${s.uri}`);throw i.setError(J$4.malformed_pairing_uri),new Error(a)}const o=bi$4(s?.uri);if(!((r=o?.relay)!=null&&r.protocol)){const{message:a}=te$4("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(J$4.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=te$4("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(J$4.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&cjsExports$3.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(J$4.pairing_expired);const{message:a}=te$4("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),d$5(this,"isValidPing",async s=>{if(!Di$5(s)){const{message:r}=te$4("MISSING_OR_INVALID",`ping() params: ${s}`);throw new Error(r)}const{topic:i}=s;await this.isValidPairingTopic(i);}),d$5(this,"isValidDisconnect",async s=>{if(!Di$5(s)){const{message:r}=te$4("MISSING_OR_INVALID",`disconnect() params: ${s}`);throw new Error(r)}const{topic:i}=s;await this.isValidPairingTopic(i);}),d$5(this,"isValidPairingTopic",async s=>{if(!q$4(s,false)){const{message:i}=te$4("MISSING_OR_INVALID",`pairing topic should be a string: ${s}`);throw new Error(i)}if(!this.pairings.keys.includes(s)){const{message:i}=te$4("NO_MATCHING_KEY",`pairing topic doesn't exist: ${s}`);throw new Error(i)}if(po$3(this.pairings.get(s).expiry)){await this.deletePairing(s);const{message:i}=te$4("EXPIRED",`pairing topic: ${s}`);throw new Error(i)}}),this.core=e,this.logger=E$7(t,this.name),this.pairings=new Ci$4(this.core,this.logger,this.name,this.storagePrefix);}get context(){return y$8(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=te$4("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(T$4.message,async e=>{const{topic:t,message:s,transportType:i}=e;if(!this.pairings.keys.includes(t)||i===Q$1.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(s)))return;const r=await this.core.crypto.decode(t,s);try{isJsonRpcRequest(r)?(this.core.history.set(t,r),this.onRelayEventRequest({topic:t,payload:r})):isJsonRpcResponse(r)&&(await this.core.history.resolve(r),await this.onRelayEventResponse({topic:t,payload:r}),this.core.history.delete(t,r.id));}catch(o){this.logger.error(o);}});}registerExpirerEvents(){this.core.expirer.on(M$4.expired,async e=>{const{topic:t}=lo$2(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,true),this.events.emit(se$4.expire,{topic:t}));});}};var Yn$3=Object.defineProperty,Jn$4=(n,e,t)=>e in n?Yn$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,S$6=(n,e,t)=>Jn$4(n,typeof e!="symbol"?e+"":e,t);let Si$3 = class Si extends I$4{constructor(e,t){super(e,t),this.core=e,this.logger=t,S$6(this,"records",new Map),S$6(this,"events",new require$$0$3.EventEmitter),S$6(this,"name",Ft$3),S$6(this,"version",Mt$5),S$6(this,"cached",[]),S$6(this,"initialized",false),S$6(this,"storagePrefix",B$3),S$6(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.records.set(s.id,s)),this.cached=[],this.registerEventListeners(),this.initialized=true);}),S$6(this,"set",(s,i,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:s,request:i,chainId:r}),this.records.has(i.id))return;const o={id:i.id,topic:s,request:{method:i.method,params:i.params||null},chainId:r,expiry:ho$3(cjsExports$3.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(F$5.created,o);}),S$6(this,"resolve",async s=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:s}),!this.records.has(s.id))return;const i=await this.getRecord(s.id);typeof i.response>"u"&&(i.response=isJsonRpcError(s)?{error:s.error}:{result:s.result},this.records.set(i.id,i),this.persist(),this.events.emit(F$5.updated,i));}),S$6(this,"get",async(s,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:s,id:i}),await this.getRecord(i))),S$6(this,"delete",(s,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(r=>{if(r.topic===s){if(typeof i<"u"&&r.id!==i)return;this.records.delete(r.id),this.events.emit(F$5.deleted,r);}}),this.persist();}),S$6(this,"exists",async(s,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===s:false)),S$6(this,"on",(s,i)=>{this.events.on(s,i);}),S$6(this,"once",(s,i)=>{this.events.once(s,i);}),S$6(this,"off",(s,i)=>{this.events.off(s,i);}),S$6(this,"removeListener",(s,i)=>{this.events.removeListener(s,i);}),this.logger=E$7(t,this.name);}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const s={topic:t.topic,request:formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(s)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e);}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:s}=te$4("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(F$5.sync);}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=te$4("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values});}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e);}}registerEventListeners(){this.events.on(F$5.created,e=>{const t=F$5.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e});}),this.events.on(F$5.updated,e=>{const t=F$5.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e});}),this.events.on(F$5.deleted,e=>{const t=F$5.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e});}),this.core.heartbeat.on(r$7.pulse,()=>{this.cleanup();});}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{cjsExports$3.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(F$5.deleted,t,!1),e=!0);}),e&&this.persist();}catch(e){this.logger.warn(e);}}isInitialized(){if(!this.initialized){const{message:e}=te$4("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Xn$4=Object.defineProperty,Wn$4=(n,e,t)=>e in n?Xn$4(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,x$5=(n,e,t)=>Wn$4(n,typeof e!="symbol"?e+"":e,t);let Ri$4 = class Ri extends S$7{constructor(e,t){super(e,t),this.core=e,this.logger=t,x$5(this,"expirations",new Map),x$5(this,"events",new require$$0$3.EventEmitter),x$5(this,"name",Kt$4),x$5(this,"version",Bt$4),x$5(this,"cached",[]),x$5(this,"initialized",false),x$5(this,"storagePrefix",B$3),x$5(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.expirations.set(s.target,s)),this.cached=[],this.registerEventListeners(),this.initialized=true);}),x$5(this,"has",s=>{try{const i=this.formatTarget(s);return typeof this.getExpiration(i)<"u"}catch{return  false}}),x$5(this,"set",(s,i)=>{this.isInitialized();const r=this.formatTarget(s),o={target:r,expiry:i};this.expirations.set(r,o),this.checkExpiry(r,o),this.events.emit(M$4.created,{target:r,expiration:o});}),x$5(this,"get",s=>{this.isInitialized();const i=this.formatTarget(s);return this.getExpiration(i)}),x$5(this,"del",s=>{if(this.isInitialized(),this.has(s)){const i=this.formatTarget(s),r=this.getExpiration(i);this.expirations.delete(i),this.events.emit(M$4.deleted,{target:i,expiration:r});}}),x$5(this,"on",(s,i)=>{this.events.on(s,i);}),x$5(this,"once",(s,i)=>{this.events.once(s,i);}),x$5(this,"off",(s,i)=>{this.events.off(s,i);}),x$5(this,"removeListener",(s,i)=>{this.events.removeListener(s,i);}),this.logger=E$7(t,this.name);}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return uo$3(e);if(typeof e=="number")return fo$2(e);const{message:t}=te$4("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e);}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(M$4.sync);}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=te$4("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values});}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e);}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:s}=te$4("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(s),new Error(s)}return t}checkExpiry(e,t){const{expiry:s}=t;cjsExports$3.toMiliseconds(s)-Date.now()<=0&&this.expire(e,t);}expire(e,t){this.expirations.delete(e),this.events.emit(M$4.expired,{target:e,expiration:t});}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e));}registerEventListeners(){this.core.heartbeat.on(r$7.pulse,()=>this.checkExpirations()),this.events.on(M$4.created,e=>{const t=M$4.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist();}),this.events.on(M$4.expired,e=>{const t=M$4.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist();}),this.events.on(M$4.deleted,e=>{const t=M$4.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist();});}isInitialized(){if(!this.initialized){const{message:e}=te$4("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Zn$3=Object.defineProperty,Qn$4=(n,e,t)=>e in n?Zn$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,_$4=(n,e,t)=>Qn$4(n,typeof e!="symbol"?e+"":e,t);let xi$3 = class xi extends M$7{constructor(e,t,s){super(e,t,s),this.core=e,this.logger=t,this.store=s,_$4(this,"name",jt$5),_$4(this,"abortController"),_$4(this,"isDevEnv"),_$4(this,"verifyUrlV3",qt$4),_$4(this,"storagePrefix",B$3),_$4(this,"version",Oe$2),_$4(this,"publicKey"),_$4(this,"fetchPromise"),_$4(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&cjsExports$3.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()));}),_$4(this,"register",async i=>{if(!Ae$3()||this.isDevEnv)return;const r=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${r}&id=${o}&decryptedId=${a}`;try{const h=cjsExports$2.getDocument(),u=this.startAbortTimer(cjsExports$3.ONE_SECOND*5),g=await new Promise((m,A)=>{const l=()=>{window.removeEventListener("message",O),h.body.removeChild(y),A("attestation aborted");};this.abortController.signal.addEventListener("abort",l);const y=h.createElement("iframe");y.src=c,y.style.display="none",y.addEventListener("error",l,{signal:this.abortController.signal});const O=w=>{if(w.data&&typeof w.data=="string")try{const v=JSON.parse(w.data);if(v.type==="verify_attestation"){if(sn$7(v.attestation).payload.id!==o)return;clearInterval(u),h.body.removeChild(y),this.abortController.signal.removeEventListener("abort",l),window.removeEventListener("message",O),m(v.attestation===null?"":v.attestation);}}catch(v){this.logger.warn(v);}};h.body.appendChild(y),window.addEventListener("message",O,{signal:this.abortController.signal});});return this.logger.debug("jwt attestation",g),g}catch(h){this.logger.warn(h);}return ""}),_$4(this,"resolve",async i=>{if(this.isDevEnv)return "";const{attestationId:r,hash:o,encryptedId:a}=i;if(r===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(r){if(sn$7(r).payload.id!==a)return;const h=await this.isValidJwtAttestation(r);if(h){if(!h.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return h}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),_$4(this,"fetchAttestation",async(i,r)=>{this.logger.debug(`resolving attestation: ${i} from url: ${r}`);const o=this.startAbortTimer(cjsExports$3.ONE_SECOND*5),a=await fetch(`${r}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),_$4(this,"getVerifyUrl",i=>{let r=i||le$5;return Gt$5.includes(r)||(this.logger.info(`verify url: ${r}, not included in trusted list, assigning default: ${le$5}`),r=le$5),r}),_$4(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(cjsExports$3.FIVE_SECONDS),r=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await r.json()}catch(i){this.logger.warn(i);}}),_$4(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i;}),_$4(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0;}),_$4(this,"isValidJwtAttestation",async i=>{const r=await this.getPublicKey();try{if(r)return this.validateAttestation(i,r)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation");}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation");}}),_$4(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),_$4(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async r=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),r(o));});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),_$4(this,"validateAttestation",(i,r)=>{const o=gi$5(i,r.publicKey),a={hasExpired:cjsExports$3.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return {origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=E$7(t,this.name),this.abortController=new AbortController,this.isDevEnv=Eo$3(),this.init();}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return y$8(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjsExports$3.toMiliseconds(e))}};var eo$3=Object.defineProperty,to$4=(n,e,t)=>e in n?eo$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,Oi$3=(n,e,t)=>to$4(n,typeof e!="symbol"?e+"":e,t);let Ai$3 = class Ai extends O$4{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Oi$3(this,"context",Ht$3),Oi$3(this,"registerDeviceToken",async s=>{const{clientId:i,token:r,notificationType:o,enableEncrypted:a=false}=s,c=`${Yt$4}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:r,always_raw:a})});}),this.logger=E$7(t,this.context);}};var io$3=Object.defineProperty,Ni$3=Object.getOwnPropertySymbols,so$3=Object.prototype.hasOwnProperty,ro$3=Object.prototype.propertyIsEnumerable,qe$4=(n,e,t)=>e in n?io$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,pe$5=(n,e)=>{for(var t in e||(e={}))so$3.call(e,t)&&qe$4(n,t,e[t]);if(Ni$3)for(var t of Ni$3(e))ro$3.call(e,t)&&qe$4(n,t,e[t]);return n},E$6=(n,e,t)=>qe$4(n,typeof e!="symbol"?e+"":e,t);let $i$4 = class $i extends R$4{constructor(e,t,s=true){super(e,t,s),this.core=e,this.logger=t,E$6(this,"context",Xt$5),E$6(this,"storagePrefix",B$3),E$6(this,"storageVersion",Jt$5),E$6(this,"events",new Map),E$6(this,"shouldPersist",false),E$6(this,"init",async()=>{if(!Eo$3())try{const i={eventId:wo$3(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Yt$5(this.core.relayer.protocol,this.core.relayer.version,me$5)}}};await this.sendEvent([i]);}catch(i){this.logger.warn(i);}}),E$6(this,"createEvent",i=>{const{event:r="ERROR",type:o="",properties:{topic:a,trace:c}}=i,h=wo$3(),u=this.core.projectId||"",g=Date.now(),m=pe$5({eventId:h,timestamp:g,props:{event:r,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,m),this.shouldPersist=true),m}),E$6(this,"getEvent",i=>{const{eventId:r,topic:o}=i;if(r)return this.events.get(r);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return pe$5(pe$5({},a),this.setMethods(a.eventId))}),E$6(this,"deleteEvent",i=>{const{eventId:r}=i;this.events.delete(r),this.shouldPersist=true;}),E$6(this,"setEventListeners",()=>{this.core.heartbeat.on(r$7.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{cjsExports$3.fromMiliseconds(Date.now())-cjsExports$3.fromMiliseconds(i.timestamp)>Wt$5&&(this.events.delete(i.eventId),this.shouldPersist=true);});});}),E$6(this,"setMethods",i=>({addTrace:r=>this.addTrace(i,r),setError:r=>this.setError(i,r)})),E$6(this,"addTrace",(i,r)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(r),this.events.set(i,o),this.shouldPersist=true);}),E$6(this,"setError",(i,r)=>{const o=this.events.get(i);o&&(o.props.type=r,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=true);}),E$6(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=false;}),E$6(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(r=>{this.events.set(r.eventId,pe$5(pe$5({},r),this.setMethods(r.eventId)));});}catch(i){this.logger.warn(i);}}),E$6(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[r,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const r of i)this.events.delete(r.eventId),this.shouldPersist=!0;}catch(r){this.logger.warn(r);}}),E$6(this,"sendEvent",async i=>{const r=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Zt$3}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${me$5}${r}`,{method:"POST",body:JSON.stringify(i)})}),E$6(this,"getAppDomain",()=>Yr$6().url),this.logger=E$7(t,this.context),this.telemetryEnabled=s,s?this.restore().then(async()=>{await this.submit(),this.setEventListeners();}):this.persist();}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var no$3=Object.defineProperty,zi$4=Object.getOwnPropertySymbols,oo$3=Object.prototype.hasOwnProperty,ao$3=Object.prototype.propertyIsEnumerable,Ge$7=(n,e,t)=>e in n?no$3(n,e,{enumerable:true,configurable:true,writable:true,value:t}):n[e]=t,Li$4=(n,e)=>{for(var t in e||(e={}))oo$3.call(e,t)&&Ge$7(n,t,e[t]);if(zi$4)for(var t of zi$4(e))ao$3.call(e,t)&&Ge$7(n,t,e[t]);return n},f$8=(n,e,t)=>Ge$7(n,typeof e!="symbol"?e+"":e,t);let _e$6 = class _e extends h$a{constructor(e){var t;super(e),f$8(this,"protocol",xe$3),f$8(this,"version",Oe$2),f$8(this,"name",he$5),f$8(this,"relayUrl"),f$8(this,"projectId"),f$8(this,"customStoragePrefix"),f$8(this,"events",new require$$0$3.EventEmitter),f$8(this,"logger"),f$8(this,"heartbeat"),f$8(this,"relayer"),f$8(this,"crypto"),f$8(this,"storage"),f$8(this,"history"),f$8(this,"expirer"),f$8(this,"pairing"),f$8(this,"verify"),f$8(this,"echoClient"),f$8(this,"linkModeSupportedApps"),f$8(this,"eventClient"),f$8(this,"initialized",false),f$8(this,"logChunkController"),f$8(this,"on",(o,a)=>this.events.on(o,a)),f$8(this,"once",(o,a)=>this.events.once(o,a)),f$8(this,"off",(o,a)=>this.events.off(o,a)),f$8(this,"removeListener",(o,a)=>this.events.removeListener(o,a)),f$8(this,"dispatchEnvelope",({topic:o,message:a,sessionExists:c})=>{if(!o||!a)return;const h={topic:o,message:a,publishedAt:Date.now(),transportType:Q$1.link_mode};this.relayer.onLinkMessageEvent(h,{sessionExists:c});}),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||$e$4,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=k$7({level:typeof e?.logger=="string"&&e.logger?e.logger:mt$5.logger,name:he$5}),{logger:i,chunkLoggerController:r}=A$4({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=r,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}));}),this.logger=E$7(i,this.name),this.heartbeat=new i$a,this.crypto=new bi$3(this,this.logger,e?.keychain),this.history=new Si$3(this,this.logger),this.expirer=new Ri$4(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new h$b(Li$4(Li$4({},vt$2),e?.storageOptions)),this.relayer=new wi$3({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Pi$4(this,this.logger),this.verify=new xi$3(this,this.logger,this.storage),this.echoClient=new Ai$3(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new $i$4(this,this.logger,e?.telemetryEnabled);}static async init(e){const t=new _e(e);await t.initialize();const s=await t.crypto.getClientId();return await t.storage.setItem(Nt$3,s),t}get context(){return y$8(this.logger)}async start(){this.initialized||await this.initialize();}async getLogsBlob(){var e;return (e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(ze$5,this.linkModeSupportedApps));}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(ze$5)||[],this.initialized=!0,this.logger.info("Core Initialization Success");}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const co$3=_e$6;

    const De$4="wc",Le$5=2,Me$6="client",me$4=`${De$4}@${Le$5}:${Me$6}:`,_e$5={name:Me$6,logger:"error"},ke$5="WALLETCONNECT_DEEPLINK_CHOICE",pt$4="proposal",$e$3="Proposal expired",ht$4="session",Y$3=cjsExports$3.SEVEN_DAYS,dt$5="engine",N$4={wc_sessionPropose:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:true,tag:1100},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1101},reject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1120},autoReject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1121}},wc_sessionSettle:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1102},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1103}},wc_sessionUpdate:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1104},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1105}},wc_sessionExtend:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1106},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1107}},wc_sessionRequest:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:true,tag:1108},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1109}},wc_sessionEvent:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:true,tag:1110},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1111}},wc_sessionDelete:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1112},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1113}},wc_sessionPing:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1114},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjsExports$3.ONE_HOUR,prompt:true,tag:1116},res:{ttl:cjsExports$3.ONE_HOUR,prompt:false,tag:1117},reject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1118},autoReject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1119}}},Ee$6={min:cjsExports$3.FIVE_MINUTES,max:cjsExports$3.SEVEN_DAYS},$$5={idle:"IDLE",active:"ACTIVE"},Ke$7={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},ut$6="request",gt$3=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],yt$3="wc",wt$4="auth",mt$4="authKeys",_t$5="pairingTopics",Et$4="requests",ce$4=`${yt$3}@${1.5}:${wt$4}:`,le$4=`${ce$4}:PUB_KEY`;var Rs$4=Object.defineProperty,fs$2=Object.defineProperties,Is$4=Object.getOwnPropertyDescriptors,St$6=Object.getOwnPropertySymbols,vs$4=Object.prototype.hasOwnProperty,qs$4=Object.prototype.propertyIsEnumerable,Ue$4=(S,n,e)=>n in S?Rs$4(S,n,{enumerable:true,configurable:true,writable:true,value:e}):S[n]=e,v$6=(S,n)=>{for(var e in n||(n={}))vs$4.call(n,e)&&Ue$4(S,e,n[e]);if(St$6)for(var e of St$6(n))qs$4.call(n,e)&&Ue$4(S,e,n[e]);return S},x$4=(S,n)=>fs$2(S,Is$4(n)),c$9=(S,n,e)=>Ue$4(S,typeof n!="symbol"?n+"":n,e);let Ts$4 = class Ts extends V$8{constructor(n){super(n),c$9(this,"name",dt$5),c$9(this,"events",new require$$0$3),c$9(this,"initialized",false),c$9(this,"requestQueue",{state:$$5.idle,queue:[]}),c$9(this,"sessionRequestQueue",{state:$$5.idle,queue:[]}),c$9(this,"requestQueueDelay",cjsExports$3.ONE_SECOND),c$9(this,"expectedPairingMethodMap",new Map),c$9(this,"recentlyDeletedMap",new Map),c$9(this,"recentlyDeletedLimit",200),c$9(this,"relayMessageCache",[]),c$9(this,"pendingSessions",new Map),c$9(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(N$4)}),this.initialized=true,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue();},cjsExports$3.toMiliseconds(this.requestQueueDelay)));}),c$9(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=x$4(v$6({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:o,relays:a}=t;let l=s,u,g=false;try{if(l){const R=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=R.active;}}catch(R){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),R}if(!l||!g){const{topic:R,uri:D}=await this.client.core.pairing.create();l=R,u=D;}if(!l){const{message:R}=te$4("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(R)}const h=await this.client.core.crypto.generateKeyPair(),d=N$4.wc_sessionPropose.req.ttl||cjsExports$3.FIVE_MINUTES,y=ho$3(d),m=x$4(v$6({requiredNamespaces:i,optionalNamespaces:r,relays:a??[{protocol:Pt$4}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:l},o&&{sessionProperties:o}),{id:payloadId()}),I=go$3("session_connect",m.id),{reject:p,resolve:E,done:V}=co$4(d,$e$3),q=({id:R})=>{R===m.id&&(this.client.events.off("proposal_expire",q),this.pendingSessions.delete(m.id),this.events.emit(I,{error:{message:$e$3,code:0}}));};return this.client.events.on("proposal_expire",q),this.events.once(I,({error:R,session:D})=>{this.client.events.off("proposal_expire",q),R?p(R):D&&E(D);}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:m,throwOnFailedPublish:true,clientRpcId:m.id}),await this.setProposal(m.id,m),{uri:u,approval:V}}),c$9(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error("pair() failed"),t}}),c$9(this,"approve",async e=>{var t,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(t=e?.id)==null?void 0:t.toString(),trace:[qs$5.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow();}catch(P){throw r.setError(Gs$3.no_internet_connection),P}try{await this.isValidProposalId(e?.id);}catch(P){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),r.setError(Gs$3.proposal_not_found),P}try{await this.isValidApprove(e);}catch(P){throw this.client.logger.error("approve() -> isValidApprove() failed"),r.setError(Gs$3.session_approve_namespace_validation_failure),P}const{id:o,relayProtocol:a,namespaces:l,sessionProperties:u,sessionConfig:g}=e,h=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:d,proposer:y,requiredNamespaces:m,optionalNamespaces:I}=h;let p=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:d});p||(p=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:qs$5.session_approve_started,properties:{topic:d,trace:[qs$5.session_approve_started,qs$5.session_namespaces_validation_success]}}));const E=await this.client.core.crypto.generateKeyPair(),V=y.publicKey,q=await this.client.core.crypto.generateSharedKey(E,V),R=v$6(v$6({relay:{protocol:a??"irn"},namespaces:l,controller:{publicKey:E,metadata:this.client.metadata},expiry:ho$3(Y$3)},u&&{sessionProperties:u}),g&&{sessionConfig:g}),D=Q$1.relay;p.addTrace(qs$5.subscribing_session_topic);try{await this.client.core.relayer.subscribe(q,{transportType:D});}catch(P){throw p.setError(Gs$3.subscribe_session_topic_failure),P}p.addTrace(qs$5.subscribe_session_topic_success);const ee=x$4(v$6({},R),{topic:q,requiredNamespaces:m,optionalNamespaces:I,pairingTopic:d,acknowledged:false,self:R.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:E,transportType:Q$1.relay});await this.client.session.set(q,ee),p.addTrace(qs$5.store_session);try{p.addTrace(qs$5.publishing_session_settle),await this.sendRequest({topic:q,method:"wc_sessionSettle",params:R,throwOnFailedPublish:!0}).catch(P=>{throw p?.setError(Gs$3.session_settle_publish_failure),P}),p.addTrace(qs$5.session_settle_publish_success),p.addTrace(qs$5.publishing_session_approve),await this.sendResult({id:o,topic:d,result:{relay:{protocol:a??"irn"},responderPublicKey:E},throwOnFailedPublish:!0}).catch(P=>{throw p?.setError(Gs$3.session_approve_publish_failure),P}),p.addTrace(qs$5.session_approve_publish_success);}catch(P){throw this.client.logger.error(P),this.client.session.delete(q,de$6("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(q),P}return this.client.core.eventClient.deleteEvent({eventId:p.eventId}),await this.client.core.pairing.updateMetadata({topic:d,metadata:y.metadata}),await this.client.proposal.delete(o,de$6("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:d}),await this.setExpiry(q,ho$3(Y$3)),{topic:q,acknowledged:()=>Promise.resolve(this.client.session.get(q))}}),c$9(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e);}catch(r){throw this.client.logger.error("reject() -> isValidReject() failed"),r}const{id:t,reason:s}=e;let i;try{i=this.client.proposal.get(t).pairingTopic;}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),r}i&&(await this.sendError({id:t,topic:i,error:s,rpcOpts:N$4.wc_sessionPropose.reject}),await this.client.proposal.delete(t,de$6("USER_DISCONNECTED")));}),c$9(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e);}catch(g){throw this.client.logger.error("update() -> isValidUpdate() failed"),g}const{topic:t,namespaces:s}=e,{done:i,resolve:r,reject:o}=co$4(),a=payloadId(),l=getBigIntRpcId().toString(),u=this.client.session.get(t).namespaces;return this.events.once(go$3("session_update",a),({error:g})=>{g?o(g):r();}),await this.client.session.update(t,{namespaces:s}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:true,clientRpcId:a,relayRpcId:l}).catch(g=>{this.client.logger.error(g),this.client.session.update(t,{namespaces:u}),o(g);}),{acknowledged:i}}),c$9(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e);}catch(a){throw this.client.logger.error("extend() -> isValidExtend() failed"),a}const{topic:t}=e,s=payloadId(),{done:i,resolve:r,reject:o}=co$4();return this.events.once(go$3("session_extend",s),({error:a})=>{a?o(a):r();}),await this.setExpiry(t,ho$3(Y$3)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:true}).catch(a=>{o(a);}),{acknowledged:i}}),c$9(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e);}catch(p){throw this.client.logger.error("request() -> isValidRequest() failed"),p}const{chainId:t,request:s,topic:i,expiry:r=N$4.wc_sessionRequest.req.ttl}=e,o=this.client.session.get(i);o?.transportType===Q$1.relay&&await this.confirmOnlineStateOrThrow();const a=payloadId(),l=getBigIntRpcId().toString(),{done:u,resolve:g,reject:h}=co$4(r,"Request expired. Please try again.");this.events.once(go$3("session_request",a),({error:p,result:E})=>{p?h(p):g(E);});const d="wc_sessionRequest",y=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(y)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:x$4(v$6({},s),{expiryTimestamp:ho$3(r)}),chainId:t},expiry:r,throwOnFailedPublish:true,appLink:y}).catch(p=>h(p)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:t,id:a}),await u();const m={request:x$4(v$6({},s),{expiryTimestamp:ho$3(r)}),chainId:t},I=this.shouldSetTVF(d,m);return await Promise.all([new Promise(async p=>{await this.sendRequest(v$6({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:m,expiry:r,throwOnFailedPublish:true},I&&{tvf:this.getTVFParams(a,m)})).catch(E=>h(E)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:t,id:a}),p();}),new Promise(async p=>{var E;if(!((E=o.sessionConfig)!=null&&E.disableDeepLink)){const V=await mo$3(this.client.core.storage,ke$5);await yo$3({id:a,topic:i,wcDeepLink:V});}p();}),u()]).then(p=>p[2])}),c$9(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:s}=e,{id:i}=s,r=this.client.session.get(t);r.transportType===Q$1.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(r.peer.metadata,r.transportType);isJsonRpcResult(s)?await this.sendResult({id:i,topic:t,result:s.result,throwOnFailedPublish:true,appLink:o}):isJsonRpcError(s)&&await this.sendError({id:i,topic:t,error:s.error,appLink:o}),this.cleanupAfterResponse(e);}),c$9(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e);}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:t}=e;if(this.client.session.keys.includes(t)){const s=payloadId(),i=getBigIntRpcId().toString(),{done:r,resolve:o,reject:a}=co$4();this.events.once(go$3("session_ping",s),({error:l})=>{l?a(l):o();}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:true,clientRpcId:s,relayRpcId:i}),r()]);}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}));}),c$9(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:s,chainId:i}=e,r=getBigIntRpcId().toString(),o=payloadId();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:true,relayRpcId:r,clientRpcId:o});}),c$9(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:de$6("USER_DISCONNECTED"),throwOnFailedPublish:true}),await this.deleteSession({topic:t,emitEvent:false});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else {const{message:s}=te$4("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(s)}}),c$9(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>$i$5(t,e)))),c$9(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),c$9(this,"authenticate",async(e,t)=>{var s;this.isInitialized(),this.isValidAuthenticate(e);const i=t&&this.client.core.linkModeSupportedApps.includes(t)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?Q$1.link_mode:Q$1.relay;r===Q$1.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:a="",uri:l,domain:u,nonce:g,type:h,exp:d,nbf:y,methods:m=[],expiry:I}=e,p=[...e.resources||[]],{topic:E,uri:V}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:r});this.client.logger.info({message:"Generated new pairing",pairing:{topic:E,uri:V}});const q=await this.client.core.crypto.generateKeyPair(),R=oi$5(q);if(await Promise.all([this.client.auth.authKeys.set(le$4,{responseTopic:R,publicKey:q}),this.client.auth.pairingTopics.set(R,{topic:R,pairingTopic:E})]),await this.client.core.relayer.subscribe(R,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${E}`),m.length>0){const{namespace:b}=Ye$4(o[0]);let L=ts$3(b,"request",m);Me$8(p)&&(L=ns$2(L,p.pop())),p.push(L);}const D=I&&I>N$4.wc_sessionAuthenticate.req.ttl?I:N$4.wc_sessionAuthenticate.req.ttl,ee={authPayload:{type:h??"caip122",chains:o,statement:a,aud:l,domain:u,version:"1",nonce:g,iat:new Date().toISOString(),exp:d,nbf:y,resources:p},requester:{publicKey:q,metadata:this.client.metadata},expiryTimestamp:ho$3(D)},P={eip155:{chains:o,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},X={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:E,proposer:{publicKey:q,metadata:this.client.metadata},expiryTimestamp:ho$3(N$4.wc_sessionPropose.req.ttl),id:payloadId()},{done:ft,resolve:Fe,reject:Re}=co$4(D,"Request expired"),te=payloadId(),pe=go$3("session_connect",X.id),fe=go$3("session_request",te),he=async({error:b,session:L})=>{this.events.off(fe,Ie),b?Re(b):L&&Fe({session:L});},Ie=async b=>{var L,je,Qe;if(await this.deletePendingAuthRequest(te,{message:"fulfilled",code:0}),b.error){const ie=de$6("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return b.error.code===ie.code?void 0:(this.events.off(pe,he),Re(b.error.message))}await this.deleteProposal(X.id),this.events.off(pe,he);const{cacaos:He,responder:Q}=b.result,qe=[],ze=[];for(const ie of He){await Yo$3({cacao:ie,projectId:this.client.core.projectId})||(this.client.logger.error(ie,"Signature verification failed"),Re(de$6("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Te}=ie,Ne=Me$8(Te.resources),Ye=[On$3(Te.iss)],It=ut$7(Te.iss);if(Ne){const Pe=rs$2(Ne),vt=os$2(Ne);qe.push(...Pe),Ye.push(...vt);}for(const Pe of Ye)ze.push(`${Pe}:${It}`);}const se=await this.client.core.crypto.generateSharedKey(q,Q.publicKey);let de;qe.length>0&&(de={topic:se,acknowledged:true,self:{publicKey:q,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:ho$3(Y$3),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:E,namespaces:Ti$5([...new Set(qe)],[...new Set(ze)]),transportType:r},await this.client.core.relayer.subscribe(se,{transportType:r}),await this.client.session.set(se,de),E&&await this.client.core.pairing.updateMetadata({topic:E,metadata:Q.metadata}),de=this.client.session.get(se)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(je=Q.metadata.redirect)!=null&&je.linkMode&&(Qe=Q.metadata.redirect)!=null&&Qe.universal&&t&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(se,{transportType:Q$1.link_mode})),Fe({auths:He,session:de});};this.events.once(pe,he),this.events.once(fe,Ie);let ve;try{if(i){const b=formatJsonRpcRequest("wc_sessionAuthenticate",ee,te);this.client.core.history.set(E,b);const L=await this.client.core.crypto.encode("",b,{type:_e$7,encoding:Qs$5});ve=Ei$4(t,E,L);}else await Promise.all([this.sendRequest({topic:E,method:"wc_sessionAuthenticate",params:ee,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:te}),this.sendRequest({topic:E,method:"wc_sessionPropose",params:X,expiry:N$4.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:X.id})]);}catch(b){throw this.events.off(pe,he),this.events.off(fe,Ie),b}return await this.setProposal(X.id,X),await this.setAuthRequest(te,{request:x$4(v$6({},ee),{verifyContext:{}}),pairingTopic:E,transportType:r}),{uri:ve??V,response:ft}}),c$9(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:s}=e,i=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[Hs$3.authenticated_session_approve_started]}});try{this.isInitialized();}catch(I){throw i.setError(Ys$3.no_internet_connection),I}const r=this.getPendingAuthRequest(t);if(!r)throw i.setError(Ys$3.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${t}`);const o=r.transportType||Q$1.relay;o===Q$1.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=oi$5(a),g={type:Ie$4,receiverPublicKey:a,senderPublicKey:l},h=[],d=[];for(const I of s){if(!await Yo$3({cacao:I,projectId:this.client.core.projectId})){i.setError(Ys$3.invalid_cacao);const R=de$6("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:u,error:R,encodeOpts:g}),new Error(R.message)}i.addTrace(Hs$3.cacaos_verified);const{p}=I,E=Me$8(p.resources),V=[On$3(p.iss)],q=ut$7(p.iss);if(E){const R=rs$2(E),D=os$2(E);h.push(...R),V.push(...D);}for(const R of V)d.push(`${R}:${q}`);}const y=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(Hs$3.create_authenticated_session_topic);let m;if(h?.length>0){m={topic:y,acknowledged:true,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:ho$3(Y$3),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:r.pairingTopic,namespaces:Ti$5([...new Set(h)],[...new Set(d)]),transportType:o},i.addTrace(Hs$3.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:o});}catch(I){throw i.setError(Ys$3.subscribe_authenticated_session_topic_failure),I}i.addTrace(Hs$3.subscribe_authenticated_session_topic_success),await this.client.session.set(y,m),i.addTrace(Hs$3.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata});}i.addTrace(Hs$3.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:t,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:g,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,o)});}catch(I){throw i.setError(Ys$3.authenticated_session_approve_publish_failure),I}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),c$9(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:s}=e,i=this.getPendingAuthRequest(t);if(!i)throw new Error(`Could not find pending auth request with id ${t}`);i.transportType===Q$1.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),a=oi$5(r),l={type:Ie$4,receiverPublicKey:r,senderPublicKey:o};await this.sendError({id:t,topic:a,error:s,encodeOpts:l,rpcOpts:N$4.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,de$6("USER_DISCONNECTED"));}),c$9(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:s}=e;return In$4(t,s)}),c$9(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e);}catch(e){this.client.logger.error(e);}},50);}),c$9(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,o;return ((r=i.peerMetadata)==null?void 0:r.url)&&((o=i.peerMetadata)==null?void 0:o.url)===e.peer.metadata.url&&i.topic&&i.topic!==t.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished");}catch(t){this.client.logger.error(t);}}),c$9(this,"deleteSession",async e=>{var t;const{topic:s,expirerHasDeleted:i=false,emitEvent:r=true,id:o=0}=e,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,de$6("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(ke$5).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,de$6("USER_DISCONNECTED"));}),s===((t=this.sessionRequestQueue.queue[0])==null?void 0:t.topic)&&(this.sessionRequestQueue.state=$$5.idle),r&&this.client.events.emit("session_delete",{id:o,topic:s});}),c$9(this,"deleteProposal",async(e,t)=>{if(t)try{const s=this.client.proposal.get(e),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(Gs$3.proposal_expired);}catch{}await Promise.all([this.client.proposal.delete(e,de$6("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal");}),c$9(this,"deletePendingSessionRequest",async(e,t,s=false)=>{await Promise.all([this.client.pendingRequest.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==e),s&&(this.sessionRequestQueue.state=$$5.idle,this.client.events.emit("session_request_expire",{id:e}));}),c$9(this,"deletePendingAuthRequest",async(e,t,s=false)=>{await Promise.all([this.client.auth.requests.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)]);}),c$9(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}));}),c$9(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,ho$3(N$4.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t);}),c$9(this,"setAuthRequest",async(e,t)=>{const{request:s,pairingTopic:i,transportType:r=Q$1.relay}=t;this.client.core.expirer.set(e,s.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:e,pairingTopic:i,verifyContext:s.verifyContext,transportType:r});}),c$9(this,"setPendingSessionRequest",async e=>{const{id:t,topic:s,params:i,verifyContext:r}=e,o=i.request.expiryTimestamp||ho$3(N$4.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,o),await this.client.pendingRequest.set(t,{id:t,topic:s,params:i,verifyContext:r});}),c$9(this,"sendRequest",async e=>{const{topic:t,method:s,params:i,expiry:r,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:l,appLink:u,tvf:g}=e,h=formatJsonRpcRequest(s,i,a);let d;const y=!!u;try{const p=y?Qs$5:At$5;d=await this.client.core.crypto.encode(t,h,{encoding:p});}catch(p){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),p}let m;if(gt$3.includes(s)){const p=si$5(JSON.stringify(h)),E=si$5(d);m=await this.client.core.verify.register({id:E,decryptedId:p});}const I=N$4[s].req;if(I.attestation=m,r&&(I.ttl=r),o&&(I.id=o),this.client.core.history.set(t,h),y){const p=Ei$4(u,t,d);await global.Linking.openURL(p,this.client.name);}else {const p=N$4[s].req;r&&(p.ttl=r),o&&(p.id=o),p.tvf=x$4(v$6({},g),{correlationId:h.id}),l?(p.internal=x$4(v$6({},p.internal),{throwOnFailedPublish:true}),await this.client.core.relayer.publish(t,d,p)):this.client.core.relayer.publish(t,d,p).catch(E=>this.client.logger.error(E));}return h.id}),c$9(this,"sendResult",async e=>{const{id:t,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:o,appLink:a}=e,l=formatJsonRpcResult(t,i);let u;const g=a&&typeof(global==null?void 0:global.Linking)<"u";try{const y=g?Qs$5:At$5;u=await this.client.core.crypto.encode(s,l,x$4(v$6({},o||{}),{encoding:y}));}catch(y){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),y}let h,d;try{h=await this.client.core.history.get(s,t);const y=h.request;try{this.shouldSetTVF(y.method,y.params)&&(d=this.getTVFParams(t,y.params,i));}catch(m){this.client.logger.warn("sendResult() -> getTVFParams() failed",m);}}catch(y){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${t}) failed`),y}if(g){const y=Ei$4(a,s,u);await global.Linking.openURL(y,this.client.name);}else {const y=h.request.method,m=N$4[y].res;m.tvf=x$4(v$6({},d),{correlationId:t}),r?(m.internal=x$4(v$6({},m.internal),{throwOnFailedPublish:true}),await this.client.core.relayer.publish(s,u,m)):this.client.core.relayer.publish(s,u,m).catch(I=>this.client.logger.error(I));}await this.client.core.history.resolve(l);}),c$9(this,"sendError",async e=>{const{id:t,topic:s,error:i,encodeOpts:r,rpcOpts:o,appLink:a}=e,l=formatJsonRpcError(t,i);let u;const g=a&&typeof(global==null?void 0:global.Linking)<"u";try{const d=g?Qs$5:At$5;u=await this.client.core.crypto.encode(s,l,x$4(v$6({},r||{}),{encoding:d}));}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let h;try{h=await this.client.core.history.get(s,t);}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${t}) failed`),d}if(g){const d=Ei$4(a,s,u);await global.Linking.openURL(d,this.client.name);}else {const d=h.request.method,y=o||N$4[d].res;this.client.core.relayer.publish(s,u,y);}await this.client.core.history.resolve(l);}),c$9(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(s=>{let i=false;po$3(s.expiry)&&(i=true),this.client.core.crypto.keychain.has(s.topic)||(i=true),i&&e.push(s.topic);}),this.client.proposal.getAll().forEach(s=>{po$3(s.expiryTimestamp)&&t.push(s.id);}),await Promise.all([...e.map(s=>this.deleteSession({topic:s})),...t.map(s=>this.deleteProposal(s))]);}),c$9(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue();}),c$9(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===$$5.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$$5.active;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e);}catch(t){this.client.logger.warn(t);}}this.requestQueue.state=$$5.idle;}),c$9(this,"processRequest",async e=>{const{topic:t,payload:s,attestation:i,transportType:r,encryptedId:o}=e,a=s.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case "wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:s,attestation:i,encryptedId:o});case "wc_sessionSettle":return await this.onSessionSettleRequest(t,s);case "wc_sessionUpdate":return await this.onSessionUpdateRequest(t,s);case "wc_sessionExtend":return await this.onSessionExtendRequest(t,s);case "wc_sessionPing":return await this.onSessionPingRequest(t,s);case "wc_sessionDelete":return await this.onSessionDeleteRequest(t,s);case "wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});case "wc_sessionEvent":return await this.onSessionEventRequest(t,s);case "wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),c$9(this,"onRelayEventResponse",async e=>{const{topic:t,payload:s,transportType:i}=e,r=(await this.client.core.history.get(t,s.id)).request.method;switch(r){case "wc_sessionPropose":return this.onSessionProposeResponse(t,s,i);case "wc_sessionSettle":return this.onSessionSettleResponse(t,s);case "wc_sessionUpdate":return this.onSessionUpdateResponse(t,s);case "wc_sessionExtend":return this.onSessionExtendResponse(t,s);case "wc_sessionPing":return this.onSessionPingResponse(t,s);case "wc_sessionRequest":return this.onSessionRequestResponse(t,s);case "wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),c$9(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:s}=te$4("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),c$9(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:s}=e,i=this.expectedPairingMethodMap.get(t);return !i||i.includes(s)?false:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),c$9(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:s,attestation:i,encryptedId:r}=e,{params:o,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:t});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(J$4.proposal_listener_not_found)),this.isValidConnect(v$6({},s.params));const u=o.expiryTimestamp||ho$3(N$4.wc_sessionPropose.req.ttl),g=v$6({id:a,pairingTopic:t,expiryTimestamp:u},o);await this.setProposal(a,g);const h=await this.getVerifyContext({attestationId:i,hash:si$5(JSON.stringify(s)),encryptedId:r,metadata:g.proposer.metadata});l?.addTrace(q$3.emit_session_proposal),this.client.events.emit("session_proposal",{id:a,params:g,verifyContext:h});}catch(l){await this.sendError({id:a,topic:t,error:l,rpcOpts:N$4.wc_sessionPropose.autoReject}),this.client.logger.error(l);}}),c$9(this,"onSessionProposeResponse",async(e,t,s)=>{const{id:i}=t;if(isJsonRpcResult(t)){const{result:r}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:r});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:e,proposalId:i,publicKey:a});const g=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:e});}else if(isJsonRpcError(t)){await this.client.proposal.delete(i,de$6("USER_DISCONNECTED"));const r=go$3("session_connect",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:t.error});}}),c$9(this,"onSessionSettleRequest",async(e,t)=>{const{id:s,params:i}=t;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:o,expiry:a,namespaces:l,sessionProperties:u,sessionConfig:g}=t.params,h=[...this.pendingSessions.values()].find(m=>m.sessionTopic===e);if(!h)return this.client.logger.error(`Pending session not found for topic ${e}`);const d=this.client.proposal.get(h.proposalId),y=x$4(v$6(v$6({topic:e,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:d.requiredNamespaces,optionalNamespaces:d.optionalNamespaces,controller:o.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},u&&{sessionProperties:u}),g&&{sessionConfig:g}),{transportType:Q$1.relay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:y.peer.metadata}),this.client.events.emit("session_connect",{session:y}),this.events.emit(go$3("session_connect",h.proposalId),{session:y}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0});}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r);}}),c$9(this,"onSessionSettleResponse",async(e,t)=>{const{id:s}=t;isJsonRpcResult(t)?(await this.client.session.update(e,{acknowledged:true}),this.events.emit(go$3("session_approve",s),{})):isJsonRpcError(t)&&(await this.client.session.delete(e,de$6("USER_DISCONNECTED")),this.events.emit(go$3("session_approve",s),{error:t.error}));}),c$9(this,"onSessionUpdateRequest",async(e,t)=>{const{params:s,id:i}=t;try{const r=`${e}_session_update`,o=Zi$3.get(r);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:e,error:de$6("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(v$6({topic:e},s));try{Zi$3.set(r,i),await this.client.session.update(e,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:e,result:!0,throwOnFailedPublish:!0});}catch(a){throw Zi$3.delete(r),a}this.client.events.emit("session_update",{id:i,topic:e,params:s});}catch(r){await this.sendError({id:i,topic:e,error:r}),this.client.logger.error(r);}}),c$9(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),c$9(this,"onSessionUpdateResponse",(e,t)=>{const{id:s}=t,i=go$3("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);isJsonRpcResult(t)?this.events.emit(go$3("session_update",s),{}):isJsonRpcError(t)&&this.events.emit(go$3("session_update",s),{error:t.error});}),c$9(this,"onSessionExtendRequest",async(e,t)=>{const{id:s}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,ho$3(Y$3)),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:e});}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i);}}),c$9(this,"onSessionExtendResponse",(e,t)=>{const{id:s}=t,i=go$3("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);isJsonRpcResult(t)?this.events.emit(go$3("session_extend",s),{}):isJsonRpcError(t)&&this.events.emit(go$3("session_extend",s),{error:t.error});}),c$9(this,"onSessionPingRequest",async(e,t)=>{const{id:s}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:e});}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i);}}),c$9(this,"onSessionPingResponse",(e,t)=>{const{id:s}=t,i=go$3("session_ping",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);setTimeout(()=>{isJsonRpcResult(t)?this.events.emit(go$3("session_ping",s),{}):isJsonRpcError(t)&&this.events.emit(go$3("session_ping",s),{error:t.error});},500);}),c$9(this,"onSessionDeleteRequest",async(e,t)=>{const{id:s}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(T$4.publish,async()=>{i(await this.deleteSession({topic:e,id:s}));});}),this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:de$6("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i));}catch(i){this.client.logger.error(i);}}),c$9(this,"onSessionRequest",async e=>{var t,s,i;const{topic:r,payload:o,attestation:a,encryptedId:l,transportType:u}=e,{id:g,params:h}=o;try{await this.isValidRequest(v$6({topic:r},h));const d=this.client.session.get(r),y=await this.getVerifyContext({attestationId:a,hash:si$5(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",h,g))),encryptedId:l,metadata:d.peer.metadata,transportType:u}),m={id:g,topic:r,params:h,verifyContext:y};await this.setPendingSessionRequest(m),u===Q$1.link_mode&&(t=d.peer.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue());}catch(d){await this.sendError({id:g,topic:r,error:d}),this.client.logger.error(d);}}),c$9(this,"onSessionRequestResponse",(e,t)=>{const{id:s}=t,i=go$3("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);isJsonRpcResult(t)?this.events.emit(go$3("session_request",s),{result:t.result}):isJsonRpcError(t)&&this.events.emit(go$3("session_request",s),{error:t.error});}),c$9(this,"onSessionEventRequest",async(e,t)=>{const{id:s,params:i}=t;try{const r=`${e}_session_event_${i.event.name}`,o=Zi$3.get(r);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(v$6({topic:e},i)),this.client.events.emit("session_event",{id:s,topic:e,params:i}),Zi$3.set(r,s);}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r);}}),c$9(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:s}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),isJsonRpcResult(t)?this.events.emit(go$3("session_request",s),{result:t.result}):isJsonRpcError(t)&&this.events.emit(go$3("session_request",s),{error:t.error});}),c$9(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:s,payload:i,attestation:r,encryptedId:o,transportType:a}=e;try{const{requester:l,authPayload:u,expiryTimestamp:g}=i.params,h=await this.getVerifyContext({attestationId:r,hash:si$5(JSON.stringify(i)),encryptedId:o,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:g};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===Q$1.link_mode&&(t=l.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h});}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:Ie$4,receiverPublicKey:u,senderPublicKey:g};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:N$4.wc_sessionAuthenticate.autoReject,appLink:h});}}),c$9(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e);}),c$9(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$$5.idle,this.processSessionRequestQueue();},cjsExports$3.toMiliseconds(this.requestQueueDelay));}),c$9(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===e&&i.request.method==="wc_sessionRequest").forEach(i=>{const r=i.request.id,o=go$3("session_request",r);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(go$3("session_request",i.request.id),{error:t});});}),c$9(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===$$5.active){this.client.logger.info("session request queue is already active.");return}const e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=$$5.active,this.emitSessionRequest(e);}catch(t){this.client.logger.error(t);}}),c$9(this,"emitSessionRequest",e=>{this.client.events.emit("session_request",e);}),c$9(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(s=>s.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id)});}),c$9(this,"isValidConnect",async e=>{if(!Di$5(e)){const{message:a}=te$4("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(a)}const{pairingTopic:t,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,relays:o}=e;if(ae$3(t)||await this.isValidPairingTopic(t),!Ci$5(o)){const{message:a}=te$4("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(a)}!ae$3(s)&&qe$5(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!ae$3(i)&&qe$5(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),ae$3(r)||this.validateSessionProps(r,"sessionProperties");}),c$9(this,"validateNamespaces",(e,t)=>{const s=ji$4(e,"connect()",t);if(s)throw new Error(s.message)}),c$9(this,"isValidApprove",async e=>{if(!Di$5(e))throw new Error(te$4("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:s,relayProtocol:i,sessionProperties:r}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=Ir$6(s,"approve()");if(a)throw new Error(a.message);const l=Nr$6(o.requiredNamespaces,s,"approve()");if(l)throw new Error(l.message);if(!q$4(i,true)){const{message:u}=te$4("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(u)}ae$3(r)||this.validateSessionProps(r,"sessionProperties");}),c$9(this,"isValidReject",async e=>{if(!Di$5(e)){const{message:i}=te$4("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(i)}const{id:t,reason:s}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!Mi$4(s)){const{message:i}=te$4("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),c$9(this,"isValidSessionSettleRequest",e=>{if(!Di$5(e)){const{message:l}=te$4("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(l)}const{relay:t,controller:s,namespaces:i,expiry:r}=e;if(!Ar$6(t)){const{message:l}=te$4("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const o=Bi$3(s,"onSessionSettleRequest()");if(o)throw new Error(o.message);const a=Ir$6(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);if(po$3(r)){const{message:l}=te$4("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),c$9(this,"isValidUpdate",async e=>{if(!Di$5(e)){const{message:a}=te$4("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(a)}const{topic:t,namespaces:s}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const i=this.client.session.get(t),r=Ir$6(s,"update()");if(r)throw new Error(r.message);const o=Nr$6(i.requiredNamespaces,s,"update()");if(o)throw new Error(o.message)}),c$9(this,"isValidExtend",async e=>{if(!Di$5(e)){const{message:s}=te$4("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(s)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);}),c$9(this,"isValidRequest",async e=>{if(!Di$5(e)){const{message:a}=te$4("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(a)}const{topic:t,request:s,chainId:i,expiry:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:o}=this.client.session.get(t);if(!Fi$4(o,i)){const{message:a}=te$4("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(a)}if(!Vi$4(s)){const{message:a}=te$4("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!qi$4(o,i,s.method)){const{message:a}=te$4("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(a)}if(r&&!Ji$2(r,Ee$6)){const{message:a}=te$4("MISSING_OR_INVALID",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${Ee$6.min} and ${Ee$6.max}`);throw new Error(a)}}),c$9(this,"isValidRespond",async e=>{var t;if(!Di$5(e)){const{message:r}=te$4("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(r)}const{topic:s,response:i}=e;try{await this.isValidSessionTopic(s);}catch(r){throw (t=e?.response)!=null&&t.id&&this.cleanupAfterResponse(e),r}if(!Hi$3(i)){const{message:r}=te$4("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(r)}}),c$9(this,"isValidPing",async e=>{if(!Di$5(e)){const{message:s}=te$4("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t);}),c$9(this,"isValidEmit",async e=>{if(!Di$5(e)){const{message:o}=te$4("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(o)}const{topic:t,event:s,chainId:i}=e;await this.isValidSessionTopic(t);const{namespaces:r}=this.client.session.get(t);if(!Fi$4(r,i)){const{message:o}=te$4("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(o)}if(!Ki$4(s)){const{message:o}=te$4("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!Gi$2(r,i,s.name)){const{message:o}=te$4("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}}),c$9(this,"isValidDisconnect",async e=>{if(!Di$5(e)){const{message:s}=te$4("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t);}),c$9(this,"isValidAuthenticate",e=>{const{chains:t,uri:s,domain:i,nonce:r}=e;if(!Array.isArray(t)||t.length===0)throw new Error("chains is required and must be a non-empty array");if(!q$4(s,false))throw new Error("uri is required parameter");if(!q$4(i,false))throw new Error("domain is required parameter");if(!q$4(r,false))throw new Error("nonce is required parameter");if([...new Set(t.map(a=>Ye$4(a).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=Ye$4(t[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),c$9(this,"getVerifyContext",async e=>{const{attestationId:t,hash:s,encryptedId:i,metadata:r,transportType:o}=e,a={verified:{verifyUrl:r.verifyUrl||le$5,validation:"UNKNOWN",origin:r.url||""}};try{if(o===Q$1.link_mode){const u=this.getAppLinkIfEnabled(r,o);return a.verified.validation=u&&new URL(u).origin===new URL(r.url).origin?"VALID":"INVALID",a}const l=await this.client.core.verify.resolve({attestationId:t,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?"VALID":"INVALID");}catch(l){this.client.logger.warn(l);}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),c$9(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach(s=>{if(!q$4(s,false)){const{message:i}=te$4("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`);throw new Error(i)}});}),c$9(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return typeof t=="object"?t:void 0}),c$9(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r);}}}),c$9(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:s}=te$4("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(s)}}),c$9(this,"isLinkModeEnabled",(e,t)=>{var s,i,r,o,a,l,u,g,h;return !e||t!==Q$1.link_mode?false:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===true&&((o=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:o.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==""&&((u=e?.redirect)==null?void 0:u.universal)!==void 0&&((g=e?.redirect)==null?void 0:g.universal)!==""&&((h=e?.redirect)==null?void 0:h.linkMode)===true&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),c$9(this,"getAppLinkIfEnabled",(e,t)=>{var s;return this.isLinkModeEnabled(e,t)?(s=e?.redirect)==null?void 0:s.universal:void 0}),c$9(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;const t=bo$3(e,"topic")||"",s=decodeURIComponent(bo$3(e,"wc_ev")||""),i=this.client.session.keys.includes(t);i&&this.client.session.update(t,{transportType:Q$1.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:s,sessionExists:i});}),c$9(this,"registerLinkModeListeners",async()=>{var e;if(Eo$3()||ne$3()&&(e=this.client.metadata.redirect)!=null&&e.linkMode){const t=global==null?void 0:global.Linking;if(typeof t<"u"){t.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await t.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s});},50);}}}),c$9(this,"shouldSetTVF",(e,t)=>{if(!t||e!=="wc_sessionRequest")return  false;const{request:s}=t;return Object.keys(Ke$7).includes(s.method)}),c$9(this,"getTVFParams",(e,t,s)=>{var i,r;try{const o=t.request.method,a=this.extractTxHashesFromResult(o,s);return x$4(v$6({correlationId:e,rpcMethods:[o],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[(r=(i=t.request.params)==null?void 0:i[0])==null?void 0:r.to]}),{txHashes:a})}catch(o){this.client.logger.warn("Error getting TVF params",o);}return {}}),c$9(this,"isValidContractData",e=>{var t;if(!e)return  false;try{const s=e?.data||((t=e?.[0])==null?void 0:t.data);if(!s.startsWith("0x"))return !1;const i=s.slice(2);return /^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return  false}),c$9(this,"extractTxHashesFromResult",(e,t)=>{try{const s=Ke$7[e];if(typeof t=="string")return [t];const i=t[s.key];if($e$5(i))return i;if(typeof i=="string")return [i]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s);}return []});}isInitialized(){if(!this.initialized){const{message:n}=te$4("NOT_INITIALIZED",this.name);throw new Error(n)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow();}registerRelayerEvents(){this.client.core.relayer.on(T$4.message,n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):this.onRelayMessage(n);});}async onRelayMessage(n){const{topic:e,message:t,attestation:s,transportType:i}=n,{publicKey:r}=this.client.auth.authKeys.keys.includes(le$4)?this.client.auth.authKeys.get(le$4):{publicKey:void 0},o=await this.client.core.crypto.decode(e,t,{receiverPublicKey:r,encoding:i===Q$1.link_mode?Qs$5:At$5});try{isJsonRpcRequest(o)?(this.client.core.history.set(e,o),this.onRelayEventRequest({topic:e,payload:o,attestation:s,transportType:i,encryptedId:si$5(t)})):isJsonRpcResponse(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:e,payload:o,transportType:i}),this.client.core.history.delete(e,o.id)):this.onRelayEventUnknownPayload({topic:e,payload:o,transportType:i});}catch(a){this.client.logger.error(a);}}registerExpirerEvents(){this.client.core.expirer.on(M$4.expired,async n=>{const{topic:e,id:t}=lo$2(n.target);if(t&&this.client.pendingRequest.keys.includes(t))return await this.deletePendingSessionRequest(t,te$4("EXPIRED"),true);if(t&&this.client.auth.requests.keys.includes(t))return await this.deletePendingAuthRequest(t,te$4("EXPIRED"),true);e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:true}),this.client.events.emit("session_expire",{topic:e})):t&&(await this.deleteProposal(t,true),this.client.events.emit("proposal_expire",{id:t}));});}registerPairingEvents(){this.client.core.pairing.events.on(se$4.create,n=>this.onPairingCreated(n)),this.client.core.pairing.events.on(se$4.delete,n=>{this.addToRecentlyDeleted(n.topic,"pairing");});}isValidPairingTopic(n){if(!q$4(n,false)){const{message:e}=te$4("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(n)){const{message:e}=te$4("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(e)}if(po$3(this.client.core.pairing.pairings.get(n).expiry)){const{message:e}=te$4("EXPIRED",`pairing topic: ${n}`);throw new Error(e)}}async isValidSessionTopic(n){if(!q$4(n,false)){const{message:e}=te$4("MISSING_OR_INVALID",`session topic should be a string: ${n}`);throw new Error(e)}if(this.checkRecentlyDeleted(n),!this.client.session.keys.includes(n)){const{message:e}=te$4("NO_MATCHING_KEY",`session topic doesn't exist: ${n}`);throw new Error(e)}if(po$3(this.client.session.get(n).expiry)){await this.deleteSession({topic:n});const{message:e}=te$4("EXPIRED",`session topic: ${n}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(n)){const{message:e}=te$4("MISSING_OR_INVALID",`session topic does not exist in keychain: ${n}`);throw await this.deleteSession({topic:n}),new Error(e)}}async isValidSessionOrPairingTopic(n){if(this.checkRecentlyDeleted(n),this.client.session.keys.includes(n))await this.isValidSessionTopic(n);else if(this.client.core.pairing.pairings.keys.includes(n))this.isValidPairingTopic(n);else if(q$4(n,false)){const{message:e}=te$4("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${n}`);throw new Error(e)}else {const{message:e}=te$4("MISSING_OR_INVALID",`session or pairing topic should be a string: ${n}`);throw new Error(e)}}async isValidProposalId(n){if(!ki$4(n)){const{message:e}=te$4("MISSING_OR_INVALID",`proposal id should be a number: ${n}`);throw new Error(e)}if(!this.client.proposal.keys.includes(n)){const{message:e}=te$4("NO_MATCHING_KEY",`proposal id doesn't exist: ${n}`);throw new Error(e)}if(po$3(this.client.proposal.get(n).expiryTimestamp)){await this.deleteProposal(n);const{message:e}=te$4("EXPIRED",`proposal id: ${n}`);throw new Error(e)}}};let Ns$4 = class Ns extends Ci$4{constructor(n,e){super(n,e,pt$4,me$4),this.core=n,this.logger=e;}};let Rt$5 = class Rt extends Ci$4{constructor(n,e){super(n,e,ht$4,me$4),this.core=n,this.logger=e;}};let Ps$3 = class Ps extends Ci$4{constructor(n,e){super(n,e,ut$6,me$4,t=>t.id),this.core=n,this.logger=e;}};let Os$4 = class Os extends Ci$4{constructor(n,e){super(n,e,mt$4,ce$4,()=>le$4),this.core=n,this.logger=e;}};let bs$4 = class bs extends Ci$4{constructor(n,e){super(n,e,_t$5,ce$4),this.core=n,this.logger=e;}};let As$4 = class As extends Ci$4{constructor(n,e){super(n,e,Et$4,ce$4,t=>t.id),this.core=n,this.logger=e;}};var Cs$4=Object.defineProperty,xs$4=(S,n,e)=>n in S?Cs$4(S,n,{enumerable:true,configurable:true,writable:true,value:e}):S[n]=e,Ge$6=(S,n,e)=>xs$4(S,typeof n!="symbol"?n+"":n,e);let Vs$3 = class Vs{constructor(n,e){this.core=n,this.logger=e,Ge$6(this,"authKeys"),Ge$6(this,"pairingTopics"),Ge$6(this,"requests"),this.authKeys=new Os$4(this.core,this.logger),this.pairingTopics=new bs$4(this.core,this.logger),this.requests=new As$4(this.core,this.logger);}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init();}};var Ds$4=Object.defineProperty,Ls$4=(S,n,e)=>n in S?Ds$4(S,n,{enumerable:true,configurable:true,writable:true,value:e}):S[n]=e,_$3=(S,n,e)=>Ls$4(S,typeof n!="symbol"?n+"":n,e);let Se$3 = class Se extends J$7{constructor(n){super(n),_$3(this,"protocol",De$4),_$3(this,"version",Le$5),_$3(this,"name",_e$5.name),_$3(this,"metadata"),_$3(this,"core"),_$3(this,"logger"),_$3(this,"events",new require$$0$3.EventEmitter),_$3(this,"engine"),_$3(this,"session"),_$3(this,"proposal"),_$3(this,"pendingRequest"),_$3(this,"auth"),_$3(this,"signConfig"),_$3(this,"on",(t,s)=>this.events.on(t,s)),_$3(this,"once",(t,s)=>this.events.once(t,s)),_$3(this,"off",(t,s)=>this.events.off(t,s)),_$3(this,"removeListener",(t,s)=>this.events.removeListener(t,s)),_$3(this,"removeAllListeners",t=>this.events.removeAllListeners(t)),_$3(this,"connect",async t=>{try{return await this.engine.connect(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"pair",async t=>{try{return await this.engine.pair(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"approve",async t=>{try{return await this.engine.approve(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"reject",async t=>{try{return await this.engine.reject(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"update",async t=>{try{return await this.engine.update(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"extend",async t=>{try{return await this.engine.extend(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"request",async t=>{try{return await this.engine.request(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"respond",async t=>{try{return await this.engine.respond(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"ping",async t=>{try{return await this.engine.ping(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"emit",async t=>{try{return await this.engine.emit(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"disconnect",async t=>{try{return await this.engine.disconnect(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"find",t=>{try{return this.engine.find(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}}),_$3(this,"authenticate",async(t,s)=>{try{return await this.engine.authenticate(t,s)}catch(i){throw this.logger.error(i.message),i}}),_$3(this,"formatAuthMessage",t=>{try{return this.engine.formatAuthMessage(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"approveSessionAuthenticate",async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),_$3(this,"rejectSessionAuthenticate",async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),this.name=n?.name||_e$5.name,this.metadata=n?.metadata||Yr$6(),this.signConfig=n?.signConfig;const e=typeof n?.logger<"u"&&typeof n?.logger!="string"?n.logger:Ot$7(k$7({level:n?.logger||_e$5.logger}));this.core=n?.core||new co$3(n),this.logger=E$7(e,this.name),this.session=new Rt$5(this.core,this.logger),this.proposal=new Ns$4(this.core,this.logger),this.pendingRequest=new Ps$3(this.core,this.logger),this.engine=new Ts$4(this),this.auth=new Vs$3(this.core,this.logger);}static async init(n){const e=new Se(n);return await e.initialize(),e}get context(){return y$8(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache();},cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND));}catch(n){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(n.message),n}}};

    var nodePonyfill = {exports: {}};

    var lib$2 = {exports: {}};

    var publicApi = {};

    var URL$1 = {exports: {}};

    var lib$1;
    var hasRequiredLib$2;

    function requireLib$2 () {
    	if (hasRequiredLib$2) return lib$1;
    	hasRequiredLib$2 = 1;

    	var conversions = {};
    	lib$1 = conversions;

    	function sign(x) {
    	    return x < 0 ? -1 : 1;
    	}

    	function evenRound(x) {
    	    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.
    	    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)
    	        return Math.floor(x);
    	    } else {
    	        return Math.round(x);
    	    }
    	}

    	function createNumberConversion(bitLength, typeOpts) {
    	    if (!typeOpts.unsigned) {
    	        --bitLength;
    	    }
    	    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);
    	    const upperBound = Math.pow(2, bitLength) - 1;

    	    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);
    	    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);

    	    return function(V, opts) {
    	        if (!opts) opts = {};

    	        let x = +V;

    	        if (opts.enforceRange) {
    	            if (!Number.isFinite(x)) {
    	                throw new TypeError("Argument is not a finite number");
    	            }

    	            x = sign(x) * Math.floor(Math.abs(x));
    	            if (x < lowerBound || x > upperBound) {
    	                throw new TypeError("Argument is not in byte range");
    	            }

    	            return x;
    	        }

    	        if (!isNaN(x) && opts.clamp) {
    	            x = evenRound(x);

    	            if (x < lowerBound) x = lowerBound;
    	            if (x > upperBound) x = upperBound;
    	            return x;
    	        }

    	        if (!Number.isFinite(x) || x === 0) {
    	            return 0;
    	        }

    	        x = sign(x) * Math.floor(Math.abs(x));
    	        x = x % moduloVal;

    	        if (!typeOpts.unsigned && x >= moduloBound) {
    	            return x - moduloVal;
    	        } else if (typeOpts.unsigned) {
    	            if (x < 0) {
    	              x += moduloVal;
    	            } else if (x === -0) { // don't return negative zero
    	              return 0;
    	            }
    	        }

    	        return x;
    	    }
    	}

    	conversions["void"] = function () {
    	    return undefined;
    	};

    	conversions["boolean"] = function (val) {
    	    return !!val;
    	};

    	conversions["byte"] = createNumberConversion(8, { unsigned: false });
    	conversions["octet"] = createNumberConversion(8, { unsigned: true });

    	conversions["short"] = createNumberConversion(16, { unsigned: false });
    	conversions["unsigned short"] = createNumberConversion(16, { unsigned: true });

    	conversions["long"] = createNumberConversion(32, { unsigned: false });
    	conversions["unsigned long"] = createNumberConversion(32, { unsigned: true });

    	conversions["long long"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });
    	conversions["unsigned long long"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });

    	conversions["double"] = function (V) {
    	    const x = +V;

    	    if (!Number.isFinite(x)) {
    	        throw new TypeError("Argument is not a finite floating-point value");
    	    }

    	    return x;
    	};

    	conversions["unrestricted double"] = function (V) {
    	    const x = +V;

    	    if (isNaN(x)) {
    	        throw new TypeError("Argument is NaN");
    	    }

    	    return x;
    	};

    	// not quite valid, but good enough for JS
    	conversions["float"] = conversions["double"];
    	conversions["unrestricted float"] = conversions["unrestricted double"];

    	conversions["DOMString"] = function (V, opts) {
    	    if (!opts) opts = {};

    	    if (opts.treatNullAsEmptyString && V === null) {
    	        return "";
    	    }

    	    return String(V);
    	};

    	conversions["ByteString"] = function (V, opts) {
    	    const x = String(V);
    	    let c = undefined;
    	    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {
    	        if (c > 255) {
    	            throw new TypeError("Argument is not a valid bytestring");
    	        }
    	    }

    	    return x;
    	};

    	conversions["USVString"] = function (V) {
    	    const S = String(V);
    	    const n = S.length;
    	    const U = [];
    	    for (let i = 0; i < n; ++i) {
    	        const c = S.charCodeAt(i);
    	        if (c < 0xD800 || c > 0xDFFF) {
    	            U.push(String.fromCodePoint(c));
    	        } else if (0xDC00 <= c && c <= 0xDFFF) {
    	            U.push(String.fromCodePoint(0xFFFD));
    	        } else {
    	            if (i === n - 1) {
    	                U.push(String.fromCodePoint(0xFFFD));
    	            } else {
    	                const d = S.charCodeAt(i + 1);
    	                if (0xDC00 <= d && d <= 0xDFFF) {
    	                    const a = c & 0x3FF;
    	                    const b = d & 0x3FF;
    	                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));
    	                    ++i;
    	                } else {
    	                    U.push(String.fromCodePoint(0xFFFD));
    	                }
    	            }
    	        }
    	    }

    	    return U.join('');
    	};

    	conversions["Date"] = function (V, opts) {
    	    if (!(V instanceof Date)) {
    	        throw new TypeError("Argument is not a Date object");
    	    }
    	    if (isNaN(V)) {
    	        return undefined;
    	    }

    	    return V;
    	};

    	conversions["RegExp"] = function (V, opts) {
    	    if (!(V instanceof RegExp)) {
    	        V = new RegExp(V);
    	    }

    	    return V;
    	};
    	return lib$1;
    }

    var utils$2 = {exports: {}};

    var hasRequiredUtils$2;

    function requireUtils$2 () {
    	if (hasRequiredUtils$2) return utils$2.exports;
    	hasRequiredUtils$2 = 1;
    	(function (module) {

    		module.exports.mixin = function mixin(target, source) {
    		  const keys = Object.getOwnPropertyNames(source);
    		  for (let i = 0; i < keys.length; ++i) {
    		    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));
    		  }
    		};

    		module.exports.wrapperSymbol = Symbol("wrapper");
    		module.exports.implSymbol = Symbol("impl");

    		module.exports.wrapperForImpl = function (impl) {
    		  return impl[module.exports.wrapperSymbol];
    		};

    		module.exports.implForWrapper = function (wrapper) {
    		  return wrapper[module.exports.implSymbol];
    		}; 
    	} (utils$2));
    	return utils$2.exports;
    }

    var URLImpl = {};

    var urlStateMachine = {exports: {}};

    var tr46 = {};

    var require$$1 = [
    	[
    		[
    			0,
    			44
    		],
    		"disallowed_STD3_valid"
    	],
    	[
    		[
    			45,
    			46
    		],
    		"valid"
    	],
    	[
    		[
    			47,
    			47
    		],
    		"disallowed_STD3_valid"
    	],
    	[
    		[
    			48,
    			57
    		],
    		"valid"
    	],
    	[
    		[
    			58,
    			64
    		],
    		"disallowed_STD3_valid"
    	],
    	[
    		[
    			65,
    			65
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			66,
    			66
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			67,
    			67
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			68,
    			68
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			69,
    			69
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			70,
    			70
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			71,
    			71
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			72,
    			72
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			73,
    			73
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			74,
    			74
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			75,
    			75
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			76,
    			76
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			77,
    			77
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			78,
    			78
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			79,
    			79
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			80,
    			80
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			81,
    			81
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			82,
    			82
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			83,
    			83
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			84,
    			84
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			85,
    			85
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			86,
    			86
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			87,
    			87
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			88,
    			88
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			89,
    			89
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			90,
    			90
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			91,
    			96
    		],
    		"disallowed_STD3_valid"
    	],
    	[
    		[
    			97,
    			122
    		],
    		"valid"
    	],
    	[
    		[
    			123,
    			127
    		],
    		"disallowed_STD3_valid"
    	],
    	[
    		[
    			128,
    			159
    		],
    		"disallowed"
    	],
    	[
    		[
    			160,
    			160
    		],
    		"disallowed_STD3_mapped",
    		[
    			32
    		]
    	],
    	[
    		[
    			161,
    			167
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			168,
    			168
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			776
    		]
    	],
    	[
    		[
    			169,
    			169
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			170,
    			170
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			171,
    			172
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			173,
    			173
    		],
    		"ignored"
    	],
    	[
    		[
    			174,
    			174
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			175,
    			175
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			772
    		]
    	],
    	[
    		[
    			176,
    			177
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			178,
    			178
    		],
    		"mapped",
    		[
    			50
    		]
    	],
    	[
    		[
    			179,
    			179
    		],
    		"mapped",
    		[
    			51
    		]
    	],
    	[
    		[
    			180,
    			180
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			769
    		]
    	],
    	[
    		[
    			181,
    			181
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			182,
    			182
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			183,
    			183
    		],
    		"valid"
    	],
    	[
    		[
    			184,
    			184
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			807
    		]
    	],
    	[
    		[
    			185,
    			185
    		],
    		"mapped",
    		[
    			49
    		]
    	],
    	[
    		[
    			186,
    			186
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			187,
    			187
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			188,
    			188
    		],
    		"mapped",
    		[
    			49,
    			8260,
    			52
    		]
    	],
    	[
    		[
    			189,
    			189
    		],
    		"mapped",
    		[
    			49,
    			8260,
    			50
    		]
    	],
    	[
    		[
    			190,
    			190
    		],
    		"mapped",
    		[
    			51,
    			8260,
    			52
    		]
    	],
    	[
    		[
    			191,
    			191
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			192,
    			192
    		],
    		"mapped",
    		[
    			224
    		]
    	],
    	[
    		[
    			193,
    			193
    		],
    		"mapped",
    		[
    			225
    		]
    	],
    	[
    		[
    			194,
    			194
    		],
    		"mapped",
    		[
    			226
    		]
    	],
    	[
    		[
    			195,
    			195
    		],
    		"mapped",
    		[
    			227
    		]
    	],
    	[
    		[
    			196,
    			196
    		],
    		"mapped",
    		[
    			228
    		]
    	],
    	[
    		[
    			197,
    			197
    		],
    		"mapped",
    		[
    			229
    		]
    	],
    	[
    		[
    			198,
    			198
    		],
    		"mapped",
    		[
    			230
    		]
    	],
    	[
    		[
    			199,
    			199
    		],
    		"mapped",
    		[
    			231
    		]
    	],
    	[
    		[
    			200,
    			200
    		],
    		"mapped",
    		[
    			232
    		]
    	],
    	[
    		[
    			201,
    			201
    		],
    		"mapped",
    		[
    			233
    		]
    	],
    	[
    		[
    			202,
    			202
    		],
    		"mapped",
    		[
    			234
    		]
    	],
    	[
    		[
    			203,
    			203
    		],
    		"mapped",
    		[
    			235
    		]
    	],
    	[
    		[
    			204,
    			204
    		],
    		"mapped",
    		[
    			236
    		]
    	],
    	[
    		[
    			205,
    			205
    		],
    		"mapped",
    		[
    			237
    		]
    	],
    	[
    		[
    			206,
    			206
    		],
    		"mapped",
    		[
    			238
    		]
    	],
    	[
    		[
    			207,
    			207
    		],
    		"mapped",
    		[
    			239
    		]
    	],
    	[
    		[
    			208,
    			208
    		],
    		"mapped",
    		[
    			240
    		]
    	],
    	[
    		[
    			209,
    			209
    		],
    		"mapped",
    		[
    			241
    		]
    	],
    	[
    		[
    			210,
    			210
    		],
    		"mapped",
    		[
    			242
    		]
    	],
    	[
    		[
    			211,
    			211
    		],
    		"mapped",
    		[
    			243
    		]
    	],
    	[
    		[
    			212,
    			212
    		],
    		"mapped",
    		[
    			244
    		]
    	],
    	[
    		[
    			213,
    			213
    		],
    		"mapped",
    		[
    			245
    		]
    	],
    	[
    		[
    			214,
    			214
    		],
    		"mapped",
    		[
    			246
    		]
    	],
    	[
    		[
    			215,
    			215
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			216,
    			216
    		],
    		"mapped",
    		[
    			248
    		]
    	],
    	[
    		[
    			217,
    			217
    		],
    		"mapped",
    		[
    			249
    		]
    	],
    	[
    		[
    			218,
    			218
    		],
    		"mapped",
    		[
    			250
    		]
    	],
    	[
    		[
    			219,
    			219
    		],
    		"mapped",
    		[
    			251
    		]
    	],
    	[
    		[
    			220,
    			220
    		],
    		"mapped",
    		[
    			252
    		]
    	],
    	[
    		[
    			221,
    			221
    		],
    		"mapped",
    		[
    			253
    		]
    	],
    	[
    		[
    			222,
    			222
    		],
    		"mapped",
    		[
    			254
    		]
    	],
    	[
    		[
    			223,
    			223
    		],
    		"deviation",
    		[
    			115,
    			115
    		]
    	],
    	[
    		[
    			224,
    			246
    		],
    		"valid"
    	],
    	[
    		[
    			247,
    			247
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			248,
    			255
    		],
    		"valid"
    	],
    	[
    		[
    			256,
    			256
    		],
    		"mapped",
    		[
    			257
    		]
    	],
    	[
    		[
    			257,
    			257
    		],
    		"valid"
    	],
    	[
    		[
    			258,
    			258
    		],
    		"mapped",
    		[
    			259
    		]
    	],
    	[
    		[
    			259,
    			259
    		],
    		"valid"
    	],
    	[
    		[
    			260,
    			260
    		],
    		"mapped",
    		[
    			261
    		]
    	],
    	[
    		[
    			261,
    			261
    		],
    		"valid"
    	],
    	[
    		[
    			262,
    			262
    		],
    		"mapped",
    		[
    			263
    		]
    	],
    	[
    		[
    			263,
    			263
    		],
    		"valid"
    	],
    	[
    		[
    			264,
    			264
    		],
    		"mapped",
    		[
    			265
    		]
    	],
    	[
    		[
    			265,
    			265
    		],
    		"valid"
    	],
    	[
    		[
    			266,
    			266
    		],
    		"mapped",
    		[
    			267
    		]
    	],
    	[
    		[
    			267,
    			267
    		],
    		"valid"
    	],
    	[
    		[
    			268,
    			268
    		],
    		"mapped",
    		[
    			269
    		]
    	],
    	[
    		[
    			269,
    			269
    		],
    		"valid"
    	],
    	[
    		[
    			270,
    			270
    		],
    		"mapped",
    		[
    			271
    		]
    	],
    	[
    		[
    			271,
    			271
    		],
    		"valid"
    	],
    	[
    		[
    			272,
    			272
    		],
    		"mapped",
    		[
    			273
    		]
    	],
    	[
    		[
    			273,
    			273
    		],
    		"valid"
    	],
    	[
    		[
    			274,
    			274
    		],
    		"mapped",
    		[
    			275
    		]
    	],
    	[
    		[
    			275,
    			275
    		],
    		"valid"
    	],
    	[
    		[
    			276,
    			276
    		],
    		"mapped",
    		[
    			277
    		]
    	],
    	[
    		[
    			277,
    			277
    		],
    		"valid"
    	],
    	[
    		[
    			278,
    			278
    		],
    		"mapped",
    		[
    			279
    		]
    	],
    	[
    		[
    			279,
    			279
    		],
    		"valid"
    	],
    	[
    		[
    			280,
    			280
    		],
    		"mapped",
    		[
    			281
    		]
    	],
    	[
    		[
    			281,
    			281
    		],
    		"valid"
    	],
    	[
    		[
    			282,
    			282
    		],
    		"mapped",
    		[
    			283
    		]
    	],
    	[
    		[
    			283,
    			283
    		],
    		"valid"
    	],
    	[
    		[
    			284,
    			284
    		],
    		"mapped",
    		[
    			285
    		]
    	],
    	[
    		[
    			285,
    			285
    		],
    		"valid"
    	],
    	[
    		[
    			286,
    			286
    		],
    		"mapped",
    		[
    			287
    		]
    	],
    	[
    		[
    			287,
    			287
    		],
    		"valid"
    	],
    	[
    		[
    			288,
    			288
    		],
    		"mapped",
    		[
    			289
    		]
    	],
    	[
    		[
    			289,
    			289
    		],
    		"valid"
    	],
    	[
    		[
    			290,
    			290
    		],
    		"mapped",
    		[
    			291
    		]
    	],
    	[
    		[
    			291,
    			291
    		],
    		"valid"
    	],
    	[
    		[
    			292,
    			292
    		],
    		"mapped",
    		[
    			293
    		]
    	],
    	[
    		[
    			293,
    			293
    		],
    		"valid"
    	],
    	[
    		[
    			294,
    			294
    		],
    		"mapped",
    		[
    			295
    		]
    	],
    	[
    		[
    			295,
    			295
    		],
    		"valid"
    	],
    	[
    		[
    			296,
    			296
    		],
    		"mapped",
    		[
    			297
    		]
    	],
    	[
    		[
    			297,
    			297
    		],
    		"valid"
    	],
    	[
    		[
    			298,
    			298
    		],
    		"mapped",
    		[
    			299
    		]
    	],
    	[
    		[
    			299,
    			299
    		],
    		"valid"
    	],
    	[
    		[
    			300,
    			300
    		],
    		"mapped",
    		[
    			301
    		]
    	],
    	[
    		[
    			301,
    			301
    		],
    		"valid"
    	],
    	[
    		[
    			302,
    			302
    		],
    		"mapped",
    		[
    			303
    		]
    	],
    	[
    		[
    			303,
    			303
    		],
    		"valid"
    	],
    	[
    		[
    			304,
    			304
    		],
    		"mapped",
    		[
    			105,
    			775
    		]
    	],
    	[
    		[
    			305,
    			305
    		],
    		"valid"
    	],
    	[
    		[
    			306,
    			307
    		],
    		"mapped",
    		[
    			105,
    			106
    		]
    	],
    	[
    		[
    			308,
    			308
    		],
    		"mapped",
    		[
    			309
    		]
    	],
    	[
    		[
    			309,
    			309
    		],
    		"valid"
    	],
    	[
    		[
    			310,
    			310
    		],
    		"mapped",
    		[
    			311
    		]
    	],
    	[
    		[
    			311,
    			312
    		],
    		"valid"
    	],
    	[
    		[
    			313,
    			313
    		],
    		"mapped",
    		[
    			314
    		]
    	],
    	[
    		[
    			314,
    			314
    		],
    		"valid"
    	],
    	[
    		[
    			315,
    			315
    		],
    		"mapped",
    		[
    			316
    		]
    	],
    	[
    		[
    			316,
    			316
    		],
    		"valid"
    	],
    	[
    		[
    			317,
    			317
    		],
    		"mapped",
    		[
    			318
    		]
    	],
    	[
    		[
    			318,
    			318
    		],
    		"valid"
    	],
    	[
    		[
    			319,
    			320
    		],
    		"mapped",
    		[
    			108,
    			183
    		]
    	],
    	[
    		[
    			321,
    			321
    		],
    		"mapped",
    		[
    			322
    		]
    	],
    	[
    		[
    			322,
    			322
    		],
    		"valid"
    	],
    	[
    		[
    			323,
    			323
    		],
    		"mapped",
    		[
    			324
    		]
    	],
    	[
    		[
    			324,
    			324
    		],
    		"valid"
    	],
    	[
    		[
    			325,
    			325
    		],
    		"mapped",
    		[
    			326
    		]
    	],
    	[
    		[
    			326,
    			326
    		],
    		"valid"
    	],
    	[
    		[
    			327,
    			327
    		],
    		"mapped",
    		[
    			328
    		]
    	],
    	[
    		[
    			328,
    			328
    		],
    		"valid"
    	],
    	[
    		[
    			329,
    			329
    		],
    		"mapped",
    		[
    			700,
    			110
    		]
    	],
    	[
    		[
    			330,
    			330
    		],
    		"mapped",
    		[
    			331
    		]
    	],
    	[
    		[
    			331,
    			331
    		],
    		"valid"
    	],
    	[
    		[
    			332,
    			332
    		],
    		"mapped",
    		[
    			333
    		]
    	],
    	[
    		[
    			333,
    			333
    		],
    		"valid"
    	],
    	[
    		[
    			334,
    			334
    		],
    		"mapped",
    		[
    			335
    		]
    	],
    	[
    		[
    			335,
    			335
    		],
    		"valid"
    	],
    	[
    		[
    			336,
    			336
    		],
    		"mapped",
    		[
    			337
    		]
    	],
    	[
    		[
    			337,
    			337
    		],
    		"valid"
    	],
    	[
    		[
    			338,
    			338
    		],
    		"mapped",
    		[
    			339
    		]
    	],
    	[
    		[
    			339,
    			339
    		],
    		"valid"
    	],
    	[
    		[
    			340,
    			340
    		],
    		"mapped",
    		[
    			341
    		]
    	],
    	[
    		[
    			341,
    			341
    		],
    		"valid"
    	],
    	[
    		[
    			342,
    			342
    		],
    		"mapped",
    		[
    			343
    		]
    	],
    	[
    		[
    			343,
    			343
    		],
    		"valid"
    	],
    	[
    		[
    			344,
    			344
    		],
    		"mapped",
    		[
    			345
    		]
    	],
    	[
    		[
    			345,
    			345
    		],
    		"valid"
    	],
    	[
    		[
    			346,
    			346
    		],
    		"mapped",
    		[
    			347
    		]
    	],
    	[
    		[
    			347,
    			347
    		],
    		"valid"
    	],
    	[
    		[
    			348,
    			348
    		],
    		"mapped",
    		[
    			349
    		]
    	],
    	[
    		[
    			349,
    			349
    		],
    		"valid"
    	],
    	[
    		[
    			350,
    			350
    		],
    		"mapped",
    		[
    			351
    		]
    	],
    	[
    		[
    			351,
    			351
    		],
    		"valid"
    	],
    	[
    		[
    			352,
    			352
    		],
    		"mapped",
    		[
    			353
    		]
    	],
    	[
    		[
    			353,
    			353
    		],
    		"valid"
    	],
    	[
    		[
    			354,
    			354
    		],
    		"mapped",
    		[
    			355
    		]
    	],
    	[
    		[
    			355,
    			355
    		],
    		"valid"
    	],
    	[
    		[
    			356,
    			356
    		],
    		"mapped",
    		[
    			357
    		]
    	],
    	[
    		[
    			357,
    			357
    		],
    		"valid"
    	],
    	[
    		[
    			358,
    			358
    		],
    		"mapped",
    		[
    			359
    		]
    	],
    	[
    		[
    			359,
    			359
    		],
    		"valid"
    	],
    	[
    		[
    			360,
    			360
    		],
    		"mapped",
    		[
    			361
    		]
    	],
    	[
    		[
    			361,
    			361
    		],
    		"valid"
    	],
    	[
    		[
    			362,
    			362
    		],
    		"mapped",
    		[
    			363
    		]
    	],
    	[
    		[
    			363,
    			363
    		],
    		"valid"
    	],
    	[
    		[
    			364,
    			364
    		],
    		"mapped",
    		[
    			365
    		]
    	],
    	[
    		[
    			365,
    			365
    		],
    		"valid"
    	],
    	[
    		[
    			366,
    			366
    		],
    		"mapped",
    		[
    			367
    		]
    	],
    	[
    		[
    			367,
    			367
    		],
    		"valid"
    	],
    	[
    		[
    			368,
    			368
    		],
    		"mapped",
    		[
    			369
    		]
    	],
    	[
    		[
    			369,
    			369
    		],
    		"valid"
    	],
    	[
    		[
    			370,
    			370
    		],
    		"mapped",
    		[
    			371
    		]
    	],
    	[
    		[
    			371,
    			371
    		],
    		"valid"
    	],
    	[
    		[
    			372,
    			372
    		],
    		"mapped",
    		[
    			373
    		]
    	],
    	[
    		[
    			373,
    			373
    		],
    		"valid"
    	],
    	[
    		[
    			374,
    			374
    		],
    		"mapped",
    		[
    			375
    		]
    	],
    	[
    		[
    			375,
    			375
    		],
    		"valid"
    	],
    	[
    		[
    			376,
    			376
    		],
    		"mapped",
    		[
    			255
    		]
    	],
    	[
    		[
    			377,
    			377
    		],
    		"mapped",
    		[
    			378
    		]
    	],
    	[
    		[
    			378,
    			378
    		],
    		"valid"
    	],
    	[
    		[
    			379,
    			379
    		],
    		"mapped",
    		[
    			380
    		]
    	],
    	[
    		[
    			380,
    			380
    		],
    		"valid"
    	],
    	[
    		[
    			381,
    			381
    		],
    		"mapped",
    		[
    			382
    		]
    	],
    	[
    		[
    			382,
    			382
    		],
    		"valid"
    	],
    	[
    		[
    			383,
    			383
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			384,
    			384
    		],
    		"valid"
    	],
    	[
    		[
    			385,
    			385
    		],
    		"mapped",
    		[
    			595
    		]
    	],
    	[
    		[
    			386,
    			386
    		],
    		"mapped",
    		[
    			387
    		]
    	],
    	[
    		[
    			387,
    			387
    		],
    		"valid"
    	],
    	[
    		[
    			388,
    			388
    		],
    		"mapped",
    		[
    			389
    		]
    	],
    	[
    		[
    			389,
    			389
    		],
    		"valid"
    	],
    	[
    		[
    			390,
    			390
    		],
    		"mapped",
    		[
    			596
    		]
    	],
    	[
    		[
    			391,
    			391
    		],
    		"mapped",
    		[
    			392
    		]
    	],
    	[
    		[
    			392,
    			392
    		],
    		"valid"
    	],
    	[
    		[
    			393,
    			393
    		],
    		"mapped",
    		[
    			598
    		]
    	],
    	[
    		[
    			394,
    			394
    		],
    		"mapped",
    		[
    			599
    		]
    	],
    	[
    		[
    			395,
    			395
    		],
    		"mapped",
    		[
    			396
    		]
    	],
    	[
    		[
    			396,
    			397
    		],
    		"valid"
    	],
    	[
    		[
    			398,
    			398
    		],
    		"mapped",
    		[
    			477
    		]
    	],
    	[
    		[
    			399,
    			399
    		],
    		"mapped",
    		[
    			601
    		]
    	],
    	[
    		[
    			400,
    			400
    		],
    		"mapped",
    		[
    			603
    		]
    	],
    	[
    		[
    			401,
    			401
    		],
    		"mapped",
    		[
    			402
    		]
    	],
    	[
    		[
    			402,
    			402
    		],
    		"valid"
    	],
    	[
    		[
    			403,
    			403
    		],
    		"mapped",
    		[
    			608
    		]
    	],
    	[
    		[
    			404,
    			404
    		],
    		"mapped",
    		[
    			611
    		]
    	],
    	[
    		[
    			405,
    			405
    		],
    		"valid"
    	],
    	[
    		[
    			406,
    			406
    		],
    		"mapped",
    		[
    			617
    		]
    	],
    	[
    		[
    			407,
    			407
    		],
    		"mapped",
    		[
    			616
    		]
    	],
    	[
    		[
    			408,
    			408
    		],
    		"mapped",
    		[
    			409
    		]
    	],
    	[
    		[
    			409,
    			411
    		],
    		"valid"
    	],
    	[
    		[
    			412,
    			412
    		],
    		"mapped",
    		[
    			623
    		]
    	],
    	[
    		[
    			413,
    			413
    		],
    		"mapped",
    		[
    			626
    		]
    	],
    	[
    		[
    			414,
    			414
    		],
    		"valid"
    	],
    	[
    		[
    			415,
    			415
    		],
    		"mapped",
    		[
    			629
    		]
    	],
    	[
    		[
    			416,
    			416
    		],
    		"mapped",
    		[
    			417
    		]
    	],
    	[
    		[
    			417,
    			417
    		],
    		"valid"
    	],
    	[
    		[
    			418,
    			418
    		],
    		"mapped",
    		[
    			419
    		]
    	],
    	[
    		[
    			419,
    			419
    		],
    		"valid"
    	],
    	[
    		[
    			420,
    			420
    		],
    		"mapped",
    		[
    			421
    		]
    	],
    	[
    		[
    			421,
    			421
    		],
    		"valid"
    	],
    	[
    		[
    			422,
    			422
    		],
    		"mapped",
    		[
    			640
    		]
    	],
    	[
    		[
    			423,
    			423
    		],
    		"mapped",
    		[
    			424
    		]
    	],
    	[
    		[
    			424,
    			424
    		],
    		"valid"
    	],
    	[
    		[
    			425,
    			425
    		],
    		"mapped",
    		[
    			643
    		]
    	],
    	[
    		[
    			426,
    			427
    		],
    		"valid"
    	],
    	[
    		[
    			428,
    			428
    		],
    		"mapped",
    		[
    			429
    		]
    	],
    	[
    		[
    			429,
    			429
    		],
    		"valid"
    	],
    	[
    		[
    			430,
    			430
    		],
    		"mapped",
    		[
    			648
    		]
    	],
    	[
    		[
    			431,
    			431
    		],
    		"mapped",
    		[
    			432
    		]
    	],
    	[
    		[
    			432,
    			432
    		],
    		"valid"
    	],
    	[
    		[
    			433,
    			433
    		],
    		"mapped",
    		[
    			650
    		]
    	],
    	[
    		[
    			434,
    			434
    		],
    		"mapped",
    		[
    			651
    		]
    	],
    	[
    		[
    			435,
    			435
    		],
    		"mapped",
    		[
    			436
    		]
    	],
    	[
    		[
    			436,
    			436
    		],
    		"valid"
    	],
    	[
    		[
    			437,
    			437
    		],
    		"mapped",
    		[
    			438
    		]
    	],
    	[
    		[
    			438,
    			438
    		],
    		"valid"
    	],
    	[
    		[
    			439,
    			439
    		],
    		"mapped",
    		[
    			658
    		]
    	],
    	[
    		[
    			440,
    			440
    		],
    		"mapped",
    		[
    			441
    		]
    	],
    	[
    		[
    			441,
    			443
    		],
    		"valid"
    	],
    	[
    		[
    			444,
    			444
    		],
    		"mapped",
    		[
    			445
    		]
    	],
    	[
    		[
    			445,
    			451
    		],
    		"valid"
    	],
    	[
    		[
    			452,
    			454
    		],
    		"mapped",
    		[
    			100,
    			382
    		]
    	],
    	[
    		[
    			455,
    			457
    		],
    		"mapped",
    		[
    			108,
    			106
    		]
    	],
    	[
    		[
    			458,
    			460
    		],
    		"mapped",
    		[
    			110,
    			106
    		]
    	],
    	[
    		[
    			461,
    			461
    		],
    		"mapped",
    		[
    			462
    		]
    	],
    	[
    		[
    			462,
    			462
    		],
    		"valid"
    	],
    	[
    		[
    			463,
    			463
    		],
    		"mapped",
    		[
    			464
    		]
    	],
    	[
    		[
    			464,
    			464
    		],
    		"valid"
    	],
    	[
    		[
    			465,
    			465
    		],
    		"mapped",
    		[
    			466
    		]
    	],
    	[
    		[
    			466,
    			466
    		],
    		"valid"
    	],
    	[
    		[
    			467,
    			467
    		],
    		"mapped",
    		[
    			468
    		]
    	],
    	[
    		[
    			468,
    			468
    		],
    		"valid"
    	],
    	[
    		[
    			469,
    			469
    		],
    		"mapped",
    		[
    			470
    		]
    	],
    	[
    		[
    			470,
    			470
    		],
    		"valid"
    	],
    	[
    		[
    			471,
    			471
    		],
    		"mapped",
    		[
    			472
    		]
    	],
    	[
    		[
    			472,
    			472
    		],
    		"valid"
    	],
    	[
    		[
    			473,
    			473
    		],
    		"mapped",
    		[
    			474
    		]
    	],
    	[
    		[
    			474,
    			474
    		],
    		"valid"
    	],
    	[
    		[
    			475,
    			475
    		],
    		"mapped",
    		[
    			476
    		]
    	],
    	[
    		[
    			476,
    			477
    		],
    		"valid"
    	],
    	[
    		[
    			478,
    			478
    		],
    		"mapped",
    		[
    			479
    		]
    	],
    	[
    		[
    			479,
    			479
    		],
    		"valid"
    	],
    	[
    		[
    			480,
    			480
    		],
    		"mapped",
    		[
    			481
    		]
    	],
    	[
    		[
    			481,
    			481
    		],
    		"valid"
    	],
    	[
    		[
    			482,
    			482
    		],
    		"mapped",
    		[
    			483
    		]
    	],
    	[
    		[
    			483,
    			483
    		],
    		"valid"
    	],
    	[
    		[
    			484,
    			484
    		],
    		"mapped",
    		[
    			485
    		]
    	],
    	[
    		[
    			485,
    			485
    		],
    		"valid"
    	],
    	[
    		[
    			486,
    			486
    		],
    		"mapped",
    		[
    			487
    		]
    	],
    	[
    		[
    			487,
    			487
    		],
    		"valid"
    	],
    	[
    		[
    			488,
    			488
    		],
    		"mapped",
    		[
    			489
    		]
    	],
    	[
    		[
    			489,
    			489
    		],
    		"valid"
    	],
    	[
    		[
    			490,
    			490
    		],
    		"mapped",
    		[
    			491
    		]
    	],
    	[
    		[
    			491,
    			491
    		],
    		"valid"
    	],
    	[
    		[
    			492,
    			492
    		],
    		"mapped",
    		[
    			493
    		]
    	],
    	[
    		[
    			493,
    			493
    		],
    		"valid"
    	],
    	[
    		[
    			494,
    			494
    		],
    		"mapped",
    		[
    			495
    		]
    	],
    	[
    		[
    			495,
    			496
    		],
    		"valid"
    	],
    	[
    		[
    			497,
    			499
    		],
    		"mapped",
    		[
    			100,
    			122
    		]
    	],
    	[
    		[
    			500,
    			500
    		],
    		"mapped",
    		[
    			501
    		]
    	],
    	[
    		[
    			501,
    			501
    		],
    		"valid"
    	],
    	[
    		[
    			502,
    			502
    		],
    		"mapped",
    		[
    			405
    		]
    	],
    	[
    		[
    			503,
    			503
    		],
    		"mapped",
    		[
    			447
    		]
    	],
    	[
    		[
    			504,
    			504
    		],
    		"mapped",
    		[
    			505
    		]
    	],
    	[
    		[
    			505,
    			505
    		],
    		"valid"
    	],
    	[
    		[
    			506,
    			506
    		],
    		"mapped",
    		[
    			507
    		]
    	],
    	[
    		[
    			507,
    			507
    		],
    		"valid"
    	],
    	[
    		[
    			508,
    			508
    		],
    		"mapped",
    		[
    			509
    		]
    	],
    	[
    		[
    			509,
    			509
    		],
    		"valid"
    	],
    	[
    		[
    			510,
    			510
    		],
    		"mapped",
    		[
    			511
    		]
    	],
    	[
    		[
    			511,
    			511
    		],
    		"valid"
    	],
    	[
    		[
    			512,
    			512
    		],
    		"mapped",
    		[
    			513
    		]
    	],
    	[
    		[
    			513,
    			513
    		],
    		"valid"
    	],
    	[
    		[
    			514,
    			514
    		],
    		"mapped",
    		[
    			515
    		]
    	],
    	[
    		[
    			515,
    			515
    		],
    		"valid"
    	],
    	[
    		[
    			516,
    			516
    		],
    		"mapped",
    		[
    			517
    		]
    	],
    	[
    		[
    			517,
    			517
    		],
    		"valid"
    	],
    	[
    		[
    			518,
    			518
    		],
    		"mapped",
    		[
    			519
    		]
    	],
    	[
    		[
    			519,
    			519
    		],
    		"valid"
    	],
    	[
    		[
    			520,
    			520
    		],
    		"mapped",
    		[
    			521
    		]
    	],
    	[
    		[
    			521,
    			521
    		],
    		"valid"
    	],
    	[
    		[
    			522,
    			522
    		],
    		"mapped",
    		[
    			523
    		]
    	],
    	[
    		[
    			523,
    			523
    		],
    		"valid"
    	],
    	[
    		[
    			524,
    			524
    		],
    		"mapped",
    		[
    			525
    		]
    	],
    	[
    		[
    			525,
    			525
    		],
    		"valid"
    	],
    	[
    		[
    			526,
    			526
    		],
    		"mapped",
    		[
    			527
    		]
    	],
    	[
    		[
    			527,
    			527
    		],
    		"valid"
    	],
    	[
    		[
    			528,
    			528
    		],
    		"mapped",
    		[
    			529
    		]
    	],
    	[
    		[
    			529,
    			529
    		],
    		"valid"
    	],
    	[
    		[
    			530,
    			530
    		],
    		"mapped",
    		[
    			531
    		]
    	],
    	[
    		[
    			531,
    			531
    		],
    		"valid"
    	],
    	[
    		[
    			532,
    			532
    		],
    		"mapped",
    		[
    			533
    		]
    	],
    	[
    		[
    			533,
    			533
    		],
    		"valid"
    	],
    	[
    		[
    			534,
    			534
    		],
    		"mapped",
    		[
    			535
    		]
    	],
    	[
    		[
    			535,
    			535
    		],
    		"valid"
    	],
    	[
    		[
    			536,
    			536
    		],
    		"mapped",
    		[
    			537
    		]
    	],
    	[
    		[
    			537,
    			537
    		],
    		"valid"
    	],
    	[
    		[
    			538,
    			538
    		],
    		"mapped",
    		[
    			539
    		]
    	],
    	[
    		[
    			539,
    			539
    		],
    		"valid"
    	],
    	[
    		[
    			540,
    			540
    		],
    		"mapped",
    		[
    			541
    		]
    	],
    	[
    		[
    			541,
    			541
    		],
    		"valid"
    	],
    	[
    		[
    			542,
    			542
    		],
    		"mapped",
    		[
    			543
    		]
    	],
    	[
    		[
    			543,
    			543
    		],
    		"valid"
    	],
    	[
    		[
    			544,
    			544
    		],
    		"mapped",
    		[
    			414
    		]
    	],
    	[
    		[
    			545,
    			545
    		],
    		"valid"
    	],
    	[
    		[
    			546,
    			546
    		],
    		"mapped",
    		[
    			547
    		]
    	],
    	[
    		[
    			547,
    			547
    		],
    		"valid"
    	],
    	[
    		[
    			548,
    			548
    		],
    		"mapped",
    		[
    			549
    		]
    	],
    	[
    		[
    			549,
    			549
    		],
    		"valid"
    	],
    	[
    		[
    			550,
    			550
    		],
    		"mapped",
    		[
    			551
    		]
    	],
    	[
    		[
    			551,
    			551
    		],
    		"valid"
    	],
    	[
    		[
    			552,
    			552
    		],
    		"mapped",
    		[
    			553
    		]
    	],
    	[
    		[
    			553,
    			553
    		],
    		"valid"
    	],
    	[
    		[
    			554,
    			554
    		],
    		"mapped",
    		[
    			555
    		]
    	],
    	[
    		[
    			555,
    			555
    		],
    		"valid"
    	],
    	[
    		[
    			556,
    			556
    		],
    		"mapped",
    		[
    			557
    		]
    	],
    	[
    		[
    			557,
    			557
    		],
    		"valid"
    	],
    	[
    		[
    			558,
    			558
    		],
    		"mapped",
    		[
    			559
    		]
    	],
    	[
    		[
    			559,
    			559
    		],
    		"valid"
    	],
    	[
    		[
    			560,
    			560
    		],
    		"mapped",
    		[
    			561
    		]
    	],
    	[
    		[
    			561,
    			561
    		],
    		"valid"
    	],
    	[
    		[
    			562,
    			562
    		],
    		"mapped",
    		[
    			563
    		]
    	],
    	[
    		[
    			563,
    			563
    		],
    		"valid"
    	],
    	[
    		[
    			564,
    			566
    		],
    		"valid"
    	],
    	[
    		[
    			567,
    			569
    		],
    		"valid"
    	],
    	[
    		[
    			570,
    			570
    		],
    		"mapped",
    		[
    			11365
    		]
    	],
    	[
    		[
    			571,
    			571
    		],
    		"mapped",
    		[
    			572
    		]
    	],
    	[
    		[
    			572,
    			572
    		],
    		"valid"
    	],
    	[
    		[
    			573,
    			573
    		],
    		"mapped",
    		[
    			410
    		]
    	],
    	[
    		[
    			574,
    			574
    		],
    		"mapped",
    		[
    			11366
    		]
    	],
    	[
    		[
    			575,
    			576
    		],
    		"valid"
    	],
    	[
    		[
    			577,
    			577
    		],
    		"mapped",
    		[
    			578
    		]
    	],
    	[
    		[
    			578,
    			578
    		],
    		"valid"
    	],
    	[
    		[
    			579,
    			579
    		],
    		"mapped",
    		[
    			384
    		]
    	],
    	[
    		[
    			580,
    			580
    		],
    		"mapped",
    		[
    			649
    		]
    	],
    	[
    		[
    			581,
    			581
    		],
    		"mapped",
    		[
    			652
    		]
    	],
    	[
    		[
    			582,
    			582
    		],
    		"mapped",
    		[
    			583
    		]
    	],
    	[
    		[
    			583,
    			583
    		],
    		"valid"
    	],
    	[
    		[
    			584,
    			584
    		],
    		"mapped",
    		[
    			585
    		]
    	],
    	[
    		[
    			585,
    			585
    		],
    		"valid"
    	],
    	[
    		[
    			586,
    			586
    		],
    		"mapped",
    		[
    			587
    		]
    	],
    	[
    		[
    			587,
    			587
    		],
    		"valid"
    	],
    	[
    		[
    			588,
    			588
    		],
    		"mapped",
    		[
    			589
    		]
    	],
    	[
    		[
    			589,
    			589
    		],
    		"valid"
    	],
    	[
    		[
    			590,
    			590
    		],
    		"mapped",
    		[
    			591
    		]
    	],
    	[
    		[
    			591,
    			591
    		],
    		"valid"
    	],
    	[
    		[
    			592,
    			680
    		],
    		"valid"
    	],
    	[
    		[
    			681,
    			685
    		],
    		"valid"
    	],
    	[
    		[
    			686,
    			687
    		],
    		"valid"
    	],
    	[
    		[
    			688,
    			688
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			689,
    			689
    		],
    		"mapped",
    		[
    			614
    		]
    	],
    	[
    		[
    			690,
    			690
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			691,
    			691
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			692,
    			692
    		],
    		"mapped",
    		[
    			633
    		]
    	],
    	[
    		[
    			693,
    			693
    		],
    		"mapped",
    		[
    			635
    		]
    	],
    	[
    		[
    			694,
    			694
    		],
    		"mapped",
    		[
    			641
    		]
    	],
    	[
    		[
    			695,
    			695
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			696,
    			696
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			697,
    			705
    		],
    		"valid"
    	],
    	[
    		[
    			706,
    			709
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			710,
    			721
    		],
    		"valid"
    	],
    	[
    		[
    			722,
    			727
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			728,
    			728
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			774
    		]
    	],
    	[
    		[
    			729,
    			729
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			775
    		]
    	],
    	[
    		[
    			730,
    			730
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			778
    		]
    	],
    	[
    		[
    			731,
    			731
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			808
    		]
    	],
    	[
    		[
    			732,
    			732
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			771
    		]
    	],
    	[
    		[
    			733,
    			733
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			779
    		]
    	],
    	[
    		[
    			734,
    			734
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			735,
    			735
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			736,
    			736
    		],
    		"mapped",
    		[
    			611
    		]
    	],
    	[
    		[
    			737,
    			737
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			738,
    			738
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			739,
    			739
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			740,
    			740
    		],
    		"mapped",
    		[
    			661
    		]
    	],
    	[
    		[
    			741,
    			745
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			746,
    			747
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			748,
    			748
    		],
    		"valid"
    	],
    	[
    		[
    			749,
    			749
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			750,
    			750
    		],
    		"valid"
    	],
    	[
    		[
    			751,
    			767
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			768,
    			831
    		],
    		"valid"
    	],
    	[
    		[
    			832,
    			832
    		],
    		"mapped",
    		[
    			768
    		]
    	],
    	[
    		[
    			833,
    			833
    		],
    		"mapped",
    		[
    			769
    		]
    	],
    	[
    		[
    			834,
    			834
    		],
    		"valid"
    	],
    	[
    		[
    			835,
    			835
    		],
    		"mapped",
    		[
    			787
    		]
    	],
    	[
    		[
    			836,
    			836
    		],
    		"mapped",
    		[
    			776,
    			769
    		]
    	],
    	[
    		[
    			837,
    			837
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			838,
    			846
    		],
    		"valid"
    	],
    	[
    		[
    			847,
    			847
    		],
    		"ignored"
    	],
    	[
    		[
    			848,
    			855
    		],
    		"valid"
    	],
    	[
    		[
    			856,
    			860
    		],
    		"valid"
    	],
    	[
    		[
    			861,
    			863
    		],
    		"valid"
    	],
    	[
    		[
    			864,
    			865
    		],
    		"valid"
    	],
    	[
    		[
    			866,
    			866
    		],
    		"valid"
    	],
    	[
    		[
    			867,
    			879
    		],
    		"valid"
    	],
    	[
    		[
    			880,
    			880
    		],
    		"mapped",
    		[
    			881
    		]
    	],
    	[
    		[
    			881,
    			881
    		],
    		"valid"
    	],
    	[
    		[
    			882,
    			882
    		],
    		"mapped",
    		[
    			883
    		]
    	],
    	[
    		[
    			883,
    			883
    		],
    		"valid"
    	],
    	[
    		[
    			884,
    			884
    		],
    		"mapped",
    		[
    			697
    		]
    	],
    	[
    		[
    			885,
    			885
    		],
    		"valid"
    	],
    	[
    		[
    			886,
    			886
    		],
    		"mapped",
    		[
    			887
    		]
    	],
    	[
    		[
    			887,
    			887
    		],
    		"valid"
    	],
    	[
    		[
    			888,
    			889
    		],
    		"disallowed"
    	],
    	[
    		[
    			890,
    			890
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			953
    		]
    	],
    	[
    		[
    			891,
    			893
    		],
    		"valid"
    	],
    	[
    		[
    			894,
    			894
    		],
    		"disallowed_STD3_mapped",
    		[
    			59
    		]
    	],
    	[
    		[
    			895,
    			895
    		],
    		"mapped",
    		[
    			1011
    		]
    	],
    	[
    		[
    			896,
    			899
    		],
    		"disallowed"
    	],
    	[
    		[
    			900,
    			900
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			769
    		]
    	],
    	[
    		[
    			901,
    			901
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			776,
    			769
    		]
    	],
    	[
    		[
    			902,
    			902
    		],
    		"mapped",
    		[
    			940
    		]
    	],
    	[
    		[
    			903,
    			903
    		],
    		"mapped",
    		[
    			183
    		]
    	],
    	[
    		[
    			904,
    			904
    		],
    		"mapped",
    		[
    			941
    		]
    	],
    	[
    		[
    			905,
    			905
    		],
    		"mapped",
    		[
    			942
    		]
    	],
    	[
    		[
    			906,
    			906
    		],
    		"mapped",
    		[
    			943
    		]
    	],
    	[
    		[
    			907,
    			907
    		],
    		"disallowed"
    	],
    	[
    		[
    			908,
    			908
    		],
    		"mapped",
    		[
    			972
    		]
    	],
    	[
    		[
    			909,
    			909
    		],
    		"disallowed"
    	],
    	[
    		[
    			910,
    			910
    		],
    		"mapped",
    		[
    			973
    		]
    	],
    	[
    		[
    			911,
    			911
    		],
    		"mapped",
    		[
    			974
    		]
    	],
    	[
    		[
    			912,
    			912
    		],
    		"valid"
    	],
    	[
    		[
    			913,
    			913
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			914,
    			914
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			915,
    			915
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			916,
    			916
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			917,
    			917
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			918,
    			918
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			919,
    			919
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			920,
    			920
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			921,
    			921
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			922,
    			922
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			923,
    			923
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			924,
    			924
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			925,
    			925
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			926,
    			926
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			927,
    			927
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			928,
    			928
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			929,
    			929
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			930,
    			930
    		],
    		"disallowed"
    	],
    	[
    		[
    			931,
    			931
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			932,
    			932
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			933,
    			933
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			934,
    			934
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			935,
    			935
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			936,
    			936
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			937,
    			937
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			938,
    			938
    		],
    		"mapped",
    		[
    			970
    		]
    	],
    	[
    		[
    			939,
    			939
    		],
    		"mapped",
    		[
    			971
    		]
    	],
    	[
    		[
    			940,
    			961
    		],
    		"valid"
    	],
    	[
    		[
    			962,
    			962
    		],
    		"deviation",
    		[
    			963
    		]
    	],
    	[
    		[
    			963,
    			974
    		],
    		"valid"
    	],
    	[
    		[
    			975,
    			975
    		],
    		"mapped",
    		[
    			983
    		]
    	],
    	[
    		[
    			976,
    			976
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			977,
    			977
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			978,
    			978
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			979,
    			979
    		],
    		"mapped",
    		[
    			973
    		]
    	],
    	[
    		[
    			980,
    			980
    		],
    		"mapped",
    		[
    			971
    		]
    	],
    	[
    		[
    			981,
    			981
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			982,
    			982
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			983,
    			983
    		],
    		"valid"
    	],
    	[
    		[
    			984,
    			984
    		],
    		"mapped",
    		[
    			985
    		]
    	],
    	[
    		[
    			985,
    			985
    		],
    		"valid"
    	],
    	[
    		[
    			986,
    			986
    		],
    		"mapped",
    		[
    			987
    		]
    	],
    	[
    		[
    			987,
    			987
    		],
    		"valid"
    	],
    	[
    		[
    			988,
    			988
    		],
    		"mapped",
    		[
    			989
    		]
    	],
    	[
    		[
    			989,
    			989
    		],
    		"valid"
    	],
    	[
    		[
    			990,
    			990
    		],
    		"mapped",
    		[
    			991
    		]
    	],
    	[
    		[
    			991,
    			991
    		],
    		"valid"
    	],
    	[
    		[
    			992,
    			992
    		],
    		"mapped",
    		[
    			993
    		]
    	],
    	[
    		[
    			993,
    			993
    		],
    		"valid"
    	],
    	[
    		[
    			994,
    			994
    		],
    		"mapped",
    		[
    			995
    		]
    	],
    	[
    		[
    			995,
    			995
    		],
    		"valid"
    	],
    	[
    		[
    			996,
    			996
    		],
    		"mapped",
    		[
    			997
    		]
    	],
    	[
    		[
    			997,
    			997
    		],
    		"valid"
    	],
    	[
    		[
    			998,
    			998
    		],
    		"mapped",
    		[
    			999
    		]
    	],
    	[
    		[
    			999,
    			999
    		],
    		"valid"
    	],
    	[
    		[
    			1000,
    			1000
    		],
    		"mapped",
    		[
    			1001
    		]
    	],
    	[
    		[
    			1001,
    			1001
    		],
    		"valid"
    	],
    	[
    		[
    			1002,
    			1002
    		],
    		"mapped",
    		[
    			1003
    		]
    	],
    	[
    		[
    			1003,
    			1003
    		],
    		"valid"
    	],
    	[
    		[
    			1004,
    			1004
    		],
    		"mapped",
    		[
    			1005
    		]
    	],
    	[
    		[
    			1005,
    			1005
    		],
    		"valid"
    	],
    	[
    		[
    			1006,
    			1006
    		],
    		"mapped",
    		[
    			1007
    		]
    	],
    	[
    		[
    			1007,
    			1007
    		],
    		"valid"
    	],
    	[
    		[
    			1008,
    			1008
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			1009,
    			1009
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			1010,
    			1010
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			1011,
    			1011
    		],
    		"valid"
    	],
    	[
    		[
    			1012,
    			1012
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			1013,
    			1013
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			1014,
    			1014
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1015,
    			1015
    		],
    		"mapped",
    		[
    			1016
    		]
    	],
    	[
    		[
    			1016,
    			1016
    		],
    		"valid"
    	],
    	[
    		[
    			1017,
    			1017
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			1018,
    			1018
    		],
    		"mapped",
    		[
    			1019
    		]
    	],
    	[
    		[
    			1019,
    			1019
    		],
    		"valid"
    	],
    	[
    		[
    			1020,
    			1020
    		],
    		"valid"
    	],
    	[
    		[
    			1021,
    			1021
    		],
    		"mapped",
    		[
    			891
    		]
    	],
    	[
    		[
    			1022,
    			1022
    		],
    		"mapped",
    		[
    			892
    		]
    	],
    	[
    		[
    			1023,
    			1023
    		],
    		"mapped",
    		[
    			893
    		]
    	],
    	[
    		[
    			1024,
    			1024
    		],
    		"mapped",
    		[
    			1104
    		]
    	],
    	[
    		[
    			1025,
    			1025
    		],
    		"mapped",
    		[
    			1105
    		]
    	],
    	[
    		[
    			1026,
    			1026
    		],
    		"mapped",
    		[
    			1106
    		]
    	],
    	[
    		[
    			1027,
    			1027
    		],
    		"mapped",
    		[
    			1107
    		]
    	],
    	[
    		[
    			1028,
    			1028
    		],
    		"mapped",
    		[
    			1108
    		]
    	],
    	[
    		[
    			1029,
    			1029
    		],
    		"mapped",
    		[
    			1109
    		]
    	],
    	[
    		[
    			1030,
    			1030
    		],
    		"mapped",
    		[
    			1110
    		]
    	],
    	[
    		[
    			1031,
    			1031
    		],
    		"mapped",
    		[
    			1111
    		]
    	],
    	[
    		[
    			1032,
    			1032
    		],
    		"mapped",
    		[
    			1112
    		]
    	],
    	[
    		[
    			1033,
    			1033
    		],
    		"mapped",
    		[
    			1113
    		]
    	],
    	[
    		[
    			1034,
    			1034
    		],
    		"mapped",
    		[
    			1114
    		]
    	],
    	[
    		[
    			1035,
    			1035
    		],
    		"mapped",
    		[
    			1115
    		]
    	],
    	[
    		[
    			1036,
    			1036
    		],
    		"mapped",
    		[
    			1116
    		]
    	],
    	[
    		[
    			1037,
    			1037
    		],
    		"mapped",
    		[
    			1117
    		]
    	],
    	[
    		[
    			1038,
    			1038
    		],
    		"mapped",
    		[
    			1118
    		]
    	],
    	[
    		[
    			1039,
    			1039
    		],
    		"mapped",
    		[
    			1119
    		]
    	],
    	[
    		[
    			1040,
    			1040
    		],
    		"mapped",
    		[
    			1072
    		]
    	],
    	[
    		[
    			1041,
    			1041
    		],
    		"mapped",
    		[
    			1073
    		]
    	],
    	[
    		[
    			1042,
    			1042
    		],
    		"mapped",
    		[
    			1074
    		]
    	],
    	[
    		[
    			1043,
    			1043
    		],
    		"mapped",
    		[
    			1075
    		]
    	],
    	[
    		[
    			1044,
    			1044
    		],
    		"mapped",
    		[
    			1076
    		]
    	],
    	[
    		[
    			1045,
    			1045
    		],
    		"mapped",
    		[
    			1077
    		]
    	],
    	[
    		[
    			1046,
    			1046
    		],
    		"mapped",
    		[
    			1078
    		]
    	],
    	[
    		[
    			1047,
    			1047
    		],
    		"mapped",
    		[
    			1079
    		]
    	],
    	[
    		[
    			1048,
    			1048
    		],
    		"mapped",
    		[
    			1080
    		]
    	],
    	[
    		[
    			1049,
    			1049
    		],
    		"mapped",
    		[
    			1081
    		]
    	],
    	[
    		[
    			1050,
    			1050
    		],
    		"mapped",
    		[
    			1082
    		]
    	],
    	[
    		[
    			1051,
    			1051
    		],
    		"mapped",
    		[
    			1083
    		]
    	],
    	[
    		[
    			1052,
    			1052
    		],
    		"mapped",
    		[
    			1084
    		]
    	],
    	[
    		[
    			1053,
    			1053
    		],
    		"mapped",
    		[
    			1085
    		]
    	],
    	[
    		[
    			1054,
    			1054
    		],
    		"mapped",
    		[
    			1086
    		]
    	],
    	[
    		[
    			1055,
    			1055
    		],
    		"mapped",
    		[
    			1087
    		]
    	],
    	[
    		[
    			1056,
    			1056
    		],
    		"mapped",
    		[
    			1088
    		]
    	],
    	[
    		[
    			1057,
    			1057
    		],
    		"mapped",
    		[
    			1089
    		]
    	],
    	[
    		[
    			1058,
    			1058
    		],
    		"mapped",
    		[
    			1090
    		]
    	],
    	[
    		[
    			1059,
    			1059
    		],
    		"mapped",
    		[
    			1091
    		]
    	],
    	[
    		[
    			1060,
    			1060
    		],
    		"mapped",
    		[
    			1092
    		]
    	],
    	[
    		[
    			1061,
    			1061
    		],
    		"mapped",
    		[
    			1093
    		]
    	],
    	[
    		[
    			1062,
    			1062
    		],
    		"mapped",
    		[
    			1094
    		]
    	],
    	[
    		[
    			1063,
    			1063
    		],
    		"mapped",
    		[
    			1095
    		]
    	],
    	[
    		[
    			1064,
    			1064
    		],
    		"mapped",
    		[
    			1096
    		]
    	],
    	[
    		[
    			1065,
    			1065
    		],
    		"mapped",
    		[
    			1097
    		]
    	],
    	[
    		[
    			1066,
    			1066
    		],
    		"mapped",
    		[
    			1098
    		]
    	],
    	[
    		[
    			1067,
    			1067
    		],
    		"mapped",
    		[
    			1099
    		]
    	],
    	[
    		[
    			1068,
    			1068
    		],
    		"mapped",
    		[
    			1100
    		]
    	],
    	[
    		[
    			1069,
    			1069
    		],
    		"mapped",
    		[
    			1101
    		]
    	],
    	[
    		[
    			1070,
    			1070
    		],
    		"mapped",
    		[
    			1102
    		]
    	],
    	[
    		[
    			1071,
    			1071
    		],
    		"mapped",
    		[
    			1103
    		]
    	],
    	[
    		[
    			1072,
    			1103
    		],
    		"valid"
    	],
    	[
    		[
    			1104,
    			1104
    		],
    		"valid"
    	],
    	[
    		[
    			1105,
    			1116
    		],
    		"valid"
    	],
    	[
    		[
    			1117,
    			1117
    		],
    		"valid"
    	],
    	[
    		[
    			1118,
    			1119
    		],
    		"valid"
    	],
    	[
    		[
    			1120,
    			1120
    		],
    		"mapped",
    		[
    			1121
    		]
    	],
    	[
    		[
    			1121,
    			1121
    		],
    		"valid"
    	],
    	[
    		[
    			1122,
    			1122
    		],
    		"mapped",
    		[
    			1123
    		]
    	],
    	[
    		[
    			1123,
    			1123
    		],
    		"valid"
    	],
    	[
    		[
    			1124,
    			1124
    		],
    		"mapped",
    		[
    			1125
    		]
    	],
    	[
    		[
    			1125,
    			1125
    		],
    		"valid"
    	],
    	[
    		[
    			1126,
    			1126
    		],
    		"mapped",
    		[
    			1127
    		]
    	],
    	[
    		[
    			1127,
    			1127
    		],
    		"valid"
    	],
    	[
    		[
    			1128,
    			1128
    		],
    		"mapped",
    		[
    			1129
    		]
    	],
    	[
    		[
    			1129,
    			1129
    		],
    		"valid"
    	],
    	[
    		[
    			1130,
    			1130
    		],
    		"mapped",
    		[
    			1131
    		]
    	],
    	[
    		[
    			1131,
    			1131
    		],
    		"valid"
    	],
    	[
    		[
    			1132,
    			1132
    		],
    		"mapped",
    		[
    			1133
    		]
    	],
    	[
    		[
    			1133,
    			1133
    		],
    		"valid"
    	],
    	[
    		[
    			1134,
    			1134
    		],
    		"mapped",
    		[
    			1135
    		]
    	],
    	[
    		[
    			1135,
    			1135
    		],
    		"valid"
    	],
    	[
    		[
    			1136,
    			1136
    		],
    		"mapped",
    		[
    			1137
    		]
    	],
    	[
    		[
    			1137,
    			1137
    		],
    		"valid"
    	],
    	[
    		[
    			1138,
    			1138
    		],
    		"mapped",
    		[
    			1139
    		]
    	],
    	[
    		[
    			1139,
    			1139
    		],
    		"valid"
    	],
    	[
    		[
    			1140,
    			1140
    		],
    		"mapped",
    		[
    			1141
    		]
    	],
    	[
    		[
    			1141,
    			1141
    		],
    		"valid"
    	],
    	[
    		[
    			1142,
    			1142
    		],
    		"mapped",
    		[
    			1143
    		]
    	],
    	[
    		[
    			1143,
    			1143
    		],
    		"valid"
    	],
    	[
    		[
    			1144,
    			1144
    		],
    		"mapped",
    		[
    			1145
    		]
    	],
    	[
    		[
    			1145,
    			1145
    		],
    		"valid"
    	],
    	[
    		[
    			1146,
    			1146
    		],
    		"mapped",
    		[
    			1147
    		]
    	],
    	[
    		[
    			1147,
    			1147
    		],
    		"valid"
    	],
    	[
    		[
    			1148,
    			1148
    		],
    		"mapped",
    		[
    			1149
    		]
    	],
    	[
    		[
    			1149,
    			1149
    		],
    		"valid"
    	],
    	[
    		[
    			1150,
    			1150
    		],
    		"mapped",
    		[
    			1151
    		]
    	],
    	[
    		[
    			1151,
    			1151
    		],
    		"valid"
    	],
    	[
    		[
    			1152,
    			1152
    		],
    		"mapped",
    		[
    			1153
    		]
    	],
    	[
    		[
    			1153,
    			1153
    		],
    		"valid"
    	],
    	[
    		[
    			1154,
    			1154
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1155,
    			1158
    		],
    		"valid"
    	],
    	[
    		[
    			1159,
    			1159
    		],
    		"valid"
    	],
    	[
    		[
    			1160,
    			1161
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1162,
    			1162
    		],
    		"mapped",
    		[
    			1163
    		]
    	],
    	[
    		[
    			1163,
    			1163
    		],
    		"valid"
    	],
    	[
    		[
    			1164,
    			1164
    		],
    		"mapped",
    		[
    			1165
    		]
    	],
    	[
    		[
    			1165,
    			1165
    		],
    		"valid"
    	],
    	[
    		[
    			1166,
    			1166
    		],
    		"mapped",
    		[
    			1167
    		]
    	],
    	[
    		[
    			1167,
    			1167
    		],
    		"valid"
    	],
    	[
    		[
    			1168,
    			1168
    		],
    		"mapped",
    		[
    			1169
    		]
    	],
    	[
    		[
    			1169,
    			1169
    		],
    		"valid"
    	],
    	[
    		[
    			1170,
    			1170
    		],
    		"mapped",
    		[
    			1171
    		]
    	],
    	[
    		[
    			1171,
    			1171
    		],
    		"valid"
    	],
    	[
    		[
    			1172,
    			1172
    		],
    		"mapped",
    		[
    			1173
    		]
    	],
    	[
    		[
    			1173,
    			1173
    		],
    		"valid"
    	],
    	[
    		[
    			1174,
    			1174
    		],
    		"mapped",
    		[
    			1175
    		]
    	],
    	[
    		[
    			1175,
    			1175
    		],
    		"valid"
    	],
    	[
    		[
    			1176,
    			1176
    		],
    		"mapped",
    		[
    			1177
    		]
    	],
    	[
    		[
    			1177,
    			1177
    		],
    		"valid"
    	],
    	[
    		[
    			1178,
    			1178
    		],
    		"mapped",
    		[
    			1179
    		]
    	],
    	[
    		[
    			1179,
    			1179
    		],
    		"valid"
    	],
    	[
    		[
    			1180,
    			1180
    		],
    		"mapped",
    		[
    			1181
    		]
    	],
    	[
    		[
    			1181,
    			1181
    		],
    		"valid"
    	],
    	[
    		[
    			1182,
    			1182
    		],
    		"mapped",
    		[
    			1183
    		]
    	],
    	[
    		[
    			1183,
    			1183
    		],
    		"valid"
    	],
    	[
    		[
    			1184,
    			1184
    		],
    		"mapped",
    		[
    			1185
    		]
    	],
    	[
    		[
    			1185,
    			1185
    		],
    		"valid"
    	],
    	[
    		[
    			1186,
    			1186
    		],
    		"mapped",
    		[
    			1187
    		]
    	],
    	[
    		[
    			1187,
    			1187
    		],
    		"valid"
    	],
    	[
    		[
    			1188,
    			1188
    		],
    		"mapped",
    		[
    			1189
    		]
    	],
    	[
    		[
    			1189,
    			1189
    		],
    		"valid"
    	],
    	[
    		[
    			1190,
    			1190
    		],
    		"mapped",
    		[
    			1191
    		]
    	],
    	[
    		[
    			1191,
    			1191
    		],
    		"valid"
    	],
    	[
    		[
    			1192,
    			1192
    		],
    		"mapped",
    		[
    			1193
    		]
    	],
    	[
    		[
    			1193,
    			1193
    		],
    		"valid"
    	],
    	[
    		[
    			1194,
    			1194
    		],
    		"mapped",
    		[
    			1195
    		]
    	],
    	[
    		[
    			1195,
    			1195
    		],
    		"valid"
    	],
    	[
    		[
    			1196,
    			1196
    		],
    		"mapped",
    		[
    			1197
    		]
    	],
    	[
    		[
    			1197,
    			1197
    		],
    		"valid"
    	],
    	[
    		[
    			1198,
    			1198
    		],
    		"mapped",
    		[
    			1199
    		]
    	],
    	[
    		[
    			1199,
    			1199
    		],
    		"valid"
    	],
    	[
    		[
    			1200,
    			1200
    		],
    		"mapped",
    		[
    			1201
    		]
    	],
    	[
    		[
    			1201,
    			1201
    		],
    		"valid"
    	],
    	[
    		[
    			1202,
    			1202
    		],
    		"mapped",
    		[
    			1203
    		]
    	],
    	[
    		[
    			1203,
    			1203
    		],
    		"valid"
    	],
    	[
    		[
    			1204,
    			1204
    		],
    		"mapped",
    		[
    			1205
    		]
    	],
    	[
    		[
    			1205,
    			1205
    		],
    		"valid"
    	],
    	[
    		[
    			1206,
    			1206
    		],
    		"mapped",
    		[
    			1207
    		]
    	],
    	[
    		[
    			1207,
    			1207
    		],
    		"valid"
    	],
    	[
    		[
    			1208,
    			1208
    		],
    		"mapped",
    		[
    			1209
    		]
    	],
    	[
    		[
    			1209,
    			1209
    		],
    		"valid"
    	],
    	[
    		[
    			1210,
    			1210
    		],
    		"mapped",
    		[
    			1211
    		]
    	],
    	[
    		[
    			1211,
    			1211
    		],
    		"valid"
    	],
    	[
    		[
    			1212,
    			1212
    		],
    		"mapped",
    		[
    			1213
    		]
    	],
    	[
    		[
    			1213,
    			1213
    		],
    		"valid"
    	],
    	[
    		[
    			1214,
    			1214
    		],
    		"mapped",
    		[
    			1215
    		]
    	],
    	[
    		[
    			1215,
    			1215
    		],
    		"valid"
    	],
    	[
    		[
    			1216,
    			1216
    		],
    		"disallowed"
    	],
    	[
    		[
    			1217,
    			1217
    		],
    		"mapped",
    		[
    			1218
    		]
    	],
    	[
    		[
    			1218,
    			1218
    		],
    		"valid"
    	],
    	[
    		[
    			1219,
    			1219
    		],
    		"mapped",
    		[
    			1220
    		]
    	],
    	[
    		[
    			1220,
    			1220
    		],
    		"valid"
    	],
    	[
    		[
    			1221,
    			1221
    		],
    		"mapped",
    		[
    			1222
    		]
    	],
    	[
    		[
    			1222,
    			1222
    		],
    		"valid"
    	],
    	[
    		[
    			1223,
    			1223
    		],
    		"mapped",
    		[
    			1224
    		]
    	],
    	[
    		[
    			1224,
    			1224
    		],
    		"valid"
    	],
    	[
    		[
    			1225,
    			1225
    		],
    		"mapped",
    		[
    			1226
    		]
    	],
    	[
    		[
    			1226,
    			1226
    		],
    		"valid"
    	],
    	[
    		[
    			1227,
    			1227
    		],
    		"mapped",
    		[
    			1228
    		]
    	],
    	[
    		[
    			1228,
    			1228
    		],
    		"valid"
    	],
    	[
    		[
    			1229,
    			1229
    		],
    		"mapped",
    		[
    			1230
    		]
    	],
    	[
    		[
    			1230,
    			1230
    		],
    		"valid"
    	],
    	[
    		[
    			1231,
    			1231
    		],
    		"valid"
    	],
    	[
    		[
    			1232,
    			1232
    		],
    		"mapped",
    		[
    			1233
    		]
    	],
    	[
    		[
    			1233,
    			1233
    		],
    		"valid"
    	],
    	[
    		[
    			1234,
    			1234
    		],
    		"mapped",
    		[
    			1235
    		]
    	],
    	[
    		[
    			1235,
    			1235
    		],
    		"valid"
    	],
    	[
    		[
    			1236,
    			1236
    		],
    		"mapped",
    		[
    			1237
    		]
    	],
    	[
    		[
    			1237,
    			1237
    		],
    		"valid"
    	],
    	[
    		[
    			1238,
    			1238
    		],
    		"mapped",
    		[
    			1239
    		]
    	],
    	[
    		[
    			1239,
    			1239
    		],
    		"valid"
    	],
    	[
    		[
    			1240,
    			1240
    		],
    		"mapped",
    		[
    			1241
    		]
    	],
    	[
    		[
    			1241,
    			1241
    		],
    		"valid"
    	],
    	[
    		[
    			1242,
    			1242
    		],
    		"mapped",
    		[
    			1243
    		]
    	],
    	[
    		[
    			1243,
    			1243
    		],
    		"valid"
    	],
    	[
    		[
    			1244,
    			1244
    		],
    		"mapped",
    		[
    			1245
    		]
    	],
    	[
    		[
    			1245,
    			1245
    		],
    		"valid"
    	],
    	[
    		[
    			1246,
    			1246
    		],
    		"mapped",
    		[
    			1247
    		]
    	],
    	[
    		[
    			1247,
    			1247
    		],
    		"valid"
    	],
    	[
    		[
    			1248,
    			1248
    		],
    		"mapped",
    		[
    			1249
    		]
    	],
    	[
    		[
    			1249,
    			1249
    		],
    		"valid"
    	],
    	[
    		[
    			1250,
    			1250
    		],
    		"mapped",
    		[
    			1251
    		]
    	],
    	[
    		[
    			1251,
    			1251
    		],
    		"valid"
    	],
    	[
    		[
    			1252,
    			1252
    		],
    		"mapped",
    		[
    			1253
    		]
    	],
    	[
    		[
    			1253,
    			1253
    		],
    		"valid"
    	],
    	[
    		[
    			1254,
    			1254
    		],
    		"mapped",
    		[
    			1255
    		]
    	],
    	[
    		[
    			1255,
    			1255
    		],
    		"valid"
    	],
    	[
    		[
    			1256,
    			1256
    		],
    		"mapped",
    		[
    			1257
    		]
    	],
    	[
    		[
    			1257,
    			1257
    		],
    		"valid"
    	],
    	[
    		[
    			1258,
    			1258
    		],
    		"mapped",
    		[
    			1259
    		]
    	],
    	[
    		[
    			1259,
    			1259
    		],
    		"valid"
    	],
    	[
    		[
    			1260,
    			1260
    		],
    		"mapped",
    		[
    			1261
    		]
    	],
    	[
    		[
    			1261,
    			1261
    		],
    		"valid"
    	],
    	[
    		[
    			1262,
    			1262
    		],
    		"mapped",
    		[
    			1263
    		]
    	],
    	[
    		[
    			1263,
    			1263
    		],
    		"valid"
    	],
    	[
    		[
    			1264,
    			1264
    		],
    		"mapped",
    		[
    			1265
    		]
    	],
    	[
    		[
    			1265,
    			1265
    		],
    		"valid"
    	],
    	[
    		[
    			1266,
    			1266
    		],
    		"mapped",
    		[
    			1267
    		]
    	],
    	[
    		[
    			1267,
    			1267
    		],
    		"valid"
    	],
    	[
    		[
    			1268,
    			1268
    		],
    		"mapped",
    		[
    			1269
    		]
    	],
    	[
    		[
    			1269,
    			1269
    		],
    		"valid"
    	],
    	[
    		[
    			1270,
    			1270
    		],
    		"mapped",
    		[
    			1271
    		]
    	],
    	[
    		[
    			1271,
    			1271
    		],
    		"valid"
    	],
    	[
    		[
    			1272,
    			1272
    		],
    		"mapped",
    		[
    			1273
    		]
    	],
    	[
    		[
    			1273,
    			1273
    		],
    		"valid"
    	],
    	[
    		[
    			1274,
    			1274
    		],
    		"mapped",
    		[
    			1275
    		]
    	],
    	[
    		[
    			1275,
    			1275
    		],
    		"valid"
    	],
    	[
    		[
    			1276,
    			1276
    		],
    		"mapped",
    		[
    			1277
    		]
    	],
    	[
    		[
    			1277,
    			1277
    		],
    		"valid"
    	],
    	[
    		[
    			1278,
    			1278
    		],
    		"mapped",
    		[
    			1279
    		]
    	],
    	[
    		[
    			1279,
    			1279
    		],
    		"valid"
    	],
    	[
    		[
    			1280,
    			1280
    		],
    		"mapped",
    		[
    			1281
    		]
    	],
    	[
    		[
    			1281,
    			1281
    		],
    		"valid"
    	],
    	[
    		[
    			1282,
    			1282
    		],
    		"mapped",
    		[
    			1283
    		]
    	],
    	[
    		[
    			1283,
    			1283
    		],
    		"valid"
    	],
    	[
    		[
    			1284,
    			1284
    		],
    		"mapped",
    		[
    			1285
    		]
    	],
    	[
    		[
    			1285,
    			1285
    		],
    		"valid"
    	],
    	[
    		[
    			1286,
    			1286
    		],
    		"mapped",
    		[
    			1287
    		]
    	],
    	[
    		[
    			1287,
    			1287
    		],
    		"valid"
    	],
    	[
    		[
    			1288,
    			1288
    		],
    		"mapped",
    		[
    			1289
    		]
    	],
    	[
    		[
    			1289,
    			1289
    		],
    		"valid"
    	],
    	[
    		[
    			1290,
    			1290
    		],
    		"mapped",
    		[
    			1291
    		]
    	],
    	[
    		[
    			1291,
    			1291
    		],
    		"valid"
    	],
    	[
    		[
    			1292,
    			1292
    		],
    		"mapped",
    		[
    			1293
    		]
    	],
    	[
    		[
    			1293,
    			1293
    		],
    		"valid"
    	],
    	[
    		[
    			1294,
    			1294
    		],
    		"mapped",
    		[
    			1295
    		]
    	],
    	[
    		[
    			1295,
    			1295
    		],
    		"valid"
    	],
    	[
    		[
    			1296,
    			1296
    		],
    		"mapped",
    		[
    			1297
    		]
    	],
    	[
    		[
    			1297,
    			1297
    		],
    		"valid"
    	],
    	[
    		[
    			1298,
    			1298
    		],
    		"mapped",
    		[
    			1299
    		]
    	],
    	[
    		[
    			1299,
    			1299
    		],
    		"valid"
    	],
    	[
    		[
    			1300,
    			1300
    		],
    		"mapped",
    		[
    			1301
    		]
    	],
    	[
    		[
    			1301,
    			1301
    		],
    		"valid"
    	],
    	[
    		[
    			1302,
    			1302
    		],
    		"mapped",
    		[
    			1303
    		]
    	],
    	[
    		[
    			1303,
    			1303
    		],
    		"valid"
    	],
    	[
    		[
    			1304,
    			1304
    		],
    		"mapped",
    		[
    			1305
    		]
    	],
    	[
    		[
    			1305,
    			1305
    		],
    		"valid"
    	],
    	[
    		[
    			1306,
    			1306
    		],
    		"mapped",
    		[
    			1307
    		]
    	],
    	[
    		[
    			1307,
    			1307
    		],
    		"valid"
    	],
    	[
    		[
    			1308,
    			1308
    		],
    		"mapped",
    		[
    			1309
    		]
    	],
    	[
    		[
    			1309,
    			1309
    		],
    		"valid"
    	],
    	[
    		[
    			1310,
    			1310
    		],
    		"mapped",
    		[
    			1311
    		]
    	],
    	[
    		[
    			1311,
    			1311
    		],
    		"valid"
    	],
    	[
    		[
    			1312,
    			1312
    		],
    		"mapped",
    		[
    			1313
    		]
    	],
    	[
    		[
    			1313,
    			1313
    		],
    		"valid"
    	],
    	[
    		[
    			1314,
    			1314
    		],
    		"mapped",
    		[
    			1315
    		]
    	],
    	[
    		[
    			1315,
    			1315
    		],
    		"valid"
    	],
    	[
    		[
    			1316,
    			1316
    		],
    		"mapped",
    		[
    			1317
    		]
    	],
    	[
    		[
    			1317,
    			1317
    		],
    		"valid"
    	],
    	[
    		[
    			1318,
    			1318
    		],
    		"mapped",
    		[
    			1319
    		]
    	],
    	[
    		[
    			1319,
    			1319
    		],
    		"valid"
    	],
    	[
    		[
    			1320,
    			1320
    		],
    		"mapped",
    		[
    			1321
    		]
    	],
    	[
    		[
    			1321,
    			1321
    		],
    		"valid"
    	],
    	[
    		[
    			1322,
    			1322
    		],
    		"mapped",
    		[
    			1323
    		]
    	],
    	[
    		[
    			1323,
    			1323
    		],
    		"valid"
    	],
    	[
    		[
    			1324,
    			1324
    		],
    		"mapped",
    		[
    			1325
    		]
    	],
    	[
    		[
    			1325,
    			1325
    		],
    		"valid"
    	],
    	[
    		[
    			1326,
    			1326
    		],
    		"mapped",
    		[
    			1327
    		]
    	],
    	[
    		[
    			1327,
    			1327
    		],
    		"valid"
    	],
    	[
    		[
    			1328,
    			1328
    		],
    		"disallowed"
    	],
    	[
    		[
    			1329,
    			1329
    		],
    		"mapped",
    		[
    			1377
    		]
    	],
    	[
    		[
    			1330,
    			1330
    		],
    		"mapped",
    		[
    			1378
    		]
    	],
    	[
    		[
    			1331,
    			1331
    		],
    		"mapped",
    		[
    			1379
    		]
    	],
    	[
    		[
    			1332,
    			1332
    		],
    		"mapped",
    		[
    			1380
    		]
    	],
    	[
    		[
    			1333,
    			1333
    		],
    		"mapped",
    		[
    			1381
    		]
    	],
    	[
    		[
    			1334,
    			1334
    		],
    		"mapped",
    		[
    			1382
    		]
    	],
    	[
    		[
    			1335,
    			1335
    		],
    		"mapped",
    		[
    			1383
    		]
    	],
    	[
    		[
    			1336,
    			1336
    		],
    		"mapped",
    		[
    			1384
    		]
    	],
    	[
    		[
    			1337,
    			1337
    		],
    		"mapped",
    		[
    			1385
    		]
    	],
    	[
    		[
    			1338,
    			1338
    		],
    		"mapped",
    		[
    			1386
    		]
    	],
    	[
    		[
    			1339,
    			1339
    		],
    		"mapped",
    		[
    			1387
    		]
    	],
    	[
    		[
    			1340,
    			1340
    		],
    		"mapped",
    		[
    			1388
    		]
    	],
    	[
    		[
    			1341,
    			1341
    		],
    		"mapped",
    		[
    			1389
    		]
    	],
    	[
    		[
    			1342,
    			1342
    		],
    		"mapped",
    		[
    			1390
    		]
    	],
    	[
    		[
    			1343,
    			1343
    		],
    		"mapped",
    		[
    			1391
    		]
    	],
    	[
    		[
    			1344,
    			1344
    		],
    		"mapped",
    		[
    			1392
    		]
    	],
    	[
    		[
    			1345,
    			1345
    		],
    		"mapped",
    		[
    			1393
    		]
    	],
    	[
    		[
    			1346,
    			1346
    		],
    		"mapped",
    		[
    			1394
    		]
    	],
    	[
    		[
    			1347,
    			1347
    		],
    		"mapped",
    		[
    			1395
    		]
    	],
    	[
    		[
    			1348,
    			1348
    		],
    		"mapped",
    		[
    			1396
    		]
    	],
    	[
    		[
    			1349,
    			1349
    		],
    		"mapped",
    		[
    			1397
    		]
    	],
    	[
    		[
    			1350,
    			1350
    		],
    		"mapped",
    		[
    			1398
    		]
    	],
    	[
    		[
    			1351,
    			1351
    		],
    		"mapped",
    		[
    			1399
    		]
    	],
    	[
    		[
    			1352,
    			1352
    		],
    		"mapped",
    		[
    			1400
    		]
    	],
    	[
    		[
    			1353,
    			1353
    		],
    		"mapped",
    		[
    			1401
    		]
    	],
    	[
    		[
    			1354,
    			1354
    		],
    		"mapped",
    		[
    			1402
    		]
    	],
    	[
    		[
    			1355,
    			1355
    		],
    		"mapped",
    		[
    			1403
    		]
    	],
    	[
    		[
    			1356,
    			1356
    		],
    		"mapped",
    		[
    			1404
    		]
    	],
    	[
    		[
    			1357,
    			1357
    		],
    		"mapped",
    		[
    			1405
    		]
    	],
    	[
    		[
    			1358,
    			1358
    		],
    		"mapped",
    		[
    			1406
    		]
    	],
    	[
    		[
    			1359,
    			1359
    		],
    		"mapped",
    		[
    			1407
    		]
    	],
    	[
    		[
    			1360,
    			1360
    		],
    		"mapped",
    		[
    			1408
    		]
    	],
    	[
    		[
    			1361,
    			1361
    		],
    		"mapped",
    		[
    			1409
    		]
    	],
    	[
    		[
    			1362,
    			1362
    		],
    		"mapped",
    		[
    			1410
    		]
    	],
    	[
    		[
    			1363,
    			1363
    		],
    		"mapped",
    		[
    			1411
    		]
    	],
    	[
    		[
    			1364,
    			1364
    		],
    		"mapped",
    		[
    			1412
    		]
    	],
    	[
    		[
    			1365,
    			1365
    		],
    		"mapped",
    		[
    			1413
    		]
    	],
    	[
    		[
    			1366,
    			1366
    		],
    		"mapped",
    		[
    			1414
    		]
    	],
    	[
    		[
    			1367,
    			1368
    		],
    		"disallowed"
    	],
    	[
    		[
    			1369,
    			1369
    		],
    		"valid"
    	],
    	[
    		[
    			1370,
    			1375
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1376,
    			1376
    		],
    		"disallowed"
    	],
    	[
    		[
    			1377,
    			1414
    		],
    		"valid"
    	],
    	[
    		[
    			1415,
    			1415
    		],
    		"mapped",
    		[
    			1381,
    			1410
    		]
    	],
    	[
    		[
    			1416,
    			1416
    		],
    		"disallowed"
    	],
    	[
    		[
    			1417,
    			1417
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1418,
    			1418
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1419,
    			1420
    		],
    		"disallowed"
    	],
    	[
    		[
    			1421,
    			1422
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1423,
    			1423
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1424,
    			1424
    		],
    		"disallowed"
    	],
    	[
    		[
    			1425,
    			1441
    		],
    		"valid"
    	],
    	[
    		[
    			1442,
    			1442
    		],
    		"valid"
    	],
    	[
    		[
    			1443,
    			1455
    		],
    		"valid"
    	],
    	[
    		[
    			1456,
    			1465
    		],
    		"valid"
    	],
    	[
    		[
    			1466,
    			1466
    		],
    		"valid"
    	],
    	[
    		[
    			1467,
    			1469
    		],
    		"valid"
    	],
    	[
    		[
    			1470,
    			1470
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1471,
    			1471
    		],
    		"valid"
    	],
    	[
    		[
    			1472,
    			1472
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1473,
    			1474
    		],
    		"valid"
    	],
    	[
    		[
    			1475,
    			1475
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1476,
    			1476
    		],
    		"valid"
    	],
    	[
    		[
    			1477,
    			1477
    		],
    		"valid"
    	],
    	[
    		[
    			1478,
    			1478
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1479,
    			1479
    		],
    		"valid"
    	],
    	[
    		[
    			1480,
    			1487
    		],
    		"disallowed"
    	],
    	[
    		[
    			1488,
    			1514
    		],
    		"valid"
    	],
    	[
    		[
    			1515,
    			1519
    		],
    		"disallowed"
    	],
    	[
    		[
    			1520,
    			1524
    		],
    		"valid"
    	],
    	[
    		[
    			1525,
    			1535
    		],
    		"disallowed"
    	],
    	[
    		[
    			1536,
    			1539
    		],
    		"disallowed"
    	],
    	[
    		[
    			1540,
    			1540
    		],
    		"disallowed"
    	],
    	[
    		[
    			1541,
    			1541
    		],
    		"disallowed"
    	],
    	[
    		[
    			1542,
    			1546
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1547,
    			1547
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1548,
    			1548
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1549,
    			1551
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1552,
    			1557
    		],
    		"valid"
    	],
    	[
    		[
    			1558,
    			1562
    		],
    		"valid"
    	],
    	[
    		[
    			1563,
    			1563
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1564,
    			1564
    		],
    		"disallowed"
    	],
    	[
    		[
    			1565,
    			1565
    		],
    		"disallowed"
    	],
    	[
    		[
    			1566,
    			1566
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1567,
    			1567
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1568,
    			1568
    		],
    		"valid"
    	],
    	[
    		[
    			1569,
    			1594
    		],
    		"valid"
    	],
    	[
    		[
    			1595,
    			1599
    		],
    		"valid"
    	],
    	[
    		[
    			1600,
    			1600
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1601,
    			1618
    		],
    		"valid"
    	],
    	[
    		[
    			1619,
    			1621
    		],
    		"valid"
    	],
    	[
    		[
    			1622,
    			1624
    		],
    		"valid"
    	],
    	[
    		[
    			1625,
    			1630
    		],
    		"valid"
    	],
    	[
    		[
    			1631,
    			1631
    		],
    		"valid"
    	],
    	[
    		[
    			1632,
    			1641
    		],
    		"valid"
    	],
    	[
    		[
    			1642,
    			1645
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1646,
    			1647
    		],
    		"valid"
    	],
    	[
    		[
    			1648,
    			1652
    		],
    		"valid"
    	],
    	[
    		[
    			1653,
    			1653
    		],
    		"mapped",
    		[
    			1575,
    			1652
    		]
    	],
    	[
    		[
    			1654,
    			1654
    		],
    		"mapped",
    		[
    			1608,
    			1652
    		]
    	],
    	[
    		[
    			1655,
    			1655
    		],
    		"mapped",
    		[
    			1735,
    			1652
    		]
    	],
    	[
    		[
    			1656,
    			1656
    		],
    		"mapped",
    		[
    			1610,
    			1652
    		]
    	],
    	[
    		[
    			1657,
    			1719
    		],
    		"valid"
    	],
    	[
    		[
    			1720,
    			1721
    		],
    		"valid"
    	],
    	[
    		[
    			1722,
    			1726
    		],
    		"valid"
    	],
    	[
    		[
    			1727,
    			1727
    		],
    		"valid"
    	],
    	[
    		[
    			1728,
    			1742
    		],
    		"valid"
    	],
    	[
    		[
    			1743,
    			1743
    		],
    		"valid"
    	],
    	[
    		[
    			1744,
    			1747
    		],
    		"valid"
    	],
    	[
    		[
    			1748,
    			1748
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1749,
    			1756
    		],
    		"valid"
    	],
    	[
    		[
    			1757,
    			1757
    		],
    		"disallowed"
    	],
    	[
    		[
    			1758,
    			1758
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1759,
    			1768
    		],
    		"valid"
    	],
    	[
    		[
    			1769,
    			1769
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1770,
    			1773
    		],
    		"valid"
    	],
    	[
    		[
    			1774,
    			1775
    		],
    		"valid"
    	],
    	[
    		[
    			1776,
    			1785
    		],
    		"valid"
    	],
    	[
    		[
    			1786,
    			1790
    		],
    		"valid"
    	],
    	[
    		[
    			1791,
    			1791
    		],
    		"valid"
    	],
    	[
    		[
    			1792,
    			1805
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			1806,
    			1806
    		],
    		"disallowed"
    	],
    	[
    		[
    			1807,
    			1807
    		],
    		"disallowed"
    	],
    	[
    		[
    			1808,
    			1836
    		],
    		"valid"
    	],
    	[
    		[
    			1837,
    			1839
    		],
    		"valid"
    	],
    	[
    		[
    			1840,
    			1866
    		],
    		"valid"
    	],
    	[
    		[
    			1867,
    			1868
    		],
    		"disallowed"
    	],
    	[
    		[
    			1869,
    			1871
    		],
    		"valid"
    	],
    	[
    		[
    			1872,
    			1901
    		],
    		"valid"
    	],
    	[
    		[
    			1902,
    			1919
    		],
    		"valid"
    	],
    	[
    		[
    			1920,
    			1968
    		],
    		"valid"
    	],
    	[
    		[
    			1969,
    			1969
    		],
    		"valid"
    	],
    	[
    		[
    			1970,
    			1983
    		],
    		"disallowed"
    	],
    	[
    		[
    			1984,
    			2037
    		],
    		"valid"
    	],
    	[
    		[
    			2038,
    			2042
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2043,
    			2047
    		],
    		"disallowed"
    	],
    	[
    		[
    			2048,
    			2093
    		],
    		"valid"
    	],
    	[
    		[
    			2094,
    			2095
    		],
    		"disallowed"
    	],
    	[
    		[
    			2096,
    			2110
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2111,
    			2111
    		],
    		"disallowed"
    	],
    	[
    		[
    			2112,
    			2139
    		],
    		"valid"
    	],
    	[
    		[
    			2140,
    			2141
    		],
    		"disallowed"
    	],
    	[
    		[
    			2142,
    			2142
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2143,
    			2207
    		],
    		"disallowed"
    	],
    	[
    		[
    			2208,
    			2208
    		],
    		"valid"
    	],
    	[
    		[
    			2209,
    			2209
    		],
    		"valid"
    	],
    	[
    		[
    			2210,
    			2220
    		],
    		"valid"
    	],
    	[
    		[
    			2221,
    			2226
    		],
    		"valid"
    	],
    	[
    		[
    			2227,
    			2228
    		],
    		"valid"
    	],
    	[
    		[
    			2229,
    			2274
    		],
    		"disallowed"
    	],
    	[
    		[
    			2275,
    			2275
    		],
    		"valid"
    	],
    	[
    		[
    			2276,
    			2302
    		],
    		"valid"
    	],
    	[
    		[
    			2303,
    			2303
    		],
    		"valid"
    	],
    	[
    		[
    			2304,
    			2304
    		],
    		"valid"
    	],
    	[
    		[
    			2305,
    			2307
    		],
    		"valid"
    	],
    	[
    		[
    			2308,
    			2308
    		],
    		"valid"
    	],
    	[
    		[
    			2309,
    			2361
    		],
    		"valid"
    	],
    	[
    		[
    			2362,
    			2363
    		],
    		"valid"
    	],
    	[
    		[
    			2364,
    			2381
    		],
    		"valid"
    	],
    	[
    		[
    			2382,
    			2382
    		],
    		"valid"
    	],
    	[
    		[
    			2383,
    			2383
    		],
    		"valid"
    	],
    	[
    		[
    			2384,
    			2388
    		],
    		"valid"
    	],
    	[
    		[
    			2389,
    			2389
    		],
    		"valid"
    	],
    	[
    		[
    			2390,
    			2391
    		],
    		"valid"
    	],
    	[
    		[
    			2392,
    			2392
    		],
    		"mapped",
    		[
    			2325,
    			2364
    		]
    	],
    	[
    		[
    			2393,
    			2393
    		],
    		"mapped",
    		[
    			2326,
    			2364
    		]
    	],
    	[
    		[
    			2394,
    			2394
    		],
    		"mapped",
    		[
    			2327,
    			2364
    		]
    	],
    	[
    		[
    			2395,
    			2395
    		],
    		"mapped",
    		[
    			2332,
    			2364
    		]
    	],
    	[
    		[
    			2396,
    			2396
    		],
    		"mapped",
    		[
    			2337,
    			2364
    		]
    	],
    	[
    		[
    			2397,
    			2397
    		],
    		"mapped",
    		[
    			2338,
    			2364
    		]
    	],
    	[
    		[
    			2398,
    			2398
    		],
    		"mapped",
    		[
    			2347,
    			2364
    		]
    	],
    	[
    		[
    			2399,
    			2399
    		],
    		"mapped",
    		[
    			2351,
    			2364
    		]
    	],
    	[
    		[
    			2400,
    			2403
    		],
    		"valid"
    	],
    	[
    		[
    			2404,
    			2405
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2406,
    			2415
    		],
    		"valid"
    	],
    	[
    		[
    			2416,
    			2416
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2417,
    			2418
    		],
    		"valid"
    	],
    	[
    		[
    			2419,
    			2423
    		],
    		"valid"
    	],
    	[
    		[
    			2424,
    			2424
    		],
    		"valid"
    	],
    	[
    		[
    			2425,
    			2426
    		],
    		"valid"
    	],
    	[
    		[
    			2427,
    			2428
    		],
    		"valid"
    	],
    	[
    		[
    			2429,
    			2429
    		],
    		"valid"
    	],
    	[
    		[
    			2430,
    			2431
    		],
    		"valid"
    	],
    	[
    		[
    			2432,
    			2432
    		],
    		"valid"
    	],
    	[
    		[
    			2433,
    			2435
    		],
    		"valid"
    	],
    	[
    		[
    			2436,
    			2436
    		],
    		"disallowed"
    	],
    	[
    		[
    			2437,
    			2444
    		],
    		"valid"
    	],
    	[
    		[
    			2445,
    			2446
    		],
    		"disallowed"
    	],
    	[
    		[
    			2447,
    			2448
    		],
    		"valid"
    	],
    	[
    		[
    			2449,
    			2450
    		],
    		"disallowed"
    	],
    	[
    		[
    			2451,
    			2472
    		],
    		"valid"
    	],
    	[
    		[
    			2473,
    			2473
    		],
    		"disallowed"
    	],
    	[
    		[
    			2474,
    			2480
    		],
    		"valid"
    	],
    	[
    		[
    			2481,
    			2481
    		],
    		"disallowed"
    	],
    	[
    		[
    			2482,
    			2482
    		],
    		"valid"
    	],
    	[
    		[
    			2483,
    			2485
    		],
    		"disallowed"
    	],
    	[
    		[
    			2486,
    			2489
    		],
    		"valid"
    	],
    	[
    		[
    			2490,
    			2491
    		],
    		"disallowed"
    	],
    	[
    		[
    			2492,
    			2492
    		],
    		"valid"
    	],
    	[
    		[
    			2493,
    			2493
    		],
    		"valid"
    	],
    	[
    		[
    			2494,
    			2500
    		],
    		"valid"
    	],
    	[
    		[
    			2501,
    			2502
    		],
    		"disallowed"
    	],
    	[
    		[
    			2503,
    			2504
    		],
    		"valid"
    	],
    	[
    		[
    			2505,
    			2506
    		],
    		"disallowed"
    	],
    	[
    		[
    			2507,
    			2509
    		],
    		"valid"
    	],
    	[
    		[
    			2510,
    			2510
    		],
    		"valid"
    	],
    	[
    		[
    			2511,
    			2518
    		],
    		"disallowed"
    	],
    	[
    		[
    			2519,
    			2519
    		],
    		"valid"
    	],
    	[
    		[
    			2520,
    			2523
    		],
    		"disallowed"
    	],
    	[
    		[
    			2524,
    			2524
    		],
    		"mapped",
    		[
    			2465,
    			2492
    		]
    	],
    	[
    		[
    			2525,
    			2525
    		],
    		"mapped",
    		[
    			2466,
    			2492
    		]
    	],
    	[
    		[
    			2526,
    			2526
    		],
    		"disallowed"
    	],
    	[
    		[
    			2527,
    			2527
    		],
    		"mapped",
    		[
    			2479,
    			2492
    		]
    	],
    	[
    		[
    			2528,
    			2531
    		],
    		"valid"
    	],
    	[
    		[
    			2532,
    			2533
    		],
    		"disallowed"
    	],
    	[
    		[
    			2534,
    			2545
    		],
    		"valid"
    	],
    	[
    		[
    			2546,
    			2554
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2555,
    			2555
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2556,
    			2560
    		],
    		"disallowed"
    	],
    	[
    		[
    			2561,
    			2561
    		],
    		"valid"
    	],
    	[
    		[
    			2562,
    			2562
    		],
    		"valid"
    	],
    	[
    		[
    			2563,
    			2563
    		],
    		"valid"
    	],
    	[
    		[
    			2564,
    			2564
    		],
    		"disallowed"
    	],
    	[
    		[
    			2565,
    			2570
    		],
    		"valid"
    	],
    	[
    		[
    			2571,
    			2574
    		],
    		"disallowed"
    	],
    	[
    		[
    			2575,
    			2576
    		],
    		"valid"
    	],
    	[
    		[
    			2577,
    			2578
    		],
    		"disallowed"
    	],
    	[
    		[
    			2579,
    			2600
    		],
    		"valid"
    	],
    	[
    		[
    			2601,
    			2601
    		],
    		"disallowed"
    	],
    	[
    		[
    			2602,
    			2608
    		],
    		"valid"
    	],
    	[
    		[
    			2609,
    			2609
    		],
    		"disallowed"
    	],
    	[
    		[
    			2610,
    			2610
    		],
    		"valid"
    	],
    	[
    		[
    			2611,
    			2611
    		],
    		"mapped",
    		[
    			2610,
    			2620
    		]
    	],
    	[
    		[
    			2612,
    			2612
    		],
    		"disallowed"
    	],
    	[
    		[
    			2613,
    			2613
    		],
    		"valid"
    	],
    	[
    		[
    			2614,
    			2614
    		],
    		"mapped",
    		[
    			2616,
    			2620
    		]
    	],
    	[
    		[
    			2615,
    			2615
    		],
    		"disallowed"
    	],
    	[
    		[
    			2616,
    			2617
    		],
    		"valid"
    	],
    	[
    		[
    			2618,
    			2619
    		],
    		"disallowed"
    	],
    	[
    		[
    			2620,
    			2620
    		],
    		"valid"
    	],
    	[
    		[
    			2621,
    			2621
    		],
    		"disallowed"
    	],
    	[
    		[
    			2622,
    			2626
    		],
    		"valid"
    	],
    	[
    		[
    			2627,
    			2630
    		],
    		"disallowed"
    	],
    	[
    		[
    			2631,
    			2632
    		],
    		"valid"
    	],
    	[
    		[
    			2633,
    			2634
    		],
    		"disallowed"
    	],
    	[
    		[
    			2635,
    			2637
    		],
    		"valid"
    	],
    	[
    		[
    			2638,
    			2640
    		],
    		"disallowed"
    	],
    	[
    		[
    			2641,
    			2641
    		],
    		"valid"
    	],
    	[
    		[
    			2642,
    			2648
    		],
    		"disallowed"
    	],
    	[
    		[
    			2649,
    			2649
    		],
    		"mapped",
    		[
    			2582,
    			2620
    		]
    	],
    	[
    		[
    			2650,
    			2650
    		],
    		"mapped",
    		[
    			2583,
    			2620
    		]
    	],
    	[
    		[
    			2651,
    			2651
    		],
    		"mapped",
    		[
    			2588,
    			2620
    		]
    	],
    	[
    		[
    			2652,
    			2652
    		],
    		"valid"
    	],
    	[
    		[
    			2653,
    			2653
    		],
    		"disallowed"
    	],
    	[
    		[
    			2654,
    			2654
    		],
    		"mapped",
    		[
    			2603,
    			2620
    		]
    	],
    	[
    		[
    			2655,
    			2661
    		],
    		"disallowed"
    	],
    	[
    		[
    			2662,
    			2676
    		],
    		"valid"
    	],
    	[
    		[
    			2677,
    			2677
    		],
    		"valid"
    	],
    	[
    		[
    			2678,
    			2688
    		],
    		"disallowed"
    	],
    	[
    		[
    			2689,
    			2691
    		],
    		"valid"
    	],
    	[
    		[
    			2692,
    			2692
    		],
    		"disallowed"
    	],
    	[
    		[
    			2693,
    			2699
    		],
    		"valid"
    	],
    	[
    		[
    			2700,
    			2700
    		],
    		"valid"
    	],
    	[
    		[
    			2701,
    			2701
    		],
    		"valid"
    	],
    	[
    		[
    			2702,
    			2702
    		],
    		"disallowed"
    	],
    	[
    		[
    			2703,
    			2705
    		],
    		"valid"
    	],
    	[
    		[
    			2706,
    			2706
    		],
    		"disallowed"
    	],
    	[
    		[
    			2707,
    			2728
    		],
    		"valid"
    	],
    	[
    		[
    			2729,
    			2729
    		],
    		"disallowed"
    	],
    	[
    		[
    			2730,
    			2736
    		],
    		"valid"
    	],
    	[
    		[
    			2737,
    			2737
    		],
    		"disallowed"
    	],
    	[
    		[
    			2738,
    			2739
    		],
    		"valid"
    	],
    	[
    		[
    			2740,
    			2740
    		],
    		"disallowed"
    	],
    	[
    		[
    			2741,
    			2745
    		],
    		"valid"
    	],
    	[
    		[
    			2746,
    			2747
    		],
    		"disallowed"
    	],
    	[
    		[
    			2748,
    			2757
    		],
    		"valid"
    	],
    	[
    		[
    			2758,
    			2758
    		],
    		"disallowed"
    	],
    	[
    		[
    			2759,
    			2761
    		],
    		"valid"
    	],
    	[
    		[
    			2762,
    			2762
    		],
    		"disallowed"
    	],
    	[
    		[
    			2763,
    			2765
    		],
    		"valid"
    	],
    	[
    		[
    			2766,
    			2767
    		],
    		"disallowed"
    	],
    	[
    		[
    			2768,
    			2768
    		],
    		"valid"
    	],
    	[
    		[
    			2769,
    			2783
    		],
    		"disallowed"
    	],
    	[
    		[
    			2784,
    			2784
    		],
    		"valid"
    	],
    	[
    		[
    			2785,
    			2787
    		],
    		"valid"
    	],
    	[
    		[
    			2788,
    			2789
    		],
    		"disallowed"
    	],
    	[
    		[
    			2790,
    			2799
    		],
    		"valid"
    	],
    	[
    		[
    			2800,
    			2800
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2801,
    			2801
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2802,
    			2808
    		],
    		"disallowed"
    	],
    	[
    		[
    			2809,
    			2809
    		],
    		"valid"
    	],
    	[
    		[
    			2810,
    			2816
    		],
    		"disallowed"
    	],
    	[
    		[
    			2817,
    			2819
    		],
    		"valid"
    	],
    	[
    		[
    			2820,
    			2820
    		],
    		"disallowed"
    	],
    	[
    		[
    			2821,
    			2828
    		],
    		"valid"
    	],
    	[
    		[
    			2829,
    			2830
    		],
    		"disallowed"
    	],
    	[
    		[
    			2831,
    			2832
    		],
    		"valid"
    	],
    	[
    		[
    			2833,
    			2834
    		],
    		"disallowed"
    	],
    	[
    		[
    			2835,
    			2856
    		],
    		"valid"
    	],
    	[
    		[
    			2857,
    			2857
    		],
    		"disallowed"
    	],
    	[
    		[
    			2858,
    			2864
    		],
    		"valid"
    	],
    	[
    		[
    			2865,
    			2865
    		],
    		"disallowed"
    	],
    	[
    		[
    			2866,
    			2867
    		],
    		"valid"
    	],
    	[
    		[
    			2868,
    			2868
    		],
    		"disallowed"
    	],
    	[
    		[
    			2869,
    			2869
    		],
    		"valid"
    	],
    	[
    		[
    			2870,
    			2873
    		],
    		"valid"
    	],
    	[
    		[
    			2874,
    			2875
    		],
    		"disallowed"
    	],
    	[
    		[
    			2876,
    			2883
    		],
    		"valid"
    	],
    	[
    		[
    			2884,
    			2884
    		],
    		"valid"
    	],
    	[
    		[
    			2885,
    			2886
    		],
    		"disallowed"
    	],
    	[
    		[
    			2887,
    			2888
    		],
    		"valid"
    	],
    	[
    		[
    			2889,
    			2890
    		],
    		"disallowed"
    	],
    	[
    		[
    			2891,
    			2893
    		],
    		"valid"
    	],
    	[
    		[
    			2894,
    			2901
    		],
    		"disallowed"
    	],
    	[
    		[
    			2902,
    			2903
    		],
    		"valid"
    	],
    	[
    		[
    			2904,
    			2907
    		],
    		"disallowed"
    	],
    	[
    		[
    			2908,
    			2908
    		],
    		"mapped",
    		[
    			2849,
    			2876
    		]
    	],
    	[
    		[
    			2909,
    			2909
    		],
    		"mapped",
    		[
    			2850,
    			2876
    		]
    	],
    	[
    		[
    			2910,
    			2910
    		],
    		"disallowed"
    	],
    	[
    		[
    			2911,
    			2913
    		],
    		"valid"
    	],
    	[
    		[
    			2914,
    			2915
    		],
    		"valid"
    	],
    	[
    		[
    			2916,
    			2917
    		],
    		"disallowed"
    	],
    	[
    		[
    			2918,
    			2927
    		],
    		"valid"
    	],
    	[
    		[
    			2928,
    			2928
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2929,
    			2929
    		],
    		"valid"
    	],
    	[
    		[
    			2930,
    			2935
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			2936,
    			2945
    		],
    		"disallowed"
    	],
    	[
    		[
    			2946,
    			2947
    		],
    		"valid"
    	],
    	[
    		[
    			2948,
    			2948
    		],
    		"disallowed"
    	],
    	[
    		[
    			2949,
    			2954
    		],
    		"valid"
    	],
    	[
    		[
    			2955,
    			2957
    		],
    		"disallowed"
    	],
    	[
    		[
    			2958,
    			2960
    		],
    		"valid"
    	],
    	[
    		[
    			2961,
    			2961
    		],
    		"disallowed"
    	],
    	[
    		[
    			2962,
    			2965
    		],
    		"valid"
    	],
    	[
    		[
    			2966,
    			2968
    		],
    		"disallowed"
    	],
    	[
    		[
    			2969,
    			2970
    		],
    		"valid"
    	],
    	[
    		[
    			2971,
    			2971
    		],
    		"disallowed"
    	],
    	[
    		[
    			2972,
    			2972
    		],
    		"valid"
    	],
    	[
    		[
    			2973,
    			2973
    		],
    		"disallowed"
    	],
    	[
    		[
    			2974,
    			2975
    		],
    		"valid"
    	],
    	[
    		[
    			2976,
    			2978
    		],
    		"disallowed"
    	],
    	[
    		[
    			2979,
    			2980
    		],
    		"valid"
    	],
    	[
    		[
    			2981,
    			2983
    		],
    		"disallowed"
    	],
    	[
    		[
    			2984,
    			2986
    		],
    		"valid"
    	],
    	[
    		[
    			2987,
    			2989
    		],
    		"disallowed"
    	],
    	[
    		[
    			2990,
    			2997
    		],
    		"valid"
    	],
    	[
    		[
    			2998,
    			2998
    		],
    		"valid"
    	],
    	[
    		[
    			2999,
    			3001
    		],
    		"valid"
    	],
    	[
    		[
    			3002,
    			3005
    		],
    		"disallowed"
    	],
    	[
    		[
    			3006,
    			3010
    		],
    		"valid"
    	],
    	[
    		[
    			3011,
    			3013
    		],
    		"disallowed"
    	],
    	[
    		[
    			3014,
    			3016
    		],
    		"valid"
    	],
    	[
    		[
    			3017,
    			3017
    		],
    		"disallowed"
    	],
    	[
    		[
    			3018,
    			3021
    		],
    		"valid"
    	],
    	[
    		[
    			3022,
    			3023
    		],
    		"disallowed"
    	],
    	[
    		[
    			3024,
    			3024
    		],
    		"valid"
    	],
    	[
    		[
    			3025,
    			3030
    		],
    		"disallowed"
    	],
    	[
    		[
    			3031,
    			3031
    		],
    		"valid"
    	],
    	[
    		[
    			3032,
    			3045
    		],
    		"disallowed"
    	],
    	[
    		[
    			3046,
    			3046
    		],
    		"valid"
    	],
    	[
    		[
    			3047,
    			3055
    		],
    		"valid"
    	],
    	[
    		[
    			3056,
    			3058
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3059,
    			3066
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3067,
    			3071
    		],
    		"disallowed"
    	],
    	[
    		[
    			3072,
    			3072
    		],
    		"valid"
    	],
    	[
    		[
    			3073,
    			3075
    		],
    		"valid"
    	],
    	[
    		[
    			3076,
    			3076
    		],
    		"disallowed"
    	],
    	[
    		[
    			3077,
    			3084
    		],
    		"valid"
    	],
    	[
    		[
    			3085,
    			3085
    		],
    		"disallowed"
    	],
    	[
    		[
    			3086,
    			3088
    		],
    		"valid"
    	],
    	[
    		[
    			3089,
    			3089
    		],
    		"disallowed"
    	],
    	[
    		[
    			3090,
    			3112
    		],
    		"valid"
    	],
    	[
    		[
    			3113,
    			3113
    		],
    		"disallowed"
    	],
    	[
    		[
    			3114,
    			3123
    		],
    		"valid"
    	],
    	[
    		[
    			3124,
    			3124
    		],
    		"valid"
    	],
    	[
    		[
    			3125,
    			3129
    		],
    		"valid"
    	],
    	[
    		[
    			3130,
    			3132
    		],
    		"disallowed"
    	],
    	[
    		[
    			3133,
    			3133
    		],
    		"valid"
    	],
    	[
    		[
    			3134,
    			3140
    		],
    		"valid"
    	],
    	[
    		[
    			3141,
    			3141
    		],
    		"disallowed"
    	],
    	[
    		[
    			3142,
    			3144
    		],
    		"valid"
    	],
    	[
    		[
    			3145,
    			3145
    		],
    		"disallowed"
    	],
    	[
    		[
    			3146,
    			3149
    		],
    		"valid"
    	],
    	[
    		[
    			3150,
    			3156
    		],
    		"disallowed"
    	],
    	[
    		[
    			3157,
    			3158
    		],
    		"valid"
    	],
    	[
    		[
    			3159,
    			3159
    		],
    		"disallowed"
    	],
    	[
    		[
    			3160,
    			3161
    		],
    		"valid"
    	],
    	[
    		[
    			3162,
    			3162
    		],
    		"valid"
    	],
    	[
    		[
    			3163,
    			3167
    		],
    		"disallowed"
    	],
    	[
    		[
    			3168,
    			3169
    		],
    		"valid"
    	],
    	[
    		[
    			3170,
    			3171
    		],
    		"valid"
    	],
    	[
    		[
    			3172,
    			3173
    		],
    		"disallowed"
    	],
    	[
    		[
    			3174,
    			3183
    		],
    		"valid"
    	],
    	[
    		[
    			3184,
    			3191
    		],
    		"disallowed"
    	],
    	[
    		[
    			3192,
    			3199
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3200,
    			3200
    		],
    		"disallowed"
    	],
    	[
    		[
    			3201,
    			3201
    		],
    		"valid"
    	],
    	[
    		[
    			3202,
    			3203
    		],
    		"valid"
    	],
    	[
    		[
    			3204,
    			3204
    		],
    		"disallowed"
    	],
    	[
    		[
    			3205,
    			3212
    		],
    		"valid"
    	],
    	[
    		[
    			3213,
    			3213
    		],
    		"disallowed"
    	],
    	[
    		[
    			3214,
    			3216
    		],
    		"valid"
    	],
    	[
    		[
    			3217,
    			3217
    		],
    		"disallowed"
    	],
    	[
    		[
    			3218,
    			3240
    		],
    		"valid"
    	],
    	[
    		[
    			3241,
    			3241
    		],
    		"disallowed"
    	],
    	[
    		[
    			3242,
    			3251
    		],
    		"valid"
    	],
    	[
    		[
    			3252,
    			3252
    		],
    		"disallowed"
    	],
    	[
    		[
    			3253,
    			3257
    		],
    		"valid"
    	],
    	[
    		[
    			3258,
    			3259
    		],
    		"disallowed"
    	],
    	[
    		[
    			3260,
    			3261
    		],
    		"valid"
    	],
    	[
    		[
    			3262,
    			3268
    		],
    		"valid"
    	],
    	[
    		[
    			3269,
    			3269
    		],
    		"disallowed"
    	],
    	[
    		[
    			3270,
    			3272
    		],
    		"valid"
    	],
    	[
    		[
    			3273,
    			3273
    		],
    		"disallowed"
    	],
    	[
    		[
    			3274,
    			3277
    		],
    		"valid"
    	],
    	[
    		[
    			3278,
    			3284
    		],
    		"disallowed"
    	],
    	[
    		[
    			3285,
    			3286
    		],
    		"valid"
    	],
    	[
    		[
    			3287,
    			3293
    		],
    		"disallowed"
    	],
    	[
    		[
    			3294,
    			3294
    		],
    		"valid"
    	],
    	[
    		[
    			3295,
    			3295
    		],
    		"disallowed"
    	],
    	[
    		[
    			3296,
    			3297
    		],
    		"valid"
    	],
    	[
    		[
    			3298,
    			3299
    		],
    		"valid"
    	],
    	[
    		[
    			3300,
    			3301
    		],
    		"disallowed"
    	],
    	[
    		[
    			3302,
    			3311
    		],
    		"valid"
    	],
    	[
    		[
    			3312,
    			3312
    		],
    		"disallowed"
    	],
    	[
    		[
    			3313,
    			3314
    		],
    		"valid"
    	],
    	[
    		[
    			3315,
    			3328
    		],
    		"disallowed"
    	],
    	[
    		[
    			3329,
    			3329
    		],
    		"valid"
    	],
    	[
    		[
    			3330,
    			3331
    		],
    		"valid"
    	],
    	[
    		[
    			3332,
    			3332
    		],
    		"disallowed"
    	],
    	[
    		[
    			3333,
    			3340
    		],
    		"valid"
    	],
    	[
    		[
    			3341,
    			3341
    		],
    		"disallowed"
    	],
    	[
    		[
    			3342,
    			3344
    		],
    		"valid"
    	],
    	[
    		[
    			3345,
    			3345
    		],
    		"disallowed"
    	],
    	[
    		[
    			3346,
    			3368
    		],
    		"valid"
    	],
    	[
    		[
    			3369,
    			3369
    		],
    		"valid"
    	],
    	[
    		[
    			3370,
    			3385
    		],
    		"valid"
    	],
    	[
    		[
    			3386,
    			3386
    		],
    		"valid"
    	],
    	[
    		[
    			3387,
    			3388
    		],
    		"disallowed"
    	],
    	[
    		[
    			3389,
    			3389
    		],
    		"valid"
    	],
    	[
    		[
    			3390,
    			3395
    		],
    		"valid"
    	],
    	[
    		[
    			3396,
    			3396
    		],
    		"valid"
    	],
    	[
    		[
    			3397,
    			3397
    		],
    		"disallowed"
    	],
    	[
    		[
    			3398,
    			3400
    		],
    		"valid"
    	],
    	[
    		[
    			3401,
    			3401
    		],
    		"disallowed"
    	],
    	[
    		[
    			3402,
    			3405
    		],
    		"valid"
    	],
    	[
    		[
    			3406,
    			3406
    		],
    		"valid"
    	],
    	[
    		[
    			3407,
    			3414
    		],
    		"disallowed"
    	],
    	[
    		[
    			3415,
    			3415
    		],
    		"valid"
    	],
    	[
    		[
    			3416,
    			3422
    		],
    		"disallowed"
    	],
    	[
    		[
    			3423,
    			3423
    		],
    		"valid"
    	],
    	[
    		[
    			3424,
    			3425
    		],
    		"valid"
    	],
    	[
    		[
    			3426,
    			3427
    		],
    		"valid"
    	],
    	[
    		[
    			3428,
    			3429
    		],
    		"disallowed"
    	],
    	[
    		[
    			3430,
    			3439
    		],
    		"valid"
    	],
    	[
    		[
    			3440,
    			3445
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3446,
    			3448
    		],
    		"disallowed"
    	],
    	[
    		[
    			3449,
    			3449
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3450,
    			3455
    		],
    		"valid"
    	],
    	[
    		[
    			3456,
    			3457
    		],
    		"disallowed"
    	],
    	[
    		[
    			3458,
    			3459
    		],
    		"valid"
    	],
    	[
    		[
    			3460,
    			3460
    		],
    		"disallowed"
    	],
    	[
    		[
    			3461,
    			3478
    		],
    		"valid"
    	],
    	[
    		[
    			3479,
    			3481
    		],
    		"disallowed"
    	],
    	[
    		[
    			3482,
    			3505
    		],
    		"valid"
    	],
    	[
    		[
    			3506,
    			3506
    		],
    		"disallowed"
    	],
    	[
    		[
    			3507,
    			3515
    		],
    		"valid"
    	],
    	[
    		[
    			3516,
    			3516
    		],
    		"disallowed"
    	],
    	[
    		[
    			3517,
    			3517
    		],
    		"valid"
    	],
    	[
    		[
    			3518,
    			3519
    		],
    		"disallowed"
    	],
    	[
    		[
    			3520,
    			3526
    		],
    		"valid"
    	],
    	[
    		[
    			3527,
    			3529
    		],
    		"disallowed"
    	],
    	[
    		[
    			3530,
    			3530
    		],
    		"valid"
    	],
    	[
    		[
    			3531,
    			3534
    		],
    		"disallowed"
    	],
    	[
    		[
    			3535,
    			3540
    		],
    		"valid"
    	],
    	[
    		[
    			3541,
    			3541
    		],
    		"disallowed"
    	],
    	[
    		[
    			3542,
    			3542
    		],
    		"valid"
    	],
    	[
    		[
    			3543,
    			3543
    		],
    		"disallowed"
    	],
    	[
    		[
    			3544,
    			3551
    		],
    		"valid"
    	],
    	[
    		[
    			3552,
    			3557
    		],
    		"disallowed"
    	],
    	[
    		[
    			3558,
    			3567
    		],
    		"valid"
    	],
    	[
    		[
    			3568,
    			3569
    		],
    		"disallowed"
    	],
    	[
    		[
    			3570,
    			3571
    		],
    		"valid"
    	],
    	[
    		[
    			3572,
    			3572
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3573,
    			3584
    		],
    		"disallowed"
    	],
    	[
    		[
    			3585,
    			3634
    		],
    		"valid"
    	],
    	[
    		[
    			3635,
    			3635
    		],
    		"mapped",
    		[
    			3661,
    			3634
    		]
    	],
    	[
    		[
    			3636,
    			3642
    		],
    		"valid"
    	],
    	[
    		[
    			3643,
    			3646
    		],
    		"disallowed"
    	],
    	[
    		[
    			3647,
    			3647
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3648,
    			3662
    		],
    		"valid"
    	],
    	[
    		[
    			3663,
    			3663
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3664,
    			3673
    		],
    		"valid"
    	],
    	[
    		[
    			3674,
    			3675
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3676,
    			3712
    		],
    		"disallowed"
    	],
    	[
    		[
    			3713,
    			3714
    		],
    		"valid"
    	],
    	[
    		[
    			3715,
    			3715
    		],
    		"disallowed"
    	],
    	[
    		[
    			3716,
    			3716
    		],
    		"valid"
    	],
    	[
    		[
    			3717,
    			3718
    		],
    		"disallowed"
    	],
    	[
    		[
    			3719,
    			3720
    		],
    		"valid"
    	],
    	[
    		[
    			3721,
    			3721
    		],
    		"disallowed"
    	],
    	[
    		[
    			3722,
    			3722
    		],
    		"valid"
    	],
    	[
    		[
    			3723,
    			3724
    		],
    		"disallowed"
    	],
    	[
    		[
    			3725,
    			3725
    		],
    		"valid"
    	],
    	[
    		[
    			3726,
    			3731
    		],
    		"disallowed"
    	],
    	[
    		[
    			3732,
    			3735
    		],
    		"valid"
    	],
    	[
    		[
    			3736,
    			3736
    		],
    		"disallowed"
    	],
    	[
    		[
    			3737,
    			3743
    		],
    		"valid"
    	],
    	[
    		[
    			3744,
    			3744
    		],
    		"disallowed"
    	],
    	[
    		[
    			3745,
    			3747
    		],
    		"valid"
    	],
    	[
    		[
    			3748,
    			3748
    		],
    		"disallowed"
    	],
    	[
    		[
    			3749,
    			3749
    		],
    		"valid"
    	],
    	[
    		[
    			3750,
    			3750
    		],
    		"disallowed"
    	],
    	[
    		[
    			3751,
    			3751
    		],
    		"valid"
    	],
    	[
    		[
    			3752,
    			3753
    		],
    		"disallowed"
    	],
    	[
    		[
    			3754,
    			3755
    		],
    		"valid"
    	],
    	[
    		[
    			3756,
    			3756
    		],
    		"disallowed"
    	],
    	[
    		[
    			3757,
    			3762
    		],
    		"valid"
    	],
    	[
    		[
    			3763,
    			3763
    		],
    		"mapped",
    		[
    			3789,
    			3762
    		]
    	],
    	[
    		[
    			3764,
    			3769
    		],
    		"valid"
    	],
    	[
    		[
    			3770,
    			3770
    		],
    		"disallowed"
    	],
    	[
    		[
    			3771,
    			3773
    		],
    		"valid"
    	],
    	[
    		[
    			3774,
    			3775
    		],
    		"disallowed"
    	],
    	[
    		[
    			3776,
    			3780
    		],
    		"valid"
    	],
    	[
    		[
    			3781,
    			3781
    		],
    		"disallowed"
    	],
    	[
    		[
    			3782,
    			3782
    		],
    		"valid"
    	],
    	[
    		[
    			3783,
    			3783
    		],
    		"disallowed"
    	],
    	[
    		[
    			3784,
    			3789
    		],
    		"valid"
    	],
    	[
    		[
    			3790,
    			3791
    		],
    		"disallowed"
    	],
    	[
    		[
    			3792,
    			3801
    		],
    		"valid"
    	],
    	[
    		[
    			3802,
    			3803
    		],
    		"disallowed"
    	],
    	[
    		[
    			3804,
    			3804
    		],
    		"mapped",
    		[
    			3755,
    			3737
    		]
    	],
    	[
    		[
    			3805,
    			3805
    		],
    		"mapped",
    		[
    			3755,
    			3745
    		]
    	],
    	[
    		[
    			3806,
    			3807
    		],
    		"valid"
    	],
    	[
    		[
    			3808,
    			3839
    		],
    		"disallowed"
    	],
    	[
    		[
    			3840,
    			3840
    		],
    		"valid"
    	],
    	[
    		[
    			3841,
    			3850
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3851,
    			3851
    		],
    		"valid"
    	],
    	[
    		[
    			3852,
    			3852
    		],
    		"mapped",
    		[
    			3851
    		]
    	],
    	[
    		[
    			3853,
    			3863
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3864,
    			3865
    		],
    		"valid"
    	],
    	[
    		[
    			3866,
    			3871
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3872,
    			3881
    		],
    		"valid"
    	],
    	[
    		[
    			3882,
    			3892
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3893,
    			3893
    		],
    		"valid"
    	],
    	[
    		[
    			3894,
    			3894
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3895,
    			3895
    		],
    		"valid"
    	],
    	[
    		[
    			3896,
    			3896
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3897,
    			3897
    		],
    		"valid"
    	],
    	[
    		[
    			3898,
    			3901
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3902,
    			3906
    		],
    		"valid"
    	],
    	[
    		[
    			3907,
    			3907
    		],
    		"mapped",
    		[
    			3906,
    			4023
    		]
    	],
    	[
    		[
    			3908,
    			3911
    		],
    		"valid"
    	],
    	[
    		[
    			3912,
    			3912
    		],
    		"disallowed"
    	],
    	[
    		[
    			3913,
    			3916
    		],
    		"valid"
    	],
    	[
    		[
    			3917,
    			3917
    		],
    		"mapped",
    		[
    			3916,
    			4023
    		]
    	],
    	[
    		[
    			3918,
    			3921
    		],
    		"valid"
    	],
    	[
    		[
    			3922,
    			3922
    		],
    		"mapped",
    		[
    			3921,
    			4023
    		]
    	],
    	[
    		[
    			3923,
    			3926
    		],
    		"valid"
    	],
    	[
    		[
    			3927,
    			3927
    		],
    		"mapped",
    		[
    			3926,
    			4023
    		]
    	],
    	[
    		[
    			3928,
    			3931
    		],
    		"valid"
    	],
    	[
    		[
    			3932,
    			3932
    		],
    		"mapped",
    		[
    			3931,
    			4023
    		]
    	],
    	[
    		[
    			3933,
    			3944
    		],
    		"valid"
    	],
    	[
    		[
    			3945,
    			3945
    		],
    		"mapped",
    		[
    			3904,
    			4021
    		]
    	],
    	[
    		[
    			3946,
    			3946
    		],
    		"valid"
    	],
    	[
    		[
    			3947,
    			3948
    		],
    		"valid"
    	],
    	[
    		[
    			3949,
    			3952
    		],
    		"disallowed"
    	],
    	[
    		[
    			3953,
    			3954
    		],
    		"valid"
    	],
    	[
    		[
    			3955,
    			3955
    		],
    		"mapped",
    		[
    			3953,
    			3954
    		]
    	],
    	[
    		[
    			3956,
    			3956
    		],
    		"valid"
    	],
    	[
    		[
    			3957,
    			3957
    		],
    		"mapped",
    		[
    			3953,
    			3956
    		]
    	],
    	[
    		[
    			3958,
    			3958
    		],
    		"mapped",
    		[
    			4018,
    			3968
    		]
    	],
    	[
    		[
    			3959,
    			3959
    		],
    		"mapped",
    		[
    			4018,
    			3953,
    			3968
    		]
    	],
    	[
    		[
    			3960,
    			3960
    		],
    		"mapped",
    		[
    			4019,
    			3968
    		]
    	],
    	[
    		[
    			3961,
    			3961
    		],
    		"mapped",
    		[
    			4019,
    			3953,
    			3968
    		]
    	],
    	[
    		[
    			3962,
    			3968
    		],
    		"valid"
    	],
    	[
    		[
    			3969,
    			3969
    		],
    		"mapped",
    		[
    			3953,
    			3968
    		]
    	],
    	[
    		[
    			3970,
    			3972
    		],
    		"valid"
    	],
    	[
    		[
    			3973,
    			3973
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			3974,
    			3979
    		],
    		"valid"
    	],
    	[
    		[
    			3980,
    			3983
    		],
    		"valid"
    	],
    	[
    		[
    			3984,
    			3986
    		],
    		"valid"
    	],
    	[
    		[
    			3987,
    			3987
    		],
    		"mapped",
    		[
    			3986,
    			4023
    		]
    	],
    	[
    		[
    			3988,
    			3989
    		],
    		"valid"
    	],
    	[
    		[
    			3990,
    			3990
    		],
    		"valid"
    	],
    	[
    		[
    			3991,
    			3991
    		],
    		"valid"
    	],
    	[
    		[
    			3992,
    			3992
    		],
    		"disallowed"
    	],
    	[
    		[
    			3993,
    			3996
    		],
    		"valid"
    	],
    	[
    		[
    			3997,
    			3997
    		],
    		"mapped",
    		[
    			3996,
    			4023
    		]
    	],
    	[
    		[
    			3998,
    			4001
    		],
    		"valid"
    	],
    	[
    		[
    			4002,
    			4002
    		],
    		"mapped",
    		[
    			4001,
    			4023
    		]
    	],
    	[
    		[
    			4003,
    			4006
    		],
    		"valid"
    	],
    	[
    		[
    			4007,
    			4007
    		],
    		"mapped",
    		[
    			4006,
    			4023
    		]
    	],
    	[
    		[
    			4008,
    			4011
    		],
    		"valid"
    	],
    	[
    		[
    			4012,
    			4012
    		],
    		"mapped",
    		[
    			4011,
    			4023
    		]
    	],
    	[
    		[
    			4013,
    			4013
    		],
    		"valid"
    	],
    	[
    		[
    			4014,
    			4016
    		],
    		"valid"
    	],
    	[
    		[
    			4017,
    			4023
    		],
    		"valid"
    	],
    	[
    		[
    			4024,
    			4024
    		],
    		"valid"
    	],
    	[
    		[
    			4025,
    			4025
    		],
    		"mapped",
    		[
    			3984,
    			4021
    		]
    	],
    	[
    		[
    			4026,
    			4028
    		],
    		"valid"
    	],
    	[
    		[
    			4029,
    			4029
    		],
    		"disallowed"
    	],
    	[
    		[
    			4030,
    			4037
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4038,
    			4038
    		],
    		"valid"
    	],
    	[
    		[
    			4039,
    			4044
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4045,
    			4045
    		],
    		"disallowed"
    	],
    	[
    		[
    			4046,
    			4046
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4047,
    			4047
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4048,
    			4049
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4050,
    			4052
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4053,
    			4056
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4057,
    			4058
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4059,
    			4095
    		],
    		"disallowed"
    	],
    	[
    		[
    			4096,
    			4129
    		],
    		"valid"
    	],
    	[
    		[
    			4130,
    			4130
    		],
    		"valid"
    	],
    	[
    		[
    			4131,
    			4135
    		],
    		"valid"
    	],
    	[
    		[
    			4136,
    			4136
    		],
    		"valid"
    	],
    	[
    		[
    			4137,
    			4138
    		],
    		"valid"
    	],
    	[
    		[
    			4139,
    			4139
    		],
    		"valid"
    	],
    	[
    		[
    			4140,
    			4146
    		],
    		"valid"
    	],
    	[
    		[
    			4147,
    			4149
    		],
    		"valid"
    	],
    	[
    		[
    			4150,
    			4153
    		],
    		"valid"
    	],
    	[
    		[
    			4154,
    			4159
    		],
    		"valid"
    	],
    	[
    		[
    			4160,
    			4169
    		],
    		"valid"
    	],
    	[
    		[
    			4170,
    			4175
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4176,
    			4185
    		],
    		"valid"
    	],
    	[
    		[
    			4186,
    			4249
    		],
    		"valid"
    	],
    	[
    		[
    			4250,
    			4253
    		],
    		"valid"
    	],
    	[
    		[
    			4254,
    			4255
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4256,
    			4293
    		],
    		"disallowed"
    	],
    	[
    		[
    			4294,
    			4294
    		],
    		"disallowed"
    	],
    	[
    		[
    			4295,
    			4295
    		],
    		"mapped",
    		[
    			11559
    		]
    	],
    	[
    		[
    			4296,
    			4300
    		],
    		"disallowed"
    	],
    	[
    		[
    			4301,
    			4301
    		],
    		"mapped",
    		[
    			11565
    		]
    	],
    	[
    		[
    			4302,
    			4303
    		],
    		"disallowed"
    	],
    	[
    		[
    			4304,
    			4342
    		],
    		"valid"
    	],
    	[
    		[
    			4343,
    			4344
    		],
    		"valid"
    	],
    	[
    		[
    			4345,
    			4346
    		],
    		"valid"
    	],
    	[
    		[
    			4347,
    			4347
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4348,
    			4348
    		],
    		"mapped",
    		[
    			4316
    		]
    	],
    	[
    		[
    			4349,
    			4351
    		],
    		"valid"
    	],
    	[
    		[
    			4352,
    			4441
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4442,
    			4446
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4447,
    			4448
    		],
    		"disallowed"
    	],
    	[
    		[
    			4449,
    			4514
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4515,
    			4519
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4520,
    			4601
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4602,
    			4607
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4608,
    			4614
    		],
    		"valid"
    	],
    	[
    		[
    			4615,
    			4615
    		],
    		"valid"
    	],
    	[
    		[
    			4616,
    			4678
    		],
    		"valid"
    	],
    	[
    		[
    			4679,
    			4679
    		],
    		"valid"
    	],
    	[
    		[
    			4680,
    			4680
    		],
    		"valid"
    	],
    	[
    		[
    			4681,
    			4681
    		],
    		"disallowed"
    	],
    	[
    		[
    			4682,
    			4685
    		],
    		"valid"
    	],
    	[
    		[
    			4686,
    			4687
    		],
    		"disallowed"
    	],
    	[
    		[
    			4688,
    			4694
    		],
    		"valid"
    	],
    	[
    		[
    			4695,
    			4695
    		],
    		"disallowed"
    	],
    	[
    		[
    			4696,
    			4696
    		],
    		"valid"
    	],
    	[
    		[
    			4697,
    			4697
    		],
    		"disallowed"
    	],
    	[
    		[
    			4698,
    			4701
    		],
    		"valid"
    	],
    	[
    		[
    			4702,
    			4703
    		],
    		"disallowed"
    	],
    	[
    		[
    			4704,
    			4742
    		],
    		"valid"
    	],
    	[
    		[
    			4743,
    			4743
    		],
    		"valid"
    	],
    	[
    		[
    			4744,
    			4744
    		],
    		"valid"
    	],
    	[
    		[
    			4745,
    			4745
    		],
    		"disallowed"
    	],
    	[
    		[
    			4746,
    			4749
    		],
    		"valid"
    	],
    	[
    		[
    			4750,
    			4751
    		],
    		"disallowed"
    	],
    	[
    		[
    			4752,
    			4782
    		],
    		"valid"
    	],
    	[
    		[
    			4783,
    			4783
    		],
    		"valid"
    	],
    	[
    		[
    			4784,
    			4784
    		],
    		"valid"
    	],
    	[
    		[
    			4785,
    			4785
    		],
    		"disallowed"
    	],
    	[
    		[
    			4786,
    			4789
    		],
    		"valid"
    	],
    	[
    		[
    			4790,
    			4791
    		],
    		"disallowed"
    	],
    	[
    		[
    			4792,
    			4798
    		],
    		"valid"
    	],
    	[
    		[
    			4799,
    			4799
    		],
    		"disallowed"
    	],
    	[
    		[
    			4800,
    			4800
    		],
    		"valid"
    	],
    	[
    		[
    			4801,
    			4801
    		],
    		"disallowed"
    	],
    	[
    		[
    			4802,
    			4805
    		],
    		"valid"
    	],
    	[
    		[
    			4806,
    			4807
    		],
    		"disallowed"
    	],
    	[
    		[
    			4808,
    			4814
    		],
    		"valid"
    	],
    	[
    		[
    			4815,
    			4815
    		],
    		"valid"
    	],
    	[
    		[
    			4816,
    			4822
    		],
    		"valid"
    	],
    	[
    		[
    			4823,
    			4823
    		],
    		"disallowed"
    	],
    	[
    		[
    			4824,
    			4846
    		],
    		"valid"
    	],
    	[
    		[
    			4847,
    			4847
    		],
    		"valid"
    	],
    	[
    		[
    			4848,
    			4878
    		],
    		"valid"
    	],
    	[
    		[
    			4879,
    			4879
    		],
    		"valid"
    	],
    	[
    		[
    			4880,
    			4880
    		],
    		"valid"
    	],
    	[
    		[
    			4881,
    			4881
    		],
    		"disallowed"
    	],
    	[
    		[
    			4882,
    			4885
    		],
    		"valid"
    	],
    	[
    		[
    			4886,
    			4887
    		],
    		"disallowed"
    	],
    	[
    		[
    			4888,
    			4894
    		],
    		"valid"
    	],
    	[
    		[
    			4895,
    			4895
    		],
    		"valid"
    	],
    	[
    		[
    			4896,
    			4934
    		],
    		"valid"
    	],
    	[
    		[
    			4935,
    			4935
    		],
    		"valid"
    	],
    	[
    		[
    			4936,
    			4954
    		],
    		"valid"
    	],
    	[
    		[
    			4955,
    			4956
    		],
    		"disallowed"
    	],
    	[
    		[
    			4957,
    			4958
    		],
    		"valid"
    	],
    	[
    		[
    			4959,
    			4959
    		],
    		"valid"
    	],
    	[
    		[
    			4960,
    			4960
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4961,
    			4988
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			4989,
    			4991
    		],
    		"disallowed"
    	],
    	[
    		[
    			4992,
    			5007
    		],
    		"valid"
    	],
    	[
    		[
    			5008,
    			5017
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			5018,
    			5023
    		],
    		"disallowed"
    	],
    	[
    		[
    			5024,
    			5108
    		],
    		"valid"
    	],
    	[
    		[
    			5109,
    			5109
    		],
    		"valid"
    	],
    	[
    		[
    			5110,
    			5111
    		],
    		"disallowed"
    	],
    	[
    		[
    			5112,
    			5112
    		],
    		"mapped",
    		[
    			5104
    		]
    	],
    	[
    		[
    			5113,
    			5113
    		],
    		"mapped",
    		[
    			5105
    		]
    	],
    	[
    		[
    			5114,
    			5114
    		],
    		"mapped",
    		[
    			5106
    		]
    	],
    	[
    		[
    			5115,
    			5115
    		],
    		"mapped",
    		[
    			5107
    		]
    	],
    	[
    		[
    			5116,
    			5116
    		],
    		"mapped",
    		[
    			5108
    		]
    	],
    	[
    		[
    			5117,
    			5117
    		],
    		"mapped",
    		[
    			5109
    		]
    	],
    	[
    		[
    			5118,
    			5119
    		],
    		"disallowed"
    	],
    	[
    		[
    			5120,
    			5120
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			5121,
    			5740
    		],
    		"valid"
    	],
    	[
    		[
    			5741,
    			5742
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			5743,
    			5750
    		],
    		"valid"
    	],
    	[
    		[
    			5751,
    			5759
    		],
    		"valid"
    	],
    	[
    		[
    			5760,
    			5760
    		],
    		"disallowed"
    	],
    	[
    		[
    			5761,
    			5786
    		],
    		"valid"
    	],
    	[
    		[
    			5787,
    			5788
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			5789,
    			5791
    		],
    		"disallowed"
    	],
    	[
    		[
    			5792,
    			5866
    		],
    		"valid"
    	],
    	[
    		[
    			5867,
    			5872
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			5873,
    			5880
    		],
    		"valid"
    	],
    	[
    		[
    			5881,
    			5887
    		],
    		"disallowed"
    	],
    	[
    		[
    			5888,
    			5900
    		],
    		"valid"
    	],
    	[
    		[
    			5901,
    			5901
    		],
    		"disallowed"
    	],
    	[
    		[
    			5902,
    			5908
    		],
    		"valid"
    	],
    	[
    		[
    			5909,
    			5919
    		],
    		"disallowed"
    	],
    	[
    		[
    			5920,
    			5940
    		],
    		"valid"
    	],
    	[
    		[
    			5941,
    			5942
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			5943,
    			5951
    		],
    		"disallowed"
    	],
    	[
    		[
    			5952,
    			5971
    		],
    		"valid"
    	],
    	[
    		[
    			5972,
    			5983
    		],
    		"disallowed"
    	],
    	[
    		[
    			5984,
    			5996
    		],
    		"valid"
    	],
    	[
    		[
    			5997,
    			5997
    		],
    		"disallowed"
    	],
    	[
    		[
    			5998,
    			6000
    		],
    		"valid"
    	],
    	[
    		[
    			6001,
    			6001
    		],
    		"disallowed"
    	],
    	[
    		[
    			6002,
    			6003
    		],
    		"valid"
    	],
    	[
    		[
    			6004,
    			6015
    		],
    		"disallowed"
    	],
    	[
    		[
    			6016,
    			6067
    		],
    		"valid"
    	],
    	[
    		[
    			6068,
    			6069
    		],
    		"disallowed"
    	],
    	[
    		[
    			6070,
    			6099
    		],
    		"valid"
    	],
    	[
    		[
    			6100,
    			6102
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6103,
    			6103
    		],
    		"valid"
    	],
    	[
    		[
    			6104,
    			6107
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6108,
    			6108
    		],
    		"valid"
    	],
    	[
    		[
    			6109,
    			6109
    		],
    		"valid"
    	],
    	[
    		[
    			6110,
    			6111
    		],
    		"disallowed"
    	],
    	[
    		[
    			6112,
    			6121
    		],
    		"valid"
    	],
    	[
    		[
    			6122,
    			6127
    		],
    		"disallowed"
    	],
    	[
    		[
    			6128,
    			6137
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6138,
    			6143
    		],
    		"disallowed"
    	],
    	[
    		[
    			6144,
    			6149
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6150,
    			6150
    		],
    		"disallowed"
    	],
    	[
    		[
    			6151,
    			6154
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6155,
    			6157
    		],
    		"ignored"
    	],
    	[
    		[
    			6158,
    			6158
    		],
    		"disallowed"
    	],
    	[
    		[
    			6159,
    			6159
    		],
    		"disallowed"
    	],
    	[
    		[
    			6160,
    			6169
    		],
    		"valid"
    	],
    	[
    		[
    			6170,
    			6175
    		],
    		"disallowed"
    	],
    	[
    		[
    			6176,
    			6263
    		],
    		"valid"
    	],
    	[
    		[
    			6264,
    			6271
    		],
    		"disallowed"
    	],
    	[
    		[
    			6272,
    			6313
    		],
    		"valid"
    	],
    	[
    		[
    			6314,
    			6314
    		],
    		"valid"
    	],
    	[
    		[
    			6315,
    			6319
    		],
    		"disallowed"
    	],
    	[
    		[
    			6320,
    			6389
    		],
    		"valid"
    	],
    	[
    		[
    			6390,
    			6399
    		],
    		"disallowed"
    	],
    	[
    		[
    			6400,
    			6428
    		],
    		"valid"
    	],
    	[
    		[
    			6429,
    			6430
    		],
    		"valid"
    	],
    	[
    		[
    			6431,
    			6431
    		],
    		"disallowed"
    	],
    	[
    		[
    			6432,
    			6443
    		],
    		"valid"
    	],
    	[
    		[
    			6444,
    			6447
    		],
    		"disallowed"
    	],
    	[
    		[
    			6448,
    			6459
    		],
    		"valid"
    	],
    	[
    		[
    			6460,
    			6463
    		],
    		"disallowed"
    	],
    	[
    		[
    			6464,
    			6464
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6465,
    			6467
    		],
    		"disallowed"
    	],
    	[
    		[
    			6468,
    			6469
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6470,
    			6509
    		],
    		"valid"
    	],
    	[
    		[
    			6510,
    			6511
    		],
    		"disallowed"
    	],
    	[
    		[
    			6512,
    			6516
    		],
    		"valid"
    	],
    	[
    		[
    			6517,
    			6527
    		],
    		"disallowed"
    	],
    	[
    		[
    			6528,
    			6569
    		],
    		"valid"
    	],
    	[
    		[
    			6570,
    			6571
    		],
    		"valid"
    	],
    	[
    		[
    			6572,
    			6575
    		],
    		"disallowed"
    	],
    	[
    		[
    			6576,
    			6601
    		],
    		"valid"
    	],
    	[
    		[
    			6602,
    			6607
    		],
    		"disallowed"
    	],
    	[
    		[
    			6608,
    			6617
    		],
    		"valid"
    	],
    	[
    		[
    			6618,
    			6618
    		],
    		"valid",
    		[
    		],
    		"XV8"
    	],
    	[
    		[
    			6619,
    			6621
    		],
    		"disallowed"
    	],
    	[
    		[
    			6622,
    			6623
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6624,
    			6655
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6656,
    			6683
    		],
    		"valid"
    	],
    	[
    		[
    			6684,
    			6685
    		],
    		"disallowed"
    	],
    	[
    		[
    			6686,
    			6687
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6688,
    			6750
    		],
    		"valid"
    	],
    	[
    		[
    			6751,
    			6751
    		],
    		"disallowed"
    	],
    	[
    		[
    			6752,
    			6780
    		],
    		"valid"
    	],
    	[
    		[
    			6781,
    			6782
    		],
    		"disallowed"
    	],
    	[
    		[
    			6783,
    			6793
    		],
    		"valid"
    	],
    	[
    		[
    			6794,
    			6799
    		],
    		"disallowed"
    	],
    	[
    		[
    			6800,
    			6809
    		],
    		"valid"
    	],
    	[
    		[
    			6810,
    			6815
    		],
    		"disallowed"
    	],
    	[
    		[
    			6816,
    			6822
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6823,
    			6823
    		],
    		"valid"
    	],
    	[
    		[
    			6824,
    			6829
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6830,
    			6831
    		],
    		"disallowed"
    	],
    	[
    		[
    			6832,
    			6845
    		],
    		"valid"
    	],
    	[
    		[
    			6846,
    			6846
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			6847,
    			6911
    		],
    		"disallowed"
    	],
    	[
    		[
    			6912,
    			6987
    		],
    		"valid"
    	],
    	[
    		[
    			6988,
    			6991
    		],
    		"disallowed"
    	],
    	[
    		[
    			6992,
    			7001
    		],
    		"valid"
    	],
    	[
    		[
    			7002,
    			7018
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			7019,
    			7027
    		],
    		"valid"
    	],
    	[
    		[
    			7028,
    			7036
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			7037,
    			7039
    		],
    		"disallowed"
    	],
    	[
    		[
    			7040,
    			7082
    		],
    		"valid"
    	],
    	[
    		[
    			7083,
    			7085
    		],
    		"valid"
    	],
    	[
    		[
    			7086,
    			7097
    		],
    		"valid"
    	],
    	[
    		[
    			7098,
    			7103
    		],
    		"valid"
    	],
    	[
    		[
    			7104,
    			7155
    		],
    		"valid"
    	],
    	[
    		[
    			7156,
    			7163
    		],
    		"disallowed"
    	],
    	[
    		[
    			7164,
    			7167
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			7168,
    			7223
    		],
    		"valid"
    	],
    	[
    		[
    			7224,
    			7226
    		],
    		"disallowed"
    	],
    	[
    		[
    			7227,
    			7231
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			7232,
    			7241
    		],
    		"valid"
    	],
    	[
    		[
    			7242,
    			7244
    		],
    		"disallowed"
    	],
    	[
    		[
    			7245,
    			7293
    		],
    		"valid"
    	],
    	[
    		[
    			7294,
    			7295
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			7296,
    			7359
    		],
    		"disallowed"
    	],
    	[
    		[
    			7360,
    			7367
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			7368,
    			7375
    		],
    		"disallowed"
    	],
    	[
    		[
    			7376,
    			7378
    		],
    		"valid"
    	],
    	[
    		[
    			7379,
    			7379
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			7380,
    			7410
    		],
    		"valid"
    	],
    	[
    		[
    			7411,
    			7414
    		],
    		"valid"
    	],
    	[
    		[
    			7415,
    			7415
    		],
    		"disallowed"
    	],
    	[
    		[
    			7416,
    			7417
    		],
    		"valid"
    	],
    	[
    		[
    			7418,
    			7423
    		],
    		"disallowed"
    	],
    	[
    		[
    			7424,
    			7467
    		],
    		"valid"
    	],
    	[
    		[
    			7468,
    			7468
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			7469,
    			7469
    		],
    		"mapped",
    		[
    			230
    		]
    	],
    	[
    		[
    			7470,
    			7470
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			7471,
    			7471
    		],
    		"valid"
    	],
    	[
    		[
    			7472,
    			7472
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			7473,
    			7473
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			7474,
    			7474
    		],
    		"mapped",
    		[
    			477
    		]
    	],
    	[
    		[
    			7475,
    			7475
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			7476,
    			7476
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			7477,
    			7477
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			7478,
    			7478
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			7479,
    			7479
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			7480,
    			7480
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			7481,
    			7481
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			7482,
    			7482
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			7483,
    			7483
    		],
    		"valid"
    	],
    	[
    		[
    			7484,
    			7484
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			7485,
    			7485
    		],
    		"mapped",
    		[
    			547
    		]
    	],
    	[
    		[
    			7486,
    			7486
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			7487,
    			7487
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			7488,
    			7488
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			7489,
    			7489
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			7490,
    			7490
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			7491,
    			7491
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			7492,
    			7492
    		],
    		"mapped",
    		[
    			592
    		]
    	],
    	[
    		[
    			7493,
    			7493
    		],
    		"mapped",
    		[
    			593
    		]
    	],
    	[
    		[
    			7494,
    			7494
    		],
    		"mapped",
    		[
    			7426
    		]
    	],
    	[
    		[
    			7495,
    			7495
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			7496,
    			7496
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			7497,
    			7497
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			7498,
    			7498
    		],
    		"mapped",
    		[
    			601
    		]
    	],
    	[
    		[
    			7499,
    			7499
    		],
    		"mapped",
    		[
    			603
    		]
    	],
    	[
    		[
    			7500,
    			7500
    		],
    		"mapped",
    		[
    			604
    		]
    	],
    	[
    		[
    			7501,
    			7501
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			7502,
    			7502
    		],
    		"valid"
    	],
    	[
    		[
    			7503,
    			7503
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			7504,
    			7504
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			7505,
    			7505
    		],
    		"mapped",
    		[
    			331
    		]
    	],
    	[
    		[
    			7506,
    			7506
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			7507,
    			7507
    		],
    		"mapped",
    		[
    			596
    		]
    	],
    	[
    		[
    			7508,
    			7508
    		],
    		"mapped",
    		[
    			7446
    		]
    	],
    	[
    		[
    			7509,
    			7509
    		],
    		"mapped",
    		[
    			7447
    		]
    	],
    	[
    		[
    			7510,
    			7510
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			7511,
    			7511
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			7512,
    			7512
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			7513,
    			7513
    		],
    		"mapped",
    		[
    			7453
    		]
    	],
    	[
    		[
    			7514,
    			7514
    		],
    		"mapped",
    		[
    			623
    		]
    	],
    	[
    		[
    			7515,
    			7515
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			7516,
    			7516
    		],
    		"mapped",
    		[
    			7461
    		]
    	],
    	[
    		[
    			7517,
    			7517
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			7518,
    			7518
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			7519,
    			7519
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			7520,
    			7520
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			7521,
    			7521
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			7522,
    			7522
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			7523,
    			7523
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			7524,
    			7524
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			7525,
    			7525
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			7526,
    			7526
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			7527,
    			7527
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			7528,
    			7528
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			7529,
    			7529
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			7530,
    			7530
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			7531,
    			7531
    		],
    		"valid"
    	],
    	[
    		[
    			7532,
    			7543
    		],
    		"valid"
    	],
    	[
    		[
    			7544,
    			7544
    		],
    		"mapped",
    		[
    			1085
    		]
    	],
    	[
    		[
    			7545,
    			7578
    		],
    		"valid"
    	],
    	[
    		[
    			7579,
    			7579
    		],
    		"mapped",
    		[
    			594
    		]
    	],
    	[
    		[
    			7580,
    			7580
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			7581,
    			7581
    		],
    		"mapped",
    		[
    			597
    		]
    	],
    	[
    		[
    			7582,
    			7582
    		],
    		"mapped",
    		[
    			240
    		]
    	],
    	[
    		[
    			7583,
    			7583
    		],
    		"mapped",
    		[
    			604
    		]
    	],
    	[
    		[
    			7584,
    			7584
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			7585,
    			7585
    		],
    		"mapped",
    		[
    			607
    		]
    	],
    	[
    		[
    			7586,
    			7586
    		],
    		"mapped",
    		[
    			609
    		]
    	],
    	[
    		[
    			7587,
    			7587
    		],
    		"mapped",
    		[
    			613
    		]
    	],
    	[
    		[
    			7588,
    			7588
    		],
    		"mapped",
    		[
    			616
    		]
    	],
    	[
    		[
    			7589,
    			7589
    		],
    		"mapped",
    		[
    			617
    		]
    	],
    	[
    		[
    			7590,
    			7590
    		],
    		"mapped",
    		[
    			618
    		]
    	],
    	[
    		[
    			7591,
    			7591
    		],
    		"mapped",
    		[
    			7547
    		]
    	],
    	[
    		[
    			7592,
    			7592
    		],
    		"mapped",
    		[
    			669
    		]
    	],
    	[
    		[
    			7593,
    			7593
    		],
    		"mapped",
    		[
    			621
    		]
    	],
    	[
    		[
    			7594,
    			7594
    		],
    		"mapped",
    		[
    			7557
    		]
    	],
    	[
    		[
    			7595,
    			7595
    		],
    		"mapped",
    		[
    			671
    		]
    	],
    	[
    		[
    			7596,
    			7596
    		],
    		"mapped",
    		[
    			625
    		]
    	],
    	[
    		[
    			7597,
    			7597
    		],
    		"mapped",
    		[
    			624
    		]
    	],
    	[
    		[
    			7598,
    			7598
    		],
    		"mapped",
    		[
    			626
    		]
    	],
    	[
    		[
    			7599,
    			7599
    		],
    		"mapped",
    		[
    			627
    		]
    	],
    	[
    		[
    			7600,
    			7600
    		],
    		"mapped",
    		[
    			628
    		]
    	],
    	[
    		[
    			7601,
    			7601
    		],
    		"mapped",
    		[
    			629
    		]
    	],
    	[
    		[
    			7602,
    			7602
    		],
    		"mapped",
    		[
    			632
    		]
    	],
    	[
    		[
    			7603,
    			7603
    		],
    		"mapped",
    		[
    			642
    		]
    	],
    	[
    		[
    			7604,
    			7604
    		],
    		"mapped",
    		[
    			643
    		]
    	],
    	[
    		[
    			7605,
    			7605
    		],
    		"mapped",
    		[
    			427
    		]
    	],
    	[
    		[
    			7606,
    			7606
    		],
    		"mapped",
    		[
    			649
    		]
    	],
    	[
    		[
    			7607,
    			7607
    		],
    		"mapped",
    		[
    			650
    		]
    	],
    	[
    		[
    			7608,
    			7608
    		],
    		"mapped",
    		[
    			7452
    		]
    	],
    	[
    		[
    			7609,
    			7609
    		],
    		"mapped",
    		[
    			651
    		]
    	],
    	[
    		[
    			7610,
    			7610
    		],
    		"mapped",
    		[
    			652
    		]
    	],
    	[
    		[
    			7611,
    			7611
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			7612,
    			7612
    		],
    		"mapped",
    		[
    			656
    		]
    	],
    	[
    		[
    			7613,
    			7613
    		],
    		"mapped",
    		[
    			657
    		]
    	],
    	[
    		[
    			7614,
    			7614
    		],
    		"mapped",
    		[
    			658
    		]
    	],
    	[
    		[
    			7615,
    			7615
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			7616,
    			7619
    		],
    		"valid"
    	],
    	[
    		[
    			7620,
    			7626
    		],
    		"valid"
    	],
    	[
    		[
    			7627,
    			7654
    		],
    		"valid"
    	],
    	[
    		[
    			7655,
    			7669
    		],
    		"valid"
    	],
    	[
    		[
    			7670,
    			7675
    		],
    		"disallowed"
    	],
    	[
    		[
    			7676,
    			7676
    		],
    		"valid"
    	],
    	[
    		[
    			7677,
    			7677
    		],
    		"valid"
    	],
    	[
    		[
    			7678,
    			7679
    		],
    		"valid"
    	],
    	[
    		[
    			7680,
    			7680
    		],
    		"mapped",
    		[
    			7681
    		]
    	],
    	[
    		[
    			7681,
    			7681
    		],
    		"valid"
    	],
    	[
    		[
    			7682,
    			7682
    		],
    		"mapped",
    		[
    			7683
    		]
    	],
    	[
    		[
    			7683,
    			7683
    		],
    		"valid"
    	],
    	[
    		[
    			7684,
    			7684
    		],
    		"mapped",
    		[
    			7685
    		]
    	],
    	[
    		[
    			7685,
    			7685
    		],
    		"valid"
    	],
    	[
    		[
    			7686,
    			7686
    		],
    		"mapped",
    		[
    			7687
    		]
    	],
    	[
    		[
    			7687,
    			7687
    		],
    		"valid"
    	],
    	[
    		[
    			7688,
    			7688
    		],
    		"mapped",
    		[
    			7689
    		]
    	],
    	[
    		[
    			7689,
    			7689
    		],
    		"valid"
    	],
    	[
    		[
    			7690,
    			7690
    		],
    		"mapped",
    		[
    			7691
    		]
    	],
    	[
    		[
    			7691,
    			7691
    		],
    		"valid"
    	],
    	[
    		[
    			7692,
    			7692
    		],
    		"mapped",
    		[
    			7693
    		]
    	],
    	[
    		[
    			7693,
    			7693
    		],
    		"valid"
    	],
    	[
    		[
    			7694,
    			7694
    		],
    		"mapped",
    		[
    			7695
    		]
    	],
    	[
    		[
    			7695,
    			7695
    		],
    		"valid"
    	],
    	[
    		[
    			7696,
    			7696
    		],
    		"mapped",
    		[
    			7697
    		]
    	],
    	[
    		[
    			7697,
    			7697
    		],
    		"valid"
    	],
    	[
    		[
    			7698,
    			7698
    		],
    		"mapped",
    		[
    			7699
    		]
    	],
    	[
    		[
    			7699,
    			7699
    		],
    		"valid"
    	],
    	[
    		[
    			7700,
    			7700
    		],
    		"mapped",
    		[
    			7701
    		]
    	],
    	[
    		[
    			7701,
    			7701
    		],
    		"valid"
    	],
    	[
    		[
    			7702,
    			7702
    		],
    		"mapped",
    		[
    			7703
    		]
    	],
    	[
    		[
    			7703,
    			7703
    		],
    		"valid"
    	],
    	[
    		[
    			7704,
    			7704
    		],
    		"mapped",
    		[
    			7705
    		]
    	],
    	[
    		[
    			7705,
    			7705
    		],
    		"valid"
    	],
    	[
    		[
    			7706,
    			7706
    		],
    		"mapped",
    		[
    			7707
    		]
    	],
    	[
    		[
    			7707,
    			7707
    		],
    		"valid"
    	],
    	[
    		[
    			7708,
    			7708
    		],
    		"mapped",
    		[
    			7709
    		]
    	],
    	[
    		[
    			7709,
    			7709
    		],
    		"valid"
    	],
    	[
    		[
    			7710,
    			7710
    		],
    		"mapped",
    		[
    			7711
    		]
    	],
    	[
    		[
    			7711,
    			7711
    		],
    		"valid"
    	],
    	[
    		[
    			7712,
    			7712
    		],
    		"mapped",
    		[
    			7713
    		]
    	],
    	[
    		[
    			7713,
    			7713
    		],
    		"valid"
    	],
    	[
    		[
    			7714,
    			7714
    		],
    		"mapped",
    		[
    			7715
    		]
    	],
    	[
    		[
    			7715,
    			7715
    		],
    		"valid"
    	],
    	[
    		[
    			7716,
    			7716
    		],
    		"mapped",
    		[
    			7717
    		]
    	],
    	[
    		[
    			7717,
    			7717
    		],
    		"valid"
    	],
    	[
    		[
    			7718,
    			7718
    		],
    		"mapped",
    		[
    			7719
    		]
    	],
    	[
    		[
    			7719,
    			7719
    		],
    		"valid"
    	],
    	[
    		[
    			7720,
    			7720
    		],
    		"mapped",
    		[
    			7721
    		]
    	],
    	[
    		[
    			7721,
    			7721
    		],
    		"valid"
    	],
    	[
    		[
    			7722,
    			7722
    		],
    		"mapped",
    		[
    			7723
    		]
    	],
    	[
    		[
    			7723,
    			7723
    		],
    		"valid"
    	],
    	[
    		[
    			7724,
    			7724
    		],
    		"mapped",
    		[
    			7725
    		]
    	],
    	[
    		[
    			7725,
    			7725
    		],
    		"valid"
    	],
    	[
    		[
    			7726,
    			7726
    		],
    		"mapped",
    		[
    			7727
    		]
    	],
    	[
    		[
    			7727,
    			7727
    		],
    		"valid"
    	],
    	[
    		[
    			7728,
    			7728
    		],
    		"mapped",
    		[
    			7729
    		]
    	],
    	[
    		[
    			7729,
    			7729
    		],
    		"valid"
    	],
    	[
    		[
    			7730,
    			7730
    		],
    		"mapped",
    		[
    			7731
    		]
    	],
    	[
    		[
    			7731,
    			7731
    		],
    		"valid"
    	],
    	[
    		[
    			7732,
    			7732
    		],
    		"mapped",
    		[
    			7733
    		]
    	],
    	[
    		[
    			7733,
    			7733
    		],
    		"valid"
    	],
    	[
    		[
    			7734,
    			7734
    		],
    		"mapped",
    		[
    			7735
    		]
    	],
    	[
    		[
    			7735,
    			7735
    		],
    		"valid"
    	],
    	[
    		[
    			7736,
    			7736
    		],
    		"mapped",
    		[
    			7737
    		]
    	],
    	[
    		[
    			7737,
    			7737
    		],
    		"valid"
    	],
    	[
    		[
    			7738,
    			7738
    		],
    		"mapped",
    		[
    			7739
    		]
    	],
    	[
    		[
    			7739,
    			7739
    		],
    		"valid"
    	],
    	[
    		[
    			7740,
    			7740
    		],
    		"mapped",
    		[
    			7741
    		]
    	],
    	[
    		[
    			7741,
    			7741
    		],
    		"valid"
    	],
    	[
    		[
    			7742,
    			7742
    		],
    		"mapped",
    		[
    			7743
    		]
    	],
    	[
    		[
    			7743,
    			7743
    		],
    		"valid"
    	],
    	[
    		[
    			7744,
    			7744
    		],
    		"mapped",
    		[
    			7745
    		]
    	],
    	[
    		[
    			7745,
    			7745
    		],
    		"valid"
    	],
    	[
    		[
    			7746,
    			7746
    		],
    		"mapped",
    		[
    			7747
    		]
    	],
    	[
    		[
    			7747,
    			7747
    		],
    		"valid"
    	],
    	[
    		[
    			7748,
    			7748
    		],
    		"mapped",
    		[
    			7749
    		]
    	],
    	[
    		[
    			7749,
    			7749
    		],
    		"valid"
    	],
    	[
    		[
    			7750,
    			7750
    		],
    		"mapped",
    		[
    			7751
    		]
    	],
    	[
    		[
    			7751,
    			7751
    		],
    		"valid"
    	],
    	[
    		[
    			7752,
    			7752
    		],
    		"mapped",
    		[
    			7753
    		]
    	],
    	[
    		[
    			7753,
    			7753
    		],
    		"valid"
    	],
    	[
    		[
    			7754,
    			7754
    		],
    		"mapped",
    		[
    			7755
    		]
    	],
    	[
    		[
    			7755,
    			7755
    		],
    		"valid"
    	],
    	[
    		[
    			7756,
    			7756
    		],
    		"mapped",
    		[
    			7757
    		]
    	],
    	[
    		[
    			7757,
    			7757
    		],
    		"valid"
    	],
    	[
    		[
    			7758,
    			7758
    		],
    		"mapped",
    		[
    			7759
    		]
    	],
    	[
    		[
    			7759,
    			7759
    		],
    		"valid"
    	],
    	[
    		[
    			7760,
    			7760
    		],
    		"mapped",
    		[
    			7761
    		]
    	],
    	[
    		[
    			7761,
    			7761
    		],
    		"valid"
    	],
    	[
    		[
    			7762,
    			7762
    		],
    		"mapped",
    		[
    			7763
    		]
    	],
    	[
    		[
    			7763,
    			7763
    		],
    		"valid"
    	],
    	[
    		[
    			7764,
    			7764
    		],
    		"mapped",
    		[
    			7765
    		]
    	],
    	[
    		[
    			7765,
    			7765
    		],
    		"valid"
    	],
    	[
    		[
    			7766,
    			7766
    		],
    		"mapped",
    		[
    			7767
    		]
    	],
    	[
    		[
    			7767,
    			7767
    		],
    		"valid"
    	],
    	[
    		[
    			7768,
    			7768
    		],
    		"mapped",
    		[
    			7769
    		]
    	],
    	[
    		[
    			7769,
    			7769
    		],
    		"valid"
    	],
    	[
    		[
    			7770,
    			7770
    		],
    		"mapped",
    		[
    			7771
    		]
    	],
    	[
    		[
    			7771,
    			7771
    		],
    		"valid"
    	],
    	[
    		[
    			7772,
    			7772
    		],
    		"mapped",
    		[
    			7773
    		]
    	],
    	[
    		[
    			7773,
    			7773
    		],
    		"valid"
    	],
    	[
    		[
    			7774,
    			7774
    		],
    		"mapped",
    		[
    			7775
    		]
    	],
    	[
    		[
    			7775,
    			7775
    		],
    		"valid"
    	],
    	[
    		[
    			7776,
    			7776
    		],
    		"mapped",
    		[
    			7777
    		]
    	],
    	[
    		[
    			7777,
    			7777
    		],
    		"valid"
    	],
    	[
    		[
    			7778,
    			7778
    		],
    		"mapped",
    		[
    			7779
    		]
    	],
    	[
    		[
    			7779,
    			7779
    		],
    		"valid"
    	],
    	[
    		[
    			7780,
    			7780
    		],
    		"mapped",
    		[
    			7781
    		]
    	],
    	[
    		[
    			7781,
    			7781
    		],
    		"valid"
    	],
    	[
    		[
    			7782,
    			7782
    		],
    		"mapped",
    		[
    			7783
    		]
    	],
    	[
    		[
    			7783,
    			7783
    		],
    		"valid"
    	],
    	[
    		[
    			7784,
    			7784
    		],
    		"mapped",
    		[
    			7785
    		]
    	],
    	[
    		[
    			7785,
    			7785
    		],
    		"valid"
    	],
    	[
    		[
    			7786,
    			7786
    		],
    		"mapped",
    		[
    			7787
    		]
    	],
    	[
    		[
    			7787,
    			7787
    		],
    		"valid"
    	],
    	[
    		[
    			7788,
    			7788
    		],
    		"mapped",
    		[
    			7789
    		]
    	],
    	[
    		[
    			7789,
    			7789
    		],
    		"valid"
    	],
    	[
    		[
    			7790,
    			7790
    		],
    		"mapped",
    		[
    			7791
    		]
    	],
    	[
    		[
    			7791,
    			7791
    		],
    		"valid"
    	],
    	[
    		[
    			7792,
    			7792
    		],
    		"mapped",
    		[
    			7793
    		]
    	],
    	[
    		[
    			7793,
    			7793
    		],
    		"valid"
    	],
    	[
    		[
    			7794,
    			7794
    		],
    		"mapped",
    		[
    			7795
    		]
    	],
    	[
    		[
    			7795,
    			7795
    		],
    		"valid"
    	],
    	[
    		[
    			7796,
    			7796
    		],
    		"mapped",
    		[
    			7797
    		]
    	],
    	[
    		[
    			7797,
    			7797
    		],
    		"valid"
    	],
    	[
    		[
    			7798,
    			7798
    		],
    		"mapped",
    		[
    			7799
    		]
    	],
    	[
    		[
    			7799,
    			7799
    		],
    		"valid"
    	],
    	[
    		[
    			7800,
    			7800
    		],
    		"mapped",
    		[
    			7801
    		]
    	],
    	[
    		[
    			7801,
    			7801
    		],
    		"valid"
    	],
    	[
    		[
    			7802,
    			7802
    		],
    		"mapped",
    		[
    			7803
    		]
    	],
    	[
    		[
    			7803,
    			7803
    		],
    		"valid"
    	],
    	[
    		[
    			7804,
    			7804
    		],
    		"mapped",
    		[
    			7805
    		]
    	],
    	[
    		[
    			7805,
    			7805
    		],
    		"valid"
    	],
    	[
    		[
    			7806,
    			7806
    		],
    		"mapped",
    		[
    			7807
    		]
    	],
    	[
    		[
    			7807,
    			7807
    		],
    		"valid"
    	],
    	[
    		[
    			7808,
    			7808
    		],
    		"mapped",
    		[
    			7809
    		]
    	],
    	[
    		[
    			7809,
    			7809
    		],
    		"valid"
    	],
    	[
    		[
    			7810,
    			7810
    		],
    		"mapped",
    		[
    			7811
    		]
    	],
    	[
    		[
    			7811,
    			7811
    		],
    		"valid"
    	],
    	[
    		[
    			7812,
    			7812
    		],
    		"mapped",
    		[
    			7813
    		]
    	],
    	[
    		[
    			7813,
    			7813
    		],
    		"valid"
    	],
    	[
    		[
    			7814,
    			7814
    		],
    		"mapped",
    		[
    			7815
    		]
    	],
    	[
    		[
    			7815,
    			7815
    		],
    		"valid"
    	],
    	[
    		[
    			7816,
    			7816
    		],
    		"mapped",
    		[
    			7817
    		]
    	],
    	[
    		[
    			7817,
    			7817
    		],
    		"valid"
    	],
    	[
    		[
    			7818,
    			7818
    		],
    		"mapped",
    		[
    			7819
    		]
    	],
    	[
    		[
    			7819,
    			7819
    		],
    		"valid"
    	],
    	[
    		[
    			7820,
    			7820
    		],
    		"mapped",
    		[
    			7821
    		]
    	],
    	[
    		[
    			7821,
    			7821
    		],
    		"valid"
    	],
    	[
    		[
    			7822,
    			7822
    		],
    		"mapped",
    		[
    			7823
    		]
    	],
    	[
    		[
    			7823,
    			7823
    		],
    		"valid"
    	],
    	[
    		[
    			7824,
    			7824
    		],
    		"mapped",
    		[
    			7825
    		]
    	],
    	[
    		[
    			7825,
    			7825
    		],
    		"valid"
    	],
    	[
    		[
    			7826,
    			7826
    		],
    		"mapped",
    		[
    			7827
    		]
    	],
    	[
    		[
    			7827,
    			7827
    		],
    		"valid"
    	],
    	[
    		[
    			7828,
    			7828
    		],
    		"mapped",
    		[
    			7829
    		]
    	],
    	[
    		[
    			7829,
    			7833
    		],
    		"valid"
    	],
    	[
    		[
    			7834,
    			7834
    		],
    		"mapped",
    		[
    			97,
    			702
    		]
    	],
    	[
    		[
    			7835,
    			7835
    		],
    		"mapped",
    		[
    			7777
    		]
    	],
    	[
    		[
    			7836,
    			7837
    		],
    		"valid"
    	],
    	[
    		[
    			7838,
    			7838
    		],
    		"mapped",
    		[
    			115,
    			115
    		]
    	],
    	[
    		[
    			7839,
    			7839
    		],
    		"valid"
    	],
    	[
    		[
    			7840,
    			7840
    		],
    		"mapped",
    		[
    			7841
    		]
    	],
    	[
    		[
    			7841,
    			7841
    		],
    		"valid"
    	],
    	[
    		[
    			7842,
    			7842
    		],
    		"mapped",
    		[
    			7843
    		]
    	],
    	[
    		[
    			7843,
    			7843
    		],
    		"valid"
    	],
    	[
    		[
    			7844,
    			7844
    		],
    		"mapped",
    		[
    			7845
    		]
    	],
    	[
    		[
    			7845,
    			7845
    		],
    		"valid"
    	],
    	[
    		[
    			7846,
    			7846
    		],
    		"mapped",
    		[
    			7847
    		]
    	],
    	[
    		[
    			7847,
    			7847
    		],
    		"valid"
    	],
    	[
    		[
    			7848,
    			7848
    		],
    		"mapped",
    		[
    			7849
    		]
    	],
    	[
    		[
    			7849,
    			7849
    		],
    		"valid"
    	],
    	[
    		[
    			7850,
    			7850
    		],
    		"mapped",
    		[
    			7851
    		]
    	],
    	[
    		[
    			7851,
    			7851
    		],
    		"valid"
    	],
    	[
    		[
    			7852,
    			7852
    		],
    		"mapped",
    		[
    			7853
    		]
    	],
    	[
    		[
    			7853,
    			7853
    		],
    		"valid"
    	],
    	[
    		[
    			7854,
    			7854
    		],
    		"mapped",
    		[
    			7855
    		]
    	],
    	[
    		[
    			7855,
    			7855
    		],
    		"valid"
    	],
    	[
    		[
    			7856,
    			7856
    		],
    		"mapped",
    		[
    			7857
    		]
    	],
    	[
    		[
    			7857,
    			7857
    		],
    		"valid"
    	],
    	[
    		[
    			7858,
    			7858
    		],
    		"mapped",
    		[
    			7859
    		]
    	],
    	[
    		[
    			7859,
    			7859
    		],
    		"valid"
    	],
    	[
    		[
    			7860,
    			7860
    		],
    		"mapped",
    		[
    			7861
    		]
    	],
    	[
    		[
    			7861,
    			7861
    		],
    		"valid"
    	],
    	[
    		[
    			7862,
    			7862
    		],
    		"mapped",
    		[
    			7863
    		]
    	],
    	[
    		[
    			7863,
    			7863
    		],
    		"valid"
    	],
    	[
    		[
    			7864,
    			7864
    		],
    		"mapped",
    		[
    			7865
    		]
    	],
    	[
    		[
    			7865,
    			7865
    		],
    		"valid"
    	],
    	[
    		[
    			7866,
    			7866
    		],
    		"mapped",
    		[
    			7867
    		]
    	],
    	[
    		[
    			7867,
    			7867
    		],
    		"valid"
    	],
    	[
    		[
    			7868,
    			7868
    		],
    		"mapped",
    		[
    			7869
    		]
    	],
    	[
    		[
    			7869,
    			7869
    		],
    		"valid"
    	],
    	[
    		[
    			7870,
    			7870
    		],
    		"mapped",
    		[
    			7871
    		]
    	],
    	[
    		[
    			7871,
    			7871
    		],
    		"valid"
    	],
    	[
    		[
    			7872,
    			7872
    		],
    		"mapped",
    		[
    			7873
    		]
    	],
    	[
    		[
    			7873,
    			7873
    		],
    		"valid"
    	],
    	[
    		[
    			7874,
    			7874
    		],
    		"mapped",
    		[
    			7875
    		]
    	],
    	[
    		[
    			7875,
    			7875
    		],
    		"valid"
    	],
    	[
    		[
    			7876,
    			7876
    		],
    		"mapped",
    		[
    			7877
    		]
    	],
    	[
    		[
    			7877,
    			7877
    		],
    		"valid"
    	],
    	[
    		[
    			7878,
    			7878
    		],
    		"mapped",
    		[
    			7879
    		]
    	],
    	[
    		[
    			7879,
    			7879
    		],
    		"valid"
    	],
    	[
    		[
    			7880,
    			7880
    		],
    		"mapped",
    		[
    			7881
    		]
    	],
    	[
    		[
    			7881,
    			7881
    		],
    		"valid"
    	],
    	[
    		[
    			7882,
    			7882
    		],
    		"mapped",
    		[
    			7883
    		]
    	],
    	[
    		[
    			7883,
    			7883
    		],
    		"valid"
    	],
    	[
    		[
    			7884,
    			7884
    		],
    		"mapped",
    		[
    			7885
    		]
    	],
    	[
    		[
    			7885,
    			7885
    		],
    		"valid"
    	],
    	[
    		[
    			7886,
    			7886
    		],
    		"mapped",
    		[
    			7887
    		]
    	],
    	[
    		[
    			7887,
    			7887
    		],
    		"valid"
    	],
    	[
    		[
    			7888,
    			7888
    		],
    		"mapped",
    		[
    			7889
    		]
    	],
    	[
    		[
    			7889,
    			7889
    		],
    		"valid"
    	],
    	[
    		[
    			7890,
    			7890
    		],
    		"mapped",
    		[
    			7891
    		]
    	],
    	[
    		[
    			7891,
    			7891
    		],
    		"valid"
    	],
    	[
    		[
    			7892,
    			7892
    		],
    		"mapped",
    		[
    			7893
    		]
    	],
    	[
    		[
    			7893,
    			7893
    		],
    		"valid"
    	],
    	[
    		[
    			7894,
    			7894
    		],
    		"mapped",
    		[
    			7895
    		]
    	],
    	[
    		[
    			7895,
    			7895
    		],
    		"valid"
    	],
    	[
    		[
    			7896,
    			7896
    		],
    		"mapped",
    		[
    			7897
    		]
    	],
    	[
    		[
    			7897,
    			7897
    		],
    		"valid"
    	],
    	[
    		[
    			7898,
    			7898
    		],
    		"mapped",
    		[
    			7899
    		]
    	],
    	[
    		[
    			7899,
    			7899
    		],
    		"valid"
    	],
    	[
    		[
    			7900,
    			7900
    		],
    		"mapped",
    		[
    			7901
    		]
    	],
    	[
    		[
    			7901,
    			7901
    		],
    		"valid"
    	],
    	[
    		[
    			7902,
    			7902
    		],
    		"mapped",
    		[
    			7903
    		]
    	],
    	[
    		[
    			7903,
    			7903
    		],
    		"valid"
    	],
    	[
    		[
    			7904,
    			7904
    		],
    		"mapped",
    		[
    			7905
    		]
    	],
    	[
    		[
    			7905,
    			7905
    		],
    		"valid"
    	],
    	[
    		[
    			7906,
    			7906
    		],
    		"mapped",
    		[
    			7907
    		]
    	],
    	[
    		[
    			7907,
    			7907
    		],
    		"valid"
    	],
    	[
    		[
    			7908,
    			7908
    		],
    		"mapped",
    		[
    			7909
    		]
    	],
    	[
    		[
    			7909,
    			7909
    		],
    		"valid"
    	],
    	[
    		[
    			7910,
    			7910
    		],
    		"mapped",
    		[
    			7911
    		]
    	],
    	[
    		[
    			7911,
    			7911
    		],
    		"valid"
    	],
    	[
    		[
    			7912,
    			7912
    		],
    		"mapped",
    		[
    			7913
    		]
    	],
    	[
    		[
    			7913,
    			7913
    		],
    		"valid"
    	],
    	[
    		[
    			7914,
    			7914
    		],
    		"mapped",
    		[
    			7915
    		]
    	],
    	[
    		[
    			7915,
    			7915
    		],
    		"valid"
    	],
    	[
    		[
    			7916,
    			7916
    		],
    		"mapped",
    		[
    			7917
    		]
    	],
    	[
    		[
    			7917,
    			7917
    		],
    		"valid"
    	],
    	[
    		[
    			7918,
    			7918
    		],
    		"mapped",
    		[
    			7919
    		]
    	],
    	[
    		[
    			7919,
    			7919
    		],
    		"valid"
    	],
    	[
    		[
    			7920,
    			7920
    		],
    		"mapped",
    		[
    			7921
    		]
    	],
    	[
    		[
    			7921,
    			7921
    		],
    		"valid"
    	],
    	[
    		[
    			7922,
    			7922
    		],
    		"mapped",
    		[
    			7923
    		]
    	],
    	[
    		[
    			7923,
    			7923
    		],
    		"valid"
    	],
    	[
    		[
    			7924,
    			7924
    		],
    		"mapped",
    		[
    			7925
    		]
    	],
    	[
    		[
    			7925,
    			7925
    		],
    		"valid"
    	],
    	[
    		[
    			7926,
    			7926
    		],
    		"mapped",
    		[
    			7927
    		]
    	],
    	[
    		[
    			7927,
    			7927
    		],
    		"valid"
    	],
    	[
    		[
    			7928,
    			7928
    		],
    		"mapped",
    		[
    			7929
    		]
    	],
    	[
    		[
    			7929,
    			7929
    		],
    		"valid"
    	],
    	[
    		[
    			7930,
    			7930
    		],
    		"mapped",
    		[
    			7931
    		]
    	],
    	[
    		[
    			7931,
    			7931
    		],
    		"valid"
    	],
    	[
    		[
    			7932,
    			7932
    		],
    		"mapped",
    		[
    			7933
    		]
    	],
    	[
    		[
    			7933,
    			7933
    		],
    		"valid"
    	],
    	[
    		[
    			7934,
    			7934
    		],
    		"mapped",
    		[
    			7935
    		]
    	],
    	[
    		[
    			7935,
    			7935
    		],
    		"valid"
    	],
    	[
    		[
    			7936,
    			7943
    		],
    		"valid"
    	],
    	[
    		[
    			7944,
    			7944
    		],
    		"mapped",
    		[
    			7936
    		]
    	],
    	[
    		[
    			7945,
    			7945
    		],
    		"mapped",
    		[
    			7937
    		]
    	],
    	[
    		[
    			7946,
    			7946
    		],
    		"mapped",
    		[
    			7938
    		]
    	],
    	[
    		[
    			7947,
    			7947
    		],
    		"mapped",
    		[
    			7939
    		]
    	],
    	[
    		[
    			7948,
    			7948
    		],
    		"mapped",
    		[
    			7940
    		]
    	],
    	[
    		[
    			7949,
    			7949
    		],
    		"mapped",
    		[
    			7941
    		]
    	],
    	[
    		[
    			7950,
    			7950
    		],
    		"mapped",
    		[
    			7942
    		]
    	],
    	[
    		[
    			7951,
    			7951
    		],
    		"mapped",
    		[
    			7943
    		]
    	],
    	[
    		[
    			7952,
    			7957
    		],
    		"valid"
    	],
    	[
    		[
    			7958,
    			7959
    		],
    		"disallowed"
    	],
    	[
    		[
    			7960,
    			7960
    		],
    		"mapped",
    		[
    			7952
    		]
    	],
    	[
    		[
    			7961,
    			7961
    		],
    		"mapped",
    		[
    			7953
    		]
    	],
    	[
    		[
    			7962,
    			7962
    		],
    		"mapped",
    		[
    			7954
    		]
    	],
    	[
    		[
    			7963,
    			7963
    		],
    		"mapped",
    		[
    			7955
    		]
    	],
    	[
    		[
    			7964,
    			7964
    		],
    		"mapped",
    		[
    			7956
    		]
    	],
    	[
    		[
    			7965,
    			7965
    		],
    		"mapped",
    		[
    			7957
    		]
    	],
    	[
    		[
    			7966,
    			7967
    		],
    		"disallowed"
    	],
    	[
    		[
    			7968,
    			7975
    		],
    		"valid"
    	],
    	[
    		[
    			7976,
    			7976
    		],
    		"mapped",
    		[
    			7968
    		]
    	],
    	[
    		[
    			7977,
    			7977
    		],
    		"mapped",
    		[
    			7969
    		]
    	],
    	[
    		[
    			7978,
    			7978
    		],
    		"mapped",
    		[
    			7970
    		]
    	],
    	[
    		[
    			7979,
    			7979
    		],
    		"mapped",
    		[
    			7971
    		]
    	],
    	[
    		[
    			7980,
    			7980
    		],
    		"mapped",
    		[
    			7972
    		]
    	],
    	[
    		[
    			7981,
    			7981
    		],
    		"mapped",
    		[
    			7973
    		]
    	],
    	[
    		[
    			7982,
    			7982
    		],
    		"mapped",
    		[
    			7974
    		]
    	],
    	[
    		[
    			7983,
    			7983
    		],
    		"mapped",
    		[
    			7975
    		]
    	],
    	[
    		[
    			7984,
    			7991
    		],
    		"valid"
    	],
    	[
    		[
    			7992,
    			7992
    		],
    		"mapped",
    		[
    			7984
    		]
    	],
    	[
    		[
    			7993,
    			7993
    		],
    		"mapped",
    		[
    			7985
    		]
    	],
    	[
    		[
    			7994,
    			7994
    		],
    		"mapped",
    		[
    			7986
    		]
    	],
    	[
    		[
    			7995,
    			7995
    		],
    		"mapped",
    		[
    			7987
    		]
    	],
    	[
    		[
    			7996,
    			7996
    		],
    		"mapped",
    		[
    			7988
    		]
    	],
    	[
    		[
    			7997,
    			7997
    		],
    		"mapped",
    		[
    			7989
    		]
    	],
    	[
    		[
    			7998,
    			7998
    		],
    		"mapped",
    		[
    			7990
    		]
    	],
    	[
    		[
    			7999,
    			7999
    		],
    		"mapped",
    		[
    			7991
    		]
    	],
    	[
    		[
    			8000,
    			8005
    		],
    		"valid"
    	],
    	[
    		[
    			8006,
    			8007
    		],
    		"disallowed"
    	],
    	[
    		[
    			8008,
    			8008
    		],
    		"mapped",
    		[
    			8000
    		]
    	],
    	[
    		[
    			8009,
    			8009
    		],
    		"mapped",
    		[
    			8001
    		]
    	],
    	[
    		[
    			8010,
    			8010
    		],
    		"mapped",
    		[
    			8002
    		]
    	],
    	[
    		[
    			8011,
    			8011
    		],
    		"mapped",
    		[
    			8003
    		]
    	],
    	[
    		[
    			8012,
    			8012
    		],
    		"mapped",
    		[
    			8004
    		]
    	],
    	[
    		[
    			8013,
    			8013
    		],
    		"mapped",
    		[
    			8005
    		]
    	],
    	[
    		[
    			8014,
    			8015
    		],
    		"disallowed"
    	],
    	[
    		[
    			8016,
    			8023
    		],
    		"valid"
    	],
    	[
    		[
    			8024,
    			8024
    		],
    		"disallowed"
    	],
    	[
    		[
    			8025,
    			8025
    		],
    		"mapped",
    		[
    			8017
    		]
    	],
    	[
    		[
    			8026,
    			8026
    		],
    		"disallowed"
    	],
    	[
    		[
    			8027,
    			8027
    		],
    		"mapped",
    		[
    			8019
    		]
    	],
    	[
    		[
    			8028,
    			8028
    		],
    		"disallowed"
    	],
    	[
    		[
    			8029,
    			8029
    		],
    		"mapped",
    		[
    			8021
    		]
    	],
    	[
    		[
    			8030,
    			8030
    		],
    		"disallowed"
    	],
    	[
    		[
    			8031,
    			8031
    		],
    		"mapped",
    		[
    			8023
    		]
    	],
    	[
    		[
    			8032,
    			8039
    		],
    		"valid"
    	],
    	[
    		[
    			8040,
    			8040
    		],
    		"mapped",
    		[
    			8032
    		]
    	],
    	[
    		[
    			8041,
    			8041
    		],
    		"mapped",
    		[
    			8033
    		]
    	],
    	[
    		[
    			8042,
    			8042
    		],
    		"mapped",
    		[
    			8034
    		]
    	],
    	[
    		[
    			8043,
    			8043
    		],
    		"mapped",
    		[
    			8035
    		]
    	],
    	[
    		[
    			8044,
    			8044
    		],
    		"mapped",
    		[
    			8036
    		]
    	],
    	[
    		[
    			8045,
    			8045
    		],
    		"mapped",
    		[
    			8037
    		]
    	],
    	[
    		[
    			8046,
    			8046
    		],
    		"mapped",
    		[
    			8038
    		]
    	],
    	[
    		[
    			8047,
    			8047
    		],
    		"mapped",
    		[
    			8039
    		]
    	],
    	[
    		[
    			8048,
    			8048
    		],
    		"valid"
    	],
    	[
    		[
    			8049,
    			8049
    		],
    		"mapped",
    		[
    			940
    		]
    	],
    	[
    		[
    			8050,
    			8050
    		],
    		"valid"
    	],
    	[
    		[
    			8051,
    			8051
    		],
    		"mapped",
    		[
    			941
    		]
    	],
    	[
    		[
    			8052,
    			8052
    		],
    		"valid"
    	],
    	[
    		[
    			8053,
    			8053
    		],
    		"mapped",
    		[
    			942
    		]
    	],
    	[
    		[
    			8054,
    			8054
    		],
    		"valid"
    	],
    	[
    		[
    			8055,
    			8055
    		],
    		"mapped",
    		[
    			943
    		]
    	],
    	[
    		[
    			8056,
    			8056
    		],
    		"valid"
    	],
    	[
    		[
    			8057,
    			8057
    		],
    		"mapped",
    		[
    			972
    		]
    	],
    	[
    		[
    			8058,
    			8058
    		],
    		"valid"
    	],
    	[
    		[
    			8059,
    			8059
    		],
    		"mapped",
    		[
    			973
    		]
    	],
    	[
    		[
    			8060,
    			8060
    		],
    		"valid"
    	],
    	[
    		[
    			8061,
    			8061
    		],
    		"mapped",
    		[
    			974
    		]
    	],
    	[
    		[
    			8062,
    			8063
    		],
    		"disallowed"
    	],
    	[
    		[
    			8064,
    			8064
    		],
    		"mapped",
    		[
    			7936,
    			953
    		]
    	],
    	[
    		[
    			8065,
    			8065
    		],
    		"mapped",
    		[
    			7937,
    			953
    		]
    	],
    	[
    		[
    			8066,
    			8066
    		],
    		"mapped",
    		[
    			7938,
    			953
    		]
    	],
    	[
    		[
    			8067,
    			8067
    		],
    		"mapped",
    		[
    			7939,
    			953
    		]
    	],
    	[
    		[
    			8068,
    			8068
    		],
    		"mapped",
    		[
    			7940,
    			953
    		]
    	],
    	[
    		[
    			8069,
    			8069
    		],
    		"mapped",
    		[
    			7941,
    			953
    		]
    	],
    	[
    		[
    			8070,
    			8070
    		],
    		"mapped",
    		[
    			7942,
    			953
    		]
    	],
    	[
    		[
    			8071,
    			8071
    		],
    		"mapped",
    		[
    			7943,
    			953
    		]
    	],
    	[
    		[
    			8072,
    			8072
    		],
    		"mapped",
    		[
    			7936,
    			953
    		]
    	],
    	[
    		[
    			8073,
    			8073
    		],
    		"mapped",
    		[
    			7937,
    			953
    		]
    	],
    	[
    		[
    			8074,
    			8074
    		],
    		"mapped",
    		[
    			7938,
    			953
    		]
    	],
    	[
    		[
    			8075,
    			8075
    		],
    		"mapped",
    		[
    			7939,
    			953
    		]
    	],
    	[
    		[
    			8076,
    			8076
    		],
    		"mapped",
    		[
    			7940,
    			953
    		]
    	],
    	[
    		[
    			8077,
    			8077
    		],
    		"mapped",
    		[
    			7941,
    			953
    		]
    	],
    	[
    		[
    			8078,
    			8078
    		],
    		"mapped",
    		[
    			7942,
    			953
    		]
    	],
    	[
    		[
    			8079,
    			8079
    		],
    		"mapped",
    		[
    			7943,
    			953
    		]
    	],
    	[
    		[
    			8080,
    			8080
    		],
    		"mapped",
    		[
    			7968,
    			953
    		]
    	],
    	[
    		[
    			8081,
    			8081
    		],
    		"mapped",
    		[
    			7969,
    			953
    		]
    	],
    	[
    		[
    			8082,
    			8082
    		],
    		"mapped",
    		[
    			7970,
    			953
    		]
    	],
    	[
    		[
    			8083,
    			8083
    		],
    		"mapped",
    		[
    			7971,
    			953
    		]
    	],
    	[
    		[
    			8084,
    			8084
    		],
    		"mapped",
    		[
    			7972,
    			953
    		]
    	],
    	[
    		[
    			8085,
    			8085
    		],
    		"mapped",
    		[
    			7973,
    			953
    		]
    	],
    	[
    		[
    			8086,
    			8086
    		],
    		"mapped",
    		[
    			7974,
    			953
    		]
    	],
    	[
    		[
    			8087,
    			8087
    		],
    		"mapped",
    		[
    			7975,
    			953
    		]
    	],
    	[
    		[
    			8088,
    			8088
    		],
    		"mapped",
    		[
    			7968,
    			953
    		]
    	],
    	[
    		[
    			8089,
    			8089
    		],
    		"mapped",
    		[
    			7969,
    			953
    		]
    	],
    	[
    		[
    			8090,
    			8090
    		],
    		"mapped",
    		[
    			7970,
    			953
    		]
    	],
    	[
    		[
    			8091,
    			8091
    		],
    		"mapped",
    		[
    			7971,
    			953
    		]
    	],
    	[
    		[
    			8092,
    			8092
    		],
    		"mapped",
    		[
    			7972,
    			953
    		]
    	],
    	[
    		[
    			8093,
    			8093
    		],
    		"mapped",
    		[
    			7973,
    			953
    		]
    	],
    	[
    		[
    			8094,
    			8094
    		],
    		"mapped",
    		[
    			7974,
    			953
    		]
    	],
    	[
    		[
    			8095,
    			8095
    		],
    		"mapped",
    		[
    			7975,
    			953
    		]
    	],
    	[
    		[
    			8096,
    			8096
    		],
    		"mapped",
    		[
    			8032,
    			953
    		]
    	],
    	[
    		[
    			8097,
    			8097
    		],
    		"mapped",
    		[
    			8033,
    			953
    		]
    	],
    	[
    		[
    			8098,
    			8098
    		],
    		"mapped",
    		[
    			8034,
    			953
    		]
    	],
    	[
    		[
    			8099,
    			8099
    		],
    		"mapped",
    		[
    			8035,
    			953
    		]
    	],
    	[
    		[
    			8100,
    			8100
    		],
    		"mapped",
    		[
    			8036,
    			953
    		]
    	],
    	[
    		[
    			8101,
    			8101
    		],
    		"mapped",
    		[
    			8037,
    			953
    		]
    	],
    	[
    		[
    			8102,
    			8102
    		],
    		"mapped",
    		[
    			8038,
    			953
    		]
    	],
    	[
    		[
    			8103,
    			8103
    		],
    		"mapped",
    		[
    			8039,
    			953
    		]
    	],
    	[
    		[
    			8104,
    			8104
    		],
    		"mapped",
    		[
    			8032,
    			953
    		]
    	],
    	[
    		[
    			8105,
    			8105
    		],
    		"mapped",
    		[
    			8033,
    			953
    		]
    	],
    	[
    		[
    			8106,
    			8106
    		],
    		"mapped",
    		[
    			8034,
    			953
    		]
    	],
    	[
    		[
    			8107,
    			8107
    		],
    		"mapped",
    		[
    			8035,
    			953
    		]
    	],
    	[
    		[
    			8108,
    			8108
    		],
    		"mapped",
    		[
    			8036,
    			953
    		]
    	],
    	[
    		[
    			8109,
    			8109
    		],
    		"mapped",
    		[
    			8037,
    			953
    		]
    	],
    	[
    		[
    			8110,
    			8110
    		],
    		"mapped",
    		[
    			8038,
    			953
    		]
    	],
    	[
    		[
    			8111,
    			8111
    		],
    		"mapped",
    		[
    			8039,
    			953
    		]
    	],
    	[
    		[
    			8112,
    			8113
    		],
    		"valid"
    	],
    	[
    		[
    			8114,
    			8114
    		],
    		"mapped",
    		[
    			8048,
    			953
    		]
    	],
    	[
    		[
    			8115,
    			8115
    		],
    		"mapped",
    		[
    			945,
    			953
    		]
    	],
    	[
    		[
    			8116,
    			8116
    		],
    		"mapped",
    		[
    			940,
    			953
    		]
    	],
    	[
    		[
    			8117,
    			8117
    		],
    		"disallowed"
    	],
    	[
    		[
    			8118,
    			8118
    		],
    		"valid"
    	],
    	[
    		[
    			8119,
    			8119
    		],
    		"mapped",
    		[
    			8118,
    			953
    		]
    	],
    	[
    		[
    			8120,
    			8120
    		],
    		"mapped",
    		[
    			8112
    		]
    	],
    	[
    		[
    			8121,
    			8121
    		],
    		"mapped",
    		[
    			8113
    		]
    	],
    	[
    		[
    			8122,
    			8122
    		],
    		"mapped",
    		[
    			8048
    		]
    	],
    	[
    		[
    			8123,
    			8123
    		],
    		"mapped",
    		[
    			940
    		]
    	],
    	[
    		[
    			8124,
    			8124
    		],
    		"mapped",
    		[
    			945,
    			953
    		]
    	],
    	[
    		[
    			8125,
    			8125
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			787
    		]
    	],
    	[
    		[
    			8126,
    			8126
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			8127,
    			8127
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			787
    		]
    	],
    	[
    		[
    			8128,
    			8128
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			834
    		]
    	],
    	[
    		[
    			8129,
    			8129
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			776,
    			834
    		]
    	],
    	[
    		[
    			8130,
    			8130
    		],
    		"mapped",
    		[
    			8052,
    			953
    		]
    	],
    	[
    		[
    			8131,
    			8131
    		],
    		"mapped",
    		[
    			951,
    			953
    		]
    	],
    	[
    		[
    			8132,
    			8132
    		],
    		"mapped",
    		[
    			942,
    			953
    		]
    	],
    	[
    		[
    			8133,
    			8133
    		],
    		"disallowed"
    	],
    	[
    		[
    			8134,
    			8134
    		],
    		"valid"
    	],
    	[
    		[
    			8135,
    			8135
    		],
    		"mapped",
    		[
    			8134,
    			953
    		]
    	],
    	[
    		[
    			8136,
    			8136
    		],
    		"mapped",
    		[
    			8050
    		]
    	],
    	[
    		[
    			8137,
    			8137
    		],
    		"mapped",
    		[
    			941
    		]
    	],
    	[
    		[
    			8138,
    			8138
    		],
    		"mapped",
    		[
    			8052
    		]
    	],
    	[
    		[
    			8139,
    			8139
    		],
    		"mapped",
    		[
    			942
    		]
    	],
    	[
    		[
    			8140,
    			8140
    		],
    		"mapped",
    		[
    			951,
    			953
    		]
    	],
    	[
    		[
    			8141,
    			8141
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			787,
    			768
    		]
    	],
    	[
    		[
    			8142,
    			8142
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			787,
    			769
    		]
    	],
    	[
    		[
    			8143,
    			8143
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			787,
    			834
    		]
    	],
    	[
    		[
    			8144,
    			8146
    		],
    		"valid"
    	],
    	[
    		[
    			8147,
    			8147
    		],
    		"mapped",
    		[
    			912
    		]
    	],
    	[
    		[
    			8148,
    			8149
    		],
    		"disallowed"
    	],
    	[
    		[
    			8150,
    			8151
    		],
    		"valid"
    	],
    	[
    		[
    			8152,
    			8152
    		],
    		"mapped",
    		[
    			8144
    		]
    	],
    	[
    		[
    			8153,
    			8153
    		],
    		"mapped",
    		[
    			8145
    		]
    	],
    	[
    		[
    			8154,
    			8154
    		],
    		"mapped",
    		[
    			8054
    		]
    	],
    	[
    		[
    			8155,
    			8155
    		],
    		"mapped",
    		[
    			943
    		]
    	],
    	[
    		[
    			8156,
    			8156
    		],
    		"disallowed"
    	],
    	[
    		[
    			8157,
    			8157
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			788,
    			768
    		]
    	],
    	[
    		[
    			8158,
    			8158
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			788,
    			769
    		]
    	],
    	[
    		[
    			8159,
    			8159
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			788,
    			834
    		]
    	],
    	[
    		[
    			8160,
    			8162
    		],
    		"valid"
    	],
    	[
    		[
    			8163,
    			8163
    		],
    		"mapped",
    		[
    			944
    		]
    	],
    	[
    		[
    			8164,
    			8167
    		],
    		"valid"
    	],
    	[
    		[
    			8168,
    			8168
    		],
    		"mapped",
    		[
    			8160
    		]
    	],
    	[
    		[
    			8169,
    			8169
    		],
    		"mapped",
    		[
    			8161
    		]
    	],
    	[
    		[
    			8170,
    			8170
    		],
    		"mapped",
    		[
    			8058
    		]
    	],
    	[
    		[
    			8171,
    			8171
    		],
    		"mapped",
    		[
    			973
    		]
    	],
    	[
    		[
    			8172,
    			8172
    		],
    		"mapped",
    		[
    			8165
    		]
    	],
    	[
    		[
    			8173,
    			8173
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			776,
    			768
    		]
    	],
    	[
    		[
    			8174,
    			8174
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			776,
    			769
    		]
    	],
    	[
    		[
    			8175,
    			8175
    		],
    		"disallowed_STD3_mapped",
    		[
    			96
    		]
    	],
    	[
    		[
    			8176,
    			8177
    		],
    		"disallowed"
    	],
    	[
    		[
    			8178,
    			8178
    		],
    		"mapped",
    		[
    			8060,
    			953
    		]
    	],
    	[
    		[
    			8179,
    			8179
    		],
    		"mapped",
    		[
    			969,
    			953
    		]
    	],
    	[
    		[
    			8180,
    			8180
    		],
    		"mapped",
    		[
    			974,
    			953
    		]
    	],
    	[
    		[
    			8181,
    			8181
    		],
    		"disallowed"
    	],
    	[
    		[
    			8182,
    			8182
    		],
    		"valid"
    	],
    	[
    		[
    			8183,
    			8183
    		],
    		"mapped",
    		[
    			8182,
    			953
    		]
    	],
    	[
    		[
    			8184,
    			8184
    		],
    		"mapped",
    		[
    			8056
    		]
    	],
    	[
    		[
    			8185,
    			8185
    		],
    		"mapped",
    		[
    			972
    		]
    	],
    	[
    		[
    			8186,
    			8186
    		],
    		"mapped",
    		[
    			8060
    		]
    	],
    	[
    		[
    			8187,
    			8187
    		],
    		"mapped",
    		[
    			974
    		]
    	],
    	[
    		[
    			8188,
    			8188
    		],
    		"mapped",
    		[
    			969,
    			953
    		]
    	],
    	[
    		[
    			8189,
    			8189
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			769
    		]
    	],
    	[
    		[
    			8190,
    			8190
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			788
    		]
    	],
    	[
    		[
    			8191,
    			8191
    		],
    		"disallowed"
    	],
    	[
    		[
    			8192,
    			8202
    		],
    		"disallowed_STD3_mapped",
    		[
    			32
    		]
    	],
    	[
    		[
    			8203,
    			8203
    		],
    		"ignored"
    	],
    	[
    		[
    			8204,
    			8205
    		],
    		"deviation",
    		[
    		]
    	],
    	[
    		[
    			8206,
    			8207
    		],
    		"disallowed"
    	],
    	[
    		[
    			8208,
    			8208
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8209,
    			8209
    		],
    		"mapped",
    		[
    			8208
    		]
    	],
    	[
    		[
    			8210,
    			8214
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8215,
    			8215
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			819
    		]
    	],
    	[
    		[
    			8216,
    			8227
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8228,
    			8230
    		],
    		"disallowed"
    	],
    	[
    		[
    			8231,
    			8231
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8232,
    			8238
    		],
    		"disallowed"
    	],
    	[
    		[
    			8239,
    			8239
    		],
    		"disallowed_STD3_mapped",
    		[
    			32
    		]
    	],
    	[
    		[
    			8240,
    			8242
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8243,
    			8243
    		],
    		"mapped",
    		[
    			8242,
    			8242
    		]
    	],
    	[
    		[
    			8244,
    			8244
    		],
    		"mapped",
    		[
    			8242,
    			8242,
    			8242
    		]
    	],
    	[
    		[
    			8245,
    			8245
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8246,
    			8246
    		],
    		"mapped",
    		[
    			8245,
    			8245
    		]
    	],
    	[
    		[
    			8247,
    			8247
    		],
    		"mapped",
    		[
    			8245,
    			8245,
    			8245
    		]
    	],
    	[
    		[
    			8248,
    			8251
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8252,
    			8252
    		],
    		"disallowed_STD3_mapped",
    		[
    			33,
    			33
    		]
    	],
    	[
    		[
    			8253,
    			8253
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8254,
    			8254
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			773
    		]
    	],
    	[
    		[
    			8255,
    			8262
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8263,
    			8263
    		],
    		"disallowed_STD3_mapped",
    		[
    			63,
    			63
    		]
    	],
    	[
    		[
    			8264,
    			8264
    		],
    		"disallowed_STD3_mapped",
    		[
    			63,
    			33
    		]
    	],
    	[
    		[
    			8265,
    			8265
    		],
    		"disallowed_STD3_mapped",
    		[
    			33,
    			63
    		]
    	],
    	[
    		[
    			8266,
    			8269
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8270,
    			8274
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8275,
    			8276
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8277,
    			8278
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8279,
    			8279
    		],
    		"mapped",
    		[
    			8242,
    			8242,
    			8242,
    			8242
    		]
    	],
    	[
    		[
    			8280,
    			8286
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8287,
    			8287
    		],
    		"disallowed_STD3_mapped",
    		[
    			32
    		]
    	],
    	[
    		[
    			8288,
    			8288
    		],
    		"ignored"
    	],
    	[
    		[
    			8289,
    			8291
    		],
    		"disallowed"
    	],
    	[
    		[
    			8292,
    			8292
    		],
    		"ignored"
    	],
    	[
    		[
    			8293,
    			8293
    		],
    		"disallowed"
    	],
    	[
    		[
    			8294,
    			8297
    		],
    		"disallowed"
    	],
    	[
    		[
    			8298,
    			8303
    		],
    		"disallowed"
    	],
    	[
    		[
    			8304,
    			8304
    		],
    		"mapped",
    		[
    			48
    		]
    	],
    	[
    		[
    			8305,
    			8305
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			8306,
    			8307
    		],
    		"disallowed"
    	],
    	[
    		[
    			8308,
    			8308
    		],
    		"mapped",
    		[
    			52
    		]
    	],
    	[
    		[
    			8309,
    			8309
    		],
    		"mapped",
    		[
    			53
    		]
    	],
    	[
    		[
    			8310,
    			8310
    		],
    		"mapped",
    		[
    			54
    		]
    	],
    	[
    		[
    			8311,
    			8311
    		],
    		"mapped",
    		[
    			55
    		]
    	],
    	[
    		[
    			8312,
    			8312
    		],
    		"mapped",
    		[
    			56
    		]
    	],
    	[
    		[
    			8313,
    			8313
    		],
    		"mapped",
    		[
    			57
    		]
    	],
    	[
    		[
    			8314,
    			8314
    		],
    		"disallowed_STD3_mapped",
    		[
    			43
    		]
    	],
    	[
    		[
    			8315,
    			8315
    		],
    		"mapped",
    		[
    			8722
    		]
    	],
    	[
    		[
    			8316,
    			8316
    		],
    		"disallowed_STD3_mapped",
    		[
    			61
    		]
    	],
    	[
    		[
    			8317,
    			8317
    		],
    		"disallowed_STD3_mapped",
    		[
    			40
    		]
    	],
    	[
    		[
    			8318,
    			8318
    		],
    		"disallowed_STD3_mapped",
    		[
    			41
    		]
    	],
    	[
    		[
    			8319,
    			8319
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			8320,
    			8320
    		],
    		"mapped",
    		[
    			48
    		]
    	],
    	[
    		[
    			8321,
    			8321
    		],
    		"mapped",
    		[
    			49
    		]
    	],
    	[
    		[
    			8322,
    			8322
    		],
    		"mapped",
    		[
    			50
    		]
    	],
    	[
    		[
    			8323,
    			8323
    		],
    		"mapped",
    		[
    			51
    		]
    	],
    	[
    		[
    			8324,
    			8324
    		],
    		"mapped",
    		[
    			52
    		]
    	],
    	[
    		[
    			8325,
    			8325
    		],
    		"mapped",
    		[
    			53
    		]
    	],
    	[
    		[
    			8326,
    			8326
    		],
    		"mapped",
    		[
    			54
    		]
    	],
    	[
    		[
    			8327,
    			8327
    		],
    		"mapped",
    		[
    			55
    		]
    	],
    	[
    		[
    			8328,
    			8328
    		],
    		"mapped",
    		[
    			56
    		]
    	],
    	[
    		[
    			8329,
    			8329
    		],
    		"mapped",
    		[
    			57
    		]
    	],
    	[
    		[
    			8330,
    			8330
    		],
    		"disallowed_STD3_mapped",
    		[
    			43
    		]
    	],
    	[
    		[
    			8331,
    			8331
    		],
    		"mapped",
    		[
    			8722
    		]
    	],
    	[
    		[
    			8332,
    			8332
    		],
    		"disallowed_STD3_mapped",
    		[
    			61
    		]
    	],
    	[
    		[
    			8333,
    			8333
    		],
    		"disallowed_STD3_mapped",
    		[
    			40
    		]
    	],
    	[
    		[
    			8334,
    			8334
    		],
    		"disallowed_STD3_mapped",
    		[
    			41
    		]
    	],
    	[
    		[
    			8335,
    			8335
    		],
    		"disallowed"
    	],
    	[
    		[
    			8336,
    			8336
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			8337,
    			8337
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			8338,
    			8338
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			8339,
    			8339
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			8340,
    			8340
    		],
    		"mapped",
    		[
    			601
    		]
    	],
    	[
    		[
    			8341,
    			8341
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			8342,
    			8342
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			8343,
    			8343
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			8344,
    			8344
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			8345,
    			8345
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			8346,
    			8346
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			8347,
    			8347
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			8348,
    			8348
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			8349,
    			8351
    		],
    		"disallowed"
    	],
    	[
    		[
    			8352,
    			8359
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8360,
    			8360
    		],
    		"mapped",
    		[
    			114,
    			115
    		]
    	],
    	[
    		[
    			8361,
    			8362
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8363,
    			8363
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8364,
    			8364
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8365,
    			8367
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8368,
    			8369
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8370,
    			8373
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8374,
    			8376
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8377,
    			8377
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8378,
    			8378
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8379,
    			8381
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8382,
    			8382
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8383,
    			8399
    		],
    		"disallowed"
    	],
    	[
    		[
    			8400,
    			8417
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8418,
    			8419
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8420,
    			8426
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8427,
    			8427
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8428,
    			8431
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8432,
    			8432
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8433,
    			8447
    		],
    		"disallowed"
    	],
    	[
    		[
    			8448,
    			8448
    		],
    		"disallowed_STD3_mapped",
    		[
    			97,
    			47,
    			99
    		]
    	],
    	[
    		[
    			8449,
    			8449
    		],
    		"disallowed_STD3_mapped",
    		[
    			97,
    			47,
    			115
    		]
    	],
    	[
    		[
    			8450,
    			8450
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			8451,
    			8451
    		],
    		"mapped",
    		[
    			176,
    			99
    		]
    	],
    	[
    		[
    			8452,
    			8452
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8453,
    			8453
    		],
    		"disallowed_STD3_mapped",
    		[
    			99,
    			47,
    			111
    		]
    	],
    	[
    		[
    			8454,
    			8454
    		],
    		"disallowed_STD3_mapped",
    		[
    			99,
    			47,
    			117
    		]
    	],
    	[
    		[
    			8455,
    			8455
    		],
    		"mapped",
    		[
    			603
    		]
    	],
    	[
    		[
    			8456,
    			8456
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8457,
    			8457
    		],
    		"mapped",
    		[
    			176,
    			102
    		]
    	],
    	[
    		[
    			8458,
    			8458
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			8459,
    			8462
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			8463,
    			8463
    		],
    		"mapped",
    		[
    			295
    		]
    	],
    	[
    		[
    			8464,
    			8465
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			8466,
    			8467
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			8468,
    			8468
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8469,
    			8469
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			8470,
    			8470
    		],
    		"mapped",
    		[
    			110,
    			111
    		]
    	],
    	[
    		[
    			8471,
    			8472
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8473,
    			8473
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			8474,
    			8474
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			8475,
    			8477
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			8478,
    			8479
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8480,
    			8480
    		],
    		"mapped",
    		[
    			115,
    			109
    		]
    	],
    	[
    		[
    			8481,
    			8481
    		],
    		"mapped",
    		[
    			116,
    			101,
    			108
    		]
    	],
    	[
    		[
    			8482,
    			8482
    		],
    		"mapped",
    		[
    			116,
    			109
    		]
    	],
    	[
    		[
    			8483,
    			8483
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8484,
    			8484
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			8485,
    			8485
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8486,
    			8486
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			8487,
    			8487
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8488,
    			8488
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			8489,
    			8489
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8490,
    			8490
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			8491,
    			8491
    		],
    		"mapped",
    		[
    			229
    		]
    	],
    	[
    		[
    			8492,
    			8492
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			8493,
    			8493
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			8494,
    			8494
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8495,
    			8496
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			8497,
    			8497
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			8498,
    			8498
    		],
    		"disallowed"
    	],
    	[
    		[
    			8499,
    			8499
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			8500,
    			8500
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			8501,
    			8501
    		],
    		"mapped",
    		[
    			1488
    		]
    	],
    	[
    		[
    			8502,
    			8502
    		],
    		"mapped",
    		[
    			1489
    		]
    	],
    	[
    		[
    			8503,
    			8503
    		],
    		"mapped",
    		[
    			1490
    		]
    	],
    	[
    		[
    			8504,
    			8504
    		],
    		"mapped",
    		[
    			1491
    		]
    	],
    	[
    		[
    			8505,
    			8505
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			8506,
    			8506
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8507,
    			8507
    		],
    		"mapped",
    		[
    			102,
    			97,
    			120
    		]
    	],
    	[
    		[
    			8508,
    			8508
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			8509,
    			8510
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			8511,
    			8511
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			8512,
    			8512
    		],
    		"mapped",
    		[
    			8721
    		]
    	],
    	[
    		[
    			8513,
    			8516
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8517,
    			8518
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			8519,
    			8519
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			8520,
    			8520
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			8521,
    			8521
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			8522,
    			8523
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8524,
    			8524
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8525,
    			8525
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8526,
    			8526
    		],
    		"valid"
    	],
    	[
    		[
    			8527,
    			8527
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8528,
    			8528
    		],
    		"mapped",
    		[
    			49,
    			8260,
    			55
    		]
    	],
    	[
    		[
    			8529,
    			8529
    		],
    		"mapped",
    		[
    			49,
    			8260,
    			57
    		]
    	],
    	[
    		[
    			8530,
    			8530
    		],
    		"mapped",
    		[
    			49,
    			8260,
    			49,
    			48
    		]
    	],
    	[
    		[
    			8531,
    			8531
    		],
    		"mapped",
    		[
    			49,
    			8260,
    			51
    		]
    	],
    	[
    		[
    			8532,
    			8532
    		],
    		"mapped",
    		[
    			50,
    			8260,
    			51
    		]
    	],
    	[
    		[
    			8533,
    			8533
    		],
    		"mapped",
    		[
    			49,
    			8260,
    			53
    		]
    	],
    	[
    		[
    			8534,
    			8534
    		],
    		"mapped",
    		[
    			50,
    			8260,
    			53
    		]
    	],
    	[
    		[
    			8535,
    			8535
    		],
    		"mapped",
    		[
    			51,
    			8260,
    			53
    		]
    	],
    	[
    		[
    			8536,
    			8536
    		],
    		"mapped",
    		[
    			52,
    			8260,
    			53
    		]
    	],
    	[
    		[
    			8537,
    			8537
    		],
    		"mapped",
    		[
    			49,
    			8260,
    			54
    		]
    	],
    	[
    		[
    			8538,
    			8538
    		],
    		"mapped",
    		[
    			53,
    			8260,
    			54
    		]
    	],
    	[
    		[
    			8539,
    			8539
    		],
    		"mapped",
    		[
    			49,
    			8260,
    			56
    		]
    	],
    	[
    		[
    			8540,
    			8540
    		],
    		"mapped",
    		[
    			51,
    			8260,
    			56
    		]
    	],
    	[
    		[
    			8541,
    			8541
    		],
    		"mapped",
    		[
    			53,
    			8260,
    			56
    		]
    	],
    	[
    		[
    			8542,
    			8542
    		],
    		"mapped",
    		[
    			55,
    			8260,
    			56
    		]
    	],
    	[
    		[
    			8543,
    			8543
    		],
    		"mapped",
    		[
    			49,
    			8260
    		]
    	],
    	[
    		[
    			8544,
    			8544
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			8545,
    			8545
    		],
    		"mapped",
    		[
    			105,
    			105
    		]
    	],
    	[
    		[
    			8546,
    			8546
    		],
    		"mapped",
    		[
    			105,
    			105,
    			105
    		]
    	],
    	[
    		[
    			8547,
    			8547
    		],
    		"mapped",
    		[
    			105,
    			118
    		]
    	],
    	[
    		[
    			8548,
    			8548
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			8549,
    			8549
    		],
    		"mapped",
    		[
    			118,
    			105
    		]
    	],
    	[
    		[
    			8550,
    			8550
    		],
    		"mapped",
    		[
    			118,
    			105,
    			105
    		]
    	],
    	[
    		[
    			8551,
    			8551
    		],
    		"mapped",
    		[
    			118,
    			105,
    			105,
    			105
    		]
    	],
    	[
    		[
    			8552,
    			8552
    		],
    		"mapped",
    		[
    			105,
    			120
    		]
    	],
    	[
    		[
    			8553,
    			8553
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			8554,
    			8554
    		],
    		"mapped",
    		[
    			120,
    			105
    		]
    	],
    	[
    		[
    			8555,
    			8555
    		],
    		"mapped",
    		[
    			120,
    			105,
    			105
    		]
    	],
    	[
    		[
    			8556,
    			8556
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			8557,
    			8557
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			8558,
    			8558
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			8559,
    			8559
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			8560,
    			8560
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			8561,
    			8561
    		],
    		"mapped",
    		[
    			105,
    			105
    		]
    	],
    	[
    		[
    			8562,
    			8562
    		],
    		"mapped",
    		[
    			105,
    			105,
    			105
    		]
    	],
    	[
    		[
    			8563,
    			8563
    		],
    		"mapped",
    		[
    			105,
    			118
    		]
    	],
    	[
    		[
    			8564,
    			8564
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			8565,
    			8565
    		],
    		"mapped",
    		[
    			118,
    			105
    		]
    	],
    	[
    		[
    			8566,
    			8566
    		],
    		"mapped",
    		[
    			118,
    			105,
    			105
    		]
    	],
    	[
    		[
    			8567,
    			8567
    		],
    		"mapped",
    		[
    			118,
    			105,
    			105,
    			105
    		]
    	],
    	[
    		[
    			8568,
    			8568
    		],
    		"mapped",
    		[
    			105,
    			120
    		]
    	],
    	[
    		[
    			8569,
    			8569
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			8570,
    			8570
    		],
    		"mapped",
    		[
    			120,
    			105
    		]
    	],
    	[
    		[
    			8571,
    			8571
    		],
    		"mapped",
    		[
    			120,
    			105,
    			105
    		]
    	],
    	[
    		[
    			8572,
    			8572
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			8573,
    			8573
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			8574,
    			8574
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			8575,
    			8575
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			8576,
    			8578
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8579,
    			8579
    		],
    		"disallowed"
    	],
    	[
    		[
    			8580,
    			8580
    		],
    		"valid"
    	],
    	[
    		[
    			8581,
    			8584
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8585,
    			8585
    		],
    		"mapped",
    		[
    			48,
    			8260,
    			51
    		]
    	],
    	[
    		[
    			8586,
    			8587
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8588,
    			8591
    		],
    		"disallowed"
    	],
    	[
    		[
    			8592,
    			8682
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8683,
    			8691
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8692,
    			8703
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8704,
    			8747
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8748,
    			8748
    		],
    		"mapped",
    		[
    			8747,
    			8747
    		]
    	],
    	[
    		[
    			8749,
    			8749
    		],
    		"mapped",
    		[
    			8747,
    			8747,
    			8747
    		]
    	],
    	[
    		[
    			8750,
    			8750
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8751,
    			8751
    		],
    		"mapped",
    		[
    			8750,
    			8750
    		]
    	],
    	[
    		[
    			8752,
    			8752
    		],
    		"mapped",
    		[
    			8750,
    			8750,
    			8750
    		]
    	],
    	[
    		[
    			8753,
    			8799
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8800,
    			8800
    		],
    		"disallowed_STD3_valid"
    	],
    	[
    		[
    			8801,
    			8813
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8814,
    			8815
    		],
    		"disallowed_STD3_valid"
    	],
    	[
    		[
    			8816,
    			8945
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8946,
    			8959
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8960,
    			8960
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8961,
    			8961
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			8962,
    			9000
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9001,
    			9001
    		],
    		"mapped",
    		[
    			12296
    		]
    	],
    	[
    		[
    			9002,
    			9002
    		],
    		"mapped",
    		[
    			12297
    		]
    	],
    	[
    		[
    			9003,
    			9082
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9083,
    			9083
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9084,
    			9084
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9085,
    			9114
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9115,
    			9166
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9167,
    			9168
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9169,
    			9179
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9180,
    			9191
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9192,
    			9192
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9193,
    			9203
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9204,
    			9210
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9211,
    			9215
    		],
    		"disallowed"
    	],
    	[
    		[
    			9216,
    			9252
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9253,
    			9254
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9255,
    			9279
    		],
    		"disallowed"
    	],
    	[
    		[
    			9280,
    			9290
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9291,
    			9311
    		],
    		"disallowed"
    	],
    	[
    		[
    			9312,
    			9312
    		],
    		"mapped",
    		[
    			49
    		]
    	],
    	[
    		[
    			9313,
    			9313
    		],
    		"mapped",
    		[
    			50
    		]
    	],
    	[
    		[
    			9314,
    			9314
    		],
    		"mapped",
    		[
    			51
    		]
    	],
    	[
    		[
    			9315,
    			9315
    		],
    		"mapped",
    		[
    			52
    		]
    	],
    	[
    		[
    			9316,
    			9316
    		],
    		"mapped",
    		[
    			53
    		]
    	],
    	[
    		[
    			9317,
    			9317
    		],
    		"mapped",
    		[
    			54
    		]
    	],
    	[
    		[
    			9318,
    			9318
    		],
    		"mapped",
    		[
    			55
    		]
    	],
    	[
    		[
    			9319,
    			9319
    		],
    		"mapped",
    		[
    			56
    		]
    	],
    	[
    		[
    			9320,
    			9320
    		],
    		"mapped",
    		[
    			57
    		]
    	],
    	[
    		[
    			9321,
    			9321
    		],
    		"mapped",
    		[
    			49,
    			48
    		]
    	],
    	[
    		[
    			9322,
    			9322
    		],
    		"mapped",
    		[
    			49,
    			49
    		]
    	],
    	[
    		[
    			9323,
    			9323
    		],
    		"mapped",
    		[
    			49,
    			50
    		]
    	],
    	[
    		[
    			9324,
    			9324
    		],
    		"mapped",
    		[
    			49,
    			51
    		]
    	],
    	[
    		[
    			9325,
    			9325
    		],
    		"mapped",
    		[
    			49,
    			52
    		]
    	],
    	[
    		[
    			9326,
    			9326
    		],
    		"mapped",
    		[
    			49,
    			53
    		]
    	],
    	[
    		[
    			9327,
    			9327
    		],
    		"mapped",
    		[
    			49,
    			54
    		]
    	],
    	[
    		[
    			9328,
    			9328
    		],
    		"mapped",
    		[
    			49,
    			55
    		]
    	],
    	[
    		[
    			9329,
    			9329
    		],
    		"mapped",
    		[
    			49,
    			56
    		]
    	],
    	[
    		[
    			9330,
    			9330
    		],
    		"mapped",
    		[
    			49,
    			57
    		]
    	],
    	[
    		[
    			9331,
    			9331
    		],
    		"mapped",
    		[
    			50,
    			48
    		]
    	],
    	[
    		[
    			9332,
    			9332
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			41
    		]
    	],
    	[
    		[
    			9333,
    			9333
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			50,
    			41
    		]
    	],
    	[
    		[
    			9334,
    			9334
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			51,
    			41
    		]
    	],
    	[
    		[
    			9335,
    			9335
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			52,
    			41
    		]
    	],
    	[
    		[
    			9336,
    			9336
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			53,
    			41
    		]
    	],
    	[
    		[
    			9337,
    			9337
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			54,
    			41
    		]
    	],
    	[
    		[
    			9338,
    			9338
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			55,
    			41
    		]
    	],
    	[
    		[
    			9339,
    			9339
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			56,
    			41
    		]
    	],
    	[
    		[
    			9340,
    			9340
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			57,
    			41
    		]
    	],
    	[
    		[
    			9341,
    			9341
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			48,
    			41
    		]
    	],
    	[
    		[
    			9342,
    			9342
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			49,
    			41
    		]
    	],
    	[
    		[
    			9343,
    			9343
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			50,
    			41
    		]
    	],
    	[
    		[
    			9344,
    			9344
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			51,
    			41
    		]
    	],
    	[
    		[
    			9345,
    			9345
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			52,
    			41
    		]
    	],
    	[
    		[
    			9346,
    			9346
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			53,
    			41
    		]
    	],
    	[
    		[
    			9347,
    			9347
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			54,
    			41
    		]
    	],
    	[
    		[
    			9348,
    			9348
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			55,
    			41
    		]
    	],
    	[
    		[
    			9349,
    			9349
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			56,
    			41
    		]
    	],
    	[
    		[
    			9350,
    			9350
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49,
    			57,
    			41
    		]
    	],
    	[
    		[
    			9351,
    			9351
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			50,
    			48,
    			41
    		]
    	],
    	[
    		[
    			9352,
    			9371
    		],
    		"disallowed"
    	],
    	[
    		[
    			9372,
    			9372
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			97,
    			41
    		]
    	],
    	[
    		[
    			9373,
    			9373
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			98,
    			41
    		]
    	],
    	[
    		[
    			9374,
    			9374
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			99,
    			41
    		]
    	],
    	[
    		[
    			9375,
    			9375
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			100,
    			41
    		]
    	],
    	[
    		[
    			9376,
    			9376
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			101,
    			41
    		]
    	],
    	[
    		[
    			9377,
    			9377
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			102,
    			41
    		]
    	],
    	[
    		[
    			9378,
    			9378
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			103,
    			41
    		]
    	],
    	[
    		[
    			9379,
    			9379
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			104,
    			41
    		]
    	],
    	[
    		[
    			9380,
    			9380
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			105,
    			41
    		]
    	],
    	[
    		[
    			9381,
    			9381
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			106,
    			41
    		]
    	],
    	[
    		[
    			9382,
    			9382
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			107,
    			41
    		]
    	],
    	[
    		[
    			9383,
    			9383
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			108,
    			41
    		]
    	],
    	[
    		[
    			9384,
    			9384
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			109,
    			41
    		]
    	],
    	[
    		[
    			9385,
    			9385
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			110,
    			41
    		]
    	],
    	[
    		[
    			9386,
    			9386
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			111,
    			41
    		]
    	],
    	[
    		[
    			9387,
    			9387
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			112,
    			41
    		]
    	],
    	[
    		[
    			9388,
    			9388
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			113,
    			41
    		]
    	],
    	[
    		[
    			9389,
    			9389
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			114,
    			41
    		]
    	],
    	[
    		[
    			9390,
    			9390
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			115,
    			41
    		]
    	],
    	[
    		[
    			9391,
    			9391
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			116,
    			41
    		]
    	],
    	[
    		[
    			9392,
    			9392
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			117,
    			41
    		]
    	],
    	[
    		[
    			9393,
    			9393
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			118,
    			41
    		]
    	],
    	[
    		[
    			9394,
    			9394
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			119,
    			41
    		]
    	],
    	[
    		[
    			9395,
    			9395
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			120,
    			41
    		]
    	],
    	[
    		[
    			9396,
    			9396
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			121,
    			41
    		]
    	],
    	[
    		[
    			9397,
    			9397
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			122,
    			41
    		]
    	],
    	[
    		[
    			9398,
    			9398
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			9399,
    			9399
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			9400,
    			9400
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			9401,
    			9401
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			9402,
    			9402
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			9403,
    			9403
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			9404,
    			9404
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			9405,
    			9405
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			9406,
    			9406
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			9407,
    			9407
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			9408,
    			9408
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			9409,
    			9409
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			9410,
    			9410
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			9411,
    			9411
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			9412,
    			9412
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			9413,
    			9413
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			9414,
    			9414
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			9415,
    			9415
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			9416,
    			9416
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			9417,
    			9417
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			9418,
    			9418
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			9419,
    			9419
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			9420,
    			9420
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			9421,
    			9421
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			9422,
    			9422
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			9423,
    			9423
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			9424,
    			9424
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			9425,
    			9425
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			9426,
    			9426
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			9427,
    			9427
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			9428,
    			9428
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			9429,
    			9429
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			9430,
    			9430
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			9431,
    			9431
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			9432,
    			9432
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			9433,
    			9433
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			9434,
    			9434
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			9435,
    			9435
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			9436,
    			9436
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			9437,
    			9437
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			9438,
    			9438
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			9439,
    			9439
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			9440,
    			9440
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			9441,
    			9441
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			9442,
    			9442
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			9443,
    			9443
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			9444,
    			9444
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			9445,
    			9445
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			9446,
    			9446
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			9447,
    			9447
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			9448,
    			9448
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			9449,
    			9449
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			9450,
    			9450
    		],
    		"mapped",
    		[
    			48
    		]
    	],
    	[
    		[
    			9451,
    			9470
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9471,
    			9471
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9472,
    			9621
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9622,
    			9631
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9632,
    			9711
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9712,
    			9719
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9720,
    			9727
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9728,
    			9747
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9748,
    			9749
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9750,
    			9751
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9752,
    			9752
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9753,
    			9753
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9754,
    			9839
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9840,
    			9841
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9842,
    			9853
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9854,
    			9855
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9856,
    			9865
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9866,
    			9873
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9874,
    			9884
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9885,
    			9885
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9886,
    			9887
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9888,
    			9889
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9890,
    			9905
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9906,
    			9906
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9907,
    			9916
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9917,
    			9919
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9920,
    			9923
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9924,
    			9933
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9934,
    			9934
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9935,
    			9953
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9954,
    			9954
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9955,
    			9955
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9956,
    			9959
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9960,
    			9983
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9984,
    			9984
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9985,
    			9988
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9989,
    			9989
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9990,
    			9993
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9994,
    			9995
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			9996,
    			10023
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10024,
    			10024
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10025,
    			10059
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10060,
    			10060
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10061,
    			10061
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10062,
    			10062
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10063,
    			10066
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10067,
    			10069
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10070,
    			10070
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10071,
    			10071
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10072,
    			10078
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10079,
    			10080
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10081,
    			10087
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10088,
    			10101
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10102,
    			10132
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10133,
    			10135
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10136,
    			10159
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10160,
    			10160
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10161,
    			10174
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10175,
    			10175
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10176,
    			10182
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10183,
    			10186
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10187,
    			10187
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10188,
    			10188
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10189,
    			10189
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10190,
    			10191
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10192,
    			10219
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10220,
    			10223
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10224,
    			10239
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10240,
    			10495
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10496,
    			10763
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10764,
    			10764
    		],
    		"mapped",
    		[
    			8747,
    			8747,
    			8747,
    			8747
    		]
    	],
    	[
    		[
    			10765,
    			10867
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10868,
    			10868
    		],
    		"disallowed_STD3_mapped",
    		[
    			58,
    			58,
    			61
    		]
    	],
    	[
    		[
    			10869,
    			10869
    		],
    		"disallowed_STD3_mapped",
    		[
    			61,
    			61
    		]
    	],
    	[
    		[
    			10870,
    			10870
    		],
    		"disallowed_STD3_mapped",
    		[
    			61,
    			61,
    			61
    		]
    	],
    	[
    		[
    			10871,
    			10971
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			10972,
    			10972
    		],
    		"mapped",
    		[
    			10973,
    			824
    		]
    	],
    	[
    		[
    			10973,
    			11007
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11008,
    			11021
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11022,
    			11027
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11028,
    			11034
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11035,
    			11039
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11040,
    			11043
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11044,
    			11084
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11085,
    			11087
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11088,
    			11092
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11093,
    			11097
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11098,
    			11123
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11124,
    			11125
    		],
    		"disallowed"
    	],
    	[
    		[
    			11126,
    			11157
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11158,
    			11159
    		],
    		"disallowed"
    	],
    	[
    		[
    			11160,
    			11193
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11194,
    			11196
    		],
    		"disallowed"
    	],
    	[
    		[
    			11197,
    			11208
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11209,
    			11209
    		],
    		"disallowed"
    	],
    	[
    		[
    			11210,
    			11217
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11218,
    			11243
    		],
    		"disallowed"
    	],
    	[
    		[
    			11244,
    			11247
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11248,
    			11263
    		],
    		"disallowed"
    	],
    	[
    		[
    			11264,
    			11264
    		],
    		"mapped",
    		[
    			11312
    		]
    	],
    	[
    		[
    			11265,
    			11265
    		],
    		"mapped",
    		[
    			11313
    		]
    	],
    	[
    		[
    			11266,
    			11266
    		],
    		"mapped",
    		[
    			11314
    		]
    	],
    	[
    		[
    			11267,
    			11267
    		],
    		"mapped",
    		[
    			11315
    		]
    	],
    	[
    		[
    			11268,
    			11268
    		],
    		"mapped",
    		[
    			11316
    		]
    	],
    	[
    		[
    			11269,
    			11269
    		],
    		"mapped",
    		[
    			11317
    		]
    	],
    	[
    		[
    			11270,
    			11270
    		],
    		"mapped",
    		[
    			11318
    		]
    	],
    	[
    		[
    			11271,
    			11271
    		],
    		"mapped",
    		[
    			11319
    		]
    	],
    	[
    		[
    			11272,
    			11272
    		],
    		"mapped",
    		[
    			11320
    		]
    	],
    	[
    		[
    			11273,
    			11273
    		],
    		"mapped",
    		[
    			11321
    		]
    	],
    	[
    		[
    			11274,
    			11274
    		],
    		"mapped",
    		[
    			11322
    		]
    	],
    	[
    		[
    			11275,
    			11275
    		],
    		"mapped",
    		[
    			11323
    		]
    	],
    	[
    		[
    			11276,
    			11276
    		],
    		"mapped",
    		[
    			11324
    		]
    	],
    	[
    		[
    			11277,
    			11277
    		],
    		"mapped",
    		[
    			11325
    		]
    	],
    	[
    		[
    			11278,
    			11278
    		],
    		"mapped",
    		[
    			11326
    		]
    	],
    	[
    		[
    			11279,
    			11279
    		],
    		"mapped",
    		[
    			11327
    		]
    	],
    	[
    		[
    			11280,
    			11280
    		],
    		"mapped",
    		[
    			11328
    		]
    	],
    	[
    		[
    			11281,
    			11281
    		],
    		"mapped",
    		[
    			11329
    		]
    	],
    	[
    		[
    			11282,
    			11282
    		],
    		"mapped",
    		[
    			11330
    		]
    	],
    	[
    		[
    			11283,
    			11283
    		],
    		"mapped",
    		[
    			11331
    		]
    	],
    	[
    		[
    			11284,
    			11284
    		],
    		"mapped",
    		[
    			11332
    		]
    	],
    	[
    		[
    			11285,
    			11285
    		],
    		"mapped",
    		[
    			11333
    		]
    	],
    	[
    		[
    			11286,
    			11286
    		],
    		"mapped",
    		[
    			11334
    		]
    	],
    	[
    		[
    			11287,
    			11287
    		],
    		"mapped",
    		[
    			11335
    		]
    	],
    	[
    		[
    			11288,
    			11288
    		],
    		"mapped",
    		[
    			11336
    		]
    	],
    	[
    		[
    			11289,
    			11289
    		],
    		"mapped",
    		[
    			11337
    		]
    	],
    	[
    		[
    			11290,
    			11290
    		],
    		"mapped",
    		[
    			11338
    		]
    	],
    	[
    		[
    			11291,
    			11291
    		],
    		"mapped",
    		[
    			11339
    		]
    	],
    	[
    		[
    			11292,
    			11292
    		],
    		"mapped",
    		[
    			11340
    		]
    	],
    	[
    		[
    			11293,
    			11293
    		],
    		"mapped",
    		[
    			11341
    		]
    	],
    	[
    		[
    			11294,
    			11294
    		],
    		"mapped",
    		[
    			11342
    		]
    	],
    	[
    		[
    			11295,
    			11295
    		],
    		"mapped",
    		[
    			11343
    		]
    	],
    	[
    		[
    			11296,
    			11296
    		],
    		"mapped",
    		[
    			11344
    		]
    	],
    	[
    		[
    			11297,
    			11297
    		],
    		"mapped",
    		[
    			11345
    		]
    	],
    	[
    		[
    			11298,
    			11298
    		],
    		"mapped",
    		[
    			11346
    		]
    	],
    	[
    		[
    			11299,
    			11299
    		],
    		"mapped",
    		[
    			11347
    		]
    	],
    	[
    		[
    			11300,
    			11300
    		],
    		"mapped",
    		[
    			11348
    		]
    	],
    	[
    		[
    			11301,
    			11301
    		],
    		"mapped",
    		[
    			11349
    		]
    	],
    	[
    		[
    			11302,
    			11302
    		],
    		"mapped",
    		[
    			11350
    		]
    	],
    	[
    		[
    			11303,
    			11303
    		],
    		"mapped",
    		[
    			11351
    		]
    	],
    	[
    		[
    			11304,
    			11304
    		],
    		"mapped",
    		[
    			11352
    		]
    	],
    	[
    		[
    			11305,
    			11305
    		],
    		"mapped",
    		[
    			11353
    		]
    	],
    	[
    		[
    			11306,
    			11306
    		],
    		"mapped",
    		[
    			11354
    		]
    	],
    	[
    		[
    			11307,
    			11307
    		],
    		"mapped",
    		[
    			11355
    		]
    	],
    	[
    		[
    			11308,
    			11308
    		],
    		"mapped",
    		[
    			11356
    		]
    	],
    	[
    		[
    			11309,
    			11309
    		],
    		"mapped",
    		[
    			11357
    		]
    	],
    	[
    		[
    			11310,
    			11310
    		],
    		"mapped",
    		[
    			11358
    		]
    	],
    	[
    		[
    			11311,
    			11311
    		],
    		"disallowed"
    	],
    	[
    		[
    			11312,
    			11358
    		],
    		"valid"
    	],
    	[
    		[
    			11359,
    			11359
    		],
    		"disallowed"
    	],
    	[
    		[
    			11360,
    			11360
    		],
    		"mapped",
    		[
    			11361
    		]
    	],
    	[
    		[
    			11361,
    			11361
    		],
    		"valid"
    	],
    	[
    		[
    			11362,
    			11362
    		],
    		"mapped",
    		[
    			619
    		]
    	],
    	[
    		[
    			11363,
    			11363
    		],
    		"mapped",
    		[
    			7549
    		]
    	],
    	[
    		[
    			11364,
    			11364
    		],
    		"mapped",
    		[
    			637
    		]
    	],
    	[
    		[
    			11365,
    			11366
    		],
    		"valid"
    	],
    	[
    		[
    			11367,
    			11367
    		],
    		"mapped",
    		[
    			11368
    		]
    	],
    	[
    		[
    			11368,
    			11368
    		],
    		"valid"
    	],
    	[
    		[
    			11369,
    			11369
    		],
    		"mapped",
    		[
    			11370
    		]
    	],
    	[
    		[
    			11370,
    			11370
    		],
    		"valid"
    	],
    	[
    		[
    			11371,
    			11371
    		],
    		"mapped",
    		[
    			11372
    		]
    	],
    	[
    		[
    			11372,
    			11372
    		],
    		"valid"
    	],
    	[
    		[
    			11373,
    			11373
    		],
    		"mapped",
    		[
    			593
    		]
    	],
    	[
    		[
    			11374,
    			11374
    		],
    		"mapped",
    		[
    			625
    		]
    	],
    	[
    		[
    			11375,
    			11375
    		],
    		"mapped",
    		[
    			592
    		]
    	],
    	[
    		[
    			11376,
    			11376
    		],
    		"mapped",
    		[
    			594
    		]
    	],
    	[
    		[
    			11377,
    			11377
    		],
    		"valid"
    	],
    	[
    		[
    			11378,
    			11378
    		],
    		"mapped",
    		[
    			11379
    		]
    	],
    	[
    		[
    			11379,
    			11379
    		],
    		"valid"
    	],
    	[
    		[
    			11380,
    			11380
    		],
    		"valid"
    	],
    	[
    		[
    			11381,
    			11381
    		],
    		"mapped",
    		[
    			11382
    		]
    	],
    	[
    		[
    			11382,
    			11383
    		],
    		"valid"
    	],
    	[
    		[
    			11384,
    			11387
    		],
    		"valid"
    	],
    	[
    		[
    			11388,
    			11388
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			11389,
    			11389
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			11390,
    			11390
    		],
    		"mapped",
    		[
    			575
    		]
    	],
    	[
    		[
    			11391,
    			11391
    		],
    		"mapped",
    		[
    			576
    		]
    	],
    	[
    		[
    			11392,
    			11392
    		],
    		"mapped",
    		[
    			11393
    		]
    	],
    	[
    		[
    			11393,
    			11393
    		],
    		"valid"
    	],
    	[
    		[
    			11394,
    			11394
    		],
    		"mapped",
    		[
    			11395
    		]
    	],
    	[
    		[
    			11395,
    			11395
    		],
    		"valid"
    	],
    	[
    		[
    			11396,
    			11396
    		],
    		"mapped",
    		[
    			11397
    		]
    	],
    	[
    		[
    			11397,
    			11397
    		],
    		"valid"
    	],
    	[
    		[
    			11398,
    			11398
    		],
    		"mapped",
    		[
    			11399
    		]
    	],
    	[
    		[
    			11399,
    			11399
    		],
    		"valid"
    	],
    	[
    		[
    			11400,
    			11400
    		],
    		"mapped",
    		[
    			11401
    		]
    	],
    	[
    		[
    			11401,
    			11401
    		],
    		"valid"
    	],
    	[
    		[
    			11402,
    			11402
    		],
    		"mapped",
    		[
    			11403
    		]
    	],
    	[
    		[
    			11403,
    			11403
    		],
    		"valid"
    	],
    	[
    		[
    			11404,
    			11404
    		],
    		"mapped",
    		[
    			11405
    		]
    	],
    	[
    		[
    			11405,
    			11405
    		],
    		"valid"
    	],
    	[
    		[
    			11406,
    			11406
    		],
    		"mapped",
    		[
    			11407
    		]
    	],
    	[
    		[
    			11407,
    			11407
    		],
    		"valid"
    	],
    	[
    		[
    			11408,
    			11408
    		],
    		"mapped",
    		[
    			11409
    		]
    	],
    	[
    		[
    			11409,
    			11409
    		],
    		"valid"
    	],
    	[
    		[
    			11410,
    			11410
    		],
    		"mapped",
    		[
    			11411
    		]
    	],
    	[
    		[
    			11411,
    			11411
    		],
    		"valid"
    	],
    	[
    		[
    			11412,
    			11412
    		],
    		"mapped",
    		[
    			11413
    		]
    	],
    	[
    		[
    			11413,
    			11413
    		],
    		"valid"
    	],
    	[
    		[
    			11414,
    			11414
    		],
    		"mapped",
    		[
    			11415
    		]
    	],
    	[
    		[
    			11415,
    			11415
    		],
    		"valid"
    	],
    	[
    		[
    			11416,
    			11416
    		],
    		"mapped",
    		[
    			11417
    		]
    	],
    	[
    		[
    			11417,
    			11417
    		],
    		"valid"
    	],
    	[
    		[
    			11418,
    			11418
    		],
    		"mapped",
    		[
    			11419
    		]
    	],
    	[
    		[
    			11419,
    			11419
    		],
    		"valid"
    	],
    	[
    		[
    			11420,
    			11420
    		],
    		"mapped",
    		[
    			11421
    		]
    	],
    	[
    		[
    			11421,
    			11421
    		],
    		"valid"
    	],
    	[
    		[
    			11422,
    			11422
    		],
    		"mapped",
    		[
    			11423
    		]
    	],
    	[
    		[
    			11423,
    			11423
    		],
    		"valid"
    	],
    	[
    		[
    			11424,
    			11424
    		],
    		"mapped",
    		[
    			11425
    		]
    	],
    	[
    		[
    			11425,
    			11425
    		],
    		"valid"
    	],
    	[
    		[
    			11426,
    			11426
    		],
    		"mapped",
    		[
    			11427
    		]
    	],
    	[
    		[
    			11427,
    			11427
    		],
    		"valid"
    	],
    	[
    		[
    			11428,
    			11428
    		],
    		"mapped",
    		[
    			11429
    		]
    	],
    	[
    		[
    			11429,
    			11429
    		],
    		"valid"
    	],
    	[
    		[
    			11430,
    			11430
    		],
    		"mapped",
    		[
    			11431
    		]
    	],
    	[
    		[
    			11431,
    			11431
    		],
    		"valid"
    	],
    	[
    		[
    			11432,
    			11432
    		],
    		"mapped",
    		[
    			11433
    		]
    	],
    	[
    		[
    			11433,
    			11433
    		],
    		"valid"
    	],
    	[
    		[
    			11434,
    			11434
    		],
    		"mapped",
    		[
    			11435
    		]
    	],
    	[
    		[
    			11435,
    			11435
    		],
    		"valid"
    	],
    	[
    		[
    			11436,
    			11436
    		],
    		"mapped",
    		[
    			11437
    		]
    	],
    	[
    		[
    			11437,
    			11437
    		],
    		"valid"
    	],
    	[
    		[
    			11438,
    			11438
    		],
    		"mapped",
    		[
    			11439
    		]
    	],
    	[
    		[
    			11439,
    			11439
    		],
    		"valid"
    	],
    	[
    		[
    			11440,
    			11440
    		],
    		"mapped",
    		[
    			11441
    		]
    	],
    	[
    		[
    			11441,
    			11441
    		],
    		"valid"
    	],
    	[
    		[
    			11442,
    			11442
    		],
    		"mapped",
    		[
    			11443
    		]
    	],
    	[
    		[
    			11443,
    			11443
    		],
    		"valid"
    	],
    	[
    		[
    			11444,
    			11444
    		],
    		"mapped",
    		[
    			11445
    		]
    	],
    	[
    		[
    			11445,
    			11445
    		],
    		"valid"
    	],
    	[
    		[
    			11446,
    			11446
    		],
    		"mapped",
    		[
    			11447
    		]
    	],
    	[
    		[
    			11447,
    			11447
    		],
    		"valid"
    	],
    	[
    		[
    			11448,
    			11448
    		],
    		"mapped",
    		[
    			11449
    		]
    	],
    	[
    		[
    			11449,
    			11449
    		],
    		"valid"
    	],
    	[
    		[
    			11450,
    			11450
    		],
    		"mapped",
    		[
    			11451
    		]
    	],
    	[
    		[
    			11451,
    			11451
    		],
    		"valid"
    	],
    	[
    		[
    			11452,
    			11452
    		],
    		"mapped",
    		[
    			11453
    		]
    	],
    	[
    		[
    			11453,
    			11453
    		],
    		"valid"
    	],
    	[
    		[
    			11454,
    			11454
    		],
    		"mapped",
    		[
    			11455
    		]
    	],
    	[
    		[
    			11455,
    			11455
    		],
    		"valid"
    	],
    	[
    		[
    			11456,
    			11456
    		],
    		"mapped",
    		[
    			11457
    		]
    	],
    	[
    		[
    			11457,
    			11457
    		],
    		"valid"
    	],
    	[
    		[
    			11458,
    			11458
    		],
    		"mapped",
    		[
    			11459
    		]
    	],
    	[
    		[
    			11459,
    			11459
    		],
    		"valid"
    	],
    	[
    		[
    			11460,
    			11460
    		],
    		"mapped",
    		[
    			11461
    		]
    	],
    	[
    		[
    			11461,
    			11461
    		],
    		"valid"
    	],
    	[
    		[
    			11462,
    			11462
    		],
    		"mapped",
    		[
    			11463
    		]
    	],
    	[
    		[
    			11463,
    			11463
    		],
    		"valid"
    	],
    	[
    		[
    			11464,
    			11464
    		],
    		"mapped",
    		[
    			11465
    		]
    	],
    	[
    		[
    			11465,
    			11465
    		],
    		"valid"
    	],
    	[
    		[
    			11466,
    			11466
    		],
    		"mapped",
    		[
    			11467
    		]
    	],
    	[
    		[
    			11467,
    			11467
    		],
    		"valid"
    	],
    	[
    		[
    			11468,
    			11468
    		],
    		"mapped",
    		[
    			11469
    		]
    	],
    	[
    		[
    			11469,
    			11469
    		],
    		"valid"
    	],
    	[
    		[
    			11470,
    			11470
    		],
    		"mapped",
    		[
    			11471
    		]
    	],
    	[
    		[
    			11471,
    			11471
    		],
    		"valid"
    	],
    	[
    		[
    			11472,
    			11472
    		],
    		"mapped",
    		[
    			11473
    		]
    	],
    	[
    		[
    			11473,
    			11473
    		],
    		"valid"
    	],
    	[
    		[
    			11474,
    			11474
    		],
    		"mapped",
    		[
    			11475
    		]
    	],
    	[
    		[
    			11475,
    			11475
    		],
    		"valid"
    	],
    	[
    		[
    			11476,
    			11476
    		],
    		"mapped",
    		[
    			11477
    		]
    	],
    	[
    		[
    			11477,
    			11477
    		],
    		"valid"
    	],
    	[
    		[
    			11478,
    			11478
    		],
    		"mapped",
    		[
    			11479
    		]
    	],
    	[
    		[
    			11479,
    			11479
    		],
    		"valid"
    	],
    	[
    		[
    			11480,
    			11480
    		],
    		"mapped",
    		[
    			11481
    		]
    	],
    	[
    		[
    			11481,
    			11481
    		],
    		"valid"
    	],
    	[
    		[
    			11482,
    			11482
    		],
    		"mapped",
    		[
    			11483
    		]
    	],
    	[
    		[
    			11483,
    			11483
    		],
    		"valid"
    	],
    	[
    		[
    			11484,
    			11484
    		],
    		"mapped",
    		[
    			11485
    		]
    	],
    	[
    		[
    			11485,
    			11485
    		],
    		"valid"
    	],
    	[
    		[
    			11486,
    			11486
    		],
    		"mapped",
    		[
    			11487
    		]
    	],
    	[
    		[
    			11487,
    			11487
    		],
    		"valid"
    	],
    	[
    		[
    			11488,
    			11488
    		],
    		"mapped",
    		[
    			11489
    		]
    	],
    	[
    		[
    			11489,
    			11489
    		],
    		"valid"
    	],
    	[
    		[
    			11490,
    			11490
    		],
    		"mapped",
    		[
    			11491
    		]
    	],
    	[
    		[
    			11491,
    			11492
    		],
    		"valid"
    	],
    	[
    		[
    			11493,
    			11498
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11499,
    			11499
    		],
    		"mapped",
    		[
    			11500
    		]
    	],
    	[
    		[
    			11500,
    			11500
    		],
    		"valid"
    	],
    	[
    		[
    			11501,
    			11501
    		],
    		"mapped",
    		[
    			11502
    		]
    	],
    	[
    		[
    			11502,
    			11505
    		],
    		"valid"
    	],
    	[
    		[
    			11506,
    			11506
    		],
    		"mapped",
    		[
    			11507
    		]
    	],
    	[
    		[
    			11507,
    			11507
    		],
    		"valid"
    	],
    	[
    		[
    			11508,
    			11512
    		],
    		"disallowed"
    	],
    	[
    		[
    			11513,
    			11519
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11520,
    			11557
    		],
    		"valid"
    	],
    	[
    		[
    			11558,
    			11558
    		],
    		"disallowed"
    	],
    	[
    		[
    			11559,
    			11559
    		],
    		"valid"
    	],
    	[
    		[
    			11560,
    			11564
    		],
    		"disallowed"
    	],
    	[
    		[
    			11565,
    			11565
    		],
    		"valid"
    	],
    	[
    		[
    			11566,
    			11567
    		],
    		"disallowed"
    	],
    	[
    		[
    			11568,
    			11621
    		],
    		"valid"
    	],
    	[
    		[
    			11622,
    			11623
    		],
    		"valid"
    	],
    	[
    		[
    			11624,
    			11630
    		],
    		"disallowed"
    	],
    	[
    		[
    			11631,
    			11631
    		],
    		"mapped",
    		[
    			11617
    		]
    	],
    	[
    		[
    			11632,
    			11632
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11633,
    			11646
    		],
    		"disallowed"
    	],
    	[
    		[
    			11647,
    			11647
    		],
    		"valid"
    	],
    	[
    		[
    			11648,
    			11670
    		],
    		"valid"
    	],
    	[
    		[
    			11671,
    			11679
    		],
    		"disallowed"
    	],
    	[
    		[
    			11680,
    			11686
    		],
    		"valid"
    	],
    	[
    		[
    			11687,
    			11687
    		],
    		"disallowed"
    	],
    	[
    		[
    			11688,
    			11694
    		],
    		"valid"
    	],
    	[
    		[
    			11695,
    			11695
    		],
    		"disallowed"
    	],
    	[
    		[
    			11696,
    			11702
    		],
    		"valid"
    	],
    	[
    		[
    			11703,
    			11703
    		],
    		"disallowed"
    	],
    	[
    		[
    			11704,
    			11710
    		],
    		"valid"
    	],
    	[
    		[
    			11711,
    			11711
    		],
    		"disallowed"
    	],
    	[
    		[
    			11712,
    			11718
    		],
    		"valid"
    	],
    	[
    		[
    			11719,
    			11719
    		],
    		"disallowed"
    	],
    	[
    		[
    			11720,
    			11726
    		],
    		"valid"
    	],
    	[
    		[
    			11727,
    			11727
    		],
    		"disallowed"
    	],
    	[
    		[
    			11728,
    			11734
    		],
    		"valid"
    	],
    	[
    		[
    			11735,
    			11735
    		],
    		"disallowed"
    	],
    	[
    		[
    			11736,
    			11742
    		],
    		"valid"
    	],
    	[
    		[
    			11743,
    			11743
    		],
    		"disallowed"
    	],
    	[
    		[
    			11744,
    			11775
    		],
    		"valid"
    	],
    	[
    		[
    			11776,
    			11799
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11800,
    			11803
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11804,
    			11805
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11806,
    			11822
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11823,
    			11823
    		],
    		"valid"
    	],
    	[
    		[
    			11824,
    			11824
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11825,
    			11825
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11826,
    			11835
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11836,
    			11842
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11843,
    			11903
    		],
    		"disallowed"
    	],
    	[
    		[
    			11904,
    			11929
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11930,
    			11930
    		],
    		"disallowed"
    	],
    	[
    		[
    			11931,
    			11934
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			11935,
    			11935
    		],
    		"mapped",
    		[
    			27597
    		]
    	],
    	[
    		[
    			11936,
    			12018
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12019,
    			12019
    		],
    		"mapped",
    		[
    			40863
    		]
    	],
    	[
    		[
    			12020,
    			12031
    		],
    		"disallowed"
    	],
    	[
    		[
    			12032,
    			12032
    		],
    		"mapped",
    		[
    			19968
    		]
    	],
    	[
    		[
    			12033,
    			12033
    		],
    		"mapped",
    		[
    			20008
    		]
    	],
    	[
    		[
    			12034,
    			12034
    		],
    		"mapped",
    		[
    			20022
    		]
    	],
    	[
    		[
    			12035,
    			12035
    		],
    		"mapped",
    		[
    			20031
    		]
    	],
    	[
    		[
    			12036,
    			12036
    		],
    		"mapped",
    		[
    			20057
    		]
    	],
    	[
    		[
    			12037,
    			12037
    		],
    		"mapped",
    		[
    			20101
    		]
    	],
    	[
    		[
    			12038,
    			12038
    		],
    		"mapped",
    		[
    			20108
    		]
    	],
    	[
    		[
    			12039,
    			12039
    		],
    		"mapped",
    		[
    			20128
    		]
    	],
    	[
    		[
    			12040,
    			12040
    		],
    		"mapped",
    		[
    			20154
    		]
    	],
    	[
    		[
    			12041,
    			12041
    		],
    		"mapped",
    		[
    			20799
    		]
    	],
    	[
    		[
    			12042,
    			12042
    		],
    		"mapped",
    		[
    			20837
    		]
    	],
    	[
    		[
    			12043,
    			12043
    		],
    		"mapped",
    		[
    			20843
    		]
    	],
    	[
    		[
    			12044,
    			12044
    		],
    		"mapped",
    		[
    			20866
    		]
    	],
    	[
    		[
    			12045,
    			12045
    		],
    		"mapped",
    		[
    			20886
    		]
    	],
    	[
    		[
    			12046,
    			12046
    		],
    		"mapped",
    		[
    			20907
    		]
    	],
    	[
    		[
    			12047,
    			12047
    		],
    		"mapped",
    		[
    			20960
    		]
    	],
    	[
    		[
    			12048,
    			12048
    		],
    		"mapped",
    		[
    			20981
    		]
    	],
    	[
    		[
    			12049,
    			12049
    		],
    		"mapped",
    		[
    			20992
    		]
    	],
    	[
    		[
    			12050,
    			12050
    		],
    		"mapped",
    		[
    			21147
    		]
    	],
    	[
    		[
    			12051,
    			12051
    		],
    		"mapped",
    		[
    			21241
    		]
    	],
    	[
    		[
    			12052,
    			12052
    		],
    		"mapped",
    		[
    			21269
    		]
    	],
    	[
    		[
    			12053,
    			12053
    		],
    		"mapped",
    		[
    			21274
    		]
    	],
    	[
    		[
    			12054,
    			12054
    		],
    		"mapped",
    		[
    			21304
    		]
    	],
    	[
    		[
    			12055,
    			12055
    		],
    		"mapped",
    		[
    			21313
    		]
    	],
    	[
    		[
    			12056,
    			12056
    		],
    		"mapped",
    		[
    			21340
    		]
    	],
    	[
    		[
    			12057,
    			12057
    		],
    		"mapped",
    		[
    			21353
    		]
    	],
    	[
    		[
    			12058,
    			12058
    		],
    		"mapped",
    		[
    			21378
    		]
    	],
    	[
    		[
    			12059,
    			12059
    		],
    		"mapped",
    		[
    			21430
    		]
    	],
    	[
    		[
    			12060,
    			12060
    		],
    		"mapped",
    		[
    			21448
    		]
    	],
    	[
    		[
    			12061,
    			12061
    		],
    		"mapped",
    		[
    			21475
    		]
    	],
    	[
    		[
    			12062,
    			12062
    		],
    		"mapped",
    		[
    			22231
    		]
    	],
    	[
    		[
    			12063,
    			12063
    		],
    		"mapped",
    		[
    			22303
    		]
    	],
    	[
    		[
    			12064,
    			12064
    		],
    		"mapped",
    		[
    			22763
    		]
    	],
    	[
    		[
    			12065,
    			12065
    		],
    		"mapped",
    		[
    			22786
    		]
    	],
    	[
    		[
    			12066,
    			12066
    		],
    		"mapped",
    		[
    			22794
    		]
    	],
    	[
    		[
    			12067,
    			12067
    		],
    		"mapped",
    		[
    			22805
    		]
    	],
    	[
    		[
    			12068,
    			12068
    		],
    		"mapped",
    		[
    			22823
    		]
    	],
    	[
    		[
    			12069,
    			12069
    		],
    		"mapped",
    		[
    			22899
    		]
    	],
    	[
    		[
    			12070,
    			12070
    		],
    		"mapped",
    		[
    			23376
    		]
    	],
    	[
    		[
    			12071,
    			12071
    		],
    		"mapped",
    		[
    			23424
    		]
    	],
    	[
    		[
    			12072,
    			12072
    		],
    		"mapped",
    		[
    			23544
    		]
    	],
    	[
    		[
    			12073,
    			12073
    		],
    		"mapped",
    		[
    			23567
    		]
    	],
    	[
    		[
    			12074,
    			12074
    		],
    		"mapped",
    		[
    			23586
    		]
    	],
    	[
    		[
    			12075,
    			12075
    		],
    		"mapped",
    		[
    			23608
    		]
    	],
    	[
    		[
    			12076,
    			12076
    		],
    		"mapped",
    		[
    			23662
    		]
    	],
    	[
    		[
    			12077,
    			12077
    		],
    		"mapped",
    		[
    			23665
    		]
    	],
    	[
    		[
    			12078,
    			12078
    		],
    		"mapped",
    		[
    			24027
    		]
    	],
    	[
    		[
    			12079,
    			12079
    		],
    		"mapped",
    		[
    			24037
    		]
    	],
    	[
    		[
    			12080,
    			12080
    		],
    		"mapped",
    		[
    			24049
    		]
    	],
    	[
    		[
    			12081,
    			12081
    		],
    		"mapped",
    		[
    			24062
    		]
    	],
    	[
    		[
    			12082,
    			12082
    		],
    		"mapped",
    		[
    			24178
    		]
    	],
    	[
    		[
    			12083,
    			12083
    		],
    		"mapped",
    		[
    			24186
    		]
    	],
    	[
    		[
    			12084,
    			12084
    		],
    		"mapped",
    		[
    			24191
    		]
    	],
    	[
    		[
    			12085,
    			12085
    		],
    		"mapped",
    		[
    			24308
    		]
    	],
    	[
    		[
    			12086,
    			12086
    		],
    		"mapped",
    		[
    			24318
    		]
    	],
    	[
    		[
    			12087,
    			12087
    		],
    		"mapped",
    		[
    			24331
    		]
    	],
    	[
    		[
    			12088,
    			12088
    		],
    		"mapped",
    		[
    			24339
    		]
    	],
    	[
    		[
    			12089,
    			12089
    		],
    		"mapped",
    		[
    			24400
    		]
    	],
    	[
    		[
    			12090,
    			12090
    		],
    		"mapped",
    		[
    			24417
    		]
    	],
    	[
    		[
    			12091,
    			12091
    		],
    		"mapped",
    		[
    			24435
    		]
    	],
    	[
    		[
    			12092,
    			12092
    		],
    		"mapped",
    		[
    			24515
    		]
    	],
    	[
    		[
    			12093,
    			12093
    		],
    		"mapped",
    		[
    			25096
    		]
    	],
    	[
    		[
    			12094,
    			12094
    		],
    		"mapped",
    		[
    			25142
    		]
    	],
    	[
    		[
    			12095,
    			12095
    		],
    		"mapped",
    		[
    			25163
    		]
    	],
    	[
    		[
    			12096,
    			12096
    		],
    		"mapped",
    		[
    			25903
    		]
    	],
    	[
    		[
    			12097,
    			12097
    		],
    		"mapped",
    		[
    			25908
    		]
    	],
    	[
    		[
    			12098,
    			12098
    		],
    		"mapped",
    		[
    			25991
    		]
    	],
    	[
    		[
    			12099,
    			12099
    		],
    		"mapped",
    		[
    			26007
    		]
    	],
    	[
    		[
    			12100,
    			12100
    		],
    		"mapped",
    		[
    			26020
    		]
    	],
    	[
    		[
    			12101,
    			12101
    		],
    		"mapped",
    		[
    			26041
    		]
    	],
    	[
    		[
    			12102,
    			12102
    		],
    		"mapped",
    		[
    			26080
    		]
    	],
    	[
    		[
    			12103,
    			12103
    		],
    		"mapped",
    		[
    			26085
    		]
    	],
    	[
    		[
    			12104,
    			12104
    		],
    		"mapped",
    		[
    			26352
    		]
    	],
    	[
    		[
    			12105,
    			12105
    		],
    		"mapped",
    		[
    			26376
    		]
    	],
    	[
    		[
    			12106,
    			12106
    		],
    		"mapped",
    		[
    			26408
    		]
    	],
    	[
    		[
    			12107,
    			12107
    		],
    		"mapped",
    		[
    			27424
    		]
    	],
    	[
    		[
    			12108,
    			12108
    		],
    		"mapped",
    		[
    			27490
    		]
    	],
    	[
    		[
    			12109,
    			12109
    		],
    		"mapped",
    		[
    			27513
    		]
    	],
    	[
    		[
    			12110,
    			12110
    		],
    		"mapped",
    		[
    			27571
    		]
    	],
    	[
    		[
    			12111,
    			12111
    		],
    		"mapped",
    		[
    			27595
    		]
    	],
    	[
    		[
    			12112,
    			12112
    		],
    		"mapped",
    		[
    			27604
    		]
    	],
    	[
    		[
    			12113,
    			12113
    		],
    		"mapped",
    		[
    			27611
    		]
    	],
    	[
    		[
    			12114,
    			12114
    		],
    		"mapped",
    		[
    			27663
    		]
    	],
    	[
    		[
    			12115,
    			12115
    		],
    		"mapped",
    		[
    			27668
    		]
    	],
    	[
    		[
    			12116,
    			12116
    		],
    		"mapped",
    		[
    			27700
    		]
    	],
    	[
    		[
    			12117,
    			12117
    		],
    		"mapped",
    		[
    			28779
    		]
    	],
    	[
    		[
    			12118,
    			12118
    		],
    		"mapped",
    		[
    			29226
    		]
    	],
    	[
    		[
    			12119,
    			12119
    		],
    		"mapped",
    		[
    			29238
    		]
    	],
    	[
    		[
    			12120,
    			12120
    		],
    		"mapped",
    		[
    			29243
    		]
    	],
    	[
    		[
    			12121,
    			12121
    		],
    		"mapped",
    		[
    			29247
    		]
    	],
    	[
    		[
    			12122,
    			12122
    		],
    		"mapped",
    		[
    			29255
    		]
    	],
    	[
    		[
    			12123,
    			12123
    		],
    		"mapped",
    		[
    			29273
    		]
    	],
    	[
    		[
    			12124,
    			12124
    		],
    		"mapped",
    		[
    			29275
    		]
    	],
    	[
    		[
    			12125,
    			12125
    		],
    		"mapped",
    		[
    			29356
    		]
    	],
    	[
    		[
    			12126,
    			12126
    		],
    		"mapped",
    		[
    			29572
    		]
    	],
    	[
    		[
    			12127,
    			12127
    		],
    		"mapped",
    		[
    			29577
    		]
    	],
    	[
    		[
    			12128,
    			12128
    		],
    		"mapped",
    		[
    			29916
    		]
    	],
    	[
    		[
    			12129,
    			12129
    		],
    		"mapped",
    		[
    			29926
    		]
    	],
    	[
    		[
    			12130,
    			12130
    		],
    		"mapped",
    		[
    			29976
    		]
    	],
    	[
    		[
    			12131,
    			12131
    		],
    		"mapped",
    		[
    			29983
    		]
    	],
    	[
    		[
    			12132,
    			12132
    		],
    		"mapped",
    		[
    			29992
    		]
    	],
    	[
    		[
    			12133,
    			12133
    		],
    		"mapped",
    		[
    			30000
    		]
    	],
    	[
    		[
    			12134,
    			12134
    		],
    		"mapped",
    		[
    			30091
    		]
    	],
    	[
    		[
    			12135,
    			12135
    		],
    		"mapped",
    		[
    			30098
    		]
    	],
    	[
    		[
    			12136,
    			12136
    		],
    		"mapped",
    		[
    			30326
    		]
    	],
    	[
    		[
    			12137,
    			12137
    		],
    		"mapped",
    		[
    			30333
    		]
    	],
    	[
    		[
    			12138,
    			12138
    		],
    		"mapped",
    		[
    			30382
    		]
    	],
    	[
    		[
    			12139,
    			12139
    		],
    		"mapped",
    		[
    			30399
    		]
    	],
    	[
    		[
    			12140,
    			12140
    		],
    		"mapped",
    		[
    			30446
    		]
    	],
    	[
    		[
    			12141,
    			12141
    		],
    		"mapped",
    		[
    			30683
    		]
    	],
    	[
    		[
    			12142,
    			12142
    		],
    		"mapped",
    		[
    			30690
    		]
    	],
    	[
    		[
    			12143,
    			12143
    		],
    		"mapped",
    		[
    			30707
    		]
    	],
    	[
    		[
    			12144,
    			12144
    		],
    		"mapped",
    		[
    			31034
    		]
    	],
    	[
    		[
    			12145,
    			12145
    		],
    		"mapped",
    		[
    			31160
    		]
    	],
    	[
    		[
    			12146,
    			12146
    		],
    		"mapped",
    		[
    			31166
    		]
    	],
    	[
    		[
    			12147,
    			12147
    		],
    		"mapped",
    		[
    			31348
    		]
    	],
    	[
    		[
    			12148,
    			12148
    		],
    		"mapped",
    		[
    			31435
    		]
    	],
    	[
    		[
    			12149,
    			12149
    		],
    		"mapped",
    		[
    			31481
    		]
    	],
    	[
    		[
    			12150,
    			12150
    		],
    		"mapped",
    		[
    			31859
    		]
    	],
    	[
    		[
    			12151,
    			12151
    		],
    		"mapped",
    		[
    			31992
    		]
    	],
    	[
    		[
    			12152,
    			12152
    		],
    		"mapped",
    		[
    			32566
    		]
    	],
    	[
    		[
    			12153,
    			12153
    		],
    		"mapped",
    		[
    			32593
    		]
    	],
    	[
    		[
    			12154,
    			12154
    		],
    		"mapped",
    		[
    			32650
    		]
    	],
    	[
    		[
    			12155,
    			12155
    		],
    		"mapped",
    		[
    			32701
    		]
    	],
    	[
    		[
    			12156,
    			12156
    		],
    		"mapped",
    		[
    			32769
    		]
    	],
    	[
    		[
    			12157,
    			12157
    		],
    		"mapped",
    		[
    			32780
    		]
    	],
    	[
    		[
    			12158,
    			12158
    		],
    		"mapped",
    		[
    			32786
    		]
    	],
    	[
    		[
    			12159,
    			12159
    		],
    		"mapped",
    		[
    			32819
    		]
    	],
    	[
    		[
    			12160,
    			12160
    		],
    		"mapped",
    		[
    			32895
    		]
    	],
    	[
    		[
    			12161,
    			12161
    		],
    		"mapped",
    		[
    			32905
    		]
    	],
    	[
    		[
    			12162,
    			12162
    		],
    		"mapped",
    		[
    			33251
    		]
    	],
    	[
    		[
    			12163,
    			12163
    		],
    		"mapped",
    		[
    			33258
    		]
    	],
    	[
    		[
    			12164,
    			12164
    		],
    		"mapped",
    		[
    			33267
    		]
    	],
    	[
    		[
    			12165,
    			12165
    		],
    		"mapped",
    		[
    			33276
    		]
    	],
    	[
    		[
    			12166,
    			12166
    		],
    		"mapped",
    		[
    			33292
    		]
    	],
    	[
    		[
    			12167,
    			12167
    		],
    		"mapped",
    		[
    			33307
    		]
    	],
    	[
    		[
    			12168,
    			12168
    		],
    		"mapped",
    		[
    			33311
    		]
    	],
    	[
    		[
    			12169,
    			12169
    		],
    		"mapped",
    		[
    			33390
    		]
    	],
    	[
    		[
    			12170,
    			12170
    		],
    		"mapped",
    		[
    			33394
    		]
    	],
    	[
    		[
    			12171,
    			12171
    		],
    		"mapped",
    		[
    			33400
    		]
    	],
    	[
    		[
    			12172,
    			12172
    		],
    		"mapped",
    		[
    			34381
    		]
    	],
    	[
    		[
    			12173,
    			12173
    		],
    		"mapped",
    		[
    			34411
    		]
    	],
    	[
    		[
    			12174,
    			12174
    		],
    		"mapped",
    		[
    			34880
    		]
    	],
    	[
    		[
    			12175,
    			12175
    		],
    		"mapped",
    		[
    			34892
    		]
    	],
    	[
    		[
    			12176,
    			12176
    		],
    		"mapped",
    		[
    			34915
    		]
    	],
    	[
    		[
    			12177,
    			12177
    		],
    		"mapped",
    		[
    			35198
    		]
    	],
    	[
    		[
    			12178,
    			12178
    		],
    		"mapped",
    		[
    			35211
    		]
    	],
    	[
    		[
    			12179,
    			12179
    		],
    		"mapped",
    		[
    			35282
    		]
    	],
    	[
    		[
    			12180,
    			12180
    		],
    		"mapped",
    		[
    			35328
    		]
    	],
    	[
    		[
    			12181,
    			12181
    		],
    		"mapped",
    		[
    			35895
    		]
    	],
    	[
    		[
    			12182,
    			12182
    		],
    		"mapped",
    		[
    			35910
    		]
    	],
    	[
    		[
    			12183,
    			12183
    		],
    		"mapped",
    		[
    			35925
    		]
    	],
    	[
    		[
    			12184,
    			12184
    		],
    		"mapped",
    		[
    			35960
    		]
    	],
    	[
    		[
    			12185,
    			12185
    		],
    		"mapped",
    		[
    			35997
    		]
    	],
    	[
    		[
    			12186,
    			12186
    		],
    		"mapped",
    		[
    			36196
    		]
    	],
    	[
    		[
    			12187,
    			12187
    		],
    		"mapped",
    		[
    			36208
    		]
    	],
    	[
    		[
    			12188,
    			12188
    		],
    		"mapped",
    		[
    			36275
    		]
    	],
    	[
    		[
    			12189,
    			12189
    		],
    		"mapped",
    		[
    			36523
    		]
    	],
    	[
    		[
    			12190,
    			12190
    		],
    		"mapped",
    		[
    			36554
    		]
    	],
    	[
    		[
    			12191,
    			12191
    		],
    		"mapped",
    		[
    			36763
    		]
    	],
    	[
    		[
    			12192,
    			12192
    		],
    		"mapped",
    		[
    			36784
    		]
    	],
    	[
    		[
    			12193,
    			12193
    		],
    		"mapped",
    		[
    			36789
    		]
    	],
    	[
    		[
    			12194,
    			12194
    		],
    		"mapped",
    		[
    			37009
    		]
    	],
    	[
    		[
    			12195,
    			12195
    		],
    		"mapped",
    		[
    			37193
    		]
    	],
    	[
    		[
    			12196,
    			12196
    		],
    		"mapped",
    		[
    			37318
    		]
    	],
    	[
    		[
    			12197,
    			12197
    		],
    		"mapped",
    		[
    			37324
    		]
    	],
    	[
    		[
    			12198,
    			12198
    		],
    		"mapped",
    		[
    			37329
    		]
    	],
    	[
    		[
    			12199,
    			12199
    		],
    		"mapped",
    		[
    			38263
    		]
    	],
    	[
    		[
    			12200,
    			12200
    		],
    		"mapped",
    		[
    			38272
    		]
    	],
    	[
    		[
    			12201,
    			12201
    		],
    		"mapped",
    		[
    			38428
    		]
    	],
    	[
    		[
    			12202,
    			12202
    		],
    		"mapped",
    		[
    			38582
    		]
    	],
    	[
    		[
    			12203,
    			12203
    		],
    		"mapped",
    		[
    			38585
    		]
    	],
    	[
    		[
    			12204,
    			12204
    		],
    		"mapped",
    		[
    			38632
    		]
    	],
    	[
    		[
    			12205,
    			12205
    		],
    		"mapped",
    		[
    			38737
    		]
    	],
    	[
    		[
    			12206,
    			12206
    		],
    		"mapped",
    		[
    			38750
    		]
    	],
    	[
    		[
    			12207,
    			12207
    		],
    		"mapped",
    		[
    			38754
    		]
    	],
    	[
    		[
    			12208,
    			12208
    		],
    		"mapped",
    		[
    			38761
    		]
    	],
    	[
    		[
    			12209,
    			12209
    		],
    		"mapped",
    		[
    			38859
    		]
    	],
    	[
    		[
    			12210,
    			12210
    		],
    		"mapped",
    		[
    			38893
    		]
    	],
    	[
    		[
    			12211,
    			12211
    		],
    		"mapped",
    		[
    			38899
    		]
    	],
    	[
    		[
    			12212,
    			12212
    		],
    		"mapped",
    		[
    			38913
    		]
    	],
    	[
    		[
    			12213,
    			12213
    		],
    		"mapped",
    		[
    			39080
    		]
    	],
    	[
    		[
    			12214,
    			12214
    		],
    		"mapped",
    		[
    			39131
    		]
    	],
    	[
    		[
    			12215,
    			12215
    		],
    		"mapped",
    		[
    			39135
    		]
    	],
    	[
    		[
    			12216,
    			12216
    		],
    		"mapped",
    		[
    			39318
    		]
    	],
    	[
    		[
    			12217,
    			12217
    		],
    		"mapped",
    		[
    			39321
    		]
    	],
    	[
    		[
    			12218,
    			12218
    		],
    		"mapped",
    		[
    			39340
    		]
    	],
    	[
    		[
    			12219,
    			12219
    		],
    		"mapped",
    		[
    			39592
    		]
    	],
    	[
    		[
    			12220,
    			12220
    		],
    		"mapped",
    		[
    			39640
    		]
    	],
    	[
    		[
    			12221,
    			12221
    		],
    		"mapped",
    		[
    			39647
    		]
    	],
    	[
    		[
    			12222,
    			12222
    		],
    		"mapped",
    		[
    			39717
    		]
    	],
    	[
    		[
    			12223,
    			12223
    		],
    		"mapped",
    		[
    			39727
    		]
    	],
    	[
    		[
    			12224,
    			12224
    		],
    		"mapped",
    		[
    			39730
    		]
    	],
    	[
    		[
    			12225,
    			12225
    		],
    		"mapped",
    		[
    			39740
    		]
    	],
    	[
    		[
    			12226,
    			12226
    		],
    		"mapped",
    		[
    			39770
    		]
    	],
    	[
    		[
    			12227,
    			12227
    		],
    		"mapped",
    		[
    			40165
    		]
    	],
    	[
    		[
    			12228,
    			12228
    		],
    		"mapped",
    		[
    			40565
    		]
    	],
    	[
    		[
    			12229,
    			12229
    		],
    		"mapped",
    		[
    			40575
    		]
    	],
    	[
    		[
    			12230,
    			12230
    		],
    		"mapped",
    		[
    			40613
    		]
    	],
    	[
    		[
    			12231,
    			12231
    		],
    		"mapped",
    		[
    			40635
    		]
    	],
    	[
    		[
    			12232,
    			12232
    		],
    		"mapped",
    		[
    			40643
    		]
    	],
    	[
    		[
    			12233,
    			12233
    		],
    		"mapped",
    		[
    			40653
    		]
    	],
    	[
    		[
    			12234,
    			12234
    		],
    		"mapped",
    		[
    			40657
    		]
    	],
    	[
    		[
    			12235,
    			12235
    		],
    		"mapped",
    		[
    			40697
    		]
    	],
    	[
    		[
    			12236,
    			12236
    		],
    		"mapped",
    		[
    			40701
    		]
    	],
    	[
    		[
    			12237,
    			12237
    		],
    		"mapped",
    		[
    			40718
    		]
    	],
    	[
    		[
    			12238,
    			12238
    		],
    		"mapped",
    		[
    			40723
    		]
    	],
    	[
    		[
    			12239,
    			12239
    		],
    		"mapped",
    		[
    			40736
    		]
    	],
    	[
    		[
    			12240,
    			12240
    		],
    		"mapped",
    		[
    			40763
    		]
    	],
    	[
    		[
    			12241,
    			12241
    		],
    		"mapped",
    		[
    			40778
    		]
    	],
    	[
    		[
    			12242,
    			12242
    		],
    		"mapped",
    		[
    			40786
    		]
    	],
    	[
    		[
    			12243,
    			12243
    		],
    		"mapped",
    		[
    			40845
    		]
    	],
    	[
    		[
    			12244,
    			12244
    		],
    		"mapped",
    		[
    			40860
    		]
    	],
    	[
    		[
    			12245,
    			12245
    		],
    		"mapped",
    		[
    			40864
    		]
    	],
    	[
    		[
    			12246,
    			12271
    		],
    		"disallowed"
    	],
    	[
    		[
    			12272,
    			12283
    		],
    		"disallowed"
    	],
    	[
    		[
    			12284,
    			12287
    		],
    		"disallowed"
    	],
    	[
    		[
    			12288,
    			12288
    		],
    		"disallowed_STD3_mapped",
    		[
    			32
    		]
    	],
    	[
    		[
    			12289,
    			12289
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12290,
    			12290
    		],
    		"mapped",
    		[
    			46
    		]
    	],
    	[
    		[
    			12291,
    			12292
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12293,
    			12295
    		],
    		"valid"
    	],
    	[
    		[
    			12296,
    			12329
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12330,
    			12333
    		],
    		"valid"
    	],
    	[
    		[
    			12334,
    			12341
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12342,
    			12342
    		],
    		"mapped",
    		[
    			12306
    		]
    	],
    	[
    		[
    			12343,
    			12343
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12344,
    			12344
    		],
    		"mapped",
    		[
    			21313
    		]
    	],
    	[
    		[
    			12345,
    			12345
    		],
    		"mapped",
    		[
    			21316
    		]
    	],
    	[
    		[
    			12346,
    			12346
    		],
    		"mapped",
    		[
    			21317
    		]
    	],
    	[
    		[
    			12347,
    			12347
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12348,
    			12348
    		],
    		"valid"
    	],
    	[
    		[
    			12349,
    			12349
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12350,
    			12350
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12351,
    			12351
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12352,
    			12352
    		],
    		"disallowed"
    	],
    	[
    		[
    			12353,
    			12436
    		],
    		"valid"
    	],
    	[
    		[
    			12437,
    			12438
    		],
    		"valid"
    	],
    	[
    		[
    			12439,
    			12440
    		],
    		"disallowed"
    	],
    	[
    		[
    			12441,
    			12442
    		],
    		"valid"
    	],
    	[
    		[
    			12443,
    			12443
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			12441
    		]
    	],
    	[
    		[
    			12444,
    			12444
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			12442
    		]
    	],
    	[
    		[
    			12445,
    			12446
    		],
    		"valid"
    	],
    	[
    		[
    			12447,
    			12447
    		],
    		"mapped",
    		[
    			12424,
    			12426
    		]
    	],
    	[
    		[
    			12448,
    			12448
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12449,
    			12542
    		],
    		"valid"
    	],
    	[
    		[
    			12543,
    			12543
    		],
    		"mapped",
    		[
    			12467,
    			12488
    		]
    	],
    	[
    		[
    			12544,
    			12548
    		],
    		"disallowed"
    	],
    	[
    		[
    			12549,
    			12588
    		],
    		"valid"
    	],
    	[
    		[
    			12589,
    			12589
    		],
    		"valid"
    	],
    	[
    		[
    			12590,
    			12592
    		],
    		"disallowed"
    	],
    	[
    		[
    			12593,
    			12593
    		],
    		"mapped",
    		[
    			4352
    		]
    	],
    	[
    		[
    			12594,
    			12594
    		],
    		"mapped",
    		[
    			4353
    		]
    	],
    	[
    		[
    			12595,
    			12595
    		],
    		"mapped",
    		[
    			4522
    		]
    	],
    	[
    		[
    			12596,
    			12596
    		],
    		"mapped",
    		[
    			4354
    		]
    	],
    	[
    		[
    			12597,
    			12597
    		],
    		"mapped",
    		[
    			4524
    		]
    	],
    	[
    		[
    			12598,
    			12598
    		],
    		"mapped",
    		[
    			4525
    		]
    	],
    	[
    		[
    			12599,
    			12599
    		],
    		"mapped",
    		[
    			4355
    		]
    	],
    	[
    		[
    			12600,
    			12600
    		],
    		"mapped",
    		[
    			4356
    		]
    	],
    	[
    		[
    			12601,
    			12601
    		],
    		"mapped",
    		[
    			4357
    		]
    	],
    	[
    		[
    			12602,
    			12602
    		],
    		"mapped",
    		[
    			4528
    		]
    	],
    	[
    		[
    			12603,
    			12603
    		],
    		"mapped",
    		[
    			4529
    		]
    	],
    	[
    		[
    			12604,
    			12604
    		],
    		"mapped",
    		[
    			4530
    		]
    	],
    	[
    		[
    			12605,
    			12605
    		],
    		"mapped",
    		[
    			4531
    		]
    	],
    	[
    		[
    			12606,
    			12606
    		],
    		"mapped",
    		[
    			4532
    		]
    	],
    	[
    		[
    			12607,
    			12607
    		],
    		"mapped",
    		[
    			4533
    		]
    	],
    	[
    		[
    			12608,
    			12608
    		],
    		"mapped",
    		[
    			4378
    		]
    	],
    	[
    		[
    			12609,
    			12609
    		],
    		"mapped",
    		[
    			4358
    		]
    	],
    	[
    		[
    			12610,
    			12610
    		],
    		"mapped",
    		[
    			4359
    		]
    	],
    	[
    		[
    			12611,
    			12611
    		],
    		"mapped",
    		[
    			4360
    		]
    	],
    	[
    		[
    			12612,
    			12612
    		],
    		"mapped",
    		[
    			4385
    		]
    	],
    	[
    		[
    			12613,
    			12613
    		],
    		"mapped",
    		[
    			4361
    		]
    	],
    	[
    		[
    			12614,
    			12614
    		],
    		"mapped",
    		[
    			4362
    		]
    	],
    	[
    		[
    			12615,
    			12615
    		],
    		"mapped",
    		[
    			4363
    		]
    	],
    	[
    		[
    			12616,
    			12616
    		],
    		"mapped",
    		[
    			4364
    		]
    	],
    	[
    		[
    			12617,
    			12617
    		],
    		"mapped",
    		[
    			4365
    		]
    	],
    	[
    		[
    			12618,
    			12618
    		],
    		"mapped",
    		[
    			4366
    		]
    	],
    	[
    		[
    			12619,
    			12619
    		],
    		"mapped",
    		[
    			4367
    		]
    	],
    	[
    		[
    			12620,
    			12620
    		],
    		"mapped",
    		[
    			4368
    		]
    	],
    	[
    		[
    			12621,
    			12621
    		],
    		"mapped",
    		[
    			4369
    		]
    	],
    	[
    		[
    			12622,
    			12622
    		],
    		"mapped",
    		[
    			4370
    		]
    	],
    	[
    		[
    			12623,
    			12623
    		],
    		"mapped",
    		[
    			4449
    		]
    	],
    	[
    		[
    			12624,
    			12624
    		],
    		"mapped",
    		[
    			4450
    		]
    	],
    	[
    		[
    			12625,
    			12625
    		],
    		"mapped",
    		[
    			4451
    		]
    	],
    	[
    		[
    			12626,
    			12626
    		],
    		"mapped",
    		[
    			4452
    		]
    	],
    	[
    		[
    			12627,
    			12627
    		],
    		"mapped",
    		[
    			4453
    		]
    	],
    	[
    		[
    			12628,
    			12628
    		],
    		"mapped",
    		[
    			4454
    		]
    	],
    	[
    		[
    			12629,
    			12629
    		],
    		"mapped",
    		[
    			4455
    		]
    	],
    	[
    		[
    			12630,
    			12630
    		],
    		"mapped",
    		[
    			4456
    		]
    	],
    	[
    		[
    			12631,
    			12631
    		],
    		"mapped",
    		[
    			4457
    		]
    	],
    	[
    		[
    			12632,
    			12632
    		],
    		"mapped",
    		[
    			4458
    		]
    	],
    	[
    		[
    			12633,
    			12633
    		],
    		"mapped",
    		[
    			4459
    		]
    	],
    	[
    		[
    			12634,
    			12634
    		],
    		"mapped",
    		[
    			4460
    		]
    	],
    	[
    		[
    			12635,
    			12635
    		],
    		"mapped",
    		[
    			4461
    		]
    	],
    	[
    		[
    			12636,
    			12636
    		],
    		"mapped",
    		[
    			4462
    		]
    	],
    	[
    		[
    			12637,
    			12637
    		],
    		"mapped",
    		[
    			4463
    		]
    	],
    	[
    		[
    			12638,
    			12638
    		],
    		"mapped",
    		[
    			4464
    		]
    	],
    	[
    		[
    			12639,
    			12639
    		],
    		"mapped",
    		[
    			4465
    		]
    	],
    	[
    		[
    			12640,
    			12640
    		],
    		"mapped",
    		[
    			4466
    		]
    	],
    	[
    		[
    			12641,
    			12641
    		],
    		"mapped",
    		[
    			4467
    		]
    	],
    	[
    		[
    			12642,
    			12642
    		],
    		"mapped",
    		[
    			4468
    		]
    	],
    	[
    		[
    			12643,
    			12643
    		],
    		"mapped",
    		[
    			4469
    		]
    	],
    	[
    		[
    			12644,
    			12644
    		],
    		"disallowed"
    	],
    	[
    		[
    			12645,
    			12645
    		],
    		"mapped",
    		[
    			4372
    		]
    	],
    	[
    		[
    			12646,
    			12646
    		],
    		"mapped",
    		[
    			4373
    		]
    	],
    	[
    		[
    			12647,
    			12647
    		],
    		"mapped",
    		[
    			4551
    		]
    	],
    	[
    		[
    			12648,
    			12648
    		],
    		"mapped",
    		[
    			4552
    		]
    	],
    	[
    		[
    			12649,
    			12649
    		],
    		"mapped",
    		[
    			4556
    		]
    	],
    	[
    		[
    			12650,
    			12650
    		],
    		"mapped",
    		[
    			4558
    		]
    	],
    	[
    		[
    			12651,
    			12651
    		],
    		"mapped",
    		[
    			4563
    		]
    	],
    	[
    		[
    			12652,
    			12652
    		],
    		"mapped",
    		[
    			4567
    		]
    	],
    	[
    		[
    			12653,
    			12653
    		],
    		"mapped",
    		[
    			4569
    		]
    	],
    	[
    		[
    			12654,
    			12654
    		],
    		"mapped",
    		[
    			4380
    		]
    	],
    	[
    		[
    			12655,
    			12655
    		],
    		"mapped",
    		[
    			4573
    		]
    	],
    	[
    		[
    			12656,
    			12656
    		],
    		"mapped",
    		[
    			4575
    		]
    	],
    	[
    		[
    			12657,
    			12657
    		],
    		"mapped",
    		[
    			4381
    		]
    	],
    	[
    		[
    			12658,
    			12658
    		],
    		"mapped",
    		[
    			4382
    		]
    	],
    	[
    		[
    			12659,
    			12659
    		],
    		"mapped",
    		[
    			4384
    		]
    	],
    	[
    		[
    			12660,
    			12660
    		],
    		"mapped",
    		[
    			4386
    		]
    	],
    	[
    		[
    			12661,
    			12661
    		],
    		"mapped",
    		[
    			4387
    		]
    	],
    	[
    		[
    			12662,
    			12662
    		],
    		"mapped",
    		[
    			4391
    		]
    	],
    	[
    		[
    			12663,
    			12663
    		],
    		"mapped",
    		[
    			4393
    		]
    	],
    	[
    		[
    			12664,
    			12664
    		],
    		"mapped",
    		[
    			4395
    		]
    	],
    	[
    		[
    			12665,
    			12665
    		],
    		"mapped",
    		[
    			4396
    		]
    	],
    	[
    		[
    			12666,
    			12666
    		],
    		"mapped",
    		[
    			4397
    		]
    	],
    	[
    		[
    			12667,
    			12667
    		],
    		"mapped",
    		[
    			4398
    		]
    	],
    	[
    		[
    			12668,
    			12668
    		],
    		"mapped",
    		[
    			4399
    		]
    	],
    	[
    		[
    			12669,
    			12669
    		],
    		"mapped",
    		[
    			4402
    		]
    	],
    	[
    		[
    			12670,
    			12670
    		],
    		"mapped",
    		[
    			4406
    		]
    	],
    	[
    		[
    			12671,
    			12671
    		],
    		"mapped",
    		[
    			4416
    		]
    	],
    	[
    		[
    			12672,
    			12672
    		],
    		"mapped",
    		[
    			4423
    		]
    	],
    	[
    		[
    			12673,
    			12673
    		],
    		"mapped",
    		[
    			4428
    		]
    	],
    	[
    		[
    			12674,
    			12674
    		],
    		"mapped",
    		[
    			4593
    		]
    	],
    	[
    		[
    			12675,
    			12675
    		],
    		"mapped",
    		[
    			4594
    		]
    	],
    	[
    		[
    			12676,
    			12676
    		],
    		"mapped",
    		[
    			4439
    		]
    	],
    	[
    		[
    			12677,
    			12677
    		],
    		"mapped",
    		[
    			4440
    		]
    	],
    	[
    		[
    			12678,
    			12678
    		],
    		"mapped",
    		[
    			4441
    		]
    	],
    	[
    		[
    			12679,
    			12679
    		],
    		"mapped",
    		[
    			4484
    		]
    	],
    	[
    		[
    			12680,
    			12680
    		],
    		"mapped",
    		[
    			4485
    		]
    	],
    	[
    		[
    			12681,
    			12681
    		],
    		"mapped",
    		[
    			4488
    		]
    	],
    	[
    		[
    			12682,
    			12682
    		],
    		"mapped",
    		[
    			4497
    		]
    	],
    	[
    		[
    			12683,
    			12683
    		],
    		"mapped",
    		[
    			4498
    		]
    	],
    	[
    		[
    			12684,
    			12684
    		],
    		"mapped",
    		[
    			4500
    		]
    	],
    	[
    		[
    			12685,
    			12685
    		],
    		"mapped",
    		[
    			4510
    		]
    	],
    	[
    		[
    			12686,
    			12686
    		],
    		"mapped",
    		[
    			4513
    		]
    	],
    	[
    		[
    			12687,
    			12687
    		],
    		"disallowed"
    	],
    	[
    		[
    			12688,
    			12689
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12690,
    			12690
    		],
    		"mapped",
    		[
    			19968
    		]
    	],
    	[
    		[
    			12691,
    			12691
    		],
    		"mapped",
    		[
    			20108
    		]
    	],
    	[
    		[
    			12692,
    			12692
    		],
    		"mapped",
    		[
    			19977
    		]
    	],
    	[
    		[
    			12693,
    			12693
    		],
    		"mapped",
    		[
    			22235
    		]
    	],
    	[
    		[
    			12694,
    			12694
    		],
    		"mapped",
    		[
    			19978
    		]
    	],
    	[
    		[
    			12695,
    			12695
    		],
    		"mapped",
    		[
    			20013
    		]
    	],
    	[
    		[
    			12696,
    			12696
    		],
    		"mapped",
    		[
    			19979
    		]
    	],
    	[
    		[
    			12697,
    			12697
    		],
    		"mapped",
    		[
    			30002
    		]
    	],
    	[
    		[
    			12698,
    			12698
    		],
    		"mapped",
    		[
    			20057
    		]
    	],
    	[
    		[
    			12699,
    			12699
    		],
    		"mapped",
    		[
    			19993
    		]
    	],
    	[
    		[
    			12700,
    			12700
    		],
    		"mapped",
    		[
    			19969
    		]
    	],
    	[
    		[
    			12701,
    			12701
    		],
    		"mapped",
    		[
    			22825
    		]
    	],
    	[
    		[
    			12702,
    			12702
    		],
    		"mapped",
    		[
    			22320
    		]
    	],
    	[
    		[
    			12703,
    			12703
    		],
    		"mapped",
    		[
    			20154
    		]
    	],
    	[
    		[
    			12704,
    			12727
    		],
    		"valid"
    	],
    	[
    		[
    			12728,
    			12730
    		],
    		"valid"
    	],
    	[
    		[
    			12731,
    			12735
    		],
    		"disallowed"
    	],
    	[
    		[
    			12736,
    			12751
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12752,
    			12771
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12772,
    			12783
    		],
    		"disallowed"
    	],
    	[
    		[
    			12784,
    			12799
    		],
    		"valid"
    	],
    	[
    		[
    			12800,
    			12800
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4352,
    			41
    		]
    	],
    	[
    		[
    			12801,
    			12801
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4354,
    			41
    		]
    	],
    	[
    		[
    			12802,
    			12802
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4355,
    			41
    		]
    	],
    	[
    		[
    			12803,
    			12803
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4357,
    			41
    		]
    	],
    	[
    		[
    			12804,
    			12804
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4358,
    			41
    		]
    	],
    	[
    		[
    			12805,
    			12805
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4359,
    			41
    		]
    	],
    	[
    		[
    			12806,
    			12806
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4361,
    			41
    		]
    	],
    	[
    		[
    			12807,
    			12807
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4363,
    			41
    		]
    	],
    	[
    		[
    			12808,
    			12808
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4364,
    			41
    		]
    	],
    	[
    		[
    			12809,
    			12809
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4366,
    			41
    		]
    	],
    	[
    		[
    			12810,
    			12810
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4367,
    			41
    		]
    	],
    	[
    		[
    			12811,
    			12811
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4368,
    			41
    		]
    	],
    	[
    		[
    			12812,
    			12812
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4369,
    			41
    		]
    	],
    	[
    		[
    			12813,
    			12813
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			4370,
    			41
    		]
    	],
    	[
    		[
    			12814,
    			12814
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			44032,
    			41
    		]
    	],
    	[
    		[
    			12815,
    			12815
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			45208,
    			41
    		]
    	],
    	[
    		[
    			12816,
    			12816
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			45796,
    			41
    		]
    	],
    	[
    		[
    			12817,
    			12817
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			46972,
    			41
    		]
    	],
    	[
    		[
    			12818,
    			12818
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			47560,
    			41
    		]
    	],
    	[
    		[
    			12819,
    			12819
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			48148,
    			41
    		]
    	],
    	[
    		[
    			12820,
    			12820
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			49324,
    			41
    		]
    	],
    	[
    		[
    			12821,
    			12821
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			50500,
    			41
    		]
    	],
    	[
    		[
    			12822,
    			12822
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			51088,
    			41
    		]
    	],
    	[
    		[
    			12823,
    			12823
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			52264,
    			41
    		]
    	],
    	[
    		[
    			12824,
    			12824
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			52852,
    			41
    		]
    	],
    	[
    		[
    			12825,
    			12825
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			53440,
    			41
    		]
    	],
    	[
    		[
    			12826,
    			12826
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			54028,
    			41
    		]
    	],
    	[
    		[
    			12827,
    			12827
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			54616,
    			41
    		]
    	],
    	[
    		[
    			12828,
    			12828
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			51452,
    			41
    		]
    	],
    	[
    		[
    			12829,
    			12829
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			50724,
    			51204,
    			41
    		]
    	],
    	[
    		[
    			12830,
    			12830
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			50724,
    			54980,
    			41
    		]
    	],
    	[
    		[
    			12831,
    			12831
    		],
    		"disallowed"
    	],
    	[
    		[
    			12832,
    			12832
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			19968,
    			41
    		]
    	],
    	[
    		[
    			12833,
    			12833
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			20108,
    			41
    		]
    	],
    	[
    		[
    			12834,
    			12834
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			19977,
    			41
    		]
    	],
    	[
    		[
    			12835,
    			12835
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			22235,
    			41
    		]
    	],
    	[
    		[
    			12836,
    			12836
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			20116,
    			41
    		]
    	],
    	[
    		[
    			12837,
    			12837
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			20845,
    			41
    		]
    	],
    	[
    		[
    			12838,
    			12838
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			19971,
    			41
    		]
    	],
    	[
    		[
    			12839,
    			12839
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			20843,
    			41
    		]
    	],
    	[
    		[
    			12840,
    			12840
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			20061,
    			41
    		]
    	],
    	[
    		[
    			12841,
    			12841
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			21313,
    			41
    		]
    	],
    	[
    		[
    			12842,
    			12842
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			26376,
    			41
    		]
    	],
    	[
    		[
    			12843,
    			12843
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			28779,
    			41
    		]
    	],
    	[
    		[
    			12844,
    			12844
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			27700,
    			41
    		]
    	],
    	[
    		[
    			12845,
    			12845
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			26408,
    			41
    		]
    	],
    	[
    		[
    			12846,
    			12846
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			37329,
    			41
    		]
    	],
    	[
    		[
    			12847,
    			12847
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			22303,
    			41
    		]
    	],
    	[
    		[
    			12848,
    			12848
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			26085,
    			41
    		]
    	],
    	[
    		[
    			12849,
    			12849
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			26666,
    			41
    		]
    	],
    	[
    		[
    			12850,
    			12850
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			26377,
    			41
    		]
    	],
    	[
    		[
    			12851,
    			12851
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			31038,
    			41
    		]
    	],
    	[
    		[
    			12852,
    			12852
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			21517,
    			41
    		]
    	],
    	[
    		[
    			12853,
    			12853
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			29305,
    			41
    		]
    	],
    	[
    		[
    			12854,
    			12854
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			36001,
    			41
    		]
    	],
    	[
    		[
    			12855,
    			12855
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			31069,
    			41
    		]
    	],
    	[
    		[
    			12856,
    			12856
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			21172,
    			41
    		]
    	],
    	[
    		[
    			12857,
    			12857
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			20195,
    			41
    		]
    	],
    	[
    		[
    			12858,
    			12858
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			21628,
    			41
    		]
    	],
    	[
    		[
    			12859,
    			12859
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			23398,
    			41
    		]
    	],
    	[
    		[
    			12860,
    			12860
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			30435,
    			41
    		]
    	],
    	[
    		[
    			12861,
    			12861
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			20225,
    			41
    		]
    	],
    	[
    		[
    			12862,
    			12862
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			36039,
    			41
    		]
    	],
    	[
    		[
    			12863,
    			12863
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			21332,
    			41
    		]
    	],
    	[
    		[
    			12864,
    			12864
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			31085,
    			41
    		]
    	],
    	[
    		[
    			12865,
    			12865
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			20241,
    			41
    		]
    	],
    	[
    		[
    			12866,
    			12866
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			33258,
    			41
    		]
    	],
    	[
    		[
    			12867,
    			12867
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			33267,
    			41
    		]
    	],
    	[
    		[
    			12868,
    			12868
    		],
    		"mapped",
    		[
    			21839
    		]
    	],
    	[
    		[
    			12869,
    			12869
    		],
    		"mapped",
    		[
    			24188
    		]
    	],
    	[
    		[
    			12870,
    			12870
    		],
    		"mapped",
    		[
    			25991
    		]
    	],
    	[
    		[
    			12871,
    			12871
    		],
    		"mapped",
    		[
    			31631
    		]
    	],
    	[
    		[
    			12872,
    			12879
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12880,
    			12880
    		],
    		"mapped",
    		[
    			112,
    			116,
    			101
    		]
    	],
    	[
    		[
    			12881,
    			12881
    		],
    		"mapped",
    		[
    			50,
    			49
    		]
    	],
    	[
    		[
    			12882,
    			12882
    		],
    		"mapped",
    		[
    			50,
    			50
    		]
    	],
    	[
    		[
    			12883,
    			12883
    		],
    		"mapped",
    		[
    			50,
    			51
    		]
    	],
    	[
    		[
    			12884,
    			12884
    		],
    		"mapped",
    		[
    			50,
    			52
    		]
    	],
    	[
    		[
    			12885,
    			12885
    		],
    		"mapped",
    		[
    			50,
    			53
    		]
    	],
    	[
    		[
    			12886,
    			12886
    		],
    		"mapped",
    		[
    			50,
    			54
    		]
    	],
    	[
    		[
    			12887,
    			12887
    		],
    		"mapped",
    		[
    			50,
    			55
    		]
    	],
    	[
    		[
    			12888,
    			12888
    		],
    		"mapped",
    		[
    			50,
    			56
    		]
    	],
    	[
    		[
    			12889,
    			12889
    		],
    		"mapped",
    		[
    			50,
    			57
    		]
    	],
    	[
    		[
    			12890,
    			12890
    		],
    		"mapped",
    		[
    			51,
    			48
    		]
    	],
    	[
    		[
    			12891,
    			12891
    		],
    		"mapped",
    		[
    			51,
    			49
    		]
    	],
    	[
    		[
    			12892,
    			12892
    		],
    		"mapped",
    		[
    			51,
    			50
    		]
    	],
    	[
    		[
    			12893,
    			12893
    		],
    		"mapped",
    		[
    			51,
    			51
    		]
    	],
    	[
    		[
    			12894,
    			12894
    		],
    		"mapped",
    		[
    			51,
    			52
    		]
    	],
    	[
    		[
    			12895,
    			12895
    		],
    		"mapped",
    		[
    			51,
    			53
    		]
    	],
    	[
    		[
    			12896,
    			12896
    		],
    		"mapped",
    		[
    			4352
    		]
    	],
    	[
    		[
    			12897,
    			12897
    		],
    		"mapped",
    		[
    			4354
    		]
    	],
    	[
    		[
    			12898,
    			12898
    		],
    		"mapped",
    		[
    			4355
    		]
    	],
    	[
    		[
    			12899,
    			12899
    		],
    		"mapped",
    		[
    			4357
    		]
    	],
    	[
    		[
    			12900,
    			12900
    		],
    		"mapped",
    		[
    			4358
    		]
    	],
    	[
    		[
    			12901,
    			12901
    		],
    		"mapped",
    		[
    			4359
    		]
    	],
    	[
    		[
    			12902,
    			12902
    		],
    		"mapped",
    		[
    			4361
    		]
    	],
    	[
    		[
    			12903,
    			12903
    		],
    		"mapped",
    		[
    			4363
    		]
    	],
    	[
    		[
    			12904,
    			12904
    		],
    		"mapped",
    		[
    			4364
    		]
    	],
    	[
    		[
    			12905,
    			12905
    		],
    		"mapped",
    		[
    			4366
    		]
    	],
    	[
    		[
    			12906,
    			12906
    		],
    		"mapped",
    		[
    			4367
    		]
    	],
    	[
    		[
    			12907,
    			12907
    		],
    		"mapped",
    		[
    			4368
    		]
    	],
    	[
    		[
    			12908,
    			12908
    		],
    		"mapped",
    		[
    			4369
    		]
    	],
    	[
    		[
    			12909,
    			12909
    		],
    		"mapped",
    		[
    			4370
    		]
    	],
    	[
    		[
    			12910,
    			12910
    		],
    		"mapped",
    		[
    			44032
    		]
    	],
    	[
    		[
    			12911,
    			12911
    		],
    		"mapped",
    		[
    			45208
    		]
    	],
    	[
    		[
    			12912,
    			12912
    		],
    		"mapped",
    		[
    			45796
    		]
    	],
    	[
    		[
    			12913,
    			12913
    		],
    		"mapped",
    		[
    			46972
    		]
    	],
    	[
    		[
    			12914,
    			12914
    		],
    		"mapped",
    		[
    			47560
    		]
    	],
    	[
    		[
    			12915,
    			12915
    		],
    		"mapped",
    		[
    			48148
    		]
    	],
    	[
    		[
    			12916,
    			12916
    		],
    		"mapped",
    		[
    			49324
    		]
    	],
    	[
    		[
    			12917,
    			12917
    		],
    		"mapped",
    		[
    			50500
    		]
    	],
    	[
    		[
    			12918,
    			12918
    		],
    		"mapped",
    		[
    			51088
    		]
    	],
    	[
    		[
    			12919,
    			12919
    		],
    		"mapped",
    		[
    			52264
    		]
    	],
    	[
    		[
    			12920,
    			12920
    		],
    		"mapped",
    		[
    			52852
    		]
    	],
    	[
    		[
    			12921,
    			12921
    		],
    		"mapped",
    		[
    			53440
    		]
    	],
    	[
    		[
    			12922,
    			12922
    		],
    		"mapped",
    		[
    			54028
    		]
    	],
    	[
    		[
    			12923,
    			12923
    		],
    		"mapped",
    		[
    			54616
    		]
    	],
    	[
    		[
    			12924,
    			12924
    		],
    		"mapped",
    		[
    			52280,
    			44256
    		]
    	],
    	[
    		[
    			12925,
    			12925
    		],
    		"mapped",
    		[
    			51452,
    			51032
    		]
    	],
    	[
    		[
    			12926,
    			12926
    		],
    		"mapped",
    		[
    			50864
    		]
    	],
    	[
    		[
    			12927,
    			12927
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			12928,
    			12928
    		],
    		"mapped",
    		[
    			19968
    		]
    	],
    	[
    		[
    			12929,
    			12929
    		],
    		"mapped",
    		[
    			20108
    		]
    	],
    	[
    		[
    			12930,
    			12930
    		],
    		"mapped",
    		[
    			19977
    		]
    	],
    	[
    		[
    			12931,
    			12931
    		],
    		"mapped",
    		[
    			22235
    		]
    	],
    	[
    		[
    			12932,
    			12932
    		],
    		"mapped",
    		[
    			20116
    		]
    	],
    	[
    		[
    			12933,
    			12933
    		],
    		"mapped",
    		[
    			20845
    		]
    	],
    	[
    		[
    			12934,
    			12934
    		],
    		"mapped",
    		[
    			19971
    		]
    	],
    	[
    		[
    			12935,
    			12935
    		],
    		"mapped",
    		[
    			20843
    		]
    	],
    	[
    		[
    			12936,
    			12936
    		],
    		"mapped",
    		[
    			20061
    		]
    	],
    	[
    		[
    			12937,
    			12937
    		],
    		"mapped",
    		[
    			21313
    		]
    	],
    	[
    		[
    			12938,
    			12938
    		],
    		"mapped",
    		[
    			26376
    		]
    	],
    	[
    		[
    			12939,
    			12939
    		],
    		"mapped",
    		[
    			28779
    		]
    	],
    	[
    		[
    			12940,
    			12940
    		],
    		"mapped",
    		[
    			27700
    		]
    	],
    	[
    		[
    			12941,
    			12941
    		],
    		"mapped",
    		[
    			26408
    		]
    	],
    	[
    		[
    			12942,
    			12942
    		],
    		"mapped",
    		[
    			37329
    		]
    	],
    	[
    		[
    			12943,
    			12943
    		],
    		"mapped",
    		[
    			22303
    		]
    	],
    	[
    		[
    			12944,
    			12944
    		],
    		"mapped",
    		[
    			26085
    		]
    	],
    	[
    		[
    			12945,
    			12945
    		],
    		"mapped",
    		[
    			26666
    		]
    	],
    	[
    		[
    			12946,
    			12946
    		],
    		"mapped",
    		[
    			26377
    		]
    	],
    	[
    		[
    			12947,
    			12947
    		],
    		"mapped",
    		[
    			31038
    		]
    	],
    	[
    		[
    			12948,
    			12948
    		],
    		"mapped",
    		[
    			21517
    		]
    	],
    	[
    		[
    			12949,
    			12949
    		],
    		"mapped",
    		[
    			29305
    		]
    	],
    	[
    		[
    			12950,
    			12950
    		],
    		"mapped",
    		[
    			36001
    		]
    	],
    	[
    		[
    			12951,
    			12951
    		],
    		"mapped",
    		[
    			31069
    		]
    	],
    	[
    		[
    			12952,
    			12952
    		],
    		"mapped",
    		[
    			21172
    		]
    	],
    	[
    		[
    			12953,
    			12953
    		],
    		"mapped",
    		[
    			31192
    		]
    	],
    	[
    		[
    			12954,
    			12954
    		],
    		"mapped",
    		[
    			30007
    		]
    	],
    	[
    		[
    			12955,
    			12955
    		],
    		"mapped",
    		[
    			22899
    		]
    	],
    	[
    		[
    			12956,
    			12956
    		],
    		"mapped",
    		[
    			36969
    		]
    	],
    	[
    		[
    			12957,
    			12957
    		],
    		"mapped",
    		[
    			20778
    		]
    	],
    	[
    		[
    			12958,
    			12958
    		],
    		"mapped",
    		[
    			21360
    		]
    	],
    	[
    		[
    			12959,
    			12959
    		],
    		"mapped",
    		[
    			27880
    		]
    	],
    	[
    		[
    			12960,
    			12960
    		],
    		"mapped",
    		[
    			38917
    		]
    	],
    	[
    		[
    			12961,
    			12961
    		],
    		"mapped",
    		[
    			20241
    		]
    	],
    	[
    		[
    			12962,
    			12962
    		],
    		"mapped",
    		[
    			20889
    		]
    	],
    	[
    		[
    			12963,
    			12963
    		],
    		"mapped",
    		[
    			27491
    		]
    	],
    	[
    		[
    			12964,
    			12964
    		],
    		"mapped",
    		[
    			19978
    		]
    	],
    	[
    		[
    			12965,
    			12965
    		],
    		"mapped",
    		[
    			20013
    		]
    	],
    	[
    		[
    			12966,
    			12966
    		],
    		"mapped",
    		[
    			19979
    		]
    	],
    	[
    		[
    			12967,
    			12967
    		],
    		"mapped",
    		[
    			24038
    		]
    	],
    	[
    		[
    			12968,
    			12968
    		],
    		"mapped",
    		[
    			21491
    		]
    	],
    	[
    		[
    			12969,
    			12969
    		],
    		"mapped",
    		[
    			21307
    		]
    	],
    	[
    		[
    			12970,
    			12970
    		],
    		"mapped",
    		[
    			23447
    		]
    	],
    	[
    		[
    			12971,
    			12971
    		],
    		"mapped",
    		[
    			23398
    		]
    	],
    	[
    		[
    			12972,
    			12972
    		],
    		"mapped",
    		[
    			30435
    		]
    	],
    	[
    		[
    			12973,
    			12973
    		],
    		"mapped",
    		[
    			20225
    		]
    	],
    	[
    		[
    			12974,
    			12974
    		],
    		"mapped",
    		[
    			36039
    		]
    	],
    	[
    		[
    			12975,
    			12975
    		],
    		"mapped",
    		[
    			21332
    		]
    	],
    	[
    		[
    			12976,
    			12976
    		],
    		"mapped",
    		[
    			22812
    		]
    	],
    	[
    		[
    			12977,
    			12977
    		],
    		"mapped",
    		[
    			51,
    			54
    		]
    	],
    	[
    		[
    			12978,
    			12978
    		],
    		"mapped",
    		[
    			51,
    			55
    		]
    	],
    	[
    		[
    			12979,
    			12979
    		],
    		"mapped",
    		[
    			51,
    			56
    		]
    	],
    	[
    		[
    			12980,
    			12980
    		],
    		"mapped",
    		[
    			51,
    			57
    		]
    	],
    	[
    		[
    			12981,
    			12981
    		],
    		"mapped",
    		[
    			52,
    			48
    		]
    	],
    	[
    		[
    			12982,
    			12982
    		],
    		"mapped",
    		[
    			52,
    			49
    		]
    	],
    	[
    		[
    			12983,
    			12983
    		],
    		"mapped",
    		[
    			52,
    			50
    		]
    	],
    	[
    		[
    			12984,
    			12984
    		],
    		"mapped",
    		[
    			52,
    			51
    		]
    	],
    	[
    		[
    			12985,
    			12985
    		],
    		"mapped",
    		[
    			52,
    			52
    		]
    	],
    	[
    		[
    			12986,
    			12986
    		],
    		"mapped",
    		[
    			52,
    			53
    		]
    	],
    	[
    		[
    			12987,
    			12987
    		],
    		"mapped",
    		[
    			52,
    			54
    		]
    	],
    	[
    		[
    			12988,
    			12988
    		],
    		"mapped",
    		[
    			52,
    			55
    		]
    	],
    	[
    		[
    			12989,
    			12989
    		],
    		"mapped",
    		[
    			52,
    			56
    		]
    	],
    	[
    		[
    			12990,
    			12990
    		],
    		"mapped",
    		[
    			52,
    			57
    		]
    	],
    	[
    		[
    			12991,
    			12991
    		],
    		"mapped",
    		[
    			53,
    			48
    		]
    	],
    	[
    		[
    			12992,
    			12992
    		],
    		"mapped",
    		[
    			49,
    			26376
    		]
    	],
    	[
    		[
    			12993,
    			12993
    		],
    		"mapped",
    		[
    			50,
    			26376
    		]
    	],
    	[
    		[
    			12994,
    			12994
    		],
    		"mapped",
    		[
    			51,
    			26376
    		]
    	],
    	[
    		[
    			12995,
    			12995
    		],
    		"mapped",
    		[
    			52,
    			26376
    		]
    	],
    	[
    		[
    			12996,
    			12996
    		],
    		"mapped",
    		[
    			53,
    			26376
    		]
    	],
    	[
    		[
    			12997,
    			12997
    		],
    		"mapped",
    		[
    			54,
    			26376
    		]
    	],
    	[
    		[
    			12998,
    			12998
    		],
    		"mapped",
    		[
    			55,
    			26376
    		]
    	],
    	[
    		[
    			12999,
    			12999
    		],
    		"mapped",
    		[
    			56,
    			26376
    		]
    	],
    	[
    		[
    			13000,
    			13000
    		],
    		"mapped",
    		[
    			57,
    			26376
    		]
    	],
    	[
    		[
    			13001,
    			13001
    		],
    		"mapped",
    		[
    			49,
    			48,
    			26376
    		]
    	],
    	[
    		[
    			13002,
    			13002
    		],
    		"mapped",
    		[
    			49,
    			49,
    			26376
    		]
    	],
    	[
    		[
    			13003,
    			13003
    		],
    		"mapped",
    		[
    			49,
    			50,
    			26376
    		]
    	],
    	[
    		[
    			13004,
    			13004
    		],
    		"mapped",
    		[
    			104,
    			103
    		]
    	],
    	[
    		[
    			13005,
    			13005
    		],
    		"mapped",
    		[
    			101,
    			114,
    			103
    		]
    	],
    	[
    		[
    			13006,
    			13006
    		],
    		"mapped",
    		[
    			101,
    			118
    		]
    	],
    	[
    		[
    			13007,
    			13007
    		],
    		"mapped",
    		[
    			108,
    			116,
    			100
    		]
    	],
    	[
    		[
    			13008,
    			13008
    		],
    		"mapped",
    		[
    			12450
    		]
    	],
    	[
    		[
    			13009,
    			13009
    		],
    		"mapped",
    		[
    			12452
    		]
    	],
    	[
    		[
    			13010,
    			13010
    		],
    		"mapped",
    		[
    			12454
    		]
    	],
    	[
    		[
    			13011,
    			13011
    		],
    		"mapped",
    		[
    			12456
    		]
    	],
    	[
    		[
    			13012,
    			13012
    		],
    		"mapped",
    		[
    			12458
    		]
    	],
    	[
    		[
    			13013,
    			13013
    		],
    		"mapped",
    		[
    			12459
    		]
    	],
    	[
    		[
    			13014,
    			13014
    		],
    		"mapped",
    		[
    			12461
    		]
    	],
    	[
    		[
    			13015,
    			13015
    		],
    		"mapped",
    		[
    			12463
    		]
    	],
    	[
    		[
    			13016,
    			13016
    		],
    		"mapped",
    		[
    			12465
    		]
    	],
    	[
    		[
    			13017,
    			13017
    		],
    		"mapped",
    		[
    			12467
    		]
    	],
    	[
    		[
    			13018,
    			13018
    		],
    		"mapped",
    		[
    			12469
    		]
    	],
    	[
    		[
    			13019,
    			13019
    		],
    		"mapped",
    		[
    			12471
    		]
    	],
    	[
    		[
    			13020,
    			13020
    		],
    		"mapped",
    		[
    			12473
    		]
    	],
    	[
    		[
    			13021,
    			13021
    		],
    		"mapped",
    		[
    			12475
    		]
    	],
    	[
    		[
    			13022,
    			13022
    		],
    		"mapped",
    		[
    			12477
    		]
    	],
    	[
    		[
    			13023,
    			13023
    		],
    		"mapped",
    		[
    			12479
    		]
    	],
    	[
    		[
    			13024,
    			13024
    		],
    		"mapped",
    		[
    			12481
    		]
    	],
    	[
    		[
    			13025,
    			13025
    		],
    		"mapped",
    		[
    			12484
    		]
    	],
    	[
    		[
    			13026,
    			13026
    		],
    		"mapped",
    		[
    			12486
    		]
    	],
    	[
    		[
    			13027,
    			13027
    		],
    		"mapped",
    		[
    			12488
    		]
    	],
    	[
    		[
    			13028,
    			13028
    		],
    		"mapped",
    		[
    			12490
    		]
    	],
    	[
    		[
    			13029,
    			13029
    		],
    		"mapped",
    		[
    			12491
    		]
    	],
    	[
    		[
    			13030,
    			13030
    		],
    		"mapped",
    		[
    			12492
    		]
    	],
    	[
    		[
    			13031,
    			13031
    		],
    		"mapped",
    		[
    			12493
    		]
    	],
    	[
    		[
    			13032,
    			13032
    		],
    		"mapped",
    		[
    			12494
    		]
    	],
    	[
    		[
    			13033,
    			13033
    		],
    		"mapped",
    		[
    			12495
    		]
    	],
    	[
    		[
    			13034,
    			13034
    		],
    		"mapped",
    		[
    			12498
    		]
    	],
    	[
    		[
    			13035,
    			13035
    		],
    		"mapped",
    		[
    			12501
    		]
    	],
    	[
    		[
    			13036,
    			13036
    		],
    		"mapped",
    		[
    			12504
    		]
    	],
    	[
    		[
    			13037,
    			13037
    		],
    		"mapped",
    		[
    			12507
    		]
    	],
    	[
    		[
    			13038,
    			13038
    		],
    		"mapped",
    		[
    			12510
    		]
    	],
    	[
    		[
    			13039,
    			13039
    		],
    		"mapped",
    		[
    			12511
    		]
    	],
    	[
    		[
    			13040,
    			13040
    		],
    		"mapped",
    		[
    			12512
    		]
    	],
    	[
    		[
    			13041,
    			13041
    		],
    		"mapped",
    		[
    			12513
    		]
    	],
    	[
    		[
    			13042,
    			13042
    		],
    		"mapped",
    		[
    			12514
    		]
    	],
    	[
    		[
    			13043,
    			13043
    		],
    		"mapped",
    		[
    			12516
    		]
    	],
    	[
    		[
    			13044,
    			13044
    		],
    		"mapped",
    		[
    			12518
    		]
    	],
    	[
    		[
    			13045,
    			13045
    		],
    		"mapped",
    		[
    			12520
    		]
    	],
    	[
    		[
    			13046,
    			13046
    		],
    		"mapped",
    		[
    			12521
    		]
    	],
    	[
    		[
    			13047,
    			13047
    		],
    		"mapped",
    		[
    			12522
    		]
    	],
    	[
    		[
    			13048,
    			13048
    		],
    		"mapped",
    		[
    			12523
    		]
    	],
    	[
    		[
    			13049,
    			13049
    		],
    		"mapped",
    		[
    			12524
    		]
    	],
    	[
    		[
    			13050,
    			13050
    		],
    		"mapped",
    		[
    			12525
    		]
    	],
    	[
    		[
    			13051,
    			13051
    		],
    		"mapped",
    		[
    			12527
    		]
    	],
    	[
    		[
    			13052,
    			13052
    		],
    		"mapped",
    		[
    			12528
    		]
    	],
    	[
    		[
    			13053,
    			13053
    		],
    		"mapped",
    		[
    			12529
    		]
    	],
    	[
    		[
    			13054,
    			13054
    		],
    		"mapped",
    		[
    			12530
    		]
    	],
    	[
    		[
    			13055,
    			13055
    		],
    		"disallowed"
    	],
    	[
    		[
    			13056,
    			13056
    		],
    		"mapped",
    		[
    			12450,
    			12497,
    			12540,
    			12488
    		]
    	],
    	[
    		[
    			13057,
    			13057
    		],
    		"mapped",
    		[
    			12450,
    			12523,
    			12501,
    			12449
    		]
    	],
    	[
    		[
    			13058,
    			13058
    		],
    		"mapped",
    		[
    			12450,
    			12531,
    			12506,
    			12450
    		]
    	],
    	[
    		[
    			13059,
    			13059
    		],
    		"mapped",
    		[
    			12450,
    			12540,
    			12523
    		]
    	],
    	[
    		[
    			13060,
    			13060
    		],
    		"mapped",
    		[
    			12452,
    			12491,
    			12531,
    			12464
    		]
    	],
    	[
    		[
    			13061,
    			13061
    		],
    		"mapped",
    		[
    			12452,
    			12531,
    			12481
    		]
    	],
    	[
    		[
    			13062,
    			13062
    		],
    		"mapped",
    		[
    			12454,
    			12457,
    			12531
    		]
    	],
    	[
    		[
    			13063,
    			13063
    		],
    		"mapped",
    		[
    			12456,
    			12473,
    			12463,
    			12540,
    			12489
    		]
    	],
    	[
    		[
    			13064,
    			13064
    		],
    		"mapped",
    		[
    			12456,
    			12540,
    			12459,
    			12540
    		]
    	],
    	[
    		[
    			13065,
    			13065
    		],
    		"mapped",
    		[
    			12458,
    			12531,
    			12473
    		]
    	],
    	[
    		[
    			13066,
    			13066
    		],
    		"mapped",
    		[
    			12458,
    			12540,
    			12512
    		]
    	],
    	[
    		[
    			13067,
    			13067
    		],
    		"mapped",
    		[
    			12459,
    			12452,
    			12522
    		]
    	],
    	[
    		[
    			13068,
    			13068
    		],
    		"mapped",
    		[
    			12459,
    			12521,
    			12483,
    			12488
    		]
    	],
    	[
    		[
    			13069,
    			13069
    		],
    		"mapped",
    		[
    			12459,
    			12525,
    			12522,
    			12540
    		]
    	],
    	[
    		[
    			13070,
    			13070
    		],
    		"mapped",
    		[
    			12460,
    			12525,
    			12531
    		]
    	],
    	[
    		[
    			13071,
    			13071
    		],
    		"mapped",
    		[
    			12460,
    			12531,
    			12510
    		]
    	],
    	[
    		[
    			13072,
    			13072
    		],
    		"mapped",
    		[
    			12462,
    			12460
    		]
    	],
    	[
    		[
    			13073,
    			13073
    		],
    		"mapped",
    		[
    			12462,
    			12491,
    			12540
    		]
    	],
    	[
    		[
    			13074,
    			13074
    		],
    		"mapped",
    		[
    			12461,
    			12517,
    			12522,
    			12540
    		]
    	],
    	[
    		[
    			13075,
    			13075
    		],
    		"mapped",
    		[
    			12462,
    			12523,
    			12480,
    			12540
    		]
    	],
    	[
    		[
    			13076,
    			13076
    		],
    		"mapped",
    		[
    			12461,
    			12525
    		]
    	],
    	[
    		[
    			13077,
    			13077
    		],
    		"mapped",
    		[
    			12461,
    			12525,
    			12464,
    			12521,
    			12512
    		]
    	],
    	[
    		[
    			13078,
    			13078
    		],
    		"mapped",
    		[
    			12461,
    			12525,
    			12513,
    			12540,
    			12488,
    			12523
    		]
    	],
    	[
    		[
    			13079,
    			13079
    		],
    		"mapped",
    		[
    			12461,
    			12525,
    			12527,
    			12483,
    			12488
    		]
    	],
    	[
    		[
    			13080,
    			13080
    		],
    		"mapped",
    		[
    			12464,
    			12521,
    			12512
    		]
    	],
    	[
    		[
    			13081,
    			13081
    		],
    		"mapped",
    		[
    			12464,
    			12521,
    			12512,
    			12488,
    			12531
    		]
    	],
    	[
    		[
    			13082,
    			13082
    		],
    		"mapped",
    		[
    			12463,
    			12523,
    			12476,
    			12452,
    			12525
    		]
    	],
    	[
    		[
    			13083,
    			13083
    		],
    		"mapped",
    		[
    			12463,
    			12525,
    			12540,
    			12493
    		]
    	],
    	[
    		[
    			13084,
    			13084
    		],
    		"mapped",
    		[
    			12465,
    			12540,
    			12473
    		]
    	],
    	[
    		[
    			13085,
    			13085
    		],
    		"mapped",
    		[
    			12467,
    			12523,
    			12490
    		]
    	],
    	[
    		[
    			13086,
    			13086
    		],
    		"mapped",
    		[
    			12467,
    			12540,
    			12509
    		]
    	],
    	[
    		[
    			13087,
    			13087
    		],
    		"mapped",
    		[
    			12469,
    			12452,
    			12463,
    			12523
    		]
    	],
    	[
    		[
    			13088,
    			13088
    		],
    		"mapped",
    		[
    			12469,
    			12531,
    			12481,
    			12540,
    			12512
    		]
    	],
    	[
    		[
    			13089,
    			13089
    		],
    		"mapped",
    		[
    			12471,
    			12522,
    			12531,
    			12464
    		]
    	],
    	[
    		[
    			13090,
    			13090
    		],
    		"mapped",
    		[
    			12475,
    			12531,
    			12481
    		]
    	],
    	[
    		[
    			13091,
    			13091
    		],
    		"mapped",
    		[
    			12475,
    			12531,
    			12488
    		]
    	],
    	[
    		[
    			13092,
    			13092
    		],
    		"mapped",
    		[
    			12480,
    			12540,
    			12473
    		]
    	],
    	[
    		[
    			13093,
    			13093
    		],
    		"mapped",
    		[
    			12487,
    			12471
    		]
    	],
    	[
    		[
    			13094,
    			13094
    		],
    		"mapped",
    		[
    			12489,
    			12523
    		]
    	],
    	[
    		[
    			13095,
    			13095
    		],
    		"mapped",
    		[
    			12488,
    			12531
    		]
    	],
    	[
    		[
    			13096,
    			13096
    		],
    		"mapped",
    		[
    			12490,
    			12494
    		]
    	],
    	[
    		[
    			13097,
    			13097
    		],
    		"mapped",
    		[
    			12494,
    			12483,
    			12488
    		]
    	],
    	[
    		[
    			13098,
    			13098
    		],
    		"mapped",
    		[
    			12495,
    			12452,
    			12484
    		]
    	],
    	[
    		[
    			13099,
    			13099
    		],
    		"mapped",
    		[
    			12497,
    			12540,
    			12475,
    			12531,
    			12488
    		]
    	],
    	[
    		[
    			13100,
    			13100
    		],
    		"mapped",
    		[
    			12497,
    			12540,
    			12484
    		]
    	],
    	[
    		[
    			13101,
    			13101
    		],
    		"mapped",
    		[
    			12496,
    			12540,
    			12524,
    			12523
    		]
    	],
    	[
    		[
    			13102,
    			13102
    		],
    		"mapped",
    		[
    			12500,
    			12450,
    			12473,
    			12488,
    			12523
    		]
    	],
    	[
    		[
    			13103,
    			13103
    		],
    		"mapped",
    		[
    			12500,
    			12463,
    			12523
    		]
    	],
    	[
    		[
    			13104,
    			13104
    		],
    		"mapped",
    		[
    			12500,
    			12467
    		]
    	],
    	[
    		[
    			13105,
    			13105
    		],
    		"mapped",
    		[
    			12499,
    			12523
    		]
    	],
    	[
    		[
    			13106,
    			13106
    		],
    		"mapped",
    		[
    			12501,
    			12449,
    			12521,
    			12483,
    			12489
    		]
    	],
    	[
    		[
    			13107,
    			13107
    		],
    		"mapped",
    		[
    			12501,
    			12451,
    			12540,
    			12488
    		]
    	],
    	[
    		[
    			13108,
    			13108
    		],
    		"mapped",
    		[
    			12502,
    			12483,
    			12471,
    			12455,
    			12523
    		]
    	],
    	[
    		[
    			13109,
    			13109
    		],
    		"mapped",
    		[
    			12501,
    			12521,
    			12531
    		]
    	],
    	[
    		[
    			13110,
    			13110
    		],
    		"mapped",
    		[
    			12504,
    			12463,
    			12479,
    			12540,
    			12523
    		]
    	],
    	[
    		[
    			13111,
    			13111
    		],
    		"mapped",
    		[
    			12506,
    			12477
    		]
    	],
    	[
    		[
    			13112,
    			13112
    		],
    		"mapped",
    		[
    			12506,
    			12491,
    			12498
    		]
    	],
    	[
    		[
    			13113,
    			13113
    		],
    		"mapped",
    		[
    			12504,
    			12523,
    			12484
    		]
    	],
    	[
    		[
    			13114,
    			13114
    		],
    		"mapped",
    		[
    			12506,
    			12531,
    			12473
    		]
    	],
    	[
    		[
    			13115,
    			13115
    		],
    		"mapped",
    		[
    			12506,
    			12540,
    			12472
    		]
    	],
    	[
    		[
    			13116,
    			13116
    		],
    		"mapped",
    		[
    			12505,
    			12540,
    			12479
    		]
    	],
    	[
    		[
    			13117,
    			13117
    		],
    		"mapped",
    		[
    			12509,
    			12452,
    			12531,
    			12488
    		]
    	],
    	[
    		[
    			13118,
    			13118
    		],
    		"mapped",
    		[
    			12508,
    			12523,
    			12488
    		]
    	],
    	[
    		[
    			13119,
    			13119
    		],
    		"mapped",
    		[
    			12507,
    			12531
    		]
    	],
    	[
    		[
    			13120,
    			13120
    		],
    		"mapped",
    		[
    			12509,
    			12531,
    			12489
    		]
    	],
    	[
    		[
    			13121,
    			13121
    		],
    		"mapped",
    		[
    			12507,
    			12540,
    			12523
    		]
    	],
    	[
    		[
    			13122,
    			13122
    		],
    		"mapped",
    		[
    			12507,
    			12540,
    			12531
    		]
    	],
    	[
    		[
    			13123,
    			13123
    		],
    		"mapped",
    		[
    			12510,
    			12452,
    			12463,
    			12525
    		]
    	],
    	[
    		[
    			13124,
    			13124
    		],
    		"mapped",
    		[
    			12510,
    			12452,
    			12523
    		]
    	],
    	[
    		[
    			13125,
    			13125
    		],
    		"mapped",
    		[
    			12510,
    			12483,
    			12495
    		]
    	],
    	[
    		[
    			13126,
    			13126
    		],
    		"mapped",
    		[
    			12510,
    			12523,
    			12463
    		]
    	],
    	[
    		[
    			13127,
    			13127
    		],
    		"mapped",
    		[
    			12510,
    			12531,
    			12471,
    			12519,
    			12531
    		]
    	],
    	[
    		[
    			13128,
    			13128
    		],
    		"mapped",
    		[
    			12511,
    			12463,
    			12525,
    			12531
    		]
    	],
    	[
    		[
    			13129,
    			13129
    		],
    		"mapped",
    		[
    			12511,
    			12522
    		]
    	],
    	[
    		[
    			13130,
    			13130
    		],
    		"mapped",
    		[
    			12511,
    			12522,
    			12496,
    			12540,
    			12523
    		]
    	],
    	[
    		[
    			13131,
    			13131
    		],
    		"mapped",
    		[
    			12513,
    			12460
    		]
    	],
    	[
    		[
    			13132,
    			13132
    		],
    		"mapped",
    		[
    			12513,
    			12460,
    			12488,
    			12531
    		]
    	],
    	[
    		[
    			13133,
    			13133
    		],
    		"mapped",
    		[
    			12513,
    			12540,
    			12488,
    			12523
    		]
    	],
    	[
    		[
    			13134,
    			13134
    		],
    		"mapped",
    		[
    			12516,
    			12540,
    			12489
    		]
    	],
    	[
    		[
    			13135,
    			13135
    		],
    		"mapped",
    		[
    			12516,
    			12540,
    			12523
    		]
    	],
    	[
    		[
    			13136,
    			13136
    		],
    		"mapped",
    		[
    			12518,
    			12450,
    			12531
    		]
    	],
    	[
    		[
    			13137,
    			13137
    		],
    		"mapped",
    		[
    			12522,
    			12483,
    			12488,
    			12523
    		]
    	],
    	[
    		[
    			13138,
    			13138
    		],
    		"mapped",
    		[
    			12522,
    			12521
    		]
    	],
    	[
    		[
    			13139,
    			13139
    		],
    		"mapped",
    		[
    			12523,
    			12500,
    			12540
    		]
    	],
    	[
    		[
    			13140,
    			13140
    		],
    		"mapped",
    		[
    			12523,
    			12540,
    			12502,
    			12523
    		]
    	],
    	[
    		[
    			13141,
    			13141
    		],
    		"mapped",
    		[
    			12524,
    			12512
    		]
    	],
    	[
    		[
    			13142,
    			13142
    		],
    		"mapped",
    		[
    			12524,
    			12531,
    			12488,
    			12466,
    			12531
    		]
    	],
    	[
    		[
    			13143,
    			13143
    		],
    		"mapped",
    		[
    			12527,
    			12483,
    			12488
    		]
    	],
    	[
    		[
    			13144,
    			13144
    		],
    		"mapped",
    		[
    			48,
    			28857
    		]
    	],
    	[
    		[
    			13145,
    			13145
    		],
    		"mapped",
    		[
    			49,
    			28857
    		]
    	],
    	[
    		[
    			13146,
    			13146
    		],
    		"mapped",
    		[
    			50,
    			28857
    		]
    	],
    	[
    		[
    			13147,
    			13147
    		],
    		"mapped",
    		[
    			51,
    			28857
    		]
    	],
    	[
    		[
    			13148,
    			13148
    		],
    		"mapped",
    		[
    			52,
    			28857
    		]
    	],
    	[
    		[
    			13149,
    			13149
    		],
    		"mapped",
    		[
    			53,
    			28857
    		]
    	],
    	[
    		[
    			13150,
    			13150
    		],
    		"mapped",
    		[
    			54,
    			28857
    		]
    	],
    	[
    		[
    			13151,
    			13151
    		],
    		"mapped",
    		[
    			55,
    			28857
    		]
    	],
    	[
    		[
    			13152,
    			13152
    		],
    		"mapped",
    		[
    			56,
    			28857
    		]
    	],
    	[
    		[
    			13153,
    			13153
    		],
    		"mapped",
    		[
    			57,
    			28857
    		]
    	],
    	[
    		[
    			13154,
    			13154
    		],
    		"mapped",
    		[
    			49,
    			48,
    			28857
    		]
    	],
    	[
    		[
    			13155,
    			13155
    		],
    		"mapped",
    		[
    			49,
    			49,
    			28857
    		]
    	],
    	[
    		[
    			13156,
    			13156
    		],
    		"mapped",
    		[
    			49,
    			50,
    			28857
    		]
    	],
    	[
    		[
    			13157,
    			13157
    		],
    		"mapped",
    		[
    			49,
    			51,
    			28857
    		]
    	],
    	[
    		[
    			13158,
    			13158
    		],
    		"mapped",
    		[
    			49,
    			52,
    			28857
    		]
    	],
    	[
    		[
    			13159,
    			13159
    		],
    		"mapped",
    		[
    			49,
    			53,
    			28857
    		]
    	],
    	[
    		[
    			13160,
    			13160
    		],
    		"mapped",
    		[
    			49,
    			54,
    			28857
    		]
    	],
    	[
    		[
    			13161,
    			13161
    		],
    		"mapped",
    		[
    			49,
    			55,
    			28857
    		]
    	],
    	[
    		[
    			13162,
    			13162
    		],
    		"mapped",
    		[
    			49,
    			56,
    			28857
    		]
    	],
    	[
    		[
    			13163,
    			13163
    		],
    		"mapped",
    		[
    			49,
    			57,
    			28857
    		]
    	],
    	[
    		[
    			13164,
    			13164
    		],
    		"mapped",
    		[
    			50,
    			48,
    			28857
    		]
    	],
    	[
    		[
    			13165,
    			13165
    		],
    		"mapped",
    		[
    			50,
    			49,
    			28857
    		]
    	],
    	[
    		[
    			13166,
    			13166
    		],
    		"mapped",
    		[
    			50,
    			50,
    			28857
    		]
    	],
    	[
    		[
    			13167,
    			13167
    		],
    		"mapped",
    		[
    			50,
    			51,
    			28857
    		]
    	],
    	[
    		[
    			13168,
    			13168
    		],
    		"mapped",
    		[
    			50,
    			52,
    			28857
    		]
    	],
    	[
    		[
    			13169,
    			13169
    		],
    		"mapped",
    		[
    			104,
    			112,
    			97
    		]
    	],
    	[
    		[
    			13170,
    			13170
    		],
    		"mapped",
    		[
    			100,
    			97
    		]
    	],
    	[
    		[
    			13171,
    			13171
    		],
    		"mapped",
    		[
    			97,
    			117
    		]
    	],
    	[
    		[
    			13172,
    			13172
    		],
    		"mapped",
    		[
    			98,
    			97,
    			114
    		]
    	],
    	[
    		[
    			13173,
    			13173
    		],
    		"mapped",
    		[
    			111,
    			118
    		]
    	],
    	[
    		[
    			13174,
    			13174
    		],
    		"mapped",
    		[
    			112,
    			99
    		]
    	],
    	[
    		[
    			13175,
    			13175
    		],
    		"mapped",
    		[
    			100,
    			109
    		]
    	],
    	[
    		[
    			13176,
    			13176
    		],
    		"mapped",
    		[
    			100,
    			109,
    			50
    		]
    	],
    	[
    		[
    			13177,
    			13177
    		],
    		"mapped",
    		[
    			100,
    			109,
    			51
    		]
    	],
    	[
    		[
    			13178,
    			13178
    		],
    		"mapped",
    		[
    			105,
    			117
    		]
    	],
    	[
    		[
    			13179,
    			13179
    		],
    		"mapped",
    		[
    			24179,
    			25104
    		]
    	],
    	[
    		[
    			13180,
    			13180
    		],
    		"mapped",
    		[
    			26157,
    			21644
    		]
    	],
    	[
    		[
    			13181,
    			13181
    		],
    		"mapped",
    		[
    			22823,
    			27491
    		]
    	],
    	[
    		[
    			13182,
    			13182
    		],
    		"mapped",
    		[
    			26126,
    			27835
    		]
    	],
    	[
    		[
    			13183,
    			13183
    		],
    		"mapped",
    		[
    			26666,
    			24335,
    			20250,
    			31038
    		]
    	],
    	[
    		[
    			13184,
    			13184
    		],
    		"mapped",
    		[
    			112,
    			97
    		]
    	],
    	[
    		[
    			13185,
    			13185
    		],
    		"mapped",
    		[
    			110,
    			97
    		]
    	],
    	[
    		[
    			13186,
    			13186
    		],
    		"mapped",
    		[
    			956,
    			97
    		]
    	],
    	[
    		[
    			13187,
    			13187
    		],
    		"mapped",
    		[
    			109,
    			97
    		]
    	],
    	[
    		[
    			13188,
    			13188
    		],
    		"mapped",
    		[
    			107,
    			97
    		]
    	],
    	[
    		[
    			13189,
    			13189
    		],
    		"mapped",
    		[
    			107,
    			98
    		]
    	],
    	[
    		[
    			13190,
    			13190
    		],
    		"mapped",
    		[
    			109,
    			98
    		]
    	],
    	[
    		[
    			13191,
    			13191
    		],
    		"mapped",
    		[
    			103,
    			98
    		]
    	],
    	[
    		[
    			13192,
    			13192
    		],
    		"mapped",
    		[
    			99,
    			97,
    			108
    		]
    	],
    	[
    		[
    			13193,
    			13193
    		],
    		"mapped",
    		[
    			107,
    			99,
    			97,
    			108
    		]
    	],
    	[
    		[
    			13194,
    			13194
    		],
    		"mapped",
    		[
    			112,
    			102
    		]
    	],
    	[
    		[
    			13195,
    			13195
    		],
    		"mapped",
    		[
    			110,
    			102
    		]
    	],
    	[
    		[
    			13196,
    			13196
    		],
    		"mapped",
    		[
    			956,
    			102
    		]
    	],
    	[
    		[
    			13197,
    			13197
    		],
    		"mapped",
    		[
    			956,
    			103
    		]
    	],
    	[
    		[
    			13198,
    			13198
    		],
    		"mapped",
    		[
    			109,
    			103
    		]
    	],
    	[
    		[
    			13199,
    			13199
    		],
    		"mapped",
    		[
    			107,
    			103
    		]
    	],
    	[
    		[
    			13200,
    			13200
    		],
    		"mapped",
    		[
    			104,
    			122
    		]
    	],
    	[
    		[
    			13201,
    			13201
    		],
    		"mapped",
    		[
    			107,
    			104,
    			122
    		]
    	],
    	[
    		[
    			13202,
    			13202
    		],
    		"mapped",
    		[
    			109,
    			104,
    			122
    		]
    	],
    	[
    		[
    			13203,
    			13203
    		],
    		"mapped",
    		[
    			103,
    			104,
    			122
    		]
    	],
    	[
    		[
    			13204,
    			13204
    		],
    		"mapped",
    		[
    			116,
    			104,
    			122
    		]
    	],
    	[
    		[
    			13205,
    			13205
    		],
    		"mapped",
    		[
    			956,
    			108
    		]
    	],
    	[
    		[
    			13206,
    			13206
    		],
    		"mapped",
    		[
    			109,
    			108
    		]
    	],
    	[
    		[
    			13207,
    			13207
    		],
    		"mapped",
    		[
    			100,
    			108
    		]
    	],
    	[
    		[
    			13208,
    			13208
    		],
    		"mapped",
    		[
    			107,
    			108
    		]
    	],
    	[
    		[
    			13209,
    			13209
    		],
    		"mapped",
    		[
    			102,
    			109
    		]
    	],
    	[
    		[
    			13210,
    			13210
    		],
    		"mapped",
    		[
    			110,
    			109
    		]
    	],
    	[
    		[
    			13211,
    			13211
    		],
    		"mapped",
    		[
    			956,
    			109
    		]
    	],
    	[
    		[
    			13212,
    			13212
    		],
    		"mapped",
    		[
    			109,
    			109
    		]
    	],
    	[
    		[
    			13213,
    			13213
    		],
    		"mapped",
    		[
    			99,
    			109
    		]
    	],
    	[
    		[
    			13214,
    			13214
    		],
    		"mapped",
    		[
    			107,
    			109
    		]
    	],
    	[
    		[
    			13215,
    			13215
    		],
    		"mapped",
    		[
    			109,
    			109,
    			50
    		]
    	],
    	[
    		[
    			13216,
    			13216
    		],
    		"mapped",
    		[
    			99,
    			109,
    			50
    		]
    	],
    	[
    		[
    			13217,
    			13217
    		],
    		"mapped",
    		[
    			109,
    			50
    		]
    	],
    	[
    		[
    			13218,
    			13218
    		],
    		"mapped",
    		[
    			107,
    			109,
    			50
    		]
    	],
    	[
    		[
    			13219,
    			13219
    		],
    		"mapped",
    		[
    			109,
    			109,
    			51
    		]
    	],
    	[
    		[
    			13220,
    			13220
    		],
    		"mapped",
    		[
    			99,
    			109,
    			51
    		]
    	],
    	[
    		[
    			13221,
    			13221
    		],
    		"mapped",
    		[
    			109,
    			51
    		]
    	],
    	[
    		[
    			13222,
    			13222
    		],
    		"mapped",
    		[
    			107,
    			109,
    			51
    		]
    	],
    	[
    		[
    			13223,
    			13223
    		],
    		"mapped",
    		[
    			109,
    			8725,
    			115
    		]
    	],
    	[
    		[
    			13224,
    			13224
    		],
    		"mapped",
    		[
    			109,
    			8725,
    			115,
    			50
    		]
    	],
    	[
    		[
    			13225,
    			13225
    		],
    		"mapped",
    		[
    			112,
    			97
    		]
    	],
    	[
    		[
    			13226,
    			13226
    		],
    		"mapped",
    		[
    			107,
    			112,
    			97
    		]
    	],
    	[
    		[
    			13227,
    			13227
    		],
    		"mapped",
    		[
    			109,
    			112,
    			97
    		]
    	],
    	[
    		[
    			13228,
    			13228
    		],
    		"mapped",
    		[
    			103,
    			112,
    			97
    		]
    	],
    	[
    		[
    			13229,
    			13229
    		],
    		"mapped",
    		[
    			114,
    			97,
    			100
    		]
    	],
    	[
    		[
    			13230,
    			13230
    		],
    		"mapped",
    		[
    			114,
    			97,
    			100,
    			8725,
    			115
    		]
    	],
    	[
    		[
    			13231,
    			13231
    		],
    		"mapped",
    		[
    			114,
    			97,
    			100,
    			8725,
    			115,
    			50
    		]
    	],
    	[
    		[
    			13232,
    			13232
    		],
    		"mapped",
    		[
    			112,
    			115
    		]
    	],
    	[
    		[
    			13233,
    			13233
    		],
    		"mapped",
    		[
    			110,
    			115
    		]
    	],
    	[
    		[
    			13234,
    			13234
    		],
    		"mapped",
    		[
    			956,
    			115
    		]
    	],
    	[
    		[
    			13235,
    			13235
    		],
    		"mapped",
    		[
    			109,
    			115
    		]
    	],
    	[
    		[
    			13236,
    			13236
    		],
    		"mapped",
    		[
    			112,
    			118
    		]
    	],
    	[
    		[
    			13237,
    			13237
    		],
    		"mapped",
    		[
    			110,
    			118
    		]
    	],
    	[
    		[
    			13238,
    			13238
    		],
    		"mapped",
    		[
    			956,
    			118
    		]
    	],
    	[
    		[
    			13239,
    			13239
    		],
    		"mapped",
    		[
    			109,
    			118
    		]
    	],
    	[
    		[
    			13240,
    			13240
    		],
    		"mapped",
    		[
    			107,
    			118
    		]
    	],
    	[
    		[
    			13241,
    			13241
    		],
    		"mapped",
    		[
    			109,
    			118
    		]
    	],
    	[
    		[
    			13242,
    			13242
    		],
    		"mapped",
    		[
    			112,
    			119
    		]
    	],
    	[
    		[
    			13243,
    			13243
    		],
    		"mapped",
    		[
    			110,
    			119
    		]
    	],
    	[
    		[
    			13244,
    			13244
    		],
    		"mapped",
    		[
    			956,
    			119
    		]
    	],
    	[
    		[
    			13245,
    			13245
    		],
    		"mapped",
    		[
    			109,
    			119
    		]
    	],
    	[
    		[
    			13246,
    			13246
    		],
    		"mapped",
    		[
    			107,
    			119
    		]
    	],
    	[
    		[
    			13247,
    			13247
    		],
    		"mapped",
    		[
    			109,
    			119
    		]
    	],
    	[
    		[
    			13248,
    			13248
    		],
    		"mapped",
    		[
    			107,
    			969
    		]
    	],
    	[
    		[
    			13249,
    			13249
    		],
    		"mapped",
    		[
    			109,
    			969
    		]
    	],
    	[
    		[
    			13250,
    			13250
    		],
    		"disallowed"
    	],
    	[
    		[
    			13251,
    			13251
    		],
    		"mapped",
    		[
    			98,
    			113
    		]
    	],
    	[
    		[
    			13252,
    			13252
    		],
    		"mapped",
    		[
    			99,
    			99
    		]
    	],
    	[
    		[
    			13253,
    			13253
    		],
    		"mapped",
    		[
    			99,
    			100
    		]
    	],
    	[
    		[
    			13254,
    			13254
    		],
    		"mapped",
    		[
    			99,
    			8725,
    			107,
    			103
    		]
    	],
    	[
    		[
    			13255,
    			13255
    		],
    		"disallowed"
    	],
    	[
    		[
    			13256,
    			13256
    		],
    		"mapped",
    		[
    			100,
    			98
    		]
    	],
    	[
    		[
    			13257,
    			13257
    		],
    		"mapped",
    		[
    			103,
    			121
    		]
    	],
    	[
    		[
    			13258,
    			13258
    		],
    		"mapped",
    		[
    			104,
    			97
    		]
    	],
    	[
    		[
    			13259,
    			13259
    		],
    		"mapped",
    		[
    			104,
    			112
    		]
    	],
    	[
    		[
    			13260,
    			13260
    		],
    		"mapped",
    		[
    			105,
    			110
    		]
    	],
    	[
    		[
    			13261,
    			13261
    		],
    		"mapped",
    		[
    			107,
    			107
    		]
    	],
    	[
    		[
    			13262,
    			13262
    		],
    		"mapped",
    		[
    			107,
    			109
    		]
    	],
    	[
    		[
    			13263,
    			13263
    		],
    		"mapped",
    		[
    			107,
    			116
    		]
    	],
    	[
    		[
    			13264,
    			13264
    		],
    		"mapped",
    		[
    			108,
    			109
    		]
    	],
    	[
    		[
    			13265,
    			13265
    		],
    		"mapped",
    		[
    			108,
    			110
    		]
    	],
    	[
    		[
    			13266,
    			13266
    		],
    		"mapped",
    		[
    			108,
    			111,
    			103
    		]
    	],
    	[
    		[
    			13267,
    			13267
    		],
    		"mapped",
    		[
    			108,
    			120
    		]
    	],
    	[
    		[
    			13268,
    			13268
    		],
    		"mapped",
    		[
    			109,
    			98
    		]
    	],
    	[
    		[
    			13269,
    			13269
    		],
    		"mapped",
    		[
    			109,
    			105,
    			108
    		]
    	],
    	[
    		[
    			13270,
    			13270
    		],
    		"mapped",
    		[
    			109,
    			111,
    			108
    		]
    	],
    	[
    		[
    			13271,
    			13271
    		],
    		"mapped",
    		[
    			112,
    			104
    		]
    	],
    	[
    		[
    			13272,
    			13272
    		],
    		"disallowed"
    	],
    	[
    		[
    			13273,
    			13273
    		],
    		"mapped",
    		[
    			112,
    			112,
    			109
    		]
    	],
    	[
    		[
    			13274,
    			13274
    		],
    		"mapped",
    		[
    			112,
    			114
    		]
    	],
    	[
    		[
    			13275,
    			13275
    		],
    		"mapped",
    		[
    			115,
    			114
    		]
    	],
    	[
    		[
    			13276,
    			13276
    		],
    		"mapped",
    		[
    			115,
    			118
    		]
    	],
    	[
    		[
    			13277,
    			13277
    		],
    		"mapped",
    		[
    			119,
    			98
    		]
    	],
    	[
    		[
    			13278,
    			13278
    		],
    		"mapped",
    		[
    			118,
    			8725,
    			109
    		]
    	],
    	[
    		[
    			13279,
    			13279
    		],
    		"mapped",
    		[
    			97,
    			8725,
    			109
    		]
    	],
    	[
    		[
    			13280,
    			13280
    		],
    		"mapped",
    		[
    			49,
    			26085
    		]
    	],
    	[
    		[
    			13281,
    			13281
    		],
    		"mapped",
    		[
    			50,
    			26085
    		]
    	],
    	[
    		[
    			13282,
    			13282
    		],
    		"mapped",
    		[
    			51,
    			26085
    		]
    	],
    	[
    		[
    			13283,
    			13283
    		],
    		"mapped",
    		[
    			52,
    			26085
    		]
    	],
    	[
    		[
    			13284,
    			13284
    		],
    		"mapped",
    		[
    			53,
    			26085
    		]
    	],
    	[
    		[
    			13285,
    			13285
    		],
    		"mapped",
    		[
    			54,
    			26085
    		]
    	],
    	[
    		[
    			13286,
    			13286
    		],
    		"mapped",
    		[
    			55,
    			26085
    		]
    	],
    	[
    		[
    			13287,
    			13287
    		],
    		"mapped",
    		[
    			56,
    			26085
    		]
    	],
    	[
    		[
    			13288,
    			13288
    		],
    		"mapped",
    		[
    			57,
    			26085
    		]
    	],
    	[
    		[
    			13289,
    			13289
    		],
    		"mapped",
    		[
    			49,
    			48,
    			26085
    		]
    	],
    	[
    		[
    			13290,
    			13290
    		],
    		"mapped",
    		[
    			49,
    			49,
    			26085
    		]
    	],
    	[
    		[
    			13291,
    			13291
    		],
    		"mapped",
    		[
    			49,
    			50,
    			26085
    		]
    	],
    	[
    		[
    			13292,
    			13292
    		],
    		"mapped",
    		[
    			49,
    			51,
    			26085
    		]
    	],
    	[
    		[
    			13293,
    			13293
    		],
    		"mapped",
    		[
    			49,
    			52,
    			26085
    		]
    	],
    	[
    		[
    			13294,
    			13294
    		],
    		"mapped",
    		[
    			49,
    			53,
    			26085
    		]
    	],
    	[
    		[
    			13295,
    			13295
    		],
    		"mapped",
    		[
    			49,
    			54,
    			26085
    		]
    	],
    	[
    		[
    			13296,
    			13296
    		],
    		"mapped",
    		[
    			49,
    			55,
    			26085
    		]
    	],
    	[
    		[
    			13297,
    			13297
    		],
    		"mapped",
    		[
    			49,
    			56,
    			26085
    		]
    	],
    	[
    		[
    			13298,
    			13298
    		],
    		"mapped",
    		[
    			49,
    			57,
    			26085
    		]
    	],
    	[
    		[
    			13299,
    			13299
    		],
    		"mapped",
    		[
    			50,
    			48,
    			26085
    		]
    	],
    	[
    		[
    			13300,
    			13300
    		],
    		"mapped",
    		[
    			50,
    			49,
    			26085
    		]
    	],
    	[
    		[
    			13301,
    			13301
    		],
    		"mapped",
    		[
    			50,
    			50,
    			26085
    		]
    	],
    	[
    		[
    			13302,
    			13302
    		],
    		"mapped",
    		[
    			50,
    			51,
    			26085
    		]
    	],
    	[
    		[
    			13303,
    			13303
    		],
    		"mapped",
    		[
    			50,
    			52,
    			26085
    		]
    	],
    	[
    		[
    			13304,
    			13304
    		],
    		"mapped",
    		[
    			50,
    			53,
    			26085
    		]
    	],
    	[
    		[
    			13305,
    			13305
    		],
    		"mapped",
    		[
    			50,
    			54,
    			26085
    		]
    	],
    	[
    		[
    			13306,
    			13306
    		],
    		"mapped",
    		[
    			50,
    			55,
    			26085
    		]
    	],
    	[
    		[
    			13307,
    			13307
    		],
    		"mapped",
    		[
    			50,
    			56,
    			26085
    		]
    	],
    	[
    		[
    			13308,
    			13308
    		],
    		"mapped",
    		[
    			50,
    			57,
    			26085
    		]
    	],
    	[
    		[
    			13309,
    			13309
    		],
    		"mapped",
    		[
    			51,
    			48,
    			26085
    		]
    	],
    	[
    		[
    			13310,
    			13310
    		],
    		"mapped",
    		[
    			51,
    			49,
    			26085
    		]
    	],
    	[
    		[
    			13311,
    			13311
    		],
    		"mapped",
    		[
    			103,
    			97,
    			108
    		]
    	],
    	[
    		[
    			13312,
    			19893
    		],
    		"valid"
    	],
    	[
    		[
    			19894,
    			19903
    		],
    		"disallowed"
    	],
    	[
    		[
    			19904,
    			19967
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			19968,
    			40869
    		],
    		"valid"
    	],
    	[
    		[
    			40870,
    			40891
    		],
    		"valid"
    	],
    	[
    		[
    			40892,
    			40899
    		],
    		"valid"
    	],
    	[
    		[
    			40900,
    			40907
    		],
    		"valid"
    	],
    	[
    		[
    			40908,
    			40908
    		],
    		"valid"
    	],
    	[
    		[
    			40909,
    			40917
    		],
    		"valid"
    	],
    	[
    		[
    			40918,
    			40959
    		],
    		"disallowed"
    	],
    	[
    		[
    			40960,
    			42124
    		],
    		"valid"
    	],
    	[
    		[
    			42125,
    			42127
    		],
    		"disallowed"
    	],
    	[
    		[
    			42128,
    			42145
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42146,
    			42147
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42148,
    			42163
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42164,
    			42164
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42165,
    			42176
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42177,
    			42177
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42178,
    			42180
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42181,
    			42181
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42182,
    			42182
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42183,
    			42191
    		],
    		"disallowed"
    	],
    	[
    		[
    			42192,
    			42237
    		],
    		"valid"
    	],
    	[
    		[
    			42238,
    			42239
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42240,
    			42508
    		],
    		"valid"
    	],
    	[
    		[
    			42509,
    			42511
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42512,
    			42539
    		],
    		"valid"
    	],
    	[
    		[
    			42540,
    			42559
    		],
    		"disallowed"
    	],
    	[
    		[
    			42560,
    			42560
    		],
    		"mapped",
    		[
    			42561
    		]
    	],
    	[
    		[
    			42561,
    			42561
    		],
    		"valid"
    	],
    	[
    		[
    			42562,
    			42562
    		],
    		"mapped",
    		[
    			42563
    		]
    	],
    	[
    		[
    			42563,
    			42563
    		],
    		"valid"
    	],
    	[
    		[
    			42564,
    			42564
    		],
    		"mapped",
    		[
    			42565
    		]
    	],
    	[
    		[
    			42565,
    			42565
    		],
    		"valid"
    	],
    	[
    		[
    			42566,
    			42566
    		],
    		"mapped",
    		[
    			42567
    		]
    	],
    	[
    		[
    			42567,
    			42567
    		],
    		"valid"
    	],
    	[
    		[
    			42568,
    			42568
    		],
    		"mapped",
    		[
    			42569
    		]
    	],
    	[
    		[
    			42569,
    			42569
    		],
    		"valid"
    	],
    	[
    		[
    			42570,
    			42570
    		],
    		"mapped",
    		[
    			42571
    		]
    	],
    	[
    		[
    			42571,
    			42571
    		],
    		"valid"
    	],
    	[
    		[
    			42572,
    			42572
    		],
    		"mapped",
    		[
    			42573
    		]
    	],
    	[
    		[
    			42573,
    			42573
    		],
    		"valid"
    	],
    	[
    		[
    			42574,
    			42574
    		],
    		"mapped",
    		[
    			42575
    		]
    	],
    	[
    		[
    			42575,
    			42575
    		],
    		"valid"
    	],
    	[
    		[
    			42576,
    			42576
    		],
    		"mapped",
    		[
    			42577
    		]
    	],
    	[
    		[
    			42577,
    			42577
    		],
    		"valid"
    	],
    	[
    		[
    			42578,
    			42578
    		],
    		"mapped",
    		[
    			42579
    		]
    	],
    	[
    		[
    			42579,
    			42579
    		],
    		"valid"
    	],
    	[
    		[
    			42580,
    			42580
    		],
    		"mapped",
    		[
    			42581
    		]
    	],
    	[
    		[
    			42581,
    			42581
    		],
    		"valid"
    	],
    	[
    		[
    			42582,
    			42582
    		],
    		"mapped",
    		[
    			42583
    		]
    	],
    	[
    		[
    			42583,
    			42583
    		],
    		"valid"
    	],
    	[
    		[
    			42584,
    			42584
    		],
    		"mapped",
    		[
    			42585
    		]
    	],
    	[
    		[
    			42585,
    			42585
    		],
    		"valid"
    	],
    	[
    		[
    			42586,
    			42586
    		],
    		"mapped",
    		[
    			42587
    		]
    	],
    	[
    		[
    			42587,
    			42587
    		],
    		"valid"
    	],
    	[
    		[
    			42588,
    			42588
    		],
    		"mapped",
    		[
    			42589
    		]
    	],
    	[
    		[
    			42589,
    			42589
    		],
    		"valid"
    	],
    	[
    		[
    			42590,
    			42590
    		],
    		"mapped",
    		[
    			42591
    		]
    	],
    	[
    		[
    			42591,
    			42591
    		],
    		"valid"
    	],
    	[
    		[
    			42592,
    			42592
    		],
    		"mapped",
    		[
    			42593
    		]
    	],
    	[
    		[
    			42593,
    			42593
    		],
    		"valid"
    	],
    	[
    		[
    			42594,
    			42594
    		],
    		"mapped",
    		[
    			42595
    		]
    	],
    	[
    		[
    			42595,
    			42595
    		],
    		"valid"
    	],
    	[
    		[
    			42596,
    			42596
    		],
    		"mapped",
    		[
    			42597
    		]
    	],
    	[
    		[
    			42597,
    			42597
    		],
    		"valid"
    	],
    	[
    		[
    			42598,
    			42598
    		],
    		"mapped",
    		[
    			42599
    		]
    	],
    	[
    		[
    			42599,
    			42599
    		],
    		"valid"
    	],
    	[
    		[
    			42600,
    			42600
    		],
    		"mapped",
    		[
    			42601
    		]
    	],
    	[
    		[
    			42601,
    			42601
    		],
    		"valid"
    	],
    	[
    		[
    			42602,
    			42602
    		],
    		"mapped",
    		[
    			42603
    		]
    	],
    	[
    		[
    			42603,
    			42603
    		],
    		"valid"
    	],
    	[
    		[
    			42604,
    			42604
    		],
    		"mapped",
    		[
    			42605
    		]
    	],
    	[
    		[
    			42605,
    			42607
    		],
    		"valid"
    	],
    	[
    		[
    			42608,
    			42611
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42612,
    			42619
    		],
    		"valid"
    	],
    	[
    		[
    			42620,
    			42621
    		],
    		"valid"
    	],
    	[
    		[
    			42622,
    			42622
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42623,
    			42623
    		],
    		"valid"
    	],
    	[
    		[
    			42624,
    			42624
    		],
    		"mapped",
    		[
    			42625
    		]
    	],
    	[
    		[
    			42625,
    			42625
    		],
    		"valid"
    	],
    	[
    		[
    			42626,
    			42626
    		],
    		"mapped",
    		[
    			42627
    		]
    	],
    	[
    		[
    			42627,
    			42627
    		],
    		"valid"
    	],
    	[
    		[
    			42628,
    			42628
    		],
    		"mapped",
    		[
    			42629
    		]
    	],
    	[
    		[
    			42629,
    			42629
    		],
    		"valid"
    	],
    	[
    		[
    			42630,
    			42630
    		],
    		"mapped",
    		[
    			42631
    		]
    	],
    	[
    		[
    			42631,
    			42631
    		],
    		"valid"
    	],
    	[
    		[
    			42632,
    			42632
    		],
    		"mapped",
    		[
    			42633
    		]
    	],
    	[
    		[
    			42633,
    			42633
    		],
    		"valid"
    	],
    	[
    		[
    			42634,
    			42634
    		],
    		"mapped",
    		[
    			42635
    		]
    	],
    	[
    		[
    			42635,
    			42635
    		],
    		"valid"
    	],
    	[
    		[
    			42636,
    			42636
    		],
    		"mapped",
    		[
    			42637
    		]
    	],
    	[
    		[
    			42637,
    			42637
    		],
    		"valid"
    	],
    	[
    		[
    			42638,
    			42638
    		],
    		"mapped",
    		[
    			42639
    		]
    	],
    	[
    		[
    			42639,
    			42639
    		],
    		"valid"
    	],
    	[
    		[
    			42640,
    			42640
    		],
    		"mapped",
    		[
    			42641
    		]
    	],
    	[
    		[
    			42641,
    			42641
    		],
    		"valid"
    	],
    	[
    		[
    			42642,
    			42642
    		],
    		"mapped",
    		[
    			42643
    		]
    	],
    	[
    		[
    			42643,
    			42643
    		],
    		"valid"
    	],
    	[
    		[
    			42644,
    			42644
    		],
    		"mapped",
    		[
    			42645
    		]
    	],
    	[
    		[
    			42645,
    			42645
    		],
    		"valid"
    	],
    	[
    		[
    			42646,
    			42646
    		],
    		"mapped",
    		[
    			42647
    		]
    	],
    	[
    		[
    			42647,
    			42647
    		],
    		"valid"
    	],
    	[
    		[
    			42648,
    			42648
    		],
    		"mapped",
    		[
    			42649
    		]
    	],
    	[
    		[
    			42649,
    			42649
    		],
    		"valid"
    	],
    	[
    		[
    			42650,
    			42650
    		],
    		"mapped",
    		[
    			42651
    		]
    	],
    	[
    		[
    			42651,
    			42651
    		],
    		"valid"
    	],
    	[
    		[
    			42652,
    			42652
    		],
    		"mapped",
    		[
    			1098
    		]
    	],
    	[
    		[
    			42653,
    			42653
    		],
    		"mapped",
    		[
    			1100
    		]
    	],
    	[
    		[
    			42654,
    			42654
    		],
    		"valid"
    	],
    	[
    		[
    			42655,
    			42655
    		],
    		"valid"
    	],
    	[
    		[
    			42656,
    			42725
    		],
    		"valid"
    	],
    	[
    		[
    			42726,
    			42735
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42736,
    			42737
    		],
    		"valid"
    	],
    	[
    		[
    			42738,
    			42743
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42744,
    			42751
    		],
    		"disallowed"
    	],
    	[
    		[
    			42752,
    			42774
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42775,
    			42778
    		],
    		"valid"
    	],
    	[
    		[
    			42779,
    			42783
    		],
    		"valid"
    	],
    	[
    		[
    			42784,
    			42785
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42786,
    			42786
    		],
    		"mapped",
    		[
    			42787
    		]
    	],
    	[
    		[
    			42787,
    			42787
    		],
    		"valid"
    	],
    	[
    		[
    			42788,
    			42788
    		],
    		"mapped",
    		[
    			42789
    		]
    	],
    	[
    		[
    			42789,
    			42789
    		],
    		"valid"
    	],
    	[
    		[
    			42790,
    			42790
    		],
    		"mapped",
    		[
    			42791
    		]
    	],
    	[
    		[
    			42791,
    			42791
    		],
    		"valid"
    	],
    	[
    		[
    			42792,
    			42792
    		],
    		"mapped",
    		[
    			42793
    		]
    	],
    	[
    		[
    			42793,
    			42793
    		],
    		"valid"
    	],
    	[
    		[
    			42794,
    			42794
    		],
    		"mapped",
    		[
    			42795
    		]
    	],
    	[
    		[
    			42795,
    			42795
    		],
    		"valid"
    	],
    	[
    		[
    			42796,
    			42796
    		],
    		"mapped",
    		[
    			42797
    		]
    	],
    	[
    		[
    			42797,
    			42797
    		],
    		"valid"
    	],
    	[
    		[
    			42798,
    			42798
    		],
    		"mapped",
    		[
    			42799
    		]
    	],
    	[
    		[
    			42799,
    			42801
    		],
    		"valid"
    	],
    	[
    		[
    			42802,
    			42802
    		],
    		"mapped",
    		[
    			42803
    		]
    	],
    	[
    		[
    			42803,
    			42803
    		],
    		"valid"
    	],
    	[
    		[
    			42804,
    			42804
    		],
    		"mapped",
    		[
    			42805
    		]
    	],
    	[
    		[
    			42805,
    			42805
    		],
    		"valid"
    	],
    	[
    		[
    			42806,
    			42806
    		],
    		"mapped",
    		[
    			42807
    		]
    	],
    	[
    		[
    			42807,
    			42807
    		],
    		"valid"
    	],
    	[
    		[
    			42808,
    			42808
    		],
    		"mapped",
    		[
    			42809
    		]
    	],
    	[
    		[
    			42809,
    			42809
    		],
    		"valid"
    	],
    	[
    		[
    			42810,
    			42810
    		],
    		"mapped",
    		[
    			42811
    		]
    	],
    	[
    		[
    			42811,
    			42811
    		],
    		"valid"
    	],
    	[
    		[
    			42812,
    			42812
    		],
    		"mapped",
    		[
    			42813
    		]
    	],
    	[
    		[
    			42813,
    			42813
    		],
    		"valid"
    	],
    	[
    		[
    			42814,
    			42814
    		],
    		"mapped",
    		[
    			42815
    		]
    	],
    	[
    		[
    			42815,
    			42815
    		],
    		"valid"
    	],
    	[
    		[
    			42816,
    			42816
    		],
    		"mapped",
    		[
    			42817
    		]
    	],
    	[
    		[
    			42817,
    			42817
    		],
    		"valid"
    	],
    	[
    		[
    			42818,
    			42818
    		],
    		"mapped",
    		[
    			42819
    		]
    	],
    	[
    		[
    			42819,
    			42819
    		],
    		"valid"
    	],
    	[
    		[
    			42820,
    			42820
    		],
    		"mapped",
    		[
    			42821
    		]
    	],
    	[
    		[
    			42821,
    			42821
    		],
    		"valid"
    	],
    	[
    		[
    			42822,
    			42822
    		],
    		"mapped",
    		[
    			42823
    		]
    	],
    	[
    		[
    			42823,
    			42823
    		],
    		"valid"
    	],
    	[
    		[
    			42824,
    			42824
    		],
    		"mapped",
    		[
    			42825
    		]
    	],
    	[
    		[
    			42825,
    			42825
    		],
    		"valid"
    	],
    	[
    		[
    			42826,
    			42826
    		],
    		"mapped",
    		[
    			42827
    		]
    	],
    	[
    		[
    			42827,
    			42827
    		],
    		"valid"
    	],
    	[
    		[
    			42828,
    			42828
    		],
    		"mapped",
    		[
    			42829
    		]
    	],
    	[
    		[
    			42829,
    			42829
    		],
    		"valid"
    	],
    	[
    		[
    			42830,
    			42830
    		],
    		"mapped",
    		[
    			42831
    		]
    	],
    	[
    		[
    			42831,
    			42831
    		],
    		"valid"
    	],
    	[
    		[
    			42832,
    			42832
    		],
    		"mapped",
    		[
    			42833
    		]
    	],
    	[
    		[
    			42833,
    			42833
    		],
    		"valid"
    	],
    	[
    		[
    			42834,
    			42834
    		],
    		"mapped",
    		[
    			42835
    		]
    	],
    	[
    		[
    			42835,
    			42835
    		],
    		"valid"
    	],
    	[
    		[
    			42836,
    			42836
    		],
    		"mapped",
    		[
    			42837
    		]
    	],
    	[
    		[
    			42837,
    			42837
    		],
    		"valid"
    	],
    	[
    		[
    			42838,
    			42838
    		],
    		"mapped",
    		[
    			42839
    		]
    	],
    	[
    		[
    			42839,
    			42839
    		],
    		"valid"
    	],
    	[
    		[
    			42840,
    			42840
    		],
    		"mapped",
    		[
    			42841
    		]
    	],
    	[
    		[
    			42841,
    			42841
    		],
    		"valid"
    	],
    	[
    		[
    			42842,
    			42842
    		],
    		"mapped",
    		[
    			42843
    		]
    	],
    	[
    		[
    			42843,
    			42843
    		],
    		"valid"
    	],
    	[
    		[
    			42844,
    			42844
    		],
    		"mapped",
    		[
    			42845
    		]
    	],
    	[
    		[
    			42845,
    			42845
    		],
    		"valid"
    	],
    	[
    		[
    			42846,
    			42846
    		],
    		"mapped",
    		[
    			42847
    		]
    	],
    	[
    		[
    			42847,
    			42847
    		],
    		"valid"
    	],
    	[
    		[
    			42848,
    			42848
    		],
    		"mapped",
    		[
    			42849
    		]
    	],
    	[
    		[
    			42849,
    			42849
    		],
    		"valid"
    	],
    	[
    		[
    			42850,
    			42850
    		],
    		"mapped",
    		[
    			42851
    		]
    	],
    	[
    		[
    			42851,
    			42851
    		],
    		"valid"
    	],
    	[
    		[
    			42852,
    			42852
    		],
    		"mapped",
    		[
    			42853
    		]
    	],
    	[
    		[
    			42853,
    			42853
    		],
    		"valid"
    	],
    	[
    		[
    			42854,
    			42854
    		],
    		"mapped",
    		[
    			42855
    		]
    	],
    	[
    		[
    			42855,
    			42855
    		],
    		"valid"
    	],
    	[
    		[
    			42856,
    			42856
    		],
    		"mapped",
    		[
    			42857
    		]
    	],
    	[
    		[
    			42857,
    			42857
    		],
    		"valid"
    	],
    	[
    		[
    			42858,
    			42858
    		],
    		"mapped",
    		[
    			42859
    		]
    	],
    	[
    		[
    			42859,
    			42859
    		],
    		"valid"
    	],
    	[
    		[
    			42860,
    			42860
    		],
    		"mapped",
    		[
    			42861
    		]
    	],
    	[
    		[
    			42861,
    			42861
    		],
    		"valid"
    	],
    	[
    		[
    			42862,
    			42862
    		],
    		"mapped",
    		[
    			42863
    		]
    	],
    	[
    		[
    			42863,
    			42863
    		],
    		"valid"
    	],
    	[
    		[
    			42864,
    			42864
    		],
    		"mapped",
    		[
    			42863
    		]
    	],
    	[
    		[
    			42865,
    			42872
    		],
    		"valid"
    	],
    	[
    		[
    			42873,
    			42873
    		],
    		"mapped",
    		[
    			42874
    		]
    	],
    	[
    		[
    			42874,
    			42874
    		],
    		"valid"
    	],
    	[
    		[
    			42875,
    			42875
    		],
    		"mapped",
    		[
    			42876
    		]
    	],
    	[
    		[
    			42876,
    			42876
    		],
    		"valid"
    	],
    	[
    		[
    			42877,
    			42877
    		],
    		"mapped",
    		[
    			7545
    		]
    	],
    	[
    		[
    			42878,
    			42878
    		],
    		"mapped",
    		[
    			42879
    		]
    	],
    	[
    		[
    			42879,
    			42879
    		],
    		"valid"
    	],
    	[
    		[
    			42880,
    			42880
    		],
    		"mapped",
    		[
    			42881
    		]
    	],
    	[
    		[
    			42881,
    			42881
    		],
    		"valid"
    	],
    	[
    		[
    			42882,
    			42882
    		],
    		"mapped",
    		[
    			42883
    		]
    	],
    	[
    		[
    			42883,
    			42883
    		],
    		"valid"
    	],
    	[
    		[
    			42884,
    			42884
    		],
    		"mapped",
    		[
    			42885
    		]
    	],
    	[
    		[
    			42885,
    			42885
    		],
    		"valid"
    	],
    	[
    		[
    			42886,
    			42886
    		],
    		"mapped",
    		[
    			42887
    		]
    	],
    	[
    		[
    			42887,
    			42888
    		],
    		"valid"
    	],
    	[
    		[
    			42889,
    			42890
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			42891,
    			42891
    		],
    		"mapped",
    		[
    			42892
    		]
    	],
    	[
    		[
    			42892,
    			42892
    		],
    		"valid"
    	],
    	[
    		[
    			42893,
    			42893
    		],
    		"mapped",
    		[
    			613
    		]
    	],
    	[
    		[
    			42894,
    			42894
    		],
    		"valid"
    	],
    	[
    		[
    			42895,
    			42895
    		],
    		"valid"
    	],
    	[
    		[
    			42896,
    			42896
    		],
    		"mapped",
    		[
    			42897
    		]
    	],
    	[
    		[
    			42897,
    			42897
    		],
    		"valid"
    	],
    	[
    		[
    			42898,
    			42898
    		],
    		"mapped",
    		[
    			42899
    		]
    	],
    	[
    		[
    			42899,
    			42899
    		],
    		"valid"
    	],
    	[
    		[
    			42900,
    			42901
    		],
    		"valid"
    	],
    	[
    		[
    			42902,
    			42902
    		],
    		"mapped",
    		[
    			42903
    		]
    	],
    	[
    		[
    			42903,
    			42903
    		],
    		"valid"
    	],
    	[
    		[
    			42904,
    			42904
    		],
    		"mapped",
    		[
    			42905
    		]
    	],
    	[
    		[
    			42905,
    			42905
    		],
    		"valid"
    	],
    	[
    		[
    			42906,
    			42906
    		],
    		"mapped",
    		[
    			42907
    		]
    	],
    	[
    		[
    			42907,
    			42907
    		],
    		"valid"
    	],
    	[
    		[
    			42908,
    			42908
    		],
    		"mapped",
    		[
    			42909
    		]
    	],
    	[
    		[
    			42909,
    			42909
    		],
    		"valid"
    	],
    	[
    		[
    			42910,
    			42910
    		],
    		"mapped",
    		[
    			42911
    		]
    	],
    	[
    		[
    			42911,
    			42911
    		],
    		"valid"
    	],
    	[
    		[
    			42912,
    			42912
    		],
    		"mapped",
    		[
    			42913
    		]
    	],
    	[
    		[
    			42913,
    			42913
    		],
    		"valid"
    	],
    	[
    		[
    			42914,
    			42914
    		],
    		"mapped",
    		[
    			42915
    		]
    	],
    	[
    		[
    			42915,
    			42915
    		],
    		"valid"
    	],
    	[
    		[
    			42916,
    			42916
    		],
    		"mapped",
    		[
    			42917
    		]
    	],
    	[
    		[
    			42917,
    			42917
    		],
    		"valid"
    	],
    	[
    		[
    			42918,
    			42918
    		],
    		"mapped",
    		[
    			42919
    		]
    	],
    	[
    		[
    			42919,
    			42919
    		],
    		"valid"
    	],
    	[
    		[
    			42920,
    			42920
    		],
    		"mapped",
    		[
    			42921
    		]
    	],
    	[
    		[
    			42921,
    			42921
    		],
    		"valid"
    	],
    	[
    		[
    			42922,
    			42922
    		],
    		"mapped",
    		[
    			614
    		]
    	],
    	[
    		[
    			42923,
    			42923
    		],
    		"mapped",
    		[
    			604
    		]
    	],
    	[
    		[
    			42924,
    			42924
    		],
    		"mapped",
    		[
    			609
    		]
    	],
    	[
    		[
    			42925,
    			42925
    		],
    		"mapped",
    		[
    			620
    		]
    	],
    	[
    		[
    			42926,
    			42927
    		],
    		"disallowed"
    	],
    	[
    		[
    			42928,
    			42928
    		],
    		"mapped",
    		[
    			670
    		]
    	],
    	[
    		[
    			42929,
    			42929
    		],
    		"mapped",
    		[
    			647
    		]
    	],
    	[
    		[
    			42930,
    			42930
    		],
    		"mapped",
    		[
    			669
    		]
    	],
    	[
    		[
    			42931,
    			42931
    		],
    		"mapped",
    		[
    			43859
    		]
    	],
    	[
    		[
    			42932,
    			42932
    		],
    		"mapped",
    		[
    			42933
    		]
    	],
    	[
    		[
    			42933,
    			42933
    		],
    		"valid"
    	],
    	[
    		[
    			42934,
    			42934
    		],
    		"mapped",
    		[
    			42935
    		]
    	],
    	[
    		[
    			42935,
    			42935
    		],
    		"valid"
    	],
    	[
    		[
    			42936,
    			42998
    		],
    		"disallowed"
    	],
    	[
    		[
    			42999,
    			42999
    		],
    		"valid"
    	],
    	[
    		[
    			43000,
    			43000
    		],
    		"mapped",
    		[
    			295
    		]
    	],
    	[
    		[
    			43001,
    			43001
    		],
    		"mapped",
    		[
    			339
    		]
    	],
    	[
    		[
    			43002,
    			43002
    		],
    		"valid"
    	],
    	[
    		[
    			43003,
    			43007
    		],
    		"valid"
    	],
    	[
    		[
    			43008,
    			43047
    		],
    		"valid"
    	],
    	[
    		[
    			43048,
    			43051
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43052,
    			43055
    		],
    		"disallowed"
    	],
    	[
    		[
    			43056,
    			43065
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43066,
    			43071
    		],
    		"disallowed"
    	],
    	[
    		[
    			43072,
    			43123
    		],
    		"valid"
    	],
    	[
    		[
    			43124,
    			43127
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43128,
    			43135
    		],
    		"disallowed"
    	],
    	[
    		[
    			43136,
    			43204
    		],
    		"valid"
    	],
    	[
    		[
    			43205,
    			43213
    		],
    		"disallowed"
    	],
    	[
    		[
    			43214,
    			43215
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43216,
    			43225
    		],
    		"valid"
    	],
    	[
    		[
    			43226,
    			43231
    		],
    		"disallowed"
    	],
    	[
    		[
    			43232,
    			43255
    		],
    		"valid"
    	],
    	[
    		[
    			43256,
    			43258
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43259,
    			43259
    		],
    		"valid"
    	],
    	[
    		[
    			43260,
    			43260
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43261,
    			43261
    		],
    		"valid"
    	],
    	[
    		[
    			43262,
    			43263
    		],
    		"disallowed"
    	],
    	[
    		[
    			43264,
    			43309
    		],
    		"valid"
    	],
    	[
    		[
    			43310,
    			43311
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43312,
    			43347
    		],
    		"valid"
    	],
    	[
    		[
    			43348,
    			43358
    		],
    		"disallowed"
    	],
    	[
    		[
    			43359,
    			43359
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43360,
    			43388
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43389,
    			43391
    		],
    		"disallowed"
    	],
    	[
    		[
    			43392,
    			43456
    		],
    		"valid"
    	],
    	[
    		[
    			43457,
    			43469
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43470,
    			43470
    		],
    		"disallowed"
    	],
    	[
    		[
    			43471,
    			43481
    		],
    		"valid"
    	],
    	[
    		[
    			43482,
    			43485
    		],
    		"disallowed"
    	],
    	[
    		[
    			43486,
    			43487
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43488,
    			43518
    		],
    		"valid"
    	],
    	[
    		[
    			43519,
    			43519
    		],
    		"disallowed"
    	],
    	[
    		[
    			43520,
    			43574
    		],
    		"valid"
    	],
    	[
    		[
    			43575,
    			43583
    		],
    		"disallowed"
    	],
    	[
    		[
    			43584,
    			43597
    		],
    		"valid"
    	],
    	[
    		[
    			43598,
    			43599
    		],
    		"disallowed"
    	],
    	[
    		[
    			43600,
    			43609
    		],
    		"valid"
    	],
    	[
    		[
    			43610,
    			43611
    		],
    		"disallowed"
    	],
    	[
    		[
    			43612,
    			43615
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43616,
    			43638
    		],
    		"valid"
    	],
    	[
    		[
    			43639,
    			43641
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43642,
    			43643
    		],
    		"valid"
    	],
    	[
    		[
    			43644,
    			43647
    		],
    		"valid"
    	],
    	[
    		[
    			43648,
    			43714
    		],
    		"valid"
    	],
    	[
    		[
    			43715,
    			43738
    		],
    		"disallowed"
    	],
    	[
    		[
    			43739,
    			43741
    		],
    		"valid"
    	],
    	[
    		[
    			43742,
    			43743
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43744,
    			43759
    		],
    		"valid"
    	],
    	[
    		[
    			43760,
    			43761
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43762,
    			43766
    		],
    		"valid"
    	],
    	[
    		[
    			43767,
    			43776
    		],
    		"disallowed"
    	],
    	[
    		[
    			43777,
    			43782
    		],
    		"valid"
    	],
    	[
    		[
    			43783,
    			43784
    		],
    		"disallowed"
    	],
    	[
    		[
    			43785,
    			43790
    		],
    		"valid"
    	],
    	[
    		[
    			43791,
    			43792
    		],
    		"disallowed"
    	],
    	[
    		[
    			43793,
    			43798
    		],
    		"valid"
    	],
    	[
    		[
    			43799,
    			43807
    		],
    		"disallowed"
    	],
    	[
    		[
    			43808,
    			43814
    		],
    		"valid"
    	],
    	[
    		[
    			43815,
    			43815
    		],
    		"disallowed"
    	],
    	[
    		[
    			43816,
    			43822
    		],
    		"valid"
    	],
    	[
    		[
    			43823,
    			43823
    		],
    		"disallowed"
    	],
    	[
    		[
    			43824,
    			43866
    		],
    		"valid"
    	],
    	[
    		[
    			43867,
    			43867
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			43868,
    			43868
    		],
    		"mapped",
    		[
    			42791
    		]
    	],
    	[
    		[
    			43869,
    			43869
    		],
    		"mapped",
    		[
    			43831
    		]
    	],
    	[
    		[
    			43870,
    			43870
    		],
    		"mapped",
    		[
    			619
    		]
    	],
    	[
    		[
    			43871,
    			43871
    		],
    		"mapped",
    		[
    			43858
    		]
    	],
    	[
    		[
    			43872,
    			43875
    		],
    		"valid"
    	],
    	[
    		[
    			43876,
    			43877
    		],
    		"valid"
    	],
    	[
    		[
    			43878,
    			43887
    		],
    		"disallowed"
    	],
    	[
    		[
    			43888,
    			43888
    		],
    		"mapped",
    		[
    			5024
    		]
    	],
    	[
    		[
    			43889,
    			43889
    		],
    		"mapped",
    		[
    			5025
    		]
    	],
    	[
    		[
    			43890,
    			43890
    		],
    		"mapped",
    		[
    			5026
    		]
    	],
    	[
    		[
    			43891,
    			43891
    		],
    		"mapped",
    		[
    			5027
    		]
    	],
    	[
    		[
    			43892,
    			43892
    		],
    		"mapped",
    		[
    			5028
    		]
    	],
    	[
    		[
    			43893,
    			43893
    		],
    		"mapped",
    		[
    			5029
    		]
    	],
    	[
    		[
    			43894,
    			43894
    		],
    		"mapped",
    		[
    			5030
    		]
    	],
    	[
    		[
    			43895,
    			43895
    		],
    		"mapped",
    		[
    			5031
    		]
    	],
    	[
    		[
    			43896,
    			43896
    		],
    		"mapped",
    		[
    			5032
    		]
    	],
    	[
    		[
    			43897,
    			43897
    		],
    		"mapped",
    		[
    			5033
    		]
    	],
    	[
    		[
    			43898,
    			43898
    		],
    		"mapped",
    		[
    			5034
    		]
    	],
    	[
    		[
    			43899,
    			43899
    		],
    		"mapped",
    		[
    			5035
    		]
    	],
    	[
    		[
    			43900,
    			43900
    		],
    		"mapped",
    		[
    			5036
    		]
    	],
    	[
    		[
    			43901,
    			43901
    		],
    		"mapped",
    		[
    			5037
    		]
    	],
    	[
    		[
    			43902,
    			43902
    		],
    		"mapped",
    		[
    			5038
    		]
    	],
    	[
    		[
    			43903,
    			43903
    		],
    		"mapped",
    		[
    			5039
    		]
    	],
    	[
    		[
    			43904,
    			43904
    		],
    		"mapped",
    		[
    			5040
    		]
    	],
    	[
    		[
    			43905,
    			43905
    		],
    		"mapped",
    		[
    			5041
    		]
    	],
    	[
    		[
    			43906,
    			43906
    		],
    		"mapped",
    		[
    			5042
    		]
    	],
    	[
    		[
    			43907,
    			43907
    		],
    		"mapped",
    		[
    			5043
    		]
    	],
    	[
    		[
    			43908,
    			43908
    		],
    		"mapped",
    		[
    			5044
    		]
    	],
    	[
    		[
    			43909,
    			43909
    		],
    		"mapped",
    		[
    			5045
    		]
    	],
    	[
    		[
    			43910,
    			43910
    		],
    		"mapped",
    		[
    			5046
    		]
    	],
    	[
    		[
    			43911,
    			43911
    		],
    		"mapped",
    		[
    			5047
    		]
    	],
    	[
    		[
    			43912,
    			43912
    		],
    		"mapped",
    		[
    			5048
    		]
    	],
    	[
    		[
    			43913,
    			43913
    		],
    		"mapped",
    		[
    			5049
    		]
    	],
    	[
    		[
    			43914,
    			43914
    		],
    		"mapped",
    		[
    			5050
    		]
    	],
    	[
    		[
    			43915,
    			43915
    		],
    		"mapped",
    		[
    			5051
    		]
    	],
    	[
    		[
    			43916,
    			43916
    		],
    		"mapped",
    		[
    			5052
    		]
    	],
    	[
    		[
    			43917,
    			43917
    		],
    		"mapped",
    		[
    			5053
    		]
    	],
    	[
    		[
    			43918,
    			43918
    		],
    		"mapped",
    		[
    			5054
    		]
    	],
    	[
    		[
    			43919,
    			43919
    		],
    		"mapped",
    		[
    			5055
    		]
    	],
    	[
    		[
    			43920,
    			43920
    		],
    		"mapped",
    		[
    			5056
    		]
    	],
    	[
    		[
    			43921,
    			43921
    		],
    		"mapped",
    		[
    			5057
    		]
    	],
    	[
    		[
    			43922,
    			43922
    		],
    		"mapped",
    		[
    			5058
    		]
    	],
    	[
    		[
    			43923,
    			43923
    		],
    		"mapped",
    		[
    			5059
    		]
    	],
    	[
    		[
    			43924,
    			43924
    		],
    		"mapped",
    		[
    			5060
    		]
    	],
    	[
    		[
    			43925,
    			43925
    		],
    		"mapped",
    		[
    			5061
    		]
    	],
    	[
    		[
    			43926,
    			43926
    		],
    		"mapped",
    		[
    			5062
    		]
    	],
    	[
    		[
    			43927,
    			43927
    		],
    		"mapped",
    		[
    			5063
    		]
    	],
    	[
    		[
    			43928,
    			43928
    		],
    		"mapped",
    		[
    			5064
    		]
    	],
    	[
    		[
    			43929,
    			43929
    		],
    		"mapped",
    		[
    			5065
    		]
    	],
    	[
    		[
    			43930,
    			43930
    		],
    		"mapped",
    		[
    			5066
    		]
    	],
    	[
    		[
    			43931,
    			43931
    		],
    		"mapped",
    		[
    			5067
    		]
    	],
    	[
    		[
    			43932,
    			43932
    		],
    		"mapped",
    		[
    			5068
    		]
    	],
    	[
    		[
    			43933,
    			43933
    		],
    		"mapped",
    		[
    			5069
    		]
    	],
    	[
    		[
    			43934,
    			43934
    		],
    		"mapped",
    		[
    			5070
    		]
    	],
    	[
    		[
    			43935,
    			43935
    		],
    		"mapped",
    		[
    			5071
    		]
    	],
    	[
    		[
    			43936,
    			43936
    		],
    		"mapped",
    		[
    			5072
    		]
    	],
    	[
    		[
    			43937,
    			43937
    		],
    		"mapped",
    		[
    			5073
    		]
    	],
    	[
    		[
    			43938,
    			43938
    		],
    		"mapped",
    		[
    			5074
    		]
    	],
    	[
    		[
    			43939,
    			43939
    		],
    		"mapped",
    		[
    			5075
    		]
    	],
    	[
    		[
    			43940,
    			43940
    		],
    		"mapped",
    		[
    			5076
    		]
    	],
    	[
    		[
    			43941,
    			43941
    		],
    		"mapped",
    		[
    			5077
    		]
    	],
    	[
    		[
    			43942,
    			43942
    		],
    		"mapped",
    		[
    			5078
    		]
    	],
    	[
    		[
    			43943,
    			43943
    		],
    		"mapped",
    		[
    			5079
    		]
    	],
    	[
    		[
    			43944,
    			43944
    		],
    		"mapped",
    		[
    			5080
    		]
    	],
    	[
    		[
    			43945,
    			43945
    		],
    		"mapped",
    		[
    			5081
    		]
    	],
    	[
    		[
    			43946,
    			43946
    		],
    		"mapped",
    		[
    			5082
    		]
    	],
    	[
    		[
    			43947,
    			43947
    		],
    		"mapped",
    		[
    			5083
    		]
    	],
    	[
    		[
    			43948,
    			43948
    		],
    		"mapped",
    		[
    			5084
    		]
    	],
    	[
    		[
    			43949,
    			43949
    		],
    		"mapped",
    		[
    			5085
    		]
    	],
    	[
    		[
    			43950,
    			43950
    		],
    		"mapped",
    		[
    			5086
    		]
    	],
    	[
    		[
    			43951,
    			43951
    		],
    		"mapped",
    		[
    			5087
    		]
    	],
    	[
    		[
    			43952,
    			43952
    		],
    		"mapped",
    		[
    			5088
    		]
    	],
    	[
    		[
    			43953,
    			43953
    		],
    		"mapped",
    		[
    			5089
    		]
    	],
    	[
    		[
    			43954,
    			43954
    		],
    		"mapped",
    		[
    			5090
    		]
    	],
    	[
    		[
    			43955,
    			43955
    		],
    		"mapped",
    		[
    			5091
    		]
    	],
    	[
    		[
    			43956,
    			43956
    		],
    		"mapped",
    		[
    			5092
    		]
    	],
    	[
    		[
    			43957,
    			43957
    		],
    		"mapped",
    		[
    			5093
    		]
    	],
    	[
    		[
    			43958,
    			43958
    		],
    		"mapped",
    		[
    			5094
    		]
    	],
    	[
    		[
    			43959,
    			43959
    		],
    		"mapped",
    		[
    			5095
    		]
    	],
    	[
    		[
    			43960,
    			43960
    		],
    		"mapped",
    		[
    			5096
    		]
    	],
    	[
    		[
    			43961,
    			43961
    		],
    		"mapped",
    		[
    			5097
    		]
    	],
    	[
    		[
    			43962,
    			43962
    		],
    		"mapped",
    		[
    			5098
    		]
    	],
    	[
    		[
    			43963,
    			43963
    		],
    		"mapped",
    		[
    			5099
    		]
    	],
    	[
    		[
    			43964,
    			43964
    		],
    		"mapped",
    		[
    			5100
    		]
    	],
    	[
    		[
    			43965,
    			43965
    		],
    		"mapped",
    		[
    			5101
    		]
    	],
    	[
    		[
    			43966,
    			43966
    		],
    		"mapped",
    		[
    			5102
    		]
    	],
    	[
    		[
    			43967,
    			43967
    		],
    		"mapped",
    		[
    			5103
    		]
    	],
    	[
    		[
    			43968,
    			44010
    		],
    		"valid"
    	],
    	[
    		[
    			44011,
    			44011
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			44012,
    			44013
    		],
    		"valid"
    	],
    	[
    		[
    			44014,
    			44015
    		],
    		"disallowed"
    	],
    	[
    		[
    			44016,
    			44025
    		],
    		"valid"
    	],
    	[
    		[
    			44026,
    			44031
    		],
    		"disallowed"
    	],
    	[
    		[
    			44032,
    			55203
    		],
    		"valid"
    	],
    	[
    		[
    			55204,
    			55215
    		],
    		"disallowed"
    	],
    	[
    		[
    			55216,
    			55238
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			55239,
    			55242
    		],
    		"disallowed"
    	],
    	[
    		[
    			55243,
    			55291
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			55292,
    			55295
    		],
    		"disallowed"
    	],
    	[
    		[
    			55296,
    			57343
    		],
    		"disallowed"
    	],
    	[
    		[
    			57344,
    			63743
    		],
    		"disallowed"
    	],
    	[
    		[
    			63744,
    			63744
    		],
    		"mapped",
    		[
    			35912
    		]
    	],
    	[
    		[
    			63745,
    			63745
    		],
    		"mapped",
    		[
    			26356
    		]
    	],
    	[
    		[
    			63746,
    			63746
    		],
    		"mapped",
    		[
    			36554
    		]
    	],
    	[
    		[
    			63747,
    			63747
    		],
    		"mapped",
    		[
    			36040
    		]
    	],
    	[
    		[
    			63748,
    			63748
    		],
    		"mapped",
    		[
    			28369
    		]
    	],
    	[
    		[
    			63749,
    			63749
    		],
    		"mapped",
    		[
    			20018
    		]
    	],
    	[
    		[
    			63750,
    			63750
    		],
    		"mapped",
    		[
    			21477
    		]
    	],
    	[
    		[
    			63751,
    			63752
    		],
    		"mapped",
    		[
    			40860
    		]
    	],
    	[
    		[
    			63753,
    			63753
    		],
    		"mapped",
    		[
    			22865
    		]
    	],
    	[
    		[
    			63754,
    			63754
    		],
    		"mapped",
    		[
    			37329
    		]
    	],
    	[
    		[
    			63755,
    			63755
    		],
    		"mapped",
    		[
    			21895
    		]
    	],
    	[
    		[
    			63756,
    			63756
    		],
    		"mapped",
    		[
    			22856
    		]
    	],
    	[
    		[
    			63757,
    			63757
    		],
    		"mapped",
    		[
    			25078
    		]
    	],
    	[
    		[
    			63758,
    			63758
    		],
    		"mapped",
    		[
    			30313
    		]
    	],
    	[
    		[
    			63759,
    			63759
    		],
    		"mapped",
    		[
    			32645
    		]
    	],
    	[
    		[
    			63760,
    			63760
    		],
    		"mapped",
    		[
    			34367
    		]
    	],
    	[
    		[
    			63761,
    			63761
    		],
    		"mapped",
    		[
    			34746
    		]
    	],
    	[
    		[
    			63762,
    			63762
    		],
    		"mapped",
    		[
    			35064
    		]
    	],
    	[
    		[
    			63763,
    			63763
    		],
    		"mapped",
    		[
    			37007
    		]
    	],
    	[
    		[
    			63764,
    			63764
    		],
    		"mapped",
    		[
    			27138
    		]
    	],
    	[
    		[
    			63765,
    			63765
    		],
    		"mapped",
    		[
    			27931
    		]
    	],
    	[
    		[
    			63766,
    			63766
    		],
    		"mapped",
    		[
    			28889
    		]
    	],
    	[
    		[
    			63767,
    			63767
    		],
    		"mapped",
    		[
    			29662
    		]
    	],
    	[
    		[
    			63768,
    			63768
    		],
    		"mapped",
    		[
    			33853
    		]
    	],
    	[
    		[
    			63769,
    			63769
    		],
    		"mapped",
    		[
    			37226
    		]
    	],
    	[
    		[
    			63770,
    			63770
    		],
    		"mapped",
    		[
    			39409
    		]
    	],
    	[
    		[
    			63771,
    			63771
    		],
    		"mapped",
    		[
    			20098
    		]
    	],
    	[
    		[
    			63772,
    			63772
    		],
    		"mapped",
    		[
    			21365
    		]
    	],
    	[
    		[
    			63773,
    			63773
    		],
    		"mapped",
    		[
    			27396
    		]
    	],
    	[
    		[
    			63774,
    			63774
    		],
    		"mapped",
    		[
    			29211
    		]
    	],
    	[
    		[
    			63775,
    			63775
    		],
    		"mapped",
    		[
    			34349
    		]
    	],
    	[
    		[
    			63776,
    			63776
    		],
    		"mapped",
    		[
    			40478
    		]
    	],
    	[
    		[
    			63777,
    			63777
    		],
    		"mapped",
    		[
    			23888
    		]
    	],
    	[
    		[
    			63778,
    			63778
    		],
    		"mapped",
    		[
    			28651
    		]
    	],
    	[
    		[
    			63779,
    			63779
    		],
    		"mapped",
    		[
    			34253
    		]
    	],
    	[
    		[
    			63780,
    			63780
    		],
    		"mapped",
    		[
    			35172
    		]
    	],
    	[
    		[
    			63781,
    			63781
    		],
    		"mapped",
    		[
    			25289
    		]
    	],
    	[
    		[
    			63782,
    			63782
    		],
    		"mapped",
    		[
    			33240
    		]
    	],
    	[
    		[
    			63783,
    			63783
    		],
    		"mapped",
    		[
    			34847
    		]
    	],
    	[
    		[
    			63784,
    			63784
    		],
    		"mapped",
    		[
    			24266
    		]
    	],
    	[
    		[
    			63785,
    			63785
    		],
    		"mapped",
    		[
    			26391
    		]
    	],
    	[
    		[
    			63786,
    			63786
    		],
    		"mapped",
    		[
    			28010
    		]
    	],
    	[
    		[
    			63787,
    			63787
    		],
    		"mapped",
    		[
    			29436
    		]
    	],
    	[
    		[
    			63788,
    			63788
    		],
    		"mapped",
    		[
    			37070
    		]
    	],
    	[
    		[
    			63789,
    			63789
    		],
    		"mapped",
    		[
    			20358
    		]
    	],
    	[
    		[
    			63790,
    			63790
    		],
    		"mapped",
    		[
    			20919
    		]
    	],
    	[
    		[
    			63791,
    			63791
    		],
    		"mapped",
    		[
    			21214
    		]
    	],
    	[
    		[
    			63792,
    			63792
    		],
    		"mapped",
    		[
    			25796
    		]
    	],
    	[
    		[
    			63793,
    			63793
    		],
    		"mapped",
    		[
    			27347
    		]
    	],
    	[
    		[
    			63794,
    			63794
    		],
    		"mapped",
    		[
    			29200
    		]
    	],
    	[
    		[
    			63795,
    			63795
    		],
    		"mapped",
    		[
    			30439
    		]
    	],
    	[
    		[
    			63796,
    			63796
    		],
    		"mapped",
    		[
    			32769
    		]
    	],
    	[
    		[
    			63797,
    			63797
    		],
    		"mapped",
    		[
    			34310
    		]
    	],
    	[
    		[
    			63798,
    			63798
    		],
    		"mapped",
    		[
    			34396
    		]
    	],
    	[
    		[
    			63799,
    			63799
    		],
    		"mapped",
    		[
    			36335
    		]
    	],
    	[
    		[
    			63800,
    			63800
    		],
    		"mapped",
    		[
    			38706
    		]
    	],
    	[
    		[
    			63801,
    			63801
    		],
    		"mapped",
    		[
    			39791
    		]
    	],
    	[
    		[
    			63802,
    			63802
    		],
    		"mapped",
    		[
    			40442
    		]
    	],
    	[
    		[
    			63803,
    			63803
    		],
    		"mapped",
    		[
    			30860
    		]
    	],
    	[
    		[
    			63804,
    			63804
    		],
    		"mapped",
    		[
    			31103
    		]
    	],
    	[
    		[
    			63805,
    			63805
    		],
    		"mapped",
    		[
    			32160
    		]
    	],
    	[
    		[
    			63806,
    			63806
    		],
    		"mapped",
    		[
    			33737
    		]
    	],
    	[
    		[
    			63807,
    			63807
    		],
    		"mapped",
    		[
    			37636
    		]
    	],
    	[
    		[
    			63808,
    			63808
    		],
    		"mapped",
    		[
    			40575
    		]
    	],
    	[
    		[
    			63809,
    			63809
    		],
    		"mapped",
    		[
    			35542
    		]
    	],
    	[
    		[
    			63810,
    			63810
    		],
    		"mapped",
    		[
    			22751
    		]
    	],
    	[
    		[
    			63811,
    			63811
    		],
    		"mapped",
    		[
    			24324
    		]
    	],
    	[
    		[
    			63812,
    			63812
    		],
    		"mapped",
    		[
    			31840
    		]
    	],
    	[
    		[
    			63813,
    			63813
    		],
    		"mapped",
    		[
    			32894
    		]
    	],
    	[
    		[
    			63814,
    			63814
    		],
    		"mapped",
    		[
    			29282
    		]
    	],
    	[
    		[
    			63815,
    			63815
    		],
    		"mapped",
    		[
    			30922
    		]
    	],
    	[
    		[
    			63816,
    			63816
    		],
    		"mapped",
    		[
    			36034
    		]
    	],
    	[
    		[
    			63817,
    			63817
    		],
    		"mapped",
    		[
    			38647
    		]
    	],
    	[
    		[
    			63818,
    			63818
    		],
    		"mapped",
    		[
    			22744
    		]
    	],
    	[
    		[
    			63819,
    			63819
    		],
    		"mapped",
    		[
    			23650
    		]
    	],
    	[
    		[
    			63820,
    			63820
    		],
    		"mapped",
    		[
    			27155
    		]
    	],
    	[
    		[
    			63821,
    			63821
    		],
    		"mapped",
    		[
    			28122
    		]
    	],
    	[
    		[
    			63822,
    			63822
    		],
    		"mapped",
    		[
    			28431
    		]
    	],
    	[
    		[
    			63823,
    			63823
    		],
    		"mapped",
    		[
    			32047
    		]
    	],
    	[
    		[
    			63824,
    			63824
    		],
    		"mapped",
    		[
    			32311
    		]
    	],
    	[
    		[
    			63825,
    			63825
    		],
    		"mapped",
    		[
    			38475
    		]
    	],
    	[
    		[
    			63826,
    			63826
    		],
    		"mapped",
    		[
    			21202
    		]
    	],
    	[
    		[
    			63827,
    			63827
    		],
    		"mapped",
    		[
    			32907
    		]
    	],
    	[
    		[
    			63828,
    			63828
    		],
    		"mapped",
    		[
    			20956
    		]
    	],
    	[
    		[
    			63829,
    			63829
    		],
    		"mapped",
    		[
    			20940
    		]
    	],
    	[
    		[
    			63830,
    			63830
    		],
    		"mapped",
    		[
    			31260
    		]
    	],
    	[
    		[
    			63831,
    			63831
    		],
    		"mapped",
    		[
    			32190
    		]
    	],
    	[
    		[
    			63832,
    			63832
    		],
    		"mapped",
    		[
    			33777
    		]
    	],
    	[
    		[
    			63833,
    			63833
    		],
    		"mapped",
    		[
    			38517
    		]
    	],
    	[
    		[
    			63834,
    			63834
    		],
    		"mapped",
    		[
    			35712
    		]
    	],
    	[
    		[
    			63835,
    			63835
    		],
    		"mapped",
    		[
    			25295
    		]
    	],
    	[
    		[
    			63836,
    			63836
    		],
    		"mapped",
    		[
    			27138
    		]
    	],
    	[
    		[
    			63837,
    			63837
    		],
    		"mapped",
    		[
    			35582
    		]
    	],
    	[
    		[
    			63838,
    			63838
    		],
    		"mapped",
    		[
    			20025
    		]
    	],
    	[
    		[
    			63839,
    			63839
    		],
    		"mapped",
    		[
    			23527
    		]
    	],
    	[
    		[
    			63840,
    			63840
    		],
    		"mapped",
    		[
    			24594
    		]
    	],
    	[
    		[
    			63841,
    			63841
    		],
    		"mapped",
    		[
    			29575
    		]
    	],
    	[
    		[
    			63842,
    			63842
    		],
    		"mapped",
    		[
    			30064
    		]
    	],
    	[
    		[
    			63843,
    			63843
    		],
    		"mapped",
    		[
    			21271
    		]
    	],
    	[
    		[
    			63844,
    			63844
    		],
    		"mapped",
    		[
    			30971
    		]
    	],
    	[
    		[
    			63845,
    			63845
    		],
    		"mapped",
    		[
    			20415
    		]
    	],
    	[
    		[
    			63846,
    			63846
    		],
    		"mapped",
    		[
    			24489
    		]
    	],
    	[
    		[
    			63847,
    			63847
    		],
    		"mapped",
    		[
    			19981
    		]
    	],
    	[
    		[
    			63848,
    			63848
    		],
    		"mapped",
    		[
    			27852
    		]
    	],
    	[
    		[
    			63849,
    			63849
    		],
    		"mapped",
    		[
    			25976
    		]
    	],
    	[
    		[
    			63850,
    			63850
    		],
    		"mapped",
    		[
    			32034
    		]
    	],
    	[
    		[
    			63851,
    			63851
    		],
    		"mapped",
    		[
    			21443
    		]
    	],
    	[
    		[
    			63852,
    			63852
    		],
    		"mapped",
    		[
    			22622
    		]
    	],
    	[
    		[
    			63853,
    			63853
    		],
    		"mapped",
    		[
    			30465
    		]
    	],
    	[
    		[
    			63854,
    			63854
    		],
    		"mapped",
    		[
    			33865
    		]
    	],
    	[
    		[
    			63855,
    			63855
    		],
    		"mapped",
    		[
    			35498
    		]
    	],
    	[
    		[
    			63856,
    			63856
    		],
    		"mapped",
    		[
    			27578
    		]
    	],
    	[
    		[
    			63857,
    			63857
    		],
    		"mapped",
    		[
    			36784
    		]
    	],
    	[
    		[
    			63858,
    			63858
    		],
    		"mapped",
    		[
    			27784
    		]
    	],
    	[
    		[
    			63859,
    			63859
    		],
    		"mapped",
    		[
    			25342
    		]
    	],
    	[
    		[
    			63860,
    			63860
    		],
    		"mapped",
    		[
    			33509
    		]
    	],
    	[
    		[
    			63861,
    			63861
    		],
    		"mapped",
    		[
    			25504
    		]
    	],
    	[
    		[
    			63862,
    			63862
    		],
    		"mapped",
    		[
    			30053
    		]
    	],
    	[
    		[
    			63863,
    			63863
    		],
    		"mapped",
    		[
    			20142
    		]
    	],
    	[
    		[
    			63864,
    			63864
    		],
    		"mapped",
    		[
    			20841
    		]
    	],
    	[
    		[
    			63865,
    			63865
    		],
    		"mapped",
    		[
    			20937
    		]
    	],
    	[
    		[
    			63866,
    			63866
    		],
    		"mapped",
    		[
    			26753
    		]
    	],
    	[
    		[
    			63867,
    			63867
    		],
    		"mapped",
    		[
    			31975
    		]
    	],
    	[
    		[
    			63868,
    			63868
    		],
    		"mapped",
    		[
    			33391
    		]
    	],
    	[
    		[
    			63869,
    			63869
    		],
    		"mapped",
    		[
    			35538
    		]
    	],
    	[
    		[
    			63870,
    			63870
    		],
    		"mapped",
    		[
    			37327
    		]
    	],
    	[
    		[
    			63871,
    			63871
    		],
    		"mapped",
    		[
    			21237
    		]
    	],
    	[
    		[
    			63872,
    			63872
    		],
    		"mapped",
    		[
    			21570
    		]
    	],
    	[
    		[
    			63873,
    			63873
    		],
    		"mapped",
    		[
    			22899
    		]
    	],
    	[
    		[
    			63874,
    			63874
    		],
    		"mapped",
    		[
    			24300
    		]
    	],
    	[
    		[
    			63875,
    			63875
    		],
    		"mapped",
    		[
    			26053
    		]
    	],
    	[
    		[
    			63876,
    			63876
    		],
    		"mapped",
    		[
    			28670
    		]
    	],
    	[
    		[
    			63877,
    			63877
    		],
    		"mapped",
    		[
    			31018
    		]
    	],
    	[
    		[
    			63878,
    			63878
    		],
    		"mapped",
    		[
    			38317
    		]
    	],
    	[
    		[
    			63879,
    			63879
    		],
    		"mapped",
    		[
    			39530
    		]
    	],
    	[
    		[
    			63880,
    			63880
    		],
    		"mapped",
    		[
    			40599
    		]
    	],
    	[
    		[
    			63881,
    			63881
    		],
    		"mapped",
    		[
    			40654
    		]
    	],
    	[
    		[
    			63882,
    			63882
    		],
    		"mapped",
    		[
    			21147
    		]
    	],
    	[
    		[
    			63883,
    			63883
    		],
    		"mapped",
    		[
    			26310
    		]
    	],
    	[
    		[
    			63884,
    			63884
    		],
    		"mapped",
    		[
    			27511
    		]
    	],
    	[
    		[
    			63885,
    			63885
    		],
    		"mapped",
    		[
    			36706
    		]
    	],
    	[
    		[
    			63886,
    			63886
    		],
    		"mapped",
    		[
    			24180
    		]
    	],
    	[
    		[
    			63887,
    			63887
    		],
    		"mapped",
    		[
    			24976
    		]
    	],
    	[
    		[
    			63888,
    			63888
    		],
    		"mapped",
    		[
    			25088
    		]
    	],
    	[
    		[
    			63889,
    			63889
    		],
    		"mapped",
    		[
    			25754
    		]
    	],
    	[
    		[
    			63890,
    			63890
    		],
    		"mapped",
    		[
    			28451
    		]
    	],
    	[
    		[
    			63891,
    			63891
    		],
    		"mapped",
    		[
    			29001
    		]
    	],
    	[
    		[
    			63892,
    			63892
    		],
    		"mapped",
    		[
    			29833
    		]
    	],
    	[
    		[
    			63893,
    			63893
    		],
    		"mapped",
    		[
    			31178
    		]
    	],
    	[
    		[
    			63894,
    			63894
    		],
    		"mapped",
    		[
    			32244
    		]
    	],
    	[
    		[
    			63895,
    			63895
    		],
    		"mapped",
    		[
    			32879
    		]
    	],
    	[
    		[
    			63896,
    			63896
    		],
    		"mapped",
    		[
    			36646
    		]
    	],
    	[
    		[
    			63897,
    			63897
    		],
    		"mapped",
    		[
    			34030
    		]
    	],
    	[
    		[
    			63898,
    			63898
    		],
    		"mapped",
    		[
    			36899
    		]
    	],
    	[
    		[
    			63899,
    			63899
    		],
    		"mapped",
    		[
    			37706
    		]
    	],
    	[
    		[
    			63900,
    			63900
    		],
    		"mapped",
    		[
    			21015
    		]
    	],
    	[
    		[
    			63901,
    			63901
    		],
    		"mapped",
    		[
    			21155
    		]
    	],
    	[
    		[
    			63902,
    			63902
    		],
    		"mapped",
    		[
    			21693
    		]
    	],
    	[
    		[
    			63903,
    			63903
    		],
    		"mapped",
    		[
    			28872
    		]
    	],
    	[
    		[
    			63904,
    			63904
    		],
    		"mapped",
    		[
    			35010
    		]
    	],
    	[
    		[
    			63905,
    			63905
    		],
    		"mapped",
    		[
    			35498
    		]
    	],
    	[
    		[
    			63906,
    			63906
    		],
    		"mapped",
    		[
    			24265
    		]
    	],
    	[
    		[
    			63907,
    			63907
    		],
    		"mapped",
    		[
    			24565
    		]
    	],
    	[
    		[
    			63908,
    			63908
    		],
    		"mapped",
    		[
    			25467
    		]
    	],
    	[
    		[
    			63909,
    			63909
    		],
    		"mapped",
    		[
    			27566
    		]
    	],
    	[
    		[
    			63910,
    			63910
    		],
    		"mapped",
    		[
    			31806
    		]
    	],
    	[
    		[
    			63911,
    			63911
    		],
    		"mapped",
    		[
    			29557
    		]
    	],
    	[
    		[
    			63912,
    			63912
    		],
    		"mapped",
    		[
    			20196
    		]
    	],
    	[
    		[
    			63913,
    			63913
    		],
    		"mapped",
    		[
    			22265
    		]
    	],
    	[
    		[
    			63914,
    			63914
    		],
    		"mapped",
    		[
    			23527
    		]
    	],
    	[
    		[
    			63915,
    			63915
    		],
    		"mapped",
    		[
    			23994
    		]
    	],
    	[
    		[
    			63916,
    			63916
    		],
    		"mapped",
    		[
    			24604
    		]
    	],
    	[
    		[
    			63917,
    			63917
    		],
    		"mapped",
    		[
    			29618
    		]
    	],
    	[
    		[
    			63918,
    			63918
    		],
    		"mapped",
    		[
    			29801
    		]
    	],
    	[
    		[
    			63919,
    			63919
    		],
    		"mapped",
    		[
    			32666
    		]
    	],
    	[
    		[
    			63920,
    			63920
    		],
    		"mapped",
    		[
    			32838
    		]
    	],
    	[
    		[
    			63921,
    			63921
    		],
    		"mapped",
    		[
    			37428
    		]
    	],
    	[
    		[
    			63922,
    			63922
    		],
    		"mapped",
    		[
    			38646
    		]
    	],
    	[
    		[
    			63923,
    			63923
    		],
    		"mapped",
    		[
    			38728
    		]
    	],
    	[
    		[
    			63924,
    			63924
    		],
    		"mapped",
    		[
    			38936
    		]
    	],
    	[
    		[
    			63925,
    			63925
    		],
    		"mapped",
    		[
    			20363
    		]
    	],
    	[
    		[
    			63926,
    			63926
    		],
    		"mapped",
    		[
    			31150
    		]
    	],
    	[
    		[
    			63927,
    			63927
    		],
    		"mapped",
    		[
    			37300
    		]
    	],
    	[
    		[
    			63928,
    			63928
    		],
    		"mapped",
    		[
    			38584
    		]
    	],
    	[
    		[
    			63929,
    			63929
    		],
    		"mapped",
    		[
    			24801
    		]
    	],
    	[
    		[
    			63930,
    			63930
    		],
    		"mapped",
    		[
    			20102
    		]
    	],
    	[
    		[
    			63931,
    			63931
    		],
    		"mapped",
    		[
    			20698
    		]
    	],
    	[
    		[
    			63932,
    			63932
    		],
    		"mapped",
    		[
    			23534
    		]
    	],
    	[
    		[
    			63933,
    			63933
    		],
    		"mapped",
    		[
    			23615
    		]
    	],
    	[
    		[
    			63934,
    			63934
    		],
    		"mapped",
    		[
    			26009
    		]
    	],
    	[
    		[
    			63935,
    			63935
    		],
    		"mapped",
    		[
    			27138
    		]
    	],
    	[
    		[
    			63936,
    			63936
    		],
    		"mapped",
    		[
    			29134
    		]
    	],
    	[
    		[
    			63937,
    			63937
    		],
    		"mapped",
    		[
    			30274
    		]
    	],
    	[
    		[
    			63938,
    			63938
    		],
    		"mapped",
    		[
    			34044
    		]
    	],
    	[
    		[
    			63939,
    			63939
    		],
    		"mapped",
    		[
    			36988
    		]
    	],
    	[
    		[
    			63940,
    			63940
    		],
    		"mapped",
    		[
    			40845
    		]
    	],
    	[
    		[
    			63941,
    			63941
    		],
    		"mapped",
    		[
    			26248
    		]
    	],
    	[
    		[
    			63942,
    			63942
    		],
    		"mapped",
    		[
    			38446
    		]
    	],
    	[
    		[
    			63943,
    			63943
    		],
    		"mapped",
    		[
    			21129
    		]
    	],
    	[
    		[
    			63944,
    			63944
    		],
    		"mapped",
    		[
    			26491
    		]
    	],
    	[
    		[
    			63945,
    			63945
    		],
    		"mapped",
    		[
    			26611
    		]
    	],
    	[
    		[
    			63946,
    			63946
    		],
    		"mapped",
    		[
    			27969
    		]
    	],
    	[
    		[
    			63947,
    			63947
    		],
    		"mapped",
    		[
    			28316
    		]
    	],
    	[
    		[
    			63948,
    			63948
    		],
    		"mapped",
    		[
    			29705
    		]
    	],
    	[
    		[
    			63949,
    			63949
    		],
    		"mapped",
    		[
    			30041
    		]
    	],
    	[
    		[
    			63950,
    			63950
    		],
    		"mapped",
    		[
    			30827
    		]
    	],
    	[
    		[
    			63951,
    			63951
    		],
    		"mapped",
    		[
    			32016
    		]
    	],
    	[
    		[
    			63952,
    			63952
    		],
    		"mapped",
    		[
    			39006
    		]
    	],
    	[
    		[
    			63953,
    			63953
    		],
    		"mapped",
    		[
    			20845
    		]
    	],
    	[
    		[
    			63954,
    			63954
    		],
    		"mapped",
    		[
    			25134
    		]
    	],
    	[
    		[
    			63955,
    			63955
    		],
    		"mapped",
    		[
    			38520
    		]
    	],
    	[
    		[
    			63956,
    			63956
    		],
    		"mapped",
    		[
    			20523
    		]
    	],
    	[
    		[
    			63957,
    			63957
    		],
    		"mapped",
    		[
    			23833
    		]
    	],
    	[
    		[
    			63958,
    			63958
    		],
    		"mapped",
    		[
    			28138
    		]
    	],
    	[
    		[
    			63959,
    			63959
    		],
    		"mapped",
    		[
    			36650
    		]
    	],
    	[
    		[
    			63960,
    			63960
    		],
    		"mapped",
    		[
    			24459
    		]
    	],
    	[
    		[
    			63961,
    			63961
    		],
    		"mapped",
    		[
    			24900
    		]
    	],
    	[
    		[
    			63962,
    			63962
    		],
    		"mapped",
    		[
    			26647
    		]
    	],
    	[
    		[
    			63963,
    			63963
    		],
    		"mapped",
    		[
    			29575
    		]
    	],
    	[
    		[
    			63964,
    			63964
    		],
    		"mapped",
    		[
    			38534
    		]
    	],
    	[
    		[
    			63965,
    			63965
    		],
    		"mapped",
    		[
    			21033
    		]
    	],
    	[
    		[
    			63966,
    			63966
    		],
    		"mapped",
    		[
    			21519
    		]
    	],
    	[
    		[
    			63967,
    			63967
    		],
    		"mapped",
    		[
    			23653
    		]
    	],
    	[
    		[
    			63968,
    			63968
    		],
    		"mapped",
    		[
    			26131
    		]
    	],
    	[
    		[
    			63969,
    			63969
    		],
    		"mapped",
    		[
    			26446
    		]
    	],
    	[
    		[
    			63970,
    			63970
    		],
    		"mapped",
    		[
    			26792
    		]
    	],
    	[
    		[
    			63971,
    			63971
    		],
    		"mapped",
    		[
    			27877
    		]
    	],
    	[
    		[
    			63972,
    			63972
    		],
    		"mapped",
    		[
    			29702
    		]
    	],
    	[
    		[
    			63973,
    			63973
    		],
    		"mapped",
    		[
    			30178
    		]
    	],
    	[
    		[
    			63974,
    			63974
    		],
    		"mapped",
    		[
    			32633
    		]
    	],
    	[
    		[
    			63975,
    			63975
    		],
    		"mapped",
    		[
    			35023
    		]
    	],
    	[
    		[
    			63976,
    			63976
    		],
    		"mapped",
    		[
    			35041
    		]
    	],
    	[
    		[
    			63977,
    			63977
    		],
    		"mapped",
    		[
    			37324
    		]
    	],
    	[
    		[
    			63978,
    			63978
    		],
    		"mapped",
    		[
    			38626
    		]
    	],
    	[
    		[
    			63979,
    			63979
    		],
    		"mapped",
    		[
    			21311
    		]
    	],
    	[
    		[
    			63980,
    			63980
    		],
    		"mapped",
    		[
    			28346
    		]
    	],
    	[
    		[
    			63981,
    			63981
    		],
    		"mapped",
    		[
    			21533
    		]
    	],
    	[
    		[
    			63982,
    			63982
    		],
    		"mapped",
    		[
    			29136
    		]
    	],
    	[
    		[
    			63983,
    			63983
    		],
    		"mapped",
    		[
    			29848
    		]
    	],
    	[
    		[
    			63984,
    			63984
    		],
    		"mapped",
    		[
    			34298
    		]
    	],
    	[
    		[
    			63985,
    			63985
    		],
    		"mapped",
    		[
    			38563
    		]
    	],
    	[
    		[
    			63986,
    			63986
    		],
    		"mapped",
    		[
    			40023
    		]
    	],
    	[
    		[
    			63987,
    			63987
    		],
    		"mapped",
    		[
    			40607
    		]
    	],
    	[
    		[
    			63988,
    			63988
    		],
    		"mapped",
    		[
    			26519
    		]
    	],
    	[
    		[
    			63989,
    			63989
    		],
    		"mapped",
    		[
    			28107
    		]
    	],
    	[
    		[
    			63990,
    			63990
    		],
    		"mapped",
    		[
    			33256
    		]
    	],
    	[
    		[
    			63991,
    			63991
    		],
    		"mapped",
    		[
    			31435
    		]
    	],
    	[
    		[
    			63992,
    			63992
    		],
    		"mapped",
    		[
    			31520
    		]
    	],
    	[
    		[
    			63993,
    			63993
    		],
    		"mapped",
    		[
    			31890
    		]
    	],
    	[
    		[
    			63994,
    			63994
    		],
    		"mapped",
    		[
    			29376
    		]
    	],
    	[
    		[
    			63995,
    			63995
    		],
    		"mapped",
    		[
    			28825
    		]
    	],
    	[
    		[
    			63996,
    			63996
    		],
    		"mapped",
    		[
    			35672
    		]
    	],
    	[
    		[
    			63997,
    			63997
    		],
    		"mapped",
    		[
    			20160
    		]
    	],
    	[
    		[
    			63998,
    			63998
    		],
    		"mapped",
    		[
    			33590
    		]
    	],
    	[
    		[
    			63999,
    			63999
    		],
    		"mapped",
    		[
    			21050
    		]
    	],
    	[
    		[
    			64000,
    			64000
    		],
    		"mapped",
    		[
    			20999
    		]
    	],
    	[
    		[
    			64001,
    			64001
    		],
    		"mapped",
    		[
    			24230
    		]
    	],
    	[
    		[
    			64002,
    			64002
    		],
    		"mapped",
    		[
    			25299
    		]
    	],
    	[
    		[
    			64003,
    			64003
    		],
    		"mapped",
    		[
    			31958
    		]
    	],
    	[
    		[
    			64004,
    			64004
    		],
    		"mapped",
    		[
    			23429
    		]
    	],
    	[
    		[
    			64005,
    			64005
    		],
    		"mapped",
    		[
    			27934
    		]
    	],
    	[
    		[
    			64006,
    			64006
    		],
    		"mapped",
    		[
    			26292
    		]
    	],
    	[
    		[
    			64007,
    			64007
    		],
    		"mapped",
    		[
    			36667
    		]
    	],
    	[
    		[
    			64008,
    			64008
    		],
    		"mapped",
    		[
    			34892
    		]
    	],
    	[
    		[
    			64009,
    			64009
    		],
    		"mapped",
    		[
    			38477
    		]
    	],
    	[
    		[
    			64010,
    			64010
    		],
    		"mapped",
    		[
    			35211
    		]
    	],
    	[
    		[
    			64011,
    			64011
    		],
    		"mapped",
    		[
    			24275
    		]
    	],
    	[
    		[
    			64012,
    			64012
    		],
    		"mapped",
    		[
    			20800
    		]
    	],
    	[
    		[
    			64013,
    			64013
    		],
    		"mapped",
    		[
    			21952
    		]
    	],
    	[
    		[
    			64014,
    			64015
    		],
    		"valid"
    	],
    	[
    		[
    			64016,
    			64016
    		],
    		"mapped",
    		[
    			22618
    		]
    	],
    	[
    		[
    			64017,
    			64017
    		],
    		"valid"
    	],
    	[
    		[
    			64018,
    			64018
    		],
    		"mapped",
    		[
    			26228
    		]
    	],
    	[
    		[
    			64019,
    			64020
    		],
    		"valid"
    	],
    	[
    		[
    			64021,
    			64021
    		],
    		"mapped",
    		[
    			20958
    		]
    	],
    	[
    		[
    			64022,
    			64022
    		],
    		"mapped",
    		[
    			29482
    		]
    	],
    	[
    		[
    			64023,
    			64023
    		],
    		"mapped",
    		[
    			30410
    		]
    	],
    	[
    		[
    			64024,
    			64024
    		],
    		"mapped",
    		[
    			31036
    		]
    	],
    	[
    		[
    			64025,
    			64025
    		],
    		"mapped",
    		[
    			31070
    		]
    	],
    	[
    		[
    			64026,
    			64026
    		],
    		"mapped",
    		[
    			31077
    		]
    	],
    	[
    		[
    			64027,
    			64027
    		],
    		"mapped",
    		[
    			31119
    		]
    	],
    	[
    		[
    			64028,
    			64028
    		],
    		"mapped",
    		[
    			38742
    		]
    	],
    	[
    		[
    			64029,
    			64029
    		],
    		"mapped",
    		[
    			31934
    		]
    	],
    	[
    		[
    			64030,
    			64030
    		],
    		"mapped",
    		[
    			32701
    		]
    	],
    	[
    		[
    			64031,
    			64031
    		],
    		"valid"
    	],
    	[
    		[
    			64032,
    			64032
    		],
    		"mapped",
    		[
    			34322
    		]
    	],
    	[
    		[
    			64033,
    			64033
    		],
    		"valid"
    	],
    	[
    		[
    			64034,
    			64034
    		],
    		"mapped",
    		[
    			35576
    		]
    	],
    	[
    		[
    			64035,
    			64036
    		],
    		"valid"
    	],
    	[
    		[
    			64037,
    			64037
    		],
    		"mapped",
    		[
    			36920
    		]
    	],
    	[
    		[
    			64038,
    			64038
    		],
    		"mapped",
    		[
    			37117
    		]
    	],
    	[
    		[
    			64039,
    			64041
    		],
    		"valid"
    	],
    	[
    		[
    			64042,
    			64042
    		],
    		"mapped",
    		[
    			39151
    		]
    	],
    	[
    		[
    			64043,
    			64043
    		],
    		"mapped",
    		[
    			39164
    		]
    	],
    	[
    		[
    			64044,
    			64044
    		],
    		"mapped",
    		[
    			39208
    		]
    	],
    	[
    		[
    			64045,
    			64045
    		],
    		"mapped",
    		[
    			40372
    		]
    	],
    	[
    		[
    			64046,
    			64046
    		],
    		"mapped",
    		[
    			37086
    		]
    	],
    	[
    		[
    			64047,
    			64047
    		],
    		"mapped",
    		[
    			38583
    		]
    	],
    	[
    		[
    			64048,
    			64048
    		],
    		"mapped",
    		[
    			20398
    		]
    	],
    	[
    		[
    			64049,
    			64049
    		],
    		"mapped",
    		[
    			20711
    		]
    	],
    	[
    		[
    			64050,
    			64050
    		],
    		"mapped",
    		[
    			20813
    		]
    	],
    	[
    		[
    			64051,
    			64051
    		],
    		"mapped",
    		[
    			21193
    		]
    	],
    	[
    		[
    			64052,
    			64052
    		],
    		"mapped",
    		[
    			21220
    		]
    	],
    	[
    		[
    			64053,
    			64053
    		],
    		"mapped",
    		[
    			21329
    		]
    	],
    	[
    		[
    			64054,
    			64054
    		],
    		"mapped",
    		[
    			21917
    		]
    	],
    	[
    		[
    			64055,
    			64055
    		],
    		"mapped",
    		[
    			22022
    		]
    	],
    	[
    		[
    			64056,
    			64056
    		],
    		"mapped",
    		[
    			22120
    		]
    	],
    	[
    		[
    			64057,
    			64057
    		],
    		"mapped",
    		[
    			22592
    		]
    	],
    	[
    		[
    			64058,
    			64058
    		],
    		"mapped",
    		[
    			22696
    		]
    	],
    	[
    		[
    			64059,
    			64059
    		],
    		"mapped",
    		[
    			23652
    		]
    	],
    	[
    		[
    			64060,
    			64060
    		],
    		"mapped",
    		[
    			23662
    		]
    	],
    	[
    		[
    			64061,
    			64061
    		],
    		"mapped",
    		[
    			24724
    		]
    	],
    	[
    		[
    			64062,
    			64062
    		],
    		"mapped",
    		[
    			24936
    		]
    	],
    	[
    		[
    			64063,
    			64063
    		],
    		"mapped",
    		[
    			24974
    		]
    	],
    	[
    		[
    			64064,
    			64064
    		],
    		"mapped",
    		[
    			25074
    		]
    	],
    	[
    		[
    			64065,
    			64065
    		],
    		"mapped",
    		[
    			25935
    		]
    	],
    	[
    		[
    			64066,
    			64066
    		],
    		"mapped",
    		[
    			26082
    		]
    	],
    	[
    		[
    			64067,
    			64067
    		],
    		"mapped",
    		[
    			26257
    		]
    	],
    	[
    		[
    			64068,
    			64068
    		],
    		"mapped",
    		[
    			26757
    		]
    	],
    	[
    		[
    			64069,
    			64069
    		],
    		"mapped",
    		[
    			28023
    		]
    	],
    	[
    		[
    			64070,
    			64070
    		],
    		"mapped",
    		[
    			28186
    		]
    	],
    	[
    		[
    			64071,
    			64071
    		],
    		"mapped",
    		[
    			28450
    		]
    	],
    	[
    		[
    			64072,
    			64072
    		],
    		"mapped",
    		[
    			29038
    		]
    	],
    	[
    		[
    			64073,
    			64073
    		],
    		"mapped",
    		[
    			29227
    		]
    	],
    	[
    		[
    			64074,
    			64074
    		],
    		"mapped",
    		[
    			29730
    		]
    	],
    	[
    		[
    			64075,
    			64075
    		],
    		"mapped",
    		[
    			30865
    		]
    	],
    	[
    		[
    			64076,
    			64076
    		],
    		"mapped",
    		[
    			31038
    		]
    	],
    	[
    		[
    			64077,
    			64077
    		],
    		"mapped",
    		[
    			31049
    		]
    	],
    	[
    		[
    			64078,
    			64078
    		],
    		"mapped",
    		[
    			31048
    		]
    	],
    	[
    		[
    			64079,
    			64079
    		],
    		"mapped",
    		[
    			31056
    		]
    	],
    	[
    		[
    			64080,
    			64080
    		],
    		"mapped",
    		[
    			31062
    		]
    	],
    	[
    		[
    			64081,
    			64081
    		],
    		"mapped",
    		[
    			31069
    		]
    	],
    	[
    		[
    			64082,
    			64082
    		],
    		"mapped",
    		[
    			31117
    		]
    	],
    	[
    		[
    			64083,
    			64083
    		],
    		"mapped",
    		[
    			31118
    		]
    	],
    	[
    		[
    			64084,
    			64084
    		],
    		"mapped",
    		[
    			31296
    		]
    	],
    	[
    		[
    			64085,
    			64085
    		],
    		"mapped",
    		[
    			31361
    		]
    	],
    	[
    		[
    			64086,
    			64086
    		],
    		"mapped",
    		[
    			31680
    		]
    	],
    	[
    		[
    			64087,
    			64087
    		],
    		"mapped",
    		[
    			32244
    		]
    	],
    	[
    		[
    			64088,
    			64088
    		],
    		"mapped",
    		[
    			32265
    		]
    	],
    	[
    		[
    			64089,
    			64089
    		],
    		"mapped",
    		[
    			32321
    		]
    	],
    	[
    		[
    			64090,
    			64090
    		],
    		"mapped",
    		[
    			32626
    		]
    	],
    	[
    		[
    			64091,
    			64091
    		],
    		"mapped",
    		[
    			32773
    		]
    	],
    	[
    		[
    			64092,
    			64092
    		],
    		"mapped",
    		[
    			33261
    		]
    	],
    	[
    		[
    			64093,
    			64094
    		],
    		"mapped",
    		[
    			33401
    		]
    	],
    	[
    		[
    			64095,
    			64095
    		],
    		"mapped",
    		[
    			33879
    		]
    	],
    	[
    		[
    			64096,
    			64096
    		],
    		"mapped",
    		[
    			35088
    		]
    	],
    	[
    		[
    			64097,
    			64097
    		],
    		"mapped",
    		[
    			35222
    		]
    	],
    	[
    		[
    			64098,
    			64098
    		],
    		"mapped",
    		[
    			35585
    		]
    	],
    	[
    		[
    			64099,
    			64099
    		],
    		"mapped",
    		[
    			35641
    		]
    	],
    	[
    		[
    			64100,
    			64100
    		],
    		"mapped",
    		[
    			36051
    		]
    	],
    	[
    		[
    			64101,
    			64101
    		],
    		"mapped",
    		[
    			36104
    		]
    	],
    	[
    		[
    			64102,
    			64102
    		],
    		"mapped",
    		[
    			36790
    		]
    	],
    	[
    		[
    			64103,
    			64103
    		],
    		"mapped",
    		[
    			36920
    		]
    	],
    	[
    		[
    			64104,
    			64104
    		],
    		"mapped",
    		[
    			38627
    		]
    	],
    	[
    		[
    			64105,
    			64105
    		],
    		"mapped",
    		[
    			38911
    		]
    	],
    	[
    		[
    			64106,
    			64106
    		],
    		"mapped",
    		[
    			38971
    		]
    	],
    	[
    		[
    			64107,
    			64107
    		],
    		"mapped",
    		[
    			24693
    		]
    	],
    	[
    		[
    			64108,
    			64108
    		],
    		"mapped",
    		[
    			148206
    		]
    	],
    	[
    		[
    			64109,
    			64109
    		],
    		"mapped",
    		[
    			33304
    		]
    	],
    	[
    		[
    			64110,
    			64111
    		],
    		"disallowed"
    	],
    	[
    		[
    			64112,
    			64112
    		],
    		"mapped",
    		[
    			20006
    		]
    	],
    	[
    		[
    			64113,
    			64113
    		],
    		"mapped",
    		[
    			20917
    		]
    	],
    	[
    		[
    			64114,
    			64114
    		],
    		"mapped",
    		[
    			20840
    		]
    	],
    	[
    		[
    			64115,
    			64115
    		],
    		"mapped",
    		[
    			20352
    		]
    	],
    	[
    		[
    			64116,
    			64116
    		],
    		"mapped",
    		[
    			20805
    		]
    	],
    	[
    		[
    			64117,
    			64117
    		],
    		"mapped",
    		[
    			20864
    		]
    	],
    	[
    		[
    			64118,
    			64118
    		],
    		"mapped",
    		[
    			21191
    		]
    	],
    	[
    		[
    			64119,
    			64119
    		],
    		"mapped",
    		[
    			21242
    		]
    	],
    	[
    		[
    			64120,
    			64120
    		],
    		"mapped",
    		[
    			21917
    		]
    	],
    	[
    		[
    			64121,
    			64121
    		],
    		"mapped",
    		[
    			21845
    		]
    	],
    	[
    		[
    			64122,
    			64122
    		],
    		"mapped",
    		[
    			21913
    		]
    	],
    	[
    		[
    			64123,
    			64123
    		],
    		"mapped",
    		[
    			21986
    		]
    	],
    	[
    		[
    			64124,
    			64124
    		],
    		"mapped",
    		[
    			22618
    		]
    	],
    	[
    		[
    			64125,
    			64125
    		],
    		"mapped",
    		[
    			22707
    		]
    	],
    	[
    		[
    			64126,
    			64126
    		],
    		"mapped",
    		[
    			22852
    		]
    	],
    	[
    		[
    			64127,
    			64127
    		],
    		"mapped",
    		[
    			22868
    		]
    	],
    	[
    		[
    			64128,
    			64128
    		],
    		"mapped",
    		[
    			23138
    		]
    	],
    	[
    		[
    			64129,
    			64129
    		],
    		"mapped",
    		[
    			23336
    		]
    	],
    	[
    		[
    			64130,
    			64130
    		],
    		"mapped",
    		[
    			24274
    		]
    	],
    	[
    		[
    			64131,
    			64131
    		],
    		"mapped",
    		[
    			24281
    		]
    	],
    	[
    		[
    			64132,
    			64132
    		],
    		"mapped",
    		[
    			24425
    		]
    	],
    	[
    		[
    			64133,
    			64133
    		],
    		"mapped",
    		[
    			24493
    		]
    	],
    	[
    		[
    			64134,
    			64134
    		],
    		"mapped",
    		[
    			24792
    		]
    	],
    	[
    		[
    			64135,
    			64135
    		],
    		"mapped",
    		[
    			24910
    		]
    	],
    	[
    		[
    			64136,
    			64136
    		],
    		"mapped",
    		[
    			24840
    		]
    	],
    	[
    		[
    			64137,
    			64137
    		],
    		"mapped",
    		[
    			24974
    		]
    	],
    	[
    		[
    			64138,
    			64138
    		],
    		"mapped",
    		[
    			24928
    		]
    	],
    	[
    		[
    			64139,
    			64139
    		],
    		"mapped",
    		[
    			25074
    		]
    	],
    	[
    		[
    			64140,
    			64140
    		],
    		"mapped",
    		[
    			25140
    		]
    	],
    	[
    		[
    			64141,
    			64141
    		],
    		"mapped",
    		[
    			25540
    		]
    	],
    	[
    		[
    			64142,
    			64142
    		],
    		"mapped",
    		[
    			25628
    		]
    	],
    	[
    		[
    			64143,
    			64143
    		],
    		"mapped",
    		[
    			25682
    		]
    	],
    	[
    		[
    			64144,
    			64144
    		],
    		"mapped",
    		[
    			25942
    		]
    	],
    	[
    		[
    			64145,
    			64145
    		],
    		"mapped",
    		[
    			26228
    		]
    	],
    	[
    		[
    			64146,
    			64146
    		],
    		"mapped",
    		[
    			26391
    		]
    	],
    	[
    		[
    			64147,
    			64147
    		],
    		"mapped",
    		[
    			26395
    		]
    	],
    	[
    		[
    			64148,
    			64148
    		],
    		"mapped",
    		[
    			26454
    		]
    	],
    	[
    		[
    			64149,
    			64149
    		],
    		"mapped",
    		[
    			27513
    		]
    	],
    	[
    		[
    			64150,
    			64150
    		],
    		"mapped",
    		[
    			27578
    		]
    	],
    	[
    		[
    			64151,
    			64151
    		],
    		"mapped",
    		[
    			27969
    		]
    	],
    	[
    		[
    			64152,
    			64152
    		],
    		"mapped",
    		[
    			28379
    		]
    	],
    	[
    		[
    			64153,
    			64153
    		],
    		"mapped",
    		[
    			28363
    		]
    	],
    	[
    		[
    			64154,
    			64154
    		],
    		"mapped",
    		[
    			28450
    		]
    	],
    	[
    		[
    			64155,
    			64155
    		],
    		"mapped",
    		[
    			28702
    		]
    	],
    	[
    		[
    			64156,
    			64156
    		],
    		"mapped",
    		[
    			29038
    		]
    	],
    	[
    		[
    			64157,
    			64157
    		],
    		"mapped",
    		[
    			30631
    		]
    	],
    	[
    		[
    			64158,
    			64158
    		],
    		"mapped",
    		[
    			29237
    		]
    	],
    	[
    		[
    			64159,
    			64159
    		],
    		"mapped",
    		[
    			29359
    		]
    	],
    	[
    		[
    			64160,
    			64160
    		],
    		"mapped",
    		[
    			29482
    		]
    	],
    	[
    		[
    			64161,
    			64161
    		],
    		"mapped",
    		[
    			29809
    		]
    	],
    	[
    		[
    			64162,
    			64162
    		],
    		"mapped",
    		[
    			29958
    		]
    	],
    	[
    		[
    			64163,
    			64163
    		],
    		"mapped",
    		[
    			30011
    		]
    	],
    	[
    		[
    			64164,
    			64164
    		],
    		"mapped",
    		[
    			30237
    		]
    	],
    	[
    		[
    			64165,
    			64165
    		],
    		"mapped",
    		[
    			30239
    		]
    	],
    	[
    		[
    			64166,
    			64166
    		],
    		"mapped",
    		[
    			30410
    		]
    	],
    	[
    		[
    			64167,
    			64167
    		],
    		"mapped",
    		[
    			30427
    		]
    	],
    	[
    		[
    			64168,
    			64168
    		],
    		"mapped",
    		[
    			30452
    		]
    	],
    	[
    		[
    			64169,
    			64169
    		],
    		"mapped",
    		[
    			30538
    		]
    	],
    	[
    		[
    			64170,
    			64170
    		],
    		"mapped",
    		[
    			30528
    		]
    	],
    	[
    		[
    			64171,
    			64171
    		],
    		"mapped",
    		[
    			30924
    		]
    	],
    	[
    		[
    			64172,
    			64172
    		],
    		"mapped",
    		[
    			31409
    		]
    	],
    	[
    		[
    			64173,
    			64173
    		],
    		"mapped",
    		[
    			31680
    		]
    	],
    	[
    		[
    			64174,
    			64174
    		],
    		"mapped",
    		[
    			31867
    		]
    	],
    	[
    		[
    			64175,
    			64175
    		],
    		"mapped",
    		[
    			32091
    		]
    	],
    	[
    		[
    			64176,
    			64176
    		],
    		"mapped",
    		[
    			32244
    		]
    	],
    	[
    		[
    			64177,
    			64177
    		],
    		"mapped",
    		[
    			32574
    		]
    	],
    	[
    		[
    			64178,
    			64178
    		],
    		"mapped",
    		[
    			32773
    		]
    	],
    	[
    		[
    			64179,
    			64179
    		],
    		"mapped",
    		[
    			33618
    		]
    	],
    	[
    		[
    			64180,
    			64180
    		],
    		"mapped",
    		[
    			33775
    		]
    	],
    	[
    		[
    			64181,
    			64181
    		],
    		"mapped",
    		[
    			34681
    		]
    	],
    	[
    		[
    			64182,
    			64182
    		],
    		"mapped",
    		[
    			35137
    		]
    	],
    	[
    		[
    			64183,
    			64183
    		],
    		"mapped",
    		[
    			35206
    		]
    	],
    	[
    		[
    			64184,
    			64184
    		],
    		"mapped",
    		[
    			35222
    		]
    	],
    	[
    		[
    			64185,
    			64185
    		],
    		"mapped",
    		[
    			35519
    		]
    	],
    	[
    		[
    			64186,
    			64186
    		],
    		"mapped",
    		[
    			35576
    		]
    	],
    	[
    		[
    			64187,
    			64187
    		],
    		"mapped",
    		[
    			35531
    		]
    	],
    	[
    		[
    			64188,
    			64188
    		],
    		"mapped",
    		[
    			35585
    		]
    	],
    	[
    		[
    			64189,
    			64189
    		],
    		"mapped",
    		[
    			35582
    		]
    	],
    	[
    		[
    			64190,
    			64190
    		],
    		"mapped",
    		[
    			35565
    		]
    	],
    	[
    		[
    			64191,
    			64191
    		],
    		"mapped",
    		[
    			35641
    		]
    	],
    	[
    		[
    			64192,
    			64192
    		],
    		"mapped",
    		[
    			35722
    		]
    	],
    	[
    		[
    			64193,
    			64193
    		],
    		"mapped",
    		[
    			36104
    		]
    	],
    	[
    		[
    			64194,
    			64194
    		],
    		"mapped",
    		[
    			36664
    		]
    	],
    	[
    		[
    			64195,
    			64195
    		],
    		"mapped",
    		[
    			36978
    		]
    	],
    	[
    		[
    			64196,
    			64196
    		],
    		"mapped",
    		[
    			37273
    		]
    	],
    	[
    		[
    			64197,
    			64197
    		],
    		"mapped",
    		[
    			37494
    		]
    	],
    	[
    		[
    			64198,
    			64198
    		],
    		"mapped",
    		[
    			38524
    		]
    	],
    	[
    		[
    			64199,
    			64199
    		],
    		"mapped",
    		[
    			38627
    		]
    	],
    	[
    		[
    			64200,
    			64200
    		],
    		"mapped",
    		[
    			38742
    		]
    	],
    	[
    		[
    			64201,
    			64201
    		],
    		"mapped",
    		[
    			38875
    		]
    	],
    	[
    		[
    			64202,
    			64202
    		],
    		"mapped",
    		[
    			38911
    		]
    	],
    	[
    		[
    			64203,
    			64203
    		],
    		"mapped",
    		[
    			38923
    		]
    	],
    	[
    		[
    			64204,
    			64204
    		],
    		"mapped",
    		[
    			38971
    		]
    	],
    	[
    		[
    			64205,
    			64205
    		],
    		"mapped",
    		[
    			39698
    		]
    	],
    	[
    		[
    			64206,
    			64206
    		],
    		"mapped",
    		[
    			40860
    		]
    	],
    	[
    		[
    			64207,
    			64207
    		],
    		"mapped",
    		[
    			141386
    		]
    	],
    	[
    		[
    			64208,
    			64208
    		],
    		"mapped",
    		[
    			141380
    		]
    	],
    	[
    		[
    			64209,
    			64209
    		],
    		"mapped",
    		[
    			144341
    		]
    	],
    	[
    		[
    			64210,
    			64210
    		],
    		"mapped",
    		[
    			15261
    		]
    	],
    	[
    		[
    			64211,
    			64211
    		],
    		"mapped",
    		[
    			16408
    		]
    	],
    	[
    		[
    			64212,
    			64212
    		],
    		"mapped",
    		[
    			16441
    		]
    	],
    	[
    		[
    			64213,
    			64213
    		],
    		"mapped",
    		[
    			152137
    		]
    	],
    	[
    		[
    			64214,
    			64214
    		],
    		"mapped",
    		[
    			154832
    		]
    	],
    	[
    		[
    			64215,
    			64215
    		],
    		"mapped",
    		[
    			163539
    		]
    	],
    	[
    		[
    			64216,
    			64216
    		],
    		"mapped",
    		[
    			40771
    		]
    	],
    	[
    		[
    			64217,
    			64217
    		],
    		"mapped",
    		[
    			40846
    		]
    	],
    	[
    		[
    			64218,
    			64255
    		],
    		"disallowed"
    	],
    	[
    		[
    			64256,
    			64256
    		],
    		"mapped",
    		[
    			102,
    			102
    		]
    	],
    	[
    		[
    			64257,
    			64257
    		],
    		"mapped",
    		[
    			102,
    			105
    		]
    	],
    	[
    		[
    			64258,
    			64258
    		],
    		"mapped",
    		[
    			102,
    			108
    		]
    	],
    	[
    		[
    			64259,
    			64259
    		],
    		"mapped",
    		[
    			102,
    			102,
    			105
    		]
    	],
    	[
    		[
    			64260,
    			64260
    		],
    		"mapped",
    		[
    			102,
    			102,
    			108
    		]
    	],
    	[
    		[
    			64261,
    			64262
    		],
    		"mapped",
    		[
    			115,
    			116
    		]
    	],
    	[
    		[
    			64263,
    			64274
    		],
    		"disallowed"
    	],
    	[
    		[
    			64275,
    			64275
    		],
    		"mapped",
    		[
    			1396,
    			1398
    		]
    	],
    	[
    		[
    			64276,
    			64276
    		],
    		"mapped",
    		[
    			1396,
    			1381
    		]
    	],
    	[
    		[
    			64277,
    			64277
    		],
    		"mapped",
    		[
    			1396,
    			1387
    		]
    	],
    	[
    		[
    			64278,
    			64278
    		],
    		"mapped",
    		[
    			1406,
    			1398
    		]
    	],
    	[
    		[
    			64279,
    			64279
    		],
    		"mapped",
    		[
    			1396,
    			1389
    		]
    	],
    	[
    		[
    			64280,
    			64284
    		],
    		"disallowed"
    	],
    	[
    		[
    			64285,
    			64285
    		],
    		"mapped",
    		[
    			1497,
    			1460
    		]
    	],
    	[
    		[
    			64286,
    			64286
    		],
    		"valid"
    	],
    	[
    		[
    			64287,
    			64287
    		],
    		"mapped",
    		[
    			1522,
    			1463
    		]
    	],
    	[
    		[
    			64288,
    			64288
    		],
    		"mapped",
    		[
    			1506
    		]
    	],
    	[
    		[
    			64289,
    			64289
    		],
    		"mapped",
    		[
    			1488
    		]
    	],
    	[
    		[
    			64290,
    			64290
    		],
    		"mapped",
    		[
    			1491
    		]
    	],
    	[
    		[
    			64291,
    			64291
    		],
    		"mapped",
    		[
    			1492
    		]
    	],
    	[
    		[
    			64292,
    			64292
    		],
    		"mapped",
    		[
    			1499
    		]
    	],
    	[
    		[
    			64293,
    			64293
    		],
    		"mapped",
    		[
    			1500
    		]
    	],
    	[
    		[
    			64294,
    			64294
    		],
    		"mapped",
    		[
    			1501
    		]
    	],
    	[
    		[
    			64295,
    			64295
    		],
    		"mapped",
    		[
    			1512
    		]
    	],
    	[
    		[
    			64296,
    			64296
    		],
    		"mapped",
    		[
    			1514
    		]
    	],
    	[
    		[
    			64297,
    			64297
    		],
    		"disallowed_STD3_mapped",
    		[
    			43
    		]
    	],
    	[
    		[
    			64298,
    			64298
    		],
    		"mapped",
    		[
    			1513,
    			1473
    		]
    	],
    	[
    		[
    			64299,
    			64299
    		],
    		"mapped",
    		[
    			1513,
    			1474
    		]
    	],
    	[
    		[
    			64300,
    			64300
    		],
    		"mapped",
    		[
    			1513,
    			1468,
    			1473
    		]
    	],
    	[
    		[
    			64301,
    			64301
    		],
    		"mapped",
    		[
    			1513,
    			1468,
    			1474
    		]
    	],
    	[
    		[
    			64302,
    			64302
    		],
    		"mapped",
    		[
    			1488,
    			1463
    		]
    	],
    	[
    		[
    			64303,
    			64303
    		],
    		"mapped",
    		[
    			1488,
    			1464
    		]
    	],
    	[
    		[
    			64304,
    			64304
    		],
    		"mapped",
    		[
    			1488,
    			1468
    		]
    	],
    	[
    		[
    			64305,
    			64305
    		],
    		"mapped",
    		[
    			1489,
    			1468
    		]
    	],
    	[
    		[
    			64306,
    			64306
    		],
    		"mapped",
    		[
    			1490,
    			1468
    		]
    	],
    	[
    		[
    			64307,
    			64307
    		],
    		"mapped",
    		[
    			1491,
    			1468
    		]
    	],
    	[
    		[
    			64308,
    			64308
    		],
    		"mapped",
    		[
    			1492,
    			1468
    		]
    	],
    	[
    		[
    			64309,
    			64309
    		],
    		"mapped",
    		[
    			1493,
    			1468
    		]
    	],
    	[
    		[
    			64310,
    			64310
    		],
    		"mapped",
    		[
    			1494,
    			1468
    		]
    	],
    	[
    		[
    			64311,
    			64311
    		],
    		"disallowed"
    	],
    	[
    		[
    			64312,
    			64312
    		],
    		"mapped",
    		[
    			1496,
    			1468
    		]
    	],
    	[
    		[
    			64313,
    			64313
    		],
    		"mapped",
    		[
    			1497,
    			1468
    		]
    	],
    	[
    		[
    			64314,
    			64314
    		],
    		"mapped",
    		[
    			1498,
    			1468
    		]
    	],
    	[
    		[
    			64315,
    			64315
    		],
    		"mapped",
    		[
    			1499,
    			1468
    		]
    	],
    	[
    		[
    			64316,
    			64316
    		],
    		"mapped",
    		[
    			1500,
    			1468
    		]
    	],
    	[
    		[
    			64317,
    			64317
    		],
    		"disallowed"
    	],
    	[
    		[
    			64318,
    			64318
    		],
    		"mapped",
    		[
    			1502,
    			1468
    		]
    	],
    	[
    		[
    			64319,
    			64319
    		],
    		"disallowed"
    	],
    	[
    		[
    			64320,
    			64320
    		],
    		"mapped",
    		[
    			1504,
    			1468
    		]
    	],
    	[
    		[
    			64321,
    			64321
    		],
    		"mapped",
    		[
    			1505,
    			1468
    		]
    	],
    	[
    		[
    			64322,
    			64322
    		],
    		"disallowed"
    	],
    	[
    		[
    			64323,
    			64323
    		],
    		"mapped",
    		[
    			1507,
    			1468
    		]
    	],
    	[
    		[
    			64324,
    			64324
    		],
    		"mapped",
    		[
    			1508,
    			1468
    		]
    	],
    	[
    		[
    			64325,
    			64325
    		],
    		"disallowed"
    	],
    	[
    		[
    			64326,
    			64326
    		],
    		"mapped",
    		[
    			1510,
    			1468
    		]
    	],
    	[
    		[
    			64327,
    			64327
    		],
    		"mapped",
    		[
    			1511,
    			1468
    		]
    	],
    	[
    		[
    			64328,
    			64328
    		],
    		"mapped",
    		[
    			1512,
    			1468
    		]
    	],
    	[
    		[
    			64329,
    			64329
    		],
    		"mapped",
    		[
    			1513,
    			1468
    		]
    	],
    	[
    		[
    			64330,
    			64330
    		],
    		"mapped",
    		[
    			1514,
    			1468
    		]
    	],
    	[
    		[
    			64331,
    			64331
    		],
    		"mapped",
    		[
    			1493,
    			1465
    		]
    	],
    	[
    		[
    			64332,
    			64332
    		],
    		"mapped",
    		[
    			1489,
    			1471
    		]
    	],
    	[
    		[
    			64333,
    			64333
    		],
    		"mapped",
    		[
    			1499,
    			1471
    		]
    	],
    	[
    		[
    			64334,
    			64334
    		],
    		"mapped",
    		[
    			1508,
    			1471
    		]
    	],
    	[
    		[
    			64335,
    			64335
    		],
    		"mapped",
    		[
    			1488,
    			1500
    		]
    	],
    	[
    		[
    			64336,
    			64337
    		],
    		"mapped",
    		[
    			1649
    		]
    	],
    	[
    		[
    			64338,
    			64341
    		],
    		"mapped",
    		[
    			1659
    		]
    	],
    	[
    		[
    			64342,
    			64345
    		],
    		"mapped",
    		[
    			1662
    		]
    	],
    	[
    		[
    			64346,
    			64349
    		],
    		"mapped",
    		[
    			1664
    		]
    	],
    	[
    		[
    			64350,
    			64353
    		],
    		"mapped",
    		[
    			1658
    		]
    	],
    	[
    		[
    			64354,
    			64357
    		],
    		"mapped",
    		[
    			1663
    		]
    	],
    	[
    		[
    			64358,
    			64361
    		],
    		"mapped",
    		[
    			1657
    		]
    	],
    	[
    		[
    			64362,
    			64365
    		],
    		"mapped",
    		[
    			1700
    		]
    	],
    	[
    		[
    			64366,
    			64369
    		],
    		"mapped",
    		[
    			1702
    		]
    	],
    	[
    		[
    			64370,
    			64373
    		],
    		"mapped",
    		[
    			1668
    		]
    	],
    	[
    		[
    			64374,
    			64377
    		],
    		"mapped",
    		[
    			1667
    		]
    	],
    	[
    		[
    			64378,
    			64381
    		],
    		"mapped",
    		[
    			1670
    		]
    	],
    	[
    		[
    			64382,
    			64385
    		],
    		"mapped",
    		[
    			1671
    		]
    	],
    	[
    		[
    			64386,
    			64387
    		],
    		"mapped",
    		[
    			1677
    		]
    	],
    	[
    		[
    			64388,
    			64389
    		],
    		"mapped",
    		[
    			1676
    		]
    	],
    	[
    		[
    			64390,
    			64391
    		],
    		"mapped",
    		[
    			1678
    		]
    	],
    	[
    		[
    			64392,
    			64393
    		],
    		"mapped",
    		[
    			1672
    		]
    	],
    	[
    		[
    			64394,
    			64395
    		],
    		"mapped",
    		[
    			1688
    		]
    	],
    	[
    		[
    			64396,
    			64397
    		],
    		"mapped",
    		[
    			1681
    		]
    	],
    	[
    		[
    			64398,
    			64401
    		],
    		"mapped",
    		[
    			1705
    		]
    	],
    	[
    		[
    			64402,
    			64405
    		],
    		"mapped",
    		[
    			1711
    		]
    	],
    	[
    		[
    			64406,
    			64409
    		],
    		"mapped",
    		[
    			1715
    		]
    	],
    	[
    		[
    			64410,
    			64413
    		],
    		"mapped",
    		[
    			1713
    		]
    	],
    	[
    		[
    			64414,
    			64415
    		],
    		"mapped",
    		[
    			1722
    		]
    	],
    	[
    		[
    			64416,
    			64419
    		],
    		"mapped",
    		[
    			1723
    		]
    	],
    	[
    		[
    			64420,
    			64421
    		],
    		"mapped",
    		[
    			1728
    		]
    	],
    	[
    		[
    			64422,
    			64425
    		],
    		"mapped",
    		[
    			1729
    		]
    	],
    	[
    		[
    			64426,
    			64429
    		],
    		"mapped",
    		[
    			1726
    		]
    	],
    	[
    		[
    			64430,
    			64431
    		],
    		"mapped",
    		[
    			1746
    		]
    	],
    	[
    		[
    			64432,
    			64433
    		],
    		"mapped",
    		[
    			1747
    		]
    	],
    	[
    		[
    			64434,
    			64449
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			64450,
    			64466
    		],
    		"disallowed"
    	],
    	[
    		[
    			64467,
    			64470
    		],
    		"mapped",
    		[
    			1709
    		]
    	],
    	[
    		[
    			64471,
    			64472
    		],
    		"mapped",
    		[
    			1735
    		]
    	],
    	[
    		[
    			64473,
    			64474
    		],
    		"mapped",
    		[
    			1734
    		]
    	],
    	[
    		[
    			64475,
    			64476
    		],
    		"mapped",
    		[
    			1736
    		]
    	],
    	[
    		[
    			64477,
    			64477
    		],
    		"mapped",
    		[
    			1735,
    			1652
    		]
    	],
    	[
    		[
    			64478,
    			64479
    		],
    		"mapped",
    		[
    			1739
    		]
    	],
    	[
    		[
    			64480,
    			64481
    		],
    		"mapped",
    		[
    			1733
    		]
    	],
    	[
    		[
    			64482,
    			64483
    		],
    		"mapped",
    		[
    			1737
    		]
    	],
    	[
    		[
    			64484,
    			64487
    		],
    		"mapped",
    		[
    			1744
    		]
    	],
    	[
    		[
    			64488,
    			64489
    		],
    		"mapped",
    		[
    			1609
    		]
    	],
    	[
    		[
    			64490,
    			64491
    		],
    		"mapped",
    		[
    			1574,
    			1575
    		]
    	],
    	[
    		[
    			64492,
    			64493
    		],
    		"mapped",
    		[
    			1574,
    			1749
    		]
    	],
    	[
    		[
    			64494,
    			64495
    		],
    		"mapped",
    		[
    			1574,
    			1608
    		]
    	],
    	[
    		[
    			64496,
    			64497
    		],
    		"mapped",
    		[
    			1574,
    			1735
    		]
    	],
    	[
    		[
    			64498,
    			64499
    		],
    		"mapped",
    		[
    			1574,
    			1734
    		]
    	],
    	[
    		[
    			64500,
    			64501
    		],
    		"mapped",
    		[
    			1574,
    			1736
    		]
    	],
    	[
    		[
    			64502,
    			64504
    		],
    		"mapped",
    		[
    			1574,
    			1744
    		]
    	],
    	[
    		[
    			64505,
    			64507
    		],
    		"mapped",
    		[
    			1574,
    			1609
    		]
    	],
    	[
    		[
    			64508,
    			64511
    		],
    		"mapped",
    		[
    			1740
    		]
    	],
    	[
    		[
    			64512,
    			64512
    		],
    		"mapped",
    		[
    			1574,
    			1580
    		]
    	],
    	[
    		[
    			64513,
    			64513
    		],
    		"mapped",
    		[
    			1574,
    			1581
    		]
    	],
    	[
    		[
    			64514,
    			64514
    		],
    		"mapped",
    		[
    			1574,
    			1605
    		]
    	],
    	[
    		[
    			64515,
    			64515
    		],
    		"mapped",
    		[
    			1574,
    			1609
    		]
    	],
    	[
    		[
    			64516,
    			64516
    		],
    		"mapped",
    		[
    			1574,
    			1610
    		]
    	],
    	[
    		[
    			64517,
    			64517
    		],
    		"mapped",
    		[
    			1576,
    			1580
    		]
    	],
    	[
    		[
    			64518,
    			64518
    		],
    		"mapped",
    		[
    			1576,
    			1581
    		]
    	],
    	[
    		[
    			64519,
    			64519
    		],
    		"mapped",
    		[
    			1576,
    			1582
    		]
    	],
    	[
    		[
    			64520,
    			64520
    		],
    		"mapped",
    		[
    			1576,
    			1605
    		]
    	],
    	[
    		[
    			64521,
    			64521
    		],
    		"mapped",
    		[
    			1576,
    			1609
    		]
    	],
    	[
    		[
    			64522,
    			64522
    		],
    		"mapped",
    		[
    			1576,
    			1610
    		]
    	],
    	[
    		[
    			64523,
    			64523
    		],
    		"mapped",
    		[
    			1578,
    			1580
    		]
    	],
    	[
    		[
    			64524,
    			64524
    		],
    		"mapped",
    		[
    			1578,
    			1581
    		]
    	],
    	[
    		[
    			64525,
    			64525
    		],
    		"mapped",
    		[
    			1578,
    			1582
    		]
    	],
    	[
    		[
    			64526,
    			64526
    		],
    		"mapped",
    		[
    			1578,
    			1605
    		]
    	],
    	[
    		[
    			64527,
    			64527
    		],
    		"mapped",
    		[
    			1578,
    			1609
    		]
    	],
    	[
    		[
    			64528,
    			64528
    		],
    		"mapped",
    		[
    			1578,
    			1610
    		]
    	],
    	[
    		[
    			64529,
    			64529
    		],
    		"mapped",
    		[
    			1579,
    			1580
    		]
    	],
    	[
    		[
    			64530,
    			64530
    		],
    		"mapped",
    		[
    			1579,
    			1605
    		]
    	],
    	[
    		[
    			64531,
    			64531
    		],
    		"mapped",
    		[
    			1579,
    			1609
    		]
    	],
    	[
    		[
    			64532,
    			64532
    		],
    		"mapped",
    		[
    			1579,
    			1610
    		]
    	],
    	[
    		[
    			64533,
    			64533
    		],
    		"mapped",
    		[
    			1580,
    			1581
    		]
    	],
    	[
    		[
    			64534,
    			64534
    		],
    		"mapped",
    		[
    			1580,
    			1605
    		]
    	],
    	[
    		[
    			64535,
    			64535
    		],
    		"mapped",
    		[
    			1581,
    			1580
    		]
    	],
    	[
    		[
    			64536,
    			64536
    		],
    		"mapped",
    		[
    			1581,
    			1605
    		]
    	],
    	[
    		[
    			64537,
    			64537
    		],
    		"mapped",
    		[
    			1582,
    			1580
    		]
    	],
    	[
    		[
    			64538,
    			64538
    		],
    		"mapped",
    		[
    			1582,
    			1581
    		]
    	],
    	[
    		[
    			64539,
    			64539
    		],
    		"mapped",
    		[
    			1582,
    			1605
    		]
    	],
    	[
    		[
    			64540,
    			64540
    		],
    		"mapped",
    		[
    			1587,
    			1580
    		]
    	],
    	[
    		[
    			64541,
    			64541
    		],
    		"mapped",
    		[
    			1587,
    			1581
    		]
    	],
    	[
    		[
    			64542,
    			64542
    		],
    		"mapped",
    		[
    			1587,
    			1582
    		]
    	],
    	[
    		[
    			64543,
    			64543
    		],
    		"mapped",
    		[
    			1587,
    			1605
    		]
    	],
    	[
    		[
    			64544,
    			64544
    		],
    		"mapped",
    		[
    			1589,
    			1581
    		]
    	],
    	[
    		[
    			64545,
    			64545
    		],
    		"mapped",
    		[
    			1589,
    			1605
    		]
    	],
    	[
    		[
    			64546,
    			64546
    		],
    		"mapped",
    		[
    			1590,
    			1580
    		]
    	],
    	[
    		[
    			64547,
    			64547
    		],
    		"mapped",
    		[
    			1590,
    			1581
    		]
    	],
    	[
    		[
    			64548,
    			64548
    		],
    		"mapped",
    		[
    			1590,
    			1582
    		]
    	],
    	[
    		[
    			64549,
    			64549
    		],
    		"mapped",
    		[
    			1590,
    			1605
    		]
    	],
    	[
    		[
    			64550,
    			64550
    		],
    		"mapped",
    		[
    			1591,
    			1581
    		]
    	],
    	[
    		[
    			64551,
    			64551
    		],
    		"mapped",
    		[
    			1591,
    			1605
    		]
    	],
    	[
    		[
    			64552,
    			64552
    		],
    		"mapped",
    		[
    			1592,
    			1605
    		]
    	],
    	[
    		[
    			64553,
    			64553
    		],
    		"mapped",
    		[
    			1593,
    			1580
    		]
    	],
    	[
    		[
    			64554,
    			64554
    		],
    		"mapped",
    		[
    			1593,
    			1605
    		]
    	],
    	[
    		[
    			64555,
    			64555
    		],
    		"mapped",
    		[
    			1594,
    			1580
    		]
    	],
    	[
    		[
    			64556,
    			64556
    		],
    		"mapped",
    		[
    			1594,
    			1605
    		]
    	],
    	[
    		[
    			64557,
    			64557
    		],
    		"mapped",
    		[
    			1601,
    			1580
    		]
    	],
    	[
    		[
    			64558,
    			64558
    		],
    		"mapped",
    		[
    			1601,
    			1581
    		]
    	],
    	[
    		[
    			64559,
    			64559
    		],
    		"mapped",
    		[
    			1601,
    			1582
    		]
    	],
    	[
    		[
    			64560,
    			64560
    		],
    		"mapped",
    		[
    			1601,
    			1605
    		]
    	],
    	[
    		[
    			64561,
    			64561
    		],
    		"mapped",
    		[
    			1601,
    			1609
    		]
    	],
    	[
    		[
    			64562,
    			64562
    		],
    		"mapped",
    		[
    			1601,
    			1610
    		]
    	],
    	[
    		[
    			64563,
    			64563
    		],
    		"mapped",
    		[
    			1602,
    			1581
    		]
    	],
    	[
    		[
    			64564,
    			64564
    		],
    		"mapped",
    		[
    			1602,
    			1605
    		]
    	],
    	[
    		[
    			64565,
    			64565
    		],
    		"mapped",
    		[
    			1602,
    			1609
    		]
    	],
    	[
    		[
    			64566,
    			64566
    		],
    		"mapped",
    		[
    			1602,
    			1610
    		]
    	],
    	[
    		[
    			64567,
    			64567
    		],
    		"mapped",
    		[
    			1603,
    			1575
    		]
    	],
    	[
    		[
    			64568,
    			64568
    		],
    		"mapped",
    		[
    			1603,
    			1580
    		]
    	],
    	[
    		[
    			64569,
    			64569
    		],
    		"mapped",
    		[
    			1603,
    			1581
    		]
    	],
    	[
    		[
    			64570,
    			64570
    		],
    		"mapped",
    		[
    			1603,
    			1582
    		]
    	],
    	[
    		[
    			64571,
    			64571
    		],
    		"mapped",
    		[
    			1603,
    			1604
    		]
    	],
    	[
    		[
    			64572,
    			64572
    		],
    		"mapped",
    		[
    			1603,
    			1605
    		]
    	],
    	[
    		[
    			64573,
    			64573
    		],
    		"mapped",
    		[
    			1603,
    			1609
    		]
    	],
    	[
    		[
    			64574,
    			64574
    		],
    		"mapped",
    		[
    			1603,
    			1610
    		]
    	],
    	[
    		[
    			64575,
    			64575
    		],
    		"mapped",
    		[
    			1604,
    			1580
    		]
    	],
    	[
    		[
    			64576,
    			64576
    		],
    		"mapped",
    		[
    			1604,
    			1581
    		]
    	],
    	[
    		[
    			64577,
    			64577
    		],
    		"mapped",
    		[
    			1604,
    			1582
    		]
    	],
    	[
    		[
    			64578,
    			64578
    		],
    		"mapped",
    		[
    			1604,
    			1605
    		]
    	],
    	[
    		[
    			64579,
    			64579
    		],
    		"mapped",
    		[
    			1604,
    			1609
    		]
    	],
    	[
    		[
    			64580,
    			64580
    		],
    		"mapped",
    		[
    			1604,
    			1610
    		]
    	],
    	[
    		[
    			64581,
    			64581
    		],
    		"mapped",
    		[
    			1605,
    			1580
    		]
    	],
    	[
    		[
    			64582,
    			64582
    		],
    		"mapped",
    		[
    			1605,
    			1581
    		]
    	],
    	[
    		[
    			64583,
    			64583
    		],
    		"mapped",
    		[
    			1605,
    			1582
    		]
    	],
    	[
    		[
    			64584,
    			64584
    		],
    		"mapped",
    		[
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64585,
    			64585
    		],
    		"mapped",
    		[
    			1605,
    			1609
    		]
    	],
    	[
    		[
    			64586,
    			64586
    		],
    		"mapped",
    		[
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64587,
    			64587
    		],
    		"mapped",
    		[
    			1606,
    			1580
    		]
    	],
    	[
    		[
    			64588,
    			64588
    		],
    		"mapped",
    		[
    			1606,
    			1581
    		]
    	],
    	[
    		[
    			64589,
    			64589
    		],
    		"mapped",
    		[
    			1606,
    			1582
    		]
    	],
    	[
    		[
    			64590,
    			64590
    		],
    		"mapped",
    		[
    			1606,
    			1605
    		]
    	],
    	[
    		[
    			64591,
    			64591
    		],
    		"mapped",
    		[
    			1606,
    			1609
    		]
    	],
    	[
    		[
    			64592,
    			64592
    		],
    		"mapped",
    		[
    			1606,
    			1610
    		]
    	],
    	[
    		[
    			64593,
    			64593
    		],
    		"mapped",
    		[
    			1607,
    			1580
    		]
    	],
    	[
    		[
    			64594,
    			64594
    		],
    		"mapped",
    		[
    			1607,
    			1605
    		]
    	],
    	[
    		[
    			64595,
    			64595
    		],
    		"mapped",
    		[
    			1607,
    			1609
    		]
    	],
    	[
    		[
    			64596,
    			64596
    		],
    		"mapped",
    		[
    			1607,
    			1610
    		]
    	],
    	[
    		[
    			64597,
    			64597
    		],
    		"mapped",
    		[
    			1610,
    			1580
    		]
    	],
    	[
    		[
    			64598,
    			64598
    		],
    		"mapped",
    		[
    			1610,
    			1581
    		]
    	],
    	[
    		[
    			64599,
    			64599
    		],
    		"mapped",
    		[
    			1610,
    			1582
    		]
    	],
    	[
    		[
    			64600,
    			64600
    		],
    		"mapped",
    		[
    			1610,
    			1605
    		]
    	],
    	[
    		[
    			64601,
    			64601
    		],
    		"mapped",
    		[
    			1610,
    			1609
    		]
    	],
    	[
    		[
    			64602,
    			64602
    		],
    		"mapped",
    		[
    			1610,
    			1610
    		]
    	],
    	[
    		[
    			64603,
    			64603
    		],
    		"mapped",
    		[
    			1584,
    			1648
    		]
    	],
    	[
    		[
    			64604,
    			64604
    		],
    		"mapped",
    		[
    			1585,
    			1648
    		]
    	],
    	[
    		[
    			64605,
    			64605
    		],
    		"mapped",
    		[
    			1609,
    			1648
    		]
    	],
    	[
    		[
    			64606,
    			64606
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1612,
    			1617
    		]
    	],
    	[
    		[
    			64607,
    			64607
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1613,
    			1617
    		]
    	],
    	[
    		[
    			64608,
    			64608
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1614,
    			1617
    		]
    	],
    	[
    		[
    			64609,
    			64609
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1615,
    			1617
    		]
    	],
    	[
    		[
    			64610,
    			64610
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1616,
    			1617
    		]
    	],
    	[
    		[
    			64611,
    			64611
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1617,
    			1648
    		]
    	],
    	[
    		[
    			64612,
    			64612
    		],
    		"mapped",
    		[
    			1574,
    			1585
    		]
    	],
    	[
    		[
    			64613,
    			64613
    		],
    		"mapped",
    		[
    			1574,
    			1586
    		]
    	],
    	[
    		[
    			64614,
    			64614
    		],
    		"mapped",
    		[
    			1574,
    			1605
    		]
    	],
    	[
    		[
    			64615,
    			64615
    		],
    		"mapped",
    		[
    			1574,
    			1606
    		]
    	],
    	[
    		[
    			64616,
    			64616
    		],
    		"mapped",
    		[
    			1574,
    			1609
    		]
    	],
    	[
    		[
    			64617,
    			64617
    		],
    		"mapped",
    		[
    			1574,
    			1610
    		]
    	],
    	[
    		[
    			64618,
    			64618
    		],
    		"mapped",
    		[
    			1576,
    			1585
    		]
    	],
    	[
    		[
    			64619,
    			64619
    		],
    		"mapped",
    		[
    			1576,
    			1586
    		]
    	],
    	[
    		[
    			64620,
    			64620
    		],
    		"mapped",
    		[
    			1576,
    			1605
    		]
    	],
    	[
    		[
    			64621,
    			64621
    		],
    		"mapped",
    		[
    			1576,
    			1606
    		]
    	],
    	[
    		[
    			64622,
    			64622
    		],
    		"mapped",
    		[
    			1576,
    			1609
    		]
    	],
    	[
    		[
    			64623,
    			64623
    		],
    		"mapped",
    		[
    			1576,
    			1610
    		]
    	],
    	[
    		[
    			64624,
    			64624
    		],
    		"mapped",
    		[
    			1578,
    			1585
    		]
    	],
    	[
    		[
    			64625,
    			64625
    		],
    		"mapped",
    		[
    			1578,
    			1586
    		]
    	],
    	[
    		[
    			64626,
    			64626
    		],
    		"mapped",
    		[
    			1578,
    			1605
    		]
    	],
    	[
    		[
    			64627,
    			64627
    		],
    		"mapped",
    		[
    			1578,
    			1606
    		]
    	],
    	[
    		[
    			64628,
    			64628
    		],
    		"mapped",
    		[
    			1578,
    			1609
    		]
    	],
    	[
    		[
    			64629,
    			64629
    		],
    		"mapped",
    		[
    			1578,
    			1610
    		]
    	],
    	[
    		[
    			64630,
    			64630
    		],
    		"mapped",
    		[
    			1579,
    			1585
    		]
    	],
    	[
    		[
    			64631,
    			64631
    		],
    		"mapped",
    		[
    			1579,
    			1586
    		]
    	],
    	[
    		[
    			64632,
    			64632
    		],
    		"mapped",
    		[
    			1579,
    			1605
    		]
    	],
    	[
    		[
    			64633,
    			64633
    		],
    		"mapped",
    		[
    			1579,
    			1606
    		]
    	],
    	[
    		[
    			64634,
    			64634
    		],
    		"mapped",
    		[
    			1579,
    			1609
    		]
    	],
    	[
    		[
    			64635,
    			64635
    		],
    		"mapped",
    		[
    			1579,
    			1610
    		]
    	],
    	[
    		[
    			64636,
    			64636
    		],
    		"mapped",
    		[
    			1601,
    			1609
    		]
    	],
    	[
    		[
    			64637,
    			64637
    		],
    		"mapped",
    		[
    			1601,
    			1610
    		]
    	],
    	[
    		[
    			64638,
    			64638
    		],
    		"mapped",
    		[
    			1602,
    			1609
    		]
    	],
    	[
    		[
    			64639,
    			64639
    		],
    		"mapped",
    		[
    			1602,
    			1610
    		]
    	],
    	[
    		[
    			64640,
    			64640
    		],
    		"mapped",
    		[
    			1603,
    			1575
    		]
    	],
    	[
    		[
    			64641,
    			64641
    		],
    		"mapped",
    		[
    			1603,
    			1604
    		]
    	],
    	[
    		[
    			64642,
    			64642
    		],
    		"mapped",
    		[
    			1603,
    			1605
    		]
    	],
    	[
    		[
    			64643,
    			64643
    		],
    		"mapped",
    		[
    			1603,
    			1609
    		]
    	],
    	[
    		[
    			64644,
    			64644
    		],
    		"mapped",
    		[
    			1603,
    			1610
    		]
    	],
    	[
    		[
    			64645,
    			64645
    		],
    		"mapped",
    		[
    			1604,
    			1605
    		]
    	],
    	[
    		[
    			64646,
    			64646
    		],
    		"mapped",
    		[
    			1604,
    			1609
    		]
    	],
    	[
    		[
    			64647,
    			64647
    		],
    		"mapped",
    		[
    			1604,
    			1610
    		]
    	],
    	[
    		[
    			64648,
    			64648
    		],
    		"mapped",
    		[
    			1605,
    			1575
    		]
    	],
    	[
    		[
    			64649,
    			64649
    		],
    		"mapped",
    		[
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64650,
    			64650
    		],
    		"mapped",
    		[
    			1606,
    			1585
    		]
    	],
    	[
    		[
    			64651,
    			64651
    		],
    		"mapped",
    		[
    			1606,
    			1586
    		]
    	],
    	[
    		[
    			64652,
    			64652
    		],
    		"mapped",
    		[
    			1606,
    			1605
    		]
    	],
    	[
    		[
    			64653,
    			64653
    		],
    		"mapped",
    		[
    			1606,
    			1606
    		]
    	],
    	[
    		[
    			64654,
    			64654
    		],
    		"mapped",
    		[
    			1606,
    			1609
    		]
    	],
    	[
    		[
    			64655,
    			64655
    		],
    		"mapped",
    		[
    			1606,
    			1610
    		]
    	],
    	[
    		[
    			64656,
    			64656
    		],
    		"mapped",
    		[
    			1609,
    			1648
    		]
    	],
    	[
    		[
    			64657,
    			64657
    		],
    		"mapped",
    		[
    			1610,
    			1585
    		]
    	],
    	[
    		[
    			64658,
    			64658
    		],
    		"mapped",
    		[
    			1610,
    			1586
    		]
    	],
    	[
    		[
    			64659,
    			64659
    		],
    		"mapped",
    		[
    			1610,
    			1605
    		]
    	],
    	[
    		[
    			64660,
    			64660
    		],
    		"mapped",
    		[
    			1610,
    			1606
    		]
    	],
    	[
    		[
    			64661,
    			64661
    		],
    		"mapped",
    		[
    			1610,
    			1609
    		]
    	],
    	[
    		[
    			64662,
    			64662
    		],
    		"mapped",
    		[
    			1610,
    			1610
    		]
    	],
    	[
    		[
    			64663,
    			64663
    		],
    		"mapped",
    		[
    			1574,
    			1580
    		]
    	],
    	[
    		[
    			64664,
    			64664
    		],
    		"mapped",
    		[
    			1574,
    			1581
    		]
    	],
    	[
    		[
    			64665,
    			64665
    		],
    		"mapped",
    		[
    			1574,
    			1582
    		]
    	],
    	[
    		[
    			64666,
    			64666
    		],
    		"mapped",
    		[
    			1574,
    			1605
    		]
    	],
    	[
    		[
    			64667,
    			64667
    		],
    		"mapped",
    		[
    			1574,
    			1607
    		]
    	],
    	[
    		[
    			64668,
    			64668
    		],
    		"mapped",
    		[
    			1576,
    			1580
    		]
    	],
    	[
    		[
    			64669,
    			64669
    		],
    		"mapped",
    		[
    			1576,
    			1581
    		]
    	],
    	[
    		[
    			64670,
    			64670
    		],
    		"mapped",
    		[
    			1576,
    			1582
    		]
    	],
    	[
    		[
    			64671,
    			64671
    		],
    		"mapped",
    		[
    			1576,
    			1605
    		]
    	],
    	[
    		[
    			64672,
    			64672
    		],
    		"mapped",
    		[
    			1576,
    			1607
    		]
    	],
    	[
    		[
    			64673,
    			64673
    		],
    		"mapped",
    		[
    			1578,
    			1580
    		]
    	],
    	[
    		[
    			64674,
    			64674
    		],
    		"mapped",
    		[
    			1578,
    			1581
    		]
    	],
    	[
    		[
    			64675,
    			64675
    		],
    		"mapped",
    		[
    			1578,
    			1582
    		]
    	],
    	[
    		[
    			64676,
    			64676
    		],
    		"mapped",
    		[
    			1578,
    			1605
    		]
    	],
    	[
    		[
    			64677,
    			64677
    		],
    		"mapped",
    		[
    			1578,
    			1607
    		]
    	],
    	[
    		[
    			64678,
    			64678
    		],
    		"mapped",
    		[
    			1579,
    			1605
    		]
    	],
    	[
    		[
    			64679,
    			64679
    		],
    		"mapped",
    		[
    			1580,
    			1581
    		]
    	],
    	[
    		[
    			64680,
    			64680
    		],
    		"mapped",
    		[
    			1580,
    			1605
    		]
    	],
    	[
    		[
    			64681,
    			64681
    		],
    		"mapped",
    		[
    			1581,
    			1580
    		]
    	],
    	[
    		[
    			64682,
    			64682
    		],
    		"mapped",
    		[
    			1581,
    			1605
    		]
    	],
    	[
    		[
    			64683,
    			64683
    		],
    		"mapped",
    		[
    			1582,
    			1580
    		]
    	],
    	[
    		[
    			64684,
    			64684
    		],
    		"mapped",
    		[
    			1582,
    			1605
    		]
    	],
    	[
    		[
    			64685,
    			64685
    		],
    		"mapped",
    		[
    			1587,
    			1580
    		]
    	],
    	[
    		[
    			64686,
    			64686
    		],
    		"mapped",
    		[
    			1587,
    			1581
    		]
    	],
    	[
    		[
    			64687,
    			64687
    		],
    		"mapped",
    		[
    			1587,
    			1582
    		]
    	],
    	[
    		[
    			64688,
    			64688
    		],
    		"mapped",
    		[
    			1587,
    			1605
    		]
    	],
    	[
    		[
    			64689,
    			64689
    		],
    		"mapped",
    		[
    			1589,
    			1581
    		]
    	],
    	[
    		[
    			64690,
    			64690
    		],
    		"mapped",
    		[
    			1589,
    			1582
    		]
    	],
    	[
    		[
    			64691,
    			64691
    		],
    		"mapped",
    		[
    			1589,
    			1605
    		]
    	],
    	[
    		[
    			64692,
    			64692
    		],
    		"mapped",
    		[
    			1590,
    			1580
    		]
    	],
    	[
    		[
    			64693,
    			64693
    		],
    		"mapped",
    		[
    			1590,
    			1581
    		]
    	],
    	[
    		[
    			64694,
    			64694
    		],
    		"mapped",
    		[
    			1590,
    			1582
    		]
    	],
    	[
    		[
    			64695,
    			64695
    		],
    		"mapped",
    		[
    			1590,
    			1605
    		]
    	],
    	[
    		[
    			64696,
    			64696
    		],
    		"mapped",
    		[
    			1591,
    			1581
    		]
    	],
    	[
    		[
    			64697,
    			64697
    		],
    		"mapped",
    		[
    			1592,
    			1605
    		]
    	],
    	[
    		[
    			64698,
    			64698
    		],
    		"mapped",
    		[
    			1593,
    			1580
    		]
    	],
    	[
    		[
    			64699,
    			64699
    		],
    		"mapped",
    		[
    			1593,
    			1605
    		]
    	],
    	[
    		[
    			64700,
    			64700
    		],
    		"mapped",
    		[
    			1594,
    			1580
    		]
    	],
    	[
    		[
    			64701,
    			64701
    		],
    		"mapped",
    		[
    			1594,
    			1605
    		]
    	],
    	[
    		[
    			64702,
    			64702
    		],
    		"mapped",
    		[
    			1601,
    			1580
    		]
    	],
    	[
    		[
    			64703,
    			64703
    		],
    		"mapped",
    		[
    			1601,
    			1581
    		]
    	],
    	[
    		[
    			64704,
    			64704
    		],
    		"mapped",
    		[
    			1601,
    			1582
    		]
    	],
    	[
    		[
    			64705,
    			64705
    		],
    		"mapped",
    		[
    			1601,
    			1605
    		]
    	],
    	[
    		[
    			64706,
    			64706
    		],
    		"mapped",
    		[
    			1602,
    			1581
    		]
    	],
    	[
    		[
    			64707,
    			64707
    		],
    		"mapped",
    		[
    			1602,
    			1605
    		]
    	],
    	[
    		[
    			64708,
    			64708
    		],
    		"mapped",
    		[
    			1603,
    			1580
    		]
    	],
    	[
    		[
    			64709,
    			64709
    		],
    		"mapped",
    		[
    			1603,
    			1581
    		]
    	],
    	[
    		[
    			64710,
    			64710
    		],
    		"mapped",
    		[
    			1603,
    			1582
    		]
    	],
    	[
    		[
    			64711,
    			64711
    		],
    		"mapped",
    		[
    			1603,
    			1604
    		]
    	],
    	[
    		[
    			64712,
    			64712
    		],
    		"mapped",
    		[
    			1603,
    			1605
    		]
    	],
    	[
    		[
    			64713,
    			64713
    		],
    		"mapped",
    		[
    			1604,
    			1580
    		]
    	],
    	[
    		[
    			64714,
    			64714
    		],
    		"mapped",
    		[
    			1604,
    			1581
    		]
    	],
    	[
    		[
    			64715,
    			64715
    		],
    		"mapped",
    		[
    			1604,
    			1582
    		]
    	],
    	[
    		[
    			64716,
    			64716
    		],
    		"mapped",
    		[
    			1604,
    			1605
    		]
    	],
    	[
    		[
    			64717,
    			64717
    		],
    		"mapped",
    		[
    			1604,
    			1607
    		]
    	],
    	[
    		[
    			64718,
    			64718
    		],
    		"mapped",
    		[
    			1605,
    			1580
    		]
    	],
    	[
    		[
    			64719,
    			64719
    		],
    		"mapped",
    		[
    			1605,
    			1581
    		]
    	],
    	[
    		[
    			64720,
    			64720
    		],
    		"mapped",
    		[
    			1605,
    			1582
    		]
    	],
    	[
    		[
    			64721,
    			64721
    		],
    		"mapped",
    		[
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64722,
    			64722
    		],
    		"mapped",
    		[
    			1606,
    			1580
    		]
    	],
    	[
    		[
    			64723,
    			64723
    		],
    		"mapped",
    		[
    			1606,
    			1581
    		]
    	],
    	[
    		[
    			64724,
    			64724
    		],
    		"mapped",
    		[
    			1606,
    			1582
    		]
    	],
    	[
    		[
    			64725,
    			64725
    		],
    		"mapped",
    		[
    			1606,
    			1605
    		]
    	],
    	[
    		[
    			64726,
    			64726
    		],
    		"mapped",
    		[
    			1606,
    			1607
    		]
    	],
    	[
    		[
    			64727,
    			64727
    		],
    		"mapped",
    		[
    			1607,
    			1580
    		]
    	],
    	[
    		[
    			64728,
    			64728
    		],
    		"mapped",
    		[
    			1607,
    			1605
    		]
    	],
    	[
    		[
    			64729,
    			64729
    		],
    		"mapped",
    		[
    			1607,
    			1648
    		]
    	],
    	[
    		[
    			64730,
    			64730
    		],
    		"mapped",
    		[
    			1610,
    			1580
    		]
    	],
    	[
    		[
    			64731,
    			64731
    		],
    		"mapped",
    		[
    			1610,
    			1581
    		]
    	],
    	[
    		[
    			64732,
    			64732
    		],
    		"mapped",
    		[
    			1610,
    			1582
    		]
    	],
    	[
    		[
    			64733,
    			64733
    		],
    		"mapped",
    		[
    			1610,
    			1605
    		]
    	],
    	[
    		[
    			64734,
    			64734
    		],
    		"mapped",
    		[
    			1610,
    			1607
    		]
    	],
    	[
    		[
    			64735,
    			64735
    		],
    		"mapped",
    		[
    			1574,
    			1605
    		]
    	],
    	[
    		[
    			64736,
    			64736
    		],
    		"mapped",
    		[
    			1574,
    			1607
    		]
    	],
    	[
    		[
    			64737,
    			64737
    		],
    		"mapped",
    		[
    			1576,
    			1605
    		]
    	],
    	[
    		[
    			64738,
    			64738
    		],
    		"mapped",
    		[
    			1576,
    			1607
    		]
    	],
    	[
    		[
    			64739,
    			64739
    		],
    		"mapped",
    		[
    			1578,
    			1605
    		]
    	],
    	[
    		[
    			64740,
    			64740
    		],
    		"mapped",
    		[
    			1578,
    			1607
    		]
    	],
    	[
    		[
    			64741,
    			64741
    		],
    		"mapped",
    		[
    			1579,
    			1605
    		]
    	],
    	[
    		[
    			64742,
    			64742
    		],
    		"mapped",
    		[
    			1579,
    			1607
    		]
    	],
    	[
    		[
    			64743,
    			64743
    		],
    		"mapped",
    		[
    			1587,
    			1605
    		]
    	],
    	[
    		[
    			64744,
    			64744
    		],
    		"mapped",
    		[
    			1587,
    			1607
    		]
    	],
    	[
    		[
    			64745,
    			64745
    		],
    		"mapped",
    		[
    			1588,
    			1605
    		]
    	],
    	[
    		[
    			64746,
    			64746
    		],
    		"mapped",
    		[
    			1588,
    			1607
    		]
    	],
    	[
    		[
    			64747,
    			64747
    		],
    		"mapped",
    		[
    			1603,
    			1604
    		]
    	],
    	[
    		[
    			64748,
    			64748
    		],
    		"mapped",
    		[
    			1603,
    			1605
    		]
    	],
    	[
    		[
    			64749,
    			64749
    		],
    		"mapped",
    		[
    			1604,
    			1605
    		]
    	],
    	[
    		[
    			64750,
    			64750
    		],
    		"mapped",
    		[
    			1606,
    			1605
    		]
    	],
    	[
    		[
    			64751,
    			64751
    		],
    		"mapped",
    		[
    			1606,
    			1607
    		]
    	],
    	[
    		[
    			64752,
    			64752
    		],
    		"mapped",
    		[
    			1610,
    			1605
    		]
    	],
    	[
    		[
    			64753,
    			64753
    		],
    		"mapped",
    		[
    			1610,
    			1607
    		]
    	],
    	[
    		[
    			64754,
    			64754
    		],
    		"mapped",
    		[
    			1600,
    			1614,
    			1617
    		]
    	],
    	[
    		[
    			64755,
    			64755
    		],
    		"mapped",
    		[
    			1600,
    			1615,
    			1617
    		]
    	],
    	[
    		[
    			64756,
    			64756
    		],
    		"mapped",
    		[
    			1600,
    			1616,
    			1617
    		]
    	],
    	[
    		[
    			64757,
    			64757
    		],
    		"mapped",
    		[
    			1591,
    			1609
    		]
    	],
    	[
    		[
    			64758,
    			64758
    		],
    		"mapped",
    		[
    			1591,
    			1610
    		]
    	],
    	[
    		[
    			64759,
    			64759
    		],
    		"mapped",
    		[
    			1593,
    			1609
    		]
    	],
    	[
    		[
    			64760,
    			64760
    		],
    		"mapped",
    		[
    			1593,
    			1610
    		]
    	],
    	[
    		[
    			64761,
    			64761
    		],
    		"mapped",
    		[
    			1594,
    			1609
    		]
    	],
    	[
    		[
    			64762,
    			64762
    		],
    		"mapped",
    		[
    			1594,
    			1610
    		]
    	],
    	[
    		[
    			64763,
    			64763
    		],
    		"mapped",
    		[
    			1587,
    			1609
    		]
    	],
    	[
    		[
    			64764,
    			64764
    		],
    		"mapped",
    		[
    			1587,
    			1610
    		]
    	],
    	[
    		[
    			64765,
    			64765
    		],
    		"mapped",
    		[
    			1588,
    			1609
    		]
    	],
    	[
    		[
    			64766,
    			64766
    		],
    		"mapped",
    		[
    			1588,
    			1610
    		]
    	],
    	[
    		[
    			64767,
    			64767
    		],
    		"mapped",
    		[
    			1581,
    			1609
    		]
    	],
    	[
    		[
    			64768,
    			64768
    		],
    		"mapped",
    		[
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64769,
    			64769
    		],
    		"mapped",
    		[
    			1580,
    			1609
    		]
    	],
    	[
    		[
    			64770,
    			64770
    		],
    		"mapped",
    		[
    			1580,
    			1610
    		]
    	],
    	[
    		[
    			64771,
    			64771
    		],
    		"mapped",
    		[
    			1582,
    			1609
    		]
    	],
    	[
    		[
    			64772,
    			64772
    		],
    		"mapped",
    		[
    			1582,
    			1610
    		]
    	],
    	[
    		[
    			64773,
    			64773
    		],
    		"mapped",
    		[
    			1589,
    			1609
    		]
    	],
    	[
    		[
    			64774,
    			64774
    		],
    		"mapped",
    		[
    			1589,
    			1610
    		]
    	],
    	[
    		[
    			64775,
    			64775
    		],
    		"mapped",
    		[
    			1590,
    			1609
    		]
    	],
    	[
    		[
    			64776,
    			64776
    		],
    		"mapped",
    		[
    			1590,
    			1610
    		]
    	],
    	[
    		[
    			64777,
    			64777
    		],
    		"mapped",
    		[
    			1588,
    			1580
    		]
    	],
    	[
    		[
    			64778,
    			64778
    		],
    		"mapped",
    		[
    			1588,
    			1581
    		]
    	],
    	[
    		[
    			64779,
    			64779
    		],
    		"mapped",
    		[
    			1588,
    			1582
    		]
    	],
    	[
    		[
    			64780,
    			64780
    		],
    		"mapped",
    		[
    			1588,
    			1605
    		]
    	],
    	[
    		[
    			64781,
    			64781
    		],
    		"mapped",
    		[
    			1588,
    			1585
    		]
    	],
    	[
    		[
    			64782,
    			64782
    		],
    		"mapped",
    		[
    			1587,
    			1585
    		]
    	],
    	[
    		[
    			64783,
    			64783
    		],
    		"mapped",
    		[
    			1589,
    			1585
    		]
    	],
    	[
    		[
    			64784,
    			64784
    		],
    		"mapped",
    		[
    			1590,
    			1585
    		]
    	],
    	[
    		[
    			64785,
    			64785
    		],
    		"mapped",
    		[
    			1591,
    			1609
    		]
    	],
    	[
    		[
    			64786,
    			64786
    		],
    		"mapped",
    		[
    			1591,
    			1610
    		]
    	],
    	[
    		[
    			64787,
    			64787
    		],
    		"mapped",
    		[
    			1593,
    			1609
    		]
    	],
    	[
    		[
    			64788,
    			64788
    		],
    		"mapped",
    		[
    			1593,
    			1610
    		]
    	],
    	[
    		[
    			64789,
    			64789
    		],
    		"mapped",
    		[
    			1594,
    			1609
    		]
    	],
    	[
    		[
    			64790,
    			64790
    		],
    		"mapped",
    		[
    			1594,
    			1610
    		]
    	],
    	[
    		[
    			64791,
    			64791
    		],
    		"mapped",
    		[
    			1587,
    			1609
    		]
    	],
    	[
    		[
    			64792,
    			64792
    		],
    		"mapped",
    		[
    			1587,
    			1610
    		]
    	],
    	[
    		[
    			64793,
    			64793
    		],
    		"mapped",
    		[
    			1588,
    			1609
    		]
    	],
    	[
    		[
    			64794,
    			64794
    		],
    		"mapped",
    		[
    			1588,
    			1610
    		]
    	],
    	[
    		[
    			64795,
    			64795
    		],
    		"mapped",
    		[
    			1581,
    			1609
    		]
    	],
    	[
    		[
    			64796,
    			64796
    		],
    		"mapped",
    		[
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64797,
    			64797
    		],
    		"mapped",
    		[
    			1580,
    			1609
    		]
    	],
    	[
    		[
    			64798,
    			64798
    		],
    		"mapped",
    		[
    			1580,
    			1610
    		]
    	],
    	[
    		[
    			64799,
    			64799
    		],
    		"mapped",
    		[
    			1582,
    			1609
    		]
    	],
    	[
    		[
    			64800,
    			64800
    		],
    		"mapped",
    		[
    			1582,
    			1610
    		]
    	],
    	[
    		[
    			64801,
    			64801
    		],
    		"mapped",
    		[
    			1589,
    			1609
    		]
    	],
    	[
    		[
    			64802,
    			64802
    		],
    		"mapped",
    		[
    			1589,
    			1610
    		]
    	],
    	[
    		[
    			64803,
    			64803
    		],
    		"mapped",
    		[
    			1590,
    			1609
    		]
    	],
    	[
    		[
    			64804,
    			64804
    		],
    		"mapped",
    		[
    			1590,
    			1610
    		]
    	],
    	[
    		[
    			64805,
    			64805
    		],
    		"mapped",
    		[
    			1588,
    			1580
    		]
    	],
    	[
    		[
    			64806,
    			64806
    		],
    		"mapped",
    		[
    			1588,
    			1581
    		]
    	],
    	[
    		[
    			64807,
    			64807
    		],
    		"mapped",
    		[
    			1588,
    			1582
    		]
    	],
    	[
    		[
    			64808,
    			64808
    		],
    		"mapped",
    		[
    			1588,
    			1605
    		]
    	],
    	[
    		[
    			64809,
    			64809
    		],
    		"mapped",
    		[
    			1588,
    			1585
    		]
    	],
    	[
    		[
    			64810,
    			64810
    		],
    		"mapped",
    		[
    			1587,
    			1585
    		]
    	],
    	[
    		[
    			64811,
    			64811
    		],
    		"mapped",
    		[
    			1589,
    			1585
    		]
    	],
    	[
    		[
    			64812,
    			64812
    		],
    		"mapped",
    		[
    			1590,
    			1585
    		]
    	],
    	[
    		[
    			64813,
    			64813
    		],
    		"mapped",
    		[
    			1588,
    			1580
    		]
    	],
    	[
    		[
    			64814,
    			64814
    		],
    		"mapped",
    		[
    			1588,
    			1581
    		]
    	],
    	[
    		[
    			64815,
    			64815
    		],
    		"mapped",
    		[
    			1588,
    			1582
    		]
    	],
    	[
    		[
    			64816,
    			64816
    		],
    		"mapped",
    		[
    			1588,
    			1605
    		]
    	],
    	[
    		[
    			64817,
    			64817
    		],
    		"mapped",
    		[
    			1587,
    			1607
    		]
    	],
    	[
    		[
    			64818,
    			64818
    		],
    		"mapped",
    		[
    			1588,
    			1607
    		]
    	],
    	[
    		[
    			64819,
    			64819
    		],
    		"mapped",
    		[
    			1591,
    			1605
    		]
    	],
    	[
    		[
    			64820,
    			64820
    		],
    		"mapped",
    		[
    			1587,
    			1580
    		]
    	],
    	[
    		[
    			64821,
    			64821
    		],
    		"mapped",
    		[
    			1587,
    			1581
    		]
    	],
    	[
    		[
    			64822,
    			64822
    		],
    		"mapped",
    		[
    			1587,
    			1582
    		]
    	],
    	[
    		[
    			64823,
    			64823
    		],
    		"mapped",
    		[
    			1588,
    			1580
    		]
    	],
    	[
    		[
    			64824,
    			64824
    		],
    		"mapped",
    		[
    			1588,
    			1581
    		]
    	],
    	[
    		[
    			64825,
    			64825
    		],
    		"mapped",
    		[
    			1588,
    			1582
    		]
    	],
    	[
    		[
    			64826,
    			64826
    		],
    		"mapped",
    		[
    			1591,
    			1605
    		]
    	],
    	[
    		[
    			64827,
    			64827
    		],
    		"mapped",
    		[
    			1592,
    			1605
    		]
    	],
    	[
    		[
    			64828,
    			64829
    		],
    		"mapped",
    		[
    			1575,
    			1611
    		]
    	],
    	[
    		[
    			64830,
    			64831
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			64832,
    			64847
    		],
    		"disallowed"
    	],
    	[
    		[
    			64848,
    			64848
    		],
    		"mapped",
    		[
    			1578,
    			1580,
    			1605
    		]
    	],
    	[
    		[
    			64849,
    			64850
    		],
    		"mapped",
    		[
    			1578,
    			1581,
    			1580
    		]
    	],
    	[
    		[
    			64851,
    			64851
    		],
    		"mapped",
    		[
    			1578,
    			1581,
    			1605
    		]
    	],
    	[
    		[
    			64852,
    			64852
    		],
    		"mapped",
    		[
    			1578,
    			1582,
    			1605
    		]
    	],
    	[
    		[
    			64853,
    			64853
    		],
    		"mapped",
    		[
    			1578,
    			1605,
    			1580
    		]
    	],
    	[
    		[
    			64854,
    			64854
    		],
    		"mapped",
    		[
    			1578,
    			1605,
    			1581
    		]
    	],
    	[
    		[
    			64855,
    			64855
    		],
    		"mapped",
    		[
    			1578,
    			1605,
    			1582
    		]
    	],
    	[
    		[
    			64856,
    			64857
    		],
    		"mapped",
    		[
    			1580,
    			1605,
    			1581
    		]
    	],
    	[
    		[
    			64858,
    			64858
    		],
    		"mapped",
    		[
    			1581,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64859,
    			64859
    		],
    		"mapped",
    		[
    			1581,
    			1605,
    			1609
    		]
    	],
    	[
    		[
    			64860,
    			64860
    		],
    		"mapped",
    		[
    			1587,
    			1581,
    			1580
    		]
    	],
    	[
    		[
    			64861,
    			64861
    		],
    		"mapped",
    		[
    			1587,
    			1580,
    			1581
    		]
    	],
    	[
    		[
    			64862,
    			64862
    		],
    		"mapped",
    		[
    			1587,
    			1580,
    			1609
    		]
    	],
    	[
    		[
    			64863,
    			64864
    		],
    		"mapped",
    		[
    			1587,
    			1605,
    			1581
    		]
    	],
    	[
    		[
    			64865,
    			64865
    		],
    		"mapped",
    		[
    			1587,
    			1605,
    			1580
    		]
    	],
    	[
    		[
    			64866,
    			64867
    		],
    		"mapped",
    		[
    			1587,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64868,
    			64869
    		],
    		"mapped",
    		[
    			1589,
    			1581,
    			1581
    		]
    	],
    	[
    		[
    			64870,
    			64870
    		],
    		"mapped",
    		[
    			1589,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64871,
    			64872
    		],
    		"mapped",
    		[
    			1588,
    			1581,
    			1605
    		]
    	],
    	[
    		[
    			64873,
    			64873
    		],
    		"mapped",
    		[
    			1588,
    			1580,
    			1610
    		]
    	],
    	[
    		[
    			64874,
    			64875
    		],
    		"mapped",
    		[
    			1588,
    			1605,
    			1582
    		]
    	],
    	[
    		[
    			64876,
    			64877
    		],
    		"mapped",
    		[
    			1588,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64878,
    			64878
    		],
    		"mapped",
    		[
    			1590,
    			1581,
    			1609
    		]
    	],
    	[
    		[
    			64879,
    			64880
    		],
    		"mapped",
    		[
    			1590,
    			1582,
    			1605
    		]
    	],
    	[
    		[
    			64881,
    			64882
    		],
    		"mapped",
    		[
    			1591,
    			1605,
    			1581
    		]
    	],
    	[
    		[
    			64883,
    			64883
    		],
    		"mapped",
    		[
    			1591,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64884,
    			64884
    		],
    		"mapped",
    		[
    			1591,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64885,
    			64885
    		],
    		"mapped",
    		[
    			1593,
    			1580,
    			1605
    		]
    	],
    	[
    		[
    			64886,
    			64887
    		],
    		"mapped",
    		[
    			1593,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64888,
    			64888
    		],
    		"mapped",
    		[
    			1593,
    			1605,
    			1609
    		]
    	],
    	[
    		[
    			64889,
    			64889
    		],
    		"mapped",
    		[
    			1594,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64890,
    			64890
    		],
    		"mapped",
    		[
    			1594,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64891,
    			64891
    		],
    		"mapped",
    		[
    			1594,
    			1605,
    			1609
    		]
    	],
    	[
    		[
    			64892,
    			64893
    		],
    		"mapped",
    		[
    			1601,
    			1582,
    			1605
    		]
    	],
    	[
    		[
    			64894,
    			64894
    		],
    		"mapped",
    		[
    			1602,
    			1605,
    			1581
    		]
    	],
    	[
    		[
    			64895,
    			64895
    		],
    		"mapped",
    		[
    			1602,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64896,
    			64896
    		],
    		"mapped",
    		[
    			1604,
    			1581,
    			1605
    		]
    	],
    	[
    		[
    			64897,
    			64897
    		],
    		"mapped",
    		[
    			1604,
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64898,
    			64898
    		],
    		"mapped",
    		[
    			1604,
    			1581,
    			1609
    		]
    	],
    	[
    		[
    			64899,
    			64900
    		],
    		"mapped",
    		[
    			1604,
    			1580,
    			1580
    		]
    	],
    	[
    		[
    			64901,
    			64902
    		],
    		"mapped",
    		[
    			1604,
    			1582,
    			1605
    		]
    	],
    	[
    		[
    			64903,
    			64904
    		],
    		"mapped",
    		[
    			1604,
    			1605,
    			1581
    		]
    	],
    	[
    		[
    			64905,
    			64905
    		],
    		"mapped",
    		[
    			1605,
    			1581,
    			1580
    		]
    	],
    	[
    		[
    			64906,
    			64906
    		],
    		"mapped",
    		[
    			1605,
    			1581,
    			1605
    		]
    	],
    	[
    		[
    			64907,
    			64907
    		],
    		"mapped",
    		[
    			1605,
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64908,
    			64908
    		],
    		"mapped",
    		[
    			1605,
    			1580,
    			1581
    		]
    	],
    	[
    		[
    			64909,
    			64909
    		],
    		"mapped",
    		[
    			1605,
    			1580,
    			1605
    		]
    	],
    	[
    		[
    			64910,
    			64910
    		],
    		"mapped",
    		[
    			1605,
    			1582,
    			1580
    		]
    	],
    	[
    		[
    			64911,
    			64911
    		],
    		"mapped",
    		[
    			1605,
    			1582,
    			1605
    		]
    	],
    	[
    		[
    			64912,
    			64913
    		],
    		"disallowed"
    	],
    	[
    		[
    			64914,
    			64914
    		],
    		"mapped",
    		[
    			1605,
    			1580,
    			1582
    		]
    	],
    	[
    		[
    			64915,
    			64915
    		],
    		"mapped",
    		[
    			1607,
    			1605,
    			1580
    		]
    	],
    	[
    		[
    			64916,
    			64916
    		],
    		"mapped",
    		[
    			1607,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64917,
    			64917
    		],
    		"mapped",
    		[
    			1606,
    			1581,
    			1605
    		]
    	],
    	[
    		[
    			64918,
    			64918
    		],
    		"mapped",
    		[
    			1606,
    			1581,
    			1609
    		]
    	],
    	[
    		[
    			64919,
    			64920
    		],
    		"mapped",
    		[
    			1606,
    			1580,
    			1605
    		]
    	],
    	[
    		[
    			64921,
    			64921
    		],
    		"mapped",
    		[
    			1606,
    			1580,
    			1609
    		]
    	],
    	[
    		[
    			64922,
    			64922
    		],
    		"mapped",
    		[
    			1606,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64923,
    			64923
    		],
    		"mapped",
    		[
    			1606,
    			1605,
    			1609
    		]
    	],
    	[
    		[
    			64924,
    			64925
    		],
    		"mapped",
    		[
    			1610,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64926,
    			64926
    		],
    		"mapped",
    		[
    			1576,
    			1582,
    			1610
    		]
    	],
    	[
    		[
    			64927,
    			64927
    		],
    		"mapped",
    		[
    			1578,
    			1580,
    			1610
    		]
    	],
    	[
    		[
    			64928,
    			64928
    		],
    		"mapped",
    		[
    			1578,
    			1580,
    			1609
    		]
    	],
    	[
    		[
    			64929,
    			64929
    		],
    		"mapped",
    		[
    			1578,
    			1582,
    			1610
    		]
    	],
    	[
    		[
    			64930,
    			64930
    		],
    		"mapped",
    		[
    			1578,
    			1582,
    			1609
    		]
    	],
    	[
    		[
    			64931,
    			64931
    		],
    		"mapped",
    		[
    			1578,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64932,
    			64932
    		],
    		"mapped",
    		[
    			1578,
    			1605,
    			1609
    		]
    	],
    	[
    		[
    			64933,
    			64933
    		],
    		"mapped",
    		[
    			1580,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64934,
    			64934
    		],
    		"mapped",
    		[
    			1580,
    			1581,
    			1609
    		]
    	],
    	[
    		[
    			64935,
    			64935
    		],
    		"mapped",
    		[
    			1580,
    			1605,
    			1609
    		]
    	],
    	[
    		[
    			64936,
    			64936
    		],
    		"mapped",
    		[
    			1587,
    			1582,
    			1609
    		]
    	],
    	[
    		[
    			64937,
    			64937
    		],
    		"mapped",
    		[
    			1589,
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64938,
    			64938
    		],
    		"mapped",
    		[
    			1588,
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64939,
    			64939
    		],
    		"mapped",
    		[
    			1590,
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64940,
    			64940
    		],
    		"mapped",
    		[
    			1604,
    			1580,
    			1610
    		]
    	],
    	[
    		[
    			64941,
    			64941
    		],
    		"mapped",
    		[
    			1604,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64942,
    			64942
    		],
    		"mapped",
    		[
    			1610,
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64943,
    			64943
    		],
    		"mapped",
    		[
    			1610,
    			1580,
    			1610
    		]
    	],
    	[
    		[
    			64944,
    			64944
    		],
    		"mapped",
    		[
    			1610,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64945,
    			64945
    		],
    		"mapped",
    		[
    			1605,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64946,
    			64946
    		],
    		"mapped",
    		[
    			1602,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64947,
    			64947
    		],
    		"mapped",
    		[
    			1606,
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64948,
    			64948
    		],
    		"mapped",
    		[
    			1602,
    			1605,
    			1581
    		]
    	],
    	[
    		[
    			64949,
    			64949
    		],
    		"mapped",
    		[
    			1604,
    			1581,
    			1605
    		]
    	],
    	[
    		[
    			64950,
    			64950
    		],
    		"mapped",
    		[
    			1593,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64951,
    			64951
    		],
    		"mapped",
    		[
    			1603,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64952,
    			64952
    		],
    		"mapped",
    		[
    			1606,
    			1580,
    			1581
    		]
    	],
    	[
    		[
    			64953,
    			64953
    		],
    		"mapped",
    		[
    			1605,
    			1582,
    			1610
    		]
    	],
    	[
    		[
    			64954,
    			64954
    		],
    		"mapped",
    		[
    			1604,
    			1580,
    			1605
    		]
    	],
    	[
    		[
    			64955,
    			64955
    		],
    		"mapped",
    		[
    			1603,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64956,
    			64956
    		],
    		"mapped",
    		[
    			1604,
    			1580,
    			1605
    		]
    	],
    	[
    		[
    			64957,
    			64957
    		],
    		"mapped",
    		[
    			1606,
    			1580,
    			1581
    		]
    	],
    	[
    		[
    			64958,
    			64958
    		],
    		"mapped",
    		[
    			1580,
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64959,
    			64959
    		],
    		"mapped",
    		[
    			1581,
    			1580,
    			1610
    		]
    	],
    	[
    		[
    			64960,
    			64960
    		],
    		"mapped",
    		[
    			1605,
    			1580,
    			1610
    		]
    	],
    	[
    		[
    			64961,
    			64961
    		],
    		"mapped",
    		[
    			1601,
    			1605,
    			1610
    		]
    	],
    	[
    		[
    			64962,
    			64962
    		],
    		"mapped",
    		[
    			1576,
    			1581,
    			1610
    		]
    	],
    	[
    		[
    			64963,
    			64963
    		],
    		"mapped",
    		[
    			1603,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64964,
    			64964
    		],
    		"mapped",
    		[
    			1593,
    			1580,
    			1605
    		]
    	],
    	[
    		[
    			64965,
    			64965
    		],
    		"mapped",
    		[
    			1589,
    			1605,
    			1605
    		]
    	],
    	[
    		[
    			64966,
    			64966
    		],
    		"mapped",
    		[
    			1587,
    			1582,
    			1610
    		]
    	],
    	[
    		[
    			64967,
    			64967
    		],
    		"mapped",
    		[
    			1606,
    			1580,
    			1610
    		]
    	],
    	[
    		[
    			64968,
    			64975
    		],
    		"disallowed"
    	],
    	[
    		[
    			64976,
    			65007
    		],
    		"disallowed"
    	],
    	[
    		[
    			65008,
    			65008
    		],
    		"mapped",
    		[
    			1589,
    			1604,
    			1746
    		]
    	],
    	[
    		[
    			65009,
    			65009
    		],
    		"mapped",
    		[
    			1602,
    			1604,
    			1746
    		]
    	],
    	[
    		[
    			65010,
    			65010
    		],
    		"mapped",
    		[
    			1575,
    			1604,
    			1604,
    			1607
    		]
    	],
    	[
    		[
    			65011,
    			65011
    		],
    		"mapped",
    		[
    			1575,
    			1603,
    			1576,
    			1585
    		]
    	],
    	[
    		[
    			65012,
    			65012
    		],
    		"mapped",
    		[
    			1605,
    			1581,
    			1605,
    			1583
    		]
    	],
    	[
    		[
    			65013,
    			65013
    		],
    		"mapped",
    		[
    			1589,
    			1604,
    			1593,
    			1605
    		]
    	],
    	[
    		[
    			65014,
    			65014
    		],
    		"mapped",
    		[
    			1585,
    			1587,
    			1608,
    			1604
    		]
    	],
    	[
    		[
    			65015,
    			65015
    		],
    		"mapped",
    		[
    			1593,
    			1604,
    			1610,
    			1607
    		]
    	],
    	[
    		[
    			65016,
    			65016
    		],
    		"mapped",
    		[
    			1608,
    			1587,
    			1604,
    			1605
    		]
    	],
    	[
    		[
    			65017,
    			65017
    		],
    		"mapped",
    		[
    			1589,
    			1604,
    			1609
    		]
    	],
    	[
    		[
    			65018,
    			65018
    		],
    		"disallowed_STD3_mapped",
    		[
    			1589,
    			1604,
    			1609,
    			32,
    			1575,
    			1604,
    			1604,
    			1607,
    			32,
    			1593,
    			1604,
    			1610,
    			1607,
    			32,
    			1608,
    			1587,
    			1604,
    			1605
    		]
    	],
    	[
    		[
    			65019,
    			65019
    		],
    		"disallowed_STD3_mapped",
    		[
    			1580,
    			1604,
    			32,
    			1580,
    			1604,
    			1575,
    			1604,
    			1607
    		]
    	],
    	[
    		[
    			65020,
    			65020
    		],
    		"mapped",
    		[
    			1585,
    			1740,
    			1575,
    			1604
    		]
    	],
    	[
    		[
    			65021,
    			65021
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			65022,
    			65023
    		],
    		"disallowed"
    	],
    	[
    		[
    			65024,
    			65039
    		],
    		"ignored"
    	],
    	[
    		[
    			65040,
    			65040
    		],
    		"disallowed_STD3_mapped",
    		[
    			44
    		]
    	],
    	[
    		[
    			65041,
    			65041
    		],
    		"mapped",
    		[
    			12289
    		]
    	],
    	[
    		[
    			65042,
    			65042
    		],
    		"disallowed"
    	],
    	[
    		[
    			65043,
    			65043
    		],
    		"disallowed_STD3_mapped",
    		[
    			58
    		]
    	],
    	[
    		[
    			65044,
    			65044
    		],
    		"disallowed_STD3_mapped",
    		[
    			59
    		]
    	],
    	[
    		[
    			65045,
    			65045
    		],
    		"disallowed_STD3_mapped",
    		[
    			33
    		]
    	],
    	[
    		[
    			65046,
    			65046
    		],
    		"disallowed_STD3_mapped",
    		[
    			63
    		]
    	],
    	[
    		[
    			65047,
    			65047
    		],
    		"mapped",
    		[
    			12310
    		]
    	],
    	[
    		[
    			65048,
    			65048
    		],
    		"mapped",
    		[
    			12311
    		]
    	],
    	[
    		[
    			65049,
    			65049
    		],
    		"disallowed"
    	],
    	[
    		[
    			65050,
    			65055
    		],
    		"disallowed"
    	],
    	[
    		[
    			65056,
    			65059
    		],
    		"valid"
    	],
    	[
    		[
    			65060,
    			65062
    		],
    		"valid"
    	],
    	[
    		[
    			65063,
    			65069
    		],
    		"valid"
    	],
    	[
    		[
    			65070,
    			65071
    		],
    		"valid"
    	],
    	[
    		[
    			65072,
    			65072
    		],
    		"disallowed"
    	],
    	[
    		[
    			65073,
    			65073
    		],
    		"mapped",
    		[
    			8212
    		]
    	],
    	[
    		[
    			65074,
    			65074
    		],
    		"mapped",
    		[
    			8211
    		]
    	],
    	[
    		[
    			65075,
    			65076
    		],
    		"disallowed_STD3_mapped",
    		[
    			95
    		]
    	],
    	[
    		[
    			65077,
    			65077
    		],
    		"disallowed_STD3_mapped",
    		[
    			40
    		]
    	],
    	[
    		[
    			65078,
    			65078
    		],
    		"disallowed_STD3_mapped",
    		[
    			41
    		]
    	],
    	[
    		[
    			65079,
    			65079
    		],
    		"disallowed_STD3_mapped",
    		[
    			123
    		]
    	],
    	[
    		[
    			65080,
    			65080
    		],
    		"disallowed_STD3_mapped",
    		[
    			125
    		]
    	],
    	[
    		[
    			65081,
    			65081
    		],
    		"mapped",
    		[
    			12308
    		]
    	],
    	[
    		[
    			65082,
    			65082
    		],
    		"mapped",
    		[
    			12309
    		]
    	],
    	[
    		[
    			65083,
    			65083
    		],
    		"mapped",
    		[
    			12304
    		]
    	],
    	[
    		[
    			65084,
    			65084
    		],
    		"mapped",
    		[
    			12305
    		]
    	],
    	[
    		[
    			65085,
    			65085
    		],
    		"mapped",
    		[
    			12298
    		]
    	],
    	[
    		[
    			65086,
    			65086
    		],
    		"mapped",
    		[
    			12299
    		]
    	],
    	[
    		[
    			65087,
    			65087
    		],
    		"mapped",
    		[
    			12296
    		]
    	],
    	[
    		[
    			65088,
    			65088
    		],
    		"mapped",
    		[
    			12297
    		]
    	],
    	[
    		[
    			65089,
    			65089
    		],
    		"mapped",
    		[
    			12300
    		]
    	],
    	[
    		[
    			65090,
    			65090
    		],
    		"mapped",
    		[
    			12301
    		]
    	],
    	[
    		[
    			65091,
    			65091
    		],
    		"mapped",
    		[
    			12302
    		]
    	],
    	[
    		[
    			65092,
    			65092
    		],
    		"mapped",
    		[
    			12303
    		]
    	],
    	[
    		[
    			65093,
    			65094
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			65095,
    			65095
    		],
    		"disallowed_STD3_mapped",
    		[
    			91
    		]
    	],
    	[
    		[
    			65096,
    			65096
    		],
    		"disallowed_STD3_mapped",
    		[
    			93
    		]
    	],
    	[
    		[
    			65097,
    			65100
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			773
    		]
    	],
    	[
    		[
    			65101,
    			65103
    		],
    		"disallowed_STD3_mapped",
    		[
    			95
    		]
    	],
    	[
    		[
    			65104,
    			65104
    		],
    		"disallowed_STD3_mapped",
    		[
    			44
    		]
    	],
    	[
    		[
    			65105,
    			65105
    		],
    		"mapped",
    		[
    			12289
    		]
    	],
    	[
    		[
    			65106,
    			65106
    		],
    		"disallowed"
    	],
    	[
    		[
    			65107,
    			65107
    		],
    		"disallowed"
    	],
    	[
    		[
    			65108,
    			65108
    		],
    		"disallowed_STD3_mapped",
    		[
    			59
    		]
    	],
    	[
    		[
    			65109,
    			65109
    		],
    		"disallowed_STD3_mapped",
    		[
    			58
    		]
    	],
    	[
    		[
    			65110,
    			65110
    		],
    		"disallowed_STD3_mapped",
    		[
    			63
    		]
    	],
    	[
    		[
    			65111,
    			65111
    		],
    		"disallowed_STD3_mapped",
    		[
    			33
    		]
    	],
    	[
    		[
    			65112,
    			65112
    		],
    		"mapped",
    		[
    			8212
    		]
    	],
    	[
    		[
    			65113,
    			65113
    		],
    		"disallowed_STD3_mapped",
    		[
    			40
    		]
    	],
    	[
    		[
    			65114,
    			65114
    		],
    		"disallowed_STD3_mapped",
    		[
    			41
    		]
    	],
    	[
    		[
    			65115,
    			65115
    		],
    		"disallowed_STD3_mapped",
    		[
    			123
    		]
    	],
    	[
    		[
    			65116,
    			65116
    		],
    		"disallowed_STD3_mapped",
    		[
    			125
    		]
    	],
    	[
    		[
    			65117,
    			65117
    		],
    		"mapped",
    		[
    			12308
    		]
    	],
    	[
    		[
    			65118,
    			65118
    		],
    		"mapped",
    		[
    			12309
    		]
    	],
    	[
    		[
    			65119,
    			65119
    		],
    		"disallowed_STD3_mapped",
    		[
    			35
    		]
    	],
    	[
    		[
    			65120,
    			65120
    		],
    		"disallowed_STD3_mapped",
    		[
    			38
    		]
    	],
    	[
    		[
    			65121,
    			65121
    		],
    		"disallowed_STD3_mapped",
    		[
    			42
    		]
    	],
    	[
    		[
    			65122,
    			65122
    		],
    		"disallowed_STD3_mapped",
    		[
    			43
    		]
    	],
    	[
    		[
    			65123,
    			65123
    		],
    		"mapped",
    		[
    			45
    		]
    	],
    	[
    		[
    			65124,
    			65124
    		],
    		"disallowed_STD3_mapped",
    		[
    			60
    		]
    	],
    	[
    		[
    			65125,
    			65125
    		],
    		"disallowed_STD3_mapped",
    		[
    			62
    		]
    	],
    	[
    		[
    			65126,
    			65126
    		],
    		"disallowed_STD3_mapped",
    		[
    			61
    		]
    	],
    	[
    		[
    			65127,
    			65127
    		],
    		"disallowed"
    	],
    	[
    		[
    			65128,
    			65128
    		],
    		"disallowed_STD3_mapped",
    		[
    			92
    		]
    	],
    	[
    		[
    			65129,
    			65129
    		],
    		"disallowed_STD3_mapped",
    		[
    			36
    		]
    	],
    	[
    		[
    			65130,
    			65130
    		],
    		"disallowed_STD3_mapped",
    		[
    			37
    		]
    	],
    	[
    		[
    			65131,
    			65131
    		],
    		"disallowed_STD3_mapped",
    		[
    			64
    		]
    	],
    	[
    		[
    			65132,
    			65135
    		],
    		"disallowed"
    	],
    	[
    		[
    			65136,
    			65136
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1611
    		]
    	],
    	[
    		[
    			65137,
    			65137
    		],
    		"mapped",
    		[
    			1600,
    			1611
    		]
    	],
    	[
    		[
    			65138,
    			65138
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1612
    		]
    	],
    	[
    		[
    			65139,
    			65139
    		],
    		"valid"
    	],
    	[
    		[
    			65140,
    			65140
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1613
    		]
    	],
    	[
    		[
    			65141,
    			65141
    		],
    		"disallowed"
    	],
    	[
    		[
    			65142,
    			65142
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1614
    		]
    	],
    	[
    		[
    			65143,
    			65143
    		],
    		"mapped",
    		[
    			1600,
    			1614
    		]
    	],
    	[
    		[
    			65144,
    			65144
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1615
    		]
    	],
    	[
    		[
    			65145,
    			65145
    		],
    		"mapped",
    		[
    			1600,
    			1615
    		]
    	],
    	[
    		[
    			65146,
    			65146
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1616
    		]
    	],
    	[
    		[
    			65147,
    			65147
    		],
    		"mapped",
    		[
    			1600,
    			1616
    		]
    	],
    	[
    		[
    			65148,
    			65148
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1617
    		]
    	],
    	[
    		[
    			65149,
    			65149
    		],
    		"mapped",
    		[
    			1600,
    			1617
    		]
    	],
    	[
    		[
    			65150,
    			65150
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			1618
    		]
    	],
    	[
    		[
    			65151,
    			65151
    		],
    		"mapped",
    		[
    			1600,
    			1618
    		]
    	],
    	[
    		[
    			65152,
    			65152
    		],
    		"mapped",
    		[
    			1569
    		]
    	],
    	[
    		[
    			65153,
    			65154
    		],
    		"mapped",
    		[
    			1570
    		]
    	],
    	[
    		[
    			65155,
    			65156
    		],
    		"mapped",
    		[
    			1571
    		]
    	],
    	[
    		[
    			65157,
    			65158
    		],
    		"mapped",
    		[
    			1572
    		]
    	],
    	[
    		[
    			65159,
    			65160
    		],
    		"mapped",
    		[
    			1573
    		]
    	],
    	[
    		[
    			65161,
    			65164
    		],
    		"mapped",
    		[
    			1574
    		]
    	],
    	[
    		[
    			65165,
    			65166
    		],
    		"mapped",
    		[
    			1575
    		]
    	],
    	[
    		[
    			65167,
    			65170
    		],
    		"mapped",
    		[
    			1576
    		]
    	],
    	[
    		[
    			65171,
    			65172
    		],
    		"mapped",
    		[
    			1577
    		]
    	],
    	[
    		[
    			65173,
    			65176
    		],
    		"mapped",
    		[
    			1578
    		]
    	],
    	[
    		[
    			65177,
    			65180
    		],
    		"mapped",
    		[
    			1579
    		]
    	],
    	[
    		[
    			65181,
    			65184
    		],
    		"mapped",
    		[
    			1580
    		]
    	],
    	[
    		[
    			65185,
    			65188
    		],
    		"mapped",
    		[
    			1581
    		]
    	],
    	[
    		[
    			65189,
    			65192
    		],
    		"mapped",
    		[
    			1582
    		]
    	],
    	[
    		[
    			65193,
    			65194
    		],
    		"mapped",
    		[
    			1583
    		]
    	],
    	[
    		[
    			65195,
    			65196
    		],
    		"mapped",
    		[
    			1584
    		]
    	],
    	[
    		[
    			65197,
    			65198
    		],
    		"mapped",
    		[
    			1585
    		]
    	],
    	[
    		[
    			65199,
    			65200
    		],
    		"mapped",
    		[
    			1586
    		]
    	],
    	[
    		[
    			65201,
    			65204
    		],
    		"mapped",
    		[
    			1587
    		]
    	],
    	[
    		[
    			65205,
    			65208
    		],
    		"mapped",
    		[
    			1588
    		]
    	],
    	[
    		[
    			65209,
    			65212
    		],
    		"mapped",
    		[
    			1589
    		]
    	],
    	[
    		[
    			65213,
    			65216
    		],
    		"mapped",
    		[
    			1590
    		]
    	],
    	[
    		[
    			65217,
    			65220
    		],
    		"mapped",
    		[
    			1591
    		]
    	],
    	[
    		[
    			65221,
    			65224
    		],
    		"mapped",
    		[
    			1592
    		]
    	],
    	[
    		[
    			65225,
    			65228
    		],
    		"mapped",
    		[
    			1593
    		]
    	],
    	[
    		[
    			65229,
    			65232
    		],
    		"mapped",
    		[
    			1594
    		]
    	],
    	[
    		[
    			65233,
    			65236
    		],
    		"mapped",
    		[
    			1601
    		]
    	],
    	[
    		[
    			65237,
    			65240
    		],
    		"mapped",
    		[
    			1602
    		]
    	],
    	[
    		[
    			65241,
    			65244
    		],
    		"mapped",
    		[
    			1603
    		]
    	],
    	[
    		[
    			65245,
    			65248
    		],
    		"mapped",
    		[
    			1604
    		]
    	],
    	[
    		[
    			65249,
    			65252
    		],
    		"mapped",
    		[
    			1605
    		]
    	],
    	[
    		[
    			65253,
    			65256
    		],
    		"mapped",
    		[
    			1606
    		]
    	],
    	[
    		[
    			65257,
    			65260
    		],
    		"mapped",
    		[
    			1607
    		]
    	],
    	[
    		[
    			65261,
    			65262
    		],
    		"mapped",
    		[
    			1608
    		]
    	],
    	[
    		[
    			65263,
    			65264
    		],
    		"mapped",
    		[
    			1609
    		]
    	],
    	[
    		[
    			65265,
    			65268
    		],
    		"mapped",
    		[
    			1610
    		]
    	],
    	[
    		[
    			65269,
    			65270
    		],
    		"mapped",
    		[
    			1604,
    			1570
    		]
    	],
    	[
    		[
    			65271,
    			65272
    		],
    		"mapped",
    		[
    			1604,
    			1571
    		]
    	],
    	[
    		[
    			65273,
    			65274
    		],
    		"mapped",
    		[
    			1604,
    			1573
    		]
    	],
    	[
    		[
    			65275,
    			65276
    		],
    		"mapped",
    		[
    			1604,
    			1575
    		]
    	],
    	[
    		[
    			65277,
    			65278
    		],
    		"disallowed"
    	],
    	[
    		[
    			65279,
    			65279
    		],
    		"ignored"
    	],
    	[
    		[
    			65280,
    			65280
    		],
    		"disallowed"
    	],
    	[
    		[
    			65281,
    			65281
    		],
    		"disallowed_STD3_mapped",
    		[
    			33
    		]
    	],
    	[
    		[
    			65282,
    			65282
    		],
    		"disallowed_STD3_mapped",
    		[
    			34
    		]
    	],
    	[
    		[
    			65283,
    			65283
    		],
    		"disallowed_STD3_mapped",
    		[
    			35
    		]
    	],
    	[
    		[
    			65284,
    			65284
    		],
    		"disallowed_STD3_mapped",
    		[
    			36
    		]
    	],
    	[
    		[
    			65285,
    			65285
    		],
    		"disallowed_STD3_mapped",
    		[
    			37
    		]
    	],
    	[
    		[
    			65286,
    			65286
    		],
    		"disallowed_STD3_mapped",
    		[
    			38
    		]
    	],
    	[
    		[
    			65287,
    			65287
    		],
    		"disallowed_STD3_mapped",
    		[
    			39
    		]
    	],
    	[
    		[
    			65288,
    			65288
    		],
    		"disallowed_STD3_mapped",
    		[
    			40
    		]
    	],
    	[
    		[
    			65289,
    			65289
    		],
    		"disallowed_STD3_mapped",
    		[
    			41
    		]
    	],
    	[
    		[
    			65290,
    			65290
    		],
    		"disallowed_STD3_mapped",
    		[
    			42
    		]
    	],
    	[
    		[
    			65291,
    			65291
    		],
    		"disallowed_STD3_mapped",
    		[
    			43
    		]
    	],
    	[
    		[
    			65292,
    			65292
    		],
    		"disallowed_STD3_mapped",
    		[
    			44
    		]
    	],
    	[
    		[
    			65293,
    			65293
    		],
    		"mapped",
    		[
    			45
    		]
    	],
    	[
    		[
    			65294,
    			65294
    		],
    		"mapped",
    		[
    			46
    		]
    	],
    	[
    		[
    			65295,
    			65295
    		],
    		"disallowed_STD3_mapped",
    		[
    			47
    		]
    	],
    	[
    		[
    			65296,
    			65296
    		],
    		"mapped",
    		[
    			48
    		]
    	],
    	[
    		[
    			65297,
    			65297
    		],
    		"mapped",
    		[
    			49
    		]
    	],
    	[
    		[
    			65298,
    			65298
    		],
    		"mapped",
    		[
    			50
    		]
    	],
    	[
    		[
    			65299,
    			65299
    		],
    		"mapped",
    		[
    			51
    		]
    	],
    	[
    		[
    			65300,
    			65300
    		],
    		"mapped",
    		[
    			52
    		]
    	],
    	[
    		[
    			65301,
    			65301
    		],
    		"mapped",
    		[
    			53
    		]
    	],
    	[
    		[
    			65302,
    			65302
    		],
    		"mapped",
    		[
    			54
    		]
    	],
    	[
    		[
    			65303,
    			65303
    		],
    		"mapped",
    		[
    			55
    		]
    	],
    	[
    		[
    			65304,
    			65304
    		],
    		"mapped",
    		[
    			56
    		]
    	],
    	[
    		[
    			65305,
    			65305
    		],
    		"mapped",
    		[
    			57
    		]
    	],
    	[
    		[
    			65306,
    			65306
    		],
    		"disallowed_STD3_mapped",
    		[
    			58
    		]
    	],
    	[
    		[
    			65307,
    			65307
    		],
    		"disallowed_STD3_mapped",
    		[
    			59
    		]
    	],
    	[
    		[
    			65308,
    			65308
    		],
    		"disallowed_STD3_mapped",
    		[
    			60
    		]
    	],
    	[
    		[
    			65309,
    			65309
    		],
    		"disallowed_STD3_mapped",
    		[
    			61
    		]
    	],
    	[
    		[
    			65310,
    			65310
    		],
    		"disallowed_STD3_mapped",
    		[
    			62
    		]
    	],
    	[
    		[
    			65311,
    			65311
    		],
    		"disallowed_STD3_mapped",
    		[
    			63
    		]
    	],
    	[
    		[
    			65312,
    			65312
    		],
    		"disallowed_STD3_mapped",
    		[
    			64
    		]
    	],
    	[
    		[
    			65313,
    			65313
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			65314,
    			65314
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			65315,
    			65315
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			65316,
    			65316
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			65317,
    			65317
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			65318,
    			65318
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			65319,
    			65319
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			65320,
    			65320
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			65321,
    			65321
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			65322,
    			65322
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			65323,
    			65323
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			65324,
    			65324
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			65325,
    			65325
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			65326,
    			65326
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			65327,
    			65327
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			65328,
    			65328
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			65329,
    			65329
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			65330,
    			65330
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			65331,
    			65331
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			65332,
    			65332
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			65333,
    			65333
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			65334,
    			65334
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			65335,
    			65335
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			65336,
    			65336
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			65337,
    			65337
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			65338,
    			65338
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			65339,
    			65339
    		],
    		"disallowed_STD3_mapped",
    		[
    			91
    		]
    	],
    	[
    		[
    			65340,
    			65340
    		],
    		"disallowed_STD3_mapped",
    		[
    			92
    		]
    	],
    	[
    		[
    			65341,
    			65341
    		],
    		"disallowed_STD3_mapped",
    		[
    			93
    		]
    	],
    	[
    		[
    			65342,
    			65342
    		],
    		"disallowed_STD3_mapped",
    		[
    			94
    		]
    	],
    	[
    		[
    			65343,
    			65343
    		],
    		"disallowed_STD3_mapped",
    		[
    			95
    		]
    	],
    	[
    		[
    			65344,
    			65344
    		],
    		"disallowed_STD3_mapped",
    		[
    			96
    		]
    	],
    	[
    		[
    			65345,
    			65345
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			65346,
    			65346
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			65347,
    			65347
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			65348,
    			65348
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			65349,
    			65349
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			65350,
    			65350
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			65351,
    			65351
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			65352,
    			65352
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			65353,
    			65353
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			65354,
    			65354
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			65355,
    			65355
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			65356,
    			65356
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			65357,
    			65357
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			65358,
    			65358
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			65359,
    			65359
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			65360,
    			65360
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			65361,
    			65361
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			65362,
    			65362
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			65363,
    			65363
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			65364,
    			65364
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			65365,
    			65365
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			65366,
    			65366
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			65367,
    			65367
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			65368,
    			65368
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			65369,
    			65369
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			65370,
    			65370
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			65371,
    			65371
    		],
    		"disallowed_STD3_mapped",
    		[
    			123
    		]
    	],
    	[
    		[
    			65372,
    			65372
    		],
    		"disallowed_STD3_mapped",
    		[
    			124
    		]
    	],
    	[
    		[
    			65373,
    			65373
    		],
    		"disallowed_STD3_mapped",
    		[
    			125
    		]
    	],
    	[
    		[
    			65374,
    			65374
    		],
    		"disallowed_STD3_mapped",
    		[
    			126
    		]
    	],
    	[
    		[
    			65375,
    			65375
    		],
    		"mapped",
    		[
    			10629
    		]
    	],
    	[
    		[
    			65376,
    			65376
    		],
    		"mapped",
    		[
    			10630
    		]
    	],
    	[
    		[
    			65377,
    			65377
    		],
    		"mapped",
    		[
    			46
    		]
    	],
    	[
    		[
    			65378,
    			65378
    		],
    		"mapped",
    		[
    			12300
    		]
    	],
    	[
    		[
    			65379,
    			65379
    		],
    		"mapped",
    		[
    			12301
    		]
    	],
    	[
    		[
    			65380,
    			65380
    		],
    		"mapped",
    		[
    			12289
    		]
    	],
    	[
    		[
    			65381,
    			65381
    		],
    		"mapped",
    		[
    			12539
    		]
    	],
    	[
    		[
    			65382,
    			65382
    		],
    		"mapped",
    		[
    			12530
    		]
    	],
    	[
    		[
    			65383,
    			65383
    		],
    		"mapped",
    		[
    			12449
    		]
    	],
    	[
    		[
    			65384,
    			65384
    		],
    		"mapped",
    		[
    			12451
    		]
    	],
    	[
    		[
    			65385,
    			65385
    		],
    		"mapped",
    		[
    			12453
    		]
    	],
    	[
    		[
    			65386,
    			65386
    		],
    		"mapped",
    		[
    			12455
    		]
    	],
    	[
    		[
    			65387,
    			65387
    		],
    		"mapped",
    		[
    			12457
    		]
    	],
    	[
    		[
    			65388,
    			65388
    		],
    		"mapped",
    		[
    			12515
    		]
    	],
    	[
    		[
    			65389,
    			65389
    		],
    		"mapped",
    		[
    			12517
    		]
    	],
    	[
    		[
    			65390,
    			65390
    		],
    		"mapped",
    		[
    			12519
    		]
    	],
    	[
    		[
    			65391,
    			65391
    		],
    		"mapped",
    		[
    			12483
    		]
    	],
    	[
    		[
    			65392,
    			65392
    		],
    		"mapped",
    		[
    			12540
    		]
    	],
    	[
    		[
    			65393,
    			65393
    		],
    		"mapped",
    		[
    			12450
    		]
    	],
    	[
    		[
    			65394,
    			65394
    		],
    		"mapped",
    		[
    			12452
    		]
    	],
    	[
    		[
    			65395,
    			65395
    		],
    		"mapped",
    		[
    			12454
    		]
    	],
    	[
    		[
    			65396,
    			65396
    		],
    		"mapped",
    		[
    			12456
    		]
    	],
    	[
    		[
    			65397,
    			65397
    		],
    		"mapped",
    		[
    			12458
    		]
    	],
    	[
    		[
    			65398,
    			65398
    		],
    		"mapped",
    		[
    			12459
    		]
    	],
    	[
    		[
    			65399,
    			65399
    		],
    		"mapped",
    		[
    			12461
    		]
    	],
    	[
    		[
    			65400,
    			65400
    		],
    		"mapped",
    		[
    			12463
    		]
    	],
    	[
    		[
    			65401,
    			65401
    		],
    		"mapped",
    		[
    			12465
    		]
    	],
    	[
    		[
    			65402,
    			65402
    		],
    		"mapped",
    		[
    			12467
    		]
    	],
    	[
    		[
    			65403,
    			65403
    		],
    		"mapped",
    		[
    			12469
    		]
    	],
    	[
    		[
    			65404,
    			65404
    		],
    		"mapped",
    		[
    			12471
    		]
    	],
    	[
    		[
    			65405,
    			65405
    		],
    		"mapped",
    		[
    			12473
    		]
    	],
    	[
    		[
    			65406,
    			65406
    		],
    		"mapped",
    		[
    			12475
    		]
    	],
    	[
    		[
    			65407,
    			65407
    		],
    		"mapped",
    		[
    			12477
    		]
    	],
    	[
    		[
    			65408,
    			65408
    		],
    		"mapped",
    		[
    			12479
    		]
    	],
    	[
    		[
    			65409,
    			65409
    		],
    		"mapped",
    		[
    			12481
    		]
    	],
    	[
    		[
    			65410,
    			65410
    		],
    		"mapped",
    		[
    			12484
    		]
    	],
    	[
    		[
    			65411,
    			65411
    		],
    		"mapped",
    		[
    			12486
    		]
    	],
    	[
    		[
    			65412,
    			65412
    		],
    		"mapped",
    		[
    			12488
    		]
    	],
    	[
    		[
    			65413,
    			65413
    		],
    		"mapped",
    		[
    			12490
    		]
    	],
    	[
    		[
    			65414,
    			65414
    		],
    		"mapped",
    		[
    			12491
    		]
    	],
    	[
    		[
    			65415,
    			65415
    		],
    		"mapped",
    		[
    			12492
    		]
    	],
    	[
    		[
    			65416,
    			65416
    		],
    		"mapped",
    		[
    			12493
    		]
    	],
    	[
    		[
    			65417,
    			65417
    		],
    		"mapped",
    		[
    			12494
    		]
    	],
    	[
    		[
    			65418,
    			65418
    		],
    		"mapped",
    		[
    			12495
    		]
    	],
    	[
    		[
    			65419,
    			65419
    		],
    		"mapped",
    		[
    			12498
    		]
    	],
    	[
    		[
    			65420,
    			65420
    		],
    		"mapped",
    		[
    			12501
    		]
    	],
    	[
    		[
    			65421,
    			65421
    		],
    		"mapped",
    		[
    			12504
    		]
    	],
    	[
    		[
    			65422,
    			65422
    		],
    		"mapped",
    		[
    			12507
    		]
    	],
    	[
    		[
    			65423,
    			65423
    		],
    		"mapped",
    		[
    			12510
    		]
    	],
    	[
    		[
    			65424,
    			65424
    		],
    		"mapped",
    		[
    			12511
    		]
    	],
    	[
    		[
    			65425,
    			65425
    		],
    		"mapped",
    		[
    			12512
    		]
    	],
    	[
    		[
    			65426,
    			65426
    		],
    		"mapped",
    		[
    			12513
    		]
    	],
    	[
    		[
    			65427,
    			65427
    		],
    		"mapped",
    		[
    			12514
    		]
    	],
    	[
    		[
    			65428,
    			65428
    		],
    		"mapped",
    		[
    			12516
    		]
    	],
    	[
    		[
    			65429,
    			65429
    		],
    		"mapped",
    		[
    			12518
    		]
    	],
    	[
    		[
    			65430,
    			65430
    		],
    		"mapped",
    		[
    			12520
    		]
    	],
    	[
    		[
    			65431,
    			65431
    		],
    		"mapped",
    		[
    			12521
    		]
    	],
    	[
    		[
    			65432,
    			65432
    		],
    		"mapped",
    		[
    			12522
    		]
    	],
    	[
    		[
    			65433,
    			65433
    		],
    		"mapped",
    		[
    			12523
    		]
    	],
    	[
    		[
    			65434,
    			65434
    		],
    		"mapped",
    		[
    			12524
    		]
    	],
    	[
    		[
    			65435,
    			65435
    		],
    		"mapped",
    		[
    			12525
    		]
    	],
    	[
    		[
    			65436,
    			65436
    		],
    		"mapped",
    		[
    			12527
    		]
    	],
    	[
    		[
    			65437,
    			65437
    		],
    		"mapped",
    		[
    			12531
    		]
    	],
    	[
    		[
    			65438,
    			65438
    		],
    		"mapped",
    		[
    			12441
    		]
    	],
    	[
    		[
    			65439,
    			65439
    		],
    		"mapped",
    		[
    			12442
    		]
    	],
    	[
    		[
    			65440,
    			65440
    		],
    		"disallowed"
    	],
    	[
    		[
    			65441,
    			65441
    		],
    		"mapped",
    		[
    			4352
    		]
    	],
    	[
    		[
    			65442,
    			65442
    		],
    		"mapped",
    		[
    			4353
    		]
    	],
    	[
    		[
    			65443,
    			65443
    		],
    		"mapped",
    		[
    			4522
    		]
    	],
    	[
    		[
    			65444,
    			65444
    		],
    		"mapped",
    		[
    			4354
    		]
    	],
    	[
    		[
    			65445,
    			65445
    		],
    		"mapped",
    		[
    			4524
    		]
    	],
    	[
    		[
    			65446,
    			65446
    		],
    		"mapped",
    		[
    			4525
    		]
    	],
    	[
    		[
    			65447,
    			65447
    		],
    		"mapped",
    		[
    			4355
    		]
    	],
    	[
    		[
    			65448,
    			65448
    		],
    		"mapped",
    		[
    			4356
    		]
    	],
    	[
    		[
    			65449,
    			65449
    		],
    		"mapped",
    		[
    			4357
    		]
    	],
    	[
    		[
    			65450,
    			65450
    		],
    		"mapped",
    		[
    			4528
    		]
    	],
    	[
    		[
    			65451,
    			65451
    		],
    		"mapped",
    		[
    			4529
    		]
    	],
    	[
    		[
    			65452,
    			65452
    		],
    		"mapped",
    		[
    			4530
    		]
    	],
    	[
    		[
    			65453,
    			65453
    		],
    		"mapped",
    		[
    			4531
    		]
    	],
    	[
    		[
    			65454,
    			65454
    		],
    		"mapped",
    		[
    			4532
    		]
    	],
    	[
    		[
    			65455,
    			65455
    		],
    		"mapped",
    		[
    			4533
    		]
    	],
    	[
    		[
    			65456,
    			65456
    		],
    		"mapped",
    		[
    			4378
    		]
    	],
    	[
    		[
    			65457,
    			65457
    		],
    		"mapped",
    		[
    			4358
    		]
    	],
    	[
    		[
    			65458,
    			65458
    		],
    		"mapped",
    		[
    			4359
    		]
    	],
    	[
    		[
    			65459,
    			65459
    		],
    		"mapped",
    		[
    			4360
    		]
    	],
    	[
    		[
    			65460,
    			65460
    		],
    		"mapped",
    		[
    			4385
    		]
    	],
    	[
    		[
    			65461,
    			65461
    		],
    		"mapped",
    		[
    			4361
    		]
    	],
    	[
    		[
    			65462,
    			65462
    		],
    		"mapped",
    		[
    			4362
    		]
    	],
    	[
    		[
    			65463,
    			65463
    		],
    		"mapped",
    		[
    			4363
    		]
    	],
    	[
    		[
    			65464,
    			65464
    		],
    		"mapped",
    		[
    			4364
    		]
    	],
    	[
    		[
    			65465,
    			65465
    		],
    		"mapped",
    		[
    			4365
    		]
    	],
    	[
    		[
    			65466,
    			65466
    		],
    		"mapped",
    		[
    			4366
    		]
    	],
    	[
    		[
    			65467,
    			65467
    		],
    		"mapped",
    		[
    			4367
    		]
    	],
    	[
    		[
    			65468,
    			65468
    		],
    		"mapped",
    		[
    			4368
    		]
    	],
    	[
    		[
    			65469,
    			65469
    		],
    		"mapped",
    		[
    			4369
    		]
    	],
    	[
    		[
    			65470,
    			65470
    		],
    		"mapped",
    		[
    			4370
    		]
    	],
    	[
    		[
    			65471,
    			65473
    		],
    		"disallowed"
    	],
    	[
    		[
    			65474,
    			65474
    		],
    		"mapped",
    		[
    			4449
    		]
    	],
    	[
    		[
    			65475,
    			65475
    		],
    		"mapped",
    		[
    			4450
    		]
    	],
    	[
    		[
    			65476,
    			65476
    		],
    		"mapped",
    		[
    			4451
    		]
    	],
    	[
    		[
    			65477,
    			65477
    		],
    		"mapped",
    		[
    			4452
    		]
    	],
    	[
    		[
    			65478,
    			65478
    		],
    		"mapped",
    		[
    			4453
    		]
    	],
    	[
    		[
    			65479,
    			65479
    		],
    		"mapped",
    		[
    			4454
    		]
    	],
    	[
    		[
    			65480,
    			65481
    		],
    		"disallowed"
    	],
    	[
    		[
    			65482,
    			65482
    		],
    		"mapped",
    		[
    			4455
    		]
    	],
    	[
    		[
    			65483,
    			65483
    		],
    		"mapped",
    		[
    			4456
    		]
    	],
    	[
    		[
    			65484,
    			65484
    		],
    		"mapped",
    		[
    			4457
    		]
    	],
    	[
    		[
    			65485,
    			65485
    		],
    		"mapped",
    		[
    			4458
    		]
    	],
    	[
    		[
    			65486,
    			65486
    		],
    		"mapped",
    		[
    			4459
    		]
    	],
    	[
    		[
    			65487,
    			65487
    		],
    		"mapped",
    		[
    			4460
    		]
    	],
    	[
    		[
    			65488,
    			65489
    		],
    		"disallowed"
    	],
    	[
    		[
    			65490,
    			65490
    		],
    		"mapped",
    		[
    			4461
    		]
    	],
    	[
    		[
    			65491,
    			65491
    		],
    		"mapped",
    		[
    			4462
    		]
    	],
    	[
    		[
    			65492,
    			65492
    		],
    		"mapped",
    		[
    			4463
    		]
    	],
    	[
    		[
    			65493,
    			65493
    		],
    		"mapped",
    		[
    			4464
    		]
    	],
    	[
    		[
    			65494,
    			65494
    		],
    		"mapped",
    		[
    			4465
    		]
    	],
    	[
    		[
    			65495,
    			65495
    		],
    		"mapped",
    		[
    			4466
    		]
    	],
    	[
    		[
    			65496,
    			65497
    		],
    		"disallowed"
    	],
    	[
    		[
    			65498,
    			65498
    		],
    		"mapped",
    		[
    			4467
    		]
    	],
    	[
    		[
    			65499,
    			65499
    		],
    		"mapped",
    		[
    			4468
    		]
    	],
    	[
    		[
    			65500,
    			65500
    		],
    		"mapped",
    		[
    			4469
    		]
    	],
    	[
    		[
    			65501,
    			65503
    		],
    		"disallowed"
    	],
    	[
    		[
    			65504,
    			65504
    		],
    		"mapped",
    		[
    			162
    		]
    	],
    	[
    		[
    			65505,
    			65505
    		],
    		"mapped",
    		[
    			163
    		]
    	],
    	[
    		[
    			65506,
    			65506
    		],
    		"mapped",
    		[
    			172
    		]
    	],
    	[
    		[
    			65507,
    			65507
    		],
    		"disallowed_STD3_mapped",
    		[
    			32,
    			772
    		]
    	],
    	[
    		[
    			65508,
    			65508
    		],
    		"mapped",
    		[
    			166
    		]
    	],
    	[
    		[
    			65509,
    			65509
    		],
    		"mapped",
    		[
    			165
    		]
    	],
    	[
    		[
    			65510,
    			65510
    		],
    		"mapped",
    		[
    			8361
    		]
    	],
    	[
    		[
    			65511,
    			65511
    		],
    		"disallowed"
    	],
    	[
    		[
    			65512,
    			65512
    		],
    		"mapped",
    		[
    			9474
    		]
    	],
    	[
    		[
    			65513,
    			65513
    		],
    		"mapped",
    		[
    			8592
    		]
    	],
    	[
    		[
    			65514,
    			65514
    		],
    		"mapped",
    		[
    			8593
    		]
    	],
    	[
    		[
    			65515,
    			65515
    		],
    		"mapped",
    		[
    			8594
    		]
    	],
    	[
    		[
    			65516,
    			65516
    		],
    		"mapped",
    		[
    			8595
    		]
    	],
    	[
    		[
    			65517,
    			65517
    		],
    		"mapped",
    		[
    			9632
    		]
    	],
    	[
    		[
    			65518,
    			65518
    		],
    		"mapped",
    		[
    			9675
    		]
    	],
    	[
    		[
    			65519,
    			65528
    		],
    		"disallowed"
    	],
    	[
    		[
    			65529,
    			65531
    		],
    		"disallowed"
    	],
    	[
    		[
    			65532,
    			65532
    		],
    		"disallowed"
    	],
    	[
    		[
    			65533,
    			65533
    		],
    		"disallowed"
    	],
    	[
    		[
    			65534,
    			65535
    		],
    		"disallowed"
    	],
    	[
    		[
    			65536,
    			65547
    		],
    		"valid"
    	],
    	[
    		[
    			65548,
    			65548
    		],
    		"disallowed"
    	],
    	[
    		[
    			65549,
    			65574
    		],
    		"valid"
    	],
    	[
    		[
    			65575,
    			65575
    		],
    		"disallowed"
    	],
    	[
    		[
    			65576,
    			65594
    		],
    		"valid"
    	],
    	[
    		[
    			65595,
    			65595
    		],
    		"disallowed"
    	],
    	[
    		[
    			65596,
    			65597
    		],
    		"valid"
    	],
    	[
    		[
    			65598,
    			65598
    		],
    		"disallowed"
    	],
    	[
    		[
    			65599,
    			65613
    		],
    		"valid"
    	],
    	[
    		[
    			65614,
    			65615
    		],
    		"disallowed"
    	],
    	[
    		[
    			65616,
    			65629
    		],
    		"valid"
    	],
    	[
    		[
    			65630,
    			65663
    		],
    		"disallowed"
    	],
    	[
    		[
    			65664,
    			65786
    		],
    		"valid"
    	],
    	[
    		[
    			65787,
    			65791
    		],
    		"disallowed"
    	],
    	[
    		[
    			65792,
    			65794
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			65795,
    			65798
    		],
    		"disallowed"
    	],
    	[
    		[
    			65799,
    			65843
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			65844,
    			65846
    		],
    		"disallowed"
    	],
    	[
    		[
    			65847,
    			65855
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			65856,
    			65930
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			65931,
    			65932
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			65933,
    			65935
    		],
    		"disallowed"
    	],
    	[
    		[
    			65936,
    			65947
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			65948,
    			65951
    		],
    		"disallowed"
    	],
    	[
    		[
    			65952,
    			65952
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			65953,
    			65999
    		],
    		"disallowed"
    	],
    	[
    		[
    			66000,
    			66044
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			66045,
    			66045
    		],
    		"valid"
    	],
    	[
    		[
    			66046,
    			66175
    		],
    		"disallowed"
    	],
    	[
    		[
    			66176,
    			66204
    		],
    		"valid"
    	],
    	[
    		[
    			66205,
    			66207
    		],
    		"disallowed"
    	],
    	[
    		[
    			66208,
    			66256
    		],
    		"valid"
    	],
    	[
    		[
    			66257,
    			66271
    		],
    		"disallowed"
    	],
    	[
    		[
    			66272,
    			66272
    		],
    		"valid"
    	],
    	[
    		[
    			66273,
    			66299
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			66300,
    			66303
    		],
    		"disallowed"
    	],
    	[
    		[
    			66304,
    			66334
    		],
    		"valid"
    	],
    	[
    		[
    			66335,
    			66335
    		],
    		"valid"
    	],
    	[
    		[
    			66336,
    			66339
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			66340,
    			66351
    		],
    		"disallowed"
    	],
    	[
    		[
    			66352,
    			66368
    		],
    		"valid"
    	],
    	[
    		[
    			66369,
    			66369
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			66370,
    			66377
    		],
    		"valid"
    	],
    	[
    		[
    			66378,
    			66378
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			66379,
    			66383
    		],
    		"disallowed"
    	],
    	[
    		[
    			66384,
    			66426
    		],
    		"valid"
    	],
    	[
    		[
    			66427,
    			66431
    		],
    		"disallowed"
    	],
    	[
    		[
    			66432,
    			66461
    		],
    		"valid"
    	],
    	[
    		[
    			66462,
    			66462
    		],
    		"disallowed"
    	],
    	[
    		[
    			66463,
    			66463
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			66464,
    			66499
    		],
    		"valid"
    	],
    	[
    		[
    			66500,
    			66503
    		],
    		"disallowed"
    	],
    	[
    		[
    			66504,
    			66511
    		],
    		"valid"
    	],
    	[
    		[
    			66512,
    			66517
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			66518,
    			66559
    		],
    		"disallowed"
    	],
    	[
    		[
    			66560,
    			66560
    		],
    		"mapped",
    		[
    			66600
    		]
    	],
    	[
    		[
    			66561,
    			66561
    		],
    		"mapped",
    		[
    			66601
    		]
    	],
    	[
    		[
    			66562,
    			66562
    		],
    		"mapped",
    		[
    			66602
    		]
    	],
    	[
    		[
    			66563,
    			66563
    		],
    		"mapped",
    		[
    			66603
    		]
    	],
    	[
    		[
    			66564,
    			66564
    		],
    		"mapped",
    		[
    			66604
    		]
    	],
    	[
    		[
    			66565,
    			66565
    		],
    		"mapped",
    		[
    			66605
    		]
    	],
    	[
    		[
    			66566,
    			66566
    		],
    		"mapped",
    		[
    			66606
    		]
    	],
    	[
    		[
    			66567,
    			66567
    		],
    		"mapped",
    		[
    			66607
    		]
    	],
    	[
    		[
    			66568,
    			66568
    		],
    		"mapped",
    		[
    			66608
    		]
    	],
    	[
    		[
    			66569,
    			66569
    		],
    		"mapped",
    		[
    			66609
    		]
    	],
    	[
    		[
    			66570,
    			66570
    		],
    		"mapped",
    		[
    			66610
    		]
    	],
    	[
    		[
    			66571,
    			66571
    		],
    		"mapped",
    		[
    			66611
    		]
    	],
    	[
    		[
    			66572,
    			66572
    		],
    		"mapped",
    		[
    			66612
    		]
    	],
    	[
    		[
    			66573,
    			66573
    		],
    		"mapped",
    		[
    			66613
    		]
    	],
    	[
    		[
    			66574,
    			66574
    		],
    		"mapped",
    		[
    			66614
    		]
    	],
    	[
    		[
    			66575,
    			66575
    		],
    		"mapped",
    		[
    			66615
    		]
    	],
    	[
    		[
    			66576,
    			66576
    		],
    		"mapped",
    		[
    			66616
    		]
    	],
    	[
    		[
    			66577,
    			66577
    		],
    		"mapped",
    		[
    			66617
    		]
    	],
    	[
    		[
    			66578,
    			66578
    		],
    		"mapped",
    		[
    			66618
    		]
    	],
    	[
    		[
    			66579,
    			66579
    		],
    		"mapped",
    		[
    			66619
    		]
    	],
    	[
    		[
    			66580,
    			66580
    		],
    		"mapped",
    		[
    			66620
    		]
    	],
    	[
    		[
    			66581,
    			66581
    		],
    		"mapped",
    		[
    			66621
    		]
    	],
    	[
    		[
    			66582,
    			66582
    		],
    		"mapped",
    		[
    			66622
    		]
    	],
    	[
    		[
    			66583,
    			66583
    		],
    		"mapped",
    		[
    			66623
    		]
    	],
    	[
    		[
    			66584,
    			66584
    		],
    		"mapped",
    		[
    			66624
    		]
    	],
    	[
    		[
    			66585,
    			66585
    		],
    		"mapped",
    		[
    			66625
    		]
    	],
    	[
    		[
    			66586,
    			66586
    		],
    		"mapped",
    		[
    			66626
    		]
    	],
    	[
    		[
    			66587,
    			66587
    		],
    		"mapped",
    		[
    			66627
    		]
    	],
    	[
    		[
    			66588,
    			66588
    		],
    		"mapped",
    		[
    			66628
    		]
    	],
    	[
    		[
    			66589,
    			66589
    		],
    		"mapped",
    		[
    			66629
    		]
    	],
    	[
    		[
    			66590,
    			66590
    		],
    		"mapped",
    		[
    			66630
    		]
    	],
    	[
    		[
    			66591,
    			66591
    		],
    		"mapped",
    		[
    			66631
    		]
    	],
    	[
    		[
    			66592,
    			66592
    		],
    		"mapped",
    		[
    			66632
    		]
    	],
    	[
    		[
    			66593,
    			66593
    		],
    		"mapped",
    		[
    			66633
    		]
    	],
    	[
    		[
    			66594,
    			66594
    		],
    		"mapped",
    		[
    			66634
    		]
    	],
    	[
    		[
    			66595,
    			66595
    		],
    		"mapped",
    		[
    			66635
    		]
    	],
    	[
    		[
    			66596,
    			66596
    		],
    		"mapped",
    		[
    			66636
    		]
    	],
    	[
    		[
    			66597,
    			66597
    		],
    		"mapped",
    		[
    			66637
    		]
    	],
    	[
    		[
    			66598,
    			66598
    		],
    		"mapped",
    		[
    			66638
    		]
    	],
    	[
    		[
    			66599,
    			66599
    		],
    		"mapped",
    		[
    			66639
    		]
    	],
    	[
    		[
    			66600,
    			66637
    		],
    		"valid"
    	],
    	[
    		[
    			66638,
    			66717
    		],
    		"valid"
    	],
    	[
    		[
    			66718,
    			66719
    		],
    		"disallowed"
    	],
    	[
    		[
    			66720,
    			66729
    		],
    		"valid"
    	],
    	[
    		[
    			66730,
    			66815
    		],
    		"disallowed"
    	],
    	[
    		[
    			66816,
    			66855
    		],
    		"valid"
    	],
    	[
    		[
    			66856,
    			66863
    		],
    		"disallowed"
    	],
    	[
    		[
    			66864,
    			66915
    		],
    		"valid"
    	],
    	[
    		[
    			66916,
    			66926
    		],
    		"disallowed"
    	],
    	[
    		[
    			66927,
    			66927
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			66928,
    			67071
    		],
    		"disallowed"
    	],
    	[
    		[
    			67072,
    			67382
    		],
    		"valid"
    	],
    	[
    		[
    			67383,
    			67391
    		],
    		"disallowed"
    	],
    	[
    		[
    			67392,
    			67413
    		],
    		"valid"
    	],
    	[
    		[
    			67414,
    			67423
    		],
    		"disallowed"
    	],
    	[
    		[
    			67424,
    			67431
    		],
    		"valid"
    	],
    	[
    		[
    			67432,
    			67583
    		],
    		"disallowed"
    	],
    	[
    		[
    			67584,
    			67589
    		],
    		"valid"
    	],
    	[
    		[
    			67590,
    			67591
    		],
    		"disallowed"
    	],
    	[
    		[
    			67592,
    			67592
    		],
    		"valid"
    	],
    	[
    		[
    			67593,
    			67593
    		],
    		"disallowed"
    	],
    	[
    		[
    			67594,
    			67637
    		],
    		"valid"
    	],
    	[
    		[
    			67638,
    			67638
    		],
    		"disallowed"
    	],
    	[
    		[
    			67639,
    			67640
    		],
    		"valid"
    	],
    	[
    		[
    			67641,
    			67643
    		],
    		"disallowed"
    	],
    	[
    		[
    			67644,
    			67644
    		],
    		"valid"
    	],
    	[
    		[
    			67645,
    			67646
    		],
    		"disallowed"
    	],
    	[
    		[
    			67647,
    			67647
    		],
    		"valid"
    	],
    	[
    		[
    			67648,
    			67669
    		],
    		"valid"
    	],
    	[
    		[
    			67670,
    			67670
    		],
    		"disallowed"
    	],
    	[
    		[
    			67671,
    			67679
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			67680,
    			67702
    		],
    		"valid"
    	],
    	[
    		[
    			67703,
    			67711
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			67712,
    			67742
    		],
    		"valid"
    	],
    	[
    		[
    			67743,
    			67750
    		],
    		"disallowed"
    	],
    	[
    		[
    			67751,
    			67759
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			67760,
    			67807
    		],
    		"disallowed"
    	],
    	[
    		[
    			67808,
    			67826
    		],
    		"valid"
    	],
    	[
    		[
    			67827,
    			67827
    		],
    		"disallowed"
    	],
    	[
    		[
    			67828,
    			67829
    		],
    		"valid"
    	],
    	[
    		[
    			67830,
    			67834
    		],
    		"disallowed"
    	],
    	[
    		[
    			67835,
    			67839
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			67840,
    			67861
    		],
    		"valid"
    	],
    	[
    		[
    			67862,
    			67865
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			67866,
    			67867
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			67868,
    			67870
    		],
    		"disallowed"
    	],
    	[
    		[
    			67871,
    			67871
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			67872,
    			67897
    		],
    		"valid"
    	],
    	[
    		[
    			67898,
    			67902
    		],
    		"disallowed"
    	],
    	[
    		[
    			67903,
    			67903
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			67904,
    			67967
    		],
    		"disallowed"
    	],
    	[
    		[
    			67968,
    			68023
    		],
    		"valid"
    	],
    	[
    		[
    			68024,
    			68027
    		],
    		"disallowed"
    	],
    	[
    		[
    			68028,
    			68029
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68030,
    			68031
    		],
    		"valid"
    	],
    	[
    		[
    			68032,
    			68047
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68048,
    			68049
    		],
    		"disallowed"
    	],
    	[
    		[
    			68050,
    			68095
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68096,
    			68099
    		],
    		"valid"
    	],
    	[
    		[
    			68100,
    			68100
    		],
    		"disallowed"
    	],
    	[
    		[
    			68101,
    			68102
    		],
    		"valid"
    	],
    	[
    		[
    			68103,
    			68107
    		],
    		"disallowed"
    	],
    	[
    		[
    			68108,
    			68115
    		],
    		"valid"
    	],
    	[
    		[
    			68116,
    			68116
    		],
    		"disallowed"
    	],
    	[
    		[
    			68117,
    			68119
    		],
    		"valid"
    	],
    	[
    		[
    			68120,
    			68120
    		],
    		"disallowed"
    	],
    	[
    		[
    			68121,
    			68147
    		],
    		"valid"
    	],
    	[
    		[
    			68148,
    			68151
    		],
    		"disallowed"
    	],
    	[
    		[
    			68152,
    			68154
    		],
    		"valid"
    	],
    	[
    		[
    			68155,
    			68158
    		],
    		"disallowed"
    	],
    	[
    		[
    			68159,
    			68159
    		],
    		"valid"
    	],
    	[
    		[
    			68160,
    			68167
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68168,
    			68175
    		],
    		"disallowed"
    	],
    	[
    		[
    			68176,
    			68184
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68185,
    			68191
    		],
    		"disallowed"
    	],
    	[
    		[
    			68192,
    			68220
    		],
    		"valid"
    	],
    	[
    		[
    			68221,
    			68223
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68224,
    			68252
    		],
    		"valid"
    	],
    	[
    		[
    			68253,
    			68255
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68256,
    			68287
    		],
    		"disallowed"
    	],
    	[
    		[
    			68288,
    			68295
    		],
    		"valid"
    	],
    	[
    		[
    			68296,
    			68296
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68297,
    			68326
    		],
    		"valid"
    	],
    	[
    		[
    			68327,
    			68330
    		],
    		"disallowed"
    	],
    	[
    		[
    			68331,
    			68342
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68343,
    			68351
    		],
    		"disallowed"
    	],
    	[
    		[
    			68352,
    			68405
    		],
    		"valid"
    	],
    	[
    		[
    			68406,
    			68408
    		],
    		"disallowed"
    	],
    	[
    		[
    			68409,
    			68415
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68416,
    			68437
    		],
    		"valid"
    	],
    	[
    		[
    			68438,
    			68439
    		],
    		"disallowed"
    	],
    	[
    		[
    			68440,
    			68447
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68448,
    			68466
    		],
    		"valid"
    	],
    	[
    		[
    			68467,
    			68471
    		],
    		"disallowed"
    	],
    	[
    		[
    			68472,
    			68479
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68480,
    			68497
    		],
    		"valid"
    	],
    	[
    		[
    			68498,
    			68504
    		],
    		"disallowed"
    	],
    	[
    		[
    			68505,
    			68508
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68509,
    			68520
    		],
    		"disallowed"
    	],
    	[
    		[
    			68521,
    			68527
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68528,
    			68607
    		],
    		"disallowed"
    	],
    	[
    		[
    			68608,
    			68680
    		],
    		"valid"
    	],
    	[
    		[
    			68681,
    			68735
    		],
    		"disallowed"
    	],
    	[
    		[
    			68736,
    			68736
    		],
    		"mapped",
    		[
    			68800
    		]
    	],
    	[
    		[
    			68737,
    			68737
    		],
    		"mapped",
    		[
    			68801
    		]
    	],
    	[
    		[
    			68738,
    			68738
    		],
    		"mapped",
    		[
    			68802
    		]
    	],
    	[
    		[
    			68739,
    			68739
    		],
    		"mapped",
    		[
    			68803
    		]
    	],
    	[
    		[
    			68740,
    			68740
    		],
    		"mapped",
    		[
    			68804
    		]
    	],
    	[
    		[
    			68741,
    			68741
    		],
    		"mapped",
    		[
    			68805
    		]
    	],
    	[
    		[
    			68742,
    			68742
    		],
    		"mapped",
    		[
    			68806
    		]
    	],
    	[
    		[
    			68743,
    			68743
    		],
    		"mapped",
    		[
    			68807
    		]
    	],
    	[
    		[
    			68744,
    			68744
    		],
    		"mapped",
    		[
    			68808
    		]
    	],
    	[
    		[
    			68745,
    			68745
    		],
    		"mapped",
    		[
    			68809
    		]
    	],
    	[
    		[
    			68746,
    			68746
    		],
    		"mapped",
    		[
    			68810
    		]
    	],
    	[
    		[
    			68747,
    			68747
    		],
    		"mapped",
    		[
    			68811
    		]
    	],
    	[
    		[
    			68748,
    			68748
    		],
    		"mapped",
    		[
    			68812
    		]
    	],
    	[
    		[
    			68749,
    			68749
    		],
    		"mapped",
    		[
    			68813
    		]
    	],
    	[
    		[
    			68750,
    			68750
    		],
    		"mapped",
    		[
    			68814
    		]
    	],
    	[
    		[
    			68751,
    			68751
    		],
    		"mapped",
    		[
    			68815
    		]
    	],
    	[
    		[
    			68752,
    			68752
    		],
    		"mapped",
    		[
    			68816
    		]
    	],
    	[
    		[
    			68753,
    			68753
    		],
    		"mapped",
    		[
    			68817
    		]
    	],
    	[
    		[
    			68754,
    			68754
    		],
    		"mapped",
    		[
    			68818
    		]
    	],
    	[
    		[
    			68755,
    			68755
    		],
    		"mapped",
    		[
    			68819
    		]
    	],
    	[
    		[
    			68756,
    			68756
    		],
    		"mapped",
    		[
    			68820
    		]
    	],
    	[
    		[
    			68757,
    			68757
    		],
    		"mapped",
    		[
    			68821
    		]
    	],
    	[
    		[
    			68758,
    			68758
    		],
    		"mapped",
    		[
    			68822
    		]
    	],
    	[
    		[
    			68759,
    			68759
    		],
    		"mapped",
    		[
    			68823
    		]
    	],
    	[
    		[
    			68760,
    			68760
    		],
    		"mapped",
    		[
    			68824
    		]
    	],
    	[
    		[
    			68761,
    			68761
    		],
    		"mapped",
    		[
    			68825
    		]
    	],
    	[
    		[
    			68762,
    			68762
    		],
    		"mapped",
    		[
    			68826
    		]
    	],
    	[
    		[
    			68763,
    			68763
    		],
    		"mapped",
    		[
    			68827
    		]
    	],
    	[
    		[
    			68764,
    			68764
    		],
    		"mapped",
    		[
    			68828
    		]
    	],
    	[
    		[
    			68765,
    			68765
    		],
    		"mapped",
    		[
    			68829
    		]
    	],
    	[
    		[
    			68766,
    			68766
    		],
    		"mapped",
    		[
    			68830
    		]
    	],
    	[
    		[
    			68767,
    			68767
    		],
    		"mapped",
    		[
    			68831
    		]
    	],
    	[
    		[
    			68768,
    			68768
    		],
    		"mapped",
    		[
    			68832
    		]
    	],
    	[
    		[
    			68769,
    			68769
    		],
    		"mapped",
    		[
    			68833
    		]
    	],
    	[
    		[
    			68770,
    			68770
    		],
    		"mapped",
    		[
    			68834
    		]
    	],
    	[
    		[
    			68771,
    			68771
    		],
    		"mapped",
    		[
    			68835
    		]
    	],
    	[
    		[
    			68772,
    			68772
    		],
    		"mapped",
    		[
    			68836
    		]
    	],
    	[
    		[
    			68773,
    			68773
    		],
    		"mapped",
    		[
    			68837
    		]
    	],
    	[
    		[
    			68774,
    			68774
    		],
    		"mapped",
    		[
    			68838
    		]
    	],
    	[
    		[
    			68775,
    			68775
    		],
    		"mapped",
    		[
    			68839
    		]
    	],
    	[
    		[
    			68776,
    			68776
    		],
    		"mapped",
    		[
    			68840
    		]
    	],
    	[
    		[
    			68777,
    			68777
    		],
    		"mapped",
    		[
    			68841
    		]
    	],
    	[
    		[
    			68778,
    			68778
    		],
    		"mapped",
    		[
    			68842
    		]
    	],
    	[
    		[
    			68779,
    			68779
    		],
    		"mapped",
    		[
    			68843
    		]
    	],
    	[
    		[
    			68780,
    			68780
    		],
    		"mapped",
    		[
    			68844
    		]
    	],
    	[
    		[
    			68781,
    			68781
    		],
    		"mapped",
    		[
    			68845
    		]
    	],
    	[
    		[
    			68782,
    			68782
    		],
    		"mapped",
    		[
    			68846
    		]
    	],
    	[
    		[
    			68783,
    			68783
    		],
    		"mapped",
    		[
    			68847
    		]
    	],
    	[
    		[
    			68784,
    			68784
    		],
    		"mapped",
    		[
    			68848
    		]
    	],
    	[
    		[
    			68785,
    			68785
    		],
    		"mapped",
    		[
    			68849
    		]
    	],
    	[
    		[
    			68786,
    			68786
    		],
    		"mapped",
    		[
    			68850
    		]
    	],
    	[
    		[
    			68787,
    			68799
    		],
    		"disallowed"
    	],
    	[
    		[
    			68800,
    			68850
    		],
    		"valid"
    	],
    	[
    		[
    			68851,
    			68857
    		],
    		"disallowed"
    	],
    	[
    		[
    			68858,
    			68863
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			68864,
    			69215
    		],
    		"disallowed"
    	],
    	[
    		[
    			69216,
    			69246
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			69247,
    			69631
    		],
    		"disallowed"
    	],
    	[
    		[
    			69632,
    			69702
    		],
    		"valid"
    	],
    	[
    		[
    			69703,
    			69709
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			69710,
    			69713
    		],
    		"disallowed"
    	],
    	[
    		[
    			69714,
    			69733
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			69734,
    			69743
    		],
    		"valid"
    	],
    	[
    		[
    			69744,
    			69758
    		],
    		"disallowed"
    	],
    	[
    		[
    			69759,
    			69759
    		],
    		"valid"
    	],
    	[
    		[
    			69760,
    			69818
    		],
    		"valid"
    	],
    	[
    		[
    			69819,
    			69820
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			69821,
    			69821
    		],
    		"disallowed"
    	],
    	[
    		[
    			69822,
    			69825
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			69826,
    			69839
    		],
    		"disallowed"
    	],
    	[
    		[
    			69840,
    			69864
    		],
    		"valid"
    	],
    	[
    		[
    			69865,
    			69871
    		],
    		"disallowed"
    	],
    	[
    		[
    			69872,
    			69881
    		],
    		"valid"
    	],
    	[
    		[
    			69882,
    			69887
    		],
    		"disallowed"
    	],
    	[
    		[
    			69888,
    			69940
    		],
    		"valid"
    	],
    	[
    		[
    			69941,
    			69941
    		],
    		"disallowed"
    	],
    	[
    		[
    			69942,
    			69951
    		],
    		"valid"
    	],
    	[
    		[
    			69952,
    			69955
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			69956,
    			69967
    		],
    		"disallowed"
    	],
    	[
    		[
    			69968,
    			70003
    		],
    		"valid"
    	],
    	[
    		[
    			70004,
    			70005
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70006,
    			70006
    		],
    		"valid"
    	],
    	[
    		[
    			70007,
    			70015
    		],
    		"disallowed"
    	],
    	[
    		[
    			70016,
    			70084
    		],
    		"valid"
    	],
    	[
    		[
    			70085,
    			70088
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70089,
    			70089
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70090,
    			70092
    		],
    		"valid"
    	],
    	[
    		[
    			70093,
    			70093
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70094,
    			70095
    		],
    		"disallowed"
    	],
    	[
    		[
    			70096,
    			70105
    		],
    		"valid"
    	],
    	[
    		[
    			70106,
    			70106
    		],
    		"valid"
    	],
    	[
    		[
    			70107,
    			70107
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70108,
    			70108
    		],
    		"valid"
    	],
    	[
    		[
    			70109,
    			70111
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70112,
    			70112
    		],
    		"disallowed"
    	],
    	[
    		[
    			70113,
    			70132
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70133,
    			70143
    		],
    		"disallowed"
    	],
    	[
    		[
    			70144,
    			70161
    		],
    		"valid"
    	],
    	[
    		[
    			70162,
    			70162
    		],
    		"disallowed"
    	],
    	[
    		[
    			70163,
    			70199
    		],
    		"valid"
    	],
    	[
    		[
    			70200,
    			70205
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70206,
    			70271
    		],
    		"disallowed"
    	],
    	[
    		[
    			70272,
    			70278
    		],
    		"valid"
    	],
    	[
    		[
    			70279,
    			70279
    		],
    		"disallowed"
    	],
    	[
    		[
    			70280,
    			70280
    		],
    		"valid"
    	],
    	[
    		[
    			70281,
    			70281
    		],
    		"disallowed"
    	],
    	[
    		[
    			70282,
    			70285
    		],
    		"valid"
    	],
    	[
    		[
    			70286,
    			70286
    		],
    		"disallowed"
    	],
    	[
    		[
    			70287,
    			70301
    		],
    		"valid"
    	],
    	[
    		[
    			70302,
    			70302
    		],
    		"disallowed"
    	],
    	[
    		[
    			70303,
    			70312
    		],
    		"valid"
    	],
    	[
    		[
    			70313,
    			70313
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70314,
    			70319
    		],
    		"disallowed"
    	],
    	[
    		[
    			70320,
    			70378
    		],
    		"valid"
    	],
    	[
    		[
    			70379,
    			70383
    		],
    		"disallowed"
    	],
    	[
    		[
    			70384,
    			70393
    		],
    		"valid"
    	],
    	[
    		[
    			70394,
    			70399
    		],
    		"disallowed"
    	],
    	[
    		[
    			70400,
    			70400
    		],
    		"valid"
    	],
    	[
    		[
    			70401,
    			70403
    		],
    		"valid"
    	],
    	[
    		[
    			70404,
    			70404
    		],
    		"disallowed"
    	],
    	[
    		[
    			70405,
    			70412
    		],
    		"valid"
    	],
    	[
    		[
    			70413,
    			70414
    		],
    		"disallowed"
    	],
    	[
    		[
    			70415,
    			70416
    		],
    		"valid"
    	],
    	[
    		[
    			70417,
    			70418
    		],
    		"disallowed"
    	],
    	[
    		[
    			70419,
    			70440
    		],
    		"valid"
    	],
    	[
    		[
    			70441,
    			70441
    		],
    		"disallowed"
    	],
    	[
    		[
    			70442,
    			70448
    		],
    		"valid"
    	],
    	[
    		[
    			70449,
    			70449
    		],
    		"disallowed"
    	],
    	[
    		[
    			70450,
    			70451
    		],
    		"valid"
    	],
    	[
    		[
    			70452,
    			70452
    		],
    		"disallowed"
    	],
    	[
    		[
    			70453,
    			70457
    		],
    		"valid"
    	],
    	[
    		[
    			70458,
    			70459
    		],
    		"disallowed"
    	],
    	[
    		[
    			70460,
    			70468
    		],
    		"valid"
    	],
    	[
    		[
    			70469,
    			70470
    		],
    		"disallowed"
    	],
    	[
    		[
    			70471,
    			70472
    		],
    		"valid"
    	],
    	[
    		[
    			70473,
    			70474
    		],
    		"disallowed"
    	],
    	[
    		[
    			70475,
    			70477
    		],
    		"valid"
    	],
    	[
    		[
    			70478,
    			70479
    		],
    		"disallowed"
    	],
    	[
    		[
    			70480,
    			70480
    		],
    		"valid"
    	],
    	[
    		[
    			70481,
    			70486
    		],
    		"disallowed"
    	],
    	[
    		[
    			70487,
    			70487
    		],
    		"valid"
    	],
    	[
    		[
    			70488,
    			70492
    		],
    		"disallowed"
    	],
    	[
    		[
    			70493,
    			70499
    		],
    		"valid"
    	],
    	[
    		[
    			70500,
    			70501
    		],
    		"disallowed"
    	],
    	[
    		[
    			70502,
    			70508
    		],
    		"valid"
    	],
    	[
    		[
    			70509,
    			70511
    		],
    		"disallowed"
    	],
    	[
    		[
    			70512,
    			70516
    		],
    		"valid"
    	],
    	[
    		[
    			70517,
    			70783
    		],
    		"disallowed"
    	],
    	[
    		[
    			70784,
    			70853
    		],
    		"valid"
    	],
    	[
    		[
    			70854,
    			70854
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			70855,
    			70855
    		],
    		"valid"
    	],
    	[
    		[
    			70856,
    			70863
    		],
    		"disallowed"
    	],
    	[
    		[
    			70864,
    			70873
    		],
    		"valid"
    	],
    	[
    		[
    			70874,
    			71039
    		],
    		"disallowed"
    	],
    	[
    		[
    			71040,
    			71093
    		],
    		"valid"
    	],
    	[
    		[
    			71094,
    			71095
    		],
    		"disallowed"
    	],
    	[
    		[
    			71096,
    			71104
    		],
    		"valid"
    	],
    	[
    		[
    			71105,
    			71113
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			71114,
    			71127
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			71128,
    			71133
    		],
    		"valid"
    	],
    	[
    		[
    			71134,
    			71167
    		],
    		"disallowed"
    	],
    	[
    		[
    			71168,
    			71232
    		],
    		"valid"
    	],
    	[
    		[
    			71233,
    			71235
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			71236,
    			71236
    		],
    		"valid"
    	],
    	[
    		[
    			71237,
    			71247
    		],
    		"disallowed"
    	],
    	[
    		[
    			71248,
    			71257
    		],
    		"valid"
    	],
    	[
    		[
    			71258,
    			71295
    		],
    		"disallowed"
    	],
    	[
    		[
    			71296,
    			71351
    		],
    		"valid"
    	],
    	[
    		[
    			71352,
    			71359
    		],
    		"disallowed"
    	],
    	[
    		[
    			71360,
    			71369
    		],
    		"valid"
    	],
    	[
    		[
    			71370,
    			71423
    		],
    		"disallowed"
    	],
    	[
    		[
    			71424,
    			71449
    		],
    		"valid"
    	],
    	[
    		[
    			71450,
    			71452
    		],
    		"disallowed"
    	],
    	[
    		[
    			71453,
    			71467
    		],
    		"valid"
    	],
    	[
    		[
    			71468,
    			71471
    		],
    		"disallowed"
    	],
    	[
    		[
    			71472,
    			71481
    		],
    		"valid"
    	],
    	[
    		[
    			71482,
    			71487
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			71488,
    			71839
    		],
    		"disallowed"
    	],
    	[
    		[
    			71840,
    			71840
    		],
    		"mapped",
    		[
    			71872
    		]
    	],
    	[
    		[
    			71841,
    			71841
    		],
    		"mapped",
    		[
    			71873
    		]
    	],
    	[
    		[
    			71842,
    			71842
    		],
    		"mapped",
    		[
    			71874
    		]
    	],
    	[
    		[
    			71843,
    			71843
    		],
    		"mapped",
    		[
    			71875
    		]
    	],
    	[
    		[
    			71844,
    			71844
    		],
    		"mapped",
    		[
    			71876
    		]
    	],
    	[
    		[
    			71845,
    			71845
    		],
    		"mapped",
    		[
    			71877
    		]
    	],
    	[
    		[
    			71846,
    			71846
    		],
    		"mapped",
    		[
    			71878
    		]
    	],
    	[
    		[
    			71847,
    			71847
    		],
    		"mapped",
    		[
    			71879
    		]
    	],
    	[
    		[
    			71848,
    			71848
    		],
    		"mapped",
    		[
    			71880
    		]
    	],
    	[
    		[
    			71849,
    			71849
    		],
    		"mapped",
    		[
    			71881
    		]
    	],
    	[
    		[
    			71850,
    			71850
    		],
    		"mapped",
    		[
    			71882
    		]
    	],
    	[
    		[
    			71851,
    			71851
    		],
    		"mapped",
    		[
    			71883
    		]
    	],
    	[
    		[
    			71852,
    			71852
    		],
    		"mapped",
    		[
    			71884
    		]
    	],
    	[
    		[
    			71853,
    			71853
    		],
    		"mapped",
    		[
    			71885
    		]
    	],
    	[
    		[
    			71854,
    			71854
    		],
    		"mapped",
    		[
    			71886
    		]
    	],
    	[
    		[
    			71855,
    			71855
    		],
    		"mapped",
    		[
    			71887
    		]
    	],
    	[
    		[
    			71856,
    			71856
    		],
    		"mapped",
    		[
    			71888
    		]
    	],
    	[
    		[
    			71857,
    			71857
    		],
    		"mapped",
    		[
    			71889
    		]
    	],
    	[
    		[
    			71858,
    			71858
    		],
    		"mapped",
    		[
    			71890
    		]
    	],
    	[
    		[
    			71859,
    			71859
    		],
    		"mapped",
    		[
    			71891
    		]
    	],
    	[
    		[
    			71860,
    			71860
    		],
    		"mapped",
    		[
    			71892
    		]
    	],
    	[
    		[
    			71861,
    			71861
    		],
    		"mapped",
    		[
    			71893
    		]
    	],
    	[
    		[
    			71862,
    			71862
    		],
    		"mapped",
    		[
    			71894
    		]
    	],
    	[
    		[
    			71863,
    			71863
    		],
    		"mapped",
    		[
    			71895
    		]
    	],
    	[
    		[
    			71864,
    			71864
    		],
    		"mapped",
    		[
    			71896
    		]
    	],
    	[
    		[
    			71865,
    			71865
    		],
    		"mapped",
    		[
    			71897
    		]
    	],
    	[
    		[
    			71866,
    			71866
    		],
    		"mapped",
    		[
    			71898
    		]
    	],
    	[
    		[
    			71867,
    			71867
    		],
    		"mapped",
    		[
    			71899
    		]
    	],
    	[
    		[
    			71868,
    			71868
    		],
    		"mapped",
    		[
    			71900
    		]
    	],
    	[
    		[
    			71869,
    			71869
    		],
    		"mapped",
    		[
    			71901
    		]
    	],
    	[
    		[
    			71870,
    			71870
    		],
    		"mapped",
    		[
    			71902
    		]
    	],
    	[
    		[
    			71871,
    			71871
    		],
    		"mapped",
    		[
    			71903
    		]
    	],
    	[
    		[
    			71872,
    			71913
    		],
    		"valid"
    	],
    	[
    		[
    			71914,
    			71922
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			71923,
    			71934
    		],
    		"disallowed"
    	],
    	[
    		[
    			71935,
    			71935
    		],
    		"valid"
    	],
    	[
    		[
    			71936,
    			72383
    		],
    		"disallowed"
    	],
    	[
    		[
    			72384,
    			72440
    		],
    		"valid"
    	],
    	[
    		[
    			72441,
    			73727
    		],
    		"disallowed"
    	],
    	[
    		[
    			73728,
    			74606
    		],
    		"valid"
    	],
    	[
    		[
    			74607,
    			74648
    		],
    		"valid"
    	],
    	[
    		[
    			74649,
    			74649
    		],
    		"valid"
    	],
    	[
    		[
    			74650,
    			74751
    		],
    		"disallowed"
    	],
    	[
    		[
    			74752,
    			74850
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			74851,
    			74862
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			74863,
    			74863
    		],
    		"disallowed"
    	],
    	[
    		[
    			74864,
    			74867
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			74868,
    			74868
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			74869,
    			74879
    		],
    		"disallowed"
    	],
    	[
    		[
    			74880,
    			75075
    		],
    		"valid"
    	],
    	[
    		[
    			75076,
    			77823
    		],
    		"disallowed"
    	],
    	[
    		[
    			77824,
    			78894
    		],
    		"valid"
    	],
    	[
    		[
    			78895,
    			82943
    		],
    		"disallowed"
    	],
    	[
    		[
    			82944,
    			83526
    		],
    		"valid"
    	],
    	[
    		[
    			83527,
    			92159
    		],
    		"disallowed"
    	],
    	[
    		[
    			92160,
    			92728
    		],
    		"valid"
    	],
    	[
    		[
    			92729,
    			92735
    		],
    		"disallowed"
    	],
    	[
    		[
    			92736,
    			92766
    		],
    		"valid"
    	],
    	[
    		[
    			92767,
    			92767
    		],
    		"disallowed"
    	],
    	[
    		[
    			92768,
    			92777
    		],
    		"valid"
    	],
    	[
    		[
    			92778,
    			92781
    		],
    		"disallowed"
    	],
    	[
    		[
    			92782,
    			92783
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			92784,
    			92879
    		],
    		"disallowed"
    	],
    	[
    		[
    			92880,
    			92909
    		],
    		"valid"
    	],
    	[
    		[
    			92910,
    			92911
    		],
    		"disallowed"
    	],
    	[
    		[
    			92912,
    			92916
    		],
    		"valid"
    	],
    	[
    		[
    			92917,
    			92917
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			92918,
    			92927
    		],
    		"disallowed"
    	],
    	[
    		[
    			92928,
    			92982
    		],
    		"valid"
    	],
    	[
    		[
    			92983,
    			92991
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			92992,
    			92995
    		],
    		"valid"
    	],
    	[
    		[
    			92996,
    			92997
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			92998,
    			93007
    		],
    		"disallowed"
    	],
    	[
    		[
    			93008,
    			93017
    		],
    		"valid"
    	],
    	[
    		[
    			93018,
    			93018
    		],
    		"disallowed"
    	],
    	[
    		[
    			93019,
    			93025
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			93026,
    			93026
    		],
    		"disallowed"
    	],
    	[
    		[
    			93027,
    			93047
    		],
    		"valid"
    	],
    	[
    		[
    			93048,
    			93052
    		],
    		"disallowed"
    	],
    	[
    		[
    			93053,
    			93071
    		],
    		"valid"
    	],
    	[
    		[
    			93072,
    			93951
    		],
    		"disallowed"
    	],
    	[
    		[
    			93952,
    			94020
    		],
    		"valid"
    	],
    	[
    		[
    			94021,
    			94031
    		],
    		"disallowed"
    	],
    	[
    		[
    			94032,
    			94078
    		],
    		"valid"
    	],
    	[
    		[
    			94079,
    			94094
    		],
    		"disallowed"
    	],
    	[
    		[
    			94095,
    			94111
    		],
    		"valid"
    	],
    	[
    		[
    			94112,
    			110591
    		],
    		"disallowed"
    	],
    	[
    		[
    			110592,
    			110593
    		],
    		"valid"
    	],
    	[
    		[
    			110594,
    			113663
    		],
    		"disallowed"
    	],
    	[
    		[
    			113664,
    			113770
    		],
    		"valid"
    	],
    	[
    		[
    			113771,
    			113775
    		],
    		"disallowed"
    	],
    	[
    		[
    			113776,
    			113788
    		],
    		"valid"
    	],
    	[
    		[
    			113789,
    			113791
    		],
    		"disallowed"
    	],
    	[
    		[
    			113792,
    			113800
    		],
    		"valid"
    	],
    	[
    		[
    			113801,
    			113807
    		],
    		"disallowed"
    	],
    	[
    		[
    			113808,
    			113817
    		],
    		"valid"
    	],
    	[
    		[
    			113818,
    			113819
    		],
    		"disallowed"
    	],
    	[
    		[
    			113820,
    			113820
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			113821,
    			113822
    		],
    		"valid"
    	],
    	[
    		[
    			113823,
    			113823
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			113824,
    			113827
    		],
    		"ignored"
    	],
    	[
    		[
    			113828,
    			118783
    		],
    		"disallowed"
    	],
    	[
    		[
    			118784,
    			119029
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119030,
    			119039
    		],
    		"disallowed"
    	],
    	[
    		[
    			119040,
    			119078
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119079,
    			119080
    		],
    		"disallowed"
    	],
    	[
    		[
    			119081,
    			119081
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119082,
    			119133
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119134,
    			119134
    		],
    		"mapped",
    		[
    			119127,
    			119141
    		]
    	],
    	[
    		[
    			119135,
    			119135
    		],
    		"mapped",
    		[
    			119128,
    			119141
    		]
    	],
    	[
    		[
    			119136,
    			119136
    		],
    		"mapped",
    		[
    			119128,
    			119141,
    			119150
    		]
    	],
    	[
    		[
    			119137,
    			119137
    		],
    		"mapped",
    		[
    			119128,
    			119141,
    			119151
    		]
    	],
    	[
    		[
    			119138,
    			119138
    		],
    		"mapped",
    		[
    			119128,
    			119141,
    			119152
    		]
    	],
    	[
    		[
    			119139,
    			119139
    		],
    		"mapped",
    		[
    			119128,
    			119141,
    			119153
    		]
    	],
    	[
    		[
    			119140,
    			119140
    		],
    		"mapped",
    		[
    			119128,
    			119141,
    			119154
    		]
    	],
    	[
    		[
    			119141,
    			119154
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119155,
    			119162
    		],
    		"disallowed"
    	],
    	[
    		[
    			119163,
    			119226
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119227,
    			119227
    		],
    		"mapped",
    		[
    			119225,
    			119141
    		]
    	],
    	[
    		[
    			119228,
    			119228
    		],
    		"mapped",
    		[
    			119226,
    			119141
    		]
    	],
    	[
    		[
    			119229,
    			119229
    		],
    		"mapped",
    		[
    			119225,
    			119141,
    			119150
    		]
    	],
    	[
    		[
    			119230,
    			119230
    		],
    		"mapped",
    		[
    			119226,
    			119141,
    			119150
    		]
    	],
    	[
    		[
    			119231,
    			119231
    		],
    		"mapped",
    		[
    			119225,
    			119141,
    			119151
    		]
    	],
    	[
    		[
    			119232,
    			119232
    		],
    		"mapped",
    		[
    			119226,
    			119141,
    			119151
    		]
    	],
    	[
    		[
    			119233,
    			119261
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119262,
    			119272
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119273,
    			119295
    		],
    		"disallowed"
    	],
    	[
    		[
    			119296,
    			119365
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119366,
    			119551
    		],
    		"disallowed"
    	],
    	[
    		[
    			119552,
    			119638
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119639,
    			119647
    		],
    		"disallowed"
    	],
    	[
    		[
    			119648,
    			119665
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			119666,
    			119807
    		],
    		"disallowed"
    	],
    	[
    		[
    			119808,
    			119808
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			119809,
    			119809
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			119810,
    			119810
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			119811,
    			119811
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			119812,
    			119812
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			119813,
    			119813
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			119814,
    			119814
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			119815,
    			119815
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			119816,
    			119816
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			119817,
    			119817
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			119818,
    			119818
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			119819,
    			119819
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			119820,
    			119820
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			119821,
    			119821
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			119822,
    			119822
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			119823,
    			119823
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			119824,
    			119824
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			119825,
    			119825
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			119826,
    			119826
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			119827,
    			119827
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			119828,
    			119828
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			119829,
    			119829
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			119830,
    			119830
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			119831,
    			119831
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			119832,
    			119832
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			119833,
    			119833
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			119834,
    			119834
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			119835,
    			119835
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			119836,
    			119836
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			119837,
    			119837
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			119838,
    			119838
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			119839,
    			119839
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			119840,
    			119840
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			119841,
    			119841
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			119842,
    			119842
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			119843,
    			119843
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			119844,
    			119844
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			119845,
    			119845
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			119846,
    			119846
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			119847,
    			119847
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			119848,
    			119848
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			119849,
    			119849
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			119850,
    			119850
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			119851,
    			119851
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			119852,
    			119852
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			119853,
    			119853
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			119854,
    			119854
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			119855,
    			119855
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			119856,
    			119856
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			119857,
    			119857
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			119858,
    			119858
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			119859,
    			119859
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			119860,
    			119860
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			119861,
    			119861
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			119862,
    			119862
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			119863,
    			119863
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			119864,
    			119864
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			119865,
    			119865
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			119866,
    			119866
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			119867,
    			119867
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			119868,
    			119868
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			119869,
    			119869
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			119870,
    			119870
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			119871,
    			119871
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			119872,
    			119872
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			119873,
    			119873
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			119874,
    			119874
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			119875,
    			119875
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			119876,
    			119876
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			119877,
    			119877
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			119878,
    			119878
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			119879,
    			119879
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			119880,
    			119880
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			119881,
    			119881
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			119882,
    			119882
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			119883,
    			119883
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			119884,
    			119884
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			119885,
    			119885
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			119886,
    			119886
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			119887,
    			119887
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			119888,
    			119888
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			119889,
    			119889
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			119890,
    			119890
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			119891,
    			119891
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			119892,
    			119892
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			119893,
    			119893
    		],
    		"disallowed"
    	],
    	[
    		[
    			119894,
    			119894
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			119895,
    			119895
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			119896,
    			119896
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			119897,
    			119897
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			119898,
    			119898
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			119899,
    			119899
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			119900,
    			119900
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			119901,
    			119901
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			119902,
    			119902
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			119903,
    			119903
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			119904,
    			119904
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			119905,
    			119905
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			119906,
    			119906
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			119907,
    			119907
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			119908,
    			119908
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			119909,
    			119909
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			119910,
    			119910
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			119911,
    			119911
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			119912,
    			119912
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			119913,
    			119913
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			119914,
    			119914
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			119915,
    			119915
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			119916,
    			119916
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			119917,
    			119917
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			119918,
    			119918
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			119919,
    			119919
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			119920,
    			119920
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			119921,
    			119921
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			119922,
    			119922
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			119923,
    			119923
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			119924,
    			119924
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			119925,
    			119925
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			119926,
    			119926
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			119927,
    			119927
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			119928,
    			119928
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			119929,
    			119929
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			119930,
    			119930
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			119931,
    			119931
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			119932,
    			119932
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			119933,
    			119933
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			119934,
    			119934
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			119935,
    			119935
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			119936,
    			119936
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			119937,
    			119937
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			119938,
    			119938
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			119939,
    			119939
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			119940,
    			119940
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			119941,
    			119941
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			119942,
    			119942
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			119943,
    			119943
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			119944,
    			119944
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			119945,
    			119945
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			119946,
    			119946
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			119947,
    			119947
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			119948,
    			119948
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			119949,
    			119949
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			119950,
    			119950
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			119951,
    			119951
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			119952,
    			119952
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			119953,
    			119953
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			119954,
    			119954
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			119955,
    			119955
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			119956,
    			119956
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			119957,
    			119957
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			119958,
    			119958
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			119959,
    			119959
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			119960,
    			119960
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			119961,
    			119961
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			119962,
    			119962
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			119963,
    			119963
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			119964,
    			119964
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			119965,
    			119965
    		],
    		"disallowed"
    	],
    	[
    		[
    			119966,
    			119966
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			119967,
    			119967
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			119968,
    			119969
    		],
    		"disallowed"
    	],
    	[
    		[
    			119970,
    			119970
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			119971,
    			119972
    		],
    		"disallowed"
    	],
    	[
    		[
    			119973,
    			119973
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			119974,
    			119974
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			119975,
    			119976
    		],
    		"disallowed"
    	],
    	[
    		[
    			119977,
    			119977
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			119978,
    			119978
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			119979,
    			119979
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			119980,
    			119980
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			119981,
    			119981
    		],
    		"disallowed"
    	],
    	[
    		[
    			119982,
    			119982
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			119983,
    			119983
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			119984,
    			119984
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			119985,
    			119985
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			119986,
    			119986
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			119987,
    			119987
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			119988,
    			119988
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			119989,
    			119989
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			119990,
    			119990
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			119991,
    			119991
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			119992,
    			119992
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			119993,
    			119993
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			119994,
    			119994
    		],
    		"disallowed"
    	],
    	[
    		[
    			119995,
    			119995
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			119996,
    			119996
    		],
    		"disallowed"
    	],
    	[
    		[
    			119997,
    			119997
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			119998,
    			119998
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			119999,
    			119999
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120000,
    			120000
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120001,
    			120001
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120002,
    			120002
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120003,
    			120003
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120004,
    			120004
    		],
    		"disallowed"
    	],
    	[
    		[
    			120005,
    			120005
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120006,
    			120006
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120007,
    			120007
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120008,
    			120008
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120009,
    			120009
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120010,
    			120010
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120011,
    			120011
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120012,
    			120012
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120013,
    			120013
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120014,
    			120014
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120015,
    			120015
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120016,
    			120016
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120017,
    			120017
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120018,
    			120018
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120019,
    			120019
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120020,
    			120020
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120021,
    			120021
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120022,
    			120022
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120023,
    			120023
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120024,
    			120024
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120025,
    			120025
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120026,
    			120026
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120027,
    			120027
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120028,
    			120028
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120029,
    			120029
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120030,
    			120030
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120031,
    			120031
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120032,
    			120032
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120033,
    			120033
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120034,
    			120034
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120035,
    			120035
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120036,
    			120036
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120037,
    			120037
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120038,
    			120038
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120039,
    			120039
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120040,
    			120040
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120041,
    			120041
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120042,
    			120042
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120043,
    			120043
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120044,
    			120044
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120045,
    			120045
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120046,
    			120046
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120047,
    			120047
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120048,
    			120048
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120049,
    			120049
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120050,
    			120050
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120051,
    			120051
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120052,
    			120052
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120053,
    			120053
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120054,
    			120054
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120055,
    			120055
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120056,
    			120056
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120057,
    			120057
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120058,
    			120058
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120059,
    			120059
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120060,
    			120060
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120061,
    			120061
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120062,
    			120062
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120063,
    			120063
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120064,
    			120064
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120065,
    			120065
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120066,
    			120066
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120067,
    			120067
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120068,
    			120068
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120069,
    			120069
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120070,
    			120070
    		],
    		"disallowed"
    	],
    	[
    		[
    			120071,
    			120071
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120072,
    			120072
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120073,
    			120073
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120074,
    			120074
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120075,
    			120076
    		],
    		"disallowed"
    	],
    	[
    		[
    			120077,
    			120077
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120078,
    			120078
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120079,
    			120079
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120080,
    			120080
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120081,
    			120081
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120082,
    			120082
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120083,
    			120083
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120084,
    			120084
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120085,
    			120085
    		],
    		"disallowed"
    	],
    	[
    		[
    			120086,
    			120086
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120087,
    			120087
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120088,
    			120088
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120089,
    			120089
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120090,
    			120090
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120091,
    			120091
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120092,
    			120092
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120093,
    			120093
    		],
    		"disallowed"
    	],
    	[
    		[
    			120094,
    			120094
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120095,
    			120095
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120096,
    			120096
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120097,
    			120097
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120098,
    			120098
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120099,
    			120099
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120100,
    			120100
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120101,
    			120101
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120102,
    			120102
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120103,
    			120103
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120104,
    			120104
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120105,
    			120105
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120106,
    			120106
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120107,
    			120107
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120108,
    			120108
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120109,
    			120109
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120110,
    			120110
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120111,
    			120111
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120112,
    			120112
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120113,
    			120113
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120114,
    			120114
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120115,
    			120115
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120116,
    			120116
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120117,
    			120117
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120118,
    			120118
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120119,
    			120119
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120120,
    			120120
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120121,
    			120121
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120122,
    			120122
    		],
    		"disallowed"
    	],
    	[
    		[
    			120123,
    			120123
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120124,
    			120124
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120125,
    			120125
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120126,
    			120126
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120127,
    			120127
    		],
    		"disallowed"
    	],
    	[
    		[
    			120128,
    			120128
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120129,
    			120129
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120130,
    			120130
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120131,
    			120131
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120132,
    			120132
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120133,
    			120133
    		],
    		"disallowed"
    	],
    	[
    		[
    			120134,
    			120134
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120135,
    			120137
    		],
    		"disallowed"
    	],
    	[
    		[
    			120138,
    			120138
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120139,
    			120139
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120140,
    			120140
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120141,
    			120141
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120142,
    			120142
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120143,
    			120143
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120144,
    			120144
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120145,
    			120145
    		],
    		"disallowed"
    	],
    	[
    		[
    			120146,
    			120146
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120147,
    			120147
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120148,
    			120148
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120149,
    			120149
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120150,
    			120150
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120151,
    			120151
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120152,
    			120152
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120153,
    			120153
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120154,
    			120154
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120155,
    			120155
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120156,
    			120156
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120157,
    			120157
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120158,
    			120158
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120159,
    			120159
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120160,
    			120160
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120161,
    			120161
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120162,
    			120162
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120163,
    			120163
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120164,
    			120164
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120165,
    			120165
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120166,
    			120166
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120167,
    			120167
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120168,
    			120168
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120169,
    			120169
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120170,
    			120170
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120171,
    			120171
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120172,
    			120172
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120173,
    			120173
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120174,
    			120174
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120175,
    			120175
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120176,
    			120176
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120177,
    			120177
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120178,
    			120178
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120179,
    			120179
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120180,
    			120180
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120181,
    			120181
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120182,
    			120182
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120183,
    			120183
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120184,
    			120184
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120185,
    			120185
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120186,
    			120186
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120187,
    			120187
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120188,
    			120188
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120189,
    			120189
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120190,
    			120190
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120191,
    			120191
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120192,
    			120192
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120193,
    			120193
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120194,
    			120194
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120195,
    			120195
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120196,
    			120196
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120197,
    			120197
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120198,
    			120198
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120199,
    			120199
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120200,
    			120200
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120201,
    			120201
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120202,
    			120202
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120203,
    			120203
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120204,
    			120204
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120205,
    			120205
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120206,
    			120206
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120207,
    			120207
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120208,
    			120208
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120209,
    			120209
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120210,
    			120210
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120211,
    			120211
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120212,
    			120212
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120213,
    			120213
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120214,
    			120214
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120215,
    			120215
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120216,
    			120216
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120217,
    			120217
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120218,
    			120218
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120219,
    			120219
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120220,
    			120220
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120221,
    			120221
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120222,
    			120222
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120223,
    			120223
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120224,
    			120224
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120225,
    			120225
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120226,
    			120226
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120227,
    			120227
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120228,
    			120228
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120229,
    			120229
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120230,
    			120230
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120231,
    			120231
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120232,
    			120232
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120233,
    			120233
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120234,
    			120234
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120235,
    			120235
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120236,
    			120236
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120237,
    			120237
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120238,
    			120238
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120239,
    			120239
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120240,
    			120240
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120241,
    			120241
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120242,
    			120242
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120243,
    			120243
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120244,
    			120244
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120245,
    			120245
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120246,
    			120246
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120247,
    			120247
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120248,
    			120248
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120249,
    			120249
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120250,
    			120250
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120251,
    			120251
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120252,
    			120252
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120253,
    			120253
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120254,
    			120254
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120255,
    			120255
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120256,
    			120256
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120257,
    			120257
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120258,
    			120258
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120259,
    			120259
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120260,
    			120260
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120261,
    			120261
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120262,
    			120262
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120263,
    			120263
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120264,
    			120264
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120265,
    			120265
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120266,
    			120266
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120267,
    			120267
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120268,
    			120268
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120269,
    			120269
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120270,
    			120270
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120271,
    			120271
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120272,
    			120272
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120273,
    			120273
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120274,
    			120274
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120275,
    			120275
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120276,
    			120276
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120277,
    			120277
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120278,
    			120278
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120279,
    			120279
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120280,
    			120280
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120281,
    			120281
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120282,
    			120282
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120283,
    			120283
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120284,
    			120284
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120285,
    			120285
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120286,
    			120286
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120287,
    			120287
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120288,
    			120288
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120289,
    			120289
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120290,
    			120290
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120291,
    			120291
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120292,
    			120292
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120293,
    			120293
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120294,
    			120294
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120295,
    			120295
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120296,
    			120296
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120297,
    			120297
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120298,
    			120298
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120299,
    			120299
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120300,
    			120300
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120301,
    			120301
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120302,
    			120302
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120303,
    			120303
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120304,
    			120304
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120305,
    			120305
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120306,
    			120306
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120307,
    			120307
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120308,
    			120308
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120309,
    			120309
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120310,
    			120310
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120311,
    			120311
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120312,
    			120312
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120313,
    			120313
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120314,
    			120314
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120315,
    			120315
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120316,
    			120316
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120317,
    			120317
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120318,
    			120318
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120319,
    			120319
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120320,
    			120320
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120321,
    			120321
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120322,
    			120322
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120323,
    			120323
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120324,
    			120324
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120325,
    			120325
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120326,
    			120326
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120327,
    			120327
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120328,
    			120328
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120329,
    			120329
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120330,
    			120330
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120331,
    			120331
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120332,
    			120332
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120333,
    			120333
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120334,
    			120334
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120335,
    			120335
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120336,
    			120336
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120337,
    			120337
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120338,
    			120338
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120339,
    			120339
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120340,
    			120340
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120341,
    			120341
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120342,
    			120342
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120343,
    			120343
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120344,
    			120344
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120345,
    			120345
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120346,
    			120346
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120347,
    			120347
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120348,
    			120348
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120349,
    			120349
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120350,
    			120350
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120351,
    			120351
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120352,
    			120352
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120353,
    			120353
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120354,
    			120354
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120355,
    			120355
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120356,
    			120356
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120357,
    			120357
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120358,
    			120358
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120359,
    			120359
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120360,
    			120360
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120361,
    			120361
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120362,
    			120362
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120363,
    			120363
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120364,
    			120364
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120365,
    			120365
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120366,
    			120366
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120367,
    			120367
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120368,
    			120368
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120369,
    			120369
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120370,
    			120370
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120371,
    			120371
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120372,
    			120372
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120373,
    			120373
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120374,
    			120374
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120375,
    			120375
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120376,
    			120376
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120377,
    			120377
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120378,
    			120378
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120379,
    			120379
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120380,
    			120380
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120381,
    			120381
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120382,
    			120382
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120383,
    			120383
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120384,
    			120384
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120385,
    			120385
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120386,
    			120386
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120387,
    			120387
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120388,
    			120388
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120389,
    			120389
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120390,
    			120390
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120391,
    			120391
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120392,
    			120392
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120393,
    			120393
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120394,
    			120394
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120395,
    			120395
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120396,
    			120396
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120397,
    			120397
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120398,
    			120398
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120399,
    			120399
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120400,
    			120400
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120401,
    			120401
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120402,
    			120402
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120403,
    			120403
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120404,
    			120404
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120405,
    			120405
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120406,
    			120406
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120407,
    			120407
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120408,
    			120408
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120409,
    			120409
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120410,
    			120410
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120411,
    			120411
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120412,
    			120412
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120413,
    			120413
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120414,
    			120414
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120415,
    			120415
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120416,
    			120416
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120417,
    			120417
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120418,
    			120418
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120419,
    			120419
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120420,
    			120420
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120421,
    			120421
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120422,
    			120422
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120423,
    			120423
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120424,
    			120424
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120425,
    			120425
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120426,
    			120426
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120427,
    			120427
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120428,
    			120428
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120429,
    			120429
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120430,
    			120430
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120431,
    			120431
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120432,
    			120432
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120433,
    			120433
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120434,
    			120434
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120435,
    			120435
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120436,
    			120436
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120437,
    			120437
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120438,
    			120438
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120439,
    			120439
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120440,
    			120440
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120441,
    			120441
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120442,
    			120442
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120443,
    			120443
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120444,
    			120444
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120445,
    			120445
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120446,
    			120446
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120447,
    			120447
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120448,
    			120448
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120449,
    			120449
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120450,
    			120450
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120451,
    			120451
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120452,
    			120452
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120453,
    			120453
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120454,
    			120454
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120455,
    			120455
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120456,
    			120456
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120457,
    			120457
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120458,
    			120458
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			120459,
    			120459
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			120460,
    			120460
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			120461,
    			120461
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			120462,
    			120462
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			120463,
    			120463
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			120464,
    			120464
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			120465,
    			120465
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			120466,
    			120466
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			120467,
    			120467
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			120468,
    			120468
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			120469,
    			120469
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			120470,
    			120470
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			120471,
    			120471
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			120472,
    			120472
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			120473,
    			120473
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			120474,
    			120474
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			120475,
    			120475
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			120476,
    			120476
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			120477,
    			120477
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			120478,
    			120478
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			120479,
    			120479
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			120480,
    			120480
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			120481,
    			120481
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			120482,
    			120482
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			120483,
    			120483
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			120484,
    			120484
    		],
    		"mapped",
    		[
    			305
    		]
    	],
    	[
    		[
    			120485,
    			120485
    		],
    		"mapped",
    		[
    			567
    		]
    	],
    	[
    		[
    			120486,
    			120487
    		],
    		"disallowed"
    	],
    	[
    		[
    			120488,
    			120488
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120489,
    			120489
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120490,
    			120490
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120491,
    			120491
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120492,
    			120492
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120493,
    			120493
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120494,
    			120494
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120495,
    			120495
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120496,
    			120496
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120497,
    			120497
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120498,
    			120498
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120499,
    			120499
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120500,
    			120500
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120501,
    			120501
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120502,
    			120502
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120503,
    			120503
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120504,
    			120504
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120505,
    			120505
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120506,
    			120506
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120507,
    			120507
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120508,
    			120508
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120509,
    			120509
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120510,
    			120510
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120511,
    			120511
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120512,
    			120512
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120513,
    			120513
    		],
    		"mapped",
    		[
    			8711
    		]
    	],
    	[
    		[
    			120514,
    			120514
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120515,
    			120515
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120516,
    			120516
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120517,
    			120517
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120518,
    			120518
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120519,
    			120519
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120520,
    			120520
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120521,
    			120521
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120522,
    			120522
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120523,
    			120523
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120524,
    			120524
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120525,
    			120525
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120526,
    			120526
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120527,
    			120527
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120528,
    			120528
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120529,
    			120529
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120530,
    			120530
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120531,
    			120532
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120533,
    			120533
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120534,
    			120534
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120535,
    			120535
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120536,
    			120536
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120537,
    			120537
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120538,
    			120538
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120539,
    			120539
    		],
    		"mapped",
    		[
    			8706
    		]
    	],
    	[
    		[
    			120540,
    			120540
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120541,
    			120541
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120542,
    			120542
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120543,
    			120543
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120544,
    			120544
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120545,
    			120545
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120546,
    			120546
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120547,
    			120547
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120548,
    			120548
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120549,
    			120549
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120550,
    			120550
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120551,
    			120551
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120552,
    			120552
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120553,
    			120553
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120554,
    			120554
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120555,
    			120555
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120556,
    			120556
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120557,
    			120557
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120558,
    			120558
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120559,
    			120559
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120560,
    			120560
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120561,
    			120561
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120562,
    			120562
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120563,
    			120563
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120564,
    			120564
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120565,
    			120565
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120566,
    			120566
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120567,
    			120567
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120568,
    			120568
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120569,
    			120569
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120570,
    			120570
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120571,
    			120571
    		],
    		"mapped",
    		[
    			8711
    		]
    	],
    	[
    		[
    			120572,
    			120572
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120573,
    			120573
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120574,
    			120574
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120575,
    			120575
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120576,
    			120576
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120577,
    			120577
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120578,
    			120578
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120579,
    			120579
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120580,
    			120580
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120581,
    			120581
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120582,
    			120582
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120583,
    			120583
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120584,
    			120584
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120585,
    			120585
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120586,
    			120586
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120587,
    			120587
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120588,
    			120588
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120589,
    			120590
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120591,
    			120591
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120592,
    			120592
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120593,
    			120593
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120594,
    			120594
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120595,
    			120595
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120596,
    			120596
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120597,
    			120597
    		],
    		"mapped",
    		[
    			8706
    		]
    	],
    	[
    		[
    			120598,
    			120598
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120599,
    			120599
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120600,
    			120600
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120601,
    			120601
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120602,
    			120602
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120603,
    			120603
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120604,
    			120604
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120605,
    			120605
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120606,
    			120606
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120607,
    			120607
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120608,
    			120608
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120609,
    			120609
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120610,
    			120610
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120611,
    			120611
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120612,
    			120612
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120613,
    			120613
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120614,
    			120614
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120615,
    			120615
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120616,
    			120616
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120617,
    			120617
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120618,
    			120618
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120619,
    			120619
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120620,
    			120620
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120621,
    			120621
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120622,
    			120622
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120623,
    			120623
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120624,
    			120624
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120625,
    			120625
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120626,
    			120626
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120627,
    			120627
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120628,
    			120628
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120629,
    			120629
    		],
    		"mapped",
    		[
    			8711
    		]
    	],
    	[
    		[
    			120630,
    			120630
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120631,
    			120631
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120632,
    			120632
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120633,
    			120633
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120634,
    			120634
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120635,
    			120635
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120636,
    			120636
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120637,
    			120637
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120638,
    			120638
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120639,
    			120639
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120640,
    			120640
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120641,
    			120641
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120642,
    			120642
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120643,
    			120643
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120644,
    			120644
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120645,
    			120645
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120646,
    			120646
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120647,
    			120648
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120649,
    			120649
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120650,
    			120650
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120651,
    			120651
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120652,
    			120652
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120653,
    			120653
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120654,
    			120654
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120655,
    			120655
    		],
    		"mapped",
    		[
    			8706
    		]
    	],
    	[
    		[
    			120656,
    			120656
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120657,
    			120657
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120658,
    			120658
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120659,
    			120659
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120660,
    			120660
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120661,
    			120661
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120662,
    			120662
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120663,
    			120663
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120664,
    			120664
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120665,
    			120665
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120666,
    			120666
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120667,
    			120667
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120668,
    			120668
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120669,
    			120669
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120670,
    			120670
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120671,
    			120671
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120672,
    			120672
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120673,
    			120673
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120674,
    			120674
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120675,
    			120675
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120676,
    			120676
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120677,
    			120677
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120678,
    			120678
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120679,
    			120679
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120680,
    			120680
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120681,
    			120681
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120682,
    			120682
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120683,
    			120683
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120684,
    			120684
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120685,
    			120685
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120686,
    			120686
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120687,
    			120687
    		],
    		"mapped",
    		[
    			8711
    		]
    	],
    	[
    		[
    			120688,
    			120688
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120689,
    			120689
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120690,
    			120690
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120691,
    			120691
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120692,
    			120692
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120693,
    			120693
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120694,
    			120694
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120695,
    			120695
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120696,
    			120696
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120697,
    			120697
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120698,
    			120698
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120699,
    			120699
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120700,
    			120700
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120701,
    			120701
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120702,
    			120702
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120703,
    			120703
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120704,
    			120704
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120705,
    			120706
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120707,
    			120707
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120708,
    			120708
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120709,
    			120709
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120710,
    			120710
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120711,
    			120711
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120712,
    			120712
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120713,
    			120713
    		],
    		"mapped",
    		[
    			8706
    		]
    	],
    	[
    		[
    			120714,
    			120714
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120715,
    			120715
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120716,
    			120716
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120717,
    			120717
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120718,
    			120718
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120719,
    			120719
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120720,
    			120720
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120721,
    			120721
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120722,
    			120722
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120723,
    			120723
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120724,
    			120724
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120725,
    			120725
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120726,
    			120726
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120727,
    			120727
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120728,
    			120728
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120729,
    			120729
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120730,
    			120730
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120731,
    			120731
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120732,
    			120732
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120733,
    			120733
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120734,
    			120734
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120735,
    			120735
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120736,
    			120736
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120737,
    			120737
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120738,
    			120738
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120739,
    			120739
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120740,
    			120740
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120741,
    			120741
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120742,
    			120742
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120743,
    			120743
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120744,
    			120744
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120745,
    			120745
    		],
    		"mapped",
    		[
    			8711
    		]
    	],
    	[
    		[
    			120746,
    			120746
    		],
    		"mapped",
    		[
    			945
    		]
    	],
    	[
    		[
    			120747,
    			120747
    		],
    		"mapped",
    		[
    			946
    		]
    	],
    	[
    		[
    			120748,
    			120748
    		],
    		"mapped",
    		[
    			947
    		]
    	],
    	[
    		[
    			120749,
    			120749
    		],
    		"mapped",
    		[
    			948
    		]
    	],
    	[
    		[
    			120750,
    			120750
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120751,
    			120751
    		],
    		"mapped",
    		[
    			950
    		]
    	],
    	[
    		[
    			120752,
    			120752
    		],
    		"mapped",
    		[
    			951
    		]
    	],
    	[
    		[
    			120753,
    			120753
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120754,
    			120754
    		],
    		"mapped",
    		[
    			953
    		]
    	],
    	[
    		[
    			120755,
    			120755
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120756,
    			120756
    		],
    		"mapped",
    		[
    			955
    		]
    	],
    	[
    		[
    			120757,
    			120757
    		],
    		"mapped",
    		[
    			956
    		]
    	],
    	[
    		[
    			120758,
    			120758
    		],
    		"mapped",
    		[
    			957
    		]
    	],
    	[
    		[
    			120759,
    			120759
    		],
    		"mapped",
    		[
    			958
    		]
    	],
    	[
    		[
    			120760,
    			120760
    		],
    		"mapped",
    		[
    			959
    		]
    	],
    	[
    		[
    			120761,
    			120761
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120762,
    			120762
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120763,
    			120764
    		],
    		"mapped",
    		[
    			963
    		]
    	],
    	[
    		[
    			120765,
    			120765
    		],
    		"mapped",
    		[
    			964
    		]
    	],
    	[
    		[
    			120766,
    			120766
    		],
    		"mapped",
    		[
    			965
    		]
    	],
    	[
    		[
    			120767,
    			120767
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120768,
    			120768
    		],
    		"mapped",
    		[
    			967
    		]
    	],
    	[
    		[
    			120769,
    			120769
    		],
    		"mapped",
    		[
    			968
    		]
    	],
    	[
    		[
    			120770,
    			120770
    		],
    		"mapped",
    		[
    			969
    		]
    	],
    	[
    		[
    			120771,
    			120771
    		],
    		"mapped",
    		[
    			8706
    		]
    	],
    	[
    		[
    			120772,
    			120772
    		],
    		"mapped",
    		[
    			949
    		]
    	],
    	[
    		[
    			120773,
    			120773
    		],
    		"mapped",
    		[
    			952
    		]
    	],
    	[
    		[
    			120774,
    			120774
    		],
    		"mapped",
    		[
    			954
    		]
    	],
    	[
    		[
    			120775,
    			120775
    		],
    		"mapped",
    		[
    			966
    		]
    	],
    	[
    		[
    			120776,
    			120776
    		],
    		"mapped",
    		[
    			961
    		]
    	],
    	[
    		[
    			120777,
    			120777
    		],
    		"mapped",
    		[
    			960
    		]
    	],
    	[
    		[
    			120778,
    			120779
    		],
    		"mapped",
    		[
    			989
    		]
    	],
    	[
    		[
    			120780,
    			120781
    		],
    		"disallowed"
    	],
    	[
    		[
    			120782,
    			120782
    		],
    		"mapped",
    		[
    			48
    		]
    	],
    	[
    		[
    			120783,
    			120783
    		],
    		"mapped",
    		[
    			49
    		]
    	],
    	[
    		[
    			120784,
    			120784
    		],
    		"mapped",
    		[
    			50
    		]
    	],
    	[
    		[
    			120785,
    			120785
    		],
    		"mapped",
    		[
    			51
    		]
    	],
    	[
    		[
    			120786,
    			120786
    		],
    		"mapped",
    		[
    			52
    		]
    	],
    	[
    		[
    			120787,
    			120787
    		],
    		"mapped",
    		[
    			53
    		]
    	],
    	[
    		[
    			120788,
    			120788
    		],
    		"mapped",
    		[
    			54
    		]
    	],
    	[
    		[
    			120789,
    			120789
    		],
    		"mapped",
    		[
    			55
    		]
    	],
    	[
    		[
    			120790,
    			120790
    		],
    		"mapped",
    		[
    			56
    		]
    	],
    	[
    		[
    			120791,
    			120791
    		],
    		"mapped",
    		[
    			57
    		]
    	],
    	[
    		[
    			120792,
    			120792
    		],
    		"mapped",
    		[
    			48
    		]
    	],
    	[
    		[
    			120793,
    			120793
    		],
    		"mapped",
    		[
    			49
    		]
    	],
    	[
    		[
    			120794,
    			120794
    		],
    		"mapped",
    		[
    			50
    		]
    	],
    	[
    		[
    			120795,
    			120795
    		],
    		"mapped",
    		[
    			51
    		]
    	],
    	[
    		[
    			120796,
    			120796
    		],
    		"mapped",
    		[
    			52
    		]
    	],
    	[
    		[
    			120797,
    			120797
    		],
    		"mapped",
    		[
    			53
    		]
    	],
    	[
    		[
    			120798,
    			120798
    		],
    		"mapped",
    		[
    			54
    		]
    	],
    	[
    		[
    			120799,
    			120799
    		],
    		"mapped",
    		[
    			55
    		]
    	],
    	[
    		[
    			120800,
    			120800
    		],
    		"mapped",
    		[
    			56
    		]
    	],
    	[
    		[
    			120801,
    			120801
    		],
    		"mapped",
    		[
    			57
    		]
    	],
    	[
    		[
    			120802,
    			120802
    		],
    		"mapped",
    		[
    			48
    		]
    	],
    	[
    		[
    			120803,
    			120803
    		],
    		"mapped",
    		[
    			49
    		]
    	],
    	[
    		[
    			120804,
    			120804
    		],
    		"mapped",
    		[
    			50
    		]
    	],
    	[
    		[
    			120805,
    			120805
    		],
    		"mapped",
    		[
    			51
    		]
    	],
    	[
    		[
    			120806,
    			120806
    		],
    		"mapped",
    		[
    			52
    		]
    	],
    	[
    		[
    			120807,
    			120807
    		],
    		"mapped",
    		[
    			53
    		]
    	],
    	[
    		[
    			120808,
    			120808
    		],
    		"mapped",
    		[
    			54
    		]
    	],
    	[
    		[
    			120809,
    			120809
    		],
    		"mapped",
    		[
    			55
    		]
    	],
    	[
    		[
    			120810,
    			120810
    		],
    		"mapped",
    		[
    			56
    		]
    	],
    	[
    		[
    			120811,
    			120811
    		],
    		"mapped",
    		[
    			57
    		]
    	],
    	[
    		[
    			120812,
    			120812
    		],
    		"mapped",
    		[
    			48
    		]
    	],
    	[
    		[
    			120813,
    			120813
    		],
    		"mapped",
    		[
    			49
    		]
    	],
    	[
    		[
    			120814,
    			120814
    		],
    		"mapped",
    		[
    			50
    		]
    	],
    	[
    		[
    			120815,
    			120815
    		],
    		"mapped",
    		[
    			51
    		]
    	],
    	[
    		[
    			120816,
    			120816
    		],
    		"mapped",
    		[
    			52
    		]
    	],
    	[
    		[
    			120817,
    			120817
    		],
    		"mapped",
    		[
    			53
    		]
    	],
    	[
    		[
    			120818,
    			120818
    		],
    		"mapped",
    		[
    			54
    		]
    	],
    	[
    		[
    			120819,
    			120819
    		],
    		"mapped",
    		[
    			55
    		]
    	],
    	[
    		[
    			120820,
    			120820
    		],
    		"mapped",
    		[
    			56
    		]
    	],
    	[
    		[
    			120821,
    			120821
    		],
    		"mapped",
    		[
    			57
    		]
    	],
    	[
    		[
    			120822,
    			120822
    		],
    		"mapped",
    		[
    			48
    		]
    	],
    	[
    		[
    			120823,
    			120823
    		],
    		"mapped",
    		[
    			49
    		]
    	],
    	[
    		[
    			120824,
    			120824
    		],
    		"mapped",
    		[
    			50
    		]
    	],
    	[
    		[
    			120825,
    			120825
    		],
    		"mapped",
    		[
    			51
    		]
    	],
    	[
    		[
    			120826,
    			120826
    		],
    		"mapped",
    		[
    			52
    		]
    	],
    	[
    		[
    			120827,
    			120827
    		],
    		"mapped",
    		[
    			53
    		]
    	],
    	[
    		[
    			120828,
    			120828
    		],
    		"mapped",
    		[
    			54
    		]
    	],
    	[
    		[
    			120829,
    			120829
    		],
    		"mapped",
    		[
    			55
    		]
    	],
    	[
    		[
    			120830,
    			120830
    		],
    		"mapped",
    		[
    			56
    		]
    	],
    	[
    		[
    			120831,
    			120831
    		],
    		"mapped",
    		[
    			57
    		]
    	],
    	[
    		[
    			120832,
    			121343
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			121344,
    			121398
    		],
    		"valid"
    	],
    	[
    		[
    			121399,
    			121402
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			121403,
    			121452
    		],
    		"valid"
    	],
    	[
    		[
    			121453,
    			121460
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			121461,
    			121461
    		],
    		"valid"
    	],
    	[
    		[
    			121462,
    			121475
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			121476,
    			121476
    		],
    		"valid"
    	],
    	[
    		[
    			121477,
    			121483
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			121484,
    			121498
    		],
    		"disallowed"
    	],
    	[
    		[
    			121499,
    			121503
    		],
    		"valid"
    	],
    	[
    		[
    			121504,
    			121504
    		],
    		"disallowed"
    	],
    	[
    		[
    			121505,
    			121519
    		],
    		"valid"
    	],
    	[
    		[
    			121520,
    			124927
    		],
    		"disallowed"
    	],
    	[
    		[
    			124928,
    			125124
    		],
    		"valid"
    	],
    	[
    		[
    			125125,
    			125126
    		],
    		"disallowed"
    	],
    	[
    		[
    			125127,
    			125135
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			125136,
    			125142
    		],
    		"valid"
    	],
    	[
    		[
    			125143,
    			126463
    		],
    		"disallowed"
    	],
    	[
    		[
    			126464,
    			126464
    		],
    		"mapped",
    		[
    			1575
    		]
    	],
    	[
    		[
    			126465,
    			126465
    		],
    		"mapped",
    		[
    			1576
    		]
    	],
    	[
    		[
    			126466,
    			126466
    		],
    		"mapped",
    		[
    			1580
    		]
    	],
    	[
    		[
    			126467,
    			126467
    		],
    		"mapped",
    		[
    			1583
    		]
    	],
    	[
    		[
    			126468,
    			126468
    		],
    		"disallowed"
    	],
    	[
    		[
    			126469,
    			126469
    		],
    		"mapped",
    		[
    			1608
    		]
    	],
    	[
    		[
    			126470,
    			126470
    		],
    		"mapped",
    		[
    			1586
    		]
    	],
    	[
    		[
    			126471,
    			126471
    		],
    		"mapped",
    		[
    			1581
    		]
    	],
    	[
    		[
    			126472,
    			126472
    		],
    		"mapped",
    		[
    			1591
    		]
    	],
    	[
    		[
    			126473,
    			126473
    		],
    		"mapped",
    		[
    			1610
    		]
    	],
    	[
    		[
    			126474,
    			126474
    		],
    		"mapped",
    		[
    			1603
    		]
    	],
    	[
    		[
    			126475,
    			126475
    		],
    		"mapped",
    		[
    			1604
    		]
    	],
    	[
    		[
    			126476,
    			126476
    		],
    		"mapped",
    		[
    			1605
    		]
    	],
    	[
    		[
    			126477,
    			126477
    		],
    		"mapped",
    		[
    			1606
    		]
    	],
    	[
    		[
    			126478,
    			126478
    		],
    		"mapped",
    		[
    			1587
    		]
    	],
    	[
    		[
    			126479,
    			126479
    		],
    		"mapped",
    		[
    			1593
    		]
    	],
    	[
    		[
    			126480,
    			126480
    		],
    		"mapped",
    		[
    			1601
    		]
    	],
    	[
    		[
    			126481,
    			126481
    		],
    		"mapped",
    		[
    			1589
    		]
    	],
    	[
    		[
    			126482,
    			126482
    		],
    		"mapped",
    		[
    			1602
    		]
    	],
    	[
    		[
    			126483,
    			126483
    		],
    		"mapped",
    		[
    			1585
    		]
    	],
    	[
    		[
    			126484,
    			126484
    		],
    		"mapped",
    		[
    			1588
    		]
    	],
    	[
    		[
    			126485,
    			126485
    		],
    		"mapped",
    		[
    			1578
    		]
    	],
    	[
    		[
    			126486,
    			126486
    		],
    		"mapped",
    		[
    			1579
    		]
    	],
    	[
    		[
    			126487,
    			126487
    		],
    		"mapped",
    		[
    			1582
    		]
    	],
    	[
    		[
    			126488,
    			126488
    		],
    		"mapped",
    		[
    			1584
    		]
    	],
    	[
    		[
    			126489,
    			126489
    		],
    		"mapped",
    		[
    			1590
    		]
    	],
    	[
    		[
    			126490,
    			126490
    		],
    		"mapped",
    		[
    			1592
    		]
    	],
    	[
    		[
    			126491,
    			126491
    		],
    		"mapped",
    		[
    			1594
    		]
    	],
    	[
    		[
    			126492,
    			126492
    		],
    		"mapped",
    		[
    			1646
    		]
    	],
    	[
    		[
    			126493,
    			126493
    		],
    		"mapped",
    		[
    			1722
    		]
    	],
    	[
    		[
    			126494,
    			126494
    		],
    		"mapped",
    		[
    			1697
    		]
    	],
    	[
    		[
    			126495,
    			126495
    		],
    		"mapped",
    		[
    			1647
    		]
    	],
    	[
    		[
    			126496,
    			126496
    		],
    		"disallowed"
    	],
    	[
    		[
    			126497,
    			126497
    		],
    		"mapped",
    		[
    			1576
    		]
    	],
    	[
    		[
    			126498,
    			126498
    		],
    		"mapped",
    		[
    			1580
    		]
    	],
    	[
    		[
    			126499,
    			126499
    		],
    		"disallowed"
    	],
    	[
    		[
    			126500,
    			126500
    		],
    		"mapped",
    		[
    			1607
    		]
    	],
    	[
    		[
    			126501,
    			126502
    		],
    		"disallowed"
    	],
    	[
    		[
    			126503,
    			126503
    		],
    		"mapped",
    		[
    			1581
    		]
    	],
    	[
    		[
    			126504,
    			126504
    		],
    		"disallowed"
    	],
    	[
    		[
    			126505,
    			126505
    		],
    		"mapped",
    		[
    			1610
    		]
    	],
    	[
    		[
    			126506,
    			126506
    		],
    		"mapped",
    		[
    			1603
    		]
    	],
    	[
    		[
    			126507,
    			126507
    		],
    		"mapped",
    		[
    			1604
    		]
    	],
    	[
    		[
    			126508,
    			126508
    		],
    		"mapped",
    		[
    			1605
    		]
    	],
    	[
    		[
    			126509,
    			126509
    		],
    		"mapped",
    		[
    			1606
    		]
    	],
    	[
    		[
    			126510,
    			126510
    		],
    		"mapped",
    		[
    			1587
    		]
    	],
    	[
    		[
    			126511,
    			126511
    		],
    		"mapped",
    		[
    			1593
    		]
    	],
    	[
    		[
    			126512,
    			126512
    		],
    		"mapped",
    		[
    			1601
    		]
    	],
    	[
    		[
    			126513,
    			126513
    		],
    		"mapped",
    		[
    			1589
    		]
    	],
    	[
    		[
    			126514,
    			126514
    		],
    		"mapped",
    		[
    			1602
    		]
    	],
    	[
    		[
    			126515,
    			126515
    		],
    		"disallowed"
    	],
    	[
    		[
    			126516,
    			126516
    		],
    		"mapped",
    		[
    			1588
    		]
    	],
    	[
    		[
    			126517,
    			126517
    		],
    		"mapped",
    		[
    			1578
    		]
    	],
    	[
    		[
    			126518,
    			126518
    		],
    		"mapped",
    		[
    			1579
    		]
    	],
    	[
    		[
    			126519,
    			126519
    		],
    		"mapped",
    		[
    			1582
    		]
    	],
    	[
    		[
    			126520,
    			126520
    		],
    		"disallowed"
    	],
    	[
    		[
    			126521,
    			126521
    		],
    		"mapped",
    		[
    			1590
    		]
    	],
    	[
    		[
    			126522,
    			126522
    		],
    		"disallowed"
    	],
    	[
    		[
    			126523,
    			126523
    		],
    		"mapped",
    		[
    			1594
    		]
    	],
    	[
    		[
    			126524,
    			126529
    		],
    		"disallowed"
    	],
    	[
    		[
    			126530,
    			126530
    		],
    		"mapped",
    		[
    			1580
    		]
    	],
    	[
    		[
    			126531,
    			126534
    		],
    		"disallowed"
    	],
    	[
    		[
    			126535,
    			126535
    		],
    		"mapped",
    		[
    			1581
    		]
    	],
    	[
    		[
    			126536,
    			126536
    		],
    		"disallowed"
    	],
    	[
    		[
    			126537,
    			126537
    		],
    		"mapped",
    		[
    			1610
    		]
    	],
    	[
    		[
    			126538,
    			126538
    		],
    		"disallowed"
    	],
    	[
    		[
    			126539,
    			126539
    		],
    		"mapped",
    		[
    			1604
    		]
    	],
    	[
    		[
    			126540,
    			126540
    		],
    		"disallowed"
    	],
    	[
    		[
    			126541,
    			126541
    		],
    		"mapped",
    		[
    			1606
    		]
    	],
    	[
    		[
    			126542,
    			126542
    		],
    		"mapped",
    		[
    			1587
    		]
    	],
    	[
    		[
    			126543,
    			126543
    		],
    		"mapped",
    		[
    			1593
    		]
    	],
    	[
    		[
    			126544,
    			126544
    		],
    		"disallowed"
    	],
    	[
    		[
    			126545,
    			126545
    		],
    		"mapped",
    		[
    			1589
    		]
    	],
    	[
    		[
    			126546,
    			126546
    		],
    		"mapped",
    		[
    			1602
    		]
    	],
    	[
    		[
    			126547,
    			126547
    		],
    		"disallowed"
    	],
    	[
    		[
    			126548,
    			126548
    		],
    		"mapped",
    		[
    			1588
    		]
    	],
    	[
    		[
    			126549,
    			126550
    		],
    		"disallowed"
    	],
    	[
    		[
    			126551,
    			126551
    		],
    		"mapped",
    		[
    			1582
    		]
    	],
    	[
    		[
    			126552,
    			126552
    		],
    		"disallowed"
    	],
    	[
    		[
    			126553,
    			126553
    		],
    		"mapped",
    		[
    			1590
    		]
    	],
    	[
    		[
    			126554,
    			126554
    		],
    		"disallowed"
    	],
    	[
    		[
    			126555,
    			126555
    		],
    		"mapped",
    		[
    			1594
    		]
    	],
    	[
    		[
    			126556,
    			126556
    		],
    		"disallowed"
    	],
    	[
    		[
    			126557,
    			126557
    		],
    		"mapped",
    		[
    			1722
    		]
    	],
    	[
    		[
    			126558,
    			126558
    		],
    		"disallowed"
    	],
    	[
    		[
    			126559,
    			126559
    		],
    		"mapped",
    		[
    			1647
    		]
    	],
    	[
    		[
    			126560,
    			126560
    		],
    		"disallowed"
    	],
    	[
    		[
    			126561,
    			126561
    		],
    		"mapped",
    		[
    			1576
    		]
    	],
    	[
    		[
    			126562,
    			126562
    		],
    		"mapped",
    		[
    			1580
    		]
    	],
    	[
    		[
    			126563,
    			126563
    		],
    		"disallowed"
    	],
    	[
    		[
    			126564,
    			126564
    		],
    		"mapped",
    		[
    			1607
    		]
    	],
    	[
    		[
    			126565,
    			126566
    		],
    		"disallowed"
    	],
    	[
    		[
    			126567,
    			126567
    		],
    		"mapped",
    		[
    			1581
    		]
    	],
    	[
    		[
    			126568,
    			126568
    		],
    		"mapped",
    		[
    			1591
    		]
    	],
    	[
    		[
    			126569,
    			126569
    		],
    		"mapped",
    		[
    			1610
    		]
    	],
    	[
    		[
    			126570,
    			126570
    		],
    		"mapped",
    		[
    			1603
    		]
    	],
    	[
    		[
    			126571,
    			126571
    		],
    		"disallowed"
    	],
    	[
    		[
    			126572,
    			126572
    		],
    		"mapped",
    		[
    			1605
    		]
    	],
    	[
    		[
    			126573,
    			126573
    		],
    		"mapped",
    		[
    			1606
    		]
    	],
    	[
    		[
    			126574,
    			126574
    		],
    		"mapped",
    		[
    			1587
    		]
    	],
    	[
    		[
    			126575,
    			126575
    		],
    		"mapped",
    		[
    			1593
    		]
    	],
    	[
    		[
    			126576,
    			126576
    		],
    		"mapped",
    		[
    			1601
    		]
    	],
    	[
    		[
    			126577,
    			126577
    		],
    		"mapped",
    		[
    			1589
    		]
    	],
    	[
    		[
    			126578,
    			126578
    		],
    		"mapped",
    		[
    			1602
    		]
    	],
    	[
    		[
    			126579,
    			126579
    		],
    		"disallowed"
    	],
    	[
    		[
    			126580,
    			126580
    		],
    		"mapped",
    		[
    			1588
    		]
    	],
    	[
    		[
    			126581,
    			126581
    		],
    		"mapped",
    		[
    			1578
    		]
    	],
    	[
    		[
    			126582,
    			126582
    		],
    		"mapped",
    		[
    			1579
    		]
    	],
    	[
    		[
    			126583,
    			126583
    		],
    		"mapped",
    		[
    			1582
    		]
    	],
    	[
    		[
    			126584,
    			126584
    		],
    		"disallowed"
    	],
    	[
    		[
    			126585,
    			126585
    		],
    		"mapped",
    		[
    			1590
    		]
    	],
    	[
    		[
    			126586,
    			126586
    		],
    		"mapped",
    		[
    			1592
    		]
    	],
    	[
    		[
    			126587,
    			126587
    		],
    		"mapped",
    		[
    			1594
    		]
    	],
    	[
    		[
    			126588,
    			126588
    		],
    		"mapped",
    		[
    			1646
    		]
    	],
    	[
    		[
    			126589,
    			126589
    		],
    		"disallowed"
    	],
    	[
    		[
    			126590,
    			126590
    		],
    		"mapped",
    		[
    			1697
    		]
    	],
    	[
    		[
    			126591,
    			126591
    		],
    		"disallowed"
    	],
    	[
    		[
    			126592,
    			126592
    		],
    		"mapped",
    		[
    			1575
    		]
    	],
    	[
    		[
    			126593,
    			126593
    		],
    		"mapped",
    		[
    			1576
    		]
    	],
    	[
    		[
    			126594,
    			126594
    		],
    		"mapped",
    		[
    			1580
    		]
    	],
    	[
    		[
    			126595,
    			126595
    		],
    		"mapped",
    		[
    			1583
    		]
    	],
    	[
    		[
    			126596,
    			126596
    		],
    		"mapped",
    		[
    			1607
    		]
    	],
    	[
    		[
    			126597,
    			126597
    		],
    		"mapped",
    		[
    			1608
    		]
    	],
    	[
    		[
    			126598,
    			126598
    		],
    		"mapped",
    		[
    			1586
    		]
    	],
    	[
    		[
    			126599,
    			126599
    		],
    		"mapped",
    		[
    			1581
    		]
    	],
    	[
    		[
    			126600,
    			126600
    		],
    		"mapped",
    		[
    			1591
    		]
    	],
    	[
    		[
    			126601,
    			126601
    		],
    		"mapped",
    		[
    			1610
    		]
    	],
    	[
    		[
    			126602,
    			126602
    		],
    		"disallowed"
    	],
    	[
    		[
    			126603,
    			126603
    		],
    		"mapped",
    		[
    			1604
    		]
    	],
    	[
    		[
    			126604,
    			126604
    		],
    		"mapped",
    		[
    			1605
    		]
    	],
    	[
    		[
    			126605,
    			126605
    		],
    		"mapped",
    		[
    			1606
    		]
    	],
    	[
    		[
    			126606,
    			126606
    		],
    		"mapped",
    		[
    			1587
    		]
    	],
    	[
    		[
    			126607,
    			126607
    		],
    		"mapped",
    		[
    			1593
    		]
    	],
    	[
    		[
    			126608,
    			126608
    		],
    		"mapped",
    		[
    			1601
    		]
    	],
    	[
    		[
    			126609,
    			126609
    		],
    		"mapped",
    		[
    			1589
    		]
    	],
    	[
    		[
    			126610,
    			126610
    		],
    		"mapped",
    		[
    			1602
    		]
    	],
    	[
    		[
    			126611,
    			126611
    		],
    		"mapped",
    		[
    			1585
    		]
    	],
    	[
    		[
    			126612,
    			126612
    		],
    		"mapped",
    		[
    			1588
    		]
    	],
    	[
    		[
    			126613,
    			126613
    		],
    		"mapped",
    		[
    			1578
    		]
    	],
    	[
    		[
    			126614,
    			126614
    		],
    		"mapped",
    		[
    			1579
    		]
    	],
    	[
    		[
    			126615,
    			126615
    		],
    		"mapped",
    		[
    			1582
    		]
    	],
    	[
    		[
    			126616,
    			126616
    		],
    		"mapped",
    		[
    			1584
    		]
    	],
    	[
    		[
    			126617,
    			126617
    		],
    		"mapped",
    		[
    			1590
    		]
    	],
    	[
    		[
    			126618,
    			126618
    		],
    		"mapped",
    		[
    			1592
    		]
    	],
    	[
    		[
    			126619,
    			126619
    		],
    		"mapped",
    		[
    			1594
    		]
    	],
    	[
    		[
    			126620,
    			126624
    		],
    		"disallowed"
    	],
    	[
    		[
    			126625,
    			126625
    		],
    		"mapped",
    		[
    			1576
    		]
    	],
    	[
    		[
    			126626,
    			126626
    		],
    		"mapped",
    		[
    			1580
    		]
    	],
    	[
    		[
    			126627,
    			126627
    		],
    		"mapped",
    		[
    			1583
    		]
    	],
    	[
    		[
    			126628,
    			126628
    		],
    		"disallowed"
    	],
    	[
    		[
    			126629,
    			126629
    		],
    		"mapped",
    		[
    			1608
    		]
    	],
    	[
    		[
    			126630,
    			126630
    		],
    		"mapped",
    		[
    			1586
    		]
    	],
    	[
    		[
    			126631,
    			126631
    		],
    		"mapped",
    		[
    			1581
    		]
    	],
    	[
    		[
    			126632,
    			126632
    		],
    		"mapped",
    		[
    			1591
    		]
    	],
    	[
    		[
    			126633,
    			126633
    		],
    		"mapped",
    		[
    			1610
    		]
    	],
    	[
    		[
    			126634,
    			126634
    		],
    		"disallowed"
    	],
    	[
    		[
    			126635,
    			126635
    		],
    		"mapped",
    		[
    			1604
    		]
    	],
    	[
    		[
    			126636,
    			126636
    		],
    		"mapped",
    		[
    			1605
    		]
    	],
    	[
    		[
    			126637,
    			126637
    		],
    		"mapped",
    		[
    			1606
    		]
    	],
    	[
    		[
    			126638,
    			126638
    		],
    		"mapped",
    		[
    			1587
    		]
    	],
    	[
    		[
    			126639,
    			126639
    		],
    		"mapped",
    		[
    			1593
    		]
    	],
    	[
    		[
    			126640,
    			126640
    		],
    		"mapped",
    		[
    			1601
    		]
    	],
    	[
    		[
    			126641,
    			126641
    		],
    		"mapped",
    		[
    			1589
    		]
    	],
    	[
    		[
    			126642,
    			126642
    		],
    		"mapped",
    		[
    			1602
    		]
    	],
    	[
    		[
    			126643,
    			126643
    		],
    		"mapped",
    		[
    			1585
    		]
    	],
    	[
    		[
    			126644,
    			126644
    		],
    		"mapped",
    		[
    			1588
    		]
    	],
    	[
    		[
    			126645,
    			126645
    		],
    		"mapped",
    		[
    			1578
    		]
    	],
    	[
    		[
    			126646,
    			126646
    		],
    		"mapped",
    		[
    			1579
    		]
    	],
    	[
    		[
    			126647,
    			126647
    		],
    		"mapped",
    		[
    			1582
    		]
    	],
    	[
    		[
    			126648,
    			126648
    		],
    		"mapped",
    		[
    			1584
    		]
    	],
    	[
    		[
    			126649,
    			126649
    		],
    		"mapped",
    		[
    			1590
    		]
    	],
    	[
    		[
    			126650,
    			126650
    		],
    		"mapped",
    		[
    			1592
    		]
    	],
    	[
    		[
    			126651,
    			126651
    		],
    		"mapped",
    		[
    			1594
    		]
    	],
    	[
    		[
    			126652,
    			126703
    		],
    		"disallowed"
    	],
    	[
    		[
    			126704,
    			126705
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			126706,
    			126975
    		],
    		"disallowed"
    	],
    	[
    		[
    			126976,
    			127019
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127020,
    			127023
    		],
    		"disallowed"
    	],
    	[
    		[
    			127024,
    			127123
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127124,
    			127135
    		],
    		"disallowed"
    	],
    	[
    		[
    			127136,
    			127150
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127151,
    			127152
    		],
    		"disallowed"
    	],
    	[
    		[
    			127153,
    			127166
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127167,
    			127167
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127168,
    			127168
    		],
    		"disallowed"
    	],
    	[
    		[
    			127169,
    			127183
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127184,
    			127184
    		],
    		"disallowed"
    	],
    	[
    		[
    			127185,
    			127199
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127200,
    			127221
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127222,
    			127231
    		],
    		"disallowed"
    	],
    	[
    		[
    			127232,
    			127232
    		],
    		"disallowed"
    	],
    	[
    		[
    			127233,
    			127233
    		],
    		"disallowed_STD3_mapped",
    		[
    			48,
    			44
    		]
    	],
    	[
    		[
    			127234,
    			127234
    		],
    		"disallowed_STD3_mapped",
    		[
    			49,
    			44
    		]
    	],
    	[
    		[
    			127235,
    			127235
    		],
    		"disallowed_STD3_mapped",
    		[
    			50,
    			44
    		]
    	],
    	[
    		[
    			127236,
    			127236
    		],
    		"disallowed_STD3_mapped",
    		[
    			51,
    			44
    		]
    	],
    	[
    		[
    			127237,
    			127237
    		],
    		"disallowed_STD3_mapped",
    		[
    			52,
    			44
    		]
    	],
    	[
    		[
    			127238,
    			127238
    		],
    		"disallowed_STD3_mapped",
    		[
    			53,
    			44
    		]
    	],
    	[
    		[
    			127239,
    			127239
    		],
    		"disallowed_STD3_mapped",
    		[
    			54,
    			44
    		]
    	],
    	[
    		[
    			127240,
    			127240
    		],
    		"disallowed_STD3_mapped",
    		[
    			55,
    			44
    		]
    	],
    	[
    		[
    			127241,
    			127241
    		],
    		"disallowed_STD3_mapped",
    		[
    			56,
    			44
    		]
    	],
    	[
    		[
    			127242,
    			127242
    		],
    		"disallowed_STD3_mapped",
    		[
    			57,
    			44
    		]
    	],
    	[
    		[
    			127243,
    			127244
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127245,
    			127247
    		],
    		"disallowed"
    	],
    	[
    		[
    			127248,
    			127248
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			97,
    			41
    		]
    	],
    	[
    		[
    			127249,
    			127249
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			98,
    			41
    		]
    	],
    	[
    		[
    			127250,
    			127250
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			99,
    			41
    		]
    	],
    	[
    		[
    			127251,
    			127251
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			100,
    			41
    		]
    	],
    	[
    		[
    			127252,
    			127252
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			101,
    			41
    		]
    	],
    	[
    		[
    			127253,
    			127253
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			102,
    			41
    		]
    	],
    	[
    		[
    			127254,
    			127254
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			103,
    			41
    		]
    	],
    	[
    		[
    			127255,
    			127255
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			104,
    			41
    		]
    	],
    	[
    		[
    			127256,
    			127256
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			105,
    			41
    		]
    	],
    	[
    		[
    			127257,
    			127257
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			106,
    			41
    		]
    	],
    	[
    		[
    			127258,
    			127258
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			107,
    			41
    		]
    	],
    	[
    		[
    			127259,
    			127259
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			108,
    			41
    		]
    	],
    	[
    		[
    			127260,
    			127260
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			109,
    			41
    		]
    	],
    	[
    		[
    			127261,
    			127261
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			110,
    			41
    		]
    	],
    	[
    		[
    			127262,
    			127262
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			111,
    			41
    		]
    	],
    	[
    		[
    			127263,
    			127263
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			112,
    			41
    		]
    	],
    	[
    		[
    			127264,
    			127264
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			113,
    			41
    		]
    	],
    	[
    		[
    			127265,
    			127265
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			114,
    			41
    		]
    	],
    	[
    		[
    			127266,
    			127266
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			115,
    			41
    		]
    	],
    	[
    		[
    			127267,
    			127267
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			116,
    			41
    		]
    	],
    	[
    		[
    			127268,
    			127268
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			117,
    			41
    		]
    	],
    	[
    		[
    			127269,
    			127269
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			118,
    			41
    		]
    	],
    	[
    		[
    			127270,
    			127270
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			119,
    			41
    		]
    	],
    	[
    		[
    			127271,
    			127271
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			120,
    			41
    		]
    	],
    	[
    		[
    			127272,
    			127272
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			121,
    			41
    		]
    	],
    	[
    		[
    			127273,
    			127273
    		],
    		"disallowed_STD3_mapped",
    		[
    			40,
    			122,
    			41
    		]
    	],
    	[
    		[
    			127274,
    			127274
    		],
    		"mapped",
    		[
    			12308,
    			115,
    			12309
    		]
    	],
    	[
    		[
    			127275,
    			127275
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			127276,
    			127276
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			127277,
    			127277
    		],
    		"mapped",
    		[
    			99,
    			100
    		]
    	],
    	[
    		[
    			127278,
    			127278
    		],
    		"mapped",
    		[
    			119,
    			122
    		]
    	],
    	[
    		[
    			127279,
    			127279
    		],
    		"disallowed"
    	],
    	[
    		[
    			127280,
    			127280
    		],
    		"mapped",
    		[
    			97
    		]
    	],
    	[
    		[
    			127281,
    			127281
    		],
    		"mapped",
    		[
    			98
    		]
    	],
    	[
    		[
    			127282,
    			127282
    		],
    		"mapped",
    		[
    			99
    		]
    	],
    	[
    		[
    			127283,
    			127283
    		],
    		"mapped",
    		[
    			100
    		]
    	],
    	[
    		[
    			127284,
    			127284
    		],
    		"mapped",
    		[
    			101
    		]
    	],
    	[
    		[
    			127285,
    			127285
    		],
    		"mapped",
    		[
    			102
    		]
    	],
    	[
    		[
    			127286,
    			127286
    		],
    		"mapped",
    		[
    			103
    		]
    	],
    	[
    		[
    			127287,
    			127287
    		],
    		"mapped",
    		[
    			104
    		]
    	],
    	[
    		[
    			127288,
    			127288
    		],
    		"mapped",
    		[
    			105
    		]
    	],
    	[
    		[
    			127289,
    			127289
    		],
    		"mapped",
    		[
    			106
    		]
    	],
    	[
    		[
    			127290,
    			127290
    		],
    		"mapped",
    		[
    			107
    		]
    	],
    	[
    		[
    			127291,
    			127291
    		],
    		"mapped",
    		[
    			108
    		]
    	],
    	[
    		[
    			127292,
    			127292
    		],
    		"mapped",
    		[
    			109
    		]
    	],
    	[
    		[
    			127293,
    			127293
    		],
    		"mapped",
    		[
    			110
    		]
    	],
    	[
    		[
    			127294,
    			127294
    		],
    		"mapped",
    		[
    			111
    		]
    	],
    	[
    		[
    			127295,
    			127295
    		],
    		"mapped",
    		[
    			112
    		]
    	],
    	[
    		[
    			127296,
    			127296
    		],
    		"mapped",
    		[
    			113
    		]
    	],
    	[
    		[
    			127297,
    			127297
    		],
    		"mapped",
    		[
    			114
    		]
    	],
    	[
    		[
    			127298,
    			127298
    		],
    		"mapped",
    		[
    			115
    		]
    	],
    	[
    		[
    			127299,
    			127299
    		],
    		"mapped",
    		[
    			116
    		]
    	],
    	[
    		[
    			127300,
    			127300
    		],
    		"mapped",
    		[
    			117
    		]
    	],
    	[
    		[
    			127301,
    			127301
    		],
    		"mapped",
    		[
    			118
    		]
    	],
    	[
    		[
    			127302,
    			127302
    		],
    		"mapped",
    		[
    			119
    		]
    	],
    	[
    		[
    			127303,
    			127303
    		],
    		"mapped",
    		[
    			120
    		]
    	],
    	[
    		[
    			127304,
    			127304
    		],
    		"mapped",
    		[
    			121
    		]
    	],
    	[
    		[
    			127305,
    			127305
    		],
    		"mapped",
    		[
    			122
    		]
    	],
    	[
    		[
    			127306,
    			127306
    		],
    		"mapped",
    		[
    			104,
    			118
    		]
    	],
    	[
    		[
    			127307,
    			127307
    		],
    		"mapped",
    		[
    			109,
    			118
    		]
    	],
    	[
    		[
    			127308,
    			127308
    		],
    		"mapped",
    		[
    			115,
    			100
    		]
    	],
    	[
    		[
    			127309,
    			127309
    		],
    		"mapped",
    		[
    			115,
    			115
    		]
    	],
    	[
    		[
    			127310,
    			127310
    		],
    		"mapped",
    		[
    			112,
    			112,
    			118
    		]
    	],
    	[
    		[
    			127311,
    			127311
    		],
    		"mapped",
    		[
    			119,
    			99
    		]
    	],
    	[
    		[
    			127312,
    			127318
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127319,
    			127319
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127320,
    			127326
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127327,
    			127327
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127328,
    			127337
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127338,
    			127338
    		],
    		"mapped",
    		[
    			109,
    			99
    		]
    	],
    	[
    		[
    			127339,
    			127339
    		],
    		"mapped",
    		[
    			109,
    			100
    		]
    	],
    	[
    		[
    			127340,
    			127343
    		],
    		"disallowed"
    	],
    	[
    		[
    			127344,
    			127352
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127353,
    			127353
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127354,
    			127354
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127355,
    			127356
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127357,
    			127358
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127359,
    			127359
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127360,
    			127369
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127370,
    			127373
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127374,
    			127375
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127376,
    			127376
    		],
    		"mapped",
    		[
    			100,
    			106
    		]
    	],
    	[
    		[
    			127377,
    			127386
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127387,
    			127461
    		],
    		"disallowed"
    	],
    	[
    		[
    			127462,
    			127487
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127488,
    			127488
    		],
    		"mapped",
    		[
    			12411,
    			12363
    		]
    	],
    	[
    		[
    			127489,
    			127489
    		],
    		"mapped",
    		[
    			12467,
    			12467
    		]
    	],
    	[
    		[
    			127490,
    			127490
    		],
    		"mapped",
    		[
    			12469
    		]
    	],
    	[
    		[
    			127491,
    			127503
    		],
    		"disallowed"
    	],
    	[
    		[
    			127504,
    			127504
    		],
    		"mapped",
    		[
    			25163
    		]
    	],
    	[
    		[
    			127505,
    			127505
    		],
    		"mapped",
    		[
    			23383
    		]
    	],
    	[
    		[
    			127506,
    			127506
    		],
    		"mapped",
    		[
    			21452
    		]
    	],
    	[
    		[
    			127507,
    			127507
    		],
    		"mapped",
    		[
    			12487
    		]
    	],
    	[
    		[
    			127508,
    			127508
    		],
    		"mapped",
    		[
    			20108
    		]
    	],
    	[
    		[
    			127509,
    			127509
    		],
    		"mapped",
    		[
    			22810
    		]
    	],
    	[
    		[
    			127510,
    			127510
    		],
    		"mapped",
    		[
    			35299
    		]
    	],
    	[
    		[
    			127511,
    			127511
    		],
    		"mapped",
    		[
    			22825
    		]
    	],
    	[
    		[
    			127512,
    			127512
    		],
    		"mapped",
    		[
    			20132
    		]
    	],
    	[
    		[
    			127513,
    			127513
    		],
    		"mapped",
    		[
    			26144
    		]
    	],
    	[
    		[
    			127514,
    			127514
    		],
    		"mapped",
    		[
    			28961
    		]
    	],
    	[
    		[
    			127515,
    			127515
    		],
    		"mapped",
    		[
    			26009
    		]
    	],
    	[
    		[
    			127516,
    			127516
    		],
    		"mapped",
    		[
    			21069
    		]
    	],
    	[
    		[
    			127517,
    			127517
    		],
    		"mapped",
    		[
    			24460
    		]
    	],
    	[
    		[
    			127518,
    			127518
    		],
    		"mapped",
    		[
    			20877
    		]
    	],
    	[
    		[
    			127519,
    			127519
    		],
    		"mapped",
    		[
    			26032
    		]
    	],
    	[
    		[
    			127520,
    			127520
    		],
    		"mapped",
    		[
    			21021
    		]
    	],
    	[
    		[
    			127521,
    			127521
    		],
    		"mapped",
    		[
    			32066
    		]
    	],
    	[
    		[
    			127522,
    			127522
    		],
    		"mapped",
    		[
    			29983
    		]
    	],
    	[
    		[
    			127523,
    			127523
    		],
    		"mapped",
    		[
    			36009
    		]
    	],
    	[
    		[
    			127524,
    			127524
    		],
    		"mapped",
    		[
    			22768
    		]
    	],
    	[
    		[
    			127525,
    			127525
    		],
    		"mapped",
    		[
    			21561
    		]
    	],
    	[
    		[
    			127526,
    			127526
    		],
    		"mapped",
    		[
    			28436
    		]
    	],
    	[
    		[
    			127527,
    			127527
    		],
    		"mapped",
    		[
    			25237
    		]
    	],
    	[
    		[
    			127528,
    			127528
    		],
    		"mapped",
    		[
    			25429
    		]
    	],
    	[
    		[
    			127529,
    			127529
    		],
    		"mapped",
    		[
    			19968
    		]
    	],
    	[
    		[
    			127530,
    			127530
    		],
    		"mapped",
    		[
    			19977
    		]
    	],
    	[
    		[
    			127531,
    			127531
    		],
    		"mapped",
    		[
    			36938
    		]
    	],
    	[
    		[
    			127532,
    			127532
    		],
    		"mapped",
    		[
    			24038
    		]
    	],
    	[
    		[
    			127533,
    			127533
    		],
    		"mapped",
    		[
    			20013
    		]
    	],
    	[
    		[
    			127534,
    			127534
    		],
    		"mapped",
    		[
    			21491
    		]
    	],
    	[
    		[
    			127535,
    			127535
    		],
    		"mapped",
    		[
    			25351
    		]
    	],
    	[
    		[
    			127536,
    			127536
    		],
    		"mapped",
    		[
    			36208
    		]
    	],
    	[
    		[
    			127537,
    			127537
    		],
    		"mapped",
    		[
    			25171
    		]
    	],
    	[
    		[
    			127538,
    			127538
    		],
    		"mapped",
    		[
    			31105
    		]
    	],
    	[
    		[
    			127539,
    			127539
    		],
    		"mapped",
    		[
    			31354
    		]
    	],
    	[
    		[
    			127540,
    			127540
    		],
    		"mapped",
    		[
    			21512
    		]
    	],
    	[
    		[
    			127541,
    			127541
    		],
    		"mapped",
    		[
    			28288
    		]
    	],
    	[
    		[
    			127542,
    			127542
    		],
    		"mapped",
    		[
    			26377
    		]
    	],
    	[
    		[
    			127543,
    			127543
    		],
    		"mapped",
    		[
    			26376
    		]
    	],
    	[
    		[
    			127544,
    			127544
    		],
    		"mapped",
    		[
    			30003
    		]
    	],
    	[
    		[
    			127545,
    			127545
    		],
    		"mapped",
    		[
    			21106
    		]
    	],
    	[
    		[
    			127546,
    			127546
    		],
    		"mapped",
    		[
    			21942
    		]
    	],
    	[
    		[
    			127547,
    			127551
    		],
    		"disallowed"
    	],
    	[
    		[
    			127552,
    			127552
    		],
    		"mapped",
    		[
    			12308,
    			26412,
    			12309
    		]
    	],
    	[
    		[
    			127553,
    			127553
    		],
    		"mapped",
    		[
    			12308,
    			19977,
    			12309
    		]
    	],
    	[
    		[
    			127554,
    			127554
    		],
    		"mapped",
    		[
    			12308,
    			20108,
    			12309
    		]
    	],
    	[
    		[
    			127555,
    			127555
    		],
    		"mapped",
    		[
    			12308,
    			23433,
    			12309
    		]
    	],
    	[
    		[
    			127556,
    			127556
    		],
    		"mapped",
    		[
    			12308,
    			28857,
    			12309
    		]
    	],
    	[
    		[
    			127557,
    			127557
    		],
    		"mapped",
    		[
    			12308,
    			25171,
    			12309
    		]
    	],
    	[
    		[
    			127558,
    			127558
    		],
    		"mapped",
    		[
    			12308,
    			30423,
    			12309
    		]
    	],
    	[
    		[
    			127559,
    			127559
    		],
    		"mapped",
    		[
    			12308,
    			21213,
    			12309
    		]
    	],
    	[
    		[
    			127560,
    			127560
    		],
    		"mapped",
    		[
    			12308,
    			25943,
    			12309
    		]
    	],
    	[
    		[
    			127561,
    			127567
    		],
    		"disallowed"
    	],
    	[
    		[
    			127568,
    			127568
    		],
    		"mapped",
    		[
    			24471
    		]
    	],
    	[
    		[
    			127569,
    			127569
    		],
    		"mapped",
    		[
    			21487
    		]
    	],
    	[
    		[
    			127570,
    			127743
    		],
    		"disallowed"
    	],
    	[
    		[
    			127744,
    			127776
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127777,
    			127788
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127789,
    			127791
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127792,
    			127797
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127798,
    			127798
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127799,
    			127868
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127869,
    			127869
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127870,
    			127871
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127872,
    			127891
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127892,
    			127903
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127904,
    			127940
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127941,
    			127941
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127942,
    			127946
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127947,
    			127950
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127951,
    			127955
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127956,
    			127967
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127968,
    			127984
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127985,
    			127991
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			127992,
    			127999
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128000,
    			128062
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128063,
    			128063
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128064,
    			128064
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128065,
    			128065
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128066,
    			128247
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128248,
    			128248
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128249,
    			128252
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128253,
    			128254
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128255,
    			128255
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128256,
    			128317
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128318,
    			128319
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128320,
    			128323
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128324,
    			128330
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128331,
    			128335
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128336,
    			128359
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128360,
    			128377
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128378,
    			128378
    		],
    		"disallowed"
    	],
    	[
    		[
    			128379,
    			128419
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128420,
    			128420
    		],
    		"disallowed"
    	],
    	[
    		[
    			128421,
    			128506
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128507,
    			128511
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128512,
    			128512
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128513,
    			128528
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128529,
    			128529
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128530,
    			128532
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128533,
    			128533
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128534,
    			128534
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128535,
    			128535
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128536,
    			128536
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128537,
    			128537
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128538,
    			128538
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128539,
    			128539
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128540,
    			128542
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128543,
    			128543
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128544,
    			128549
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128550,
    			128551
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128552,
    			128555
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128556,
    			128556
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128557,
    			128557
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128558,
    			128559
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128560,
    			128563
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128564,
    			128564
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128565,
    			128576
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128577,
    			128578
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128579,
    			128580
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128581,
    			128591
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128592,
    			128639
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128640,
    			128709
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128710,
    			128719
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128720,
    			128720
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128721,
    			128735
    		],
    		"disallowed"
    	],
    	[
    		[
    			128736,
    			128748
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128749,
    			128751
    		],
    		"disallowed"
    	],
    	[
    		[
    			128752,
    			128755
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128756,
    			128767
    		],
    		"disallowed"
    	],
    	[
    		[
    			128768,
    			128883
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128884,
    			128895
    		],
    		"disallowed"
    	],
    	[
    		[
    			128896,
    			128980
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			128981,
    			129023
    		],
    		"disallowed"
    	],
    	[
    		[
    			129024,
    			129035
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			129036,
    			129039
    		],
    		"disallowed"
    	],
    	[
    		[
    			129040,
    			129095
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			129096,
    			129103
    		],
    		"disallowed"
    	],
    	[
    		[
    			129104,
    			129113
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			129114,
    			129119
    		],
    		"disallowed"
    	],
    	[
    		[
    			129120,
    			129159
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			129160,
    			129167
    		],
    		"disallowed"
    	],
    	[
    		[
    			129168,
    			129197
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			129198,
    			129295
    		],
    		"disallowed"
    	],
    	[
    		[
    			129296,
    			129304
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			129305,
    			129407
    		],
    		"disallowed"
    	],
    	[
    		[
    			129408,
    			129412
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			129413,
    			129471
    		],
    		"disallowed"
    	],
    	[
    		[
    			129472,
    			129472
    		],
    		"valid",
    		[
    		],
    		"NV8"
    	],
    	[
    		[
    			129473,
    			131069
    		],
    		"disallowed"
    	],
    	[
    		[
    			131070,
    			131071
    		],
    		"disallowed"
    	],
    	[
    		[
    			131072,
    			173782
    		],
    		"valid"
    	],
    	[
    		[
    			173783,
    			173823
    		],
    		"disallowed"
    	],
    	[
    		[
    			173824,
    			177972
    		],
    		"valid"
    	],
    	[
    		[
    			177973,
    			177983
    		],
    		"disallowed"
    	],
    	[
    		[
    			177984,
    			178205
    		],
    		"valid"
    	],
    	[
    		[
    			178206,
    			178207
    		],
    		"disallowed"
    	],
    	[
    		[
    			178208,
    			183969
    		],
    		"valid"
    	],
    	[
    		[
    			183970,
    			194559
    		],
    		"disallowed"
    	],
    	[
    		[
    			194560,
    			194560
    		],
    		"mapped",
    		[
    			20029
    		]
    	],
    	[
    		[
    			194561,
    			194561
    		],
    		"mapped",
    		[
    			20024
    		]
    	],
    	[
    		[
    			194562,
    			194562
    		],
    		"mapped",
    		[
    			20033
    		]
    	],
    	[
    		[
    			194563,
    			194563
    		],
    		"mapped",
    		[
    			131362
    		]
    	],
    	[
    		[
    			194564,
    			194564
    		],
    		"mapped",
    		[
    			20320
    		]
    	],
    	[
    		[
    			194565,
    			194565
    		],
    		"mapped",
    		[
    			20398
    		]
    	],
    	[
    		[
    			194566,
    			194566
    		],
    		"mapped",
    		[
    			20411
    		]
    	],
    	[
    		[
    			194567,
    			194567
    		],
    		"mapped",
    		[
    			20482
    		]
    	],
    	[
    		[
    			194568,
    			194568
    		],
    		"mapped",
    		[
    			20602
    		]
    	],
    	[
    		[
    			194569,
    			194569
    		],
    		"mapped",
    		[
    			20633
    		]
    	],
    	[
    		[
    			194570,
    			194570
    		],
    		"mapped",
    		[
    			20711
    		]
    	],
    	[
    		[
    			194571,
    			194571
    		],
    		"mapped",
    		[
    			20687
    		]
    	],
    	[
    		[
    			194572,
    			194572
    		],
    		"mapped",
    		[
    			13470
    		]
    	],
    	[
    		[
    			194573,
    			194573
    		],
    		"mapped",
    		[
    			132666
    		]
    	],
    	[
    		[
    			194574,
    			194574
    		],
    		"mapped",
    		[
    			20813
    		]
    	],
    	[
    		[
    			194575,
    			194575
    		],
    		"mapped",
    		[
    			20820
    		]
    	],
    	[
    		[
    			194576,
    			194576
    		],
    		"mapped",
    		[
    			20836
    		]
    	],
    	[
    		[
    			194577,
    			194577
    		],
    		"mapped",
    		[
    			20855
    		]
    	],
    	[
    		[
    			194578,
    			194578
    		],
    		"mapped",
    		[
    			132380
    		]
    	],
    	[
    		[
    			194579,
    			194579
    		],
    		"mapped",
    		[
    			13497
    		]
    	],
    	[
    		[
    			194580,
    			194580
    		],
    		"mapped",
    		[
    			20839
    		]
    	],
    	[
    		[
    			194581,
    			194581
    		],
    		"mapped",
    		[
    			20877
    		]
    	],
    	[
    		[
    			194582,
    			194582
    		],
    		"mapped",
    		[
    			132427
    		]
    	],
    	[
    		[
    			194583,
    			194583
    		],
    		"mapped",
    		[
    			20887
    		]
    	],
    	[
    		[
    			194584,
    			194584
    		],
    		"mapped",
    		[
    			20900
    		]
    	],
    	[
    		[
    			194585,
    			194585
    		],
    		"mapped",
    		[
    			20172
    		]
    	],
    	[
    		[
    			194586,
    			194586
    		],
    		"mapped",
    		[
    			20908
    		]
    	],
    	[
    		[
    			194587,
    			194587
    		],
    		"mapped",
    		[
    			20917
    		]
    	],
    	[
    		[
    			194588,
    			194588
    		],
    		"mapped",
    		[
    			168415
    		]
    	],
    	[
    		[
    			194589,
    			194589
    		],
    		"mapped",
    		[
    			20981
    		]
    	],
    	[
    		[
    			194590,
    			194590
    		],
    		"mapped",
    		[
    			20995
    		]
    	],
    	[
    		[
    			194591,
    			194591
    		],
    		"mapped",
    		[
    			13535
    		]
    	],
    	[
    		[
    			194592,
    			194592
    		],
    		"mapped",
    		[
    			21051
    		]
    	],
    	[
    		[
    			194593,
    			194593
    		],
    		"mapped",
    		[
    			21062
    		]
    	],
    	[
    		[
    			194594,
    			194594
    		],
    		"mapped",
    		[
    			21106
    		]
    	],
    	[
    		[
    			194595,
    			194595
    		],
    		"mapped",
    		[
    			21111
    		]
    	],
    	[
    		[
    			194596,
    			194596
    		],
    		"mapped",
    		[
    			13589
    		]
    	],
    	[
    		[
    			194597,
    			194597
    		],
    		"mapped",
    		[
    			21191
    		]
    	],
    	[
    		[
    			194598,
    			194598
    		],
    		"mapped",
    		[
    			21193
    		]
    	],
    	[
    		[
    			194599,
    			194599
    		],
    		"mapped",
    		[
    			21220
    		]
    	],
    	[
    		[
    			194600,
    			194600
    		],
    		"mapped",
    		[
    			21242
    		]
    	],
    	[
    		[
    			194601,
    			194601
    		],
    		"mapped",
    		[
    			21253
    		]
    	],
    	[
    		[
    			194602,
    			194602
    		],
    		"mapped",
    		[
    			21254
    		]
    	],
    	[
    		[
    			194603,
    			194603
    		],
    		"mapped",
    		[
    			21271
    		]
    	],
    	[
    		[
    			194604,
    			194604
    		],
    		"mapped",
    		[
    			21321
    		]
    	],
    	[
    		[
    			194605,
    			194605
    		],
    		"mapped",
    		[
    			21329
    		]
    	],
    	[
    		[
    			194606,
    			194606
    		],
    		"mapped",
    		[
    			21338
    		]
    	],
    	[
    		[
    			194607,
    			194607
    		],
    		"mapped",
    		[
    			21363
    		]
    	],
    	[
    		[
    			194608,
    			194608
    		],
    		"mapped",
    		[
    			21373
    		]
    	],
    	[
    		[
    			194609,
    			194611
    		],
    		"mapped",
    		[
    			21375
    		]
    	],
    	[
    		[
    			194612,
    			194612
    		],
    		"mapped",
    		[
    			133676
    		]
    	],
    	[
    		[
    			194613,
    			194613
    		],
    		"mapped",
    		[
    			28784
    		]
    	],
    	[
    		[
    			194614,
    			194614
    		],
    		"mapped",
    		[
    			21450
    		]
    	],
    	[
    		[
    			194615,
    			194615
    		],
    		"mapped",
    		[
    			21471
    		]
    	],
    	[
    		[
    			194616,
    			194616
    		],
    		"mapped",
    		[
    			133987
    		]
    	],
    	[
    		[
    			194617,
    			194617
    		],
    		"mapped",
    		[
    			21483
    		]
    	],
    	[
    		[
    			194618,
    			194618
    		],
    		"mapped",
    		[
    			21489
    		]
    	],
    	[
    		[
    			194619,
    			194619
    		],
    		"mapped",
    		[
    			21510
    		]
    	],
    	[
    		[
    			194620,
    			194620
    		],
    		"mapped",
    		[
    			21662
    		]
    	],
    	[
    		[
    			194621,
    			194621
    		],
    		"mapped",
    		[
    			21560
    		]
    	],
    	[
    		[
    			194622,
    			194622
    		],
    		"mapped",
    		[
    			21576
    		]
    	],
    	[
    		[
    			194623,
    			194623
    		],
    		"mapped",
    		[
    			21608
    		]
    	],
    	[
    		[
    			194624,
    			194624
    		],
    		"mapped",
    		[
    			21666
    		]
    	],
    	[
    		[
    			194625,
    			194625
    		],
    		"mapped",
    		[
    			21750
    		]
    	],
    	[
    		[
    			194626,
    			194626
    		],
    		"mapped",
    		[
    			21776
    		]
    	],
    	[
    		[
    			194627,
    			194627
    		],
    		"mapped",
    		[
    			21843
    		]
    	],
    	[
    		[
    			194628,
    			194628
    		],
    		"mapped",
    		[
    			21859
    		]
    	],
    	[
    		[
    			194629,
    			194630
    		],
    		"mapped",
    		[
    			21892
    		]
    	],
    	[
    		[
    			194631,
    			194631
    		],
    		"mapped",
    		[
    			21913
    		]
    	],
    	[
    		[
    			194632,
    			194632
    		],
    		"mapped",
    		[
    			21931
    		]
    	],
    	[
    		[
    			194633,
    			194633
    		],
    		"mapped",
    		[
    			21939
    		]
    	],
    	[
    		[
    			194634,
    			194634
    		],
    		"mapped",
    		[
    			21954
    		]
    	],
    	[
    		[
    			194635,
    			194635
    		],
    		"mapped",
    		[
    			22294
    		]
    	],
    	[
    		[
    			194636,
    			194636
    		],
    		"mapped",
    		[
    			22022
    		]
    	],
    	[
    		[
    			194637,
    			194637
    		],
    		"mapped",
    		[
    			22295
    		]
    	],
    	[
    		[
    			194638,
    			194638
    		],
    		"mapped",
    		[
    			22097
    		]
    	],
    	[
    		[
    			194639,
    			194639
    		],
    		"mapped",
    		[
    			22132
    		]
    	],
    	[
    		[
    			194640,
    			194640
    		],
    		"mapped",
    		[
    			20999
    		]
    	],
    	[
    		[
    			194641,
    			194641
    		],
    		"mapped",
    		[
    			22766
    		]
    	],
    	[
    		[
    			194642,
    			194642
    		],
    		"mapped",
    		[
    			22478
    		]
    	],
    	[
    		[
    			194643,
    			194643
    		],
    		"mapped",
    		[
    			22516
    		]
    	],
    	[
    		[
    			194644,
    			194644
    		],
    		"mapped",
    		[
    			22541
    		]
    	],
    	[
    		[
    			194645,
    			194645
    		],
    		"mapped",
    		[
    			22411
    		]
    	],
    	[
    		[
    			194646,
    			194646
    		],
    		"mapped",
    		[
    			22578
    		]
    	],
    	[
    		[
    			194647,
    			194647
    		],
    		"mapped",
    		[
    			22577
    		]
    	],
    	[
    		[
    			194648,
    			194648
    		],
    		"mapped",
    		[
    			22700
    		]
    	],
    	[
    		[
    			194649,
    			194649
    		],
    		"mapped",
    		[
    			136420
    		]
    	],
    	[
    		[
    			194650,
    			194650
    		],
    		"mapped",
    		[
    			22770
    		]
    	],
    	[
    		[
    			194651,
    			194651
    		],
    		"mapped",
    		[
    			22775
    		]
    	],
    	[
    		[
    			194652,
    			194652
    		],
    		"mapped",
    		[
    			22790
    		]
    	],
    	[
    		[
    			194653,
    			194653
    		],
    		"mapped",
    		[
    			22810
    		]
    	],
    	[
    		[
    			194654,
    			194654
    		],
    		"mapped",
    		[
    			22818
    		]
    	],
    	[
    		[
    			194655,
    			194655
    		],
    		"mapped",
    		[
    			22882
    		]
    	],
    	[
    		[
    			194656,
    			194656
    		],
    		"mapped",
    		[
    			136872
    		]
    	],
    	[
    		[
    			194657,
    			194657
    		],
    		"mapped",
    		[
    			136938
    		]
    	],
    	[
    		[
    			194658,
    			194658
    		],
    		"mapped",
    		[
    			23020
    		]
    	],
    	[
    		[
    			194659,
    			194659
    		],
    		"mapped",
    		[
    			23067
    		]
    	],
    	[
    		[
    			194660,
    			194660
    		],
    		"mapped",
    		[
    			23079
    		]
    	],
    	[
    		[
    			194661,
    			194661
    		],
    		"mapped",
    		[
    			23000
    		]
    	],
    	[
    		[
    			194662,
    			194662
    		],
    		"mapped",
    		[
    			23142
    		]
    	],
    	[
    		[
    			194663,
    			194663
    		],
    		"mapped",
    		[
    			14062
    		]
    	],
    	[
    		[
    			194664,
    			194664
    		],
    		"disallowed"
    	],
    	[
    		[
    			194665,
    			194665
    		],
    		"mapped",
    		[
    			23304
    		]
    	],
    	[
    		[
    			194666,
    			194667
    		],
    		"mapped",
    		[
    			23358
    		]
    	],
    	[
    		[
    			194668,
    			194668
    		],
    		"mapped",
    		[
    			137672
    		]
    	],
    	[
    		[
    			194669,
    			194669
    		],
    		"mapped",
    		[
    			23491
    		]
    	],
    	[
    		[
    			194670,
    			194670
    		],
    		"mapped",
    		[
    			23512
    		]
    	],
    	[
    		[
    			194671,
    			194671
    		],
    		"mapped",
    		[
    			23527
    		]
    	],
    	[
    		[
    			194672,
    			194672
    		],
    		"mapped",
    		[
    			23539
    		]
    	],
    	[
    		[
    			194673,
    			194673
    		],
    		"mapped",
    		[
    			138008
    		]
    	],
    	[
    		[
    			194674,
    			194674
    		],
    		"mapped",
    		[
    			23551
    		]
    	],
    	[
    		[
    			194675,
    			194675
    		],
    		"mapped",
    		[
    			23558
    		]
    	],
    	[
    		[
    			194676,
    			194676
    		],
    		"disallowed"
    	],
    	[
    		[
    			194677,
    			194677
    		],
    		"mapped",
    		[
    			23586
    		]
    	],
    	[
    		[
    			194678,
    			194678
    		],
    		"mapped",
    		[
    			14209
    		]
    	],
    	[
    		[
    			194679,
    			194679
    		],
    		"mapped",
    		[
    			23648
    		]
    	],
    	[
    		[
    			194680,
    			194680
    		],
    		"mapped",
    		[
    			23662
    		]
    	],
    	[
    		[
    			194681,
    			194681
    		],
    		"mapped",
    		[
    			23744
    		]
    	],
    	[
    		[
    			194682,
    			194682
    		],
    		"mapped",
    		[
    			23693
    		]
    	],
    	[
    		[
    			194683,
    			194683
    		],
    		"mapped",
    		[
    			138724
    		]
    	],
    	[
    		[
    			194684,
    			194684
    		],
    		"mapped",
    		[
    			23875
    		]
    	],
    	[
    		[
    			194685,
    			194685
    		],
    		"mapped",
    		[
    			138726
    		]
    	],
    	[
    		[
    			194686,
    			194686
    		],
    		"mapped",
    		[
    			23918
    		]
    	],
    	[
    		[
    			194687,
    			194687
    		],
    		"mapped",
    		[
    			23915
    		]
    	],
    	[
    		[
    			194688,
    			194688
    		],
    		"mapped",
    		[
    			23932
    		]
    	],
    	[
    		[
    			194689,
    			194689
    		],
    		"mapped",
    		[
    			24033
    		]
    	],
    	[
    		[
    			194690,
    			194690
    		],
    		"mapped",
    		[
    			24034
    		]
    	],
    	[
    		[
    			194691,
    			194691
    		],
    		"mapped",
    		[
    			14383
    		]
    	],
    	[
    		[
    			194692,
    			194692
    		],
    		"mapped",
    		[
    			24061
    		]
    	],
    	[
    		[
    			194693,
    			194693
    		],
    		"mapped",
    		[
    			24104
    		]
    	],
    	[
    		[
    			194694,
    			194694
    		],
    		"mapped",
    		[
    			24125
    		]
    	],
    	[
    		[
    			194695,
    			194695
    		],
    		"mapped",
    		[
    			24169
    		]
    	],
    	[
    		[
    			194696,
    			194696
    		],
    		"mapped",
    		[
    			14434
    		]
    	],
    	[
    		[
    			194697,
    			194697
    		],
    		"mapped",
    		[
    			139651
    		]
    	],
    	[
    		[
    			194698,
    			194698
    		],
    		"mapped",
    		[
    			14460
    		]
    	],
    	[
    		[
    			194699,
    			194699
    		],
    		"mapped",
    		[
    			24240
    		]
    	],
    	[
    		[
    			194700,
    			194700
    		],
    		"mapped",
    		[
    			24243
    		]
    	],
    	[
    		[
    			194701,
    			194701
    		],
    		"mapped",
    		[
    			24246
    		]
    	],
    	[
    		[
    			194702,
    			194702
    		],
    		"mapped",
    		[
    			24266
    		]
    	],
    	[
    		[
    			194703,
    			194703
    		],
    		"mapped",
    		[
    			172946
    		]
    	],
    	[
    		[
    			194704,
    			194704
    		],
    		"mapped",
    		[
    			24318
    		]
    	],
    	[
    		[
    			194705,
    			194706
    		],
    		"mapped",
    		[
    			140081
    		]
    	],
    	[
    		[
    			194707,
    			194707
    		],
    		"mapped",
    		[
    			33281
    		]
    	],
    	[
    		[
    			194708,
    			194709
    		],
    		"mapped",
    		[
    			24354
    		]
    	],
    	[
    		[
    			194710,
    			194710
    		],
    		"mapped",
    		[
    			14535
    		]
    	],
    	[
    		[
    			194711,
    			194711
    		],
    		"mapped",
    		[
    			144056
    		]
    	],
    	[
    		[
    			194712,
    			194712
    		],
    		"mapped",
    		[
    			156122
    		]
    	],
    	[
    		[
    			194713,
    			194713
    		],
    		"mapped",
    		[
    			24418
    		]
    	],
    	[
    		[
    			194714,
    			194714
    		],
    		"mapped",
    		[
    			24427
    		]
    	],
    	[
    		[
    			194715,
    			194715
    		],
    		"mapped",
    		[
    			14563
    		]
    	],
    	[
    		[
    			194716,
    			194716
    		],
    		"mapped",
    		[
    			24474
    		]
    	],
    	[
    		[
    			194717,
    			194717
    		],
    		"mapped",
    		[
    			24525
    		]
    	],
    	[
    		[
    			194718,
    			194718
    		],
    		"mapped",
    		[
    			24535
    		]
    	],
    	[
    		[
    			194719,
    			194719
    		],
    		"mapped",
    		[
    			24569
    		]
    	],
    	[
    		[
    			194720,
    			194720
    		],
    		"mapped",
    		[
    			24705
    		]
    	],
    	[
    		[
    			194721,
    			194721
    		],
    		"mapped",
    		[
    			14650
    		]
    	],
    	[
    		[
    			194722,
    			194722
    		],
    		"mapped",
    		[
    			14620
    		]
    	],
    	[
    		[
    			194723,
    			194723
    		],
    		"mapped",
    		[
    			24724
    		]
    	],
    	[
    		[
    			194724,
    			194724
    		],
    		"mapped",
    		[
    			141012
    		]
    	],
    	[
    		[
    			194725,
    			194725
    		],
    		"mapped",
    		[
    			24775
    		]
    	],
    	[
    		[
    			194726,
    			194726
    		],
    		"mapped",
    		[
    			24904
    		]
    	],
    	[
    		[
    			194727,
    			194727
    		],
    		"mapped",
    		[
    			24908
    		]
    	],
    	[
    		[
    			194728,
    			194728
    		],
    		"mapped",
    		[
    			24910
    		]
    	],
    	[
    		[
    			194729,
    			194729
    		],
    		"mapped",
    		[
    			24908
    		]
    	],
    	[
    		[
    			194730,
    			194730
    		],
    		"mapped",
    		[
    			24954
    		]
    	],
    	[
    		[
    			194731,
    			194731
    		],
    		"mapped",
    		[
    			24974
    		]
    	],
    	[
    		[
    			194732,
    			194732
    		],
    		"mapped",
    		[
    			25010
    		]
    	],
    	[
    		[
    			194733,
    			194733
    		],
    		"mapped",
    		[
    			24996
    		]
    	],
    	[
    		[
    			194734,
    			194734
    		],
    		"mapped",
    		[
    			25007
    		]
    	],
    	[
    		[
    			194735,
    			194735
    		],
    		"mapped",
    		[
    			25054
    		]
    	],
    	[
    		[
    			194736,
    			194736
    		],
    		"mapped",
    		[
    			25074
    		]
    	],
    	[
    		[
    			194737,
    			194737
    		],
    		"mapped",
    		[
    			25078
    		]
    	],
    	[
    		[
    			194738,
    			194738
    		],
    		"mapped",
    		[
    			25104
    		]
    	],
    	[
    		[
    			194739,
    			194739
    		],
    		"mapped",
    		[
    			25115
    		]
    	],
    	[
    		[
    			194740,
    			194740
    		],
    		"mapped",
    		[
    			25181
    		]
    	],
    	[
    		[
    			194741,
    			194741
    		],
    		"mapped",
    		[
    			25265
    		]
    	],
    	[
    		[
    			194742,
    			194742
    		],
    		"mapped",
    		[
    			25300
    		]
    	],
    	[
    		[
    			194743,
    			194743
    		],
    		"mapped",
    		[
    			25424
    		]
    	],
    	[
    		[
    			194744,
    			194744
    		],
    		"mapped",
    		[
    			142092
    		]
    	],
    	[
    		[
    			194745,
    			194745
    		],
    		"mapped",
    		[
    			25405
    		]
    	],
    	[
    		[
    			194746,
    			194746
    		],
    		"mapped",
    		[
    			25340
    		]
    	],
    	[
    		[
    			194747,
    			194747
    		],
    		"mapped",
    		[
    			25448
    		]
    	],
    	[
    		[
    			194748,
    			194748
    		],
    		"mapped",
    		[
    			25475
    		]
    	],
    	[
    		[
    			194749,
    			194749
    		],
    		"mapped",
    		[
    			25572
    		]
    	],
    	[
    		[
    			194750,
    			194750
    		],
    		"mapped",
    		[
    			142321
    		]
    	],
    	[
    		[
    			194751,
    			194751
    		],
    		"mapped",
    		[
    			25634
    		]
    	],
    	[
    		[
    			194752,
    			194752
    		],
    		"mapped",
    		[
    			25541
    		]
    	],
    	[
    		[
    			194753,
    			194753
    		],
    		"mapped",
    		[
    			25513
    		]
    	],
    	[
    		[
    			194754,
    			194754
    		],
    		"mapped",
    		[
    			14894
    		]
    	],
    	[
    		[
    			194755,
    			194755
    		],
    		"mapped",
    		[
    			25705
    		]
    	],
    	[
    		[
    			194756,
    			194756
    		],
    		"mapped",
    		[
    			25726
    		]
    	],
    	[
    		[
    			194757,
    			194757
    		],
    		"mapped",
    		[
    			25757
    		]
    	],
    	[
    		[
    			194758,
    			194758
    		],
    		"mapped",
    		[
    			25719
    		]
    	],
    	[
    		[
    			194759,
    			194759
    		],
    		"mapped",
    		[
    			14956
    		]
    	],
    	[
    		[
    			194760,
    			194760
    		],
    		"mapped",
    		[
    			25935
    		]
    	],
    	[
    		[
    			194761,
    			194761
    		],
    		"mapped",
    		[
    			25964
    		]
    	],
    	[
    		[
    			194762,
    			194762
    		],
    		"mapped",
    		[
    			143370
    		]
    	],
    	[
    		[
    			194763,
    			194763
    		],
    		"mapped",
    		[
    			26083
    		]
    	],
    	[
    		[
    			194764,
    			194764
    		],
    		"mapped",
    		[
    			26360
    		]
    	],
    	[
    		[
    			194765,
    			194765
    		],
    		"mapped",
    		[
    			26185
    		]
    	],
    	[
    		[
    			194766,
    			194766
    		],
    		"mapped",
    		[
    			15129
    		]
    	],
    	[
    		[
    			194767,
    			194767
    		],
    		"mapped",
    		[
    			26257
    		]
    	],
    	[
    		[
    			194768,
    			194768
    		],
    		"mapped",
    		[
    			15112
    		]
    	],
    	[
    		[
    			194769,
    			194769
    		],
    		"mapped",
    		[
    			15076
    		]
    	],
    	[
    		[
    			194770,
    			194770
    		],
    		"mapped",
    		[
    			20882
    		]
    	],
    	[
    		[
    			194771,
    			194771
    		],
    		"mapped",
    		[
    			20885
    		]
    	],
    	[
    		[
    			194772,
    			194772
    		],
    		"mapped",
    		[
    			26368
    		]
    	],
    	[
    		[
    			194773,
    			194773
    		],
    		"mapped",
    		[
    			26268
    		]
    	],
    	[
    		[
    			194774,
    			194774
    		],
    		"mapped",
    		[
    			32941
    		]
    	],
    	[
    		[
    			194775,
    			194775
    		],
    		"mapped",
    		[
    			17369
    		]
    	],
    	[
    		[
    			194776,
    			194776
    		],
    		"mapped",
    		[
    			26391
    		]
    	],
    	[
    		[
    			194777,
    			194777
    		],
    		"mapped",
    		[
    			26395
    		]
    	],
    	[
    		[
    			194778,
    			194778
    		],
    		"mapped",
    		[
    			26401
    		]
    	],
    	[
    		[
    			194779,
    			194779
    		],
    		"mapped",
    		[
    			26462
    		]
    	],
    	[
    		[
    			194780,
    			194780
    		],
    		"mapped",
    		[
    			26451
    		]
    	],
    	[
    		[
    			194781,
    			194781
    		],
    		"mapped",
    		[
    			144323
    		]
    	],
    	[
    		[
    			194782,
    			194782
    		],
    		"mapped",
    		[
    			15177
    		]
    	],
    	[
    		[
    			194783,
    			194783
    		],
    		"mapped",
    		[
    			26618
    		]
    	],
    	[
    		[
    			194784,
    			194784
    		],
    		"mapped",
    		[
    			26501
    		]
    	],
    	[
    		[
    			194785,
    			194785
    		],
    		"mapped",
    		[
    			26706
    		]
    	],
    	[
    		[
    			194786,
    			194786
    		],
    		"mapped",
    		[
    			26757
    		]
    	],
    	[
    		[
    			194787,
    			194787
    		],
    		"mapped",
    		[
    			144493
    		]
    	],
    	[
    		[
    			194788,
    			194788
    		],
    		"mapped",
    		[
    			26766
    		]
    	],
    	[
    		[
    			194789,
    			194789
    		],
    		"mapped",
    		[
    			26655
    		]
    	],
    	[
    		[
    			194790,
    			194790
    		],
    		"mapped",
    		[
    			26900
    		]
    	],
    	[
    		[
    			194791,
    			194791
    		],
    		"mapped",
    		[
    			15261
    		]
    	],
    	[
    		[
    			194792,
    			194792
    		],
    		"mapped",
    		[
    			26946
    		]
    	],
    	[
    		[
    			194793,
    			194793
    		],
    		"mapped",
    		[
    			27043
    		]
    	],
    	[
    		[
    			194794,
    			194794
    		],
    		"mapped",
    		[
    			27114
    		]
    	],
    	[
    		[
    			194795,
    			194795
    		],
    		"mapped",
    		[
    			27304
    		]
    	],
    	[
    		[
    			194796,
    			194796
    		],
    		"mapped",
    		[
    			145059
    		]
    	],
    	[
    		[
    			194797,
    			194797
    		],
    		"mapped",
    		[
    			27355
    		]
    	],
    	[
    		[
    			194798,
    			194798
    		],
    		"mapped",
    		[
    			15384
    		]
    	],
    	[
    		[
    			194799,
    			194799
    		],
    		"mapped",
    		[
    			27425
    		]
    	],
    	[
    		[
    			194800,
    			194800
    		],
    		"mapped",
    		[
    			145575
    		]
    	],
    	[
    		[
    			194801,
    			194801
    		],
    		"mapped",
    		[
    			27476
    		]
    	],
    	[
    		[
    			194802,
    			194802
    		],
    		"mapped",
    		[
    			15438
    		]
    	],
    	[
    		[
    			194803,
    			194803
    		],
    		"mapped",
    		[
    			27506
    		]
    	],
    	[
    		[
    			194804,
    			194804
    		],
    		"mapped",
    		[
    			27551
    		]
    	],
    	[
    		[
    			194805,
    			194805
    		],
    		"mapped",
    		[
    			27578
    		]
    	],
    	[
    		[
    			194806,
    			194806
    		],
    		"mapped",
    		[
    			27579
    		]
    	],
    	[
    		[
    			194807,
    			194807
    		],
    		"mapped",
    		[
    			146061
    		]
    	],
    	[
    		[
    			194808,
    			194808
    		],
    		"mapped",
    		[
    			138507
    		]
    	],
    	[
    		[
    			194809,
    			194809
    		],
    		"mapped",
    		[
    			146170
    		]
    	],
    	[
    		[
    			194810,
    			194810
    		],
    		"mapped",
    		[
    			27726
    		]
    	],
    	[
    		[
    			194811,
    			194811
    		],
    		"mapped",
    		[
    			146620
    		]
    	],
    	[
    		[
    			194812,
    			194812
    		],
    		"mapped",
    		[
    			27839
    		]
    	],
    	[
    		[
    			194813,
    			194813
    		],
    		"mapped",
    		[
    			27853
    		]
    	],
    	[
    		[
    			194814,
    			194814
    		],
    		"mapped",
    		[
    			27751
    		]
    	],
    	[
    		[
    			194815,
    			194815
    		],
    		"mapped",
    		[
    			27926
    		]
    	],
    	[
    		[
    			194816,
    			194816
    		],
    		"mapped",
    		[
    			27966
    		]
    	],
    	[
    		[
    			194817,
    			194817
    		],
    		"mapped",
    		[
    			28023
    		]
    	],
    	[
    		[
    			194818,
    			194818
    		],
    		"mapped",
    		[
    			27969
    		]
    	],
    	[
    		[
    			194819,
    			194819
    		],
    		"mapped",
    		[
    			28009
    		]
    	],
    	[
    		[
    			194820,
    			194820
    		],
    		"mapped",
    		[
    			28024
    		]
    	],
    	[
    		[
    			194821,
    			194821
    		],
    		"mapped",
    		[
    			28037
    		]
    	],
    	[
    		[
    			194822,
    			194822
    		],
    		"mapped",
    		[
    			146718
    		]
    	],
    	[
    		[
    			194823,
    			194823
    		],
    		"mapped",
    		[
    			27956
    		]
    	],
    	[
    		[
    			194824,
    			194824
    		],
    		"mapped",
    		[
    			28207
    		]
    	],
    	[
    		[
    			194825,
    			194825
    		],
    		"mapped",
    		[
    			28270
    		]
    	],
    	[
    		[
    			194826,
    			194826
    		],
    		"mapped",
    		[
    			15667
    		]
    	],
    	[
    		[
    			194827,
    			194827
    		],
    		"mapped",
    		[
    			28363
    		]
    	],
    	[
    		[
    			194828,
    			194828
    		],
    		"mapped",
    		[
    			28359
    		]
    	],
    	[
    		[
    			194829,
    			194829
    		],
    		"mapped",
    		[
    			147153
    		]
    	],
    	[
    		[
    			194830,
    			194830
    		],
    		"mapped",
    		[
    			28153
    		]
    	],
    	[
    		[
    			194831,
    			194831
    		],
    		"mapped",
    		[
    			28526
    		]
    	],
    	[
    		[
    			194832,
    			194832
    		],
    		"mapped",
    		[
    			147294
    		]
    	],
    	[
    		[
    			194833,
    			194833
    		],
    		"mapped",
    		[
    			147342
    		]
    	],
    	[
    		[
    			194834,
    			194834
    		],
    		"mapped",
    		[
    			28614
    		]
    	],
    	[
    		[
    			194835,
    			194835
    		],
    		"mapped",
    		[
    			28729
    		]
    	],
    	[
    		[
    			194836,
    			194836
    		],
    		"mapped",
    		[
    			28702
    		]
    	],
    	[
    		[
    			194837,
    			194837
    		],
    		"mapped",
    		[
    			28699
    		]
    	],
    	[
    		[
    			194838,
    			194838
    		],
    		"mapped",
    		[
    			15766
    		]
    	],
    	[
    		[
    			194839,
    			194839
    		],
    		"mapped",
    		[
    			28746
    		]
    	],
    	[
    		[
    			194840,
    			194840
    		],
    		"mapped",
    		[
    			28797
    		]
    	],
    	[
    		[
    			194841,
    			194841
    		],
    		"mapped",
    		[
    			28791
    		]
    	],
    	[
    		[
    			194842,
    			194842
    		],
    		"mapped",
    		[
    			28845
    		]
    	],
    	[
    		[
    			194843,
    			194843
    		],
    		"mapped",
    		[
    			132389
    		]
    	],
    	[
    		[
    			194844,
    			194844
    		],
    		"mapped",
    		[
    			28997
    		]
    	],
    	[
    		[
    			194845,
    			194845
    		],
    		"mapped",
    		[
    			148067
    		]
    	],
    	[
    		[
    			194846,
    			194846
    		],
    		"mapped",
    		[
    			29084
    		]
    	],
    	[
    		[
    			194847,
    			194847
    		],
    		"disallowed"
    	],
    	[
    		[
    			194848,
    			194848
    		],
    		"mapped",
    		[
    			29224
    		]
    	],
    	[
    		[
    			194849,
    			194849
    		],
    		"mapped",
    		[
    			29237
    		]
    	],
    	[
    		[
    			194850,
    			194850
    		],
    		"mapped",
    		[
    			29264
    		]
    	],
    	[
    		[
    			194851,
    			194851
    		],
    		"mapped",
    		[
    			149000
    		]
    	],
    	[
    		[
    			194852,
    			194852
    		],
    		"mapped",
    		[
    			29312
    		]
    	],
    	[
    		[
    			194853,
    			194853
    		],
    		"mapped",
    		[
    			29333
    		]
    	],
    	[
    		[
    			194854,
    			194854
    		],
    		"mapped",
    		[
    			149301
    		]
    	],
    	[
    		[
    			194855,
    			194855
    		],
    		"mapped",
    		[
    			149524
    		]
    	],
    	[
    		[
    			194856,
    			194856
    		],
    		"mapped",
    		[
    			29562
    		]
    	],
    	[
    		[
    			194857,
    			194857
    		],
    		"mapped",
    		[
    			29579
    		]
    	],
    	[
    		[
    			194858,
    			194858
    		],
    		"mapped",
    		[
    			16044
    		]
    	],
    	[
    		[
    			194859,
    			194859
    		],
    		"mapped",
    		[
    			29605
    		]
    	],
    	[
    		[
    			194860,
    			194861
    		],
    		"mapped",
    		[
    			16056
    		]
    	],
    	[
    		[
    			194862,
    			194862
    		],
    		"mapped",
    		[
    			29767
    		]
    	],
    	[
    		[
    			194863,
    			194863
    		],
    		"mapped",
    		[
    			29788
    		]
    	],
    	[
    		[
    			194864,
    			194864
    		],
    		"mapped",
    		[
    			29809
    		]
    	],
    	[
    		[
    			194865,
    			194865
    		],
    		"mapped",
    		[
    			29829
    		]
    	],
    	[
    		[
    			194866,
    			194866
    		],
    		"mapped",
    		[
    			29898
    		]
    	],
    	[
    		[
    			194867,
    			194867
    		],
    		"mapped",
    		[
    			16155
    		]
    	],
    	[
    		[
    			194868,
    			194868
    		],
    		"mapped",
    		[
    			29988
    		]
    	],
    	[
    		[
    			194869,
    			194869
    		],
    		"mapped",
    		[
    			150582
    		]
    	],
    	[
    		[
    			194870,
    			194870
    		],
    		"mapped",
    		[
    			30014
    		]
    	],
    	[
    		[
    			194871,
    			194871
    		],
    		"mapped",
    		[
    			150674
    		]
    	],
    	[
    		[
    			194872,
    			194872
    		],
    		"mapped",
    		[
    			30064
    		]
    	],
    	[
    		[
    			194873,
    			194873
    		],
    		"mapped",
    		[
    			139679
    		]
    	],
    	[
    		[
    			194874,
    			194874
    		],
    		"mapped",
    		[
    			30224
    		]
    	],
    	[
    		[
    			194875,
    			194875
    		],
    		"mapped",
    		[
    			151457
    		]
    	],
    	[
    		[
    			194876,
    			194876
    		],
    		"mapped",
    		[
    			151480
    		]
    	],
    	[
    		[
    			194877,
    			194877
    		],
    		"mapped",
    		[
    			151620
    		]
    	],
    	[
    		[
    			194878,
    			194878
    		],
    		"mapped",
    		[
    			16380
    		]
    	],
    	[
    		[
    			194879,
    			194879
    		],
    		"mapped",
    		[
    			16392
    		]
    	],
    	[
    		[
    			194880,
    			194880
    		],
    		"mapped",
    		[
    			30452
    		]
    	],
    	[
    		[
    			194881,
    			194881
    		],
    		"mapped",
    		[
    			151795
    		]
    	],
    	[
    		[
    			194882,
    			194882
    		],
    		"mapped",
    		[
    			151794
    		]
    	],
    	[
    		[
    			194883,
    			194883
    		],
    		"mapped",
    		[
    			151833
    		]
    	],
    	[
    		[
    			194884,
    			194884
    		],
    		"mapped",
    		[
    			151859
    		]
    	],
    	[
    		[
    			194885,
    			194885
    		],
    		"mapped",
    		[
    			30494
    		]
    	],
    	[
    		[
    			194886,
    			194887
    		],
    		"mapped",
    		[
    			30495
    		]
    	],
    	[
    		[
    			194888,
    			194888
    		],
    		"mapped",
    		[
    			30538
    		]
    	],
    	[
    		[
    			194889,
    			194889
    		],
    		"mapped",
    		[
    			16441
    		]
    	],
    	[
    		[
    			194890,
    			194890
    		],
    		"mapped",
    		[
    			30603
    		]
    	],
    	[
    		[
    			194891,
    			194891
    		],
    		"mapped",
    		[
    			16454
    		]
    	],
    	[
    		[
    			194892,
    			194892
    		],
    		"mapped",
    		[
    			16534
    		]
    	],
    	[
    		[
    			194893,
    			194893
    		],
    		"mapped",
    		[
    			152605
    		]
    	],
    	[
    		[
    			194894,
    			194894
    		],
    		"mapped",
    		[
    			30798
    		]
    	],
    	[
    		[
    			194895,
    			194895
    		],
    		"mapped",
    		[
    			30860
    		]
    	],
    	[
    		[
    			194896,
    			194896
    		],
    		"mapped",
    		[
    			30924
    		]
    	],
    	[
    		[
    			194897,
    			194897
    		],
    		"mapped",
    		[
    			16611
    		]
    	],
    	[
    		[
    			194898,
    			194898
    		],
    		"mapped",
    		[
    			153126
    		]
    	],
    	[
    		[
    			194899,
    			194899
    		],
    		"mapped",
    		[
    			31062
    		]
    	],
    	[
    		[
    			194900,
    			194900
    		],
    		"mapped",
    		[
    			153242
    		]
    	],
    	[
    		[
    			194901,
    			194901
    		],
    		"mapped",
    		[
    			153285
    		]
    	],
    	[
    		[
    			194902,
    			194902
    		],
    		"mapped",
    		[
    			31119
    		]
    	],
    	[
    		[
    			194903,
    			194903
    		],
    		"mapped",
    		[
    			31211
    		]
    	],
    	[
    		[
    			194904,
    			194904
    		],
    		"mapped",
    		[
    			16687
    		]
    	],
    	[
    		[
    			194905,
    			194905
    		],
    		"mapped",
    		[
    			31296
    		]
    	],
    	[
    		[
    			194906,
    			194906
    		],
    		"mapped",
    		[
    			31306
    		]
    	],
    	[
    		[
    			194907,
    			194907
    		],
    		"mapped",
    		[
    			31311
    		]
    	],
    	[
    		[
    			194908,
    			194908
    		],
    		"mapped",
    		[
    			153980
    		]
    	],
    	[
    		[
    			194909,
    			194910
    		],
    		"mapped",
    		[
    			154279
    		]
    	],
    	[
    		[
    			194911,
    			194911
    		],
    		"disallowed"
    	],
    	[
    		[
    			194912,
    			194912
    		],
    		"mapped",
    		[
    			16898
    		]
    	],
    	[
    		[
    			194913,
    			194913
    		],
    		"mapped",
    		[
    			154539
    		]
    	],
    	[
    		[
    			194914,
    			194914
    		],
    		"mapped",
    		[
    			31686
    		]
    	],
    	[
    		[
    			194915,
    			194915
    		],
    		"mapped",
    		[
    			31689
    		]
    	],
    	[
    		[
    			194916,
    			194916
    		],
    		"mapped",
    		[
    			16935
    		]
    	],
    	[
    		[
    			194917,
    			194917
    		],
    		"mapped",
    		[
    			154752
    		]
    	],
    	[
    		[
    			194918,
    			194918
    		],
    		"mapped",
    		[
    			31954
    		]
    	],
    	[
    		[
    			194919,
    			194919
    		],
    		"mapped",
    		[
    			17056
    		]
    	],
    	[
    		[
    			194920,
    			194920
    		],
    		"mapped",
    		[
    			31976
    		]
    	],
    	[
    		[
    			194921,
    			194921
    		],
    		"mapped",
    		[
    			31971
    		]
    	],
    	[
    		[
    			194922,
    			194922
    		],
    		"mapped",
    		[
    			32000
    		]
    	],
    	[
    		[
    			194923,
    			194923
    		],
    		"mapped",
    		[
    			155526
    		]
    	],
    	[
    		[
    			194924,
    			194924
    		],
    		"mapped",
    		[
    			32099
    		]
    	],
    	[
    		[
    			194925,
    			194925
    		],
    		"mapped",
    		[
    			17153
    		]
    	],
    	[
    		[
    			194926,
    			194926
    		],
    		"mapped",
    		[
    			32199
    		]
    	],
    	[
    		[
    			194927,
    			194927
    		],
    		"mapped",
    		[
    			32258
    		]
    	],
    	[
    		[
    			194928,
    			194928
    		],
    		"mapped",
    		[
    			32325
    		]
    	],
    	[
    		[
    			194929,
    			194929
    		],
    		"mapped",
    		[
    			17204
    		]
    	],
    	[
    		[
    			194930,
    			194930
    		],
    		"mapped",
    		[
    			156200
    		]
    	],
    	[
    		[
    			194931,
    			194931
    		],
    		"mapped",
    		[
    			156231
    		]
    	],
    	[
    		[
    			194932,
    			194932
    		],
    		"mapped",
    		[
    			17241
    		]
    	],
    	[
    		[
    			194933,
    			194933
    		],
    		"mapped",
    		[
    			156377
    		]
    	],
    	[
    		[
    			194934,
    			194934
    		],
    		"mapped",
    		[
    			32634
    		]
    	],
    	[
    		[
    			194935,
    			194935
    		],
    		"mapped",
    		[
    			156478
    		]
    	],
    	[
    		[
    			194936,
    			194936
    		],
    		"mapped",
    		[
    			32661
    		]
    	],
    	[
    		[
    			194937,
    			194937
    		],
    		"mapped",
    		[
    			32762
    		]
    	],
    	[
    		[
    			194938,
    			194938
    		],
    		"mapped",
    		[
    			32773
    		]
    	],
    	[
    		[
    			194939,
    			194939
    		],
    		"mapped",
    		[
    			156890
    		]
    	],
    	[
    		[
    			194940,
    			194940
    		],
    		"mapped",
    		[
    			156963
    		]
    	],
    	[
    		[
    			194941,
    			194941
    		],
    		"mapped",
    		[
    			32864
    		]
    	],
    	[
    		[
    			194942,
    			194942
    		],
    		"mapped",
    		[
    			157096
    		]
    	],
    	[
    		[
    			194943,
    			194943
    		],
    		"mapped",
    		[
    			32880
    		]
    	],
    	[
    		[
    			194944,
    			194944
    		],
    		"mapped",
    		[
    			144223
    		]
    	],
    	[
    		[
    			194945,
    			194945
    		],
    		"mapped",
    		[
    			17365
    		]
    	],
    	[
    		[
    			194946,
    			194946
    		],
    		"mapped",
    		[
    			32946
    		]
    	],
    	[
    		[
    			194947,
    			194947
    		],
    		"mapped",
    		[
    			33027
    		]
    	],
    	[
    		[
    			194948,
    			194948
    		],
    		"mapped",
    		[
    			17419
    		]
    	],
    	[
    		[
    			194949,
    			194949
    		],
    		"mapped",
    		[
    			33086
    		]
    	],
    	[
    		[
    			194950,
    			194950
    		],
    		"mapped",
    		[
    			23221
    		]
    	],
    	[
    		[
    			194951,
    			194951
    		],
    		"mapped",
    		[
    			157607
    		]
    	],
    	[
    		[
    			194952,
    			194952
    		],
    		"mapped",
    		[
    			157621
    		]
    	],
    	[
    		[
    			194953,
    			194953
    		],
    		"mapped",
    		[
    			144275
    		]
    	],
    	[
    		[
    			194954,
    			194954
    		],
    		"mapped",
    		[
    			144284
    		]
    	],
    	[
    		[
    			194955,
    			194955
    		],
    		"mapped",
    		[
    			33281
    		]
    	],
    	[
    		[
    			194956,
    			194956
    		],
    		"mapped",
    		[
    			33284
    		]
    	],
    	[
    		[
    			194957,
    			194957
    		],
    		"mapped",
    		[
    			36766
    		]
    	],
    	[
    		[
    			194958,
    			194958
    		],
    		"mapped",
    		[
    			17515
    		]
    	],
    	[
    		[
    			194959,
    			194959
    		],
    		"mapped",
    		[
    			33425
    		]
    	],
    	[
    		[
    			194960,
    			194960
    		],
    		"mapped",
    		[
    			33419
    		]
    	],
    	[
    		[
    			194961,
    			194961
    		],
    		"mapped",
    		[
    			33437
    		]
    	],
    	[
    		[
    			194962,
    			194962
    		],
    		"mapped",
    		[
    			21171
    		]
    	],
    	[
    		[
    			194963,
    			194963
    		],
    		"mapped",
    		[
    			33457
    		]
    	],
    	[
    		[
    			194964,
    			194964
    		],
    		"mapped",
    		[
    			33459
    		]
    	],
    	[
    		[
    			194965,
    			194965
    		],
    		"mapped",
    		[
    			33469
    		]
    	],
    	[
    		[
    			194966,
    			194966
    		],
    		"mapped",
    		[
    			33510
    		]
    	],
    	[
    		[
    			194967,
    			194967
    		],
    		"mapped",
    		[
    			158524
    		]
    	],
    	[
    		[
    			194968,
    			194968
    		],
    		"mapped",
    		[
    			33509
    		]
    	],
    	[
    		[
    			194969,
    			194969
    		],
    		"mapped",
    		[
    			33565
    		]
    	],
    	[
    		[
    			194970,
    			194970
    		],
    		"mapped",
    		[
    			33635
    		]
    	],
    	[
    		[
    			194971,
    			194971
    		],
    		"mapped",
    		[
    			33709
    		]
    	],
    	[
    		[
    			194972,
    			194972
    		],
    		"mapped",
    		[
    			33571
    		]
    	],
    	[
    		[
    			194973,
    			194973
    		],
    		"mapped",
    		[
    			33725
    		]
    	],
    	[
    		[
    			194974,
    			194974
    		],
    		"mapped",
    		[
    			33767
    		]
    	],
    	[
    		[
    			194975,
    			194975
    		],
    		"mapped",
    		[
    			33879
    		]
    	],
    	[
    		[
    			194976,
    			194976
    		],
    		"mapped",
    		[
    			33619
    		]
    	],
    	[
    		[
    			194977,
    			194977
    		],
    		"mapped",
    		[
    			33738
    		]
    	],
    	[
    		[
    			194978,
    			194978
    		],
    		"mapped",
    		[
    			33740
    		]
    	],
    	[
    		[
    			194979,
    			194979
    		],
    		"mapped",
    		[
    			33756
    		]
    	],
    	[
    		[
    			194980,
    			194980
    		],
    		"mapped",
    		[
    			158774
    		]
    	],
    	[
    		[
    			194981,
    			194981
    		],
    		"mapped",
    		[
    			159083
    		]
    	],
    	[
    		[
    			194982,
    			194982
    		],
    		"mapped",
    		[
    			158933
    		]
    	],
    	[
    		[
    			194983,
    			194983
    		],
    		"mapped",
    		[
    			17707
    		]
    	],
    	[
    		[
    			194984,
    			194984
    		],
    		"mapped",
    		[
    			34033
    		]
    	],
    	[
    		[
    			194985,
    			194985
    		],
    		"mapped",
    		[
    			34035
    		]
    	],
    	[
    		[
    			194986,
    			194986
    		],
    		"mapped",
    		[
    			34070
    		]
    	],
    	[
    		[
    			194987,
    			194987
    		],
    		"mapped",
    		[
    			160714
    		]
    	],
    	[
    		[
    			194988,
    			194988
    		],
    		"mapped",
    		[
    			34148
    		]
    	],
    	[
    		[
    			194989,
    			194989
    		],
    		"mapped",
    		[
    			159532
    		]
    	],
    	[
    		[
    			194990,
    			194990
    		],
    		"mapped",
    		[
    			17757
    		]
    	],
    	[
    		[
    			194991,
    			194991
    		],
    		"mapped",
    		[
    			17761
    		]
    	],
    	[
    		[
    			194992,
    			194992
    		],
    		"mapped",
    		[
    			159665
    		]
    	],
    	[
    		[
    			194993,
    			194993
    		],
    		"mapped",
    		[
    			159954
    		]
    	],
    	[
    		[
    			194994,
    			194994
    		],
    		"mapped",
    		[
    			17771
    		]
    	],
    	[
    		[
    			194995,
    			194995
    		],
    		"mapped",
    		[
    			34384
    		]
    	],
    	[
    		[
    			194996,
    			194996
    		],
    		"mapped",
    		[
    			34396
    		]
    	],
    	[
    		[
    			194997,
    			194997
    		],
    		"mapped",
    		[
    			34407
    		]
    	],
    	[
    		[
    			194998,
    			194998
    		],
    		"mapped",
    		[
    			34409
    		]
    	],
    	[
    		[
    			194999,
    			194999
    		],
    		"mapped",
    		[
    			34473
    		]
    	],
    	[
    		[
    			195000,
    			195000
    		],
    		"mapped",
    		[
    			34440
    		]
    	],
    	[
    		[
    			195001,
    			195001
    		],
    		"mapped",
    		[
    			34574
    		]
    	],
    	[
    		[
    			195002,
    			195002
    		],
    		"mapped",
    		[
    			34530
    		]
    	],
    	[
    		[
    			195003,
    			195003
    		],
    		"mapped",
    		[
    			34681
    		]
    	],
    	[
    		[
    			195004,
    			195004
    		],
    		"mapped",
    		[
    			34600
    		]
    	],
    	[
    		[
    			195005,
    			195005
    		],
    		"mapped",
    		[
    			34667
    		]
    	],
    	[
    		[
    			195006,
    			195006
    		],
    		"mapped",
    		[
    			34694
    		]
    	],
    	[
    		[
    			195007,
    			195007
    		],
    		"disallowed"
    	],
    	[
    		[
    			195008,
    			195008
    		],
    		"mapped",
    		[
    			34785
    		]
    	],
    	[
    		[
    			195009,
    			195009
    		],
    		"mapped",
    		[
    			34817
    		]
    	],
    	[
    		[
    			195010,
    			195010
    		],
    		"mapped",
    		[
    			17913
    		]
    	],
    	[
    		[
    			195011,
    			195011
    		],
    		"mapped",
    		[
    			34912
    		]
    	],
    	[
    		[
    			195012,
    			195012
    		],
    		"mapped",
    		[
    			34915
    		]
    	],
    	[
    		[
    			195013,
    			195013
    		],
    		"mapped",
    		[
    			161383
    		]
    	],
    	[
    		[
    			195014,
    			195014
    		],
    		"mapped",
    		[
    			35031
    		]
    	],
    	[
    		[
    			195015,
    			195015
    		],
    		"mapped",
    		[
    			35038
    		]
    	],
    	[
    		[
    			195016,
    			195016
    		],
    		"mapped",
    		[
    			17973
    		]
    	],
    	[
    		[
    			195017,
    			195017
    		],
    		"mapped",
    		[
    			35066
    		]
    	],
    	[
    		[
    			195018,
    			195018
    		],
    		"mapped",
    		[
    			13499
    		]
    	],
    	[
    		[
    			195019,
    			195019
    		],
    		"mapped",
    		[
    			161966
    		]
    	],
    	[
    		[
    			195020,
    			195020
    		],
    		"mapped",
    		[
    			162150
    		]
    	],
    	[
    		[
    			195021,
    			195021
    		],
    		"mapped",
    		[
    			18110
    		]
    	],
    	[
    		[
    			195022,
    			195022
    		],
    		"mapped",
    		[
    			18119
    		]
    	],
    	[
    		[
    			195023,
    			195023
    		],
    		"mapped",
    		[
    			35488
    		]
    	],
    	[
    		[
    			195024,
    			195024
    		],
    		"mapped",
    		[
    			35565
    		]
    	],
    	[
    		[
    			195025,
    			195025
    		],
    		"mapped",
    		[
    			35722
    		]
    	],
    	[
    		[
    			195026,
    			195026
    		],
    		"mapped",
    		[
    			35925
    		]
    	],
    	[
    		[
    			195027,
    			195027
    		],
    		"mapped",
    		[
    			162984
    		]
    	],
    	[
    		[
    			195028,
    			195028
    		],
    		"mapped",
    		[
    			36011
    		]
    	],
    	[
    		[
    			195029,
    			195029
    		],
    		"mapped",
    		[
    			36033
    		]
    	],
    	[
    		[
    			195030,
    			195030
    		],
    		"mapped",
    		[
    			36123
    		]
    	],
    	[
    		[
    			195031,
    			195031
    		],
    		"mapped",
    		[
    			36215
    		]
    	],
    	[
    		[
    			195032,
    			195032
    		],
    		"mapped",
    		[
    			163631
    		]
    	],
    	[
    		[
    			195033,
    			195033
    		],
    		"mapped",
    		[
    			133124
    		]
    	],
    	[
    		[
    			195034,
    			195034
    		],
    		"mapped",
    		[
    			36299
    		]
    	],
    	[
    		[
    			195035,
    			195035
    		],
    		"mapped",
    		[
    			36284
    		]
    	],
    	[
    		[
    			195036,
    			195036
    		],
    		"mapped",
    		[
    			36336
    		]
    	],
    	[
    		[
    			195037,
    			195037
    		],
    		"mapped",
    		[
    			133342
    		]
    	],
    	[
    		[
    			195038,
    			195038
    		],
    		"mapped",
    		[
    			36564
    		]
    	],
    	[
    		[
    			195039,
    			195039
    		],
    		"mapped",
    		[
    			36664
    		]
    	],
    	[
    		[
    			195040,
    			195040
    		],
    		"mapped",
    		[
    			165330
    		]
    	],
    	[
    		[
    			195041,
    			195041
    		],
    		"mapped",
    		[
    			165357
    		]
    	],
    	[
    		[
    			195042,
    			195042
    		],
    		"mapped",
    		[
    			37012
    		]
    	],
    	[
    		[
    			195043,
    			195043
    		],
    		"mapped",
    		[
    			37105
    		]
    	],
    	[
    		[
    			195044,
    			195044
    		],
    		"mapped",
    		[
    			37137
    		]
    	],
    	[
    		[
    			195045,
    			195045
    		],
    		"mapped",
    		[
    			165678
    		]
    	],
    	[
    		[
    			195046,
    			195046
    		],
    		"mapped",
    		[
    			37147
    		]
    	],
    	[
    		[
    			195047,
    			195047
    		],
    		"mapped",
    		[
    			37432
    		]
    	],
    	[
    		[
    			195048,
    			195048
    		],
    		"mapped",
    		[
    			37591
    		]
    	],
    	[
    		[
    			195049,
    			195049
    		],
    		"mapped",
    		[
    			37592
    		]
    	],
    	[
    		[
    			195050,
    			195050
    		],
    		"mapped",
    		[
    			37500
    		]
    	],
    	[
    		[
    			195051,
    			195051
    		],
    		"mapped",
    		[
    			37881
    		]
    	],
    	[
    		[
    			195052,
    			195052
    		],
    		"mapped",
    		[
    			37909
    		]
    	],
    	[
    		[
    			195053,
    			195053
    		],
    		"mapped",
    		[
    			166906
    		]
    	],
    	[
    		[
    			195054,
    			195054
    		],
    		"mapped",
    		[
    			38283
    		]
    	],
    	[
    		[
    			195055,
    			195055
    		],
    		"mapped",
    		[
    			18837
    		]
    	],
    	[
    		[
    			195056,
    			195056
    		],
    		"mapped",
    		[
    			38327
    		]
    	],
    	[
    		[
    			195057,
    			195057
    		],
    		"mapped",
    		[
    			167287
    		]
    	],
    	[
    		[
    			195058,
    			195058
    		],
    		"mapped",
    		[
    			18918
    		]
    	],
    	[
    		[
    			195059,
    			195059
    		],
    		"mapped",
    		[
    			38595
    		]
    	],
    	[
    		[
    			195060,
    			195060
    		],
    		"mapped",
    		[
    			23986
    		]
    	],
    	[
    		[
    			195061,
    			195061
    		],
    		"mapped",
    		[
    			38691
    		]
    	],
    	[
    		[
    			195062,
    			195062
    		],
    		"mapped",
    		[
    			168261
    		]
    	],
    	[
    		[
    			195063,
    			195063
    		],
    		"mapped",
    		[
    			168474
    		]
    	],
    	[
    		[
    			195064,
    			195064
    		],
    		"mapped",
    		[
    			19054
    		]
    	],
    	[
    		[
    			195065,
    			195065
    		],
    		"mapped",
    		[
    			19062
    		]
    	],
    	[
    		[
    			195066,
    			195066
    		],
    		"mapped",
    		[
    			38880
    		]
    	],
    	[
    		[
    			195067,
    			195067
    		],
    		"mapped",
    		[
    			168970
    		]
    	],
    	[
    		[
    			195068,
    			195068
    		],
    		"mapped",
    		[
    			19122
    		]
    	],
    	[
    		[
    			195069,
    			195069
    		],
    		"mapped",
    		[
    			169110
    		]
    	],
    	[
    		[
    			195070,
    			195071
    		],
    		"mapped",
    		[
    			38923
    		]
    	],
    	[
    		[
    			195072,
    			195072
    		],
    		"mapped",
    		[
    			38953
    		]
    	],
    	[
    		[
    			195073,
    			195073
    		],
    		"mapped",
    		[
    			169398
    		]
    	],
    	[
    		[
    			195074,
    			195074
    		],
    		"mapped",
    		[
    			39138
    		]
    	],
    	[
    		[
    			195075,
    			195075
    		],
    		"mapped",
    		[
    			19251
    		]
    	],
    	[
    		[
    			195076,
    			195076
    		],
    		"mapped",
    		[
    			39209
    		]
    	],
    	[
    		[
    			195077,
    			195077
    		],
    		"mapped",
    		[
    			39335
    		]
    	],
    	[
    		[
    			195078,
    			195078
    		],
    		"mapped",
    		[
    			39362
    		]
    	],
    	[
    		[
    			195079,
    			195079
    		],
    		"mapped",
    		[
    			39422
    		]
    	],
    	[
    		[
    			195080,
    			195080
    		],
    		"mapped",
    		[
    			19406
    		]
    	],
    	[
    		[
    			195081,
    			195081
    		],
    		"mapped",
    		[
    			170800
    		]
    	],
    	[
    		[
    			195082,
    			195082
    		],
    		"mapped",
    		[
    			39698
    		]
    	],
    	[
    		[
    			195083,
    			195083
    		],
    		"mapped",
    		[
    			40000
    		]
    	],
    	[
    		[
    			195084,
    			195084
    		],
    		"mapped",
    		[
    			40189
    		]
    	],
    	[
    		[
    			195085,
    			195085
    		],
    		"mapped",
    		[
    			19662
    		]
    	],
    	[
    		[
    			195086,
    			195086
    		],
    		"mapped",
    		[
    			19693
    		]
    	],
    	[
    		[
    			195087,
    			195087
    		],
    		"mapped",
    		[
    			40295
    		]
    	],
    	[
    		[
    			195088,
    			195088
    		],
    		"mapped",
    		[
    			172238
    		]
    	],
    	[
    		[
    			195089,
    			195089
    		],
    		"mapped",
    		[
    			19704
    		]
    	],
    	[
    		[
    			195090,
    			195090
    		],
    		"mapped",
    		[
    			172293
    		]
    	],
    	[
    		[
    			195091,
    			195091
    		],
    		"mapped",
    		[
    			172558
    		]
    	],
    	[
    		[
    			195092,
    			195092
    		],
    		"mapped",
    		[
    			172689
    		]
    	],
    	[
    		[
    			195093,
    			195093
    		],
    		"mapped",
    		[
    			40635
    		]
    	],
    	[
    		[
    			195094,
    			195094
    		],
    		"mapped",
    		[
    			19798
    		]
    	],
    	[
    		[
    			195095,
    			195095
    		],
    		"mapped",
    		[
    			40697
    		]
    	],
    	[
    		[
    			195096,
    			195096
    		],
    		"mapped",
    		[
    			40702
    		]
    	],
    	[
    		[
    			195097,
    			195097
    		],
    		"mapped",
    		[
    			40709
    		]
    	],
    	[
    		[
    			195098,
    			195098
    		],
    		"mapped",
    		[
    			40719
    		]
    	],
    	[
    		[
    			195099,
    			195099
    		],
    		"mapped",
    		[
    			40726
    		]
    	],
    	[
    		[
    			195100,
    			195100
    		],
    		"mapped",
    		[
    			40763
    		]
    	],
    	[
    		[
    			195101,
    			195101
    		],
    		"mapped",
    		[
    			173568
    		]
    	],
    	[
    		[
    			195102,
    			196605
    		],
    		"disallowed"
    	],
    	[
    		[
    			196606,
    			196607
    		],
    		"disallowed"
    	],
    	[
    		[
    			196608,
    			262141
    		],
    		"disallowed"
    	],
    	[
    		[
    			262142,
    			262143
    		],
    		"disallowed"
    	],
    	[
    		[
    			262144,
    			327677
    		],
    		"disallowed"
    	],
    	[
    		[
    			327678,
    			327679
    		],
    		"disallowed"
    	],
    	[
    		[
    			327680,
    			393213
    		],
    		"disallowed"
    	],
    	[
    		[
    			393214,
    			393215
    		],
    		"disallowed"
    	],
    	[
    		[
    			393216,
    			458749
    		],
    		"disallowed"
    	],
    	[
    		[
    			458750,
    			458751
    		],
    		"disallowed"
    	],
    	[
    		[
    			458752,
    			524285
    		],
    		"disallowed"
    	],
    	[
    		[
    			524286,
    			524287
    		],
    		"disallowed"
    	],
    	[
    		[
    			524288,
    			589821
    		],
    		"disallowed"
    	],
    	[
    		[
    			589822,
    			589823
    		],
    		"disallowed"
    	],
    	[
    		[
    			589824,
    			655357
    		],
    		"disallowed"
    	],
    	[
    		[
    			655358,
    			655359
    		],
    		"disallowed"
    	],
    	[
    		[
    			655360,
    			720893
    		],
    		"disallowed"
    	],
    	[
    		[
    			720894,
    			720895
    		],
    		"disallowed"
    	],
    	[
    		[
    			720896,
    			786429
    		],
    		"disallowed"
    	],
    	[
    		[
    			786430,
    			786431
    		],
    		"disallowed"
    	],
    	[
    		[
    			786432,
    			851965
    		],
    		"disallowed"
    	],
    	[
    		[
    			851966,
    			851967
    		],
    		"disallowed"
    	],
    	[
    		[
    			851968,
    			917501
    		],
    		"disallowed"
    	],
    	[
    		[
    			917502,
    			917503
    		],
    		"disallowed"
    	],
    	[
    		[
    			917504,
    			917504
    		],
    		"disallowed"
    	],
    	[
    		[
    			917505,
    			917505
    		],
    		"disallowed"
    	],
    	[
    		[
    			917506,
    			917535
    		],
    		"disallowed"
    	],
    	[
    		[
    			917536,
    			917631
    		],
    		"disallowed"
    	],
    	[
    		[
    			917632,
    			917759
    		],
    		"disallowed"
    	],
    	[
    		[
    			917760,
    			917999
    		],
    		"ignored"
    	],
    	[
    		[
    			918000,
    			983037
    		],
    		"disallowed"
    	],
    	[
    		[
    			983038,
    			983039
    		],
    		"disallowed"
    	],
    	[
    		[
    			983040,
    			1048573
    		],
    		"disallowed"
    	],
    	[
    		[
    			1048574,
    			1048575
    		],
    		"disallowed"
    	],
    	[
    		[
    			1048576,
    			1114109
    		],
    		"disallowed"
    	],
    	[
    		[
    			1114110,
    			1114111
    		],
    		"disallowed"
    	]
    ];

    var hasRequiredTr46;

    function requireTr46 () {
    	if (hasRequiredTr46) return tr46;
    	hasRequiredTr46 = 1;

    	var punycode = require$$0$9;
    	var mappingTable = require$$1;

    	var PROCESSING_OPTIONS = {
    	  TRANSITIONAL: 0,
    	  NONTRANSITIONAL: 1
    	};

    	function normalize(str) { // fix bug in v8
    	  return str.split('\u0000').map(function (s) { return s.normalize('NFC'); }).join('\u0000');
    	}

    	function findStatus(val) {
    	  var start = 0;
    	  var end = mappingTable.length - 1;

    	  while (start <= end) {
    	    var mid = Math.floor((start + end) / 2);

    	    var target = mappingTable[mid];
    	    if (target[0][0] <= val && target[0][1] >= val) {
    	      return target;
    	    } else if (target[0][0] > val) {
    	      end = mid - 1;
    	    } else {
    	      start = mid + 1;
    	    }
    	  }

    	  return null;
    	}

    	var regexAstralSymbols = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;

    	function countSymbols(string) {
    	  return string
    	    // replace every surrogate pair with a BMP symbol
    	    .replace(regexAstralSymbols, '_')
    	    // then get the length
    	    .length;
    	}

    	function mapChars(domain_name, useSTD3, processing_option) {
    	  var hasError = false;
    	  var processed = "";

    	  var len = countSymbols(domain_name);
    	  for (var i = 0; i < len; ++i) {
    	    var codePoint = domain_name.codePointAt(i);
    	    var status = findStatus(codePoint);

    	    switch (status[1]) {
    	      case "disallowed":
    	        hasError = true;
    	        processed += String.fromCodePoint(codePoint);
    	        break;
    	      case "ignored":
    	        break;
    	      case "mapped":
    	        processed += String.fromCodePoint.apply(String, status[2]);
    	        break;
    	      case "deviation":
    	        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {
    	          processed += String.fromCodePoint.apply(String, status[2]);
    	        } else {
    	          processed += String.fromCodePoint(codePoint);
    	        }
    	        break;
    	      case "valid":
    	        processed += String.fromCodePoint(codePoint);
    	        break;
    	      case "disallowed_STD3_mapped":
    	        if (useSTD3) {
    	          hasError = true;
    	          processed += String.fromCodePoint(codePoint);
    	        } else {
    	          processed += String.fromCodePoint.apply(String, status[2]);
    	        }
    	        break;
    	      case "disallowed_STD3_valid":
    	        if (useSTD3) {
    	          hasError = true;
    	        }

    	        processed += String.fromCodePoint(codePoint);
    	        break;
    	    }
    	  }

    	  return {
    	    string: processed,
    	    error: hasError
    	  };
    	}

    	var combiningMarksRegex = /[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;

    	function validateLabel(label, processing_option) {
    	  if (label.substr(0, 4) === "xn--") {
    	    label = punycode.toUnicode(label);
    	    PROCESSING_OPTIONS.NONTRANSITIONAL;
    	  }

    	  var error = false;

    	  if (normalize(label) !== label ||
    	      (label[3] === "-" && label[4] === "-") ||
    	      label[0] === "-" || label[label.length - 1] === "-" ||
    	      label.indexOf(".") !== -1 ||
    	      label.search(combiningMarksRegex) === 0) {
    	    error = true;
    	  }

    	  var len = countSymbols(label);
    	  for (var i = 0; i < len; ++i) {
    	    var status = findStatus(label.codePointAt(i));
    	    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== "valid") ||
    	        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&
    	         status[1] !== "valid" && status[1] !== "deviation")) {
    	      error = true;
    	      break;
    	    }
    	  }

    	  return {
    	    label: label,
    	    error: error
    	  };
    	}

    	function processing(domain_name, useSTD3, processing_option) {
    	  var result = mapChars(domain_name, useSTD3, processing_option);
    	  result.string = normalize(result.string);

    	  var labels = result.string.split(".");
    	  for (var i = 0; i < labels.length; ++i) {
    	    try {
    	      var validation = validateLabel(labels[i]);
    	      labels[i] = validation.label;
    	      result.error = result.error || validation.error;
    	    } catch(e) {
    	      result.error = true;
    	    }
    	  }

    	  return {
    	    string: labels.join("."),
    	    error: result.error
    	  };
    	}

    	tr46.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {
    	  var result = processing(domain_name, useSTD3, processing_option);
    	  var labels = result.string.split(".");
    	  labels = labels.map(function(l) {
    	    try {
    	      return punycode.toASCII(l);
    	    } catch(e) {
    	      result.error = true;
    	      return l;
    	    }
    	  });

    	  if (verifyDnsLength) {
    	    var total = labels.slice(0, labels.length - 1).join(".").length;
    	    if (total.length > 253 || total.length === 0) {
    	      result.error = true;
    	    }

    	    for (var i=0; i < labels.length; ++i) {
    	      if (labels.length > 63 || labels.length === 0) {
    	        result.error = true;
    	        break;
    	      }
    	    }
    	  }

    	  if (result.error) return null;
    	  return labels.join(".");
    	};

    	tr46.toUnicode = function(domain_name, useSTD3) {
    	  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);

    	  return {
    	    domain: result.string,
    	    error: result.error
    	  };
    	};

    	tr46.PROCESSING_OPTIONS = PROCESSING_OPTIONS;
    	return tr46;
    }

    var hasRequiredUrlStateMachine;

    function requireUrlStateMachine () {
    	if (hasRequiredUrlStateMachine) return urlStateMachine.exports;
    	hasRequiredUrlStateMachine = 1;
    	(function (module) {
    		const punycode = require$$0$9;
    		const tr46 = requireTr46();

    		const specialSchemes = {
    		  ftp: 21,
    		  file: null,
    		  gopher: 70,
    		  http: 80,
    		  https: 443,
    		  ws: 80,
    		  wss: 443
    		};

    		const failure = Symbol("failure");

    		function countSymbols(str) {
    		  return punycode.ucs2.decode(str).length;
    		}

    		function at(input, idx) {
    		  const c = input[idx];
    		  return isNaN(c) ? undefined : String.fromCodePoint(c);
    		}

    		function isASCIIDigit(c) {
    		  return c >= 0x30 && c <= 0x39;
    		}

    		function isASCIIAlpha(c) {
    		  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);
    		}

    		function isASCIIAlphanumeric(c) {
    		  return isASCIIAlpha(c) || isASCIIDigit(c);
    		}

    		function isASCIIHex(c) {
    		  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);
    		}

    		function isSingleDot(buffer) {
    		  return buffer === "." || buffer.toLowerCase() === "%2e";
    		}

    		function isDoubleDot(buffer) {
    		  buffer = buffer.toLowerCase();
    		  return buffer === ".." || buffer === "%2e." || buffer === ".%2e" || buffer === "%2e%2e";
    		}

    		function isWindowsDriveLetterCodePoints(cp1, cp2) {
    		  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);
    		}

    		function isWindowsDriveLetterString(string) {
    		  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === ":" || string[1] === "|");
    		}

    		function isNormalizedWindowsDriveLetterString(string) {
    		  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === ":";
    		}

    		function containsForbiddenHostCodePoint(string) {
    		  return string.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/) !== -1;
    		}

    		function containsForbiddenHostCodePointExcludingPercent(string) {
    		  return string.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/) !== -1;
    		}

    		function isSpecialScheme(scheme) {
    		  return specialSchemes[scheme] !== undefined;
    		}

    		function isSpecial(url) {
    		  return isSpecialScheme(url.scheme);
    		}

    		function defaultPort(scheme) {
    		  return specialSchemes[scheme];
    		}

    		function percentEncode(c) {
    		  let hex = c.toString(16).toUpperCase();
    		  if (hex.length === 1) {
    		    hex = "0" + hex;
    		  }

    		  return "%" + hex;
    		}

    		function utf8PercentEncode(c) {
    		  const buf = new Buffer(c);

    		  let str = "";

    		  for (let i = 0; i < buf.length; ++i) {
    		    str += percentEncode(buf[i]);
    		  }

    		  return str;
    		}

    		function utf8PercentDecode(str) {
    		  const input = new Buffer(str);
    		  const output = [];
    		  for (let i = 0; i < input.length; ++i) {
    		    if (input[i] !== 37) {
    		      output.push(input[i]);
    		    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {
    		      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));
    		      i += 2;
    		    } else {
    		      output.push(input[i]);
    		    }
    		  }
    		  return new Buffer(output).toString();
    		}

    		function isC0ControlPercentEncode(c) {
    		  return c <= 0x1F || c > 0x7E;
    		}

    		const extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);
    		function isPathPercentEncode(c) {
    		  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);
    		}

    		const extraUserinfoPercentEncodeSet =
    		  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);
    		function isUserinfoPercentEncode(c) {
    		  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);
    		}

    		function percentEncodeChar(c, encodeSetPredicate) {
    		  const cStr = String.fromCodePoint(c);

    		  if (encodeSetPredicate(c)) {
    		    return utf8PercentEncode(cStr);
    		  }

    		  return cStr;
    		}

    		function parseIPv4Number(input) {
    		  let R = 10;

    		  if (input.length >= 2 && input.charAt(0) === "0" && input.charAt(1).toLowerCase() === "x") {
    		    input = input.substring(2);
    		    R = 16;
    		  } else if (input.length >= 2 && input.charAt(0) === "0") {
    		    input = input.substring(1);
    		    R = 8;
    		  }

    		  if (input === "") {
    		    return 0;
    		  }

    		  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);
    		  if (regex.test(input)) {
    		    return failure;
    		  }

    		  return parseInt(input, R);
    		}

    		function parseIPv4(input) {
    		  const parts = input.split(".");
    		  if (parts[parts.length - 1] === "") {
    		    if (parts.length > 1) {
    		      parts.pop();
    		    }
    		  }

    		  if (parts.length > 4) {
    		    return input;
    		  }

    		  const numbers = [];
    		  for (const part of parts) {
    		    if (part === "") {
    		      return input;
    		    }
    		    const n = parseIPv4Number(part);
    		    if (n === failure) {
    		      return input;
    		    }

    		    numbers.push(n);
    		  }

    		  for (let i = 0; i < numbers.length - 1; ++i) {
    		    if (numbers[i] > 255) {
    		      return failure;
    		    }
    		  }
    		  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {
    		    return failure;
    		  }

    		  let ipv4 = numbers.pop();
    		  let counter = 0;

    		  for (const n of numbers) {
    		    ipv4 += n * Math.pow(256, 3 - counter);
    		    ++counter;
    		  }

    		  return ipv4;
    		}

    		function serializeIPv4(address) {
    		  let output = "";
    		  let n = address;

    		  for (let i = 1; i <= 4; ++i) {
    		    output = String(n % 256) + output;
    		    if (i !== 4) {
    		      output = "." + output;
    		    }
    		    n = Math.floor(n / 256);
    		  }

    		  return output;
    		}

    		function parseIPv6(input) {
    		  const address = [0, 0, 0, 0, 0, 0, 0, 0];
    		  let pieceIndex = 0;
    		  let compress = null;
    		  let pointer = 0;

    		  input = punycode.ucs2.decode(input);

    		  if (input[pointer] === 58) {
    		    if (input[pointer + 1] !== 58) {
    		      return failure;
    		    }

    		    pointer += 2;
    		    ++pieceIndex;
    		    compress = pieceIndex;
    		  }

    		  while (pointer < input.length) {
    		    if (pieceIndex === 8) {
    		      return failure;
    		    }

    		    if (input[pointer] === 58) {
    		      if (compress !== null) {
    		        return failure;
    		      }
    		      ++pointer;
    		      ++pieceIndex;
    		      compress = pieceIndex;
    		      continue;
    		    }

    		    let value = 0;
    		    let length = 0;

    		    while (length < 4 && isASCIIHex(input[pointer])) {
    		      value = value * 0x10 + parseInt(at(input, pointer), 16);
    		      ++pointer;
    		      ++length;
    		    }

    		    if (input[pointer] === 46) {
    		      if (length === 0) {
    		        return failure;
    		      }

    		      pointer -= length;

    		      if (pieceIndex > 6) {
    		        return failure;
    		      }

    		      let numbersSeen = 0;

    		      while (input[pointer] !== undefined) {
    		        let ipv4Piece = null;

    		        if (numbersSeen > 0) {
    		          if (input[pointer] === 46 && numbersSeen < 4) {
    		            ++pointer;
    		          } else {
    		            return failure;
    		          }
    		        }

    		        if (!isASCIIDigit(input[pointer])) {
    		          return failure;
    		        }

    		        while (isASCIIDigit(input[pointer])) {
    		          const number = parseInt(at(input, pointer));
    		          if (ipv4Piece === null) {
    		            ipv4Piece = number;
    		          } else if (ipv4Piece === 0) {
    		            return failure;
    		          } else {
    		            ipv4Piece = ipv4Piece * 10 + number;
    		          }
    		          if (ipv4Piece > 255) {
    		            return failure;
    		          }
    		          ++pointer;
    		        }

    		        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;

    		        ++numbersSeen;

    		        if (numbersSeen === 2 || numbersSeen === 4) {
    		          ++pieceIndex;
    		        }
    		      }

    		      if (numbersSeen !== 4) {
    		        return failure;
    		      }

    		      break;
    		    } else if (input[pointer] === 58) {
    		      ++pointer;
    		      if (input[pointer] === undefined) {
    		        return failure;
    		      }
    		    } else if (input[pointer] !== undefined) {
    		      return failure;
    		    }

    		    address[pieceIndex] = value;
    		    ++pieceIndex;
    		  }

    		  if (compress !== null) {
    		    let swaps = pieceIndex - compress;
    		    pieceIndex = 7;
    		    while (pieceIndex !== 0 && swaps > 0) {
    		      const temp = address[compress + swaps - 1];
    		      address[compress + swaps - 1] = address[pieceIndex];
    		      address[pieceIndex] = temp;
    		      --pieceIndex;
    		      --swaps;
    		    }
    		  } else if (compress === null && pieceIndex !== 8) {
    		    return failure;
    		  }

    		  return address;
    		}

    		function serializeIPv6(address) {
    		  let output = "";
    		  const seqResult = findLongestZeroSequence(address);
    		  const compress = seqResult.idx;
    		  let ignore0 = false;

    		  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {
    		    if (ignore0 && address[pieceIndex] === 0) {
    		      continue;
    		    } else if (ignore0) {
    		      ignore0 = false;
    		    }

    		    if (compress === pieceIndex) {
    		      const separator = pieceIndex === 0 ? "::" : ":";
    		      output += separator;
    		      ignore0 = true;
    		      continue;
    		    }

    		    output += address[pieceIndex].toString(16);

    		    if (pieceIndex !== 7) {
    		      output += ":";
    		    }
    		  }

    		  return output;
    		}

    		function parseHost(input, isSpecialArg) {
    		  if (input[0] === "[") {
    		    if (input[input.length - 1] !== "]") {
    		      return failure;
    		    }

    		    return parseIPv6(input.substring(1, input.length - 1));
    		  }

    		  if (!isSpecialArg) {
    		    return parseOpaqueHost(input);
    		  }

    		  const domain = utf8PercentDecode(input);
    		  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);
    		  if (asciiDomain === null) {
    		    return failure;
    		  }

    		  if (containsForbiddenHostCodePoint(asciiDomain)) {
    		    return failure;
    		  }

    		  const ipv4Host = parseIPv4(asciiDomain);
    		  if (typeof ipv4Host === "number" || ipv4Host === failure) {
    		    return ipv4Host;
    		  }

    		  return asciiDomain;
    		}

    		function parseOpaqueHost(input) {
    		  if (containsForbiddenHostCodePointExcludingPercent(input)) {
    		    return failure;
    		  }

    		  let output = "";
    		  const decoded = punycode.ucs2.decode(input);
    		  for (let i = 0; i < decoded.length; ++i) {
    		    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);
    		  }
    		  return output;
    		}

    		function findLongestZeroSequence(arr) {
    		  let maxIdx = null;
    		  let maxLen = 1; // only find elements > 1
    		  let currStart = null;
    		  let currLen = 0;

    		  for (let i = 0; i < arr.length; ++i) {
    		    if (arr[i] !== 0) {
    		      if (currLen > maxLen) {
    		        maxIdx = currStart;
    		        maxLen = currLen;
    		      }

    		      currStart = null;
    		      currLen = 0;
    		    } else {
    		      if (currStart === null) {
    		        currStart = i;
    		      }
    		      ++currLen;
    		    }
    		  }

    		  // if trailing zeros
    		  if (currLen > maxLen) {
    		    maxIdx = currStart;
    		    maxLen = currLen;
    		  }

    		  return {
    		    idx: maxIdx,
    		    len: maxLen
    		  };
    		}

    		function serializeHost(host) {
    		  if (typeof host === "number") {
    		    return serializeIPv4(host);
    		  }

    		  // IPv6 serializer
    		  if (host instanceof Array) {
    		    return "[" + serializeIPv6(host) + "]";
    		  }

    		  return host;
    		}

    		function trimControlChars(url) {
    		  return url.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g, "");
    		}

    		function trimTabAndNewline(url) {
    		  return url.replace(/\u0009|\u000A|\u000D/g, "");
    		}

    		function shortenPath(url) {
    		  const path = url.path;
    		  if (path.length === 0) {
    		    return;
    		  }
    		  if (url.scheme === "file" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {
    		    return;
    		  }

    		  path.pop();
    		}

    		function includesCredentials(url) {
    		  return url.username !== "" || url.password !== "";
    		}

    		function cannotHaveAUsernamePasswordPort(url) {
    		  return url.host === null || url.host === "" || url.cannotBeABaseURL || url.scheme === "file";
    		}

    		function isNormalizedWindowsDriveLetter(string) {
    		  return /^[A-Za-z]:$/.test(string);
    		}

    		function URLStateMachine(input, base, encodingOverride, url, stateOverride) {
    		  this.pointer = 0;
    		  this.input = input;
    		  this.base = base || null;
    		  this.encodingOverride = encodingOverride || "utf-8";
    		  this.stateOverride = stateOverride;
    		  this.url = url;
    		  this.failure = false;
    		  this.parseError = false;

    		  if (!this.url) {
    		    this.url = {
    		      scheme: "",
    		      username: "",
    		      password: "",
    		      host: null,
    		      port: null,
    		      path: [],
    		      query: null,
    		      fragment: null,

    		      cannotBeABaseURL: false
    		    };

    		    const res = trimControlChars(this.input);
    		    if (res !== this.input) {
    		      this.parseError = true;
    		    }
    		    this.input = res;
    		  }

    		  const res = trimTabAndNewline(this.input);
    		  if (res !== this.input) {
    		    this.parseError = true;
    		  }
    		  this.input = res;

    		  this.state = stateOverride || "scheme start";

    		  this.buffer = "";
    		  this.atFlag = false;
    		  this.arrFlag = false;
    		  this.passwordTokenSeenFlag = false;

    		  this.input = punycode.ucs2.decode(this.input);

    		  for (; this.pointer <= this.input.length; ++this.pointer) {
    		    const c = this.input[this.pointer];
    		    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);

    		    // exec state machine
    		    const ret = this["parse " + this.state](c, cStr);
    		    if (!ret) {
    		      break; // terminate algorithm
    		    } else if (ret === failure) {
    		      this.failure = true;
    		      break;
    		    }
    		  }
    		}

    		URLStateMachine.prototype["parse scheme start"] = function parseSchemeStart(c, cStr) {
    		  if (isASCIIAlpha(c)) {
    		    this.buffer += cStr.toLowerCase();
    		    this.state = "scheme";
    		  } else if (!this.stateOverride) {
    		    this.state = "no scheme";
    		    --this.pointer;
    		  } else {
    		    this.parseError = true;
    		    return failure;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse scheme"] = function parseScheme(c, cStr) {
    		  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {
    		    this.buffer += cStr.toLowerCase();
    		  } else if (c === 58) {
    		    if (this.stateOverride) {
    		      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {
    		        return false;
    		      }

    		      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {
    		        return false;
    		      }

    		      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === "file") {
    		        return false;
    		      }

    		      if (this.url.scheme === "file" && (this.url.host === "" || this.url.host === null)) {
    		        return false;
    		      }
    		    }
    		    this.url.scheme = this.buffer;
    		    this.buffer = "";
    		    if (this.stateOverride) {
    		      return false;
    		    }
    		    if (this.url.scheme === "file") {
    		      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {
    		        this.parseError = true;
    		      }
    		      this.state = "file";
    		    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {
    		      this.state = "special relative or authority";
    		    } else if (isSpecial(this.url)) {
    		      this.state = "special authority slashes";
    		    } else if (this.input[this.pointer + 1] === 47) {
    		      this.state = "path or authority";
    		      ++this.pointer;
    		    } else {
    		      this.url.cannotBeABaseURL = true;
    		      this.url.path.push("");
    		      this.state = "cannot-be-a-base-URL path";
    		    }
    		  } else if (!this.stateOverride) {
    		    this.buffer = "";
    		    this.state = "no scheme";
    		    this.pointer = -1;
    		  } else {
    		    this.parseError = true;
    		    return failure;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse no scheme"] = function parseNoScheme(c) {
    		  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {
    		    return failure;
    		  } else if (this.base.cannotBeABaseURL && c === 35) {
    		    this.url.scheme = this.base.scheme;
    		    this.url.path = this.base.path.slice();
    		    this.url.query = this.base.query;
    		    this.url.fragment = "";
    		    this.url.cannotBeABaseURL = true;
    		    this.state = "fragment";
    		  } else if (this.base.scheme === "file") {
    		    this.state = "file";
    		    --this.pointer;
    		  } else {
    		    this.state = "relative";
    		    --this.pointer;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse special relative or authority"] = function parseSpecialRelativeOrAuthority(c) {
    		  if (c === 47 && this.input[this.pointer + 1] === 47) {
    		    this.state = "special authority ignore slashes";
    		    ++this.pointer;
    		  } else {
    		    this.parseError = true;
    		    this.state = "relative";
    		    --this.pointer;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse path or authority"] = function parsePathOrAuthority(c) {
    		  if (c === 47) {
    		    this.state = "authority";
    		  } else {
    		    this.state = "path";
    		    --this.pointer;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse relative"] = function parseRelative(c) {
    		  this.url.scheme = this.base.scheme;
    		  if (isNaN(c)) {
    		    this.url.username = this.base.username;
    		    this.url.password = this.base.password;
    		    this.url.host = this.base.host;
    		    this.url.port = this.base.port;
    		    this.url.path = this.base.path.slice();
    		    this.url.query = this.base.query;
    		  } else if (c === 47) {
    		    this.state = "relative slash";
    		  } else if (c === 63) {
    		    this.url.username = this.base.username;
    		    this.url.password = this.base.password;
    		    this.url.host = this.base.host;
    		    this.url.port = this.base.port;
    		    this.url.path = this.base.path.slice();
    		    this.url.query = "";
    		    this.state = "query";
    		  } else if (c === 35) {
    		    this.url.username = this.base.username;
    		    this.url.password = this.base.password;
    		    this.url.host = this.base.host;
    		    this.url.port = this.base.port;
    		    this.url.path = this.base.path.slice();
    		    this.url.query = this.base.query;
    		    this.url.fragment = "";
    		    this.state = "fragment";
    		  } else if (isSpecial(this.url) && c === 92) {
    		    this.parseError = true;
    		    this.state = "relative slash";
    		  } else {
    		    this.url.username = this.base.username;
    		    this.url.password = this.base.password;
    		    this.url.host = this.base.host;
    		    this.url.port = this.base.port;
    		    this.url.path = this.base.path.slice(0, this.base.path.length - 1);

    		    this.state = "path";
    		    --this.pointer;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse relative slash"] = function parseRelativeSlash(c) {
    		  if (isSpecial(this.url) && (c === 47 || c === 92)) {
    		    if (c === 92) {
    		      this.parseError = true;
    		    }
    		    this.state = "special authority ignore slashes";
    		  } else if (c === 47) {
    		    this.state = "authority";
    		  } else {
    		    this.url.username = this.base.username;
    		    this.url.password = this.base.password;
    		    this.url.host = this.base.host;
    		    this.url.port = this.base.port;
    		    this.state = "path";
    		    --this.pointer;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse special authority slashes"] = function parseSpecialAuthoritySlashes(c) {
    		  if (c === 47 && this.input[this.pointer + 1] === 47) {
    		    this.state = "special authority ignore slashes";
    		    ++this.pointer;
    		  } else {
    		    this.parseError = true;
    		    this.state = "special authority ignore slashes";
    		    --this.pointer;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse special authority ignore slashes"] = function parseSpecialAuthorityIgnoreSlashes(c) {
    		  if (c !== 47 && c !== 92) {
    		    this.state = "authority";
    		    --this.pointer;
    		  } else {
    		    this.parseError = true;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse authority"] = function parseAuthority(c, cStr) {
    		  if (c === 64) {
    		    this.parseError = true;
    		    if (this.atFlag) {
    		      this.buffer = "%40" + this.buffer;
    		    }
    		    this.atFlag = true;

    		    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars
    		    const len = countSymbols(this.buffer);
    		    for (let pointer = 0; pointer < len; ++pointer) {
    		      const codePoint = this.buffer.codePointAt(pointer);

    		      if (codePoint === 58 && !this.passwordTokenSeenFlag) {
    		        this.passwordTokenSeenFlag = true;
    		        continue;
    		      }
    		      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);
    		      if (this.passwordTokenSeenFlag) {
    		        this.url.password += encodedCodePoints;
    		      } else {
    		        this.url.username += encodedCodePoints;
    		      }
    		    }
    		    this.buffer = "";
    		  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||
    		             (isSpecial(this.url) && c === 92)) {
    		    if (this.atFlag && this.buffer === "") {
    		      this.parseError = true;
    		      return failure;
    		    }
    		    this.pointer -= countSymbols(this.buffer) + 1;
    		    this.buffer = "";
    		    this.state = "host";
    		  } else {
    		    this.buffer += cStr;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse hostname"] =
    		URLStateMachine.prototype["parse host"] = function parseHostName(c, cStr) {
    		  if (this.stateOverride && this.url.scheme === "file") {
    		    --this.pointer;
    		    this.state = "file host";
    		  } else if (c === 58 && !this.arrFlag) {
    		    if (this.buffer === "") {
    		      this.parseError = true;
    		      return failure;
    		    }

    		    const host = parseHost(this.buffer, isSpecial(this.url));
    		    if (host === failure) {
    		      return failure;
    		    }

    		    this.url.host = host;
    		    this.buffer = "";
    		    this.state = "port";
    		    if (this.stateOverride === "hostname") {
    		      return false;
    		    }
    		  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||
    		             (isSpecial(this.url) && c === 92)) {
    		    --this.pointer;
    		    if (isSpecial(this.url) && this.buffer === "") {
    		      this.parseError = true;
    		      return failure;
    		    } else if (this.stateOverride && this.buffer === "" &&
    		               (includesCredentials(this.url) || this.url.port !== null)) {
    		      this.parseError = true;
    		      return false;
    		    }

    		    const host = parseHost(this.buffer, isSpecial(this.url));
    		    if (host === failure) {
    		      return failure;
    		    }

    		    this.url.host = host;
    		    this.buffer = "";
    		    this.state = "path start";
    		    if (this.stateOverride) {
    		      return false;
    		    }
    		  } else {
    		    if (c === 91) {
    		      this.arrFlag = true;
    		    } else if (c === 93) {
    		      this.arrFlag = false;
    		    }
    		    this.buffer += cStr;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse port"] = function parsePort(c, cStr) {
    		  if (isASCIIDigit(c)) {
    		    this.buffer += cStr;
    		  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||
    		             (isSpecial(this.url) && c === 92) ||
    		             this.stateOverride) {
    		    if (this.buffer !== "") {
    		      const port = parseInt(this.buffer);
    		      if (port > Math.pow(2, 16) - 1) {
    		        this.parseError = true;
    		        return failure;
    		      }
    		      this.url.port = port === defaultPort(this.url.scheme) ? null : port;
    		      this.buffer = "";
    		    }
    		    if (this.stateOverride) {
    		      return false;
    		    }
    		    this.state = "path start";
    		    --this.pointer;
    		  } else {
    		    this.parseError = true;
    		    return failure;
    		  }

    		  return true;
    		};

    		const fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);

    		URLStateMachine.prototype["parse file"] = function parseFile(c) {
    		  this.url.scheme = "file";

    		  if (c === 47 || c === 92) {
    		    if (c === 92) {
    		      this.parseError = true;
    		    }
    		    this.state = "file slash";
    		  } else if (this.base !== null && this.base.scheme === "file") {
    		    if (isNaN(c)) {
    		      this.url.host = this.base.host;
    		      this.url.path = this.base.path.slice();
    		      this.url.query = this.base.query;
    		    } else if (c === 63) {
    		      this.url.host = this.base.host;
    		      this.url.path = this.base.path.slice();
    		      this.url.query = "";
    		      this.state = "query";
    		    } else if (c === 35) {
    		      this.url.host = this.base.host;
    		      this.url.path = this.base.path.slice();
    		      this.url.query = this.base.query;
    		      this.url.fragment = "";
    		      this.state = "fragment";
    		    } else {
    		      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points
    		          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||
    		          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points
    		           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {
    		        this.url.host = this.base.host;
    		        this.url.path = this.base.path.slice();
    		        shortenPath(this.url);
    		      } else {
    		        this.parseError = true;
    		      }

    		      this.state = "path";
    		      --this.pointer;
    		    }
    		  } else {
    		    this.state = "path";
    		    --this.pointer;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse file slash"] = function parseFileSlash(c) {
    		  if (c === 47 || c === 92) {
    		    if (c === 92) {
    		      this.parseError = true;
    		    }
    		    this.state = "file host";
    		  } else {
    		    if (this.base !== null && this.base.scheme === "file") {
    		      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {
    		        this.url.path.push(this.base.path[0]);
    		      } else {
    		        this.url.host = this.base.host;
    		      }
    		    }
    		    this.state = "path";
    		    --this.pointer;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse file host"] = function parseFileHost(c, cStr) {
    		  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {
    		    --this.pointer;
    		    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {
    		      this.parseError = true;
    		      this.state = "path";
    		    } else if (this.buffer === "") {
    		      this.url.host = "";
    		      if (this.stateOverride) {
    		        return false;
    		      }
    		      this.state = "path start";
    		    } else {
    		      let host = parseHost(this.buffer, isSpecial(this.url));
    		      if (host === failure) {
    		        return failure;
    		      }
    		      if (host === "localhost") {
    		        host = "";
    		      }
    		      this.url.host = host;

    		      if (this.stateOverride) {
    		        return false;
    		      }

    		      this.buffer = "";
    		      this.state = "path start";
    		    }
    		  } else {
    		    this.buffer += cStr;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse path start"] = function parsePathStart(c) {
    		  if (isSpecial(this.url)) {
    		    if (c === 92) {
    		      this.parseError = true;
    		    }
    		    this.state = "path";

    		    if (c !== 47 && c !== 92) {
    		      --this.pointer;
    		    }
    		  } else if (!this.stateOverride && c === 63) {
    		    this.url.query = "";
    		    this.state = "query";
    		  } else if (!this.stateOverride && c === 35) {
    		    this.url.fragment = "";
    		    this.state = "fragment";
    		  } else if (c !== undefined) {
    		    this.state = "path";
    		    if (c !== 47) {
    		      --this.pointer;
    		    }
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse path"] = function parsePath(c) {
    		  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||
    		      (!this.stateOverride && (c === 63 || c === 35))) {
    		    if (isSpecial(this.url) && c === 92) {
    		      this.parseError = true;
    		    }

    		    if (isDoubleDot(this.buffer)) {
    		      shortenPath(this.url);
    		      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {
    		        this.url.path.push("");
    		      }
    		    } else if (isSingleDot(this.buffer) && c !== 47 &&
    		               !(isSpecial(this.url) && c === 92)) {
    		      this.url.path.push("");
    		    } else if (!isSingleDot(this.buffer)) {
    		      if (this.url.scheme === "file" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {
    		        if (this.url.host !== "" && this.url.host !== null) {
    		          this.parseError = true;
    		          this.url.host = "";
    		        }
    		        this.buffer = this.buffer[0] + ":";
    		      }
    		      this.url.path.push(this.buffer);
    		    }
    		    this.buffer = "";
    		    if (this.url.scheme === "file" && (c === undefined || c === 63 || c === 35)) {
    		      while (this.url.path.length > 1 && this.url.path[0] === "") {
    		        this.parseError = true;
    		        this.url.path.shift();
    		      }
    		    }
    		    if (c === 63) {
    		      this.url.query = "";
    		      this.state = "query";
    		    }
    		    if (c === 35) {
    		      this.url.fragment = "";
    		      this.state = "fragment";
    		    }
    		  } else {
    		    // TODO: If c is not a URL code point and not "%", parse error.

    		    if (c === 37 &&
    		      (!isASCIIHex(this.input[this.pointer + 1]) ||
    		        !isASCIIHex(this.input[this.pointer + 2]))) {
    		      this.parseError = true;
    		    }

    		    this.buffer += percentEncodeChar(c, isPathPercentEncode);
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse cannot-be-a-base-URL path"] = function parseCannotBeABaseURLPath(c) {
    		  if (c === 63) {
    		    this.url.query = "";
    		    this.state = "query";
    		  } else if (c === 35) {
    		    this.url.fragment = "";
    		    this.state = "fragment";
    		  } else {
    		    // TODO: Add: not a URL code point
    		    if (!isNaN(c) && c !== 37) {
    		      this.parseError = true;
    		    }

    		    if (c === 37 &&
    		        (!isASCIIHex(this.input[this.pointer + 1]) ||
    		         !isASCIIHex(this.input[this.pointer + 2]))) {
    		      this.parseError = true;
    		    }

    		    if (!isNaN(c)) {
    		      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);
    		    }
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse query"] = function parseQuery(c, cStr) {
    		  if (isNaN(c) || (!this.stateOverride && c === 35)) {
    		    if (!isSpecial(this.url) || this.url.scheme === "ws" || this.url.scheme === "wss") {
    		      this.encodingOverride = "utf-8";
    		    }

    		    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead
    		    for (let i = 0; i < buffer.length; ++i) {
    		      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||
    		          buffer[i] === 0x3C || buffer[i] === 0x3E) {
    		        this.url.query += percentEncode(buffer[i]);
    		      } else {
    		        this.url.query += String.fromCodePoint(buffer[i]);
    		      }
    		    }

    		    this.buffer = "";
    		    if (c === 35) {
    		      this.url.fragment = "";
    		      this.state = "fragment";
    		    }
    		  } else {
    		    // TODO: If c is not a URL code point and not "%", parse error.
    		    if (c === 37 &&
    		      (!isASCIIHex(this.input[this.pointer + 1]) ||
    		        !isASCIIHex(this.input[this.pointer + 2]))) {
    		      this.parseError = true;
    		    }

    		    this.buffer += cStr;
    		  }

    		  return true;
    		};

    		URLStateMachine.prototype["parse fragment"] = function parseFragment(c) {
    		  if (isNaN(c)) ; else if (c === 0x0) {
    		    this.parseError = true;
    		  } else {
    		    // TODO: If c is not a URL code point and not "%", parse error.
    		    if (c === 37 &&
    		      (!isASCIIHex(this.input[this.pointer + 1]) ||
    		        !isASCIIHex(this.input[this.pointer + 2]))) {
    		      this.parseError = true;
    		    }

    		    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);
    		  }

    		  return true;
    		};

    		function serializeURL(url, excludeFragment) {
    		  let output = url.scheme + ":";
    		  if (url.host !== null) {
    		    output += "//";

    		    if (url.username !== "" || url.password !== "") {
    		      output += url.username;
    		      if (url.password !== "") {
    		        output += ":" + url.password;
    		      }
    		      output += "@";
    		    }

    		    output += serializeHost(url.host);

    		    if (url.port !== null) {
    		      output += ":" + url.port;
    		    }
    		  } else if (url.host === null && url.scheme === "file") {
    		    output += "//";
    		  }

    		  if (url.cannotBeABaseURL) {
    		    output += url.path[0];
    		  } else {
    		    for (const string of url.path) {
    		      output += "/" + string;
    		    }
    		  }

    		  if (url.query !== null) {
    		    output += "?" + url.query;
    		  }

    		  if (!excludeFragment && url.fragment !== null) {
    		    output += "#" + url.fragment;
    		  }

    		  return output;
    		}

    		function serializeOrigin(tuple) {
    		  let result = tuple.scheme + "://";
    		  result += serializeHost(tuple.host);

    		  if (tuple.port !== null) {
    		    result += ":" + tuple.port;
    		  }

    		  return result;
    		}

    		module.exports.serializeURL = serializeURL;

    		module.exports.serializeURLOrigin = function (url) {
    		  // https://url.spec.whatwg.org/#concept-url-origin
    		  switch (url.scheme) {
    		    case "blob":
    		      try {
    		        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));
    		      } catch (e) {
    		        // serializing an opaque origin returns "null"
    		        return "null";
    		      }
    		    case "ftp":
    		    case "gopher":
    		    case "http":
    		    case "https":
    		    case "ws":
    		    case "wss":
    		      return serializeOrigin({
    		        scheme: url.scheme,
    		        host: url.host,
    		        port: url.port
    		      });
    		    case "file":
    		      // spec says "exercise to the reader", chrome says "file://"
    		      return "file://";
    		    default:
    		      // serializing an opaque origin returns "null"
    		      return "null";
    		  }
    		};

    		module.exports.basicURLParse = function (input, options) {
    		  if (options === undefined) {
    		    options = {};
    		  }

    		  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);
    		  if (usm.failure) {
    		    return "failure";
    		  }

    		  return usm.url;
    		};

    		module.exports.setTheUsername = function (url, username) {
    		  url.username = "";
    		  const decoded = punycode.ucs2.decode(username);
    		  for (let i = 0; i < decoded.length; ++i) {
    		    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);
    		  }
    		};

    		module.exports.setThePassword = function (url, password) {
    		  url.password = "";
    		  const decoded = punycode.ucs2.decode(password);
    		  for (let i = 0; i < decoded.length; ++i) {
    		    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);
    		  }
    		};

    		module.exports.serializeHost = serializeHost;

    		module.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;

    		module.exports.serializeInteger = function (integer) {
    		  return String(integer);
    		};

    		module.exports.parseURL = function (input, options) {
    		  if (options === undefined) {
    		    options = {};
    		  }

    		  // We don't handle blobs, so this just delegates:
    		  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });
    		}; 
    	} (urlStateMachine));
    	return urlStateMachine.exports;
    }

    var hasRequiredURLImpl;

    function requireURLImpl () {
    	if (hasRequiredURLImpl) return URLImpl;
    	hasRequiredURLImpl = 1;
    	const usm = requireUrlStateMachine();

    	URLImpl.implementation = class URLImpl {
    	  constructor(constructorArgs) {
    	    const url = constructorArgs[0];
    	    const base = constructorArgs[1];

    	    let parsedBase = null;
    	    if (base !== undefined) {
    	      parsedBase = usm.basicURLParse(base);
    	      if (parsedBase === "failure") {
    	        throw new TypeError("Invalid base URL");
    	      }
    	    }

    	    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });
    	    if (parsedURL === "failure") {
    	      throw new TypeError("Invalid URL");
    	    }

    	    this._url = parsedURL;

    	    // TODO: query stuff
    	  }

    	  get href() {
    	    return usm.serializeURL(this._url);
    	  }

    	  set href(v) {
    	    const parsedURL = usm.basicURLParse(v);
    	    if (parsedURL === "failure") {
    	      throw new TypeError("Invalid URL");
    	    }

    	    this._url = parsedURL;
    	  }

    	  get origin() {
    	    return usm.serializeURLOrigin(this._url);
    	  }

    	  get protocol() {
    	    return this._url.scheme + ":";
    	  }

    	  set protocol(v) {
    	    usm.basicURLParse(v + ":", { url: this._url, stateOverride: "scheme start" });
    	  }

    	  get username() {
    	    return this._url.username;
    	  }

    	  set username(v) {
    	    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {
    	      return;
    	    }

    	    usm.setTheUsername(this._url, v);
    	  }

    	  get password() {
    	    return this._url.password;
    	  }

    	  set password(v) {
    	    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {
    	      return;
    	    }

    	    usm.setThePassword(this._url, v);
    	  }

    	  get host() {
    	    const url = this._url;

    	    if (url.host === null) {
    	      return "";
    	    }

    	    if (url.port === null) {
    	      return usm.serializeHost(url.host);
    	    }

    	    return usm.serializeHost(url.host) + ":" + usm.serializeInteger(url.port);
    	  }

    	  set host(v) {
    	    if (this._url.cannotBeABaseURL) {
    	      return;
    	    }

    	    usm.basicURLParse(v, { url: this._url, stateOverride: "host" });
    	  }

    	  get hostname() {
    	    if (this._url.host === null) {
    	      return "";
    	    }

    	    return usm.serializeHost(this._url.host);
    	  }

    	  set hostname(v) {
    	    if (this._url.cannotBeABaseURL) {
    	      return;
    	    }

    	    usm.basicURLParse(v, { url: this._url, stateOverride: "hostname" });
    	  }

    	  get port() {
    	    if (this._url.port === null) {
    	      return "";
    	    }

    	    return usm.serializeInteger(this._url.port);
    	  }

    	  set port(v) {
    	    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {
    	      return;
    	    }

    	    if (v === "") {
    	      this._url.port = null;
    	    } else {
    	      usm.basicURLParse(v, { url: this._url, stateOverride: "port" });
    	    }
    	  }

    	  get pathname() {
    	    if (this._url.cannotBeABaseURL) {
    	      return this._url.path[0];
    	    }

    	    if (this._url.path.length === 0) {
    	      return "";
    	    }

    	    return "/" + this._url.path.join("/");
    	  }

    	  set pathname(v) {
    	    if (this._url.cannotBeABaseURL) {
    	      return;
    	    }

    	    this._url.path = [];
    	    usm.basicURLParse(v, { url: this._url, stateOverride: "path start" });
    	  }

    	  get search() {
    	    if (this._url.query === null || this._url.query === "") {
    	      return "";
    	    }

    	    return "?" + this._url.query;
    	  }

    	  set search(v) {
    	    // TODO: query stuff

    	    const url = this._url;

    	    if (v === "") {
    	      url.query = null;
    	      return;
    	    }

    	    const input = v[0] === "?" ? v.substring(1) : v;
    	    url.query = "";
    	    usm.basicURLParse(input, { url, stateOverride: "query" });
    	  }

    	  get hash() {
    	    if (this._url.fragment === null || this._url.fragment === "") {
    	      return "";
    	    }

    	    return "#" + this._url.fragment;
    	  }

    	  set hash(v) {
    	    if (v === "") {
    	      this._url.fragment = null;
    	      return;
    	    }

    	    const input = v[0] === "#" ? v.substring(1) : v;
    	    this._url.fragment = "";
    	    usm.basicURLParse(input, { url: this._url, stateOverride: "fragment" });
    	  }

    	  toJSON() {
    	    return this.href;
    	  }
    	};
    	return URLImpl;
    }

    var hasRequiredURL;

    function requireURL () {
    	if (hasRequiredURL) return URL$1.exports;
    	hasRequiredURL = 1;
    	(function (module) {

    		const conversions = requireLib$2();
    		const utils = requireUtils$2();
    		const Impl = requireURLImpl();

    		const impl = utils.implSymbol;

    		function URL(url) {
    		  if (!this || this[impl] || !(this instanceof URL)) {
    		    throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");
    		  }
    		  if (arguments.length < 1) {
    		    throw new TypeError("Failed to construct 'URL': 1 argument required, but only " + arguments.length + " present.");
    		  }
    		  const args = [];
    		  for (let i = 0; i < arguments.length && i < 2; ++i) {
    		    args[i] = arguments[i];
    		  }
    		  args[0] = conversions["USVString"](args[0]);
    		  if (args[1] !== undefined) {
    		  args[1] = conversions["USVString"](args[1]);
    		  }

    		  module.exports.setup(this, args);
    		}

    		URL.prototype.toJSON = function toJSON() {
    		  if (!this || !module.exports.is(this)) {
    		    throw new TypeError("Illegal invocation");
    		  }
    		  const args = [];
    		  for (let i = 0; i < arguments.length && i < 0; ++i) {
    		    args[i] = arguments[i];
    		  }
    		  return this[impl].toJSON.apply(this[impl], args);
    		};
    		Object.defineProperty(URL.prototype, "href", {
    		  get() {
    		    return this[impl].href;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].href = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		URL.prototype.toString = function () {
    		  if (!this || !module.exports.is(this)) {
    		    throw new TypeError("Illegal invocation");
    		  }
    		  return this.href;
    		};

    		Object.defineProperty(URL.prototype, "origin", {
    		  get() {
    		    return this[impl].origin;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		Object.defineProperty(URL.prototype, "protocol", {
    		  get() {
    		    return this[impl].protocol;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].protocol = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		Object.defineProperty(URL.prototype, "username", {
    		  get() {
    		    return this[impl].username;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].username = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		Object.defineProperty(URL.prototype, "password", {
    		  get() {
    		    return this[impl].password;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].password = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		Object.defineProperty(URL.prototype, "host", {
    		  get() {
    		    return this[impl].host;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].host = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		Object.defineProperty(URL.prototype, "hostname", {
    		  get() {
    		    return this[impl].hostname;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].hostname = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		Object.defineProperty(URL.prototype, "port", {
    		  get() {
    		    return this[impl].port;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].port = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		Object.defineProperty(URL.prototype, "pathname", {
    		  get() {
    		    return this[impl].pathname;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].pathname = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		Object.defineProperty(URL.prototype, "search", {
    		  get() {
    		    return this[impl].search;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].search = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});

    		Object.defineProperty(URL.prototype, "hash", {
    		  get() {
    		    return this[impl].hash;
    		  },
    		  set(V) {
    		    V = conversions["USVString"](V);
    		    this[impl].hash = V;
    		  },
    		  enumerable: true,
    		  configurable: true
    		});


    		module.exports = {
    		  is(obj) {
    		    return !!obj && obj[impl] instanceof Impl.implementation;
    		  },
    		  create(constructorArgs, privateData) {
    		    let obj = Object.create(URL.prototype);
    		    this.setup(obj, constructorArgs, privateData);
    		    return obj;
    		  },
    		  setup(obj, constructorArgs, privateData) {
    		    if (!privateData) privateData = {};
    		    privateData.wrapper = obj;

    		    obj[impl] = new Impl.implementation(constructorArgs, privateData);
    		    obj[impl][utils.wrapperSymbol] = obj;
    		  },
    		  interface: URL,
    		  expose: {
    		    Window: { URL: URL },
    		    Worker: { URL: URL }
    		  }
    		}; 
    	} (URL$1));
    	return URL$1.exports;
    }

    var hasRequiredPublicApi;

    function requirePublicApi () {
    	if (hasRequiredPublicApi) return publicApi;
    	hasRequiredPublicApi = 1;

    	publicApi.URL = requireURL().interface;
    	publicApi.serializeURL = requireUrlStateMachine().serializeURL;
    	publicApi.serializeURLOrigin = requireUrlStateMachine().serializeURLOrigin;
    	publicApi.basicURLParse = requireUrlStateMachine().basicURLParse;
    	publicApi.setTheUsername = requireUrlStateMachine().setTheUsername;
    	publicApi.setThePassword = requireUrlStateMachine().setThePassword;
    	publicApi.serializeHost = requireUrlStateMachine().serializeHost;
    	publicApi.serializeInteger = requireUrlStateMachine().serializeInteger;
    	publicApi.parseURL = requireUrlStateMachine().parseURL;
    	return publicApi;
    }

    var hasRequiredLib$1;

    function requireLib$1 () {
    	if (hasRequiredLib$1) return lib$2.exports;
    	hasRequiredLib$1 = 1;
    	(function (module, exports) {

    		Object.defineProperty(exports, '__esModule', { value: true });

    		function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

    		var Stream = _interopDefault(require$$0$a);
    		var http = _interopDefault(require$$1$2);
    		var Url = _interopDefault(require$$7);
    		var whatwgUrl = _interopDefault(requirePublicApi());
    		var https = _interopDefault(require$$1$3);
    		var zlib = _interopDefault(require$$0$b);

    		// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js

    		// fix for "Readable" isn't a named export issue
    		const Readable = Stream.Readable;

    		const BUFFER = Symbol('buffer');
    		const TYPE = Symbol('type');

    		class Blob {
    			constructor() {
    				this[TYPE] = '';

    				const blobParts = arguments[0];
    				const options = arguments[1];

    				const buffers = [];
    				let size = 0;

    				if (blobParts) {
    					const a = blobParts;
    					const length = Number(a.length);
    					for (let i = 0; i < length; i++) {
    						const element = a[i];
    						let buffer;
    						if (element instanceof Buffer) {
    							buffer = element;
    						} else if (ArrayBuffer.isView(element)) {
    							buffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);
    						} else if (element instanceof ArrayBuffer) {
    							buffer = Buffer.from(element);
    						} else if (element instanceof Blob) {
    							buffer = element[BUFFER];
    						} else {
    							buffer = Buffer.from(typeof element === 'string' ? element : String(element));
    						}
    						size += buffer.length;
    						buffers.push(buffer);
    					}
    				}

    				this[BUFFER] = Buffer.concat(buffers);

    				let type = options && options.type !== undefined && String(options.type).toLowerCase();
    				if (type && !/[^\u0020-\u007E]/.test(type)) {
    					this[TYPE] = type;
    				}
    			}
    			get size() {
    				return this[BUFFER].length;
    			}
    			get type() {
    				return this[TYPE];
    			}
    			text() {
    				return Promise.resolve(this[BUFFER].toString());
    			}
    			arrayBuffer() {
    				const buf = this[BUFFER];
    				const ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);
    				return Promise.resolve(ab);
    			}
    			stream() {
    				const readable = new Readable();
    				readable._read = function () {};
    				readable.push(this[BUFFER]);
    				readable.push(null);
    				return readable;
    			}
    			toString() {
    				return '[object Blob]';
    			}
    			slice() {
    				const size = this.size;

    				const start = arguments[0];
    				const end = arguments[1];
    				let relativeStart, relativeEnd;
    				if (start === undefined) {
    					relativeStart = 0;
    				} else if (start < 0) {
    					relativeStart = Math.max(size + start, 0);
    				} else {
    					relativeStart = Math.min(start, size);
    				}
    				if (end === undefined) {
    					relativeEnd = size;
    				} else if (end < 0) {
    					relativeEnd = Math.max(size + end, 0);
    				} else {
    					relativeEnd = Math.min(end, size);
    				}
    				const span = Math.max(relativeEnd - relativeStart, 0);

    				const buffer = this[BUFFER];
    				const slicedBuffer = buffer.slice(relativeStart, relativeStart + span);
    				const blob = new Blob([], { type: arguments[2] });
    				blob[BUFFER] = slicedBuffer;
    				return blob;
    			}
    		}

    		Object.defineProperties(Blob.prototype, {
    			size: { enumerable: true },
    			type: { enumerable: true },
    			slice: { enumerable: true }
    		});

    		Object.defineProperty(Blob.prototype, Symbol.toStringTag, {
    			value: 'Blob',
    			writable: false,
    			enumerable: false,
    			configurable: true
    		});

    		/**
    		 * fetch-error.js
    		 *
    		 * FetchError interface for operational errors
    		 */

    		/**
    		 * Create FetchError instance
    		 *
    		 * @param   String      message      Error message for human
    		 * @param   String      type         Error type for machine
    		 * @param   String      systemError  For Node.js system error
    		 * @return  FetchError
    		 */
    		function FetchError(message, type, systemError) {
    		  Error.call(this, message);

    		  this.message = message;
    		  this.type = type;

    		  // when err.type is `system`, err.code contains system error code
    		  if (systemError) {
    		    this.code = this.errno = systemError.code;
    		  }

    		  // hide custom error implementation details from end-users
    		  Error.captureStackTrace(this, this.constructor);
    		}

    		FetchError.prototype = Object.create(Error.prototype);
    		FetchError.prototype.constructor = FetchError;
    		FetchError.prototype.name = 'FetchError';

    		let convert;
    		try {
    			convert = require('encoding').convert;
    		} catch (e) {}

    		const INTERNALS = Symbol('Body internals');

    		// fix an issue where "PassThrough" isn't a named export for node <10
    		const PassThrough = Stream.PassThrough;

    		/**
    		 * Body mixin
    		 *
    		 * Ref: https://fetch.spec.whatwg.org/#body
    		 *
    		 * @param   Stream  body  Readable stream
    		 * @param   Object  opts  Response options
    		 * @return  Void
    		 */
    		function Body(body) {
    			var _this = this;

    			var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    			    _ref$size = _ref.size;

    			let size = _ref$size === undefined ? 0 : _ref$size;
    			var _ref$timeout = _ref.timeout;
    			let timeout = _ref$timeout === undefined ? 0 : _ref$timeout;

    			if (body == null) {
    				// body is undefined or null
    				body = null;
    			} else if (isURLSearchParams(body)) {
    				// body is a URLSearchParams
    				body = Buffer.from(body.toString());
    			} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {
    				// body is ArrayBuffer
    				body = Buffer.from(body);
    			} else if (ArrayBuffer.isView(body)) {
    				// body is ArrayBufferView
    				body = Buffer.from(body.buffer, body.byteOffset, body.byteLength);
    			} else if (body instanceof Stream) ; else {
    				// none of the above
    				// coerce to string then buffer
    				body = Buffer.from(String(body));
    			}
    			this[INTERNALS] = {
    				body,
    				disturbed: false,
    				error: null
    			};
    			this.size = size;
    			this.timeout = timeout;

    			if (body instanceof Stream) {
    				body.on('error', function (err) {
    					const error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);
    					_this[INTERNALS].error = error;
    				});
    			}
    		}

    		Body.prototype = {
    			get body() {
    				return this[INTERNALS].body;
    			},

    			get bodyUsed() {
    				return this[INTERNALS].disturbed;
    			},

    			/**
    		  * Decode response as ArrayBuffer
    		  *
    		  * @return  Promise
    		  */
    			arrayBuffer() {
    				return consumeBody.call(this).then(function (buf) {
    					return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);
    				});
    			},

    			/**
    		  * Return raw response as Blob
    		  *
    		  * @return Promise
    		  */
    			blob() {
    				let ct = this.headers && this.headers.get('content-type') || '';
    				return consumeBody.call(this).then(function (buf) {
    					return Object.assign(
    					// Prevent copying
    					new Blob([], {
    						type: ct.toLowerCase()
    					}), {
    						[BUFFER]: buf
    					});
    				});
    			},

    			/**
    		  * Decode response as json
    		  *
    		  * @return  Promise
    		  */
    			json() {
    				var _this2 = this;

    				return consumeBody.call(this).then(function (buffer) {
    					try {
    						return JSON.parse(buffer.toString());
    					} catch (err) {
    						return Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));
    					}
    				});
    			},

    			/**
    		  * Decode response as text
    		  *
    		  * @return  Promise
    		  */
    			text() {
    				return consumeBody.call(this).then(function (buffer) {
    					return buffer.toString();
    				});
    			},

    			/**
    		  * Decode response as buffer (non-spec api)
    		  *
    		  * @return  Promise
    		  */
    			buffer() {
    				return consumeBody.call(this);
    			},

    			/**
    		  * Decode response as text, while automatically detecting the encoding and
    		  * trying to decode to UTF-8 (non-spec api)
    		  *
    		  * @return  Promise
    		  */
    			textConverted() {
    				var _this3 = this;

    				return consumeBody.call(this).then(function (buffer) {
    					return convertBody(buffer, _this3.headers);
    				});
    			}
    		};

    		// In browsers, all properties are enumerable.
    		Object.defineProperties(Body.prototype, {
    			body: { enumerable: true },
    			bodyUsed: { enumerable: true },
    			arrayBuffer: { enumerable: true },
    			blob: { enumerable: true },
    			json: { enumerable: true },
    			text: { enumerable: true }
    		});

    		Body.mixIn = function (proto) {
    			for (const name of Object.getOwnPropertyNames(Body.prototype)) {
    				// istanbul ignore else: future proof
    				if (!(name in proto)) {
    					const desc = Object.getOwnPropertyDescriptor(Body.prototype, name);
    					Object.defineProperty(proto, name, desc);
    				}
    			}
    		};

    		/**
    		 * Consume and convert an entire Body to a Buffer.
    		 *
    		 * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body
    		 *
    		 * @return  Promise
    		 */
    		function consumeBody() {
    			var _this4 = this;

    			if (this[INTERNALS].disturbed) {
    				return Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));
    			}

    			this[INTERNALS].disturbed = true;

    			if (this[INTERNALS].error) {
    				return Body.Promise.reject(this[INTERNALS].error);
    			}

    			let body = this.body;

    			// body is null
    			if (body === null) {
    				return Body.Promise.resolve(Buffer.alloc(0));
    			}

    			// body is blob
    			if (isBlob(body)) {
    				body = body.stream();
    			}

    			// body is buffer
    			if (Buffer.isBuffer(body)) {
    				return Body.Promise.resolve(body);
    			}

    			// istanbul ignore if: should never happen
    			if (!(body instanceof Stream)) {
    				return Body.Promise.resolve(Buffer.alloc(0));
    			}

    			// body is stream
    			// get ready to actually consume the body
    			let accum = [];
    			let accumBytes = 0;
    			let abort = false;

    			return new Body.Promise(function (resolve, reject) {
    				let resTimeout;

    				// allow timeout on slow response body
    				if (_this4.timeout) {
    					resTimeout = setTimeout(function () {
    						abort = true;
    						reject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));
    					}, _this4.timeout);
    				}

    				// handle stream errors
    				body.on('error', function (err) {
    					if (err.name === 'AbortError') {
    						// if the request was aborted, reject with this Error
    						abort = true;
    						reject(err);
    					} else {
    						// other errors, such as incorrect content-encoding
    						reject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));
    					}
    				});

    				body.on('data', function (chunk) {
    					if (abort || chunk === null) {
    						return;
    					}

    					if (_this4.size && accumBytes + chunk.length > _this4.size) {
    						abort = true;
    						reject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));
    						return;
    					}

    					accumBytes += chunk.length;
    					accum.push(chunk);
    				});

    				body.on('end', function () {
    					if (abort) {
    						return;
    					}

    					clearTimeout(resTimeout);

    					try {
    						resolve(Buffer.concat(accum, accumBytes));
    					} catch (err) {
    						// handle streams that have accumulated too much data (issue #414)
    						reject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));
    					}
    				});
    			});
    		}

    		/**
    		 * Detect buffer encoding and convert to target encoding
    		 * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding
    		 *
    		 * @param   Buffer  buffer    Incoming buffer
    		 * @param   String  encoding  Target encoding
    		 * @return  String
    		 */
    		function convertBody(buffer, headers) {
    			if (typeof convert !== 'function') {
    				throw new Error('The package `encoding` must be installed to use the textConverted() function');
    			}

    			const ct = headers.get('content-type');
    			let charset = 'utf-8';
    			let res, str;

    			// header
    			if (ct) {
    				res = /charset=([^;]*)/i.exec(ct);
    			}

    			// no charset in content type, peek at response body for at most 1024 bytes
    			str = buffer.slice(0, 1024).toString();

    			// html5
    			if (!res && str) {
    				res = /<meta.+?charset=(['"])(.+?)\1/i.exec(str);
    			}

    			// html4
    			if (!res && str) {
    				res = /<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(str);
    				if (!res) {
    					res = /<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(str);
    					if (res) {
    						res.pop(); // drop last quote
    					}
    				}

    				if (res) {
    					res = /charset=(.*)/i.exec(res.pop());
    				}
    			}

    			// xml
    			if (!res && str) {
    				res = /<\?xml.+?encoding=(['"])(.+?)\1/i.exec(str);
    			}

    			// found charset
    			if (res) {
    				charset = res.pop();

    				// prevent decode issues when sites use incorrect encoding
    				// ref: https://hsivonen.fi/encoding-menu/
    				if (charset === 'gb2312' || charset === 'gbk') {
    					charset = 'gb18030';
    				}
    			}

    			// turn raw buffers into a single utf-8 buffer
    			return convert(buffer, 'UTF-8', charset).toString();
    		}

    		/**
    		 * Detect a URLSearchParams object
    		 * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143
    		 *
    		 * @param   Object  obj     Object to detect by type or brand
    		 * @return  String
    		 */
    		function isURLSearchParams(obj) {
    			// Duck-typing as a necessary condition.
    			if (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {
    				return false;
    			}

    			// Brand-checking and more duck-typing as optional condition.
    			return obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';
    		}

    		/**
    		 * Check if `obj` is a W3C `Blob` object (which `File` inherits from)
    		 * @param  {*} obj
    		 * @return {boolean}
    		 */
    		function isBlob(obj) {
    			return typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);
    		}

    		/**
    		 * Clone body given Res/Req instance
    		 *
    		 * @param   Mixed  instance  Response or Request instance
    		 * @return  Mixed
    		 */
    		function clone(instance) {
    			let p1, p2;
    			let body = instance.body;

    			// don't allow cloning a used body
    			if (instance.bodyUsed) {
    				throw new Error('cannot clone body after it is used');
    			}

    			// check that body is a stream and not form-data object
    			// note: we can't clone the form-data object without having it as a dependency
    			if (body instanceof Stream && typeof body.getBoundary !== 'function') {
    				// tee instance body
    				p1 = new PassThrough();
    				p2 = new PassThrough();
    				body.pipe(p1);
    				body.pipe(p2);
    				// set instance body to teed body and return the other teed body
    				instance[INTERNALS].body = p1;
    				body = p2;
    			}

    			return body;
    		}

    		/**
    		 * Performs the operation "extract a `Content-Type` value from |object|" as
    		 * specified in the specification:
    		 * https://fetch.spec.whatwg.org/#concept-bodyinit-extract
    		 *
    		 * This function assumes that instance.body is present.
    		 *
    		 * @param   Mixed  instance  Any options.body input
    		 */
    		function extractContentType(body) {
    			if (body === null) {
    				// body is null
    				return null;
    			} else if (typeof body === 'string') {
    				// body is string
    				return 'text/plain;charset=UTF-8';
    			} else if (isURLSearchParams(body)) {
    				// body is a URLSearchParams
    				return 'application/x-www-form-urlencoded;charset=UTF-8';
    			} else if (isBlob(body)) {
    				// body is blob
    				return body.type || null;
    			} else if (Buffer.isBuffer(body)) {
    				// body is buffer
    				return null;
    			} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {
    				// body is ArrayBuffer
    				return null;
    			} else if (ArrayBuffer.isView(body)) {
    				// body is ArrayBufferView
    				return null;
    			} else if (typeof body.getBoundary === 'function') {
    				// detect form data input from form-data module
    				return `multipart/form-data;boundary=${body.getBoundary()}`;
    			} else if (body instanceof Stream) {
    				// body is stream
    				// can't really do much about this
    				return null;
    			} else {
    				// Body constructor defaults other things to string
    				return 'text/plain;charset=UTF-8';
    			}
    		}

    		/**
    		 * The Fetch Standard treats this as if "total bytes" is a property on the body.
    		 * For us, we have to explicitly get it with a function.
    		 *
    		 * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes
    		 *
    		 * @param   Body    instance   Instance of Body
    		 * @return  Number?            Number of bytes, or null if not possible
    		 */
    		function getTotalBytes(instance) {
    			const body = instance.body;


    			if (body === null) {
    				// body is null
    				return 0;
    			} else if (isBlob(body)) {
    				return body.size;
    			} else if (Buffer.isBuffer(body)) {
    				// body is buffer
    				return body.length;
    			} else if (body && typeof body.getLengthSync === 'function') {
    				// detect form data input from form-data module
    				if (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x
    				body.hasKnownLength && body.hasKnownLength()) {
    					// 2.x
    					return body.getLengthSync();
    				}
    				return null;
    			} else {
    				// body is stream
    				return null;
    			}
    		}

    		/**
    		 * Write a Body to a Node.js WritableStream (e.g. http.Request) object.
    		 *
    		 * @param   Body    instance   Instance of Body
    		 * @return  Void
    		 */
    		function writeToStream(dest, instance) {
    			const body = instance.body;


    			if (body === null) {
    				// body is null
    				dest.end();
    			} else if (isBlob(body)) {
    				body.stream().pipe(dest);
    			} else if (Buffer.isBuffer(body)) {
    				// body is buffer
    				dest.write(body);
    				dest.end();
    			} else {
    				// body is stream
    				body.pipe(dest);
    			}
    		}

    		// expose Promise
    		Body.Promise = commonjsGlobal.Promise;

    		/**
    		 * headers.js
    		 *
    		 * Headers class offers convenient helpers
    		 */

    		const invalidTokenRegex = /[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/;
    		const invalidHeaderCharRegex = /[^\t\x20-\x7e\x80-\xff]/;

    		function validateName(name) {
    			name = `${name}`;
    			if (invalidTokenRegex.test(name) || name === '') {
    				throw new TypeError(`${name} is not a legal HTTP header name`);
    			}
    		}

    		function validateValue(value) {
    			value = `${value}`;
    			if (invalidHeaderCharRegex.test(value)) {
    				throw new TypeError(`${value} is not a legal HTTP header value`);
    			}
    		}

    		/**
    		 * Find the key in the map object given a header name.
    		 *
    		 * Returns undefined if not found.
    		 *
    		 * @param   String  name  Header name
    		 * @return  String|Undefined
    		 */
    		function find(map, name) {
    			name = name.toLowerCase();
    			for (const key in map) {
    				if (key.toLowerCase() === name) {
    					return key;
    				}
    			}
    			return undefined;
    		}

    		const MAP = Symbol('map');
    		class Headers {
    			/**
    		  * Headers class
    		  *
    		  * @param   Object  headers  Response headers
    		  * @return  Void
    		  */
    			constructor() {
    				let init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;

    				this[MAP] = Object.create(null);

    				if (init instanceof Headers) {
    					const rawHeaders = init.raw();
    					const headerNames = Object.keys(rawHeaders);

    					for (const headerName of headerNames) {
    						for (const value of rawHeaders[headerName]) {
    							this.append(headerName, value);
    						}
    					}

    					return;
    				}

    				// We don't worry about converting prop to ByteString here as append()
    				// will handle it.
    				if (init == null) ; else if (typeof init === 'object') {
    					const method = init[Symbol.iterator];
    					if (method != null) {
    						if (typeof method !== 'function') {
    							throw new TypeError('Header pairs must be iterable');
    						}

    						// sequence<sequence<ByteString>>
    						// Note: per spec we have to first exhaust the lists then process them
    						const pairs = [];
    						for (const pair of init) {
    							if (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {
    								throw new TypeError('Each header pair must be iterable');
    							}
    							pairs.push(Array.from(pair));
    						}

    						for (const pair of pairs) {
    							if (pair.length !== 2) {
    								throw new TypeError('Each header pair must be a name/value tuple');
    							}
    							this.append(pair[0], pair[1]);
    						}
    					} else {
    						// record<ByteString, ByteString>
    						for (const key of Object.keys(init)) {
    							const value = init[key];
    							this.append(key, value);
    						}
    					}
    				} else {
    					throw new TypeError('Provided initializer must be an object');
    				}
    			}

    			/**
    		  * Return combined header value given name
    		  *
    		  * @param   String  name  Header name
    		  * @return  Mixed
    		  */
    			get(name) {
    				name = `${name}`;
    				validateName(name);
    				const key = find(this[MAP], name);
    				if (key === undefined) {
    					return null;
    				}

    				return this[MAP][key].join(', ');
    			}

    			/**
    		  * Iterate over all headers
    		  *
    		  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)
    		  * @param   Boolean   thisArg   `this` context for callback function
    		  * @return  Void
    		  */
    			forEach(callback) {
    				let thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;

    				let pairs = getHeaders(this);
    				let i = 0;
    				while (i < pairs.length) {
    					var _pairs$i = pairs[i];
    					const name = _pairs$i[0],
    					      value = _pairs$i[1];

    					callback.call(thisArg, value, name, this);
    					pairs = getHeaders(this);
    					i++;
    				}
    			}

    			/**
    		  * Overwrite header values given name
    		  *
    		  * @param   String  name   Header name
    		  * @param   String  value  Header value
    		  * @return  Void
    		  */
    			set(name, value) {
    				name = `${name}`;
    				value = `${value}`;
    				validateName(name);
    				validateValue(value);
    				const key = find(this[MAP], name);
    				this[MAP][key !== undefined ? key : name] = [value];
    			}

    			/**
    		  * Append a value onto existing header
    		  *
    		  * @param   String  name   Header name
    		  * @param   String  value  Header value
    		  * @return  Void
    		  */
    			append(name, value) {
    				name = `${name}`;
    				value = `${value}`;
    				validateName(name);
    				validateValue(value);
    				const key = find(this[MAP], name);
    				if (key !== undefined) {
    					this[MAP][key].push(value);
    				} else {
    					this[MAP][name] = [value];
    				}
    			}

    			/**
    		  * Check for header name existence
    		  *
    		  * @param   String   name  Header name
    		  * @return  Boolean
    		  */
    			has(name) {
    				name = `${name}`;
    				validateName(name);
    				return find(this[MAP], name) !== undefined;
    			}

    			/**
    		  * Delete all header values given name
    		  *
    		  * @param   String  name  Header name
    		  * @return  Void
    		  */
    			delete(name) {
    				name = `${name}`;
    				validateName(name);
    				const key = find(this[MAP], name);
    				if (key !== undefined) {
    					delete this[MAP][key];
    				}
    			}

    			/**
    		  * Return raw headers (non-spec api)
    		  *
    		  * @return  Object
    		  */
    			raw() {
    				return this[MAP];
    			}

    			/**
    		  * Get an iterator on keys.
    		  *
    		  * @return  Iterator
    		  */
    			keys() {
    				return createHeadersIterator(this, 'key');
    			}

    			/**
    		  * Get an iterator on values.
    		  *
    		  * @return  Iterator
    		  */
    			values() {
    				return createHeadersIterator(this, 'value');
    			}

    			/**
    		  * Get an iterator on entries.
    		  *
    		  * This is the default iterator of the Headers object.
    		  *
    		  * @return  Iterator
    		  */
    			[Symbol.iterator]() {
    				return createHeadersIterator(this, 'key+value');
    			}
    		}
    		Headers.prototype.entries = Headers.prototype[Symbol.iterator];

    		Object.defineProperty(Headers.prototype, Symbol.toStringTag, {
    			value: 'Headers',
    			writable: false,
    			enumerable: false,
    			configurable: true
    		});

    		Object.defineProperties(Headers.prototype, {
    			get: { enumerable: true },
    			forEach: { enumerable: true },
    			set: { enumerable: true },
    			append: { enumerable: true },
    			has: { enumerable: true },
    			delete: { enumerable: true },
    			keys: { enumerable: true },
    			values: { enumerable: true },
    			entries: { enumerable: true }
    		});

    		function getHeaders(headers) {
    			let kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';

    			const keys = Object.keys(headers[MAP]).sort();
    			return keys.map(kind === 'key' ? function (k) {
    				return k.toLowerCase();
    			} : kind === 'value' ? function (k) {
    				return headers[MAP][k].join(', ');
    			} : function (k) {
    				return [k.toLowerCase(), headers[MAP][k].join(', ')];
    			});
    		}

    		const INTERNAL = Symbol('internal');

    		function createHeadersIterator(target, kind) {
    			const iterator = Object.create(HeadersIteratorPrototype);
    			iterator[INTERNAL] = {
    				target,
    				kind,
    				index: 0
    			};
    			return iterator;
    		}

    		const HeadersIteratorPrototype = Object.setPrototypeOf({
    			next() {
    				// istanbul ignore if
    				if (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {
    					throw new TypeError('Value of `this` is not a HeadersIterator');
    				}

    				var _INTERNAL = this[INTERNAL];
    				const target = _INTERNAL.target,
    				      kind = _INTERNAL.kind,
    				      index = _INTERNAL.index;

    				const values = getHeaders(target, kind);
    				const len = values.length;
    				if (index >= len) {
    					return {
    						value: undefined,
    						done: true
    					};
    				}

    				this[INTERNAL].index = index + 1;

    				return {
    					value: values[index],
    					done: false
    				};
    			}
    		}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));

    		Object.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {
    			value: 'HeadersIterator',
    			writable: false,
    			enumerable: false,
    			configurable: true
    		});

    		/**
    		 * Export the Headers object in a form that Node.js can consume.
    		 *
    		 * @param   Headers  headers
    		 * @return  Object
    		 */
    		function exportNodeCompatibleHeaders(headers) {
    			const obj = Object.assign({ __proto__: null }, headers[MAP]);

    			// http.request() only supports string as Host header. This hack makes
    			// specifying custom Host header possible.
    			const hostHeaderKey = find(headers[MAP], 'Host');
    			if (hostHeaderKey !== undefined) {
    				obj[hostHeaderKey] = obj[hostHeaderKey][0];
    			}

    			return obj;
    		}

    		/**
    		 * Create a Headers object from an object of headers, ignoring those that do
    		 * not conform to HTTP grammar productions.
    		 *
    		 * @param   Object  obj  Object of headers
    		 * @return  Headers
    		 */
    		function createHeadersLenient(obj) {
    			const headers = new Headers();
    			for (const name of Object.keys(obj)) {
    				if (invalidTokenRegex.test(name)) {
    					continue;
    				}
    				if (Array.isArray(obj[name])) {
    					for (const val of obj[name]) {
    						if (invalidHeaderCharRegex.test(val)) {
    							continue;
    						}
    						if (headers[MAP][name] === undefined) {
    							headers[MAP][name] = [val];
    						} else {
    							headers[MAP][name].push(val);
    						}
    					}
    				} else if (!invalidHeaderCharRegex.test(obj[name])) {
    					headers[MAP][name] = [obj[name]];
    				}
    			}
    			return headers;
    		}

    		const INTERNALS$1 = Symbol('Response internals');

    		// fix an issue where "STATUS_CODES" aren't a named export for node <10
    		const STATUS_CODES = http.STATUS_CODES;

    		/**
    		 * Response class
    		 *
    		 * @param   Stream  body  Readable stream
    		 * @param   Object  opts  Response options
    		 * @return  Void
    		 */
    		class Response {
    			constructor() {
    				let body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    				let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    				Body.call(this, body, opts);

    				const status = opts.status || 200;
    				const headers = new Headers(opts.headers);

    				if (body != null && !headers.has('Content-Type')) {
    					const contentType = extractContentType(body);
    					if (contentType) {
    						headers.append('Content-Type', contentType);
    					}
    				}

    				this[INTERNALS$1] = {
    					url: opts.url,
    					status,
    					statusText: opts.statusText || STATUS_CODES[status],
    					headers,
    					counter: opts.counter
    				};
    			}

    			get url() {
    				return this[INTERNALS$1].url || '';
    			}

    			get status() {
    				return this[INTERNALS$1].status;
    			}

    			/**
    		  * Convenience property representing if the request ended normally
    		  */
    			get ok() {
    				return this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;
    			}

    			get redirected() {
    				return this[INTERNALS$1].counter > 0;
    			}

    			get statusText() {
    				return this[INTERNALS$1].statusText;
    			}

    			get headers() {
    				return this[INTERNALS$1].headers;
    			}

    			/**
    		  * Clone this response
    		  *
    		  * @return  Response
    		  */
    			clone() {
    				return new Response(clone(this), {
    					url: this.url,
    					status: this.status,
    					statusText: this.statusText,
    					headers: this.headers,
    					ok: this.ok,
    					redirected: this.redirected
    				});
    			}
    		}

    		Body.mixIn(Response.prototype);

    		Object.defineProperties(Response.prototype, {
    			url: { enumerable: true },
    			status: { enumerable: true },
    			ok: { enumerable: true },
    			redirected: { enumerable: true },
    			statusText: { enumerable: true },
    			headers: { enumerable: true },
    			clone: { enumerable: true }
    		});

    		Object.defineProperty(Response.prototype, Symbol.toStringTag, {
    			value: 'Response',
    			writable: false,
    			enumerable: false,
    			configurable: true
    		});

    		const INTERNALS$2 = Symbol('Request internals');
    		const URL = Url.URL || whatwgUrl.URL;

    		// fix an issue where "format", "parse" aren't a named export for node <10
    		const parse_url = Url.parse;
    		const format_url = Url.format;

    		/**
    		 * Wrapper around `new URL` to handle arbitrary URLs
    		 *
    		 * @param  {string} urlStr
    		 * @return {void}
    		 */
    		function parseURL(urlStr) {
    			/*
    		 	Check whether the URL is absolute or not
    		 		Scheme: https://tools.ietf.org/html/rfc3986#section-3.1
    		 	Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3
    		 */
    			if (/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(urlStr)) {
    				urlStr = new URL(urlStr).toString();
    			}

    			// Fallback to old implementation for arbitrary URLs
    			return parse_url(urlStr);
    		}

    		const streamDestructionSupported = 'destroy' in Stream.Readable.prototype;

    		/**
    		 * Check if a value is an instance of Request.
    		 *
    		 * @param   Mixed   input
    		 * @return  Boolean
    		 */
    		function isRequest(input) {
    			return typeof input === 'object' && typeof input[INTERNALS$2] === 'object';
    		}

    		function isAbortSignal(signal) {
    			const proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);
    			return !!(proto && proto.constructor.name === 'AbortSignal');
    		}

    		/**
    		 * Request class
    		 *
    		 * @param   Mixed   input  Url or Request instance
    		 * @param   Object  init   Custom options
    		 * @return  Void
    		 */
    		class Request {
    			constructor(input) {
    				let init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    				let parsedURL;

    				// normalize input
    				if (!isRequest(input)) {
    					if (input && input.href) {
    						// in order to support Node.js' Url objects; though WHATWG's URL objects
    						// will fall into this branch also (since their `toString()` will return
    						// `href` property anyway)
    						parsedURL = parseURL(input.href);
    					} else {
    						// coerce input to a string before attempting to parse
    						parsedURL = parseURL(`${input}`);
    					}
    					input = {};
    				} else {
    					parsedURL = parseURL(input.url);
    				}

    				let method = init.method || input.method || 'GET';
    				method = method.toUpperCase();

    				if ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {
    					throw new TypeError('Request with GET/HEAD method cannot have body');
    				}

    				let inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;

    				Body.call(this, inputBody, {
    					timeout: init.timeout || input.timeout || 0,
    					size: init.size || input.size || 0
    				});

    				const headers = new Headers(init.headers || input.headers || {});

    				if (inputBody != null && !headers.has('Content-Type')) {
    					const contentType = extractContentType(inputBody);
    					if (contentType) {
    						headers.append('Content-Type', contentType);
    					}
    				}

    				let signal = isRequest(input) ? input.signal : null;
    				if ('signal' in init) signal = init.signal;

    				if (signal != null && !isAbortSignal(signal)) {
    					throw new TypeError('Expected signal to be an instanceof AbortSignal');
    				}

    				this[INTERNALS$2] = {
    					method,
    					redirect: init.redirect || input.redirect || 'follow',
    					headers,
    					parsedURL,
    					signal
    				};

    				// node-fetch-only options
    				this.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;
    				this.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;
    				this.counter = init.counter || input.counter || 0;
    				this.agent = init.agent || input.agent;
    			}

    			get method() {
    				return this[INTERNALS$2].method;
    			}

    			get url() {
    				return format_url(this[INTERNALS$2].parsedURL);
    			}

    			get headers() {
    				return this[INTERNALS$2].headers;
    			}

    			get redirect() {
    				return this[INTERNALS$2].redirect;
    			}

    			get signal() {
    				return this[INTERNALS$2].signal;
    			}

    			/**
    		  * Clone this request
    		  *
    		  * @return  Request
    		  */
    			clone() {
    				return new Request(this);
    			}
    		}

    		Body.mixIn(Request.prototype);

    		Object.defineProperty(Request.prototype, Symbol.toStringTag, {
    			value: 'Request',
    			writable: false,
    			enumerable: false,
    			configurable: true
    		});

    		Object.defineProperties(Request.prototype, {
    			method: { enumerable: true },
    			url: { enumerable: true },
    			headers: { enumerable: true },
    			redirect: { enumerable: true },
    			clone: { enumerable: true },
    			signal: { enumerable: true }
    		});

    		/**
    		 * Convert a Request to Node.js http request options.
    		 *
    		 * @param   Request  A Request instance
    		 * @return  Object   The options object to be passed to http.request
    		 */
    		function getNodeRequestOptions(request) {
    			const parsedURL = request[INTERNALS$2].parsedURL;
    			const headers = new Headers(request[INTERNALS$2].headers);

    			// fetch step 1.3
    			if (!headers.has('Accept')) {
    				headers.set('Accept', '*/*');
    			}

    			// Basic fetch
    			if (!parsedURL.protocol || !parsedURL.hostname) {
    				throw new TypeError('Only absolute URLs are supported');
    			}

    			if (!/^https?:$/.test(parsedURL.protocol)) {
    				throw new TypeError('Only HTTP(S) protocols are supported');
    			}

    			if (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {
    				throw new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');
    			}

    			// HTTP-network-or-cache fetch steps 2.4-2.7
    			let contentLengthValue = null;
    			if (request.body == null && /^(POST|PUT)$/i.test(request.method)) {
    				contentLengthValue = '0';
    			}
    			if (request.body != null) {
    				const totalBytes = getTotalBytes(request);
    				if (typeof totalBytes === 'number') {
    					contentLengthValue = String(totalBytes);
    				}
    			}
    			if (contentLengthValue) {
    				headers.set('Content-Length', contentLengthValue);
    			}

    			// HTTP-network-or-cache fetch step 2.11
    			if (!headers.has('User-Agent')) {
    				headers.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');
    			}

    			// HTTP-network-or-cache fetch step 2.15
    			if (request.compress && !headers.has('Accept-Encoding')) {
    				headers.set('Accept-Encoding', 'gzip,deflate');
    			}

    			let agent = request.agent;
    			if (typeof agent === 'function') {
    				agent = agent(parsedURL);
    			}

    			// HTTP-network fetch step 4.2
    			// chunked encoding is handled by Node.js

    			return Object.assign({}, parsedURL, {
    				method: request.method,
    				headers: exportNodeCompatibleHeaders(headers),
    				agent
    			});
    		}

    		/**
    		 * abort-error.js
    		 *
    		 * AbortError interface for cancelled requests
    		 */

    		/**
    		 * Create AbortError instance
    		 *
    		 * @param   String      message      Error message for human
    		 * @return  AbortError
    		 */
    		function AbortError(message) {
    		  Error.call(this, message);

    		  this.type = 'aborted';
    		  this.message = message;

    		  // hide custom error implementation details from end-users
    		  Error.captureStackTrace(this, this.constructor);
    		}

    		AbortError.prototype = Object.create(Error.prototype);
    		AbortError.prototype.constructor = AbortError;
    		AbortError.prototype.name = 'AbortError';

    		const URL$1 = Url.URL || whatwgUrl.URL;

    		// fix an issue where "PassThrough", "resolve" aren't a named export for node <10
    		const PassThrough$1 = Stream.PassThrough;

    		const isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {
    			const orig = new URL$1(original).hostname;
    			const dest = new URL$1(destination).hostname;

    			return orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);
    		};

    		/**
    		 * isSameProtocol reports whether the two provided URLs use the same protocol.
    		 *
    		 * Both domains must already be in canonical form.
    		 * @param {string|URL} original
    		 * @param {string|URL} destination
    		 */
    		const isSameProtocol = function isSameProtocol(destination, original) {
    			const orig = new URL$1(original).protocol;
    			const dest = new URL$1(destination).protocol;

    			return orig === dest;
    		};

    		/**
    		 * Fetch function
    		 *
    		 * @param   Mixed    url   Absolute url or Request instance
    		 * @param   Object   opts  Fetch options
    		 * @return  Promise
    		 */
    		function fetch(url, opts) {

    			// allow custom promise
    			if (!fetch.Promise) {
    				throw new Error('native promise missing, set fetch.Promise to your favorite alternative');
    			}

    			Body.Promise = fetch.Promise;

    			// wrap http.request into fetch
    			return new fetch.Promise(function (resolve, reject) {
    				// build request object
    				const request = new Request(url, opts);
    				const options = getNodeRequestOptions(request);

    				const send = (options.protocol === 'https:' ? https : http).request;
    				const signal = request.signal;

    				let response = null;

    				const abort = function abort() {
    					let error = new AbortError('The user aborted a request.');
    					reject(error);
    					if (request.body && request.body instanceof Stream.Readable) {
    						destroyStream(request.body, error);
    					}
    					if (!response || !response.body) return;
    					response.body.emit('error', error);
    				};

    				if (signal && signal.aborted) {
    					abort();
    					return;
    				}

    				const abortAndFinalize = function abortAndFinalize() {
    					abort();
    					finalize();
    				};

    				// send request
    				const req = send(options);
    				let reqTimeout;

    				if (signal) {
    					signal.addEventListener('abort', abortAndFinalize);
    				}

    				function finalize() {
    					req.abort();
    					if (signal) signal.removeEventListener('abort', abortAndFinalize);
    					clearTimeout(reqTimeout);
    				}

    				if (request.timeout) {
    					req.once('socket', function (socket) {
    						reqTimeout = setTimeout(function () {
    							reject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));
    							finalize();
    						}, request.timeout);
    					});
    				}

    				req.on('error', function (err) {
    					reject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));

    					if (response && response.body) {
    						destroyStream(response.body, err);
    					}

    					finalize();
    				});

    				fixResponseChunkedTransferBadEnding(req, function (err) {
    					if (signal && signal.aborted) {
    						return;
    					}

    					if (response && response.body) {
    						destroyStream(response.body, err);
    					}
    				});

    				/* c8 ignore next 18 */
    				if (parseInt(process.version.substring(1)) < 14) {
    					// Before Node.js 14, pipeline() does not fully support async iterators and does not always
    					// properly handle when the socket close/end events are out of order.
    					req.on('socket', function (s) {
    						s.addListener('close', function (hadError) {
    							// if a data listener is still present we didn't end cleanly
    							const hasDataListener = s.listenerCount('data') > 0;

    							// if end happened before close but the socket didn't emit an error, do it now
    							if (response && hasDataListener && !hadError && !(signal && signal.aborted)) {
    								const err = new Error('Premature close');
    								err.code = 'ERR_STREAM_PREMATURE_CLOSE';
    								response.body.emit('error', err);
    							}
    						});
    					});
    				}

    				req.on('response', function (res) {
    					clearTimeout(reqTimeout);

    					const headers = createHeadersLenient(res.headers);

    					// HTTP fetch step 5
    					if (fetch.isRedirect(res.statusCode)) {
    						// HTTP fetch step 5.2
    						const location = headers.get('Location');

    						// HTTP fetch step 5.3
    						let locationURL = null;
    						try {
    							locationURL = location === null ? null : new URL$1(location, request.url).toString();
    						} catch (err) {
    							// error here can only be invalid URL in Location: header
    							// do not throw when options.redirect == manual
    							// let the user extract the errorneous redirect URL
    							if (request.redirect !== 'manual') {
    								reject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));
    								finalize();
    								return;
    							}
    						}

    						// HTTP fetch step 5.5
    						switch (request.redirect) {
    							case 'error':
    								reject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));
    								finalize();
    								return;
    							case 'manual':
    								// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.
    								if (locationURL !== null) {
    									// handle corrupted header
    									try {
    										headers.set('Location', locationURL);
    									} catch (err) {
    										// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request
    										reject(err);
    									}
    								}
    								break;
    							case 'follow':
    								// HTTP-redirect fetch step 2
    								if (locationURL === null) {
    									break;
    								}

    								// HTTP-redirect fetch step 5
    								if (request.counter >= request.follow) {
    									reject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));
    									finalize();
    									return;
    								}

    								// HTTP-redirect fetch step 6 (counter increment)
    								// Create a new Request object.
    								const requestOpts = {
    									headers: new Headers(request.headers),
    									follow: request.follow,
    									counter: request.counter + 1,
    									agent: request.agent,
    									compress: request.compress,
    									method: request.method,
    									body: request.body,
    									signal: request.signal,
    									timeout: request.timeout,
    									size: request.size
    								};

    								if (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {
    									for (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {
    										requestOpts.headers.delete(name);
    									}
    								}

    								// HTTP-redirect fetch step 9
    								if (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {
    									reject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));
    									finalize();
    									return;
    								}

    								// HTTP-redirect fetch step 11
    								if (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {
    									requestOpts.method = 'GET';
    									requestOpts.body = undefined;
    									requestOpts.headers.delete('content-length');
    								}

    								// HTTP-redirect fetch step 15
    								resolve(fetch(new Request(locationURL, requestOpts)));
    								finalize();
    								return;
    						}
    					}

    					// prepare response
    					res.once('end', function () {
    						if (signal) signal.removeEventListener('abort', abortAndFinalize);
    					});
    					let body = res.pipe(new PassThrough$1());

    					const response_options = {
    						url: request.url,
    						status: res.statusCode,
    						statusText: res.statusMessage,
    						headers: headers,
    						size: request.size,
    						timeout: request.timeout,
    						counter: request.counter
    					};

    					// HTTP-network fetch step 12.1.1.3
    					const codings = headers.get('Content-Encoding');

    					// HTTP-network fetch step 12.1.1.4: handle content codings

    					// in following scenarios we ignore compression support
    					// 1. compression support is disabled
    					// 2. HEAD request
    					// 3. no Content-Encoding header
    					// 4. no content response (204)
    					// 5. content not modified response (304)
    					if (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {
    						response = new Response(body, response_options);
    						resolve(response);
    						return;
    					}

    					// For Node v6+
    					// Be less strict when decoding compressed responses, since sometimes
    					// servers send slightly invalid responses that are still accepted
    					// by common browsers.
    					// Always using Z_SYNC_FLUSH is what cURL does.
    					const zlibOptions = {
    						flush: zlib.Z_SYNC_FLUSH,
    						finishFlush: zlib.Z_SYNC_FLUSH
    					};

    					// for gzip
    					if (codings == 'gzip' || codings == 'x-gzip') {
    						body = body.pipe(zlib.createGunzip(zlibOptions));
    						response = new Response(body, response_options);
    						resolve(response);
    						return;
    					}

    					// for deflate
    					if (codings == 'deflate' || codings == 'x-deflate') {
    						// handle the infamous raw deflate response from old servers
    						// a hack for old IIS and Apache servers
    						const raw = res.pipe(new PassThrough$1());
    						raw.once('data', function (chunk) {
    							// see http://stackoverflow.com/questions/37519828
    							if ((chunk[0] & 0x0F) === 0x08) {
    								body = body.pipe(zlib.createInflate());
    							} else {
    								body = body.pipe(zlib.createInflateRaw());
    							}
    							response = new Response(body, response_options);
    							resolve(response);
    						});
    						raw.on('end', function () {
    							// some old IIS servers return zero-length OK deflate responses, so 'data' is never emitted.
    							if (!response) {
    								response = new Response(body, response_options);
    								resolve(response);
    							}
    						});
    						return;
    					}

    					// for br
    					if (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {
    						body = body.pipe(zlib.createBrotliDecompress());
    						response = new Response(body, response_options);
    						resolve(response);
    						return;
    					}

    					// otherwise, use response as-is
    					response = new Response(body, response_options);
    					resolve(response);
    				});

    				writeToStream(req, request);
    			});
    		}
    		function fixResponseChunkedTransferBadEnding(request, errorCallback) {
    			let socket;

    			request.on('socket', function (s) {
    				socket = s;
    			});

    			request.on('response', function (response) {
    				const headers = response.headers;

    				if (headers['transfer-encoding'] === 'chunked' && !headers['content-length']) {
    					response.once('close', function (hadError) {
    						// tests for socket presence, as in some situations the
    						// the 'socket' event is not triggered for the request
    						// (happens in deno), avoids `TypeError`
    						// if a data listener is still present we didn't end cleanly
    						const hasDataListener = socket && socket.listenerCount('data') > 0;

    						if (hasDataListener && !hadError) {
    							const err = new Error('Premature close');
    							err.code = 'ERR_STREAM_PREMATURE_CLOSE';
    							errorCallback(err);
    						}
    					});
    				}
    			});
    		}

    		function destroyStream(stream, err) {
    			if (stream.destroy) {
    				stream.destroy(err);
    			} else {
    				// node < 8
    				stream.emit('error', err);
    				stream.end();
    			}
    		}

    		/**
    		 * Redirect code matching
    		 *
    		 * @param   Number   code  Status code
    		 * @return  Boolean
    		 */
    		fetch.isRedirect = function (code) {
    			return code === 301 || code === 302 || code === 303 || code === 307 || code === 308;
    		};

    		// expose Promise
    		fetch.Promise = commonjsGlobal.Promise;

    		module.exports = exports = fetch;
    		Object.defineProperty(exports, "__esModule", { value: true });
    		exports.default = exports;
    		exports.Headers = Headers;
    		exports.Request = Request;
    		exports.Response = Response;
    		exports.FetchError = FetchError;
    		exports.AbortError = AbortError; 
    	} (lib$2, lib$2.exports));
    	return lib$2.exports;
    }

    var hasRequiredNodePonyfill;

    function requireNodePonyfill () {
    	if (hasRequiredNodePonyfill) return nodePonyfill.exports;
    	hasRequiredNodePonyfill = 1;
    	(function (module, exports) {
    		const nodeFetch = requireLib$1();
    		const realFetch = nodeFetch.default || nodeFetch;

    		const fetch = function (url, options) {
    		  // Support schemaless URIs on the server for parity with the browser.
    		  // Ex: //github.com/ -> https://github.com/
    		  if (/^\/\//.test(url)) {
    		    url = 'https:' + url;
    		  }
    		  return realFetch.call(this, url, options)
    		};

    		fetch.ponyfill = true;

    		module.exports = exports = fetch;
    		exports.fetch = fetch;
    		exports.Headers = nodeFetch.Headers;
    		exports.Request = nodeFetch.Request;
    		exports.Response = nodeFetch.Response;

    		// Needed for TypeScript consumers without esModuleInterop.
    		exports.default = fetch; 
    	} (nodePonyfill, nodePonyfill.exports));
    	return nodePonyfill.exports;
    }

    var nodePonyfillExports = requireNodePonyfill();
    var o$8 = /*@__PURE__*/getDefaultExportFromCjs(nodePonyfillExports);

    var P$6=Object.defineProperty,w$3=Object.defineProperties,E$5=Object.getOwnPropertyDescriptors,c$8=Object.getOwnPropertySymbols,L$4=Object.prototype.hasOwnProperty,O$3=Object.prototype.propertyIsEnumerable,l$3=(r,t,e)=>t in r?P$6(r,t,{enumerable:true,configurable:true,writable:true,value:e}):r[t]=e,p$6=(r,t)=>{for(var e in t||(t={}))L$4.call(t,e)&&l$3(r,e,t[e]);if(c$8)for(var e of c$8(t))O$3.call(t,e)&&l$3(r,e,t[e]);return r},v$5=(r,t)=>w$3(r,E$5(t));const j$2={Accept:"application/json","Content-Type":"application/json"},T$3="POST",d$4={headers:j$2,method:T$3},g$3=10;let f$7 = class f{constructor(t,e=false){if(this.url=t,this.disableProviderPing=e,this.events=new require$$0$3.EventEmitter,this.isAvailable=false,this.registering=false,!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e;}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e);}once(t,e){this.events.once(t,e);}off(t,e){this.events.off(t,e);}removeListener(t,e){this.events.removeListener(t,e);}async open(t=this.url){await this.register(t);}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose();}async send(t){this.isAvailable||await this.register();try{const e=safeJsonStringify(t),s=await(await o$8(this.url,v$5(p$6({},d$4),{body:e}))).json();this.onPayload({data:s});}catch(e){this.onError(t.id,e);}}async register(t=this.url){if(!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const e=this.events.getMaxListeners();return (this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((s,i)=>{this.events.once("register_error",n=>{this.resetMaxListeners(),i(n);}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));s();});})}this.url=t,this.registering=true;try{if(!this.disableProviderPing){const e=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await o$8(t,v$5(p$6({},d$4),{body:e}));}this.onOpen();}catch(e){const s=this.parseError(e);throw this.events.emit("register_error",s),this.onClose(),s}}onOpen(){this.isAvailable=true,this.registering=false,this.events.emit("open");}onClose(){this.isAvailable=false,this.registering=false,this.events.emit("close");}onPayload(t){if(typeof t.data>"u")return;const e=typeof t.data=="string"?safeJsonParse(t.data):t.data;this.events.emit("payload",e);}onError(t,e){const s=this.parseError(e),i=s.message||s.toString(),n=formatJsonRpcError(t,i);this.events.emit("payload",n);}parseError(t,e=this.url){return parseConnectionError(t,e,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>g$3&&this.events.setMaxListeners(g$3);}};

    const be$4="error",_t$4="wss://relay.walletconnect.org",Ct$3="wc",It$2="universal_provider",$e$2=`${Ct$3}@2:${It$2}:`,ye$4="https://rpc.walletconnect.org/v1/",w$2="generic",Ot$3=`${ye$4}bundler`,f$6={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var G$3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function At$3(){this.__data__=[],this.size=0;}var jt$4=At$3;function Ht$2(r,e){return r===e||r!==r&&e!==e}var z$3=Ht$2,Et$3=z$3;function St$5(r,e){for(var t=r.length;t--;)if(Et$3(r[t][0],e))return t;return  -1}var k$4=St$5,Nt$2=k$4,Tt$4=Array.prototype,Dt$3=Tt$4.splice;function qt$3(r){var e=this.__data__,t=Nt$2(e,r);if(t<0)return  false;var i=e.length-1;return t==i?e.pop():Dt$3.call(e,t,1),--this.size,true}var Rt$4=qt$3,xt$3=k$4;function Lt$4(r){var e=this.__data__,t=xt$3(e,r);return t<0?void 0:e[t][1]}var Ut$2=Lt$4,Ft$2=k$4;function Mt$4(r){return Ft$2(this.__data__,r)>-1}var Gt$4=Mt$4,zt$2=k$4;function kt$4(r,e){var t=this.__data__,i=zt$2(t,r);return i<0?(++this.size,t.push([r,e])):t[i][1]=e,this}var Bt$3=kt$4,Vt$4=jt$4,Jt$4=Rt$4,Kt$3=Ut$2,Wt$4=Gt$4,Xt$4=Bt$3;function _$2(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1]);}}_$2.prototype.clear=Vt$4,_$2.prototype.delete=Jt$4,_$2.prototype.get=Kt$3,_$2.prototype.has=Wt$4,_$2.prototype.set=Xt$4;var B$2=_$2,Yt$3=B$2;function Zt$2(){this.__data__=new Yt$3,this.size=0;}var Qt$4=Zt$2;function er$3(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}var tr$3=er$3;function rr$4(r){return this.__data__.get(r)}var ir$2=rr$4;function sr$3(r){return this.__data__.has(r)}var nr$4=sr$3,ar$3=typeof G$3=="object"&&G$3&&G$3.Object===Object&&G$3,we$4=ar$3,or$4=we$4,cr$3=typeof self=="object"&&self&&self.Object===Object&&self,hr$3=or$4||cr$3||Function("return this")(),C$3=hr$3,pr$2=C$3,ur$3=pr$2.Symbol,_e$4=ur$3,Ce$3=_e$4,Ie$3=Object.prototype,lr$3=Ie$3.hasOwnProperty,dr$3=Ie$3.toString,F$4=Ce$3?Ce$3.toStringTag:void 0;function vr$3(r){var e=lr$3.call(r,F$4),t=r[F$4];try{r[F$4]=void 0;var i=!0;}catch{}var s=dr$3.call(r);return i&&(e?r[F$4]=t:delete r[F$4]),s}var fr$3=vr$3,mr$3=Object.prototype,gr$2=mr$3.toString;function Pr$4(r){return gr$2.call(r)}var br$3=Pr$4,Oe$1=_e$4,$r$3=fr$3,yr$2=br$3,wr$3="[object Null]",_r$4="[object Undefined]",Ae$1=Oe$1?Oe$1.toStringTag:void 0;function Cr$4(r){return r==null?r===void 0?_r$4:wr$3:Ae$1&&Ae$1 in Object(r)?$r$3(r):yr$2(r)}var V$6=Cr$4;function Ir$4(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var $$4=Ir$4,Or$4=V$6,Ar$4=$$4,jr$3="[object AsyncFunction]",Hr$4="[object Function]",Er$2="[object GeneratorFunction]",Sr$4="[object Proxy]";function Nr$4(r){if(!Ar$4(r))return  false;var e=Or$4(r);return e==Hr$4||e==Er$2||e==jr$3||e==Sr$4}var te$3=Nr$4,Tr$4=C$3,Dr$4=Tr$4["__core-js_shared__"],qr$4=Dr$4,re$3=qr$4,je$4=function(){var r=/[^.]+$/.exec(re$3&&re$3.keys&&re$3.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function Rr$4(r){return !!je$4&&je$4 in r}var xr$2=Rr$4,Lr$4=Function.prototype,Ur$4=Lr$4.toString;function Fr$4(r){if(r!=null){try{return Ur$4.call(r)}catch{}try{return r+""}catch{}}return ""}var Mr$4=Fr$4,Gr$4=te$3,zr$4=xr$2,kr$4=$$4,Br$4=Mr$4,Vr$4=/[\\^$.*+?()[\]{}|]/g,Jr$4=/^\[object .+?Constructor\]$/,Kr$4=Function.prototype,Wr$4=Object.prototype,Xr$4=Kr$4.toString,Yr$4=Wr$4.hasOwnProperty,Zr$4=RegExp("^"+Xr$4.call(Yr$4).replace(Vr$4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qr$2(r){if(!kr$4(r)||zr$4(r))return  false;var e=Gr$4(r)?Zr$4:Jr$4;return e.test(Br$4(r))}var ei$2=Qr$2;function ti$1(r,e){return r?.[e]}var ri$3=ti$1,ii$1=ei$2,si$3=ri$3;function ni$3(r,e){var t=si$3(r,e);return ii$1(t)?t:void 0}var ie$3=ni$3,ai$2=ie$3,oi$3=C$3,ci$2=ai$2(oi$3,"Map"),He$3=ci$2,hi$2=ie$3,pi$2=hi$2(Object,"create"),J$3=pi$2,Ee$5=J$3;function ui$2(){this.__data__=Ee$5?Ee$5(null):{},this.size=0;}var li$3=ui$2;function di$2(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var vi$2=di$2,fi$2=J$3,mi$2="__lodash_hash_undefined__",gi$3=Object.prototype,Pi$3=gi$3.hasOwnProperty;function bi$2(r){var e=this.__data__;if(fi$2){var t=e[r];return t===mi$2?void 0:t}return Pi$3.call(e,r)?e[r]:void 0}var $i$3=bi$2,yi$3=J$3,wi$2=Object.prototype,_i$3=wi$2.hasOwnProperty;function Ci$3(r){var e=this.__data__;return yi$3?e[r]!==void 0:_i$3.call(e,r)}var Ii$2=Ci$3,Oi$2=J$3,Ai$2="__lodash_hash_undefined__";function ji$3(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Oi$2&&e===void 0?Ai$2:e,this}var Hi$2=ji$3,Ei$2=li$3,Si$2=vi$2,Ni$2=$i$3,Ti$3=Ii$2,Di$3=Hi$2;function I$3(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1]);}}I$3.prototype.clear=Ei$2,I$3.prototype.delete=Si$2,I$3.prototype.get=Ni$2,I$3.prototype.has=Ti$3,I$3.prototype.set=Di$3;var qi$3=I$3,Se$2=qi$3,Ri$3=B$2,xi$2=He$3;function Li$3(){this.size=0,this.__data__={hash:new Se$2,map:new(xi$2||Ri$3),string:new Se$2};}var Ui$3=Li$3;function Fi$3(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}var Mi$3=Fi$3,Gi$1=Mi$3;function zi$3(r,e){var t=r.__data__;return Gi$1(e)?t[typeof e=="string"?"string":"hash"]:t.map}var K$3=zi$3,ki$3=K$3;function Bi$2(r){var e=ki$3(this,r).delete(r);return this.size-=e?1:0,e}var Vi$3=Bi$2,Ji$1=K$3;function Ki$3(r){return Ji$1(this,r).get(r)}var Wi$1=Ki$3,Xi$1=K$3;function Yi$2(r){return Xi$1(this,r).has(r)}var Zi$2=Yi$2,Qi$1=K$3;function es$1(r,e){var t=Qi$1(this,r),i=t.size;return t.set(r,e),this.size+=t.size==i?0:1,this}var ts$2=es$1,rs$1=Ui$3,is$1=Vi$3,ss=Wi$1,ns$1=Zi$2,as=ts$2;function O$2(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1]);}}O$2.prototype.clear=rs$1,O$2.prototype.delete=is$1,O$2.prototype.get=ss,O$2.prototype.has=ns$1,O$2.prototype.set=as;var os$1=O$2,cs=B$2,hs$1=He$3,ps$2=os$1,us=200;function ls$1(r,e){var t=this.__data__;if(t instanceof cs){var i=t.__data__;if(!hs$1||i.length<us-1)return i.push([r,e]),this.size=++t.size,this;t=this.__data__=new ps$2(i);}return t.set(r,e),this.size=t.size,this}var ds$1=ls$1,vs$3=B$2,fs$1=Qt$4,ms$2=tr$3,gs$2=ir$2,Ps$2=nr$4,bs$3=ds$1;function A$3(r){var e=this.__data__=new vs$3(r);this.size=e.size;}A$3.prototype.clear=fs$1,A$3.prototype.delete=ms$2,A$3.prototype.get=gs$2,A$3.prototype.has=Ps$2,A$3.prototype.set=bs$3;var $s$2=A$3,ys$2=ie$3,ws$2=function(){try{var r=ys$2(Object,"defineProperty");return r({},"",{}),r}catch{}}(),Ne$1=ws$2,Te$2=Ne$1;function _s$2(r,e,t){e=="__proto__"&&Te$2?Te$2(r,e,{configurable:true,enumerable:true,value:t,writable:true}):r[e]=t;}var se$3=_s$2,Cs$3=se$3,Is$3=z$3;function Os$3(r,e,t){(t!==void 0&&!Is$3(r[e],t)||t===void 0&&!(e in r))&&Cs$3(r,e,t);}var De$3=Os$3;function As$3(r){return function(e,t,i){for(var s=-1,n=Object(e),a=i(e),o=a.length;o--;){var c=a[r?o:++s];if(t(n[c],c,n)===false)break}return e}}var js$2=As$3,Hs$2=js$2,Es$2=Hs$2(),Ss$2=Es$2,ne$2={exports:{}};(function(r,e){var t=C$3,i=e&&!e.nodeType&&e,s=i&&true&&r&&!r.nodeType&&r,n=s&&s.exports===i,a=n?t.Buffer:void 0,o=a?a.allocUnsafe:void 0;function c(u,l){if(l)return u.slice();var P=u.length,d=o?o(P):new u.constructor(P);return u.copy(d),d}r.exports=c;})(ne$2,ne$2.exports);var Ns$3=C$3,Ts$3=Ns$3.Uint8Array,Ds$3=Ts$3,qe$3=Ds$3;function qs$3(r){var e=new r.constructor(r.byteLength);return new qe$3(e).set(new qe$3(r)),e}var Rs$3=qs$3,xs$3=Rs$3;function Ls$3(r,e){var t=e?xs$3(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}var Us$2=Ls$3;function Fs$2(r,e){var t=-1,i=r.length;for(e||(e=Array(i));++t<i;)e[t]=r[t];return e}var Ms$2=Fs$2,Gs$2=$$4,Re$2=Object.create,zs$2=function(){function r(){}return function(e){if(!Gs$2(e))return {};if(Re$2)return Re$2(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),ks$2=zs$2;function Bs$2(r,e){return function(t){return r(e(t))}}var Vs$2=Bs$2,Js$2=Vs$2,Ks$2=Js$2(Object.getPrototypeOf,Object),xe$2=Ks$2,Ws$2=Object.prototype;function Xs$3(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||Ws$2;return r===t}var Le$4=Xs$3,Ys$2=ks$2,Zs$2=xe$2,Qs$3=Le$4;function en$6(r){return typeof r.constructor=="function"&&!Qs$3(r)?Ys$2(Zs$2(r)):{}}var tn$4=en$6;function rn$4(r){return r!=null&&typeof r=="object"}var M$3=rn$4,sn$4=V$6,nn$4=M$3,an$4="[object Arguments]";function on$4(r){return nn$4(r)&&sn$4(r)==an$4}var cn$4=on$4,Ue$3=cn$4,hn$3=M$3,Fe$4=Object.prototype,pn$3=Fe$4.hasOwnProperty,un$3=Fe$4.propertyIsEnumerable,ln$3=Ue$3(function(){return arguments}())?Ue$3:function(r){return hn$3(r)&&pn$3.call(r,"callee")&&!un$3.call(r,"callee")},Me$5=ln$3,dn$3=Array.isArray,Ge$5=dn$3,vn$2=9007199254740991;function fn$3(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=vn$2}var ze$4=fn$3,mn$3=te$3,gn$3=ze$4;function Pn$2(r){return r!=null&&gn$3(r.length)&&!mn$3(r)}var ae$2=Pn$2,bn$3=ae$2,$n$2=M$3;function yn$2(r){return $n$2(r)&&bn$3(r)}var wn$3=yn$2,W$2={exports:{}};function _n$3(){return  false}var Cn$2=_n$3;(function(r,e){var t=C$3,i=Cn$2,s=e&&!e.nodeType&&e,n=s&&true&&r&&!r.nodeType&&r,a=n&&n.exports===s,o=a?t.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||i;r.exports=u;})(W$2,W$2.exports);var In$2=V$6,On$1=xe$2,An$1=M$3,jn$2="[object Object]",Hn$1=Function.prototype,En$4=Object.prototype,ke$4=Hn$1.toString,Sn$1=En$4.hasOwnProperty,Nn$1=ke$4.call(Object);function Tn$2(r){if(!An$1(r)||In$2(r)!=jn$2)return  false;var e=On$1(r);if(e===null)return  true;var t=Sn$1.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&ke$4.call(t)==Nn$1}var Dn$2=Tn$2,qn$1=V$6,Rn$2=ze$4,xn$1=M$3,Ln$1="[object Arguments]",Un$1="[object Array]",Fn$2="[object Boolean]",Mn$2="[object Date]",Gn$3="[object Error]",zn$2="[object Function]",kn$2="[object Map]",Bn$1="[object Number]",Vn$2="[object Object]",Jn$3="[object RegExp]",Kn$2="[object Set]",Wn$3="[object String]",Xn$3="[object WeakMap]",Yn$2="[object ArrayBuffer]",Zn$2="[object DataView]",Qn$3="[object Float32Array]",ea="[object Float64Array]",ta="[object Int8Array]",ra="[object Int16Array]",ia="[object Int32Array]",sa="[object Uint8Array]",na="[object Uint8ClampedArray]",aa$1="[object Uint16Array]",oa="[object Uint32Array]",p$5={};p$5[Qn$3]=p$5[ea]=p$5[ta]=p$5[ra]=p$5[ia]=p$5[sa]=p$5[na]=p$5[aa$1]=p$5[oa]=true,p$5[Ln$1]=p$5[Un$1]=p$5[Yn$2]=p$5[Fn$2]=p$5[Zn$2]=p$5[Mn$2]=p$5[Gn$3]=p$5[zn$2]=p$5[kn$2]=p$5[Bn$1]=p$5[Vn$2]=p$5[Jn$3]=p$5[Kn$2]=p$5[Wn$3]=p$5[Xn$3]=false;function ca$1(r){return xn$1(r)&&Rn$2(r.length)&&!!p$5[qn$1(r)]}var ha$1=ca$1;function pa$1(r){return function(e){return r(e)}}var ua$1=pa$1,oe$2={exports:{}};(function(r,e){var t=we$4,i=e&&!e.nodeType&&e,s=i&&true&&r&&!r.nodeType&&r,n=s&&s.exports===i,a=n&&t.process,o=function(){try{var c=s&&s.require&&s.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();r.exports=o;})(oe$2,oe$2.exports);var la$1=ha$1,da$1=ua$1,Be$2=oe$2.exports,Ve$3=Be$2&&Be$2.isTypedArray,va$1=Ve$3?da$1(Ve$3):la$1,Je$4=va$1;function fa$1(r,e){if(!(e==="constructor"&&typeof r[e]=="function")&&e!="__proto__")return r[e]}var Ke$6=fa$1,ma$1=se$3,ga$1=z$3,Pa=Object.prototype,ba$1=Pa.hasOwnProperty;function $a(r,e,t){var i=r[e];(!(ba$1.call(r,e)&&ga$1(i,t))||t===void 0&&!(e in r))&&ma$1(r,e,t);}var ya$1=$a,wa$1=ya$1,_a=se$3;function Ca(r,e,t,i){var s=!t;t||(t={});for(var n=-1,a=e.length;++n<a;){var o=e[n],c=i?i(t[o],r[o],o,t,r):void 0;c===void 0&&(c=r[o]),s?_a(t,o,c):wa$1(t,o,c);}return t}var Ia$1=Ca;function Oa$1(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}var Aa$1=Oa$1,ja=9007199254740991,Ha=/^(?:0|[1-9]\d*)$/;function Ea$1(r,e){var t=typeof r;return e=e??ja,!!e&&(t=="number"||t!="symbol"&&Ha.test(r))&&r>-1&&r%1==0&&r<e}var We$4=Ea$1,Sa$1=Aa$1,Na$1=Me$5,Ta=Ge$5,Da=W$2.exports,qa=We$4,Ra=Je$4,xa$1=Object.prototype,La=xa$1.hasOwnProperty;function Ua$1(r,e){var t=Ta(r),i=!t&&Na$1(r),s=!t&&!i&&Da(r),n=!t&&!i&&!s&&Ra(r),a=t||i||s||n,o=a?Sa$1(r.length,String):[],c=o.length;for(var u in r)(e||La.call(r,u))&&!(a&&(u=="length"||s&&(u=="offset"||u=="parent")||n&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qa(u,c)))&&o.push(u);return o}var Fa=Ua$1;function Ma(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}var Ga=Ma,za=$$4,ka=Le$4,Ba$1=Ga,Va=Object.prototype,Ja=Va.hasOwnProperty;function Ka(r){if(!za(r))return Ba$1(r);var e=ka(r),t=[];for(var i in r)i=="constructor"&&(e||!Ja.call(r,i))||t.push(i);return t}var Wa=Ka,Xa=Fa,Ya=Wa,Za=ae$2;function Qa(r){return Za(r)?Xa(r,true):Ya(r)}var Xe$4=Qa,eo$2=Ia$1,to$3=Xe$4;function ro$2(r){return eo$2(r,to$3(r))}var io$2=ro$2,Ye$3=De$3,so$2=ne$2.exports,no$2=Us$2,ao$2=Ms$2,oo$2=tn$4,Ze$4=Me$5,Qe$4=Ge$5,co$2=wn$3,ho$2=W$2.exports,po$2=te$3,uo$2=$$4,lo$1=Dn$2,vo$2=Je$4,et$3=Ke$6,fo$1=io$2;function mo$2(r,e,t,i,s,n,a){var o=et$3(r,t),c=et$3(e,t),u=a.get(c);if(u){Ye$3(r,t,u);return}var l=n?n(o,c,t+"",r,e,a):void 0,P=l===void 0;if(P){var d=Qe$4(c),Q=!d&&ho$2(c),ve=!d&&!Q&&vo$2(c);l=c,d||Q||ve?Qe$4(o)?l=o:co$2(o)?l=ao$2(o):Q?(P=false,l=so$2(c,true)):ve?(P=false,l=no$2(c,true)):l=[]:lo$1(c)||Ze$4(c)?(l=o,Ze$4(o)?l=fo$1(o):(!uo$2(o)||po$2(o))&&(l=oo$2(c))):P=false;}P&&(a.set(c,l),s(l,c,i,n,a),a.delete(c)),Ye$3(r,t,l);}var go$2=mo$2,Po$1=$s$2,bo$2=De$3,$o$2=Ss$2,yo$2=go$2,wo$2=$$4,_o$2=Xe$4,Co$1=Ke$6;function tt$3(r,e,t,i,s){r!==e&&$o$2(e,function(n,a){if(s||(s=new Po$1),wo$2(n))yo$2(r,e,a,t,tt$3,i,s);else {var o=i?i(Co$1(r,a),n,a+"",r,e,s):void 0;o===void 0&&(o=n),bo$2(r,a,o);}},_o$2);}var Io$2=tt$3;function Oo$2(r){return r}var rt$1=Oo$2;function Ao$2(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}var jo$1=Ao$2,Ho$1=jo$1,it$1=Math.max;function Eo$2(r,e,t){return e=it$1(e===void 0?r.length-1:e,0),function(){for(var i=arguments,s=-1,n=it$1(i.length-e,0),a=Array(n);++s<n;)a[s]=i[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=i[s];return o[e]=t(a),Ho$1(r,this,o)}}var So$2=Eo$2;function No$2(r){return function(){return r}}var To$2=No$2,Do$1=To$2,st$3=Ne$1,qo$1=rt$1,Ro$2=st$3?function(r,e){return st$3(r,"toString",{configurable:true,enumerable:false,value:Do$1(e),writable:true})}:qo$1,xo$2=Ro$2,Lo$2=800,Uo$2=16,Fo$1=Date.now;function Mo$1(r){var e=0,t=0;return function(){var i=Fo$1(),s=Uo$2-(i-t);if(t=i,s>0){if(++e>=Lo$2)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}var Go$2=Mo$1,zo$1=xo$2,ko$1=Go$2,Bo$2=ko$1(zo$1),Vo$1=Bo$2,Jo$2=rt$1,Ko$1=So$2,Wo$2=Vo$1;function Xo$1(r,e){return Wo$2(Ko$1(r,e,Jo$2),r+"")}var Yo$2=Xo$1,Zo$1=z$3,Qo=ae$2,ec$2=We$4,tc$2=$$4;function rc$2(r,e,t){if(!tc$2(t))return  false;var i=typeof e;return (i=="number"?Qo(t)&&ec$2(e,t.length):i=="string"&&e in t)?Zo$1(t[e],r):false}var ic$2=rc$2,sc$2=Yo$2,nc$2=ic$2;function ac$2(r){return sc$2(function(e,t){var i=-1,s=t.length,n=s>1?t[s-1]:void 0,a=s>2?t[2]:void 0;for(n=r.length>3&&typeof n=="function"?(s--,n):void 0,a&&nc$2(t[0],t[1],a)&&(n=s<3?void 0:n,s=1),e=Object(e);++i<s;){var o=t[i];o&&r(e,o,i,n);}return e})}var oc$2=ac$2,cc$2=Io$2,hc$2=oc$2,pc$2=hc$2(function(r,e,t){cc$2(r,e,t);}),uc$2=pc$2,lc$2=Object.defineProperty,dc$2=Object.defineProperties,vc$2=Object.getOwnPropertyDescriptors,nt$2=Object.getOwnPropertySymbols,fc$2=Object.prototype.hasOwnProperty,mc$2=Object.prototype.propertyIsEnumerable,at$2=(r,e,t)=>e in r?lc$2(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,X$3=(r,e)=>{for(var t in e||(e={}))fc$2.call(e,t)&&at$2(r,t,e[t]);if(nt$2)for(var t of nt$2(e))mc$2.call(e,t)&&at$2(r,t,e[t]);return r},gc$2=(r,e)=>dc$2(r,vc$2(e));function v$4(r,e,t){var i;const s=Ye$4(r);return ((i=e.rpcMap)==null?void 0:i[s.reference])||`${ye$4}?chainId=${s.namespace}:${s.reference}&projectId=${t}`}function y$6(r){return r.includes(":")?r.split(":")[1]:r}function ot$3(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Pc$1(r,e){const t=Object.keys(e.namespaces).filter(s=>s.includes(r));if(!t.length)return [];const i=[];return t.forEach(s=>{const n=e.namespaces[s].accounts;i.push(...n);}),i}function ce$3(r={},e={}){const t=ct$2(r),i=ct$2(e);return uc$2(t,i)}function ct$2(r){var e,t,i,s;const n={};if(!qe$5(r))return n;for(const[a,o]of Object.entries(r)){const c=Tt$6(a)?[a]:o.chains,u=o.methods||[],l=o.events||[],P=o.rpcMap||{},d=pr$4(a);n[d]=gc$2(X$3(X$3({},n[d]),o),{chains:Q$2(c,(e=n[d])==null?void 0:e.chains),methods:Q$2(u,(t=n[d])==null?void 0:t.methods),events:Q$2(l,(i=n[d])==null?void 0:i.events),rpcMap:X$3(X$3({},P),(s=n[d])==null?void 0:s.rpcMap)});}return n}function bc$2(r){return r.includes(":")?r.split(":")[2]:r}function ht$3(r){const e={};for(const[t,i]of Object.entries(r)){const s=i.methods||[],n=i.events||[],a=i.accounts||[],o=Tt$6(t)?[t]:i.chains?i.chains:ot$3(i.accounts);e[t]={chains:o,methods:s,events:n,accounts:a};}return e}function he$4(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const pt$3={},h$8=r=>pt$3[r],pe$4=(r,e)=>{pt$3[r]=e;};var $c$1=Object.defineProperty,yc$2=(r,e,t)=>e in r?$c$1(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,j$1=(r,e,t)=>yc$2(r,typeof e!="symbol"?e+"":e,t);let wc$2 = class wc{constructor(e){j$1(this,"name","polkadot"),j$1(this,"client"),j$1(this,"httpProviders"),j$1(this,"events"),j$1(this,"namespace"),j$1(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`);}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const s=y$6(t);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[t]);}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||v$4(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new o$9(new f$7(i,h$8("disableProviderPing")))}};var _c$1=Object.defineProperty,Cc$1=Object.defineProperties,Ic$2=Object.getOwnPropertyDescriptors,ut$5=Object.getOwnPropertySymbols,Oc$2=Object.prototype.hasOwnProperty,Ac$2=Object.prototype.propertyIsEnumerable,ue$4=(r,e,t)=>e in r?_c$1(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,lt$3=(r,e)=>{for(var t in e||(e={}))Oc$2.call(e,t)&&ue$4(r,t,e[t]);if(ut$5)for(var t of ut$5(e))Ac$2.call(e,t)&&ue$4(r,t,e[t]);return r},dt$4=(r,e)=>Cc$1(r,Ic$2(e)),H$4=(r,e,t)=>ue$4(r,typeof e!="symbol"?e+"":e,t);let jc$1 = class jc{constructor(e){H$4(this,"name","eip155"),H$4(this,"client"),H$4(this,"chainId"),H$4(this,"namespace"),H$4(this,"httpProviders"),H$4(this,"events"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain());}async request(e){switch(e.request.method){case "eth_requestAccounts":return this.getAccounts();case "eth_accounts":return this.getAccounts();case "wallet_switchEthereumChain":return await this.handleSwitchChain(e);case "eth_chainId":return parseInt(this.getDefaultChain());case "wallet_getCapabilities":return await this.getCapabilities(e);case "wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const i=t||v$4(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new o$9(new f$7(i,h$8("disableProviderPing")))}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const s=parseInt(y$6(t));e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[t]);}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,i;let s=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const n=parseInt(s,16);if(this.isChainApproved(n))this.setDefaultChain(`${n}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${n}`);else throw new Error(`Failed to switch to chain 'eip155:${n}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,i,s;const n=(i=(t=e.request)==null?void 0:t.params)==null?void 0:i[0];if(!n)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const a=this.client.session.get(e.topic),o=((s=a?.sessionProperties)==null?void 0:s.capabilities)||{};if(o!=null&&o[n])return o?.[n];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:dt$4(lt$3({},a.sessionProperties||{}),{capabilities:dt$4(lt$3({},o||{}),{[n]:c})})});}catch(u){console.warn("Failed to update session with capabilities",u);}return c}async getCallStatus(e){var t,i;const s=this.client.session.get(e.topic),n=(t=s.sessionProperties)==null?void 0:t.bundler_name;if(n){const o=this.getBundlerUrl(e.chainId,n);try{return await this.getUserOperationReceipt(o,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,o);}}const a=(i=s.sessionProperties)==null?void 0:i.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(o){console.warn("Failed to fetch call status from custom bundler",o,a);}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var i;const s=new URL(e),n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formatJsonRpcRequest("eth_getUserOperationReceipt",[(i=t.request.params)==null?void 0:i[0]]))});if(!n.ok)throw new Error(`Failed to fetch user operation receipt - ${n.status}`);return await n.json()}getBundlerUrl(e,t){return `${Ot$3}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}};var Hc$1=Object.defineProperty,Ec$2=(r,e,t)=>e in r?Hc$1(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,E$4=(r,e,t)=>Ec$2(r,typeof e!="symbol"?e+"":e,t);let Sc$2 = class Sc{constructor(e){E$4(this,"name","solana"),E$4(this,"client"),E$4(this,"httpProviders"),E$4(this,"events"),E$4(this,"namespace"),E$4(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const s=y$6(t);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[t]);}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||v$4(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new o$9(new f$7(i,h$8("disableProviderPing")))}};var Nc$2=Object.defineProperty,Tc$2=(r,e,t)=>e in r?Nc$2(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,S$5=(r,e,t)=>Tc$2(r,typeof e!="symbol"?e+"":e,t);let Dc$1 = class Dc{constructor(e){S$5(this,"name","cosmos"),S$5(this,"client"),S$5(this,"httpProviders"),S$5(this,"events"),S$5(this,"namespace"),S$5(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const s=y$6(t);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[t]);}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||v$4(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new o$9(new f$7(i,h$8("disableProviderPing")))}};var qc$1=Object.defineProperty,Rc$2=(r,e,t)=>e in r?qc$1(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,N$3=(r,e,t)=>Rc$2(r,typeof e!="symbol"?e+"":e,t);let xc$2 = class xc{constructor(e){N$3(this,"name","algorand"),N$3(this,"client"),N$3(this,"httpProviders"),N$3(this,"events"),N$3(this,"namespace"),N$3(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const i=t||v$4(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i);}this.chainId=e,this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t]);}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||v$4(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new o$9(new f$7(i,h$8("disableProviderPing")))}};var Lc$1=Object.defineProperty,Uc$2=(r,e,t)=>e in r?Lc$1(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,T$2=(r,e,t)=>Uc$2(r,typeof e!="symbol"?e+"":e,t);let Fc$1 = class Fc{constructor(e){T$2(this,"name","cip34"),T$2(this,"client"),T$2(this,"httpProviders"),T$2(this,"events"),T$2(this,"namespace"),T$2(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const i=this.getCardanoRPCUrl(t),s=y$6(t);e[s]=this.createHttpProvider(s,i);}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new o$9(new f$7(i,h$8("disableProviderPing")))}};var Mc$1=Object.defineProperty,Gc$1=(r,e,t)=>e in r?Mc$1(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,D$1=(r,e,t)=>Gc$1(r,typeof e!="symbol"?e+"":e,t);let zc$1 = class zc{constructor(e){D$1(this,"name","elrond"),D$1(this,"client"),D$1(this,"httpProviders"),D$1(this,"events"),D$1(this,"namespace"),D$1(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const s=y$6(t);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[t]);}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||v$4(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new o$9(new f$7(i,h$8("disableProviderPing")))}};var kc$1=Object.defineProperty,Bc$2=(r,e,t)=>e in r?kc$1(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,q$2=(r,e,t)=>Bc$2(r,typeof e!="symbol"?e+"":e,t);let Vc$1 = class Vc{constructor(e){q$2(this,"name","multiversx"),q$2(this,"client"),q$2(this,"httpProviders"),q$2(this,"events"),q$2(this,"namespace"),q$2(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const s=y$6(t);e[s]=this.createHttpProvider(s,(i=this.namespace.rpcMap)==null?void 0:i[t]);}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||v$4(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new o$9(new f$7(i,h$8("disableProviderPing")))}};var Jc=Object.defineProperty,Kc$1=(r,e,t)=>e in r?Jc(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,R$3=(r,e,t)=>Kc$1(r,typeof e!="symbol"?e+"":e,t);let Wc$1 = class Wc{constructor(e){R$3(this,"name","near"),R$3(this,"client"),R$3(this,"httpProviders"),R$3(this,"events"),R$3(this,"namespace"),R$3(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||v$4(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i);}this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t]);}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||v$4(e,this.namespace);return typeof i>"u"?void 0:new o$9(new f$7(i,h$8("disableProviderPing")))}};var Xc$1=Object.defineProperty,Yc$1=(r,e,t)=>e in r?Xc$1(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,x$3=(r,e,t)=>Yc$1(r,typeof e!="symbol"?e+"":e,t);let Zc$1 = class Zc{constructor(e){x$3(this,"name","tezos"),x$3(this,"client"),x$3(this,"httpProviders"),x$3(this,"events"),x$3(this,"namespace"),x$3(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace=Object.assign(this.namespace,e);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||v$4(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i);}this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t);}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||v$4(e,this.namespace);return typeof i>"u"?void 0:new o$9(new f$7(i))}};var Qc=Object.defineProperty,eh=(r,e,t)=>e in r?Qc(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,L$3=(r,e,t)=>eh(r,typeof e!="symbol"?e+"":e,t);class th{constructor(e){L$3(this,"name",w$2),L$3(this,"client"),L$3(this,"httpProviders"),L$3(this,"events"),L$3(this,"namespace"),L$3(this,"chainId"),this.namespace=e.namespace,this.events=h$8("events"),this.client=h$8("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders();}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(f$6.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){var e,t;const i={};return (t=(e=this.namespace)==null?void 0:e.accounts)==null||t.forEach(s=>{const n=Ye$4(s);i[`${n.namespace}:${n.reference}`]=this.createHttpProvider(s);}),i}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i);}createHttpProvider(e,t){const i=t||v$4(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new o$9(new f$7(i,h$8("disableProviderPing")))}}var rh=Object.defineProperty,ih=Object.defineProperties,sh=Object.getOwnPropertyDescriptors,vt$1=Object.getOwnPropertySymbols,nh=Object.prototype.hasOwnProperty,ah=Object.prototype.propertyIsEnumerable,le$3=(r,e,t)=>e in r?rh(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,Y$2=(r,e)=>{for(var t in e||(e={}))nh.call(e,t)&&le$3(r,t,e[t]);if(vt$1)for(var t of vt$1(e))ah.call(e,t)&&le$3(r,t,e[t]);return r},de$4=(r,e)=>ih(r,sh(e)),g$2=(r,e,t)=>le$3(r,typeof e!="symbol"?e+"":e,t);class Z{constructor(e){g$2(this,"client"),g$2(this,"namespaces"),g$2(this,"optionalNamespaces"),g$2(this,"sessionProperties"),g$2(this,"events",new require$$0$3),g$2(this,"rpcProviders",{}),g$2(this,"session"),g$2(this,"providerOpts"),g$2(this,"logger"),g$2(this,"uri"),g$2(this,"disableProviderPing",false),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Ot$7(k$7({level:e?.logger||be$4})),this.disableProviderPing=e?.disableProviderPing||false;}static async init(e){const t=new Z(e);return await t.initialize(),t}async request(e,t,i){const[s,n]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Y$2({},e),chainId:`${s}:${n}`,topic:this.session.topic,expiry:i})}sendAsync(e,t,i,s){const n=new Date().getTime();this.request(e,i,s).then(a=>t(null,formatJsonRpcResult(n,a))).catch(a=>t(a,void 0));}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:de$6("USER_DISCONNECTED")}),await this.cleanup();}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:s}=await this.client.authenticate(e,t);i&&(this.uri=i,this.events.emit("display_uri",i));const n=await s();if(this.session=n.session,this.session){const a=ht$3(this.session.namespaces);this.namespaces=ce$3(this.namespaces,a),this.persist("namespaces",this.namespaces),this.onConnect();}return n}on(e,t){this.events.on(e,t);}once(e,t){this.events.once(e,t);}removeListener(e,t){this.events.removeListener(e,t);}off(e,t){this.events.off(e,t);}get isWalletConnect(){return  true}async pair(e){const{uri:t,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const s=await i();this.session=s;const n=ht$3(s.namespaces);return this.namespaces=ce$3(this.namespaces,n),this.persist("namespaces",this.namespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[i,s]=this.validateChain(e),n=this.getProvider(i);n.name===w$2?n.setDefaultChain(`${i}:${s}`,t):n.setDefaultChain(s,t);}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if($e$5(t)){for(const i of t)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`);}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.");}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders();}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners();}async createClient(){this.client=this.providerOpts.client||await Se$3.init({core:this.providerOpts.core,logger:this.providerOpts.logger||be$4,relayUrl:this.providerOpts.relayUrl||_t$4,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized");}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>pr$4(t)))];pe$4("client",this.client),pe$4("events",this.events),pe$4("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const i=Pc$1(t,this.session),s=ot$3(i),n=ce$3(this.namespaces,this.optionalNamespaces),a=de$4(Y$2({},n[t]),{accounts:i,chains:s});switch(t){case "eip155":this.rpcProviders[t]=new jc$1({namespace:a});break;case "algorand":this.rpcProviders[t]=new xc$2({namespace:a});break;case "solana":this.rpcProviders[t]=new Sc$2({namespace:a});break;case "cosmos":this.rpcProviders[t]=new Dc$1({namespace:a});break;case "polkadot":this.rpcProviders[t]=new wc$2({namespace:a});break;case "cip34":this.rpcProviders[t]=new Fc$1({namespace:a});break;case "elrond":this.rpcProviders[t]=new zc$1({namespace:a});break;case "multiversx":this.rpcProviders[t]=new Vc$1({namespace:a});break;case "near":this.rpcProviders[t]=new Wc$1({namespace:a});break;case "tezos":this.rpcProviders[t]=new Zc$1({namespace:a});break;default:this.rpcProviders[w$2]?this.rpcProviders[w$2].updateNamespace(a):this.rpcProviders[w$2]=new th({namespace:a});}});}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e);}),this.client.on("session_event",e=>{const{params:t}=e,{event:i}=t;if(i.name==="accountsChanged"){const s=i.data;s&&$e$5(s)&&this.events.emit("accountsChanged",s.map(bc$2));}else if(i.name==="chainChanged"){const s=t.chainId,n=t.event.data,a=pr$4(s),o=he$4(s)!==he$4(n)?`${a}:${he$4(n)}`:s;this.onChainChanged(o);}else this.events.emit(i.name,i.data);this.events.emit("session_event",e);}),this.client.on("session_update",({topic:e,params:t})=>{var i;const{namespaces:s}=t,n=(i=this.client)==null?void 0:i.session.get(e);this.session=de$4(Y$2({},n),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t});}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",de$4(Y$2({},de$6("USER_DISCONNECTED")),{data:e.topic}));}),this.on(f$6.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,true);});}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[w$2]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e]);});}setNamespaces(e){const{namespaces:t,optionalNamespaces:i,sessionProperties:s}=e;t&&Object.keys(t).length&&(this.namespaces=t),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=s,this.persist("namespaces",t),this.persist("optionalNamespaces",i);}validateChain(e){const[t,i]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return [t,i];if(t&&!Object.keys(this.namespaces||{}).map(a=>pr$4(a)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&i)return [t,i];const s=pr$4(Object.keys(this.namespaces)[0]),n=this.rpcProviders[s].getDefaultChain();return [s,n]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=false){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(t||this.getProvider(i).setDefaultChain(s),this.namespaces[i]?this.namespaces[i].defaultChain=s:this.namespaces[`${i}:${s}`]?this.namespaces[`${i}:${s}`].defaultChain=s:this.namespaces[`${i}:${s}`]={defaultChain:s},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",s));}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session});}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:true});}persist(e,t){this.client.core.storage.setItem(`${$e$2}/${e}`,t);}async getFromStore(e){return await this.client.core.storage.getItem(`${$e$2}/${e}`)}}const oh=Z;

    var dayjs_min$1 = {exports: {}};

    var dayjs_min = dayjs_min$1.exports;

    var hasRequiredDayjs_min;

    function requireDayjs_min () {
    	if (hasRequiredDayjs_min) return dayjs_min$1.exports;
    	hasRequiredDayjs_min = 1;
    	(function (module, exports) {
    		!function(t,e){module.exports=e();}(dayjs_min,(function(){var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",u="hour",a="day",o="week",c="month",f="quarter",h="year",d="date",l="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return "["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return !r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return (e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return -t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return +(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return {M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",D={};D[g]=M;var p="$isDayjsObject",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split("-");if(!i&&u.length>1)return t(u[0])}else {var a=e.name;D[a]=e,i=a;}return !r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,true),this.parse(t),this.$x=this.$x||t.x||{},this[p]=true;}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init();},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds();},m.$utils=function(){return b},m.isValid=function(){return !(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+"Hours",0);case u:return $(v+"Minutes",1);case s:return $(v+"Seconds",2);case i:return $(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,false)},m.$set=function(t,e){var n,o=b.p(t),f="set"+(this.$u?"UTC":""),l=(n={},n[a]=f+"Date",n[d]=f+"Date",n[c]=f+"Month",n[h]=f+"FullYear",n[u]=f+"Hours",n[s]=f+"Minutes",n[i]=f+"Seconds",n[r]=f+"Milliseconds",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d;}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,"0")},$=f||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case "YY":return String(e.$y).slice(-2);case "YYYY":return b.s(e.$y,4,"0");case "M":return a+1;case "MM":return b.s(a+1,2,"0");case "MMM":return h(n.monthsShort,a,c,3);case "MMMM":return h(c,a);case "D":return e.$D;case "DD":return b.s(e.$D,2,"0");case "d":return String(e.$W);case "dd":return h(n.weekdaysMin,e.$W,o,2);case "ddd":return h(n.weekdaysShort,e.$W,o,3);case "dddd":return o[e.$W];case "H":return String(s);case "HH":return b.s(s,2,"0");case "h":return d(1);case "hh":return d(2);case "a":return $(s,u,true);case "A":return $(s,u,false);case "m":return String(u);case "mm":return b.s(u,2,"0");case "s":return String(e.$s);case "ss":return b.s(e.$s,2,"0");case "SSS":return b.s(e.$ms,3,"0");case "Z":return i}return null}(t)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g;}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,true);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[["$ms",r],["$s",i],["$m",s],["$H",u],["$W",a],["$M",c],["$y",h],["$D",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])};})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=true),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O})); 
    	} (dayjs_min$1));
    	return dayjs_min$1.exports;
    }

    var dayjs_minExports = requireDayjs_min();
    var dayjs = /*@__PURE__*/getDefaultExportFromCjs(dayjs_minExports);

    var en$5 = {exports: {}};

    var en$4 = en$5.exports;

    var hasRequiredEn;

    function requireEn () {
    	if (hasRequiredEn) return en$5.exports;
    	hasRequiredEn = 1;
    	(function (module, exports) {
    		!function(e,n){module.exports=n();}(en$4,(function(){return {name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var n=["th","st","nd","rd"],t=e%100;return "["+e+(n[(t-20)%10]||n[t]||n[0])+"]"}}})); 
    	} (en$5));
    	return en$5.exports;
    }

    var enExports = requireEn();
    var englishLocale = /*@__PURE__*/getDefaultExportFromCjs(enExports);

    var relativeTime$2 = {exports: {}};

    var relativeTime$1 = relativeTime$2.exports;

    var hasRequiredRelativeTime;

    function requireRelativeTime () {
    	if (hasRequiredRelativeTime) return relativeTime$2.exports;
    	hasRequiredRelativeTime = 1;
    	(function (module, exports) {
    		!function(r,e){module.exports=e();}(relativeTime$1,(function(){return function(r,e,t){r=r||{};var n=e.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,true):i.diff(e,y.d,true));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(""+p)),a="string"==typeof v?v.replace("%d",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return "function"==typeof M?M(a):M.replace("%s",a)},n.to=function(r,e){return i(r,e,this,true)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)};}})); 
    	} (relativeTime$2));
    	return relativeTime$2.exports;
    }

    var relativeTimeExports = requireRelativeTime();
    var relativeTime = /*@__PURE__*/getDefaultExportFromCjs(relativeTimeExports);

    var updateLocale$2 = {exports: {}};

    var updateLocale$1 = updateLocale$2.exports;

    var hasRequiredUpdateLocale;

    function requireUpdateLocale () {
    	if (hasRequiredUpdateLocale) return updateLocale$2.exports;
    	hasRequiredUpdateLocale = 1;
    	(function (module, exports) {
    		!function(e,n){module.exports=n();}(updateLocale$1,(function(){return function(e,n,t){t.updateLocale=function(e,n){var o=t.Ls[e];if(o)return (n?Object.keys(n):[]).forEach((function(e){o[e]=n[e];})),o};}})); 
    	} (updateLocale$2));
    	return updateLocale$2.exports;
    }

    var updateLocaleExports = requireUpdateLocale();
    var updateLocale = /*@__PURE__*/getDefaultExportFromCjs(updateLocaleExports);

    dayjs.extend(relativeTime);
    dayjs.extend(updateLocale);
    const localeObject = {
        ...englishLocale,
        name: 'en-web3-modal',
        relativeTime: {
            future: 'in %s',
            past: '%s ago',
            s: '%d sec',
            m: '1 min',
            mm: '%d min',
            h: '1 hr',
            hh: '%d hrs',
            d: '1 d',
            dd: '%d d',
            M: '1 mo',
            MM: '%d mo',
            y: '1 yr',
            yy: '%d yr'
        }
    };
    dayjs.locale('en-web3-modal', localeObject);

    const NetworkUtil = {
        caipNetworkIdToNumber(caipnetworkId) {
            return caipnetworkId ? Number(caipnetworkId.split(':')[1]) : undefined;
        },
        parseEvmChainId(chainId) {
            return typeof chainId === 'string'
                ? this.caipNetworkIdToNumber(chainId)
                : chainId;
        },
        getNetworksByNamespace(networks, namespace) {
            return networks?.filter(network => network.chainNamespace === namespace) || [];
        },
        getFirstNetworkByNamespace(networks, namespace) {
            return this.getNetworksByNamespace(networks, namespace)[0];
        }
    };

    /*
     *  big.js v6.2.2
     *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.
     *  Copyright (c) 2024 Michael Mclaughlin
     *  https://github.com/MikeMcl/big.js/LICENCE.md
     */


    /************************************** EDITABLE DEFAULTS *****************************************/


      // The default values below must be integers within the stated ranges.

      /*
       * The maximum number of decimal places (DP) of the results of operations involving division:
       * div and sqrt, and pow with negative exponents.
       */
    var DP = 20,          // 0 to MAX_DP

      /*
       * The rounding mode (RM) used when rounding to the above decimal places.
       *
       *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)
       *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)
       *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)
       *  3  Away from zero.                                  (ROUND_UP)
       */
      RM = 1,             // 0, 1, 2 or 3

      // The maximum value of DP and Big.DP.
      MAX_DP = 1E6,       // 0 to 1000000

      // The maximum magnitude of the exponent argument to the pow method.
      MAX_POWER = 1E6,    // 1 to 1000000

      /*
       * The negative exponent (NE) at and beneath which toString returns exponential notation.
       * (JavaScript numbers: -7)
       * -1000000 is the minimum recommended exponent value of a Big.
       */
      NE = -7,            // 0 to -1000000

      /*
       * The positive exponent (PE) at and above which toString returns exponential notation.
       * (JavaScript numbers: 21)
       * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.
       */
      PE = 21,            // 0 to 1000000

      /*
       * When true, an error will be thrown if a primitive number is passed to the Big constructor,
       * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a
       * primitive number without a loss of precision.
       */
      STRICT = false,     // true or false


    /**************************************************************************************************/


      // Error messages.
      NAME = '[big.js] ',
      INVALID = NAME + 'Invalid ',
      INVALID_DP = INVALID + 'decimal places',
      INVALID_RM = INVALID + 'rounding mode',
      DIV_BY_ZERO = NAME + 'Division by zero',

      // The shared prototype object.
      P$5 = {},
      UNDEFINED = void 0,
      NUMERIC = /^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;


    /*
     * Create and return a Big constructor.
     */
    function _Big_() {

      /*
       * The Big constructor and exported function.
       * Create and return a new instance of a Big number object.
       *
       * n {number|string|Big} A numeric value.
       */
      function Big(n) {
        var x = this;

        // Enable constructor usage without new.
        if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);

        // Duplicate.
        if (n instanceof Big) {
          x.s = n.s;
          x.e = n.e;
          x.c = n.c.slice();
        } else {
          if (typeof n !== 'string') {
            if (Big.strict === true && typeof n !== 'bigint') {
              throw TypeError(INVALID + 'value');
            }

            // Minus zero?
            n = n === 0 && 1 / n < 0 ? '-0' : String(n);
          }

          parse(x, n);
        }

        // Retain a reference to this Big constructor.
        // Shadow Big.prototype.constructor which points to Object.
        x.constructor = Big;
      }

      Big.prototype = P$5;
      Big.DP = DP;
      Big.RM = RM;
      Big.NE = NE;
      Big.PE = PE;
      Big.strict = STRICT;
      Big.roundDown = 0;
      Big.roundHalfUp = 1;
      Big.roundHalfEven = 2;
      Big.roundUp = 3;

      return Big;
    }


    /*
     * Parse the number or string value passed to a Big constructor.
     *
     * x {Big} A Big number instance.
     * n {number|string} A numeric value.
     */
    function parse(x, n) {
      var e, i, nl;

      if (!NUMERIC.test(n)) {
        throw Error(INVALID + 'number');
      }

      // Determine sign.
      x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;

      // Decimal point?
      if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');

      // Exponential form?
      if ((i = n.search(/e/i)) > 0) {

        // Determine exponent.
        if (e < 0) e = i;
        e += +n.slice(i + 1);
        n = n.substring(0, i);
      } else if (e < 0) {

        // Integer.
        e = n.length;
      }

      nl = n.length;

      // Determine leading zeros.
      for (i = 0; i < nl && n.charAt(i) == '0';) ++i;

      if (i == nl) {

        // Zero.
        x.c = [x.e = 0];
      } else {

        // Determine trailing zeros.
        for (; nl > 0 && n.charAt(--nl) == '0';);
        x.e = e - i - 1;
        x.c = [];

        // Convert string to array of digits without leading/trailing zeros.
        for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);
      }

      return x;
    }


    /*
     * Round Big x to a maximum of sd significant digits using rounding mode rm.
     *
     * x {Big} The Big to round.
     * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.
     * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
     * [more] {boolean} Whether the result of division was truncated.
     */
    function round(x, sd, rm, more) {
      var xc = x.c;

      if (rm === UNDEFINED) rm = x.constructor.RM;
      if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {
        throw Error(INVALID_RM);
      }

      if (sd < 1) {
        more =
          rm === 3 && (more || !!xc[0]) || sd === 0 && (
          rm === 1 && xc[0] >= 5 ||
          rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED))
        );

        xc.length = 1;

        if (more) {

          // 1, 0.1, 0.01, 0.001, 0.0001 etc.
          x.e = x.e - sd + 1;
          xc[0] = 1;
        } else {

          // Zero.
          xc[0] = x.e = 0;
        }
      } else if (sd < xc.length) {

        // xc[sd] is the digit after the digit that may be rounded up.
        more =
          rm === 1 && xc[sd] >= 5 ||
          rm === 2 && (xc[sd] > 5 || xc[sd] === 5 &&
            (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) ||
          rm === 3 && (more || !!xc[0]);

        // Remove any digits after the required precision.
        xc.length = sd;

        // Round up?
        if (more) {

          // Rounding up may mean the previous digit has to be rounded up.
          for (; ++xc[--sd] > 9;) {
            xc[sd] = 0;
            if (sd === 0) {
              ++x.e;
              xc.unshift(1);
              break;
            }
          }
        }

        // Remove trailing zeros.
        for (sd = xc.length; !xc[--sd];) xc.pop();
      }

      return x;
    }


    /*
     * Return a string representing the value of Big x in normal or exponential notation.
     * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.
     */
    function stringify$1(x, doExponential, isNonzero) {
      var e = x.e,
        s = x.c.join(''),
        n = s.length;

      // Exponential notation?
      if (doExponential) {
        s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;

      // Normal notation.
      } else if (e < 0) {
        for (; ++e;) s = '0' + s;
        s = '0.' + s;
      } else if (e > 0) {
        if (++e > n) {
          for (e -= n; e--;) s += '0';
        } else if (e < n) {
          s = s.slice(0, e) + '.' + s.slice(e);
        }
      } else if (n > 1) {
        s = s.charAt(0) + '.' + s.slice(1);
      }

      return x.s < 0 && isNonzero ? '-' + s : s;
    }


    // Prototype/instance methods


    /*
     * Return a new Big whose value is the absolute value of this Big.
     */
    P$5.abs = function () {
      var x = new this.constructor(this);
      x.s = 1;
      return x;
    };


    /*
     * Return 1 if the value of this Big is greater than the value of Big y,
     *       -1 if the value of this Big is less than the value of Big y, or
     *        0 if they have the same value.
     */
    P$5.cmp = function (y) {
      var isneg,
        x = this,
        xc = x.c,
        yc = (y = new x.constructor(y)).c,
        i = x.s,
        j = y.s,
        k = x.e,
        l = y.e;

      // Either zero?
      if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;

      // Signs differ?
      if (i != j) return i;

      isneg = i < 0;

      // Compare exponents.
      if (k != l) return k > l ^ isneg ? 1 : -1;

      j = (k = xc.length) < (l = yc.length) ? k : l;

      // Compare digit by digit.
      for (i = -1; ++i < j;) {
        if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;
      }

      // Compare lengths.
      return k == l ? 0 : k > l ^ isneg ? 1 : -1;
    };


    /*
     * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,
     * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.
     */
    P$5.div = function (y) {
      var x = this,
        Big = x.constructor,
        a = x.c,                  // dividend
        b = (y = new Big(y)).c,   // divisor
        k = x.s == y.s ? 1 : -1,
        dp = Big.DP;

      if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {
        throw Error(INVALID_DP);
      }

      // Divisor is zero?
      if (!b[0]) {
        throw Error(DIV_BY_ZERO);
      }

      // Dividend is 0? Return +-0.
      if (!a[0]) {
        y.s = k;
        y.c = [y.e = 0];
        return y;
      }

      var bl, bt, n, cmp, ri,
        bz = b.slice(),
        ai = bl = b.length,
        al = a.length,
        r = a.slice(0, bl),   // remainder
        rl = r.length,
        q = y,                // quotient
        qc = q.c = [],
        qi = 0,
        p = dp + (q.e = x.e - y.e) + 1;    // precision of the result

      q.s = k;
      k = p < 0 ? 0 : p;

      // Create version of divisor with leading zero.
      bz.unshift(0);

      // Add zeros to make remainder as long as divisor.
      for (; rl++ < bl;) r.push(0);

      do {

        // n is how many times the divisor goes into current remainder.
        for (n = 0; n < 10; n++) {

          // Compare divisor and remainder.
          if (bl != (rl = r.length)) {
            cmp = bl > rl ? 1 : -1;
          } else {
            for (ri = -1, cmp = 0; ++ri < bl;) {
              if (b[ri] != r[ri]) {
                cmp = b[ri] > r[ri] ? 1 : -1;
                break;
              }
            }
          }

          // If divisor < remainder, subtract divisor from remainder.
          if (cmp < 0) {

            // Remainder can't be more than 1 digit longer than divisor.
            // Equalise lengths using divisor with extra leading zero?
            for (bt = rl == bl ? b : bz; rl;) {
              if (r[--rl] < bt[rl]) {
                ri = rl;
                for (; ri && !r[--ri];) r[ri] = 9;
                --r[ri];
                r[rl] += 10;
              }
              r[rl] -= bt[rl];
            }

            for (; !r[0];) r.shift();
          } else {
            break;
          }
        }

        // Add the digit n to the result array.
        qc[qi++] = cmp ? n : ++n;

        // Update the remainder.
        if (r[0] && cmp) r[rl] = a[ai] || 0;
        else r = [a[ai]];

      } while ((ai++ < al || r[0] !== UNDEFINED) && k--);

      // Leading zero? Do not remove if result is simply zero (qi == 1).
      if (!qc[0] && qi != 1) {

        // There can't be more than one zero.
        qc.shift();
        q.e--;
        p--;
      }

      // Round?
      if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);

      return q;
    };


    /*
     * Return true if the value of this Big is equal to the value of Big y, otherwise return false.
     */
    P$5.eq = function (y) {
      return this.cmp(y) === 0;
    };


    /*
     * Return true if the value of this Big is greater than the value of Big y, otherwise return
     * false.
     */
    P$5.gt = function (y) {
      return this.cmp(y) > 0;
    };


    /*
     * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise
     * return false.
     */
    P$5.gte = function (y) {
      return this.cmp(y) > -1;
    };


    /*
     * Return true if the value of this Big is less than the value of Big y, otherwise return false.
     */
    P$5.lt = function (y) {
      return this.cmp(y) < 0;
    };


    /*
     * Return true if the value of this Big is less than or equal to the value of Big y, otherwise
     * return false.
     */
    P$5.lte = function (y) {
      return this.cmp(y) < 1;
    };


    /*
     * Return a new Big whose value is the value of this Big minus the value of Big y.
     */
    P$5.minus = P$5.sub = function (y) {
      var i, j, t, xlty,
        x = this,
        Big = x.constructor,
        a = x.s,
        b = (y = new Big(y)).s;

      // Signs differ?
      if (a != b) {
        y.s = -b;
        return x.plus(y);
      }

      var xc = x.c.slice(),
        xe = x.e,
        yc = y.c,
        ye = y.e;

      // Either zero?
      if (!xc[0] || !yc[0]) {
        if (yc[0]) {
          y.s = -b;
        } else if (xc[0]) {
          y = new Big(x);
        } else {
          y.s = 1;
        }
        return y;
      }

      // Determine which is the bigger number. Prepend zeros to equalise exponents.
      if (a = xe - ye) {

        if (xlty = a < 0) {
          a = -a;
          t = xc;
        } else {
          ye = xe;
          t = yc;
        }

        t.reverse();
        for (b = a; b--;) t.push(0);
        t.reverse();
      } else {

        // Exponents equal. Check digit by digit.
        j = ((xlty = xc.length < yc.length) ? xc : yc).length;

        for (a = b = 0; b < j; b++) {
          if (xc[b] != yc[b]) {
            xlty = xc[b] < yc[b];
            break;
          }
        }
      }

      // x < y? Point xc to the array of the bigger number.
      if (xlty) {
        t = xc;
        xc = yc;
        yc = t;
        y.s = -y.s;
      }

      /*
       * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only
       * needs to start at yc.length.
       */
      if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;

      // Subtract yc from xc.
      for (b = i; j > a;) {
        if (xc[--j] < yc[j]) {
          for (i = j; i && !xc[--i];) xc[i] = 9;
          --xc[i];
          xc[j] += 10;
        }

        xc[j] -= yc[j];
      }

      // Remove trailing zeros.
      for (; xc[--b] === 0;) xc.pop();

      // Remove leading zeros and adjust exponent accordingly.
      for (; xc[0] === 0;) {
        xc.shift();
        --ye;
      }

      if (!xc[0]) {

        // n - n = +0
        y.s = 1;

        // Result must be zero.
        xc = [ye = 0];
      }

      y.c = xc;
      y.e = ye;

      return y;
    };


    /*
     * Return a new Big whose value is the value of this Big modulo the value of Big y.
     */
    P$5.mod = function (y) {
      var ygtx,
        x = this,
        Big = x.constructor,
        a = x.s,
        b = (y = new Big(y)).s;

      if (!y.c[0]) {
        throw Error(DIV_BY_ZERO);
      }

      x.s = y.s = 1;
      ygtx = y.cmp(x) == 1;
      x.s = a;
      y.s = b;

      if (ygtx) return new Big(x);

      a = Big.DP;
      b = Big.RM;
      Big.DP = Big.RM = 0;
      x = x.div(y);
      Big.DP = a;
      Big.RM = b;

      return this.minus(x.times(y));
    };


    /*
     * Return a new Big whose value is the value of this Big negated.
     */
    P$5.neg = function () {
      var x = new this.constructor(this);
      x.s = -x.s;
      return x;
    };


    /*
     * Return a new Big whose value is the value of this Big plus the value of Big y.
     */
    P$5.plus = P$5.add = function (y) {
      var e, k, t,
        x = this,
        Big = x.constructor;

      y = new Big(y);

      // Signs differ?
      if (x.s != y.s) {
        y.s = -y.s;
        return x.minus(y);
      }

      var xe = x.e,
        xc = x.c,
        ye = y.e,
        yc = y.c;

      // Either zero?
      if (!xc[0] || !yc[0]) {
        if (!yc[0]) {
          if (xc[0]) {
            y = new Big(x);
          } else {
            y.s = x.s;
          }
        }
        return y;
      }

      xc = xc.slice();

      // Prepend zeros to equalise exponents.
      // Note: reverse faster than unshifts.
      if (e = xe - ye) {
        if (e > 0) {
          ye = xe;
          t = yc;
        } else {
          e = -e;
          t = xc;
        }

        t.reverse();
        for (; e--;) t.push(0);
        t.reverse();
      }

      // Point xc to the longer array.
      if (xc.length - yc.length < 0) {
        t = yc;
        yc = xc;
        xc = t;
      }

      e = yc.length;

      // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.
      for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;

      // No need to check for zero, as +x + +y != 0 && -x + -y != 0

      if (k) {
        xc.unshift(k);
        ++ye;
      }

      // Remove trailing zeros.
      for (e = xc.length; xc[--e] === 0;) xc.pop();

      y.c = xc;
      y.e = ye;

      return y;
    };


    /*
     * Return a Big whose value is the value of this Big raised to the power n.
     * If n is negative, round to a maximum of Big.DP decimal places using rounding
     * mode Big.RM.
     *
     * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.
     */
    P$5.pow = function (n) {
      var x = this,
        one = new x.constructor('1'),
        y = one,
        isneg = n < 0;

      if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {
        throw Error(INVALID + 'exponent');
      }

      if (isneg) n = -n;

      for (;;) {
        if (n & 1) y = y.times(x);
        n >>= 1;
        if (!n) break;
        x = x.times(x);
      }

      return isneg ? one.div(y) : y;
    };


    /*
     * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd
     * significant digits using rounding mode rm, or Big.RM if rm is not specified.
     *
     * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.
     * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
     */
    P$5.prec = function (sd, rm) {
      if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {
        throw Error(INVALID + 'precision');
      }
      return round(new this.constructor(this), sd, rm);
    };


    /*
     * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places
     * using rounding mode rm, or Big.RM if rm is not specified.
     * If dp is negative, round to an integer which is a multiple of 10**-dp.
     * If dp is not specified, round to 0 decimal places.
     *
     * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.
     * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
     */
    P$5.round = function (dp, rm) {
      if (dp === UNDEFINED) dp = 0;
      else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {
        throw Error(INVALID_DP);
      }
      return round(new this.constructor(this), dp + this.e + 1, rm);
    };


    /*
     * Return a new Big whose value is the square root of the value of this Big, rounded, if
     * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.
     */
    P$5.sqrt = function () {
      var r, c, t,
        x = this,
        Big = x.constructor,
        s = x.s,
        e = x.e,
        half = new Big('0.5');

      // Zero?
      if (!x.c[0]) return new Big(x);

      // Negative?
      if (s < 0) {
        throw Error(NAME + 'No square root');
      }

      // Estimate.
      s = Math.sqrt(+stringify$1(x, true, true));

      // Math.sqrt underflow/overflow?
      // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.
      if (s === 0 || s === 1 / 0) {
        c = x.c.join('');
        if (!(c.length + e & 1)) c += '0';
        s = Math.sqrt(c);
        e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);
        r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);
      } else {
        r = new Big(s + '');
      }

      e = r.e + (Big.DP += 4);

      // Newton-Raphson iteration.
      do {
        t = r;
        r = half.times(t.plus(x.div(t)));
      } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));

      return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);
    };


    /*
     * Return a new Big whose value is the value of this Big times the value of Big y.
     */
    P$5.times = P$5.mul = function (y) {
      var c,
        x = this,
        Big = x.constructor,
        xc = x.c,
        yc = (y = new Big(y)).c,
        a = xc.length,
        b = yc.length,
        i = x.e,
        j = y.e;

      // Determine sign of result.
      y.s = x.s == y.s ? 1 : -1;

      // Return signed 0 if either 0.
      if (!xc[0] || !yc[0]) {
        y.c = [y.e = 0];
        return y;
      }

      // Initialise exponent of result as x.e + y.e.
      y.e = i + j;

      // If array xc has fewer digits than yc, swap xc and yc, and lengths.
      if (a < b) {
        c = xc;
        xc = yc;
        yc = c;
        j = a;
        a = b;
        b = j;
      }

      // Initialise coefficient array of result with zeros.
      for (c = new Array(j = a + b); j--;) c[j] = 0;

      // Multiply.

      // i is initially xc.length.
      for (i = b; i--;) {
        b = 0;

        // a is yc.length.
        for (j = a + i; j > i;) {

          // Current sum of products at this digit position, plus carry.
          b = c[j] + yc[i] * xc[j - i - 1] + b;
          c[j--] = b % 10;

          // carry
          b = b / 10 | 0;
        }

        c[j] = b;
      }

      // Increment result exponent if there is a final carry, otherwise remove leading zero.
      if (b) ++y.e;
      else c.shift();

      // Remove trailing zeros.
      for (i = c.length; !c[--i];) c.pop();
      y.c = c;

      return y;
    };


    /*
     * Return a string representing the value of this Big in exponential notation rounded to dp fixed
     * decimal places using rounding mode rm, or Big.RM if rm is not specified.
     *
     * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.
     * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
     */
    P$5.toExponential = function (dp, rm) {
      var x = this,
        n = x.c[0];

      if (dp !== UNDEFINED) {
        if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {
          throw Error(INVALID_DP);
        }
        x = round(new x.constructor(x), ++dp, rm);
        for (; x.c.length < dp;) x.c.push(0);
      }

      return stringify$1(x, true, !!n);
    };


    /*
     * Return a string representing the value of this Big in normal notation rounded to dp fixed
     * decimal places using rounding mode rm, or Big.RM if rm is not specified.
     *
     * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.
     * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
     *
     * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.
     * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.
     */
    P$5.toFixed = function (dp, rm) {
      var x = this,
        n = x.c[0];

      if (dp !== UNDEFINED) {
        if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {
          throw Error(INVALID_DP);
        }
        x = round(new x.constructor(x), dp + x.e + 1, rm);

        // x.e may have changed if the value is rounded up.
        for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);
      }

      return stringify$1(x, false, !!n);
    };


    /*
     * Return a string representing the value of this Big.
     * Return exponential notation if this Big has a positive exponent equal to or greater than
     * Big.PE, or a negative exponent equal to or less than Big.NE.
     * Omit the sign for negative zero.
     */
    P$5[Symbol.for('nodejs.util.inspect.custom')] = P$5.toJSON = P$5.toString = function () {
      var x = this,
        Big = x.constructor;
      return stringify$1(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);
    };


    /*
     * Return the value of this Big as a primitve number.
     */
    P$5.toNumber = function () {
      var n = +stringify$1(this, true, true);
      if (this.constructor.strict === true && !this.eq(n.toString())) {
        throw Error(NAME + 'Imprecise conversion');
      }
      return n;
    };


    /*
     * Return a string representing the value of this Big rounded to sd significant digits using
     * rounding mode rm, or Big.RM if rm is not specified.
     * Use exponential notation if sd is less than the number of digits necessary to represent
     * the integer part of the value in normal notation.
     *
     * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.
     * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
     */
    P$5.toPrecision = function (sd, rm) {
      var x = this,
        Big = x.constructor,
        n = x.c[0];

      if (sd !== UNDEFINED) {
        if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {
          throw Error(INVALID + 'precision');
        }
        x = round(new Big(x), sd, rm);
        for (; x.c.length < sd;) x.c.push(0);
      }

      return stringify$1(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);
    };


    /*
     * Return a string representing the value of this Big.
     * Return exponential notation if this Big has a positive exponent equal to or greater than
     * Big.PE, or a negative exponent equal to or less than Big.NE.
     * Include the sign for negative zero.
     */
    P$5.valueOf = function () {
      var x = this,
        Big = x.constructor;
      if (Big.strict === true) {
        throw Error(NAME + 'valueOf disallowed');
      }
      return stringify$1(x, x.e <= Big.NE || x.e >= Big.PE, true);
    };


    // Export


    var Big = _Big_();

    const NumberUtil = {
        bigNumber(value) {
            if (!value) {
                return new Big(0);
            }
            return new Big(value);
        },
        multiply(a, b) {
            if (a === undefined || b === undefined) {
                return new Big(0);
            }
            const aBigNumber = new Big(a);
            const bBigNumber = new Big(b);
            return aBigNumber.times(bBigNumber);
        },
        formatNumberToLocalString(value, decimals = 2) {
            if (value === undefined) {
                return '0.00';
            }
            if (typeof value === 'number') {
                return value.toLocaleString('en-US', {
                    maximumFractionDigits: decimals,
                    minimumFractionDigits: decimals
                });
            }
            return parseFloat(value).toLocaleString('en-US', {
                maximumFractionDigits: decimals,
                minimumFractionDigits: decimals
            });
        },
        parseLocalStringToNumber(value) {
            if (value === undefined) {
                return 0;
            }
            return parseFloat(value.replace(/,/gu, ''));
        }
    };

    const erc20ABI = [
        {
            type: 'function',
            name: 'transfer',
            stateMutability: 'nonpayable',
            inputs: [
                {
                    name: '_to',
                    type: 'address'
                },
                {
                    name: '_value',
                    type: 'uint256'
                }
            ],
            outputs: [
                {
                    name: '',
                    type: 'bool'
                }
            ]
        },
        {
            type: 'function',
            name: 'transferFrom',
            stateMutability: 'nonpayable',
            inputs: [
                {
                    name: '_from',
                    type: 'address'
                },
                {
                    name: '_to',
                    type: 'address'
                },
                {
                    name: '_value',
                    type: 'uint256'
                }
            ],
            outputs: [
                {
                    name: '',
                    type: 'bool'
                }
            ]
        }
    ];

    const swapABI = [
        {
            type: 'function',
            name: 'approve',
            stateMutability: 'nonpayable',
            inputs: [
                { name: 'spender', type: 'address' },
                { name: 'amount', type: 'uint256' }
            ],
            outputs: [{ type: 'bool' }]
        }
    ];

    const usdtABI = [
        {
            type: 'function',
            name: 'transfer',
            stateMutability: 'nonpayable',
            inputs: [
                {
                    name: 'recipient',
                    type: 'address'
                },
                {
                    name: 'amount',
                    type: 'uint256'
                }
            ],
            outputs: []
        },
        {
            type: 'function',
            name: 'transferFrom',
            stateMutability: 'nonpayable',
            inputs: [
                {
                    name: 'sender',
                    type: 'address'
                },
                {
                    name: 'recipient',
                    type: 'address'
                },
                {
                    name: 'amount',
                    type: 'uint256'
                }
            ],
            outputs: [
                {
                    name: '',
                    type: 'bool'
                }
            ]
        }
    ];

    const ConstantsUtil$3 = {
        WC_NAME_SUFFIX: '.reown.id',
        WC_NAME_SUFFIX_LEGACY: '.wcn.id',
        BLOCKCHAIN_API_RPC_URL: 'https://rpc.walletconnect.org',
        PULSE_API_URL: 'https://pulse.walletconnect.org',
        W3M_API_URL: 'https://api.web3modal.org',
        CONNECTOR_ID: {
            WALLET_CONNECT: 'walletConnect',
            INJECTED: 'injected',
            WALLET_STANDARD: 'announced',
            COINBASE: 'coinbaseWallet',
            COINBASE_SDK: 'coinbaseWalletSDK',
            SAFE: 'safe',
            LEDGER: 'ledger',
            OKX: 'okx',
            EIP6963: 'eip6963',
            AUTH: 'ID_AUTH'
        },
        CONNECTOR_NAMES: {
            AUTH: 'Auth'
        },
        AUTH_CONNECTOR_SUPPORTED_CHAINS: ['eip155', 'solana'],
        LIMITS: {
            PENDING_TRANSACTIONS: 99
        },
        CHAIN: {
            EVM: 'eip155',
            SOLANA: 'solana',
            POLKADOT: 'polkadot',
            BITCOIN: 'bip122'
        },
        CHAIN_NAME_MAP: {
            eip155: 'EVM Networks',
            solana: 'Solana',
            polkadot: 'Polkadot',
            bip122: 'Bitcoin'
        },
        ADAPTER_TYPES: {
            BITCOIN: 'bitcoin',
            SOLANA: 'solana',
            WAGMI: 'wagmi',
            ETHERS: 'ethers',
            ETHERS5: 'ethers5'
        },
        USDT_CONTRACT_ADDRESSES: [
            '0xdac17f958d2ee523a2206206994597c13d831ec7',
            '0xc2132d05d31c914a87c6611c10748aeb04b58e8f',
            '0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7',
            '0x919C1c267BC06a7039e03fcc2eF738525769109c',
            '0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e',
            '0x55d398326f99059fF775485246999027B3197955',
            '0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9'
        ],
        HTTP_STATUS_CODES: {
            SERVICE_UNAVAILABLE: 503,
            FORBIDDEN: 403
        },
        UNSUPPORTED_NETWORK_NAME: 'Unknown Network'
    };

    const ContractUtil = {
        getERC20Abi: (tokenAddress) => {
            if (ConstantsUtil$3.USDT_CONTRACT_ADDRESSES.includes(tokenAddress)) {
                return usdtABI;
            }
            return erc20ABI;
        },
        getSwapAbi: () => swapABI
    };

    const ParseUtil = {
        validateCaipAddress(address) {
            if (address.split(':')?.length !== 3) {
                throw new Error('Invalid CAIP Address');
            }
            return address;
        },
        parseCaipAddress(caipAddress) {
            const parts = caipAddress.split(':');
            if (parts.length !== 3) {
                throw new Error(`Invalid CAIP-10 address: ${caipAddress}`);
            }
            const [chainNamespace, chainId, address] = parts;
            if (!chainNamespace || !chainId || !address) {
                throw new Error(`Invalid CAIP-10 address: ${caipAddress}`);
            }
            return {
                chainNamespace: chainNamespace,
                chainId: chainId,
                address
            };
        },
        parseCaipNetworkId(caipNetworkId) {
            const parts = caipNetworkId.split(':');
            if (parts.length !== 2) {
                throw new Error(`Invalid CAIP-2 network id: ${caipNetworkId}`);
            }
            const [chainNamespace, chainId] = parts;
            if (!chainNamespace || !chainId) {
                throw new Error(`Invalid CAIP-2 network id: ${caipNetworkId}`);
            }
            return {
                chainNamespace: chainNamespace,
                chainId: chainId
            };
        }
    };

    const SafeLocalStorageKeys = {
        WALLET_ID: '@appkit/wallet_id',
        WALLET_NAME: '@appkit/wallet_name',
        SOLANA_WALLET: '@appkit/solana_wallet',
        SOLANA_CAIP_CHAIN: '@appkit/solana_caip_chain',
        ACTIVE_CAIP_NETWORK_ID: '@appkit/active_caip_network_id',
        CONNECTED_SOCIAL: '@appkit/connected_social',
        CONNECTED_SOCIAL_USERNAME: '@appkit-wallet/SOCIAL_USERNAME',
        RECENT_WALLETS: '@appkit/recent_wallets',
        DEEPLINK_CHOICE: 'WALLETCONNECT_DEEPLINK_CHOICE',
        ACTIVE_NAMESPACE: '@appkit/active_namespace',
        CONNECTED_NAMESPACES: '@appkit/connected_namespaces',
        CONNECTION_STATUS: '@appkit/connection_status',
        SIWX_AUTH_TOKEN: '@appkit/siwx-auth-token',
        SIWX_NONCE_TOKEN: '@appkit/siwx-nonce-token',
        TELEGRAM_SOCIAL_PROVIDER: '@appkit/social_provider',
        NATIVE_BALANCE_CACHE: '@appkit/native_balance_cache',
        PORTFOLIO_CACHE: '@appkit/portfolio_cache',
        ENS_CACHE: '@appkit/ens_cache',
        IDENTITY_CACHE: '@appkit/identity_cache',
        PREFERRED_ACCOUNT_TYPES: '@appkit/preferred_account_types'
    };
    function getSafeConnectorIdKey(namespace) {
        if (!namespace) {
            throw new Error('Namespace is required for CONNECTED_CONNECTOR_ID');
        }
        return `@appkit/${namespace}:connected_connector_id`;
    }
    const SafeLocalStorage = {
        setItem(key, value) {
            if (isSafe$1() && value !== undefined) {
                localStorage.setItem(key, value);
            }
        },
        getItem(key) {
            if (isSafe$1()) {
                return localStorage.getItem(key) || undefined;
            }
            return undefined;
        },
        removeItem(key) {
            if (isSafe$1()) {
                localStorage.removeItem(key);
            }
        },
        clear() {
            if (isSafe$1()) {
                localStorage.clear();
            }
        }
    };
    function isSafe$1() {
        return typeof window !== 'undefined' && typeof localStorage !== 'undefined';
    }

    function getW3mThemeVariables(themeVariables, themeType) {
        if (themeType === 'light') {
            return {
                '--w3m-accent': themeVariables?.['--w3m-accent'] || 'hsla(231, 100%, 70%, 1)',
                '--w3m-background': '#fff'
            };
        }
        return {
            '--w3m-accent': themeVariables?.['--w3m-accent'] || 'hsla(230, 100%, 67%, 1)',
            '--w3m-background': '#121313'
        };
    }

    const t$3=Symbol();const s$5=Object.getPrototypeOf,c$7=new WeakMap,l$2=e=>e&&(c$7.has(e)?c$7.get(e):s$5(e)===Object.prototype||s$5(e)===Array.prototype),y$5=e=>l$2(e)&&e[t$3]||null,h$7=(e,t=true)=>{c$7.set(e,t);};

    const isObject = (x) => typeof x === "object" && x !== null;
    const proxyStateMap = /* @__PURE__ */ new WeakMap();
    const refSet = /* @__PURE__ */ new WeakSet();
    const buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler) => new Proxy(target, handler), canProxy = (x) => isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer), defaultHandlePromise = (promise) => {
      switch (promise.status) {
        case "fulfilled":
          return promise.value;
        case "rejected":
          throw promise.reason;
        default:
          throw promise;
      }
    }, snapCache = /* @__PURE__ */ new WeakMap(), createSnapshot = (target, version, handlePromise = defaultHandlePromise) => {
      const cache = snapCache.get(target);
      if ((cache == null ? void 0 : cache[0]) === version) {
        return cache[1];
      }
      const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));
      h$7(snap, true);
      snapCache.set(target, [version, snap]);
      Reflect.ownKeys(target).forEach((key) => {
        if (Object.getOwnPropertyDescriptor(snap, key)) {
          return;
        }
        const value = Reflect.get(target, key);
        const { enumerable } = Reflect.getOwnPropertyDescriptor(
          target,
          key
        );
        const desc = {
          value,
          enumerable,
          // This is intentional to avoid copying with proxy-compare.
          // It's still non-writable, so it avoids assigning a value.
          configurable: true
        };
        if (refSet.has(value)) {
          h$7(value, false);
        } else if (value instanceof Promise) {
          delete desc.value;
          desc.get = () => handlePromise(value);
        } else if (proxyStateMap.has(value)) {
          const [target2, ensureVersion] = proxyStateMap.get(
            value
          );
          desc.value = createSnapshot(
            target2,
            ensureVersion(),
            handlePromise
          );
        }
        Object.defineProperty(snap, key, desc);
      });
      return Object.preventExtensions(snap);
    }, proxyCache = /* @__PURE__ */ new WeakMap(), versionHolder = [1, 1], proxyFunction = (initialObject) => {
      if (!isObject(initialObject)) {
        throw new Error("object required");
      }
      const found = proxyCache.get(initialObject);
      if (found) {
        return found;
      }
      let version = versionHolder[0];
      const listeners = /* @__PURE__ */ new Set();
      const notifyUpdate = (op, nextVersion = ++versionHolder[0]) => {
        if (version !== nextVersion) {
          version = nextVersion;
          listeners.forEach((listener) => listener(op, nextVersion));
        }
      };
      let checkVersion = versionHolder[1];
      const ensureVersion = (nextCheckVersion = ++versionHolder[1]) => {
        if (checkVersion !== nextCheckVersion && !listeners.size) {
          checkVersion = nextCheckVersion;
          propProxyStates.forEach(([propProxyState]) => {
            const propVersion = propProxyState[1](nextCheckVersion);
            if (propVersion > version) {
              version = propVersion;
            }
          });
        }
        return version;
      };
      const createPropListener = (prop) => (op, nextVersion) => {
        const newOp = [...op];
        newOp[1] = [prop, ...newOp[1]];
        notifyUpdate(newOp, nextVersion);
      };
      const propProxyStates = /* @__PURE__ */ new Map();
      const addPropListener = (prop, propProxyState) => {
        if ((undefined ? undefined.MODE : void 0) !== "production" && propProxyStates.has(prop)) {
          throw new Error("prop listener already exists");
        }
        if (listeners.size) {
          const remove = propProxyState[3](createPropListener(prop));
          propProxyStates.set(prop, [propProxyState, remove]);
        } else {
          propProxyStates.set(prop, [propProxyState]);
        }
      };
      const removePropListener = (prop) => {
        var _a;
        const entry = propProxyStates.get(prop);
        if (entry) {
          propProxyStates.delete(prop);
          (_a = entry[1]) == null ? void 0 : _a.call(entry);
        }
      };
      const addListener = (listener) => {
        listeners.add(listener);
        if (listeners.size === 1) {
          propProxyStates.forEach(([propProxyState, prevRemove], prop) => {
            if ((undefined ? undefined.MODE : void 0) !== "production" && prevRemove) {
              throw new Error("remove already exists");
            }
            const remove = propProxyState[3](createPropListener(prop));
            propProxyStates.set(prop, [propProxyState, remove]);
          });
        }
        const removeListener = () => {
          listeners.delete(listener);
          if (listeners.size === 0) {
            propProxyStates.forEach(([propProxyState, remove], prop) => {
              if (remove) {
                remove();
                propProxyStates.set(prop, [propProxyState]);
              }
            });
          }
        };
        return removeListener;
      };
      const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));
      const handler = {
        deleteProperty(target, prop) {
          const prevValue = Reflect.get(target, prop);
          removePropListener(prop);
          const deleted = Reflect.deleteProperty(target, prop);
          if (deleted) {
            notifyUpdate(["delete", [prop], prevValue]);
          }
          return deleted;
        },
        set(target, prop, value, receiver) {
          const hasPrevValue = Reflect.has(target, prop);
          const prevValue = Reflect.get(target, prop, receiver);
          if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {
            return true;
          }
          removePropListener(prop);
          if (isObject(value)) {
            value = y$5(value) || value;
          }
          let nextValue = value;
          if (value instanceof Promise) {
            value.then((v) => {
              value.status = "fulfilled";
              value.value = v;
              notifyUpdate(["resolve", [prop], v]);
            }).catch((e) => {
              value.status = "rejected";
              value.reason = e;
              notifyUpdate(["reject", [prop], e]);
            });
          } else {
            if (!proxyStateMap.has(value) && canProxy(value)) {
              nextValue = proxyFunction(value);
            }
            const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);
            if (childProxyState) {
              addPropListener(prop, childProxyState);
            }
          }
          Reflect.set(target, prop, nextValue, receiver);
          notifyUpdate(["set", [prop], value, prevValue]);
          return true;
        }
      };
      const proxyObject = newProxy(baseObject, handler);
      proxyCache.set(initialObject, proxyObject);
      const proxyState = [
        baseObject,
        ensureVersion,
        createSnapshot,
        addListener
      ];
      proxyStateMap.set(proxyObject, proxyState);
      Reflect.ownKeys(initialObject).forEach((key) => {
        const desc = Object.getOwnPropertyDescriptor(
          initialObject,
          key
        );
        if ("value" in desc) {
          proxyObject[key] = initialObject[key];
          delete desc.value;
          delete desc.writable;
        }
        Object.defineProperty(baseObject, key, desc);
      });
      return proxyObject;
    }) => [
      // public functions
      proxyFunction,
      // shared state
      proxyStateMap,
      refSet,
      // internal things
      objectIs,
      newProxy,
      canProxy,
      defaultHandlePromise,
      snapCache,
      createSnapshot,
      proxyCache,
      versionHolder
    ];
    const [defaultProxyFunction] = buildProxyFunction();
    function proxy(initialObject = {}) {
      return defaultProxyFunction(initialObject);
    }
    function subscribe(proxyObject, callback, notifyInSync) {
      const proxyState = proxyStateMap.get(proxyObject);
      if ((undefined ? undefined.MODE : void 0) !== "production" && !proxyState) {
        console.warn("Please use proxy object");
      }
      let promise;
      const ops = [];
      const addListener = proxyState[3];
      let isListenerActive = false;
      const listener = (op) => {
        ops.push(op);
        if (!promise) {
          promise = Promise.resolve().then(() => {
            promise = void 0;
            if (isListenerActive) {
              callback(ops.splice(0));
            }
          });
        }
      };
      const removeListener = addListener(listener);
      isListenerActive = true;
      return () => {
        isListenerActive = false;
        removeListener();
      };
    }
    function snapshot(proxyObject, handlePromise) {
      const proxyState = proxyStateMap.get(proxyObject);
      if ((undefined ? undefined.MODE : void 0) !== "production" && !proxyState) {
        console.warn("Please use proxy object");
      }
      const [target, ensureVersion, createSnapshot] = proxyState;
      return createSnapshot(target, ensureVersion(), handlePromise);
    }
    function ref(obj) {
      refSet.add(obj);
      return obj;
    }

    function subscribeKey(proxyObject, key, callback, notifyInSync) {
      let prevValue = proxyObject[key];
      return subscribe(
        proxyObject,
        () => {
          const nextValue = proxyObject[key];
          if (!Object.is(prevValue, nextValue)) {
            callback(prevValue = nextValue);
          }
        });
    }

    function proxyMap(entries) {
      const map = proxy({
        data: Array.from([]),
        has(key) {
          return this.data.some((p) => p[0] === key);
        },
        set(key, value) {
          const record = this.data.find((p) => p[0] === key);
          if (record) {
            record[1] = value;
          } else {
            this.data.push([key, value]);
          }
          return this;
        },
        get(key) {
          var _a;
          return (_a = this.data.find((p) => p[0] === key)) == null ? void 0 : _a[1];
        },
        delete(key) {
          const index = this.data.findIndex((p) => p[0] === key);
          if (index === -1) {
            return false;
          }
          this.data.splice(index, 1);
          return true;
        },
        clear() {
          this.data.splice(0);
        },
        get size() {
          return this.data.length;
        },
        toJSON() {
          return new Map(this.data);
        },
        forEach(cb) {
          this.data.forEach((p) => {
            cb(p[1], p[0], this);
          });
        },
        keys() {
          return this.data.map((p) => p[0]).values();
        },
        values() {
          return this.data.map((p) => p[1]).values();
        },
        entries() {
          return new Map(this.data).entries();
        },
        get [Symbol.toStringTag]() {
          return "Map";
        },
        [Symbol.iterator]() {
          return this.entries();
        }
      });
      Object.defineProperties(map, {
        data: {
          enumerable: false
        },
        size: {
          enumerable: false
        },
        toJSON: {
          enumerable: false
        }
      });
      Object.seal(map);
      return map;
    }

    const SECURE_SITE = 
    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain
    (typeof process !== 'undefined' && typeof process.env !== 'undefined'
        ? process.env['NEXT_PUBLIC_SECURE_SITE_ORIGIN']
        : undefined) || 'https://secure.walletconnect.org';
    const ONRAMP_PROVIDERS = [
        {
            label: 'Coinbase',
            name: 'coinbase',
            feeRange: '1-2%',
            url: '',
            supportedChains: ['eip155']
        },
        {
            label: 'Meld.io',
            name: 'meld',
            feeRange: '1-2%',
            url: 'https://meldcrypto.com',
            supportedChains: ['eip155', 'solana']
        }
    ];
    const ConstantsUtil$2 = {
        FOUR_MINUTES_MS: 240_000,
        TEN_SEC_MS: 10_000,
        FIVE_SEC_MS: 5_000,
        THREE_SEC_MS: 3_000,
        ONE_SEC_MS: 1_000,
        SECURE_SITE,
        SECURE_SITE_DASHBOARD: `${SECURE_SITE}/dashboard`,
        SECURE_SITE_FAVICON: `${SECURE_SITE}/images/favicon.png`,
        RESTRICTED_TIMEZONES: [
            'ASIA/SHANGHAI',
            'ASIA/URUMQI',
            'ASIA/CHONGQING',
            'ASIA/HARBIN',
            'ASIA/KASHGAR',
            'ASIA/MACAU',
            'ASIA/HONG_KONG',
            'ASIA/MACAO',
            'ASIA/BEIJING',
            'ASIA/HARBIN'
        ],
        /**
         * Network name to Coinbase Pay SDK chain name map object
         * @see supported chain names on Coinbase for Pay SDK: https://github.com/coinbase/cbpay-js/blob/d4bda2c05c4d5917c8db6a05476b603546046394/src/types/onramp.ts
         */
        WC_COINBASE_PAY_SDK_CHAINS: [
            'ethereum',
            'arbitrum',
            'polygon',
            'berachain',
            'avalanche-c-chain',
            'optimism',
            'celo',
            'base'
        ],
        WC_COINBASE_PAY_SDK_FALLBACK_CHAIN: 'ethereum',
        WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP: {
            Ethereum: 'ethereum',
            'Arbitrum One': 'arbitrum',
            Polygon: 'polygon',
            Berachain: 'berachain',
            Avalanche: 'avalanche-c-chain',
            'OP Mainnet': 'optimism',
            Celo: 'celo',
            Base: 'base'
        },
        WC_COINBASE_ONRAMP_APP_ID: 'bf18c88d-495a-463b-b249-0b9d3656cf5e',
        SWAP_SUGGESTED_TOKENS: [
            'ETH',
            'UNI',
            '1INCH',
            'AAVE',
            'SOL',
            'ADA',
            'AVAX',
            'DOT',
            'LINK',
            'NITRO',
            'GAIA',
            'MILK',
            'TRX',
            'NEAR',
            'GNO',
            'WBTC',
            'DAI',
            'WETH',
            'USDC',
            'USDT',
            'ARB',
            'BAL',
            'BICO',
            'CRV',
            'ENS',
            'MATIC',
            'OP'
        ],
        SWAP_POPULAR_TOKENS: [
            'ETH',
            'UNI',
            '1INCH',
            'AAVE',
            'SOL',
            'ADA',
            'AVAX',
            'DOT',
            'LINK',
            'NITRO',
            'GAIA',
            'MILK',
            'TRX',
            'NEAR',
            'GNO',
            'WBTC',
            'DAI',
            'WETH',
            'USDC',
            'USDT',
            'ARB',
            'BAL',
            'BICO',
            'CRV',
            'ENS',
            'MATIC',
            'OP',
            'METAL',
            'DAI',
            'CHAMP',
            'WOLF',
            'SALE',
            'BAL',
            'BUSD',
            'MUST',
            'BTCpx',
            'ROUTE',
            'HEX',
            'WELT',
            'amDAI',
            'VSQ',
            'VISION',
            'AURUM',
            'pSP',
            'SNX',
            'VC',
            'LINK',
            'CHP',
            'amUSDT',
            'SPHERE',
            'FOX',
            'GIDDY',
            'GFC',
            'OMEN',
            'OX_OLD',
            'DE',
            'WNT'
        ],
        BALANCE_SUPPORTED_CHAINS: ['eip155', 'solana'],
        SWAP_SUPPORTED_NETWORKS: [
            // Ethereum'
            'eip155:1',
            // Arbitrum One'
            'eip155:42161',
            // Optimism'
            'eip155:10',
            // ZKSync Era'
            'eip155:324',
            // Base'
            'eip155:8453',
            // BNB Smart Chain'
            'eip155:56',
            // Polygon'
            'eip155:137',
            // Gnosis'
            'eip155:100',
            // Avalanche'
            'eip155:43114',
            // Fantom'
            'eip155:250',
            // Klaytn'
            'eip155:8217',
            // Aurora
            'eip155:1313161554'
        ],
        NAMES_SUPPORTED_CHAIN_NAMESPACES: ['eip155'],
        ONRAMP_SUPPORTED_CHAIN_NAMESPACES: ['eip155', 'solana'],
        ACTIVITY_ENABLED_CHAIN_NAMESPACES: ['eip155'],
        NATIVE_TOKEN_ADDRESS: {
            eip155: '0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',
            solana: 'So11111111111111111111111111111111111111111',
            polkadot: '0x',
            bip122: '0x'
        },
        CONVERT_SLIPPAGE_TOLERANCE: 1,
        CONNECT_LABELS: {
            MOBILE: 'Open and continue in a new browser tab'
        },
        DEFAULT_FEATURES: {
            swaps: true,
            onramp: true,
            receive: true,
            send: true,
            email: true,
            emailShowWallets: true,
            socials: [
                'google',
                'x',
                'discord',
                'farcaster',
                'github',
                'apple',
                'facebook'
            ],
            connectorTypeOrder: [
                'walletConnect',
                'recent',
                'injected',
                'featured',
                'custom',
                'external',
                'recommended'
            ],
            history: true,
            analytics: true,
            allWallets: true,
            legalCheckbox: false,
            smartSessions: false,
            collapseWallets: false,
            walletFeaturesOrder: ['onramp', 'swaps', 'receive', 'send'],
            connectMethodsOrder: undefined
        },
        DEFAULT_ACCOUNT_TYPES: {
            bip122: 'payment',
            eip155: 'smartAccount',
            polkadot: 'eoa',
            solana: 'eoa'
        },
        ADAPTER_TYPES: {
            UNIVERSAL: 'universal',
            SOLANA: 'solana',
            WAGMI: 'wagmi',
            ETHERS: 'ethers',
            ETHERS5: 'ethers5',
            BITCOIN: 'bitcoin'
        }
    };

    /* eslint-disable no-console */
    // -- Utility -----------------------------------------------------------------
    const StorageUtil = {
        // Cache expiry in milliseconds
        cacheExpiry: {
            portfolio: 30000,
            nativeBalance: 30000,
            ens: 300000,
            identity: 300000
        },
        isCacheExpired(timestamp, cacheExpiry) {
            return Date.now() - timestamp > cacheExpiry;
        },
        getActiveNetworkProps() {
            const namespace = StorageUtil.getActiveNamespace();
            const caipNetworkId = StorageUtil.getActiveCaipNetworkId();
            const stringChainId = caipNetworkId ? caipNetworkId.split(':')[1] : undefined;
            // eslint-disable-next-line no-nested-ternary
            const chainId = stringChainId
                ? isNaN(Number(stringChainId))
                    ? stringChainId
                    : Number(stringChainId)
                : undefined;
            return {
                namespace,
                caipNetworkId,
                chainId
            };
        },
        setWalletConnectDeepLink({ name, href }) {
            try {
                SafeLocalStorage.setItem(SafeLocalStorageKeys.DEEPLINK_CHOICE, JSON.stringify({ href, name }));
            }
            catch {
                console.info('Unable to set WalletConnect deep link');
            }
        },
        getWalletConnectDeepLink() {
            try {
                const deepLink = SafeLocalStorage.getItem(SafeLocalStorageKeys.DEEPLINK_CHOICE);
                if (deepLink) {
                    return JSON.parse(deepLink);
                }
            }
            catch {
                console.info('Unable to get WalletConnect deep link');
            }
            return undefined;
        },
        deleteWalletConnectDeepLink() {
            try {
                SafeLocalStorage.removeItem(SafeLocalStorageKeys.DEEPLINK_CHOICE);
            }
            catch {
                console.info('Unable to delete WalletConnect deep link');
            }
        },
        setActiveNamespace(namespace) {
            try {
                SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_NAMESPACE, namespace);
            }
            catch {
                console.info('Unable to set active namespace');
            }
        },
        setActiveCaipNetworkId(caipNetworkId) {
            try {
                SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID, caipNetworkId);
                StorageUtil.setActiveNamespace(caipNetworkId.split(':')[0]);
            }
            catch {
                console.info('Unable to set active caip network id');
            }
        },
        getActiveCaipNetworkId() {
            try {
                return SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);
            }
            catch {
                console.info('Unable to get active caip network id');
                return undefined;
            }
        },
        deleteActiveCaipNetworkId() {
            try {
                SafeLocalStorage.removeItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);
            }
            catch {
                console.info('Unable to delete active caip network id');
            }
        },
        deleteConnectedConnectorId(namespace) {
            try {
                const key = getSafeConnectorIdKey(namespace);
                SafeLocalStorage.removeItem(key);
            }
            catch {
                console.info('Unable to delete connected connector id');
            }
        },
        setAppKitRecent(wallet) {
            try {
                const recentWallets = StorageUtil.getRecentWallets();
                const exists = recentWallets.find(w => w.id === wallet.id);
                if (!exists) {
                    recentWallets.unshift(wallet);
                    if (recentWallets.length > 2) {
                        recentWallets.pop();
                    }
                    SafeLocalStorage.setItem(SafeLocalStorageKeys.RECENT_WALLETS, JSON.stringify(recentWallets));
                }
            }
            catch {
                console.info('Unable to set AppKit recent');
            }
        },
        getRecentWallets() {
            try {
                const recent = SafeLocalStorage.getItem(SafeLocalStorageKeys.RECENT_WALLETS);
                return recent ? JSON.parse(recent) : [];
            }
            catch {
                console.info('Unable to get AppKit recent');
            }
            return [];
        },
        setConnectedConnectorId(namespace, connectorId) {
            try {
                const key = getSafeConnectorIdKey(namespace);
                SafeLocalStorage.setItem(key, connectorId);
            }
            catch {
                console.info('Unable to set Connected Connector Id');
            }
        },
        getActiveNamespace() {
            try {
                const activeNamespace = SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_NAMESPACE);
                return activeNamespace;
            }
            catch {
                console.info('Unable to get active namespace');
            }
            return undefined;
        },
        getConnectedConnectorId(namespace) {
            if (!namespace) {
                return undefined;
            }
            try {
                const key = getSafeConnectorIdKey(namespace);
                return SafeLocalStorage.getItem(key);
            }
            catch (e) {
                console.info('Unable to get connected connector id in namespace ', namespace);
            }
            return undefined;
        },
        setConnectedSocialProvider(socialProvider) {
            try {
                SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_SOCIAL, socialProvider);
            }
            catch {
                console.info('Unable to set connected social provider');
            }
        },
        getConnectedSocialProvider() {
            try {
                return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL);
            }
            catch {
                console.info('Unable to get connected social provider');
            }
            return undefined;
        },
        deleteConnectedSocialProvider() {
            try {
                SafeLocalStorage.removeItem(SafeLocalStorageKeys.CONNECTED_SOCIAL);
            }
            catch {
                console.info('Unable to delete connected social provider');
            }
        },
        getConnectedSocialUsername() {
            try {
                return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME);
            }
            catch {
                console.info('Unable to get connected social username');
            }
            return undefined;
        },
        getStoredActiveCaipNetworkId() {
            const storedCaipNetworkId = SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);
            const networkId = storedCaipNetworkId?.split(':')?.[1];
            return networkId;
        },
        setConnectionStatus(status) {
            try {
                SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTION_STATUS, status);
            }
            catch {
                console.info('Unable to set connection status');
            }
        },
        getConnectionStatus() {
            try {
                return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTION_STATUS);
            }
            catch {
                return undefined;
            }
        },
        getConnectedNamespaces() {
            try {
                const namespaces = SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_NAMESPACES);
                if (!namespaces?.length) {
                    return [];
                }
                return namespaces.split(',');
            }
            catch {
                return [];
            }
        },
        setConnectedNamespaces(namespaces) {
            try {
                const uniqueNamespaces = Array.from(new Set(namespaces));
                SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_NAMESPACES, uniqueNamespaces.join(','));
            }
            catch {
                console.info('Unable to set namespaces in storage');
            }
        },
        addConnectedNamespace(namespace) {
            try {
                const namespaces = StorageUtil.getConnectedNamespaces();
                if (!namespaces.includes(namespace)) {
                    namespaces.push(namespace);
                    StorageUtil.setConnectedNamespaces(namespaces);
                }
            }
            catch {
                console.info('Unable to add connected namespace');
            }
        },
        removeConnectedNamespace(namespace) {
            try {
                const namespaces = StorageUtil.getConnectedNamespaces();
                const index = namespaces.indexOf(namespace);
                if (index > -1) {
                    namespaces.splice(index, 1);
                    StorageUtil.setConnectedNamespaces(namespaces);
                }
            }
            catch {
                console.info('Unable to remove connected namespace');
            }
        },
        getTelegramSocialProvider() {
            try {
                return SafeLocalStorage.getItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);
            }
            catch {
                console.info('Unable to get telegram social provider');
                return null;
            }
        },
        setTelegramSocialProvider(socialProvider) {
            try {
                SafeLocalStorage.setItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER, socialProvider);
            }
            catch {
                console.info('Unable to set telegram social provider');
            }
        },
        removeTelegramSocialProvider() {
            try {
                SafeLocalStorage.removeItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);
            }
            catch {
                console.info('Unable to remove telegram social provider');
            }
        },
        getBalanceCache() {
            let cache = {};
            try {
                const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.PORTFOLIO_CACHE);
                cache = result ? JSON.parse(result) : {};
            }
            catch {
                console.info('Unable to get balance cache');
            }
            return cache;
        },
        removeAddressFromBalanceCache(caipAddress) {
            try {
                const cache = StorageUtil.getBalanceCache();
                SafeLocalStorage.setItem(SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify({ ...cache, [caipAddress]: undefined }));
            }
            catch {
                console.info('Unable to remove address from balance cache', caipAddress);
            }
        },
        getBalanceCacheForCaipAddress(caipAddress) {
            try {
                const cache = StorageUtil.getBalanceCache();
                const balanceCache = cache[caipAddress];
                // We want to discard cache if it's older than the cache expiry
                if (balanceCache &&
                    !this.isCacheExpired(balanceCache.timestamp, this.cacheExpiry.portfolio)) {
                    return balanceCache.balance;
                }
                StorageUtil.removeAddressFromBalanceCache(caipAddress);
            }
            catch {
                console.info('Unable to get balance cache for address', caipAddress);
            }
            return undefined;
        },
        updateBalanceCache(params) {
            try {
                const cache = StorageUtil.getBalanceCache();
                cache[params.caipAddress] = params;
                SafeLocalStorage.setItem(SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify(cache));
            }
            catch {
                console.info('Unable to update balance cache', params);
            }
        },
        getNativeBalanceCache() {
            let cache = {};
            try {
                const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);
                cache = result ? JSON.parse(result) : {};
            }
            catch {
                console.info('Unable to get balance cache');
            }
            return cache;
        },
        removeAddressFromNativeBalanceCache(caipAddress) {
            try {
                const cache = StorageUtil.getBalanceCache();
                SafeLocalStorage.setItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify({ ...cache, [caipAddress]: undefined }));
            }
            catch {
                console.info('Unable to remove address from balance cache', caipAddress);
            }
        },
        getNativeBalanceCacheForCaipAddress(caipAddress) {
            try {
                const cache = StorageUtil.getNativeBalanceCache();
                const nativeBalanceCache = cache[caipAddress];
                // We want to discard cache if it's older than the cache expiry
                if (nativeBalanceCache &&
                    !this.isCacheExpired(nativeBalanceCache.timestamp, this.cacheExpiry.nativeBalance)) {
                    return nativeBalanceCache;
                }
                console.info('Discarding cache for address', caipAddress);
                StorageUtil.removeAddressFromBalanceCache(caipAddress);
            }
            catch {
                console.info('Unable to get balance cache for address', caipAddress);
            }
            return undefined;
        },
        updateNativeBalanceCache(params) {
            try {
                const cache = StorageUtil.getNativeBalanceCache();
                cache[params.caipAddress] = params;
                SafeLocalStorage.setItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify(cache));
            }
            catch {
                console.info('Unable to update balance cache', params);
            }
        },
        getEnsCache() {
            let cache = {};
            try {
                const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.ENS_CACHE);
                cache = result ? JSON.parse(result) : {};
            }
            catch {
                console.info('Unable to get ens name cache');
            }
            return cache;
        },
        getEnsFromCacheForAddress(address) {
            try {
                const cache = StorageUtil.getEnsCache();
                const ensCache = cache[address];
                // We want to discard cache if it's older than the cache expiry
                if (ensCache && !this.isCacheExpired(ensCache.timestamp, this.cacheExpiry.ens)) {
                    return ensCache.ens;
                }
                StorageUtil.removeEnsFromCache(address);
            }
            catch {
                console.info('Unable to get ens name from cache', address);
            }
            return undefined;
        },
        updateEnsCache(params) {
            try {
                const cache = StorageUtil.getEnsCache();
                cache[params.address] = params;
                SafeLocalStorage.setItem(SafeLocalStorageKeys.ENS_CACHE, JSON.stringify(cache));
            }
            catch {
                console.info('Unable to update ens name cache', params);
            }
        },
        removeEnsFromCache(address) {
            try {
                const cache = StorageUtil.getEnsCache();
                SafeLocalStorage.setItem(SafeLocalStorageKeys.ENS_CACHE, JSON.stringify({ ...cache, [address]: undefined }));
            }
            catch {
                console.info('Unable to remove ens name from cache', address);
            }
        },
        getIdentityCache() {
            let cache = {};
            try {
                const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.IDENTITY_CACHE);
                cache = result ? JSON.parse(result) : {};
            }
            catch {
                console.info('Unable to get identity cache');
            }
            return cache;
        },
        getIdentityFromCacheForAddress(address) {
            try {
                const cache = StorageUtil.getIdentityCache();
                const identityCache = cache[address];
                // We want to discard cache if it's older than the cache expiry
                if (identityCache &&
                    !this.isCacheExpired(identityCache.timestamp, this.cacheExpiry.identity)) {
                    return identityCache.identity;
                }
                StorageUtil.removeIdentityFromCache(address);
            }
            catch {
                console.info('Unable to get identity from cache', address);
            }
            return undefined;
        },
        updateIdentityCache(params) {
            try {
                const cache = StorageUtil.getIdentityCache();
                cache[params.address] = {
                    identity: params.identity,
                    timestamp: params.timestamp
                };
                SafeLocalStorage.setItem(SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify(cache));
            }
            catch {
                console.info('Unable to update identity cache', params);
            }
        },
        removeIdentityFromCache(address) {
            try {
                const cache = StorageUtil.getIdentityCache();
                SafeLocalStorage.setItem(SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify({ ...cache, [address]: undefined }));
            }
            catch {
                console.info('Unable to remove identity from cache', address);
            }
        },
        clearAddressCache() {
            try {
                SafeLocalStorage.removeItem(SafeLocalStorageKeys.PORTFOLIO_CACHE);
                SafeLocalStorage.removeItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);
                SafeLocalStorage.removeItem(SafeLocalStorageKeys.ENS_CACHE);
                SafeLocalStorage.removeItem(SafeLocalStorageKeys.IDENTITY_CACHE);
            }
            catch {
                console.info('Unable to clear address cache');
            }
        },
        setPreferredAccountTypes(accountTypes) {
            try {
                SafeLocalStorage.setItem(SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES, JSON.stringify(accountTypes));
            }
            catch {
                console.info('Unable to set preferred account types', accountTypes);
            }
        },
        getPreferredAccountTypes() {
            try {
                const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);
                return JSON.parse(result);
            }
            catch {
                console.info('Unable to get preferred account types');
            }
            return undefined;
        }
    };

    const CoreHelperUtil = {
        isMobile() {
            if (this.isClient()) {
                return Boolean(window?.matchMedia('(pointer:coarse)')?.matches ||
                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent));
            }
            return false;
        },
        checkCaipNetwork(network, networkName = '') {
            return network?.caipNetworkId.toLocaleLowerCase().includes(networkName.toLowerCase());
        },
        isAndroid() {
            if (!this.isMobile()) {
                return false;
            }
            const ua = window?.navigator.userAgent.toLowerCase();
            return CoreHelperUtil.isMobile() && ua.includes('android');
        },
        isIos() {
            if (!this.isMobile()) {
                return false;
            }
            const ua = window?.navigator.userAgent.toLowerCase();
            return ua.includes('iphone') || ua.includes('ipad');
        },
        isSafari() {
            if (!this.isClient()) {
                return false;
            }
            const ua = window?.navigator.userAgent.toLowerCase();
            return ua.includes('safari');
        },
        isClient() {
            return typeof window !== 'undefined';
        },
        isPairingExpired(expiry) {
            return expiry ? expiry - Date.now() <= ConstantsUtil$2.TEN_SEC_MS : true;
        },
        isAllowedRetry(lastRetry, differenceMs = ConstantsUtil$2.ONE_SEC_MS) {
            return Date.now() - lastRetry >= differenceMs;
        },
        copyToClopboard(text) {
            navigator.clipboard.writeText(text);
        },
        isIframe() {
            try {
                return window?.self !== window?.top;
            }
            catch (e) {
                return false;
            }
        },
        getPairingExpiry() {
            return Date.now() + ConstantsUtil$2.FOUR_MINUTES_MS;
        },
        getNetworkId(caipAddress) {
            return caipAddress?.split(':')[1];
        },
        getPlainAddress(caipAddress) {
            return caipAddress?.split(':')[2];
        },
        async wait(milliseconds) {
            return new Promise(resolve => {
                setTimeout(resolve, milliseconds);
            });
        },
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        debounce(func, timeout = 500) {
            let timer = undefined;
            return (...args) => {
                function next() {
                    func(...args);
                }
                if (timer) {
                    clearTimeout(timer);
                }
                timer = setTimeout(next, timeout);
            };
        },
        isHttpUrl(url) {
            return url.startsWith('http://') || url.startsWith('https://');
        },
        formatNativeUrl(appUrl, wcUri) {
            if (CoreHelperUtil.isHttpUrl(appUrl)) {
                return this.formatUniversalUrl(appUrl, wcUri);
            }
            let safeAppUrl = appUrl;
            if (!safeAppUrl.includes('://')) {
                safeAppUrl = appUrl.replaceAll('/', '').replaceAll(':', '');
                safeAppUrl = `${safeAppUrl}://`;
            }
            if (!safeAppUrl.endsWith('/')) {
                safeAppUrl = `${safeAppUrl}/`;
            }
            // Android deeplinks in tg context require the uri to be encoded twice
            if (this.isTelegram() && this.isAndroid()) {
                // eslint-disable-next-line no-param-reassign
                wcUri = encodeURIComponent(wcUri);
            }
            const encodedWcUrl = encodeURIComponent(wcUri);
            return {
                redirect: `${safeAppUrl}wc?uri=${encodedWcUrl}`,
                href: safeAppUrl
            };
        },
        formatUniversalUrl(appUrl, wcUri) {
            if (!CoreHelperUtil.isHttpUrl(appUrl)) {
                return this.formatNativeUrl(appUrl, wcUri);
            }
            let safeAppUrl = appUrl;
            if (!safeAppUrl.endsWith('/')) {
                safeAppUrl = `${safeAppUrl}/`;
            }
            const encodedWcUrl = encodeURIComponent(wcUri);
            return {
                redirect: `${safeAppUrl}wc?uri=${encodedWcUrl}`,
                href: safeAppUrl
            };
        },
        getOpenTargetForPlatform(target) {
            if (target === 'popupWindow') {
                return target;
            }
            // Only '_blank' deeplinks work in Telegram context
            if (this.isTelegram()) {
                // But for social login, we need to load the page in the same context
                if (StorageUtil.getTelegramSocialProvider()) {
                    return '_top';
                }
                return '_blank';
            }
            return target;
        },
        openHref(href, target, features) {
            window?.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');
        },
        returnOpenHref(href, target, features) {
            return window?.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');
        },
        isTelegram() {
            return (typeof window !== 'undefined' &&
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                (Boolean(window.TelegramWebviewProxy) ||
                    // eslint-disable-next-line @typescript-eslint/no-explicit-any
                    Boolean(window.Telegram) ||
                    // eslint-disable-next-line @typescript-eslint/no-explicit-any
                    Boolean(window.TelegramWebviewProxyProto)));
        },
        async preloadImage(src) {
            const imagePromise = new Promise((resolve, reject) => {
                const image = new Image();
                image.onload = resolve;
                image.onerror = reject;
                image.crossOrigin = 'anonymous';
                image.src = src;
            });
            return Promise.race([imagePromise, CoreHelperUtil.wait(2000)]);
        },
        formatBalance(balance, symbol) {
            let formattedBalance = '0.000';
            if (typeof balance === 'string') {
                const number = Number(balance);
                if (number) {
                    const formattedValue = Math.floor(number * 1000) / 1000;
                    if (formattedValue) {
                        formattedBalance = formattedValue.toString();
                    }
                }
            }
            return `${formattedBalance}${symbol ? ` ${symbol}` : ''}`;
        },
        formatBalance2(balance, symbol) {
            let formattedBalance = undefined;
            if (balance === '0') {
                formattedBalance = '0';
            }
            else if (typeof balance === 'string') {
                const number = Number(balance);
                if (number) {
                    formattedBalance = number.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0];
                }
            }
            return {
                value: formattedBalance ?? '0',
                rest: formattedBalance === '0' ? '000' : '',
                symbol
            };
        },
        getApiUrl() {
            return ConstantsUtil$3.W3M_API_URL;
        },
        getBlockchainApiUrl() {
            return ConstantsUtil$3.BLOCKCHAIN_API_RPC_URL;
        },
        getAnalyticsUrl() {
            return ConstantsUtil$3.PULSE_API_URL;
        },
        getUUID() {
            if (crypto?.randomUUID) {
                return crypto.randomUUID();
            }
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/gu, c => {
                const r = (Math.random() * 16) | 0;
                const v = c === 'x' ? r : (r & 0x3) | 0x8;
                return v.toString(16);
            });
        },
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        parseError(error) {
            if (typeof error === 'string') {
                return error;
            }
            else if (typeof error?.issues?.[0]?.message === 'string') {
                return error.issues[0].message;
            }
            else if (error instanceof Error) {
                return error.message;
            }
            return 'Unknown error';
        },
        sortRequestedNetworks(approvedIds, requestedNetworks = []) {
            const approvedIndexMap = {};
            if (requestedNetworks && approvedIds) {
                approvedIds.forEach((id, index) => {
                    approvedIndexMap[id] = index;
                });
                requestedNetworks.sort((a, b) => {
                    const indexA = approvedIndexMap[a.id];
                    const indexB = approvedIndexMap[b.id];
                    if (indexA !== undefined && indexB !== undefined) {
                        return indexA - indexB;
                    }
                    else if (indexA !== undefined) {
                        return -1;
                    }
                    else if (indexB !== undefined) {
                        return 1;
                    }
                    return 0;
                });
            }
            return requestedNetworks;
        },
        calculateBalance(array) {
            let sum = 0;
            for (const item of array) {
                sum += item.value ?? 0;
            }
            return sum;
        },
        formatTokenBalance(number) {
            const roundedNumber = number.toFixed(2);
            const [dollars, pennies] = roundedNumber.split('.');
            return { dollars, pennies };
        },
        isAddress(address, chain = 'eip155') {
            switch (chain) {
                case 'eip155':
                    if (!/^(?:0x)?[0-9a-f]{40}$/iu.test(address)) {
                        return false;
                    }
                    else if (/^(?:0x)?[0-9a-f]{40}$/iu.test(address) ||
                        /^(?:0x)?[0-9A-F]{40}$/iu.test(address)) {
                        return true;
                    }
                    return false;
                case 'solana':
                    return /[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(address);
                default:
                    return false;
            }
        },
        uniqueBy(arr, key) {
            const set = new Set();
            return arr.filter(item => {
                const keyValue = item[key];
                if (set.has(keyValue)) {
                    return false;
                }
                set.add(keyValue);
                return true;
            });
        },
        generateSdkVersion(adapters, platform, version) {
            const hasNoAdapters = adapters.length === 0;
            const adapterNames = (hasNoAdapters
                ? ConstantsUtil$2.ADAPTER_TYPES.UNIVERSAL
                : adapters.map(adapter => adapter.adapterType).join(','));
            return `${platform}-${adapterNames}-${version}`;
        },
        // eslint-disable-next-line max-params
        createAccount(namespace, address, type, publicKey, path) {
            return {
                namespace,
                address,
                type,
                publicKey,
                path
            };
        },
        isCaipAddress(address) {
            if (typeof address !== 'string') {
                return false;
            }
            const sections = address.split(':');
            const namespace = sections[0];
            return (sections.filter(Boolean).length === 3 &&
                namespace in ConstantsUtil$3.CHAIN_NAME_MAP);
        },
        isMac() {
            const ua = window?.navigator.userAgent.toLowerCase();
            return ua.includes('macintosh') && !ua.includes('safari');
        },
        formatTelegramSocialLoginUrl(url) {
            const valueToInject = `--${encodeURIComponent(window?.location.href)}`;
            const paramToInject = 'state=';
            const parsedUrl = new URL(url);
            if (parsedUrl.host === 'auth.magic.link') {
                const providerParam = 'provider_authorization_url=';
                const providerUrl = url.substring(url.indexOf(providerParam) + providerParam.length);
                const resultUrl = this.injectIntoUrl(decodeURIComponent(providerUrl), paramToInject, valueToInject);
                return url.replace(providerUrl, encodeURIComponent(resultUrl));
            }
            return this.injectIntoUrl(url, paramToInject, valueToInject);
        },
        injectIntoUrl(url, key, appendString) {
            // Find the position of "key" e.g. "state=" in the URL
            const keyIndex = url.indexOf(key);
            if (keyIndex === -1) {
                throw new Error(`${key} parameter not found in the URL: ${url}`);
            }
            // Find the position of the next "&" after "key"
            const keyEndIndex = url.indexOf('&', keyIndex);
            const keyLength = key.length;
            // If there is no "&" after key, it means "key" is the last parameter
            // eslint-disable-next-line no-negated-condition
            const keyParamEnd = keyEndIndex !== -1 ? keyEndIndex : url.length;
            // Extract the part of the URL before the key value
            const beforeKeyValue = url.substring(0, keyIndex + keyLength);
            // Extract the current key value
            const currentKeyValue = url.substring(keyIndex + keyLength, keyParamEnd);
            // Extract the part of the URL after the key value
            const afterKeyValue = url.substring(keyEndIndex);
            // Append the new string to the key value
            const newKeyValue = currentKeyValue + appendString;
            // Reconstruct the URL with the appended key value
            const newUrl = beforeKeyValue + newKeyValue + afterKeyValue;
            return newUrl;
        }
    };

    async function fetchData(...args) {
        const response = await fetch(...args);
        if (!response.ok) {
            // Create error object and reject if not a 2xx response code
            const err = new Error(`HTTP status code: ${response.status}`, {
                cause: response
            });
            throw err;
        }
        return response;
    }
    // -- Utility --------------------------------------------------------------------
    class FetchUtil {
        constructor({ baseUrl, clientId }) {
            this.baseUrl = baseUrl;
            this.clientId = clientId;
        }
        async get({ headers, signal, cache, ...args }) {
            const url = this.createUrl(args);
            const response = await fetchData(url, { method: 'GET', headers, signal, cache });
            return response.json();
        }
        async getBlob({ headers, signal, ...args }) {
            const url = this.createUrl(args);
            const response = await fetchData(url, { method: 'GET', headers, signal });
            return response.blob();
        }
        async post({ body, headers, signal, ...args }) {
            const url = this.createUrl(args);
            const response = await fetchData(url, {
                method: 'POST',
                headers,
                body: body ? JSON.stringify(body) : undefined,
                signal
            });
            return response.json();
        }
        async put({ body, headers, signal, ...args }) {
            const url = this.createUrl(args);
            const response = await fetchData(url, {
                method: 'PUT',
                headers,
                body: body ? JSON.stringify(body) : undefined,
                signal
            });
            return response.json();
        }
        async delete({ body, headers, signal, ...args }) {
            const url = this.createUrl(args);
            const response = await fetchData(url, {
                method: 'DELETE',
                headers,
                body: body ? JSON.stringify(body) : undefined,
                signal
            });
            return response.json();
        }
        createUrl({ path, params }) {
            const url = new URL(path, this.baseUrl);
            if (params) {
                Object.entries(params).forEach(([key, value]) => {
                    if (value) {
                        url.searchParams.append(key, value);
                    }
                });
            }
            if (this.clientId) {
                url.searchParams.append('clientId', this.clientId);
            }
            return url;
        }
    }

    const MobileWalletUtil = {
        /**
         * Handles mobile wallet redirection for wallets that have Universal Links.
         *
         * @param {Object} properties - The properties object.
         * @param {string} properties.name - The name of the wallet.
         */
        handleSolanaDeeplinkRedirect(name) {
            if (ChainController.state.activeChain === ConstantsUtil$3.CHAIN.SOLANA) {
                /**
                 * Universal Links requires explicit user interaction to open the wallet app.
                 * Previously we've been calling this with the life-cycle methods in the Solana clients by listening the SELECT_WALLET event of EventController.
                 * But this breaks the UL functionality for some wallets like Phantom.
                 */
                const href = window.location.href;
                const encodedHref = encodeURIComponent(href);
                if (name === 'Phantom' && !('phantom' in window)) {
                    const protocol = href.startsWith('https') ? 'https' : 'http';
                    const host = href.split('/')[2];
                    const encodedRef = encodeURIComponent(`${protocol}://${host}`);
                    window.location.href = `https://phantom.app/ul/browse/${encodedHref}?ref=${encodedRef}`;
                }
                if (name === 'Coinbase Wallet' && !('coinbaseSolana' in window)) {
                    window.location.href = `https://go.cb-w.com/dapp?cb_url=${encodedHref}`;
                }
            }
        }
    };

    // -- State --------------------------------------------- //
    const state$k = proxy({
        walletImages: {},
        networkImages: {},
        chainImages: {},
        connectorImages: {},
        tokenImages: {},
        currencyImages: {}
    });
    // -- Controller ---------------------------------------- //
    const AssetController = {
        state: state$k,
        subscribeNetworkImages(callback) {
            return subscribe(state$k.networkImages, () => callback(state$k.networkImages));
        },
        subscribeKey(key, callback) {
            return subscribeKey(state$k, key, callback);
        },
        subscribe(callback) {
            return subscribe(state$k, () => callback(state$k));
        },
        setWalletImage(key, value) {
            state$k.walletImages[key] = value;
        },
        setNetworkImage(key, value) {
            state$k.networkImages[key] = value;
        },
        setChainImage(key, value) {
            state$k.chainImages[key] = value;
        },
        setConnectorImage(key, value) {
            state$k.connectorImages = { ...state$k.connectorImages, [key]: value };
        },
        setTokenImage(key, value) {
            state$k.tokenImages[key] = value;
        },
        setCurrencyImage(key, value) {
            state$k.currencyImages[key] = value;
        }
    };

    const namespaceImageIds = {
        // Ethereum
        eip155: 'ba0ba0cd-17c6-4806-ad93-f9d174f17900',
        // Solana
        solana: 'a1b58899-f671-4276-6a5e-56ca5bd59700',
        // Polkadot
        polkadot: '',
        // Bitcoin
        bip122: '0b4838db-0161-4ffe-022d-532bf03dba00'
    };
    // -- State --------------------------------------------- //
    const state$j = proxy({
        networkImagePromises: {}
    });
    // -- Util ---------------------------------------- //
    const AssetUtil = {
        async fetchWalletImage(imageId) {
            if (!imageId) {
                return undefined;
            }
            await ApiController._fetchWalletImage(imageId);
            return this.getWalletImageById(imageId);
        },
        async fetchNetworkImage(imageId) {
            if (!imageId) {
                return undefined;
            }
            const existingImage = this.getNetworkImageById(imageId);
            // Check if the image already exists
            if (existingImage) {
                return existingImage;
            }
            // Check if the promise is already created
            if (!state$j.networkImagePromises[imageId]) {
                state$j.networkImagePromises[imageId] = ApiController._fetchNetworkImage(imageId);
            }
            await state$j.networkImagePromises[imageId];
            return this.getNetworkImageById(imageId);
        },
        getWalletImageById(imageId) {
            if (!imageId) {
                return undefined;
            }
            return AssetController.state.walletImages[imageId];
        },
        getWalletImage(wallet) {
            if (wallet?.image_url) {
                return wallet?.image_url;
            }
            if (wallet?.image_id) {
                return AssetController.state.walletImages[wallet.image_id];
            }
            return undefined;
        },
        getNetworkImage(network) {
            if (network?.assets?.imageUrl) {
                return network?.assets?.imageUrl;
            }
            if (network?.assets?.imageId) {
                return AssetController.state.networkImages[network.assets.imageId];
            }
            return undefined;
        },
        getNetworkImageById(imageId) {
            if (!imageId) {
                return undefined;
            }
            return AssetController.state.networkImages[imageId];
        },
        getConnectorImage(connector) {
            if (connector?.imageUrl) {
                return connector.imageUrl;
            }
            if (connector?.imageId) {
                return AssetController.state.connectorImages[connector.imageId];
            }
            return undefined;
        },
        getChainImage(chain) {
            return AssetController.state.networkImages[namespaceImageIds[chain]];
        }
    };

    const OptionsUtil = {
        getFeatureValue(key, features) {
            const optionValue = features?.[key];
            if (optionValue === undefined) {
                return ConstantsUtil$2.DEFAULT_FEATURES[key];
            }
            return optionValue;
        },
        filterSocialsByPlatform(socials) {
            if (!socials || !socials.length) {
                return socials;
            }
            if (CoreHelperUtil.isTelegram()) {
                if (CoreHelperUtil.isIos()) {
                    return socials.filter(s => s !== 'google');
                }
                if (CoreHelperUtil.isMac()) {
                    return socials.filter(s => s !== 'x');
                }
                if (CoreHelperUtil.isAndroid()) {
                    return socials.filter(s => !['facebook', 'x'].includes(s));
                }
            }
            return socials;
        }
    };

    // -- State --------------------------------------------- //
    const state$i = proxy({
        features: ConstantsUtil$2.DEFAULT_FEATURES,
        projectId: '',
        sdkType: 'appkit',
        sdkVersion: 'html-wagmi-undefined',
        defaultAccountTypes: {
            solana: 'eoa',
            bip122: 'payment',
            polkadot: 'eoa',
            eip155: 'smartAccount'
        },
        enableNetworkSwitch: true
    });
    // -- Controller ---------------------------------------- //
    const OptionsController = {
        state: state$i,
        subscribeKey(key, callback) {
            return subscribeKey(state$i, key, callback);
        },
        setOptions(options) {
            Object.assign(state$i, options);
        },
        setFeatures(features) {
            if (!features) {
                return;
            }
            if (!state$i.features) {
                state$i.features = ConstantsUtil$2.DEFAULT_FEATURES;
            }
            const newFeatures = { ...state$i.features, ...features };
            state$i.features = newFeatures;
            if (state$i.features.socials) {
                state$i.features.socials = OptionsUtil.filterSocialsByPlatform(state$i.features.socials);
            }
        },
        setProjectId(projectId) {
            state$i.projectId = projectId;
        },
        setCustomRpcUrls(customRpcUrls) {
            state$i.customRpcUrls = customRpcUrls;
        },
        setAllWallets(allWallets) {
            state$i.allWallets = allWallets;
        },
        setIncludeWalletIds(includeWalletIds) {
            state$i.includeWalletIds = includeWalletIds;
        },
        setExcludeWalletIds(excludeWalletIds) {
            state$i.excludeWalletIds = excludeWalletIds;
        },
        setFeaturedWalletIds(featuredWalletIds) {
            state$i.featuredWalletIds = featuredWalletIds;
        },
        setTokens(tokens) {
            state$i.tokens = tokens;
        },
        setTermsConditionsUrl(termsConditionsUrl) {
            state$i.termsConditionsUrl = termsConditionsUrl;
        },
        setPrivacyPolicyUrl(privacyPolicyUrl) {
            state$i.privacyPolicyUrl = privacyPolicyUrl;
        },
        setCustomWallets(customWallets) {
            state$i.customWallets = customWallets;
        },
        setIsSiweEnabled(isSiweEnabled) {
            state$i.isSiweEnabled = isSiweEnabled;
        },
        setIsUniversalProvider(isUniversalProvider) {
            state$i.isUniversalProvider = isUniversalProvider;
        },
        setSdkVersion(sdkVersion) {
            state$i.sdkVersion = sdkVersion;
        },
        setMetadata(metadata) {
            state$i.metadata = metadata;
        },
        setDisableAppend(disableAppend) {
            state$i.disableAppend = disableAppend;
        },
        setEIP6963Enabled(enableEIP6963) {
            state$i.enableEIP6963 = enableEIP6963;
        },
        setDebug(debug) {
            state$i.debug = debug;
        },
        setEnableWalletConnect(enableWalletConnect) {
            state$i.enableWalletConnect = enableWalletConnect;
        },
        setEnableWalletGuide(enableWalletGuide) {
            state$i.enableWalletGuide = enableWalletGuide;
        },
        setEnableAuthLogger(enableAuthLogger) {
            state$i.enableAuthLogger = enableAuthLogger;
        },
        setEnableWallets(enableWallets) {
            state$i.enableWallets = enableWallets;
        },
        setHasMultipleAddresses(hasMultipleAddresses) {
            state$i.hasMultipleAddresses = hasMultipleAddresses;
        },
        setSIWX(siwx) {
            state$i.siwx = siwx;
        },
        setConnectMethodsOrder(connectMethodsOrder) {
            state$i.features = {
                ...state$i.features,
                connectMethodsOrder
            };
        },
        setWalletFeaturesOrder(walletFeaturesOrder) {
            state$i.features = {
                ...state$i.features,
                walletFeaturesOrder
            };
        },
        setSocialsOrder(socialsOrder) {
            state$i.features = {
                ...state$i.features,
                socials: socialsOrder
            };
        },
        setCollapseWallets(collapseWallets) {
            state$i.features = {
                ...state$i.features,
                collapseWallets
            };
        },
        setEnableEmbedded(enableEmbedded) {
            state$i.enableEmbedded = enableEmbedded;
        },
        setAllowUnsupportedChain(allowUnsupportedChain) {
            state$i.allowUnsupportedChain = allowUnsupportedChain;
        },
        setManualWCControl(manualWCControl) {
            state$i.manualWCControl = manualWCControl;
        },
        setEnableNetworkSwitch(enableNetworkSwitch) {
            state$i.enableNetworkSwitch = enableNetworkSwitch;
        },
        setDefaultAccountTypes(defaultAccountType = {}) {
            Object.entries(defaultAccountType).forEach(([namespace, accountType]) => {
                if (accountType) {
                    // @ts-expect-error - Keys are validated by the param type
                    state$i.defaultAccountTypes[namespace] = accountType;
                }
            });
        },
        setUniversalProviderConfigOverride(universalProviderConfigOverride) {
            state$i.universalProviderConfigOverride = universalProviderConfigOverride;
        },
        getUniversalProviderConfigOverride() {
            return state$i.universalProviderConfigOverride;
        },
        getSnapshot() {
            return snapshot(state$i);
        }
    };

    // -- State --------------------------------------------- //
    const state$h = proxy({
        message: '',
        variant: 'info',
        open: false
    });
    // -- Controller ---------------------------------------- //
    const AlertController = {
        state: state$h,
        subscribeKey(key, callback) {
            return subscribeKey(state$h, key, callback);
        },
        open(message, variant) {
            const { debug } = OptionsController.state;
            const { shortMessage, longMessage } = message;
            if (debug) {
                state$h.message = shortMessage;
                state$h.variant = variant;
                state$h.open = true;
            }
            if (longMessage) {
                // eslint-disable-next-line no-console
                console.error(typeof longMessage === 'function' ? longMessage() : longMessage);
            }
        },
        close() {
            state$h.open = false;
            state$h.message = '';
            state$h.variant = 'info';
        }
    };

    // -- Helpers ------------------------------------------- //
    const baseUrl$2 = CoreHelperUtil.getAnalyticsUrl();
    const api$1 = new FetchUtil({ baseUrl: baseUrl$2, clientId: null });
    const excluded = ['MODAL_CREATED'];
    // -- State --------------------------------------------- //
    const state$g = proxy({
        timestamp: Date.now(),
        reportedErrors: {},
        data: {
            type: 'track',
            event: 'MODAL_CREATED'
        }
    });
    // -- Controller ---------------------------------------- //
    const EventsController = {
        state: state$g,
        subscribe(callback) {
            return subscribe(state$g, () => callback(state$g));
        },
        getSdkProperties() {
            const { projectId, sdkType, sdkVersion } = OptionsController.state;
            return {
                projectId,
                st: sdkType,
                sv: sdkVersion || 'html-wagmi-4.2.2'
            };
        },
        async _sendAnalyticsEvent(payload) {
            try {
                const address = AccountController.state.address;
                if (excluded.includes(payload.data.event) || typeof window === 'undefined') {
                    return;
                }
                await api$1.post({
                    path: '/e',
                    params: EventsController.getSdkProperties(),
                    body: {
                        eventId: CoreHelperUtil.getUUID(),
                        url: window.location.href,
                        domain: window.location.hostname,
                        timestamp: payload.timestamp,
                        props: { ...payload.data, address }
                    }
                });
                state$g.reportedErrors['FORBIDDEN'] = false;
            }
            catch (err) {
                const isForbiddenError = err instanceof Error &&
                    err.cause instanceof Response &&
                    err.cause.status === ConstantsUtil$3.HTTP_STATUS_CODES.FORBIDDEN &&
                    !state$g.reportedErrors['FORBIDDEN'];
                if (isForbiddenError) {
                    AlertController.open({
                        shortMessage: 'Invalid App Configuration',
                        longMessage: `Origin ${isSafe$1() ? window.origin : 'uknown'} not found on Allowlist - update configuration on cloud.reown.com`
                    }, 'error');
                    state$g.reportedErrors['FORBIDDEN'] = true;
                }
            }
        },
        sendEvent(data) {
            state$g.timestamp = Date.now();
            state$g.data = data;
            if (OptionsController.state.features?.analytics) {
                EventsController._sendAnalyticsEvent(state$g);
            }
        }
    };

    /*
     * Exclude wallets that do not support relay connections on Core
     * Excludes:
     * - Phantom
     * - Solflare
     * - Coinbase
     */
    const CORE_UNSUPPORTED_WALLET_IDS = [
        '1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79',
        'fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa',
        'a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393'
    ];
    // -- Helpers ------------------------------------------- //
    const baseUrl$1 = CoreHelperUtil.getApiUrl();
    const api = new FetchUtil({ baseUrl: baseUrl$1, clientId: null });
    const entries = 40;
    const recommendedEntries = 4;
    const imageCountToFetch = 20;
    // -- State --------------------------------------------- //
    const state$f = proxy({
        promises: {},
        page: 1,
        count: 0,
        featured: [],
        allFeatured: [],
        recommended: [],
        allRecommended: [],
        wallets: [],
        search: [],
        isAnalyticsEnabled: false,
        excludedWallets: [],
        isFetchingRecommendedWallets: false
    });
    // -- Controller ---------------------------------------- //
    const ApiController = {
        state: state$f,
        subscribeKey(key, callback) {
            return subscribeKey(state$f, key, callback);
        },
        _getSdkProperties() {
            const { projectId, sdkType, sdkVersion } = OptionsController.state;
            return {
                projectId,
                st: sdkType || 'appkit',
                sv: sdkVersion || 'html-wagmi-4.2.2'
            };
        },
        _filterOutExtensions(wallets) {
            if (OptionsController.state.isUniversalProvider) {
                return wallets.filter(w => Boolean(w.mobile_link || w.desktop_link || w.webapp_link));
            }
            return wallets;
        },
        async _fetchWalletImage(imageId) {
            const imageUrl = `${api.baseUrl}/getWalletImage/${imageId}`;
            const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });
            AssetController.setWalletImage(imageId, URL.createObjectURL(blob));
        },
        async _fetchNetworkImage(imageId) {
            const imageUrl = `${api.baseUrl}/public/getAssetImage/${imageId}`;
            const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });
            AssetController.setNetworkImage(imageId, URL.createObjectURL(blob));
        },
        async _fetchConnectorImage(imageId) {
            const imageUrl = `${api.baseUrl}/public/getAssetImage/${imageId}`;
            const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });
            AssetController.setConnectorImage(imageId, URL.createObjectURL(blob));
        },
        async _fetchCurrencyImage(countryCode) {
            const imageUrl = `${api.baseUrl}/public/getCurrencyImage/${countryCode}`;
            const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });
            AssetController.setCurrencyImage(countryCode, URL.createObjectURL(blob));
        },
        async _fetchTokenImage(symbol) {
            const imageUrl = `${api.baseUrl}/public/getTokenImage/${symbol}`;
            const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });
            AssetController.setTokenImage(symbol, URL.createObjectURL(blob));
        },
        async fetchNetworkImages() {
            const requestedCaipNetworks = ChainController.getAllRequestedCaipNetworks();
            const ids = requestedCaipNetworks
                ?.map(({ assets }) => assets?.imageId)
                .filter(Boolean)
                .filter(imageId => !AssetUtil.getNetworkImageById(imageId));
            if (ids) {
                await Promise.allSettled(ids.map(id => ApiController._fetchNetworkImage(id)));
            }
        },
        async fetchConnectorImages() {
            const { connectors } = ConnectorController.state;
            const ids = connectors.map(({ imageId }) => imageId).filter(Boolean);
            await Promise.allSettled(ids.map(id => ApiController._fetchConnectorImage(id)));
        },
        async fetchCurrencyImages(currencies = []) {
            await Promise.allSettled(currencies.map(currency => ApiController._fetchCurrencyImage(currency)));
        },
        async fetchTokenImages(tokens = []) {
            await Promise.allSettled(tokens.map(token => ApiController._fetchTokenImage(token)));
        },
        async fetchWallets(params) {
            const exclude = params.exclude ?? [];
            const sdkProperties = ApiController._getSdkProperties();
            if (sdkProperties.sv.startsWith('html-core-')) {
                exclude.push(...CORE_UNSUPPORTED_WALLET_IDS);
            }
            return await api.get({
                path: '/getWallets',
                params: {
                    ...ApiController._getSdkProperties(),
                    ...params,
                    page: String(params.page),
                    entries: String(params.entries),
                    include: params.include?.join(','),
                    exclude: params.exclude?.join(',')
                }
            });
        },
        async fetchFeaturedWallets() {
            const { featuredWalletIds } = OptionsController.state;
            if (featuredWalletIds?.length) {
                const params = {
                    ...ApiController._getSdkProperties(),
                    page: 1,
                    entries: featuredWalletIds?.length ?? recommendedEntries,
                    include: featuredWalletIds
                };
                const { data } = await ApiController.fetchWallets(params);
                data.sort((a, b) => featuredWalletIds.indexOf(a.id) - featuredWalletIds.indexOf(b.id));
                const images = data.map(d => d.image_id).filter(Boolean);
                await Promise.allSettled(images.map(id => ApiController._fetchWalletImage(id)));
                state$f.featured = data;
                state$f.allFeatured = data;
            }
        },
        async fetchRecommendedWallets() {
            try {
                state$f.isFetchingRecommendedWallets = true;
                const { includeWalletIds, excludeWalletIds, featuredWalletIds } = OptionsController.state;
                const exclude = [...(excludeWalletIds ?? []), ...(featuredWalletIds ?? [])].filter(Boolean);
                const chains = ChainController.getRequestedCaipNetworkIds().join(',');
                const params = {
                    page: 1,
                    entries: recommendedEntries,
                    include: includeWalletIds,
                    exclude,
                    chains
                };
                const { data, count } = await ApiController.fetchWallets(params);
                const recent = StorageUtil.getRecentWallets();
                const recommendedImages = data.map(d => d.image_id).filter(Boolean);
                const recentImages = recent.map(r => r.image_id).filter(Boolean);
                await Promise.allSettled([...recommendedImages, ...recentImages].map(id => ApiController._fetchWalletImage(id)));
                state$f.recommended = data;
                state$f.allRecommended = data;
                state$f.count = count ?? 0;
            }
            catch {
                // Catch silently
            }
            finally {
                state$f.isFetchingRecommendedWallets = false;
            }
        },
        async fetchWalletsByPage({ page }) {
            const { includeWalletIds, excludeWalletIds, featuredWalletIds } = OptionsController.state;
            const chains = ChainController.getRequestedCaipNetworkIds().join(',');
            const exclude = [
                ...state$f.recommended.map(({ id }) => id),
                ...(excludeWalletIds ?? []),
                ...(featuredWalletIds ?? [])
            ].filter(Boolean);
            const params = {
                page,
                entries,
                include: includeWalletIds,
                exclude,
                chains
            };
            const { data, count } = await ApiController.fetchWallets(params);
            const images = data
                .slice(0, imageCountToFetch)
                .map(w => w.image_id)
                .filter(Boolean);
            await Promise.allSettled(images.map(id => ApiController._fetchWalletImage(id)));
            state$f.wallets = CoreHelperUtil.uniqueBy([...state$f.wallets, ...ApiController._filterOutExtensions(data)], 'id');
            state$f.count = count > state$f.count ? count : state$f.count;
            state$f.page = page;
        },
        async initializeExcludedWallets({ ids }) {
            const chains = ChainController.getRequestedCaipNetworkIds().join(',');
            const params = {
                page: 1,
                entries: ids.length,
                include: ids,
                chains
            };
            const { data } = await ApiController.fetchWallets(params);
            if (data) {
                data.forEach(wallet => {
                    state$f.excludedWallets.push({ rdns: wallet.rdns, name: wallet.name });
                });
            }
        },
        async searchWallet({ search, badge }) {
            const { includeWalletIds, excludeWalletIds } = OptionsController.state;
            const chains = ChainController.getRequestedCaipNetworkIds().join(',');
            state$f.search = [];
            const params = {
                page: 1,
                entries: 100,
                search: search?.trim(),
                badge_type: badge,
                include: includeWalletIds,
                exclude: excludeWalletIds,
                chains
            };
            const { data } = await ApiController.fetchWallets(params);
            EventsController.sendEvent({
                type: 'track',
                event: 'SEARCH_WALLET',
                properties: { badge: badge ?? '', search: search ?? '' }
            });
            const images = data.map(w => w.image_id).filter(Boolean);
            await Promise.allSettled([
                ...images.map(id => ApiController._fetchWalletImage(id)),
                CoreHelperUtil.wait(300)
            ]);
            state$f.search = ApiController._filterOutExtensions(data);
        },
        initPromise(key, fetchFn) {
            const existingPromise = state$f.promises[key];
            if (existingPromise) {
                return existingPromise;
            }
            return (state$f.promises[key] = fetchFn());
        },
        prefetch({ fetchConnectorImages = true, fetchFeaturedWallets = true, fetchRecommendedWallets = true, fetchNetworkImages = true } = {}) {
            const promises = [
                fetchConnectorImages &&
                    ApiController.initPromise('connectorImages', ApiController.fetchConnectorImages),
                fetchFeaturedWallets &&
                    ApiController.initPromise('featuredWallets', ApiController.fetchFeaturedWallets),
                fetchRecommendedWallets &&
                    ApiController.initPromise('recommendedWallets', ApiController.fetchRecommendedWallets),
                fetchNetworkImages &&
                    ApiController.initPromise('networkImages', ApiController.fetchNetworkImages)
            ].filter(Boolean);
            return Promise.allSettled(promises);
        },
        prefetchAnalyticsConfig() {
            if (OptionsController.state.features?.analytics) {
                ApiController.fetchAnalyticsConfig();
            }
        },
        async fetchAnalyticsConfig() {
            try {
                const { isAnalyticsEnabled } = await api.get({
                    path: '/getAnalyticsConfig',
                    params: ApiController._getSdkProperties()
                });
                OptionsController.setFeatures({ analytics: isAnalyticsEnabled });
            }
            catch (error) {
                OptionsController.setFeatures({ analytics: false });
            }
        },
        setFilterByNamespace(namespace) {
            if (!namespace) {
                state$f.featured = state$f.allFeatured;
                state$f.recommended = state$f.allRecommended;
                return;
            }
            const caipNetworkIds = ChainController.getRequestedCaipNetworkIds().join(',');
            state$f.featured = state$f.allFeatured.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));
            state$f.recommended = state$f.allRecommended.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));
        }
    };

    // -- State --------------------------------------------- //
    const state$e = proxy({
        view: 'Connect',
        history: ['Connect'],
        transactionStack: []
    });
    // -- Controller ---------------------------------------- //
    const RouterController = {
        state: state$e,
        subscribeKey(key, callback) {
            return subscribeKey(state$e, key, callback);
        },
        pushTransactionStack(action) {
            state$e.transactionStack.push(action);
        },
        popTransactionStack(cancel) {
            const action = state$e.transactionStack.pop();
            if (!action) {
                return;
            }
            if (cancel) {
                // When the transaction is cancelled, we go back to the previous view
                this.goBack();
                action?.onCancel?.();
            }
            else {
                // When the transaction is successful, we do conditional navigation depending on the action properties
                if (action.goBack) {
                    this.goBack();
                }
                else if (action.replace) {
                    /*
                     *  If the history like ["ConnectingSiwe", "ApproveTransaction"], this means SIWE popup is opened after page rendered (not after user interaction)
                     *  we need to conditionally call replace.
                     *  There is a chance that there is only these two views in the history; when user approved, the modal should closed and history should be empty (both connectingsiwe and approveTX should be removed)
                     *  If there is another views before the ConnectingSiwe (if the CS is not the first view), we should back to the first view before CS.
                     */
                    const history = state$e.history;
                    const connectingSiweIndex = history.indexOf('ConnectingSiwe');
                    if (connectingSiweIndex > 0) {
                        // There are views before ConnectingSiwe
                        this.goBackToIndex(connectingSiweIndex - 1);
                    }
                    else {
                        // ConnectingSiwe is the first view
                        ModalController.close();
                        state$e.history = [];
                    }
                }
                else if (action.view) {
                    this.reset(action.view);
                }
                action?.onSuccess?.();
            }
        },
        push(view, data) {
            if (view !== state$e.view) {
                state$e.view = view;
                state$e.history.push(view);
                state$e.data = data;
            }
        },
        reset(view, data) {
            state$e.view = view;
            state$e.history = [view];
            state$e.data = data;
        },
        replace(view, data) {
            const lastView = state$e.history.at(-1);
            const isSameView = lastView === view;
            if (!isSameView) {
                state$e.view = view;
                state$e.history[state$e.history.length - 1] = view;
                state$e.data = data;
            }
        },
        goBack() {
            const shouldReload = !ChainController.state.activeCaipAddress && this.state.view === 'ConnectingFarcaster';
            if (state$e.history.length > 1 && !state$e.history.includes('UnsupportedChain')) {
                state$e.history.pop();
                const [last] = state$e.history.slice(-1);
                if (last) {
                    state$e.view = last;
                }
            }
            else {
                ModalController.close();
            }
            if (state$e.data?.wallet) {
                state$e.data.wallet = undefined;
            }
            // Reloading the iframe contentwindow and doing the view animation in the modal causes a small freeze in the transition. Doing these separately fixes that.
            setTimeout(() => {
                if (shouldReload) {
                    AccountController.setFarcasterUrl(undefined, ChainController.state.activeChain);
                    const authConnector = ConnectorController.getAuthConnector();
                    authConnector?.provider?.reload();
                    const optionsState = snapshot(OptionsController.state);
                    authConnector?.provider?.syncDappData?.({
                        metadata: optionsState.metadata,
                        sdkVersion: optionsState.sdkVersion,
                        projectId: optionsState.projectId,
                        sdkType: optionsState.sdkType
                    });
                }
            }, 100);
        },
        goBackToIndex(historyIndex) {
            if (state$e.history.length > 1) {
                state$e.history = state$e.history.slice(0, historyIndex + 1);
                const [last] = state$e.history.slice(-1);
                if (last) {
                    state$e.view = last;
                }
            }
        }
    };

    // -- State --------------------------------------------- //
    const state$d = proxy({
        themeMode: 'dark',
        themeVariables: {},
        w3mThemeVariables: undefined
    });
    // -- Controller ---------------------------------------- //
    const ThemeController = {
        state: state$d,
        subscribe(callback) {
            return subscribe(state$d, () => callback(state$d));
        },
        setThemeMode(themeMode) {
            state$d.themeMode = themeMode;
            try {
                const authConnector = ConnectorController.getAuthConnector();
                if (authConnector) {
                    const themeVariables = ThemeController.getSnapshot().themeVariables;
                    authConnector.provider.syncTheme({
                        themeMode,
                        themeVariables,
                        w3mThemeVariables: getW3mThemeVariables(themeVariables, themeMode)
                    });
                }
            }
            catch {
                // eslint-disable-next-line no-console
                console.info('Unable to sync theme to auth connector');
            }
        },
        setThemeVariables(themeVariables) {
            state$d.themeVariables = { ...state$d.themeVariables, ...themeVariables };
            try {
                const authConnector = ConnectorController.getAuthConnector();
                if (authConnector) {
                    const themeVariablesSnapshot = ThemeController.getSnapshot().themeVariables;
                    authConnector.provider.syncTheme({
                        themeVariables: themeVariablesSnapshot,
                        w3mThemeVariables: getW3mThemeVariables(state$d.themeVariables, state$d.themeMode)
                    });
                }
            }
            catch {
                // eslint-disable-next-line no-console
                console.info('Unable to sync theme to auth connector');
            }
        },
        getSnapshot() {
            return snapshot(state$d);
        }
    };

    const defaultActiveConnectors = {
        eip155: undefined,
        solana: undefined,
        polkadot: undefined,
        bip122: undefined
    };
    // -- State --------------------------------------------- //
    const state$c = proxy({
        allConnectors: [],
        connectors: [],
        activeConnector: undefined,
        filterByNamespace: undefined,
        activeConnectorIds: { ...defaultActiveConnectors }
    });
    // -- Controller ---------------------------------------- //
    const ConnectorController = {
        state: state$c,
        subscribe(callback) {
            return subscribe(state$c, () => {
                callback(state$c);
            });
        },
        subscribeKey(key, callback) {
            return subscribeKey(state$c, key, callback);
        },
        initialize(namespaces) {
            namespaces.forEach(namespace => {
                const connectorId = StorageUtil.getConnectedConnectorId(namespace);
                if (connectorId) {
                    this.setConnectorId(connectorId, namespace);
                }
            });
        },
        setActiveConnector(connector) {
            if (connector) {
                state$c.activeConnector = ref(connector);
            }
        },
        setConnectors(connectors) {
            const newConnectors = connectors.filter(newConnector => !state$c.allConnectors.some(existingConnector => existingConnector.id === newConnector.id &&
                this.getConnectorName(existingConnector.name) ===
                    this.getConnectorName(newConnector.name) &&
                existingConnector.chain === newConnector.chain));
            /**
             * We are reassigning the state of the proxy to a new array of new objects, this can cause issues. So it is better to use ref in this case.
             * Check more about proxy on https://valtio.dev/docs/api/basic/proxy#Gotchas
             * Check more about ref on https://valtio.dev/docs/api/basic/ref
             */
            newConnectors.forEach(connector => {
                if (connector.type !== 'MULTI_CHAIN') {
                    state$c.allConnectors.push(ref(connector));
                }
            });
            state$c.connectors = this.mergeMultiChainConnectors(state$c.allConnectors);
        },
        removeAdapter(namespace) {
            state$c.allConnectors = state$c.allConnectors.filter(connector => connector.chain !== namespace);
            state$c.connectors = this.mergeMultiChainConnectors(state$c.allConnectors);
        },
        mergeMultiChainConnectors(connectors) {
            const connectorsByNameMap = this.generateConnectorMapByName(connectors);
            const mergedConnectors = [];
            connectorsByNameMap.forEach(keyConnectors => {
                const firstItem = keyConnectors[0];
                const isAuthConnector = firstItem?.id === ConstantsUtil$3.CONNECTOR_ID.AUTH;
                if (keyConnectors.length > 1 && firstItem) {
                    mergedConnectors.push({
                        name: firstItem.name,
                        imageUrl: firstItem.imageUrl,
                        imageId: firstItem.imageId,
                        connectors: [...keyConnectors],
                        type: isAuthConnector ? 'AUTH' : 'MULTI_CHAIN',
                        // These values are just placeholders, we don't use them in multi-chain connector select screen
                        chain: 'eip155',
                        id: firstItem?.id || ''
                    });
                }
                else if (firstItem) {
                    mergedConnectors.push(firstItem);
                }
            });
            return mergedConnectors;
        },
        generateConnectorMapByName(connectors) {
            const connectorsByNameMap = new Map();
            connectors.forEach(connector => {
                const { name } = connector;
                const connectorName = this.getConnectorName(name);
                if (!connectorName) {
                    return;
                }
                const connectorsByName = connectorsByNameMap.get(connectorName) || [];
                const haveSameConnector = connectorsByName.find(c => c.chain === connector.chain);
                if (!haveSameConnector) {
                    connectorsByName.push(connector);
                }
                connectorsByNameMap.set(connectorName, connectorsByName);
            });
            return connectorsByNameMap;
        },
        getConnectorName(name) {
            if (!name) {
                return name;
            }
            const nameOverrideMap = {
                'Trust Wallet': 'Trust'
            };
            return nameOverrideMap[name] || name;
        },
        getUniqueConnectorsByName(connectors) {
            const uniqueConnectors = [];
            connectors.forEach(c => {
                if (!uniqueConnectors.find(uc => uc.chain === c.chain)) {
                    uniqueConnectors.push(c);
                }
            });
            return uniqueConnectors;
        },
        addConnector(connector) {
            if (connector.id === ConstantsUtil$3.CONNECTOR_ID.AUTH) {
                const authConnector = connector;
                const optionsState = snapshot(OptionsController.state);
                const themeMode = ThemeController.getSnapshot().themeMode;
                const themeVariables = ThemeController.getSnapshot().themeVariables;
                authConnector?.provider?.syncDappData?.({
                    metadata: optionsState.metadata,
                    sdkVersion: optionsState.sdkVersion,
                    projectId: optionsState.projectId,
                    sdkType: optionsState.sdkType
                });
                authConnector?.provider?.syncTheme({
                    themeMode,
                    themeVariables,
                    w3mThemeVariables: getW3mThemeVariables(themeVariables, themeMode)
                });
                this.setConnectors([connector]);
            }
            else {
                this.setConnectors([connector]);
            }
        },
        getAuthConnector(chainNamespace) {
            const activeNamespace = chainNamespace || ChainController.state.activeChain;
            const authConnector = state$c.connectors.find(c => c.id === ConstantsUtil$3.CONNECTOR_ID.AUTH);
            if (!authConnector) {
                return undefined;
            }
            if (authConnector?.connectors?.length) {
                const connector = authConnector.connectors.find(c => c.chain === activeNamespace);
                return connector;
            }
            return authConnector;
        },
        getAnnouncedConnectorRdns() {
            return state$c.connectors.filter(c => c.type === 'ANNOUNCED').map(c => c.info?.rdns);
        },
        getConnectorById(id) {
            return state$c.allConnectors.find(c => c.id === id);
        },
        getConnector(id, rdns) {
            const connectorsByNamespace = state$c.allConnectors.filter(c => c.chain === ChainController.state.activeChain);
            return connectorsByNamespace.find(c => c.explorerId === id || c.info?.rdns === rdns);
        },
        syncIfAuthConnector(connector) {
            if (connector.id !== 'ID_AUTH') {
                return;
            }
            const authConnector = connector;
            const optionsState = snapshot(OptionsController.state);
            const themeMode = ThemeController.getSnapshot().themeMode;
            const themeVariables = ThemeController.getSnapshot().themeVariables;
            authConnector?.provider?.syncDappData?.({
                metadata: optionsState.metadata,
                sdkVersion: optionsState.sdkVersion,
                sdkType: optionsState.sdkType,
                projectId: optionsState.projectId
            });
            authConnector.provider.syncTheme({
                themeMode,
                themeVariables,
                w3mThemeVariables: getW3mThemeVariables(themeVariables, themeMode)
            });
        },
        /**
         * Returns the connectors filtered by namespace.
         * @param namespace - The namespace to filter the connectors by.
         * @returns ConnectorWithProviders[].
         */
        getConnectorsByNamespace(namespace) {
            const namespaceConnectors = state$c.allConnectors.filter(connector => connector.chain === namespace);
            return this.mergeMultiChainConnectors(namespaceConnectors);
        },
        selectWalletConnector(wallet) {
            const connector = ConnectorController.getConnector(wallet.id, wallet.rdns);
            if (ChainController.state.activeChain === ConstantsUtil$3.CHAIN.SOLANA) {
                MobileWalletUtil.handleSolanaDeeplinkRedirect(connector?.name || wallet.name || '');
            }
            if (connector) {
                RouterController.push('ConnectingExternal', { connector });
            }
            else {
                RouterController.push('ConnectingWalletConnect', { wallet });
            }
        },
        /**
         * Returns the connectors. If a namespace is provided, the connectors are filtered by namespace.
         * @param namespace - The namespace to filter the connectors by. If not provided, all connectors are returned.
         * @returns ConnectorWithProviders[].
         */
        getConnectors(namespace) {
            if (namespace) {
                return this.getConnectorsByNamespace(namespace);
            }
            return this.mergeMultiChainConnectors(state$c.allConnectors);
        },
        /**
         * Sets the filter by namespace and updates the connectors.
         * @param namespace - The namespace to filter the connectors by.
         */
        setFilterByNamespace(namespace) {
            state$c.filterByNamespace = namespace;
            state$c.connectors = this.getConnectors(namespace);
            ApiController.setFilterByNamespace(namespace);
        },
        setConnectorId(connectorId, namespace) {
            if (connectorId) {
                state$c.activeConnectorIds = {
                    ...state$c.activeConnectorIds,
                    [namespace]: connectorId
                };
                StorageUtil.setConnectedConnectorId(namespace, connectorId);
            }
        },
        removeConnectorId(namespace) {
            state$c.activeConnectorIds = {
                ...state$c.activeConnectorIds,
                [namespace]: undefined
            };
            StorageUtil.deleteConnectedConnectorId(namespace);
        },
        getConnectorId(namespace) {
            if (!namespace) {
                return undefined;
            }
            return state$c.activeConnectorIds[namespace];
        },
        isConnected(namespace) {
            if (!namespace) {
                return Object.values(state$c.activeConnectorIds).some(id => Boolean(id));
            }
            return Boolean(state$c.activeConnectorIds[namespace]);
        },
        resetConnectorIds() {
            state$c.activeConnectorIds = { ...defaultActiveConnectors };
        }
    };

    /**
     * Checks if the given namespace is associated with the specified connector id.
     * @param namespace - The namespace to check.
     * @param connectorId - The connector id to compare against.
     * @returns True if the namespace is associated with the connector id, false otherwise.
     */
    function checkNamespaceConnectorId(namespace, connectorId) {
        return ConnectorController.getConnectorId(namespace) === connectorId;
    }

    /**
     * Returns the array of chains to disconnect from the connector with the given namespace.
     * If no namespace is provided, it returns all chains.
     * @param namespace - The namespace of the connector to disconnect from.
     * @returns An array of chains to disconnect.
     */
    function getChainsToDisconnect(namespace) {
        const namespaces = Array.from(ChainController.state.chains.keys());
        let chains = [];
        if (namespace) {
            chains.push([namespace, ChainController.state.chains.get(namespace)]);
            if (checkNamespaceConnectorId(namespace, ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT)) {
                namespaces.forEach(ns => {
                    if (ns !== namespace &&
                        checkNamespaceConnectorId(ns, ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT)) {
                        chains.push([ns, ChainController.state.chains.get(ns)]);
                    }
                });
            }
            else if (checkNamespaceConnectorId(namespace, ConstantsUtil$3.CONNECTOR_ID.AUTH)) {
                namespaces.forEach(ns => {
                    if (ns !== namespace &&
                        checkNamespaceConnectorId(ns, ConstantsUtil$3.CONNECTOR_ID.AUTH)) {
                        chains.push([ns, ChainController.state.chains.get(ns)]);
                    }
                });
            }
        }
        else {
            chains = Array.from(ChainController.state.chains.entries());
        }
        return chains;
    }

    /**
     * Internal assertion helpers.
     * @module
     */
    /** Asserts something is positive integer. */
    function anumber$2(n) {
        if (!Number.isSafeInteger(n) || n < 0)
            throw new Error('positive integer expected, got ' + n);
    }
    /** Is number an Uint8Array? Copied from utils for perf. */
    function isBytes$3(a) {
        return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');
    }
    /** Asserts something is Uint8Array. */
    function abytes$3(b, ...lengths) {
        if (!isBytes$3(b))
            throw new Error('Uint8Array expected');
        if (lengths.length > 0 && !lengths.includes(b.length))
            throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);
    }
    /** Asserts a hash instance has not been destroyed / finished */
    function aexists$2(instance, checkFinished = true) {
        if (instance.destroyed)
            throw new Error('Hash instance has been destroyed');
        if (checkFinished && instance.finished)
            throw new Error('Hash#digest() has already been called');
    }
    /** Asserts output is properly-sized byte array */
    function aoutput$2(out, instance) {
        abytes$3(out);
        const min = instance.outputLen;
        if (out.length < min) {
            throw new Error('digestInto() expects output buffer of length at least ' + min);
        }
    }

    /**
     * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.
     * @todo re-check https://issues.chromium.org/issues/42212588
     * @module
     */
    const U32_MASK64$2 = /* @__PURE__ */ BigInt(2 ** 32 - 1);
    const _32n$2 = /* @__PURE__ */ BigInt(32);
    function fromBig$2(n, le = false) {
        if (le)
            return { h: Number(n & U32_MASK64$2), l: Number((n >> _32n$2) & U32_MASK64$2) };
        return { h: Number((n >> _32n$2) & U32_MASK64$2) | 0, l: Number(n & U32_MASK64$2) | 0 };
    }
    function split$2(lst, le = false) {
        let Ah = new Uint32Array(lst.length);
        let Al = new Uint32Array(lst.length);
        for (let i = 0; i < lst.length; i++) {
            const { h, l } = fromBig$2(lst[i], le);
            [Ah[i], Al[i]] = [h, l];
        }
        return [Ah, Al];
    }
    // Left rotate for Shift in [1, 32)
    const rotlSH$2 = (h, l, s) => (h << s) | (l >>> (32 - s));
    const rotlSL$2 = (h, l, s) => (l << s) | (h >>> (32 - s));
    // Left rotate for Shift in (32, 64), NOTE: 32 is special case.
    const rotlBH$2 = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));
    const rotlBL$2 = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));

    /**
     * Utilities for hex, bytes, CSPRNG.
     * @module
     */
    /*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    // We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.
    // node.js versions earlier than v19 don't declare it in global scope.
    // For node.js, package.json#exports field mapping rewrites import
    // from `crypto` to `cryptoNode`, which imports native module.
    // Makes the utils un-importable in browsers without a bundler.
    // Once node.js 18 is deprecated (2025-04-30), we can just drop the import.
    function u32$2(arr) {
        return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));
    }
    /** Is current platform little-endian? Most are. Big-Endian platform: IBM */
    const isLE$2 = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();
    // The byte swap operation for uint32
    function byteSwap$2(word) {
        return (((word << 24) & 0xff000000) |
            ((word << 8) & 0xff0000) |
            ((word >>> 8) & 0xff00) |
            ((word >>> 24) & 0xff));
    }
    /** In place byte swap for Uint32Array */
    function byteSwap32$2(arr) {
        for (let i = 0; i < arr.length; i++) {
            arr[i] = byteSwap$2(arr[i]);
        }
    }
    /**
     * Convert JS string to byte array.
     * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])
     */
    function utf8ToBytes$3(str) {
        if (typeof str !== 'string')
            throw new Error('utf8ToBytes expected string, got ' + typeof str);
        return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809
    }
    /**
     * Normalizes (non-hex) string or Uint8Array to Uint8Array.
     * Warning: when Uint8Array is passed, it would NOT get copied.
     * Keep in mind for future mutable operations.
     */
    function toBytes$4(data) {
        if (typeof data === 'string')
            data = utf8ToBytes$3(data);
        abytes$3(data);
        return data;
    }
    /** For runtime check if class implements interface */
    let Hash$2 = class Hash {
        // Safe version that clones internal state
        clone() {
            return this._cloneInto();
        }
    };
    /** Wraps hash function, creating an interface on top of it */
    function wrapConstructor$1(hashCons) {
        const hashC = (msg) => hashCons().update(toBytes$4(msg)).digest();
        const tmp = hashCons();
        hashC.outputLen = tmp.outputLen;
        hashC.blockLen = tmp.blockLen;
        hashC.create = () => hashCons();
        return hashC;
    }

    /**
     * SHA3 (keccak) hash function, based on a new "Sponge function" design.
     * Different from older hashes, the internal state is bigger than output size.
     *
     * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),
     * [Website](https://keccak.team/keccak.html),
     * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).
     *
     * Check out `sha3-addons` module for cSHAKE, k12, and others.
     * @module
     */
    // Various per round constants calculations
    const SHA3_PI$2 = [];
    const SHA3_ROTL$2 = [];
    const _SHA3_IOTA$2 = [];
    const _0n$6 = /* @__PURE__ */ BigInt(0);
    const _1n$7 = /* @__PURE__ */ BigInt(1);
    const _2n$5 = /* @__PURE__ */ BigInt(2);
    const _7n$2 = /* @__PURE__ */ BigInt(7);
    const _256n$2 = /* @__PURE__ */ BigInt(256);
    const _0x71n$2 = /* @__PURE__ */ BigInt(0x71);
    for (let round = 0, R = _1n$7, x = 1, y = 0; round < 24; round++) {
        // Pi
        [x, y] = [y, (2 * x + 3 * y) % 5];
        SHA3_PI$2.push(2 * (5 * y + x));
        // Rotational
        SHA3_ROTL$2.push((((round + 1) * (round + 2)) / 2) % 64);
        // Iota
        let t = _0n$6;
        for (let j = 0; j < 7; j++) {
            R = ((R << _1n$7) ^ ((R >> _7n$2) * _0x71n$2)) % _256n$2;
            if (R & _2n$5)
                t ^= _1n$7 << ((_1n$7 << /* @__PURE__ */ BigInt(j)) - _1n$7);
        }
        _SHA3_IOTA$2.push(t);
    }
    const [SHA3_IOTA_H$2, SHA3_IOTA_L$2] = /* @__PURE__ */ split$2(_SHA3_IOTA$2, true);
    // Left rotation (without 0, 32, 64)
    const rotlH$2 = (h, l, s) => (s > 32 ? rotlBH$2(h, l, s) : rotlSH$2(h, l, s));
    const rotlL$2 = (h, l, s) => (s > 32 ? rotlBL$2(h, l, s) : rotlSL$2(h, l, s));
    /** `keccakf1600` internal function, additionally allows to adjust round count. */
    function keccakP$2(s, rounds = 24) {
        const B = new Uint32Array(5 * 2);
        // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)
        for (let round = 24 - rounds; round < 24; round++) {
            // Theta θ
            for (let x = 0; x < 10; x++)
                B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];
            for (let x = 0; x < 10; x += 2) {
                const idx1 = (x + 8) % 10;
                const idx0 = (x + 2) % 10;
                const B0 = B[idx0];
                const B1 = B[idx0 + 1];
                const Th = rotlH$2(B0, B1, 1) ^ B[idx1];
                const Tl = rotlL$2(B0, B1, 1) ^ B[idx1 + 1];
                for (let y = 0; y < 50; y += 10) {
                    s[x + y] ^= Th;
                    s[x + y + 1] ^= Tl;
                }
            }
            // Rho (ρ) and Pi (π)
            let curH = s[2];
            let curL = s[3];
            for (let t = 0; t < 24; t++) {
                const shift = SHA3_ROTL$2[t];
                const Th = rotlH$2(curH, curL, shift);
                const Tl = rotlL$2(curH, curL, shift);
                const PI = SHA3_PI$2[t];
                curH = s[PI];
                curL = s[PI + 1];
                s[PI] = Th;
                s[PI + 1] = Tl;
            }
            // Chi (χ)
            for (let y = 0; y < 50; y += 10) {
                for (let x = 0; x < 10; x++)
                    B[x] = s[y + x];
                for (let x = 0; x < 10; x++)
                    s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];
            }
            // Iota (ι)
            s[0] ^= SHA3_IOTA_H$2[round];
            s[1] ^= SHA3_IOTA_L$2[round];
        }
        B.fill(0);
    }
    /** Keccak sponge function. */
    let Keccak$2 = class Keccak extends Hash$2 {
        // NOTE: we accept arguments in bytes instead of bits here.
        constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {
            super();
            this.blockLen = blockLen;
            this.suffix = suffix;
            this.outputLen = outputLen;
            this.enableXOF = enableXOF;
            this.rounds = rounds;
            this.pos = 0;
            this.posOut = 0;
            this.finished = false;
            this.destroyed = false;
            // Can be passed from user as dkLen
            anumber$2(outputLen);
            // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes
            // 0 < blockLen < 200
            if (0 >= this.blockLen || this.blockLen >= 200)
                throw new Error('Sha3 supports only keccak-f1600 function');
            this.state = new Uint8Array(200);
            this.state32 = u32$2(this.state);
        }
        keccak() {
            if (!isLE$2)
                byteSwap32$2(this.state32);
            keccakP$2(this.state32, this.rounds);
            if (!isLE$2)
                byteSwap32$2(this.state32);
            this.posOut = 0;
            this.pos = 0;
        }
        update(data) {
            aexists$2(this);
            const { blockLen, state } = this;
            data = toBytes$4(data);
            const len = data.length;
            for (let pos = 0; pos < len;) {
                const take = Math.min(blockLen - this.pos, len - pos);
                for (let i = 0; i < take; i++)
                    state[this.pos++] ^= data[pos++];
                if (this.pos === blockLen)
                    this.keccak();
            }
            return this;
        }
        finish() {
            if (this.finished)
                return;
            this.finished = true;
            const { state, suffix, pos, blockLen } = this;
            // Do the padding
            state[pos] ^= suffix;
            if ((suffix & 0x80) !== 0 && pos === blockLen - 1)
                this.keccak();
            state[blockLen - 1] ^= 0x80;
            this.keccak();
        }
        writeInto(out) {
            aexists$2(this, false);
            abytes$3(out);
            this.finish();
            const bufferOut = this.state;
            const { blockLen } = this;
            for (let pos = 0, len = out.length; pos < len;) {
                if (this.posOut >= blockLen)
                    this.keccak();
                const take = Math.min(blockLen - this.posOut, len - pos);
                out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);
                this.posOut += take;
                pos += take;
            }
            return out;
        }
        xofInto(out) {
            // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF
            if (!this.enableXOF)
                throw new Error('XOF is not possible for this instance');
            return this.writeInto(out);
        }
        xof(bytes) {
            anumber$2(bytes);
            return this.xofInto(new Uint8Array(bytes));
        }
        digestInto(out) {
            aoutput$2(out, this);
            if (this.finished)
                throw new Error('digest() was already called');
            this.writeInto(out);
            this.destroy();
            return out;
        }
        digest() {
            return this.digestInto(new Uint8Array(this.outputLen));
        }
        destroy() {
            this.destroyed = true;
            this.state.fill(0);
        }
        _cloneInto(to) {
            const { blockLen, suffix, outputLen, rounds, enableXOF } = this;
            to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));
            to.state32.set(this.state32);
            to.pos = this.pos;
            to.posOut = this.posOut;
            to.finished = this.finished;
            to.rounds = rounds;
            // Suffix can change in cSHAKE
            to.suffix = suffix;
            to.outputLen = outputLen;
            to.enableXOF = enableXOF;
            to.destroyed = this.destroyed;
            return to;
        }
    };
    const gen$2 = (suffix, blockLen, outputLen) => wrapConstructor$1(() => new Keccak$2(blockLen, suffix, outputLen));
    /** keccak-256 hash function. Different from SHA3-256. */
    const keccak_256$2 = /* @__PURE__ */ gen$2(0x01, 136, 256 / 8);

    /**
     * Map with a LRU (Least recently used) policy.
     *
     * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
     */
    let LruMap$5 = class LruMap extends Map {
        constructor(size) {
            super();
            Object.defineProperty(this, "maxSize", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.maxSize = size;
        }
        get(key) {
            const value = super.get(key);
            if (super.has(key) && value !== undefined) {
                this.delete(key);
                super.set(key, value);
            }
            return value;
        }
        set(key, value) {
            super.set(key, value);
            if (this.maxSize && this.size > this.maxSize) {
                const firstKey = this.keys().next().value;
                if (firstKey)
                    this.delete(firstKey);
            }
            return this;
        }
    };

    new LruMap$5(128);

    /** @internal */
    const version$5 = '0.1.1';

    /** @internal */
    function getVersion$2() {
        return version$5;
    }

    /**
     * Base error class inherited by all errors thrown by ox.
     *
     * @example
     * ```ts
     * import { Errors } from 'ox'
     * throw new Errors.BaseError('An error occurred')
     * ```
     */
    let BaseError$4 = class BaseError extends Error {
        constructor(shortMessage, options = {}) {
            const details = (() => {
                if (options.cause instanceof BaseError) {
                    if (options.cause.details)
                        return options.cause.details;
                    if (options.cause.shortMessage)
                        return options.cause.shortMessage;
                }
                if (options.cause?.message)
                    return options.cause.message;
                return options.details;
            })();
            const docsPath = (() => {
                if (options.cause instanceof BaseError)
                    return options.cause.docsPath || options.docsPath;
                return options.docsPath;
            })();
            const docsBaseUrl = 'https://oxlib.sh';
            const docs = `${docsBaseUrl}${docsPath ?? ''}`;
            const message = [
                shortMessage || 'An error occurred.',
                ...(options.metaMessages ? ['', ...options.metaMessages] : []),
                ...(details || docsPath
                    ? [
                        '',
                        details ? `Details: ${details}` : undefined,
                        docsPath ? `See: ${docs}` : undefined,
                    ]
                    : []),
            ]
                .filter((x) => typeof x === 'string')
                .join('\n');
            super(message, options.cause ? { cause: options.cause } : undefined);
            Object.defineProperty(this, "details", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docs", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docsPath", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "shortMessage", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "cause", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'BaseError'
            });
            Object.defineProperty(this, "version", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: `ox@${getVersion$2()}`
            });
            this.cause = options.cause;
            this.details = details;
            this.docs = docs;
            this.docsPath = docsPath;
            this.shortMessage = shortMessage;
        }
        walk(fn) {
            return walk$4(this, fn);
        }
    };
    /** @internal */
    function walk$4(err, fn) {
        if (fn?.(err))
            return err;
        if (err && typeof err === 'object' && 'cause' in err && err.cause)
            return walk$4(err.cause, fn);
        return fn ? null : err;
    }

    /** @internal */
    function assertSize$7(bytes, size_) {
        if (size$8(bytes) > size_)
            throw new SizeOverflowError$7({
                givenSize: size$8(bytes),
                maxSize: size_,
            });
    }
    /** @internal */
    const charCodeMap$4 = {
        zero: 48,
        nine: 57,
        A: 65,
        F: 70,
        a: 97,
        f: 102,
    };
    /** @internal */
    function charCodeToBase16$4(char) {
        if (char >= charCodeMap$4.zero && char <= charCodeMap$4.nine)
            return char - charCodeMap$4.zero;
        if (char >= charCodeMap$4.A && char <= charCodeMap$4.F)
            return char - (charCodeMap$4.A - 10);
        if (char >= charCodeMap$4.a && char <= charCodeMap$4.f)
            return char - (charCodeMap$4.a - 10);
        return undefined;
    }
    /** @internal */
    function pad$7(bytes, options = {}) {
        const { dir, size = 32 } = options;
        if (size === 0)
            return bytes;
        if (bytes.length > size)
            throw new SizeExceedsPaddingSizeError$7({
                size: bytes.length,
                targetSize: size,
                type: 'Bytes',
            });
        const paddedBytes = new Uint8Array(size);
        for (let i = 0; i < size; i++) {
            const padEnd = dir === 'right';
            paddedBytes[padEnd ? i : size - i - 1] =
                bytes[padEnd ? i : bytes.length - i - 1];
        }
        return paddedBytes;
    }

    /** @internal */
    function assertSize$6(hex, size_) {
        if (size$7(hex) > size_)
            throw new SizeOverflowError$6({
                givenSize: size$7(hex),
                maxSize: size_,
            });
    }
    /** @internal */
    function pad$6(hex_, options = {}) {
        const { dir, size = 32 } = options;
        if (size === 0)
            return hex_;
        const hex = hex_.replace('0x', '');
        if (hex.length > size * 2)
            throw new SizeExceedsPaddingSizeError$6({
                size: Math.ceil(hex.length / 2),
                targetSize: size,
                type: 'Hex',
            });
        return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;
    }

    const encoder$9 = /*#__PURE__*/ new TextEncoder();
    /**
     * Instantiates a {@link ox#Bytes.Bytes} value from a `Uint8Array`, a hex string, or an array of unsigned 8-bit integers.
     *
     * :::tip
     *
     * To instantiate from a **Boolean**, **String**, or **Number**, use one of the following:
     *
     * - `Bytes.fromBoolean`
     *
     * - `Bytes.fromString`
     *
     * - `Bytes.fromNumber`
     *
     * :::
     *
     * @example
     * ```ts twoslash
     * // @noErrors
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.from([255, 124, 5, 4])
     * // @log: Uint8Array([255, 124, 5, 4])
     *
     * const data = Bytes.from('0xdeadbeef')
     * // @log: Uint8Array([222, 173, 190, 239])
     * ```
     *
     * @param value - Value to convert.
     * @returns A {@link ox#Bytes.Bytes} instance.
     */
    function from$2(value) {
        if (value instanceof Uint8Array)
            return value;
        if (typeof value === 'string')
            return fromHex$2(value);
        return fromArray$2(value);
    }
    /**
     * Converts an array of unsigned 8-bit integers into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromArray([255, 124, 5, 4])
     * // @log: Uint8Array([255, 124, 5, 4])
     * ```
     *
     * @param value - Value to convert.
     * @returns A {@link ox#Bytes.Bytes} instance.
     */
    function fromArray$2(value) {
        return value instanceof Uint8Array ? value : new Uint8Array(value);
    }
    /**
     * Encodes a {@link ox#Hex.Hex} value into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421')
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421', { size: 32 })
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     * ```
     *
     * @param value - {@link ox#Hex.Hex} value to encode.
     * @param options - Encoding options.
     * @returns Encoded {@link ox#Bytes.Bytes}.
     */
    function fromHex$2(value, options = {}) {
        const { size } = options;
        let hex = value;
        if (size) {
            assertSize$6(value, size);
            hex = padRight$4(value, size);
        }
        let hexString = hex.slice(2);
        if (hexString.length % 2)
            hexString = `0${hexString}`;
        const length = hexString.length / 2;
        const bytes = new Uint8Array(length);
        for (let index = 0, j = 0; index < length; index++) {
            const nibbleLeft = charCodeToBase16$4(hexString.charCodeAt(j++));
            const nibbleRight = charCodeToBase16$4(hexString.charCodeAt(j++));
            if (nibbleLeft === undefined || nibbleRight === undefined) {
                throw new BaseError$4(`Invalid byte sequence ("${hexString[j - 2]}${hexString[j - 1]}" in "${hexString}").`);
            }
            bytes[index] = nibbleLeft * 16 + nibbleRight;
        }
        return bytes;
    }
    /**
     * Encodes a string into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromString('Hello world!')
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromString('Hello world!', { size: 32 })
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     * ```
     *
     * @param value - String to encode.
     * @param options - Encoding options.
     * @returns Encoded {@link ox#Bytes.Bytes}.
     */
    function fromString$5(value, options = {}) {
        const { size } = options;
        const bytes = encoder$9.encode(value);
        if (typeof size === 'number') {
            assertSize$7(bytes, size);
            return padRight$5(bytes, size);
        }
        return bytes;
    }
    /**
     * Pads a {@link ox#Bytes.Bytes} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.padRight(Bytes.from([1]), 4)
     * // @log: Uint8Array([1, 0, 0, 0])
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} value to pad.
     * @param size - Size to pad the {@link ox#Bytes.Bytes} value to.
     * @returns Padded {@link ox#Bytes.Bytes} value.
     */
    function padRight$5(value, size) {
        return pad$7(value, { dir: 'right', size });
    }
    /**
     * Retrieves the size of a {@link ox#Bytes.Bytes} value.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.size(Bytes.from([1, 2, 3, 4]))
     * // @log: 4
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} value.
     * @returns Size of the {@link ox#Bytes.Bytes} value.
     */
    function size$8(value) {
        return value.length;
    }
    /**
     * Thrown when a size exceeds the maximum allowed size.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.fromString('Hello World!', { size: 8 })
     * // @error: Bytes.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.
     * ```
     */
    let SizeOverflowError$7 = class SizeOverflowError extends BaseError$4 {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed \`${maxSize}\` bytes. Given size: \`${givenSize}\` bytes.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Bytes.SizeOverflowError'
            });
        }
    };
    /**
     * Thrown when a the padding size exceeds the maximum allowed size.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.padLeft(Bytes.fromString('Hello World!'), 8)
     * // @error: [Bytes.SizeExceedsPaddingSizeError: Bytes size (`12`) exceeds padding size (`8`).
     * ```
     */
    let SizeExceedsPaddingSizeError$7 = class SizeExceedsPaddingSizeError extends BaseError$4 {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (\`${size}\`) exceeds padding size (\`${targetSize}\`).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Bytes.SizeExceedsPaddingSizeError'
            });
        }
    };

    const encoder$8 = /*#__PURE__*/ new TextEncoder();
    const hexes$5 = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));
    /**
     * Concatenates two or more {@link ox#Hex.Hex}.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.concat('0x123', '0x456')
     * // @log: '0x123456'
     * ```
     *
     * @param values - The {@link ox#Hex.Hex} values to concatenate.
     * @returns The concatenated {@link ox#Hex.Hex} value.
     */
    function concat$2(...values) {
        return `0x${values.reduce((acc, x) => acc + x.replace('0x', ''), '')}`;
    }
    /**
     * Encodes a boolean into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromBoolean(true)
     * // @log: '0x1'
     *
     * Hex.fromBoolean(false)
     * // @log: '0x0'
     *
     * Hex.fromBoolean(true, { size: 32 })
     * // @log: '0x0000000000000000000000000000000000000000000000000000000000000001'
     * ```
     *
     * @param value - The boolean value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromBoolean$2(value, options = {}) {
        const hex = `0x${Number(value)}`;
        if (typeof options.size === 'number') {
            assertSize$6(hex, options.size);
            return padLeft$2(hex, options.size);
        }
        return hex;
    }
    /**
     * Encodes a {@link ox#Bytes.Bytes} value into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Bytes, Hex } from 'ox'
     *
     * Hex.fromBytes(Bytes.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]))
     * // @log: '0x48656c6c6f20576f726c6421'
     * ```
     *
     * @param value - The {@link ox#Bytes.Bytes} value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromBytes$2(value, options = {}) {
        let string = '';
        for (let i = 0; i < value.length; i++)
            string += hexes$5[value[i]];
        const hex = `0x${string}`;
        if (typeof options.size === 'number') {
            assertSize$6(hex, options.size);
            return padRight$4(hex, options.size);
        }
        return hex;
    }
    /**
     * Encodes a number or bigint into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromNumber(420)
     * // @log: '0x1a4'
     *
     * Hex.fromNumber(420, { size: 32 })
     * // @log: '0x00000000000000000000000000000000000000000000000000000000000001a4'
     * ```
     *
     * @param value - The number or bigint value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromNumber$2(value, options = {}) {
        const { signed, size } = options;
        const value_ = BigInt(value);
        let maxValue;
        if (size) {
            if (signed)
                maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;
            else
                maxValue = 2n ** (BigInt(size) * 8n) - 1n;
        }
        else if (typeof value === 'number') {
            maxValue = BigInt(Number.MAX_SAFE_INTEGER);
        }
        const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;
        if ((maxValue && value_ > maxValue) || value_ < minValue) {
            const suffix = typeof value === 'bigint' ? 'n' : '';
            throw new IntegerOutOfRangeError$4({
                max: maxValue ? `${maxValue}${suffix}` : undefined,
                min: `${minValue}${suffix}`,
                signed,
                size,
                value: `${value}${suffix}`,
            });
        }
        const stringValue = (signed && value_ < 0 ? (1n << BigInt(size * 8)) + BigInt(value_) : value_).toString(16);
        const hex = `0x${stringValue}`;
        if (size)
            return padLeft$2(hex, size);
        return hex;
    }
    /**
     * Encodes a string into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     * Hex.fromString('Hello World!')
     * // '0x48656c6c6f20576f726c6421'
     *
     * Hex.fromString('Hello World!', { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     * ```
     *
     * @param value - The string value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromString$4(value, options = {}) {
        return fromBytes$2(encoder$8.encode(value), options);
    }
    /**
     * Pads a {@link ox#Hex.Hex} value to the left with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.padLeft('0x1234', 4)
     * // @log: '0x00001234'
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to pad.
     * @param size - The size (in bytes) of the output hex value.
     * @returns The padded {@link ox#Hex.Hex} value.
     */
    function padLeft$2(value, size) {
        return pad$6(value, { dir: 'left', size });
    }
    /**
     * Pads a {@link ox#Hex.Hex} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts
     * import { Hex } from 'ox'
     *
     * Hex.padRight('0x1234', 4)
     * // @log: '0x12340000'
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to pad.
     * @param size - The size (in bytes) of the output hex value.
     * @returns The padded {@link ox#Hex.Hex} value.
     */
    function padRight$4(value, size) {
        return pad$6(value, { dir: 'right', size });
    }
    /**
     * Retrieves the size of a {@link ox#Hex.Hex} value (in bytes).
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.size('0xdeadbeef')
     * // @log: 4
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to get the size of.
     * @returns The size of the {@link ox#Hex.Hex} value (in bytes).
     */
    function size$7(value) {
        return Math.ceil((value.length - 2) / 2);
    }
    /**
     * Thrown when the provided integer is out of range, and cannot be represented as a hex value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromNumber(420182738912731283712937129)
     * // @error: Hex.IntegerOutOfRangeError: Number \`4.2018273891273126e+26\` is not in safe unsigned integer range (`0` to `9007199254740991`)
     * ```
     */
    let IntegerOutOfRangeError$4 = class IntegerOutOfRangeError extends BaseError$4 {
        constructor({ max, min, signed, size, value, }) {
            super(`Number \`${value}\` is not in safe${size ? ` ${size * 8}-bit` : ''}${signed ? ' signed' : ' unsigned'} integer range ${max ? `(\`${min}\` to \`${max}\`)` : `(above \`${min}\`)`}`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.IntegerOutOfRangeError'
            });
        }
    };
    /**
     * Thrown when the size of the value exceeds the expected max size.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromString('Hello World!', { size: 8 })
     * // @error: Hex.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.
     * ```
     */
    let SizeOverflowError$6 = class SizeOverflowError extends BaseError$4 {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed \`${maxSize}\` bytes. Given size: \`${givenSize}\` bytes.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.SizeOverflowError'
            });
        }
    };
    /**
     * Thrown when the size of the value exceeds the pad size.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.padLeft('0x1a4e12a45a21323123aaa87a897a897a898a6567a578a867a98778a667a85a875a87a6a787a65a675a6a9', 32)
     * // @error: Hex.SizeExceedsPaddingSizeError: Hex size (`43`) exceeds padding size (`32`).
     * ```
     */
    let SizeExceedsPaddingSizeError$6 = class SizeExceedsPaddingSizeError extends BaseError$4 {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (\`${size}\`) exceeds padding size (\`${targetSize}\`).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.SizeExceedsPaddingSizeError'
            });
        }
    };

    /**
     * Calculates the [Keccak256](https://en.wikipedia.org/wiki/SHA-3) hash of a {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.
     *
     * This function is a re-export of `keccak_256` from [`@noble/hashes`](https://github.com/paulmillr/noble-hashes), an audited & minimal JS hashing library.
     *
     * @example
     * ```ts twoslash
     * import { Hash } from 'ox'
     *
     * Hash.keccak256('0xdeadbeef')
     * // @log: '0xd4fd4e189132273036449fc9e11198c739161b4c0116a9a2dccdfa1c492006f1'
     * ```
     *
     * @example
     * ### Calculate Hash of a String
     *
     * ```ts twoslash
     * import { Hash, Hex } from 'ox'
     *
     * Hash.keccak256(Hex.fromString('hello world'))
     * // @log: '0x3ea2f1d0abf3fc66cf29eebb70cbd4e7fe762ef8a09bcc06c8edf641230afec0'
     * ```
     *
     * @example
     * ### Configure Return Type
     *
     * ```ts twoslash
     * import { Hash } from 'ox'
     *
     * Hash.keccak256('0xdeadbeef', { as: 'Bytes' })
     * // @log: Uint8Array [...]
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.
     * @param options - Options.
     * @returns Keccak256 hash.
     */
    function keccak256$4(value, options = {}) {
        const { as = typeof value === 'string' ? 'Hex' : 'Bytes' } = options;
        const bytes = keccak_256$2(from$2(value));
        if (as === 'Bytes')
            return bytes;
        return fromBytes$2(bytes);
    }

    /**
     * @internal
     *
     * Map with a LRU (Least recently used) policy.
     * @see https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
     */
    let LruMap$4 = class LruMap extends Map {
        constructor(size) {
            super();
            Object.defineProperty(this, "maxSize", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.maxSize = size;
        }
        get(key) {
            const value = super.get(key);
            if (super.has(key) && value !== undefined) {
                this.delete(key);
                super.set(key, value);
            }
            return value;
        }
        set(key, value) {
            super.set(key, value);
            if (this.maxSize && this.size > this.maxSize) {
                const firstKey = this.keys().next().value;
                if (firstKey)
                    this.delete(firstKey);
            }
            return this;
        }
    };

    const caches$2 = {
        checksum: /*#__PURE__*/ new LruMap$4(8192),
    };
    const checksum$5 = caches$2.checksum;

    const addressRegex$3 =  /^0x[a-fA-F0-9]{40}$/;
    /**
     * Asserts that the given value is a valid {@link ox#Address.Address}.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.assert('0xA0Cf798816D4b9b9866b5330EEa46a18382f251e')
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.assert('0xdeadbeef')
     * // @error: InvalidAddressError: Address "0xdeadbeef" is invalid.
     * ```
     *
     * @param value - Value to assert if it is a valid address.
     * @param options - Assertion options.
     */
    function assert$2(value, options = {}) {
        const { strict = true } = options;
        if (!addressRegex$3.test(value))
            throw new InvalidAddressError$3({
                address: value,
                cause: new InvalidInputError$2(),
            });
        if (strict) {
            if (value.toLowerCase() === value)
                return;
            if (checksum$4(value) !== value)
                throw new InvalidAddressError$3({
                    address: value,
                    cause: new InvalidChecksumError$2(),
                });
        }
    }
    /**
     * Computes the checksum address for the given {@link ox#Address.Address}.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.checksum('0xa0cf798816d4b9b9866b5330eea46a18382f251e')
     * // @log: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e'
     * ```
     *
     * @param address - The address to compute the checksum for.
     * @returns The checksummed address.
     */
    function checksum$4(address) {
        if (checksum$5.has(address))
            return checksum$5.get(address);
        assert$2(address, { strict: false });
        const hexAddress = address.substring(2).toLowerCase();
        const hash = keccak256$4(fromString$5(hexAddress), { as: 'Bytes' });
        const characters = hexAddress.split('');
        for (let i = 0; i < 40; i += 2) {
            if (hash[i >> 1] >> 4 >= 8 && characters[i]) {
                characters[i] = characters[i].toUpperCase();
            }
            if ((hash[i >> 1] & 0x0f) >= 8 && characters[i + 1]) {
                characters[i + 1] = characters[i + 1].toUpperCase();
            }
        }
        const result = `0x${characters.join('')}`;
        checksum$5.set(address, result);
        return result;
    }
    /**
     * Thrown when an address is invalid.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.from('0x123')
     * // @error: Address.InvalidAddressError: Address `0x123` is invalid.
     * ```
     */
    let InvalidAddressError$3 = class InvalidAddressError extends BaseError$4 {
        constructor({ address, cause }) {
            super(`Address "${address}" is invalid.`, {
                cause,
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidAddressError'
            });
        }
    };
    /** Thrown when an address is not a 20 byte (40 hexadecimal character) value. */
    let InvalidInputError$2 = class InvalidInputError extends BaseError$4 {
        constructor() {
            super('Address is not a 20 byte (40 hexadecimal character) value.');
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidInputError'
            });
        }
    };
    /** Thrown when an address does not match its checksum counterpart. */
    let InvalidChecksumError$2 = class InvalidChecksumError extends BaseError$4 {
        constructor() {
            super('Address does not match its checksum counterpart.');
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidChecksumError'
            });
        }
    };

    const arrayRegex$2 = /^(.*)\[([0-9]*)\]$/;
    // `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`
    // https://regexr.com/6va55
    const bytesRegex$2 = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;
    // `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`
    // https://regexr.com/6v8hp
    const integerRegex$2 = /^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;

    /**
     * Encodes an array of primitive values to a [packed ABI encoding](https://docs.soliditylang.org/en/latest/abi-spec.html#non-standard-packed-mode).
     *
     * @example
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     *
     * const encoded = AbiParameters.encodePacked(
     *   ['address', 'string'],
     *   ['0xd8da6bf26964af9d7eed9e03e53415d37aa96045', 'hello world'],
     * )
     * // @log: '0xd8da6bf26964af9d7eed9e03e53415d37aa9604568656c6c6f20776f726c64'
     * ```
     *
     * @param types - Set of ABI types to pack encode.
     * @param values - The set of primitive values that correspond to the ABI types defined in `types`.
     * @returns The encoded packed data.
     */
    function encodePacked$2(types, values) {
        if (types.length !== values.length)
            throw new LengthMismatchError$2({
                expectedLength: types.length,
                givenLength: values.length,
            });
        const data = [];
        for (let i = 0; i < types.length; i++) {
            const type = types[i];
            const value = values[i];
            data.push(encodePacked$2.encode(type, value));
        }
        return concat$2(...data);
    }
    (function (encodePacked) {
        // eslint-disable-next-line jsdoc/require-jsdoc
        function encode(type, value, isArray = false) {
            if (type === 'address') {
                const address = value;
                assert$2(address);
                return padLeft$2(address.toLowerCase(), isArray ? 32 : 0);
            }
            if (type === 'string')
                return fromString$4(value);
            if (type === 'bytes')
                return value;
            if (type === 'bool')
                return padLeft$2(fromBoolean$2(value), isArray ? 32 : 1);
            const intMatch = type.match(integerRegex$2);
            if (intMatch) {
                const [_type, baseType, bits = '256'] = intMatch;
                const size = Number.parseInt(bits) / 8;
                return fromNumber$2(value, {
                    size: isArray ? 32 : size,
                    signed: baseType === 'int',
                });
            }
            const bytesMatch = type.match(bytesRegex$2);
            if (bytesMatch) {
                const [_type, size] = bytesMatch;
                if (Number.parseInt(size) !== (value.length - 2) / 2)
                    throw new BytesSizeMismatchError$2({
                        expectedSize: Number.parseInt(size),
                        value: value,
                    });
                return padRight$4(value, isArray ? 32 : 0);
            }
            const arrayMatch = type.match(arrayRegex$2);
            if (arrayMatch && Array.isArray(value)) {
                const [_type, childType] = arrayMatch;
                const data = [];
                for (let i = 0; i < value.length; i++) {
                    data.push(encode(childType, value[i], true));
                }
                if (data.length === 0)
                    return '0x';
                return concat$2(...data);
            }
            throw new InvalidTypeError$2(type);
        }
        encodePacked.encode = encode;
    })(encodePacked$2 || (encodePacked$2 = {}));
    /**
     * The size of the bytes value does not match the size specified in the corresponding ABI parameter.
     *
     * ### Example
     *
     * ```ts twoslash
     * // @noErrors
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from('bytes8'), [['0xdeadbeefdeadbeefdeadbeef']])
     * //                                            ↑ expected: 8 bytes  ↑ ❌ size: 12 bytes
     * // @error: BytesSizeMismatchError: Size of bytes "0xdeadbeefdeadbeefdeadbeef"
     * // @error: (bytes12) does not match expected size (bytes8).
     * ```
     *
     * ### Solution
     *
     * Pass a bytes value of the correct size.
     *
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from(['bytes8']), ['0xdeadbeefdeadbeef'])
     * //                                                       ↑ ✅ size: 8 bytes
     * ```
     */
    let BytesSizeMismatchError$2 = class BytesSizeMismatchError extends BaseError$4 {
        constructor({ expectedSize, value, }) {
            super(`Size of bytes "${value}" (bytes${size$7(value)}) does not match expected size (bytes${expectedSize}).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.BytesSizeMismatchError'
            });
        }
    };
    /**
     * The length of the values to encode does not match the length of the ABI parameters.
     *
     * ### Example
     *
     * ```ts twoslash
     * // @noErrors
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from(['string', 'uint256']), ['hello'])
     * // @error: LengthMismatchError: ABI encoding params/values length mismatch.
     * // @error: Expected length (params): 2
     * // @error: Given length (values): 1
     * ```
     *
     * ### Solution
     *
     * Pass the correct number of values to encode.
     *
     * ### Solution
     *
     * Pass a [valid ABI type](https://docs.soliditylang.org/en/develop/abi-spec.html#types).
     */
    let LengthMismatchError$2 = class LengthMismatchError extends BaseError$4 {
        constructor({ expectedLength, givenLength, }) {
            super([
                'ABI encoding parameters/values length mismatch.',
                `Expected length (parameters): ${expectedLength}`,
                `Given length (values): ${givenLength}`,
            ].join('\n'));
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.LengthMismatchError'
            });
        }
    };
    /**
     * Throws when the ABI parameter type is invalid.
     *
     * @example
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     *
     * AbiParameters.decode([{ type: 'lol' }], '0x00000000000000000000000000000000000000000000000000000000000010f')
     * //                             ↑ ❌ invalid type
     * // @error: AbiParameters.InvalidTypeError: Type `lol` is not a valid ABI Type.
     * ```
     */
    let InvalidTypeError$2 = class InvalidTypeError extends BaseError$4 {
        constructor(type) {
            super(`Type \`${type}\` is not a valid ABI Type.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.InvalidTypeError'
            });
        }
    };

    // base-x encoding / decoding
    // Copyright (c) 2018 base-x contributors
    // Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)
    // Distributed under the MIT software license, see the accompanying
    // file LICENSE or http://www.opensource.org/licenses/mit-license.php.
    function base (ALPHABET) {
      if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }
      const BASE_MAP = new Uint8Array(256);
      for (let j = 0; j < BASE_MAP.length; j++) {
        BASE_MAP[j] = 255;
      }
      for (let i = 0; i < ALPHABET.length; i++) {
        const x = ALPHABET.charAt(i);
        const xc = x.charCodeAt(0);
        if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }
        BASE_MAP[xc] = i;
      }
      const BASE = ALPHABET.length;
      const LEADER = ALPHABET.charAt(0);
      const FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up
      const iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up
      function encode (source) {
        // eslint-disable-next-line no-empty
        if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {
          source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);
        } else if (Array.isArray(source)) {
          source = Uint8Array.from(source);
        }
        if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }
        if (source.length === 0) { return '' }
        // Skip & count leading zeroes.
        let zeroes = 0;
        let length = 0;
        let pbegin = 0;
        const pend = source.length;
        while (pbegin !== pend && source[pbegin] === 0) {
          pbegin++;
          zeroes++;
        }
        // Allocate enough space in big-endian base58 representation.
        const size = ((pend - pbegin) * iFACTOR + 1) >>> 0;
        const b58 = new Uint8Array(size);
        // Process the bytes.
        while (pbegin !== pend) {
          let carry = source[pbegin];
          // Apply "b58 = b58 * 256 + ch".
          let i = 0;
          for (let it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {
            carry += (256 * b58[it1]) >>> 0;
            b58[it1] = (carry % BASE) >>> 0;
            carry = (carry / BASE) >>> 0;
          }
          if (carry !== 0) { throw new Error('Non-zero carry') }
          length = i;
          pbegin++;
        }
        // Skip leading zeroes in base58 result.
        let it2 = size - length;
        while (it2 !== size && b58[it2] === 0) {
          it2++;
        }
        // Translate the result into a string.
        let str = LEADER.repeat(zeroes);
        for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }
        return str
      }
      function decodeUnsafe (source) {
        if (typeof source !== 'string') { throw new TypeError('Expected String') }
        if (source.length === 0) { return new Uint8Array() }
        let psz = 0;
        // Skip and count leading '1's.
        let zeroes = 0;
        let length = 0;
        while (source[psz] === LEADER) {
          zeroes++;
          psz++;
        }
        // Allocate enough space in big-endian base256 representation.
        const size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.
        const b256 = new Uint8Array(size);
        // Process the characters.
        while (psz < source.length) {
          // Find code of next character
          const charCode = source.charCodeAt(psz);
          // Base map can not be indexed using char code
          if (charCode > 255) { return }
          // Decode character
          let carry = BASE_MAP[charCode];
          // Invalid character
          if (carry === 255) { return }
          let i = 0;
          for (let it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {
            carry += (BASE * b256[it3]) >>> 0;
            b256[it3] = (carry % 256) >>> 0;
            carry = (carry / 256) >>> 0;
          }
          if (carry !== 0) { throw new Error('Non-zero carry') }
          length = i;
          psz++;
        }
        // Skip leading zeroes in b256.
        let it4 = size - length;
        while (it4 !== size && b256[it4] === 0) {
          it4++;
        }
        const vch = new Uint8Array(zeroes + (size - it4));
        let j = zeroes;
        while (it4 !== size) {
          vch[j++] = b256[it4++];
        }
        return vch
      }
      function decode (string) {
        const buffer = decodeUnsafe(string);
        if (buffer) { return buffer }
        throw new Error('Non-base' + BASE + ' character')
      }
      return {
        encode,
        decodeUnsafe,
        decode
      }
    }

    var ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';
    var base58 = base(ALPHABET);

    function Gt$3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ui$2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Wt$3(t,...e){if(!Ui$2(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function je$3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gt$3(t.outputLen),Gt$3(t.blockLen);}function Tt$3(t,e=true){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gn$2(t,e){Wt$3(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const ue$3=BigInt(2**32-1),Wn$2=BigInt(32);function Ti$2(t,e=false){return e?{h:Number(t&ue$3),l:Number(t>>Wn$2&ue$3)}:{h:Number(t>>Wn$2&ue$3)|0,l:Number(t&ue$3)|0}}function Ri$2(t,e=false){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=Ti$2(t[o],e);[n[o],r[o]]=[i,s];}return [n,r]}const _i$2=(t,e,n)=>t<<n|e>>>32-n,$i$2=(t,e,n)=>e<<n|t>>>32-n,Li$2=(t,e,n)=>e<<n-32|t>>>64-n,ji$2=(t,e,n)=>t<<n-32|e>>>64-n,Rt$3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ci$2(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ce$2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function st$2(t,e){return t<<32-e|t>>>e}const Xn$2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pi$2(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Jn$2(t){for(let e=0;e<t.length;e++)t[e]=Pi$2(t[e]);}function ki$2(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function _t$3(t){return typeof t=="string"&&(t=ki$2(t)),Wt$3(t),t}function Vi$2(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Wt$3(o),e+=o.length;}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length;}return n}let Pe$2 = class Pe{clone(){return this._cloneInto()}};function Qn$2(t){const e=r=>t().update(_t$3(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $t$2(t=32){if(Rt$3&&typeof Rt$3.getRandomValues=="function")return Rt$3.getRandomValues(new Uint8Array(t));if(Rt$3&&typeof Rt$3.randomBytes=="function")return Rt$3.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const tr$2=[],er$2=[],nr$3=[],Mi$2=BigInt(0),Xt$3=BigInt(1),Di$2=BigInt(2),Hi$1=BigInt(7),qi$2=BigInt(256),Ki$2=BigInt(113);for(let t=0,e=Xt$3,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],tr$2.push(2*(5*r+n)),er$2.push((t+1)*(t+2)/2%64);let o=Mi$2;for(let i=0;i<7;i++)e=(e<<Xt$3^(e>>Hi$1)*Ki$2)%qi$2,e&Di$2&&(o^=Xt$3<<(Xt$3<<BigInt(i))-Xt$3);nr$3.push(o);}const[Fi$2,zi$2]=Ri$2(nr$3,true),rr$3=(t,e,n)=>n>32?Li$2(t,e,n):_i$2(t,e,n),or$3=(t,e,n)=>n>32?ji$2(t,e,n):$i$2(t,e,n);function Zi$1(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const c=(s+8)%10,a=(s+2)%10,u=n[a],l=n[a+1],f=rr$3(u,l,1)^n[c],h=or$3(u,l,1)^n[c+1];for(let y=0;y<50;y+=10)t[s+y]^=f,t[s+y+1]^=h;}let o=t[2],i=t[3];for(let s=0;s<24;s++){const c=er$2[s],a=rr$3(o,i,c),u=or$3(o,i,c),l=tr$2[s];o=t[l],i=t[l+1],t[l]=a,t[l+1]=u;}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)n[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~n[(c+2)%10]&n[(c+4)%10];}t[0]^=Fi$2[r],t[1]^=zi$2[r];}n.fill(0);}let En$3 = class En extends Pe$2{constructor(e,n,r,o=false,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=false,this.destroyed=false,Gt$3(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ci$2(this.state);}keccak(){Xn$2||Jn$2(this.state32),Zi$1(this.state32,this.rounds),Xn$2||Jn$2(this.state32),this.posOut=0,this.pos=0;}update(e){Tt$3(this);const{blockLen:n,state:r}=this;e=_t$3(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);for(let c=0;c<s;c++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak();}return this}finish(){if(this.finished)return;this.finished=true;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak();}writeInto(e){Tt$3(this,false),Wt$3(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s;}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Gt$3(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gn$2(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=true,this.state.fill(0);}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new En(n,r,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}};const Yi$1=(t,e,n)=>Qn$2(()=>new En$3(e,t,n));Yi$1(1,136,256/8);function Ke$5(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Sr$3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tt$2(t,...e){if(!Sr$3(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Or$3(t,e=true){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ps$1(t,e){tt$2(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ar$3(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const mt$3=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),gs$1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ys$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ys$1)throw new Error("Non little-endian hardware is not supported");function ms$1(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Fe$3(t){if(typeof t=="string")t=ms$1(t);else if(Sr$3(t))t=ze$3(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function ws$1(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function bs$2(t,e){if(t.length!==e.length)return  false;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Es$1=(t,e)=>{function n(r,...o){if(tt$2(r),t.nonceLength!==void 0){const l=o[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?tt$2(l):tt$2(l,t.nonceLength);}const i=t.tagLength;i&&o[1]!==void 0&&tt$2(o[1]);const s=e(r,...o),c=(l,f)=>{if(f!==void 0){if(l!==2)throw new Error("cipher output not supported");tt$2(f);}};let a=false;return {encrypt(l,f){if(a)throw new Error("cannot encrypt() twice with same key + nonce");return a=true,tt$2(l),c(s.encrypt.length,f),s.encrypt(l,f)},decrypt(l,f){if(tt$2(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return c(s.decrypt.length,f),s.decrypt(l,f)}}}return Object.assign(n,t),n};function Br$3(t,e,n=true){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!vs$2(e))throw new Error("invalid output, must be aligned");return e}function Ir$3(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=4,u=0;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r);}function vs$2(t){return t.byteOffset%4===0}function ze$3(t){return Uint8Array.from(t)}function Lt$3(...t){for(let e=0;e<t.length;e++)t[e].fill(0);}const Nr$3=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),xs$2=Nr$3("expand 16-byte k"),Ss$1=Nr$3("expand 32-byte k"),Os$2=mt$3(xs$2),As$2=mt$3(Ss$1);function V$5(t,e){return t<<e|t>>>32-e}function Ze$3(t){return t.byteOffset%4===0}const he$3=64,Bs$1=16,Ur$3=2**32-1,Tr$3=new Uint32Array;function Is$2(t,e,n,r,o,i,s,c){const a=o.length,u=new Uint8Array(he$3),l=mt$3(u),f=Ze$3(o)&&Ze$3(i),h=f?mt$3(o):Tr$3,y=f?mt$3(i):Tr$3;for(let E=0;E<a;s++){if(t(e,n,r,l,s,c),s>=Ur$3)throw new Error("arx: counter overflow");const p=Math.min(he$3,a-E);if(f&&p===he$3){const d=E/4;if(E%4!==0)throw new Error("arx: invalid block position");for(let v=0,m;v<Bs$1;v++)m=d+v,y[m]=h[m]^l[v];E+=he$3;continue}for(let d=0,v;d<p;d++)v=E+d,i[v]=o[v]^u[d];E+=p;}}function Ns$2(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=ws$1({allowShortKeys:false,counterLength:8,counterRight:false,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Ke$5(o),Ke$5(s),Ar$3(i),Ar$3(n),(c,a,u,l,f=0)=>{tt$2(c),tt$2(a),tt$2(u);const h=u.length;if(l===void 0&&(l=new Uint8Array(h)),tt$2(l),Ke$5(f),f<0||f>=Ur$3)throw new Error("arx: counter overflow");if(l.length<h)throw new Error(`arx: output (${l.length}) is shorter than data (${h})`);const y=[];let E=c.length,p,d;if(E===32)y.push(p=ze$3(c)),d=As$2;else if(E===16&&n)p=new Uint8Array(32),p.set(c),p.set(c,16),d=Os$2,y.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);Ze$3(a)||y.push(a=ze$3(a));const v=mt$3(p);if(r){if(a.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(d,v,mt$3(a.subarray(0,16)),v),a=a.subarray(16);}const m=16-o;if(m!==a.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(m!==12){const N=new Uint8Array(12);N.set(a,i?0:12-a.length),a=N,y.push(a);}const O=mt$3(a);return Is$2(t,d,v,O,u,l,f,s),Lt$3(...y),l}}const F$3=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let Us$1 = class Us{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=false,e=Fe$3(e),tt$2(e,32);const n=F$3(e,0),r=F$3(e,2),o=F$3(e,4),i=F$3(e,6),s=F$3(e,8),c=F$3(e,10),a=F$3(e,12),u=F$3(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|c<<2)&8191,this.r[7]=(c>>>11|a<<5)&8065,this.r[8]=(a>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=F$3(e,16+2*l);}process(e,n,r=false){const o=r?0:2048,{h:i,r:s}=this,c=s[0],a=s[1],u=s[2],l=s[3],f=s[4],h=s[5],y=s[6],E=s[7],p=s[8],d=s[9],v=F$3(e,n+0),m=F$3(e,n+2),O=F$3(e,n+4),N=F$3(e,n+6),$=F$3(e,n+8),B=F$3(e,n+10),A=F$3(e,n+12),T=F$3(e,n+14);let S=i[0]+(v&8191),L=i[1]+((v>>>13|m<<3)&8191),U=i[2]+((m>>>10|O<<6)&8191),_=i[3]+((O>>>7|N<<9)&8191),j=i[4]+((N>>>4|$<<12)&8191),g=i[5]+($>>>1&8191),w=i[6]+(($>>>14|B<<2)&8191),b=i[7]+((B>>>11|A<<5)&8191),I=i[8]+((A>>>8|T<<8)&8191),R=i[9]+(T>>>5|o),x=0,C=x+S*c+L*(5*d)+U*(5*p)+_*(5*E)+j*(5*y);x=C>>>13,C&=8191,C+=g*(5*h)+w*(5*f)+b*(5*l)+I*(5*u)+R*(5*a),x+=C>>>13,C&=8191;let P=x+S*a+L*c+U*(5*d)+_*(5*p)+j*(5*E);x=P>>>13,P&=8191,P+=g*(5*y)+w*(5*h)+b*(5*f)+I*(5*l)+R*(5*u),x+=P>>>13,P&=8191;let k=x+S*u+L*a+U*c+_*(5*d)+j*(5*p);x=k>>>13,k&=8191,k+=g*(5*E)+w*(5*y)+b*(5*h)+I*(5*f)+R*(5*l),x+=k>>>13,k&=8191;let M=x+S*l+L*u+U*a+_*c+j*(5*d);x=M>>>13,M&=8191,M+=g*(5*p)+w*(5*E)+b*(5*y)+I*(5*h)+R*(5*f),x+=M>>>13,M&=8191;let D=x+S*f+L*l+U*u+_*a+j*c;x=D>>>13,D&=8191,D+=g*(5*d)+w*(5*p)+b*(5*E)+I*(5*y)+R*(5*h),x+=D>>>13,D&=8191;let z=x+S*h+L*f+U*l+_*u+j*a;x=z>>>13,z&=8191,z+=g*c+w*(5*d)+b*(5*p)+I*(5*E)+R*(5*y),x+=z>>>13,z&=8191;let Z=x+S*y+L*h+U*f+_*l+j*u;x=Z>>>13,Z&=8191,Z+=g*a+w*c+b*(5*d)+I*(5*p)+R*(5*E),x+=Z>>>13,Z&=8191;let it=x+S*E+L*y+U*h+_*f+j*l;x=it>>>13,it&=8191,it+=g*u+w*a+b*c+I*(5*d)+R*(5*p),x+=it>>>13,it&=8191;let W=x+S*p+L*E+U*y+_*h+j*f;x=W>>>13,W&=8191,W+=g*l+w*u+b*a+I*c+R*(5*d),x+=W>>>13,W&=8191;let J=x+S*d+L*p+U*E+_*y+j*h;x=J>>>13,J&=8191,J+=g*f+w*l+b*u+I*a+R*c,x+=J>>>13,J&=8191,x=(x<<2)+x|0,x=x+C|0,C=x&8191,x=x>>>13,P+=x,i[0]=C,i[1]=P,i[2]=k,i[3]=M,i[4]=D,i[5]=z,i[6]=Z,i[7]=it,i[8]=W,i[9]=J;}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=o,o=e[c]>>>13,e[c]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let i=(o^1)-1;for(let c=0;c<10;c++)r[c]&=i;i=~i;for(let c=0;c<10;c++)e[c]=e[c]&i|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+n[0];e[0]=s&65535;for(let c=1;c<8;c++)s=(e[c]+n[c]|0)+(s>>>16)|0,e[c]=s&65535;Lt$3(r);}update(e){Or$3(this);const{buffer:n,blockLen:r}=this;e=Fe$3(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s===r){for(;r<=o-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(n,0,false),this.pos=0);}return this}destroy(){Lt$3(this.h,this.r,this.buffer,this.pad);}digestInto(e){Or$3(this),ps$1(e,this),this.finished=true;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,true);}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=r[s]>>>0,e[i++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function Ts$2(t){const e=(r,o)=>t(o).update(Fe$3(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Rs$2=Ts$2(t=>new Us$1(t));function _s$1(t,e,n,r,o,i=20){let s=t[0],c=t[1],a=t[2],u=t[3],l=e[0],f=e[1],h=e[2],y=e[3],E=e[4],p=e[5],d=e[6],v=e[7],m=o,O=n[0],N=n[1],$=n[2],B=s,A=c,T=a,S=u,L=l,U=f,_=h,j=y,g=E,w=p,b=d,I=v,R=m,x=O,C=N,P=$;for(let M=0;M<i;M+=2)B=B+L|0,R=V$5(R^B,16),g=g+R|0,L=V$5(L^g,12),B=B+L|0,R=V$5(R^B,8),g=g+R|0,L=V$5(L^g,7),A=A+U|0,x=V$5(x^A,16),w=w+x|0,U=V$5(U^w,12),A=A+U|0,x=V$5(x^A,8),w=w+x|0,U=V$5(U^w,7),T=T+_|0,C=V$5(C^T,16),b=b+C|0,_=V$5(_^b,12),T=T+_|0,C=V$5(C^T,8),b=b+C|0,_=V$5(_^b,7),S=S+j|0,P=V$5(P^S,16),I=I+P|0,j=V$5(j^I,12),S=S+j|0,P=V$5(P^S,8),I=I+P|0,j=V$5(j^I,7),B=B+U|0,P=V$5(P^B,16),b=b+P|0,U=V$5(U^b,12),B=B+U|0,P=V$5(P^B,8),b=b+P|0,U=V$5(U^b,7),A=A+_|0,R=V$5(R^A,16),I=I+R|0,_=V$5(_^I,12),A=A+_|0,R=V$5(R^A,8),I=I+R|0,_=V$5(_^I,7),T=T+j|0,x=V$5(x^T,16),g=g+x|0,j=V$5(j^g,12),T=T+j|0,x=V$5(x^T,8),g=g+x|0,j=V$5(j^g,7),S=S+L|0,C=V$5(C^S,16),w=w+C|0,L=V$5(L^w,12),S=S+L|0,C=V$5(C^S,8),w=w+C|0,L=V$5(L^w,7);let k=0;r[k++]=s+B|0,r[k++]=c+A|0,r[k++]=a+T|0,r[k++]=u+S|0,r[k++]=l+L|0,r[k++]=f+U|0,r[k++]=h+_|0,r[k++]=y+j|0,r[k++]=E+g|0,r[k++]=p+w|0,r[k++]=d+b|0,r[k++]=v+I|0,r[k++]=m+R|0,r[k++]=O+x|0,r[k++]=N+C|0,r[k++]=$+P|0;}const $s$1=Ns$2(_s$1,{counterRight:false,counterLength:4,allowShortKeys:false}),Ls$2=new Uint8Array(16),Rr$3=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Ls$2.subarray(n));},js$1=new Uint8Array(32);function _r$3(t,e,n,r,o){const i=t(e,n,js$1),s=Rs$2.create(i);o&&Rr$3(s,o),Rr$3(s,r);const c=new Uint8Array(16),a=gs$1(c);Ir$3(a,0,BigInt(o?o.length:0),true),Ir$3(a,8,BigInt(r.length),true),s.update(c);const u=s.digest();return Lt$3(i,c),u}const Cs$2=t=>(e,n,r)=>({encrypt(i,s){const c=i.length;s=Br$3(c+16,s,false),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const u=_r$3(t,e,n,a,r);return s.set(u,c),Lt$3(u),s},decrypt(i,s){s=Br$3(i.length-16,s,false);const c=i.subarray(0,-16),a=i.subarray(-16),u=_r$3(t,e,n,c,r);if(!bs$2(a,u))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Lt$3(u),s}});Es$1({blockSize:64,nonceLength:12,tagLength:16},Cs$2($s$1));let Lr$3 = class Lr extends Pe$2{constructor(e,n){super(),this.finished=false,this.destroyed=false,je$3(e);const r=_t$3(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0);}update(e){return Tt$3(this),this.iHash.update(e),this}digestInto(e){Tt$3(this),Wt$3(e,this.outputLen),this.finished=true,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy();}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=true,this.oHash.destroy(),this.iHash.destroy();}};const pe$3=(t,e,n)=>new Lr$3(t,e).update(n).digest();pe$3.create=(t,e)=>new Lr$3(t,e);function Ms$1(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=r?4:0,u=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r);}function Ds$2(t,e,n){return t&e^~t&n}function Hs$1(t,e,n){return t&e^t&n^e&n}let qs$2 = class qs extends Pe$2{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=false,this.length=0,this.pos=0,this.destroyed=false,this.buffer=new Uint8Array(e),this.view=Ce$2(this.buffer);}update(e){Tt$3(this);const{view:n,buffer:r,blockLen:o}=this;e=_t$3(e);const i=e.length;for(let s=0;s<i;){const c=Math.min(o-this.pos,i-s);if(c===o){const a=Ce$2(e);for(;o<=i-s;s+=o)this.process(a,s);continue}r.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(n,0),this.pos=0);}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tt$3(this),Gn$2(e,this),this.finished=true;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let f=s;f<o;f++)n[f]=0;Ms$1(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=Ce$2(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,l[f],i);}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:c}=this;return e.length=o,e.pos=c,e.finished=i,e.destroyed=s,o%n&&e.buffer.set(r),e}};const Ks$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wt$3=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bt$2=new Uint32Array(64);let Fs$1 = class Fs extends qs$2{constructor(){super(64,32,8,false),this.A=wt$3[0]|0,this.B=wt$3[1]|0,this.C=wt$3[2]|0,this.D=wt$3[3]|0,this.E=wt$3[4]|0,this.F=wt$3[5]|0,this.G=wt$3[6]|0,this.H=wt$3[7]|0;}get(){const{A:e,B:n,C:r,D:o,E:i,F:s,G:c,H:a}=this;return [e,n,r,o,i,s,c,a]}set(e,n,r,o,i,s,c,a){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=a|0;}process(e,n){for(let f=0;f<16;f++,n+=4)bt$2[f]=e.getUint32(n,false);for(let f=16;f<64;f++){const h=bt$2[f-15],y=bt$2[f-2],E=st$2(h,7)^st$2(h,18)^h>>>3,p=st$2(y,17)^st$2(y,19)^y>>>10;bt$2[f]=p+bt$2[f-7]+E+bt$2[f-16]|0;}let{A:r,B:o,C:i,D:s,E:c,F:a,G:u,H:l}=this;for(let f=0;f<64;f++){const h=st$2(c,6)^st$2(c,11)^st$2(c,25),y=l+h+Ds$2(c,a,u)+Ks$1[f]+bt$2[f]|0,p=(st$2(r,2)^st$2(r,13)^st$2(r,22))+Hs$1(r,o,i)|0;l=u,u=a,a=c,c=s+y|0,s=i,i=o,o=r,r=y+p|0;}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,o,i,s,c,a,u,l);}roundClean(){bt$2.fill(0);}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0);}};const Jt$3=Qn$2(()=>new Fs$1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ge$3=BigInt(0),ye$3=BigInt(1),zs$1=BigInt(2);function St$4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Qt$3(t){if(!St$4(t))throw new Error("Uint8Array expected")}function jt$3(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Zs$1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ct$2(t){Qt$3(t);let e="";for(let n=0;n<t.length;n++)e+=Zs$1[t[n]];return e}function Pt$3(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Ge$4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ge$3:BigInt("0x"+t)}const ut$4={_0:48,_9:57,A:65,F:70,a:97,f:102};function Cr$3(t){if(t>=ut$4._0&&t<=ut$4._9)return t-ut$4._0;if(t>=ut$4.A&&t<=ut$4.F)return t-(ut$4.A-10);if(t>=ut$4.a&&t<=ut$4.f)return t-(ut$4.a-10)}function kt$3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const s=Cr$3(t.charCodeAt(i)),c=Cr$3(t.charCodeAt(i+1));if(s===void 0||c===void 0){const a=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+i)}r[o]=s*16+c;}return r}function Ot$2(t){return Ge$4(Ct$2(t))}function te$2(t){return Qt$3(t),Ge$4(Ct$2(Uint8Array.from(t).reverse()))}function Vt$3(t,e){return kt$3(t.toString(16).padStart(e*2,"0"))}function me$3(t,e){return Vt$3(t,e).reverse()}function Ys$1(t){return kt$3(Pt$3(t))}function et$2(t,e,n){let r;if(typeof e=="string")try{r=kt$3(e);}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(St$4(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function ee$2(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Qt$3(o),e+=o.length;}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length;}return n}function Gs$1(t,e){if(t.length!==e.length)return  false;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Ws$1(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const We$3=t=>typeof t=="bigint"&&ge$3<=t;function we$3(t,e,n){return We$3(t)&&We$3(e)&&We$3(n)&&e<=t&&t<n}function ft$3(t,e,n,r){if(!we$3(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Pr$3(t){let e;for(e=0;t>ge$3;t>>=ye$3,e+=1);return e}function Xs$2(t,e){return t>>BigInt(e)&ye$3}function Js$1(t,e,n){return t|(n?ye$3:ge$3)<<BigInt(e)}const Xe$3=t=>(zs$1<<BigInt(t-1))-ye$3,Je$3=t=>new Uint8Array(t),kr$3=t=>Uint8Array.from(t);function Vr$3(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Je$3(t),o=Je$3(t),i=0;const s=()=>{r.fill(1),o.fill(0),i=0;},c=(...f)=>n(o,r,...f),a=(f=Je$3())=>{o=c(kr$3([0]),f),r=c(),f.length!==0&&(o=c(kr$3([1]),f),r=c());},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=c();const y=r.slice();h.push(y),f+=r.length;}return ee$2(...h)};return (f,h)=>{s(),a(f);let y;for(;!(y=h(u()));)a();return s(),y}}const Qs$2={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||St$4(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Mt$3(t,e,n={}){const r=(o,i,s)=>{const c=Qs$2[i];if(typeof c!="function")throw new Error("invalid validator function");const a=t[o];if(!(s&&a===void 0)&&!c(a,t))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+a)};for(const[o,i]of Object.entries(e))r(o,i,false);for(const[o,i]of Object.entries(n))r(o,i,true);return t}const tc$1=()=>{throw new Error("not implemented")};function Qe$3(t){const e=new WeakMap;return (n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}var ec$1=Object.freeze({__proto__:null,isBytes:St$4,abytes:Qt$3,abool:jt$3,bytesToHex:Ct$2,numberToHexUnpadded:Pt$3,hexToNumber:Ge$4,hexToBytes:kt$3,bytesToNumberBE:Ot$2,bytesToNumberLE:te$2,numberToBytesBE:Vt$3,numberToBytesLE:me$3,numberToVarBytesBE:Ys$1,ensureBytes:et$2,concatBytes:ee$2,equalBytes:Gs$1,utf8ToBytes:Ws$1,inRange:we$3,aInRange:ft$3,bitLen:Pr$3,bitGet:Xs$2,bitSet:Js$1,bitMask:Xe$3,createHmacDrbg:Vr$3,validateObject:Mt$3,notImplemented:tc$1,memoized:Qe$3});const q$1=BigInt(0),H$3=BigInt(1),At$2=BigInt(2),nc$1=BigInt(3),tn$3=BigInt(4),Mr$3=BigInt(5),Dr$3=BigInt(8);function X$2(t,e){const n=t%e;return n>=q$1?n:e+n}function Hr$3(t,e,n){if(e<q$1)throw new Error("invalid exponent, negatives unsupported");if(n<=q$1)throw new Error("invalid modulus");if(n===H$3)return q$1;let r=H$3;for(;e>q$1;)e&H$3&&(r=r*t%n),t=t*t%n,e>>=H$3;return r}function ot$2(t,e,n){let r=t;for(;e-- >q$1;)r*=r,r%=n;return r}function en$3(t,e){if(t===q$1)throw new Error("invert: expected non-zero number");if(e<=q$1)throw new Error("invert: expected positive modulus, got "+e);let n=X$2(t,e),r=e,o=q$1,i=H$3;for(;n!==q$1;){const c=r/n,a=r%n,u=o-i*c;r=n,n=a,o=i,i=u;}if(r!==H$3)throw new Error("invert: does not exist");return X$2(o,e)}function rc$1(t){const e=(t-H$3)/At$2;let n,r,o;for(n=t-H$3,r=0;n%At$2===q$1;n/=At$2,r++);for(o=At$2;o<t&&Hr$3(o,e,t)!==t-H$3;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(t+H$3)/tn$3;return function(a,u){const l=a.pow(u,s);if(!a.eql(a.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(n+H$3)/At$2;return function(c,a){if(c.pow(a,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,l=c.pow(c.mul(c.ONE,o),n),f=c.pow(a,i),h=c.pow(a,n);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let y=1;for(let p=c.sqr(h);y<u&&!c.eql(p,c.ONE);y++)p=c.sqr(p);const E=c.pow(l,H$3<<BigInt(u-y-1));l=c.sqr(E),f=c.mul(f,E),h=c.mul(h,l),u=y;}return f}}function oc$1(t){if(t%tn$3===nc$1){const e=(t+H$3)/tn$3;return function(r,o){const i=r.pow(o,e);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(t%Dr$3===Mr$3){const e=(t-Mr$3)/Dr$3;return function(r,o){const i=r.mul(o,At$2),s=r.pow(i,e),c=r.mul(o,s),a=r.mul(r.mul(c,At$2),s),u=r.mul(c,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),o))throw new Error("Cannot find square root");return u}}return rc$1(t)}const ic$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sc$1(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ic$1.reduce((r,o)=>(r[o]="function",r),e);return Mt$3(t,n)}function cc$1(t,e,n){if(n<q$1)throw new Error("invalid exponent, negatives unsupported");if(n===q$1)return t.ONE;if(n===H$3)return e;let r=t.ONE,o=e;for(;n>q$1;)n&H$3&&(r=t.mul(r,o)),o=t.sqr(o),n>>=H$3;return r}function ac$1(t,e){const n=new Array(e.length),r=e.reduce((i,s,c)=>t.is0(s)?i:(n[c]=i,t.mul(i,s)),t.ONE),o=t.inv(r);return e.reduceRight((i,s,c)=>t.is0(s)?i:(n[c]=t.mul(i,n[c]),t.mul(i,s)),o),n}function qr$3(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return {nBitLength:n,nByteLength:r}}function Kr$3(t,e,n=false,r={}){if(t<=q$1)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:o,nByteLength:i}=qr$3(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:i,MASK:Xe$3(o),ZERO:q$1,ONE:H$3,create:a=>X$2(a,t),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return q$1<=a&&a<t},is0:a=>a===q$1,isOdd:a=>(a&H$3)===H$3,neg:a=>X$2(-a,t),eql:(a,u)=>a===u,sqr:a=>X$2(a*a,t),add:(a,u)=>X$2(a+u,t),sub:(a,u)=>X$2(a-u,t),mul:(a,u)=>X$2(a*u,t),pow:(a,u)=>cc$1(c,a,u),div:(a,u)=>X$2(a*en$3(u,t),t),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>en$3(a,t),sqrt:r.sqrt||(a=>(s||(s=oc$1(t)),s(c,a))),invertBatch:a=>ac$1(c,a),cmov:(a,u,l)=>l?u:a,toBytes:a=>n?me$3(a,i):Vt$3(a,i),fromBytes:a=>{if(a.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+a.length);return n?te$2(a):Ot$2(a)}});return Object.freeze(c)}function Fr$3(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function zr$3(t){const e=Fr$3(t);return e+Math.ceil(e/2)}function uc$1(t,e,n=false){const r=t.length,o=Fr$3(e),i=zr$3(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=n?te$2(t):Ot$2(t),c=X$2(s,e-H$3)+H$3;return n?me$3(c,o):Vt$3(c,o)}const Zr$3=BigInt(0),be$3=BigInt(1);function nn$3(t,e){const n=e.negate();return t?n:e}function Yr$3(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function rn$3(t,e){Yr$3(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return {windows:n,windowSize:r}}function fc$1(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)});}function lc$1(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)});}const on$3=new WeakMap,Gr$3=new WeakMap;function sn$3(t){return Gr$3.get(t)||1}function dc$1(t,e){return {constTimeNegate:nn$3,hasPrecomputes(n){return sn$3(n)!==1},unsafeLadder(n,r,o=t.ZERO){let i=n;for(;r>Zr$3;)r&be$3&&(o=o.add(i)),i=i.double(),r>>=be$3;return o},precomputeWindow(n,r){const{windows:o,windowSize:i}=rn$3(r,e),s=[];let c=n,a=c;for(let u=0;u<o;u++){a=c,s.push(a);for(let l=1;l<i;l++)a=a.add(c),s.push(a);c=a.double();}return s},wNAF(n,r,o){const{windows:i,windowSize:s}=rn$3(n,e);let c=t.ZERO,a=t.BASE;const u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let h=0;h<i;h++){const y=h*s;let E=Number(o&u);o>>=f,E>s&&(E-=l,o+=be$3);const p=y,d=y+Math.abs(E)-1,v=h%2!==0,m=E<0;E===0?a=a.add(nn$3(v,r[p])):c=c.add(nn$3(m,r[d]));}return {p:c,f:a}},wNAFUnsafe(n,r,o,i=t.ZERO){const{windows:s,windowSize:c}=rn$3(n,e),a=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let f=0;f<s;f++){const h=f*c;if(o===Zr$3)break;let y=Number(o&a);if(o>>=l,y>c&&(y-=u,o+=be$3),y===0)continue;let E=r[h+Math.abs(y)-1];y<0&&(E=E.negate()),i=i.add(E);}return i},getPrecomputes(n,r,o){let i=on$3.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&on$3.set(r,o(i))),i},wNAFCached(n,r,o){const i=sn$3(n);return this.wNAF(i,this.getPrecomputes(i,n,o),r)},wNAFCachedUnsafe(n,r,o,i){const s=sn$3(n);return s===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,n,o),r,i)},setWindowSize(n,r){Yr$3(r,e),Gr$3.set(n,r),on$3.delete(n);}}}function hc$1(t,e,n,r){if(fc$1(n,t),lc$1(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,i=Pr$3(BigInt(n.length)),s=i>12?i-3:i>4?i-2:i?2:1,c=(1<<s)-1,a=new Array(c+1).fill(o),u=Math.floor((e.BITS-1)/s)*s;let l=o;for(let f=u;f>=0;f-=s){a.fill(o);for(let y=0;y<r.length;y++){const E=r[y],p=Number(E>>BigInt(f)&BigInt(c));a[p]=a[p].add(n[y]);}let h=o;for(let y=a.length-1,E=o;y>0;y--)E=E.add(a[y]),h=h.add(E);if(l=l.add(h),f!==0)for(let y=0;y<s;y++)l=l.double();}return l}function Wr$3(t){return sc$1(t.Fp),Mt$3(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...qr$3(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Dt$2=BigInt(0),cn$3=BigInt(1);function pc$1(t){return Mt$3(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function gc$1(t){const e=pc$1(t),{P:n}=e,r=m=>X$2(m,n),o=e.montgomeryBits,i=Math.ceil(o/8),s=e.nByteLength,c=e.adjustScalarBytes||(m=>m),a=e.powPminus2||(m=>Hr$3(m,n-BigInt(2),n));function u(m,O,N){const $=r(m*(O-N));return O=r(O-$),N=r(N+$),[O,N]}const l=(e.a-BigInt(2))/BigInt(4);function f(m,O){ft$3("u",m,Dt$2,n),ft$3("scalar",O,Dt$2,n);const N=O,$=m;let B=cn$3,A=Dt$2,T=m,S=cn$3,L=Dt$2,U;for(let j=BigInt(o-1);j>=Dt$2;j--){const g=N>>j&cn$3;L^=g,U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1],L=g;const w=B+A,b=r(w*w),I=B-A,R=r(I*I),x=b-R,C=T+S,P=T-S,k=r(P*w),M=r(C*I),D=k+M,z=k-M;T=r(D*D),S=r($*r(z*z)),B=r(b*R),A=r(x*(b+r(l*x)));}U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1];const _=a(A);return r(B*_)}function h(m){return me$3(r(m),i)}function y(m){const O=et$2("u coordinate",m,i);return s===32&&(O[31]&=127),te$2(O)}function E(m){const O=et$2("scalar",m),N=O.length;if(N!==i&&N!==s){let $=""+i+" or "+s;throw new Error("invalid scalar, expected "+$+" bytes, got "+N)}return te$2(c(O))}function p(m,O){const N=y(O),$=E(m),B=f(N,$);if(B===Dt$2)throw new Error("invalid private or public key received");return h(B)}const d=h(e.Gu);function v(m){return p(m,d)}return {scalarMult:p,scalarMultBase:v,getSharedSecret:(m,O)=>p(m,O),getPublicKey:m=>v(m),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:d}}const an$3=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const yc$1=BigInt(1),Xr$3=BigInt(2),mc$1=BigInt(3),wc$1=BigInt(5);BigInt(8);function bc$1(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=an$3,c=t*t%i*t%i,a=ot$2(c,Xr$3,i)*c%i,u=ot$2(a,yc$1,i)*t%i,l=ot$2(u,wc$1,i)*u%i,f=ot$2(l,e,i)*l%i,h=ot$2(f,n,i)*f%i,y=ot$2(h,r,i)*h%i,E=ot$2(y,o,i)*y%i,p=ot$2(E,o,i)*y%i,d=ot$2(p,e,i)*l%i;return {pow_p_5_8:ot$2(d,Xr$3,i)*t%i,b2:c}}function Ec$1(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}gc$1({P:an$3,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=an$3,{pow_p_5_8:n,b2:r}=bc$1(t);return X$2(ot$2(n,mc$1,e)*r,e)},adjustScalarBytes:Ec$1,randomBytes:$t$2});function Jr$3(t){t.lowS!==void 0&&jt$3("lowS",t.lowS),t.prehash!==void 0&&jt$3("prehash",t.prehash);}function vc$1(t){const e=Wr$3(t);Mt$3(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:xc$1,hexToBytes:Sc$1}=ec$1;let Oc$1 = class Oc extends Error{constructor(e=""){super(e);}};const lt$2={Err:Oc$1,_tlv:{encode:(t,e)=>{const{Err:n}=lt$2;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,o=Pt$3(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Pt$3(o.length/2|128):"";return Pt$3(t)+i+o+e},decode(t,e){const{Err:n}=lt$2;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const o=e[r++],i=!!(o&128);let s=0;if(!i)s=o;else {const a=o&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)s=s<<8|l;if(r+=a,s<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+s);if(c.length!==s)throw new n("tlv.decode: wrong value length");return {v:c,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=lt$2;if(t<dt$3)throw new e("integer: negative integers are not allowed");let n=Pt$3(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=lt$2;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return xc$1(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=lt$2,o=typeof t=="string"?Sc$1(t):t;Qt$3(o);const{v:i,l:s}=r.decode(48,o);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,i),{v:u,l}=r.decode(2,a);if(l.length)throw new e("invalid signature: left bytes after parsing");return {r:n.decode(c),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=lt$2,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}},dt$3=BigInt(0),K$2=BigInt(1);BigInt(2);const Qr$1=BigInt(3);BigInt(4);function Ac$1(t){const e=vc$1(t),{Fp:n}=e,r=Kr$3(e.n,e.nBitLength),o=e.toBytes||((p,d,v)=>{const m=d.toAffine();return ee$2(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),i=e.fromBytes||(p=>{const d=p.subarray(1),v=n.fromBytes(d.subarray(0,n.BYTES)),m=n.fromBytes(d.subarray(n.BYTES,2*n.BYTES));return {x:v,y:m}});function s(p){const{a:d,b:v}=e,m=n.sqr(p),O=n.mul(m,p);return n.add(n.add(O,n.mul(p,d)),v)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function c(p){return we$3(p,K$2,e.n)}function a(p){const{allowedPrivateKeyLengths:d,nByteLength:v,wrapPrivateKey:m,n:O}=e;if(d&&typeof p!="bigint"){if(St$4(p)&&(p=Ct$2(p)),typeof p!="string"||!d.includes(p.length))throw new Error("invalid private key");p=p.padStart(v*2,"0");}let N;try{N=typeof p=="bigint"?p:Ot$2(et$2("private key",p,v));}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof p)}return m&&(N=X$2(N,O)),ft$3("private key",N,K$2,O),N}function u(p){if(!(p instanceof h))throw new Error("ProjectivePoint expected")}const l=Qe$3((p,d)=>{const{px:v,py:m,pz:O}=p;if(n.eql(O,n.ONE))return {x:v,y:m};const N=p.is0();d==null&&(d=N?n.ONE:n.inv(O));const $=n.mul(v,d),B=n.mul(m,d),A=n.mul(O,d);if(N)return {x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return {x:$,y:B}}),f=Qe$3(p=>{if(p.is0()){if(e.allowInfinityPoint&&!n.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:d,y:v}=p.toAffine();if(!n.isValid(d)||!n.isValid(v))throw new Error("bad point: x or y not FE");const m=n.sqr(v),O=s(d);if(!n.eql(m,O))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return  true});class h{constructor(d,v,m){if(this.px=d,this.py=v,this.pz=m,d==null||!n.isValid(d))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required");Object.freeze(this);}static fromAffine(d){const{x:v,y:m}=d||{};if(!d||!n.isValid(v)||!n.isValid(m))throw new Error("invalid affine point");if(d instanceof h)throw new Error("projective point not allowed");const O=N=>n.eql(N,n.ZERO);return O(v)&&O(m)?h.ZERO:new h(v,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){const v=n.invertBatch(d.map(m=>m.pz));return d.map((m,O)=>m.toAffine(v[O])).map(h.fromAffine)}static fromHex(d){const v=h.fromAffine(i(et$2("pointHex",d)));return v.assertValidity(),v}static fromPrivateKey(d){return h.BASE.multiply(a(d))}static msm(d,v){return hc$1(h,r,d,v)}_setWindowSize(d){E.setWindowSize(this,d);}assertValidity(){f(this);}hasEvenY(){const{y:d}=this.toAffine();if(n.isOdd)return !n.isOdd(d);throw new Error("Field doesn't support isOdd")}equals(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d,A=n.eql(n.mul(v,B),n.mul(N,O)),T=n.eql(n.mul(m,B),n.mul($,O));return A&&T}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:d,b:v}=e,m=n.mul(v,Qr$1),{px:O,py:N,pz:$}=this;let B=n.ZERO,A=n.ZERO,T=n.ZERO,S=n.mul(O,O),L=n.mul(N,N),U=n.mul($,$),_=n.mul(O,N);return _=n.add(_,_),T=n.mul(O,$),T=n.add(T,T),B=n.mul(d,T),A=n.mul(m,U),A=n.add(B,A),B=n.sub(L,A),A=n.add(L,A),A=n.mul(B,A),B=n.mul(_,B),T=n.mul(m,T),U=n.mul(d,U),_=n.sub(S,U),_=n.mul(d,_),_=n.add(_,T),T=n.add(S,S),S=n.add(T,S),S=n.add(S,U),S=n.mul(S,_),A=n.add(A,S),U=n.mul(N,$),U=n.add(U,U),S=n.mul(U,_),B=n.sub(B,S),T=n.mul(U,L),T=n.add(T,T),T=n.add(T,T),new h(B,A,T)}add(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d;let A=n.ZERO,T=n.ZERO,S=n.ZERO;const L=e.a,U=n.mul(e.b,Qr$1);let _=n.mul(v,N),j=n.mul(m,$),g=n.mul(O,B),w=n.add(v,m),b=n.add(N,$);w=n.mul(w,b),b=n.add(_,j),w=n.sub(w,b),b=n.add(v,O);let I=n.add(N,B);return b=n.mul(b,I),I=n.add(_,g),b=n.sub(b,I),I=n.add(m,O),A=n.add($,B),I=n.mul(I,A),A=n.add(j,g),I=n.sub(I,A),S=n.mul(L,b),A=n.mul(U,g),S=n.add(A,S),A=n.sub(j,S),S=n.add(j,S),T=n.mul(A,S),j=n.add(_,_),j=n.add(j,_),g=n.mul(L,g),b=n.mul(U,b),j=n.add(j,g),g=n.sub(_,g),g=n.mul(L,g),b=n.add(b,g),_=n.mul(j,b),T=n.add(T,_),_=n.mul(I,b),A=n.mul(w,A),A=n.sub(A,_),_=n.mul(w,j),S=n.mul(I,S),S=n.add(S,_),new h(A,T,S)}subtract(d){return this.add(d.negate())}is0(){return this.equals(h.ZERO)}wNAF(d){return E.wNAFCached(this,d,h.normalizeZ)}multiplyUnsafe(d){const{endo:v,n:m}=e;ft$3("scalar",d,dt$3,m);const O=h.ZERO;if(d===dt$3)return O;if(this.is0()||d===K$2)return this;if(!v||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,d,h.normalizeZ);let{k1neg:N,k1:$,k2neg:B,k2:A}=v.splitScalar(d),T=O,S=O,L=this;for(;$>dt$3||A>dt$3;)$&K$2&&(T=T.add(L)),A&K$2&&(S=S.add(L)),L=L.double(),$>>=K$2,A>>=K$2;return N&&(T=T.negate()),B&&(S=S.negate()),S=new h(n.mul(S.px,v.beta),S.py,S.pz),T.add(S)}multiply(d){const{endo:v,n:m}=e;ft$3("scalar",d,K$2,m);let O,N;if(v){const{k1neg:$,k1:B,k2neg:A,k2:T}=v.splitScalar(d);let{p:S,f:L}=this.wNAF(B),{p:U,f:_}=this.wNAF(T);S=E.constTimeNegate($,S),U=E.constTimeNegate(A,U),U=new h(n.mul(U.px,v.beta),U.py,U.pz),O=S.add(U),N=L.add(_);}else {const{p:$,f:B}=this.wNAF(d);O=$,N=B;}return h.normalizeZ([O,N])[0]}multiplyAndAddUnsafe(d,v,m){const O=h.BASE,N=(B,A)=>A===dt$3||A===K$2||!B.equals(O)?B.multiplyUnsafe(A):B.multiply(A),$=N(this,v).add(N(d,m));return $.is0()?void 0:$}toAffine(d){return l(this,d)}isTorsionFree(){const{h:d,isTorsionFree:v}=e;if(d===K$2)return  true;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:d,clearCofactor:v}=e;return d===K$2?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(d=true){return jt$3("isCompressed",d),this.assertValidity(),o(h,this,d)}toHex(d=true){return jt$3("isCompressed",d),Ct$2(this.toRawBytes(d))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const y=e.nBitLength,E=dc$1(h,e.endo?Math.ceil(y/2):y);return {CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:c}}function Bc$1(t){const e=Wr$3(t);return Mt$3(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:true,...e})}function Ic$1(t){const e=Bc$1(t),{Fp:n,n:r}=e,o=n.BYTES+1,i=2*n.BYTES+1;function s(g){return X$2(g,r)}function c(g){return en$3(g,r)}const{ProjectivePoint:a,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=Ac$1({...e,toBytes(g,w,b){const I=w.toAffine(),R=n.toBytes(I.x),x=ee$2;return jt$3("isCompressed",b),b?x(Uint8Array.from([w.hasEvenY()?2:3]),R):x(Uint8Array.from([4]),R,n.toBytes(I.y))},fromBytes(g){const w=g.length,b=g[0],I=g.subarray(1);if(w===o&&(b===2||b===3)){const R=Ot$2(I);if(!we$3(R,K$2,n.ORDER))throw new Error("Point is not on curve");const x=l(R);let C;try{C=n.sqrt(x);}catch(M){const D=M instanceof Error?": "+M.message:"";throw new Error("Point is not on curve"+D)}const P=(C&K$2)===K$2;return (b&1)===1!==P&&(C=n.neg(C)),{x:R,y:C}}else if(w===i&&b===4){const R=n.fromBytes(I.subarray(0,n.BYTES)),x=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return {x:R,y:x}}else {const R=o,x=i;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+x+", got "+w)}}}),h=g=>Ct$2(Vt$3(g,e.nByteLength));function y(g){const w=r>>K$2;return g>w}function E(g){return y(g)?s(-g):g}const p=(g,w,b)=>Ot$2(g.slice(w,b));class d{constructor(w,b,I){this.r=w,this.s=b,this.recovery=I,this.assertValidity();}static fromCompact(w){const b=e.nByteLength;return w=et$2("compactSignature",w,b*2),new d(p(w,0,b),p(w,b,2*b))}static fromDER(w){const{r:b,s:I}=lt$2.toSig(et$2("DER",w));return new d(b,I)}assertValidity(){ft$3("r",this.r,K$2,r),ft$3("s",this.s,K$2,r);}addRecoveryBit(w){return new d(this.r,this.s,w)}recoverPublicKey(w){const{r:b,s:I,recovery:R}=this,x=B(et$2("msgHash",w));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const C=R===2||R===3?b+e.n:b;if(C>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const P=(R&1)===0?"02":"03",k=a.fromHex(P+h(C)),M=c(C),D=s(-x*M),z=s(I*M),Z=a.BASE.multiplyAndAddUnsafe(k,D,z);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return kt$3(this.toDERHex())}toDERHex(){return lt$2.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kt$3(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(g){try{return u(g),!0}catch{return  false}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const g=zr$3(e.n);return uc$1(e.randomBytes(g),e.n)},precompute(g=8,w=a.BASE){return w._setWindowSize(g),w.multiply(BigInt(3)),w}};function m(g,w=true){return a.fromPrivateKey(g).toRawBytes(w)}function O(g){const w=St$4(g),b=typeof g=="string",I=(w||b)&&g.length;return w?I===o||I===i:b?I===2*o||I===2*i:g instanceof a}function N(g,w,b=true){if(O(g))throw new Error("first arg must be private key");if(!O(w))throw new Error("second arg must be public key");return a.fromHex(w).multiply(u(g)).toRawBytes(b)}const $=e.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");const w=Ot$2(g),b=g.length*8-e.nBitLength;return b>0?w>>BigInt(b):w},B=e.bits2int_modN||function(g){return s($(g))},A=Xe$3(e.nBitLength);function T(g){return ft$3("num < 2^"+e.nBitLength,g,dt$3,A),Vt$3(g,e.nByteLength)}function S(g,w,b=L){if(["recovered","canonical"].some(W=>W in b))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:R}=e;let{lowS:x,prehash:C,extraEntropy:P}=b;x==null&&(x=true),g=et$2("msgHash",g),Jr$3(b),C&&(g=et$2("prehashed msgHash",I(g)));const k=B(g),M=u(w),D=[T(M),T(k)];if(P!=null&&P!==false){const W=P===true?R(n.BYTES):P;D.push(et$2("extraEntropy",W));}const z=ee$2(...D),Z=k;function it(W){const J=$(W);if(!f(J))return;const Oe=c(J),Ft=a.BASE.multiply(J).toAffine(),vt=s(Ft.x);if(vt===dt$3)return;const zt=s(Oe*s(Z+vt*M));if(zt===dt$3)return;let Ut=(Ft.x===vt?0:2)|Number(Ft.y&K$2),vn=zt;return x&&y(zt)&&(vn=E(zt),Ut^=1),new d(vt,vn,Ut)}return {seed:z,k2sig:it}}const L={lowS:e.lowS,prehash:false},U={lowS:e.lowS,prehash:false};function _(g,w,b=L){const{seed:I,k2sig:R}=S(g,w,b),x=e;return Vr$3(x.hash.outputLen,x.nByteLength,x.hmac)(I,R)}a.BASE._setWindowSize(8);function j(g,w,b,I=U){const R=g;w=et$2("msgHash",w),b=et$2("publicKey",b);const{lowS:x,prehash:C,format:P}=I;if(Jr$3(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(P!==void 0&&P!=="compact"&&P!=="der")throw new Error("format must be compact or der");const k=typeof R=="string"||St$4(R),M=!k&&!P&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!k&&!M)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,z;try{if(M&&(D=new d(R.r,R.s)),k){try{P!=="compact"&&(D=d.fromDER(R));}catch(Ut){if(!(Ut instanceof lt$2.Err))throw Ut}!D&&P!=="der"&&(D=d.fromCompact(R));}z=a.fromHex(b);}catch{return  false}if(!D||x&&D.hasHighS())return  false;C&&(w=e.hash(w));const{r:Z,s:it}=D,W=B(w),J=c(it),Oe=s(W*J),Ft=s(Z*J),vt=a.BASE.multiplyAndAddUnsafe(z,Oe,Ft)?.toAffine();return vt?s(vt.x)===Z:false}return {CURVE:e,getPublicKey:m,getSharedSecret:N,sign:_,verify:j,ProjectivePoint:a,Signature:d,utils:v}}function Nc$1(t){return {hash:t,hmac:(e,...n)=>pe$3(t,e,Vi$2(...n)),randomBytes:$t$2}}function Uc$1(t,e){const n=r=>Ic$1({...t,...Nc$1(r)});return {...n(e),create:n}}const to$2=Kr$3(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Tc$1=to$2.create(BigInt("-3")),Rc$1=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");Uc$1({a:Tc$1,b:Rc$1,Fp:to$2,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:false},Jt$3);

    function sr$2(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+" is ambiguous");t[o]=s;}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return "";for(var b=0,x=0,I=0,D=u.length;I!==D&&u[I]===0;)I++,b++;for(var j=(D-I)*l+1>>>0,T=new Uint8Array(j);I!==D;){for(var q=u[I],J=0,K=j-1;(q!==0||J<x)&&K!==-1;K--,J++)q+=256*T[K]>>>0,T[K]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error("Non-zero carry");x=J,I++;}for(var H=j-x;H!==j&&T[H]===0;)H++;for(var me=c.repeat(b);H<j;++H)me+=r.charAt(T[H]);return me}function g(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var b=0;if(u[b]!==" "){for(var x=0,I=0;u[b]===c;)x++,b++;for(var D=(u.length-b)*h+1>>>0,j=new Uint8Array(D);u[b];){var T=t[u.charCodeAt(b)];if(T===255)return;for(var q=0,J=D-1;(T!==0||q<I)&&J!==-1;J--,q++)T+=a*j[J]>>>0,j[J]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");I=q,b++;}if(u[b]!==" "){for(var K=D-I;K!==D&&j[K]===0;)K++;for(var H=new Uint8Array(x+(D-K)),me=x;K!==D;)H[me++]=j[K++];return H}}}function _(u){var b=g(u);if(b)return b;throw new Error(`Non-${e} character`)}return {encode:d,decodeUnsafe:g,decode:_}}var rr$2=sr$2,nr$2=rr$2;const si$2=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},or$2=r=>new TextEncoder().encode(r),ar$2=r=>new TextDecoder().decode(r);let cr$2 = class cr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i;}encode(e){if(e instanceof Uint8Array)return `${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}};let hr$2 = class hr{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i;}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ri$2(this,e)}};let lr$2 = class lr{constructor(e){this.decoders=e;}or(e){return ri$2(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const ri$2=(r,e)=>new lr$2({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});let ur$2 = class ur{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new cr$2(e,t,i),this.decoder=new hr$2(e,t,s);}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Ee$4=({name:r,prefix:e,encode:t,decode:i})=>new ur$2(r,e,t,i),de$3=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=nr$2(t,e);return Ee$4({prefix:r,name:e,encode:i,decode:n=>si$2(s(n))})},dr$2=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]==="=";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const d=s[r[l]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a);}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},gr$1=(r,e,t)=>{const i=e[e.length-1]==="=",s=(1<<t)-1;let n="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+="=";return n},P$4=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Ee$4({prefix:e,name:r,encode(s){return gr$1(s,i,t)},decode(s){return dr$2(s,i,t,r)}}),pr$1=Ee$4({prefix:"\0",name:"identity",encode:r=>ar$2(r),decode:r=>or$2(r)});var yr$1=Object.freeze({__proto__:null,identity:pr$1});const br$2=P$4({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var mr$2=Object.freeze({__proto__:null,base2:br$2});const fr$2=P$4({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Dr$2=Object.freeze({__proto__:null,base8:fr$2});const vr$2=de$3({prefix:"9",name:"base10",alphabet:"0123456789"});var wr$2=Object.freeze({__proto__:null,base10:vr$2});const _r$2=P$4({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Er$1=P$4({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ir$2=Object.freeze({__proto__:null,base16:_r$2,base16upper:Er$1});const Tr$2=P$4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Cr$2=P$4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pr$2=P$4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Sr$2=P$4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Rr$2=P$4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Or$2=P$4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ar$2=P$4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xr$1=P$4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Nr$2=P$4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var $r$2=Object.freeze({__proto__:null,base32:Tr$2,base32upper:Cr$2,base32pad:Pr$2,base32padupper:Sr$2,base32hex:Rr$2,base32hexupper:Or$2,base32hexpad:Ar$2,base32hexpadupper:xr$1,base32z:Nr$2});const zr$2=de$3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Lr$2=de$3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kr$2=Object.freeze({__proto__:null,base36:zr$2,base36upper:Lr$2});const jr$2=de$3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ur$2=de$3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Fr$2=Object.freeze({__proto__:null,base58btc:jr$2,base58flickr:Ur$2});const Mr$2=P$4({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Kr$2=P$4({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Br$2=P$4({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Vr$2=P$4({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var qr$2=Object.freeze({__proto__:null,base64:Mr$2,base64pad:Kr$2,base64url:Br$2,base64urlpad:Vr$2});const ni$2=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Gr$2=ni$2.reduce((r,e,t)=>(r[t]=e,r),[]),Wr$2=ni$2.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Hr$2(r){return r.reduce((e,t)=>(e+=Gr$2[t],e),"")}function Yr$2(r){const e=[];for(const t of r){const i=Wr$2[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i);}return new Uint8Array(e)}const Jr$2=Ee$4({prefix:"\u{1F680}",name:"base256emoji",encode:Hr$2,decode:Yr$2});var Xr$2=Object.freeze({__proto__:null,base256emoji:Jr$2}),Zr$2=ai$1,oi$2=128,en$2=-128,tn$2=Math.pow(2,31);function ai$1(r,e,t){e=e||[],t=t||0;for(var i=t;r>=tn$2;)e[t++]=r&255|oi$2,r/=128;for(;r&en$2;)e[t++]=r&255|oi$2,r>>>=7;return e[t]=r|0,ai$1.bytes=t-i+1,e}var sn$2=Me$4,rn$2=128,ci$1=127;function Me$4(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw Me$4.bytes=0,new RangeError("Could not decode varint");o=r[n++],t+=s<28?(o&ci$1)<<s:(o&ci$1)*Math.pow(2,s),s+=7;}while(o>=rn$2);return Me$4.bytes=n-i,t}var nn$2=Math.pow(2,7),on$2=Math.pow(2,14),an$2=Math.pow(2,21),cn$2=Math.pow(2,28),hn$2=Math.pow(2,35),ln$2=Math.pow(2,42),un$2=Math.pow(2,49),dn$2=Math.pow(2,56),gn$2=Math.pow(2,63),pn$2=function(r){return r<nn$2?1:r<on$2?2:r<an$2?3:r<cn$2?4:r<hn$2?5:r<ln$2?6:r<un$2?7:r<dn$2?8:r<gn$2?9:10},yn$1={encode:Zr$2,decode:sn$2,encodingLength:pn$2},hi$1=yn$1;const li$2=(r,e,t=0)=>(hi$1.encode(r,e,t),e),ui$1=r=>hi$1.encodingLength(r),Ke$4=(r,e)=>{const t=e.byteLength,i=ui$1(r),s=i+ui$1(t),n=new Uint8Array(s+t);return li$2(r,n,0),li$2(t,n,i),n.set(e,s),new bn$2(r,t,e,n)};let bn$2 = class bn{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s;}};const di$1=({name:r,code:e,encode:t})=>new mn$2(r,e,t);let mn$2 = class mn{constructor(e,t,i){this.name=e,this.code=t,this.encode=i;}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ke$4(this.code,t):t.then(i=>Ke$4(this.code,i))}else throw Error("Unknown type, must be binary type")}};const gi$2=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),fn$2=di$1({name:"sha2-256",code:18,encode:gi$2("SHA-256")}),Dn$1=di$1({name:"sha2-512",code:19,encode:gi$2("SHA-512")});var vn$1=Object.freeze({__proto__:null,sha256:fn$2,sha512:Dn$1});const pi$1=0,wn$2="identity",yi$2=si$2,_n$2=r=>Ke$4(pi$1,yi$2(r)),En$2={code:pi$1,name:wn$2,encode:yi$2,digest:_n$2};var In$1=Object.freeze({__proto__:null,identity:En$2});new TextEncoder,new TextDecoder;({...yr$1,...mr$2,...Dr$2,...wr$2,...Ir$2,...$r$2,...kr$2,...Fr$2,...qr$2,...Xr$2});({...vn$1,...In$1});

    const DEFAULT_SDK_URL = 'https://secure.walletconnect.org/sdk';
    (typeof process !== 'undefined' && typeof process.env !== 'undefined'
        ? process.env['NEXT_PUBLIC_SECURE_SITE_SDK_URL']
        : undefined) || DEFAULT_SDK_URL;
    (typeof process !== 'undefined' && typeof process.env !== 'undefined'
        ? process.env['NEXT_PUBLIC_DEFAULT_LOG_LEVEL']
        : undefined) || 'error';
    (typeof process !== 'undefined' && typeof process.env !== 'undefined'
        ? process.env['NEXT_PUBLIC_SECURE_SITE_SDK_VERSION']
        : undefined) || '4';
    const W3mFrameRpcConstants = {
        SAFE_RPC_METHODS: [
            'eth_accounts',
            'eth_blockNumber',
            'eth_call',
            'eth_chainId',
            'eth_estimateGas',
            'eth_feeHistory',
            'eth_gasPrice',
            'eth_getAccount',
            'eth_getBalance',
            'eth_getBlockByHash',
            'eth_getBlockByNumber',
            'eth_getBlockReceipts',
            'eth_getBlockTransactionCountByHash',
            'eth_getBlockTransactionCountByNumber',
            'eth_getCode',
            'eth_getFilterChanges',
            'eth_getFilterLogs',
            'eth_getLogs',
            'eth_getProof',
            'eth_getStorageAt',
            'eth_getTransactionByBlockHashAndIndex',
            'eth_getTransactionByBlockNumberAndIndex',
            'eth_getTransactionByHash',
            'eth_getTransactionCount',
            'eth_getTransactionReceipt',
            'eth_getUncleCountByBlockHash',
            'eth_getUncleCountByBlockNumber',
            'eth_maxPriorityFeePerGas',
            'eth_newBlockFilter',
            'eth_newFilter',
            'eth_newPendingTransactionFilter',
            'eth_sendRawTransaction',
            'eth_syncing',
            'eth_uninstallFilter',
            'wallet_getCapabilities',
            'wallet_getCallsStatus',
            'eth_getUserOperationReceipt',
            'eth_estimateUserOperationGas',
            'eth_getUserOperationByHash',
            'eth_supportedEntryPoints',
            'wallet_getAssets'
        ],
        NOT_SAFE_RPC_METHODS: [
            'personal_sign',
            'eth_signTypedData_v4',
            'eth_sendTransaction',
            'solana_signMessage',
            'solana_signTransaction',
            'solana_signAllTransactions',
            'solana_signAndSendTransaction',
            'wallet_sendCalls',
            'wallet_grantPermissions',
            'wallet_revokePermissions',
            'eth_sendUserOperation'
        ],
        GET_CHAIN_ID: 'eth_chainId',
        RPC_METHOD_NOT_ALLOWED_MESSAGE: 'Requested RPC call is not allowed',
        RPC_METHOD_NOT_ALLOWED_UI_MESSAGE: 'Action not allowed',
        ACCOUNT_TYPES: {
            EOA: 'eoa',
            SMART_ACCOUNT: 'smartAccount'
        }
    };

    // -- Constants ----------------------------------------- //
    const DEFAULT_STATE = Object.freeze({
        message: '',
        variant: 'success',
        svg: undefined,
        open: false,
        autoClose: true
    });
    // -- State --------------------------------------------- //
    const state$b = proxy({
        ...DEFAULT_STATE
    });
    // -- Controller ---------------------------------------- //
    const SnackController = {
        state: state$b,
        subscribeKey(key, callback) {
            return subscribeKey(state$b, key, callback);
        },
        showLoading(message, options = {}) {
            this._showMessage({ message, variant: 'loading', ...options });
        },
        showSuccess(message) {
            this._showMessage({ message, variant: 'success' });
        },
        showSvg(message, svg) {
            this._showMessage({ message, svg });
        },
        showError(message) {
            const errorMessage = CoreHelperUtil.parseError(message);
            this._showMessage({ message: errorMessage, variant: 'error' });
        },
        hide() {
            state$b.message = DEFAULT_STATE.message;
            state$b.variant = DEFAULT_STATE.variant;
            state$b.svg = DEFAULT_STATE.svg;
            state$b.open = DEFAULT_STATE.open;
            state$b.autoClose = DEFAULT_STATE.autoClose;
        },
        _showMessage({ message, svg, variant = 'success', autoClose = DEFAULT_STATE.autoClose }) {
            if (state$b.open) {
                state$b.open = false;
                setTimeout(() => {
                    state$b.message = message;
                    state$b.variant = variant;
                    state$b.svg = svg;
                    state$b.open = true;
                    state$b.autoClose = autoClose;
                }, 150);
            }
            else {
                state$b.message = message;
                state$b.variant = variant;
                state$b.svg = svg;
                state$b.open = true;
                state$b.autoClose = autoClose;
            }
        }
    };

    /**
     * SIWXUtil holds the methods to interact with the SIWX plugin and must be called internally on AppKit.
     */
    const SIWXUtil = {
        getSIWX() {
            return OptionsController.state.siwx;
        },
        async initializeIfEnabled() {
            const siwx = OptionsController.state.siwx;
            const caipAddress = ChainController.getActiveCaipAddress();
            if (!(siwx && caipAddress)) {
                return;
            }
            const [namespace, chainId, address] = caipAddress.split(':');
            if (!ChainController.checkIfSupportedNetwork(namespace)) {
                return;
            }
            try {
                const sessions = await siwx.getSessions(`${namespace}:${chainId}`, address);
                if (sessions.length) {
                    return;
                }
                await ModalController.open({
                    view: 'SIWXSignMessage'
                });
            }
            catch (error) {
                // eslint-disable-next-line no-console
                console.error('SIWXUtil:initializeIfEnabled', error);
                EventsController.sendEvent({
                    type: 'track',
                    event: 'SIWX_AUTH_ERROR',
                    properties: this.getSIWXEventProperties()
                });
                // eslint-disable-next-line no-console
                await ConnectionController._getClient()?.disconnect().catch(console.error);
                RouterController.reset('Connect');
                SnackController.showError('A problem occurred while trying initialize authentication');
            }
        },
        async requestSignMessage() {
            const siwx = OptionsController.state.siwx;
            const address = CoreHelperUtil.getPlainAddress(ChainController.getActiveCaipAddress());
            const network = ChainController.getActiveCaipNetwork();
            const client = ConnectionController._getClient();
            if (!siwx) {
                throw new Error('SIWX is not enabled');
            }
            if (!address) {
                throw new Error('No ActiveCaipAddress found');
            }
            if (!network) {
                throw new Error('No ActiveCaipNetwork or client found');
            }
            if (!client) {
                throw new Error('No ConnectionController client found');
            }
            try {
                const siwxMessage = await siwx.createMessage({
                    chainId: network.caipNetworkId,
                    accountAddress: address
                });
                const message = siwxMessage.toString();
                const connectorId = ConnectorController.getConnectorId(network.chainNamespace);
                if (connectorId === ConstantsUtil$3.CONNECTOR_ID.AUTH) {
                    RouterController.pushTransactionStack({
                        view: null,
                        goBack: false,
                        replace: true
                    });
                }
                const signature = await client.signMessage(message);
                await siwx.addSession({
                    data: siwxMessage,
                    message,
                    signature: signature
                });
                ModalController.close();
                EventsController.sendEvent({
                    type: 'track',
                    event: 'SIWX_AUTH_SUCCESS',
                    properties: this.getSIWXEventProperties()
                });
            }
            catch (error) {
                const properties = this.getSIWXEventProperties();
                if (!ModalController.state.open || RouterController.state.view === 'ApproveTransaction') {
                    await ModalController.open({
                        view: 'SIWXSignMessage'
                    });
                }
                if (properties.isSmartAccount) {
                    SnackController.showError('This application might not support Smart Accounts');
                }
                else {
                    SnackController.showError('Signature declined');
                }
                EventsController.sendEvent({
                    type: 'track',
                    event: 'SIWX_AUTH_ERROR',
                    properties
                });
                // eslint-disable-next-line no-console
                console.error('SWIXUtil:requestSignMessage', error);
            }
        },
        async cancelSignMessage() {
            try {
                const siwx = this.getSIWX();
                const isRequired = siwx?.getRequired?.();
                if (isRequired) {
                    await ConnectionController.disconnect();
                }
                else {
                    ModalController.close();
                }
                RouterController.reset('Connect');
                EventsController.sendEvent({
                    event: 'CLICK_CANCEL_SIWX',
                    type: 'track',
                    properties: this.getSIWXEventProperties()
                });
            }
            catch (error) {
                // eslint-disable-next-line no-console
                console.error('SIWXUtil:cancelSignMessage', error);
            }
        },
        async getSessions() {
            const siwx = OptionsController.state.siwx;
            const address = CoreHelperUtil.getPlainAddress(ChainController.getActiveCaipAddress());
            const network = ChainController.getActiveCaipNetwork();
            if (!(siwx && address && network)) {
                return [];
            }
            return siwx.getSessions(network.caipNetworkId, address);
        },
        async isSIWXCloseDisabled() {
            const siwx = this.getSIWX();
            if (siwx) {
                const isApproveSignScreen = RouterController.state.view === 'ApproveTransaction';
                const isSiwxSignMessage = RouterController.state.view === 'SIWXSignMessage';
                if (isApproveSignScreen || isSiwxSignMessage) {
                    return siwx.getRequired?.() && (await this.getSessions()).length === 0;
                }
            }
            return false;
        },
        async universalProviderAuthenticate({ universalProvider, chains, methods }) {
            const siwx = SIWXUtil.getSIWX();
            const namespaces = new Set(chains.map(chain => chain.split(':')[0]));
            if (!siwx || namespaces.size !== 1 || !namespaces.has('eip155')) {
                return false;
            }
            // Ignores chainId and account address to get other message data
            const siwxMessage = await siwx.createMessage({
                chainId: ChainController.getActiveCaipNetwork()?.caipNetworkId || '',
                accountAddress: ''
            });
            const result = await universalProvider.authenticate({
                nonce: siwxMessage.nonce,
                domain: siwxMessage.domain,
                uri: siwxMessage.uri,
                exp: siwxMessage.expirationTime,
                iat: siwxMessage.issuedAt,
                nbf: siwxMessage.notBefore,
                requestId: siwxMessage.requestId,
                version: siwxMessage.version,
                resources: siwxMessage.resources,
                statement: siwxMessage.statement,
                chainId: siwxMessage.chainId,
                methods,
                // The first chainId is what is used for universal provider to build the message
                chains: [siwxMessage.chainId, ...chains.filter(chain => chain !== siwxMessage.chainId)]
            });
            SnackController.showLoading('Authenticating...', { autoClose: false });
            AccountController.setConnectedWalletInfo({
                ...result.session.peer.metadata,
                name: result.session.peer.metadata.name,
                icon: result.session.peer.metadata.icons?.[0],
                type: 'WALLET_CONNECT'
            }, Array.from(namespaces)[0]);
            if (result?.auths?.length) {
                const sessions = result.auths.map(cacao => {
                    const message = universalProvider.client.formatAuthMessage({
                        request: cacao.p,
                        iss: cacao.p.iss
                    });
                    return {
                        data: {
                            ...cacao.p,
                            accountAddress: cacao.p.iss.split(':').slice(-1).join(''),
                            chainId: cacao.p.iss.split(':').slice(2, 4).join(':'),
                            uri: cacao.p.aud,
                            version: cacao.p.version || siwxMessage.version,
                            expirationTime: cacao.p.exp,
                            issuedAt: cacao.p.iat,
                            notBefore: cacao.p.nbf
                        },
                        message,
                        signature: cacao.s.s,
                        cacao
                    };
                });
                try {
                    await siwx.setSessions(sessions);
                    EventsController.sendEvent({
                        type: 'track',
                        event: 'SIWX_AUTH_SUCCESS',
                        properties: SIWXUtil.getSIWXEventProperties()
                    });
                }
                catch (error) {
                    // eslint-disable-next-line no-console
                    console.error('SIWX:universalProviderAuth - failed to set sessions', error);
                    EventsController.sendEvent({
                        type: 'track',
                        event: 'SIWX_AUTH_ERROR',
                        properties: SIWXUtil.getSIWXEventProperties()
                    });
                    // eslint-disable-next-line no-console
                    await universalProvider.disconnect().catch(console.error);
                    throw error;
                }
                finally {
                    SnackController.hide();
                }
            }
            return true;
        },
        getSIWXEventProperties() {
            const activeChainNamespace = ChainController.state.activeChain;
            return {
                network: ChainController.state.activeCaipNetwork?.caipNetworkId || '',
                isSmartAccount: AccountController.state.preferredAccountTypes?.[activeChainNamespace] ===
                    W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT
            };
        },
        async clearSessions() {
            const siwx = this.getSIWX();
            if (siwx) {
                await siwx.setSessions([]);
            }
        }
    };

    // -- State --------------------------------------------- //
    const state$a = proxy({
        transactions: [],
        coinbaseTransactions: {},
        transactionsByYear: {},
        lastNetworkInView: undefined,
        loading: false,
        empty: false,
        next: undefined
    });
    // -- Controller ---------------------------------------- //
    const TransactionsController = {
        state: state$a,
        subscribe(callback) {
            return subscribe(state$a, () => callback(state$a));
        },
        setLastNetworkInView(lastNetworkInView) {
            state$a.lastNetworkInView = lastNetworkInView;
        },
        async fetchTransactions(accountAddress, onramp) {
            if (!accountAddress) {
                throw new Error("Transactions can't be fetched without an accountAddress");
            }
            state$a.loading = true;
            try {
                const response = await BlockchainApiController.fetchTransactions({
                    account: accountAddress,
                    cursor: state$a.next,
                    onramp,
                    // Coinbase transaction history state updates require the latest data
                    cache: onramp === 'coinbase' ? 'no-cache' : undefined,
                    chainId: ChainController.state.activeCaipNetwork?.caipNetworkId
                });
                const nonSpamTransactions = this.filterSpamTransactions(response.data);
                const sameChainTransactions = this.filterByConnectedChain(nonSpamTransactions);
                const filteredTransactions = [...state$a.transactions, ...sameChainTransactions];
                state$a.loading = false;
                if (onramp === 'coinbase') {
                    state$a.coinbaseTransactions = this.groupTransactionsByYearAndMonth(state$a.coinbaseTransactions, response.data);
                }
                else {
                    state$a.transactions = filteredTransactions;
                    state$a.transactionsByYear = this.groupTransactionsByYearAndMonth(state$a.transactionsByYear, sameChainTransactions);
                }
                state$a.empty = filteredTransactions.length === 0;
                state$a.next = response.next ? response.next : undefined;
            }
            catch (error) {
                const activeChainNamespace = ChainController.state.activeChain;
                EventsController.sendEvent({
                    type: 'track',
                    event: 'ERROR_FETCH_TRANSACTIONS',
                    properties: {
                        address: accountAddress,
                        projectId: OptionsController.state.projectId,
                        cursor: state$a.next,
                        isSmartAccount: AccountController.state.preferredAccountTypes?.[activeChainNamespace] ===
                            W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT
                    }
                });
                SnackController.showError('Failed to fetch transactions');
                state$a.loading = false;
                state$a.empty = true;
                state$a.next = undefined;
            }
        },
        groupTransactionsByYearAndMonth(transactionsMap = {}, transactions = []) {
            const grouped = transactionsMap;
            transactions.forEach(transaction => {
                const year = new Date(transaction.metadata.minedAt).getFullYear();
                const month = new Date(transaction.metadata.minedAt).getMonth();
                const yearTransactions = grouped[year] ?? {};
                const monthTransactions = yearTransactions[month] ?? [];
                // If there's a transaction with the same id, remove the old one
                const newMonthTransactions = monthTransactions.filter(tx => tx.id !== transaction.id);
                grouped[year] = {
                    ...yearTransactions,
                    [month]: [...newMonthTransactions, transaction].sort((a, b) => new Date(b.metadata.minedAt).getTime() - new Date(a.metadata.minedAt).getTime())
                };
            });
            return grouped;
        },
        filterSpamTransactions(transactions) {
            return transactions.filter(transaction => {
                const isAllSpam = transaction.transfers.every(transfer => transfer.nft_info?.flags.is_spam === true);
                return !isAllSpam;
            });
        },
        filterByConnectedChain(transactions) {
            const chainId = ChainController.state.activeCaipNetwork?.caipNetworkId;
            const filteredTransactions = transactions.filter(transaction => transaction.metadata.chain === chainId);
            return filteredTransactions;
        },
        clearCursor() {
            state$a.next = undefined;
        },
        resetTransactions() {
            state$a.transactions = [];
            state$a.transactionsByYear = {};
            state$a.lastNetworkInView = undefined;
            state$a.loading = false;
            state$a.empty = false;
            state$a.next = undefined;
        }
    };

    // -- State --------------------------------------------- //
    const state$9 = proxy({
        wcError: false,
        buffering: false,
        status: 'disconnected'
    });
    // eslint-disable-next-line init-declarations
    let wcConnectionPromise;
    // -- Controller ---------------------------------------- //
    const ConnectionController = {
        state: state$9,
        subscribeKey(key, callback) {
            return subscribeKey(state$9, key, callback);
        },
        _getClient() {
            return state$9._client;
        },
        setClient(client) {
            state$9._client = ref(client);
        },
        async connectWalletConnect() {
            if (CoreHelperUtil.isTelegram() || (CoreHelperUtil.isSafari() && CoreHelperUtil.isIos())) {
                if (wcConnectionPromise) {
                    await wcConnectionPromise;
                    wcConnectionPromise = undefined;
                    return;
                }
                if (!CoreHelperUtil.isPairingExpired(state$9?.wcPairingExpiry)) {
                    const link = state$9.wcUri;
                    state$9.wcUri = link;
                    return;
                }
                wcConnectionPromise = this._getClient()
                    ?.connectWalletConnect?.()
                    .catch(() => undefined);
                this.state.status = 'connecting';
                await wcConnectionPromise;
                wcConnectionPromise = undefined;
                state$9.wcPairingExpiry = undefined;
                this.state.status = 'connected';
            }
            else {
                await this._getClient()?.connectWalletConnect?.();
            }
        },
        async connectExternal(options, chain, setChain = true) {
            await this._getClient()?.connectExternal?.(options);
            if (setChain) {
                ChainController.setActiveNamespace(chain);
            }
        },
        async reconnectExternal(options) {
            await this._getClient()?.reconnectExternal?.(options);
            const namespace = options.chain || ChainController.state.activeChain;
            if (namespace) {
                ConnectorController.setConnectorId(options.id, namespace);
            }
        },
        async setPreferredAccountType(accountType, namespace) {
            ModalController.setLoading(true, ChainController.state.activeChain);
            const authConnector = ConnectorController.getAuthConnector();
            if (!authConnector) {
                return;
            }
            AccountController.setPreferredAccountType(accountType, namespace);
            await authConnector.provider.setPreferredAccount(accountType);
            StorageUtil.setPreferredAccountTypes(AccountController.state.preferredAccountTypes ?? { [namespace]: accountType });
            await this.reconnectExternal(authConnector);
            ModalController.setLoading(false, ChainController.state.activeChain);
            EventsController.sendEvent({
                type: 'track',
                event: 'SET_PREFERRED_ACCOUNT_TYPE',
                properties: {
                    accountType,
                    network: ChainController.state.activeCaipNetwork?.caipNetworkId || ''
                }
            });
        },
        async signMessage(message) {
            return this._getClient()?.signMessage(message);
        },
        parseUnits(value, decimals) {
            return this._getClient()?.parseUnits(value, decimals);
        },
        formatUnits(value, decimals) {
            return this._getClient()?.formatUnits(value, decimals);
        },
        async sendTransaction(args) {
            return this._getClient()?.sendTransaction(args);
        },
        async getCapabilities(params) {
            return this._getClient()?.getCapabilities(params);
        },
        async grantPermissions(params) {
            return this._getClient()?.grantPermissions(params);
        },
        async walletGetAssets(params) {
            return this._getClient()?.walletGetAssets(params) ?? {};
        },
        async estimateGas(args) {
            return this._getClient()?.estimateGas(args);
        },
        async writeContract(args) {
            return this._getClient()?.writeContract(args);
        },
        async getEnsAddress(value) {
            return this._getClient()?.getEnsAddress(value);
        },
        async getEnsAvatar(value) {
            return this._getClient()?.getEnsAvatar(value);
        },
        checkInstalled(ids) {
            return this._getClient()?.checkInstalled?.(ids) || false;
        },
        resetWcConnection() {
            state$9.wcUri = undefined;
            state$9.wcPairingExpiry = undefined;
            state$9.wcLinking = undefined;
            state$9.recentWallet = undefined;
            state$9.status = 'disconnected';
            TransactionsController.resetTransactions();
            StorageUtil.deleteWalletConnectDeepLink();
        },
        resetUri() {
            state$9.wcUri = undefined;
            state$9.wcPairingExpiry = undefined;
        },
        finalizeWcConnection() {
            const { wcLinking, recentWallet } = ConnectionController.state;
            if (wcLinking) {
                StorageUtil.setWalletConnectDeepLink(wcLinking);
            }
            if (recentWallet) {
                StorageUtil.setAppKitRecent(recentWallet);
            }
            EventsController.sendEvent({
                type: 'track',
                event: 'CONNECT_SUCCESS',
                properties: {
                    method: wcLinking ? 'mobile' : 'qrcode',
                    name: RouterController.state.data?.wallet?.name || 'Unknown'
                }
            });
        },
        setWcBasic(wcBasic) {
            state$9.wcBasic = wcBasic;
        },
        setUri(uri) {
            state$9.wcUri = uri;
            state$9.wcPairingExpiry = CoreHelperUtil.getPairingExpiry();
        },
        setWcLinking(wcLinking) {
            state$9.wcLinking = wcLinking;
        },
        setWcError(wcError) {
            state$9.wcError = wcError;
            state$9.buffering = false;
        },
        setRecentWallet(wallet) {
            state$9.recentWallet = wallet;
        },
        setBuffering(buffering) {
            state$9.buffering = buffering;
        },
        setStatus(status) {
            state$9.status = status;
        },
        async disconnect(namespace) {
            try {
                ModalController.setLoading(true, namespace);
                await SIWXUtil.clearSessions();
                await ChainController.disconnect(namespace);
                ModalController.setLoading(false, namespace);
                ConnectorController.setFilterByNamespace(undefined);
            }
            catch (error) {
                throw new Error('Failed to disconnect');
            }
        }
    };

    // -- State --------------------------------------------- //
    const state$8 = proxy({
        loading: false,
        open: false,
        selectedNetworkId: undefined,
        activeChain: undefined,
        initialized: false
    });
    // -- Controller ---------------------------------------- //
    const PublicStateController = {
        state: state$8,
        subscribe(callback) {
            return subscribe(state$8, () => callback(state$8));
        },
        subscribeOpen(callback) {
            return subscribeKey(state$8, 'open', callback);
        },
        set(newState) {
            Object.assign(state$8, { ...state$8, ...newState });
        }
    };

    function isHex$1(value, { strict = true } = {}) {
        if (!value)
            return false;
        if (typeof value !== 'string')
            return false;
        return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');
    }

    /**
     * @description Retrieves the size of the value (in bytes).
     *
     * @param value The value (hex or byte array) to retrieve the size of.
     * @returns The size of the value (in bytes).
     */
    function size$6(value) {
        if (isHex$1(value, { strict: false }))
            return Math.ceil((value.length - 2) / 2);
        return value.length;
    }

    const version$4 = '2.31.3';

    let errorConfig$1 = {
        getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath
            ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`
            : undefined,
        version: `viem@${version$4}`,
    };
    let BaseError$3 = class BaseError extends Error {
        constructor(shortMessage, args = {}) {
            const details = (() => {
                if (args.cause instanceof BaseError)
                    return args.cause.details;
                if (args.cause?.message)
                    return args.cause.message;
                return args.details;
            })();
            const docsPath = (() => {
                if (args.cause instanceof BaseError)
                    return args.cause.docsPath || args.docsPath;
                return args.docsPath;
            })();
            const docsUrl = errorConfig$1.getDocsUrl?.({ ...args, docsPath });
            const message = [
                shortMessage || 'An error occurred.',
                '',
                ...(args.metaMessages ? [...args.metaMessages, ''] : []),
                ...(docsUrl ? [`Docs: ${docsUrl}`] : []),
                ...(details ? [`Details: ${details}`] : []),
                ...(errorConfig$1.version ? [`Version: ${errorConfig$1.version}`] : []),
            ].join('\n');
            super(message, args.cause ? { cause: args.cause } : undefined);
            Object.defineProperty(this, "details", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docsPath", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "metaMessages", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "shortMessage", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "version", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'BaseError'
            });
            this.details = details;
            this.docsPath = docsPath;
            this.metaMessages = args.metaMessages;
            this.name = args.name ?? this.name;
            this.shortMessage = shortMessage;
            this.version = version$4;
        }
        walk(fn) {
            return walk$3(this, fn);
        }
    };
    function walk$3(err, fn) {
        if (fn?.(err))
            return err;
        if (err &&
            typeof err === 'object' &&
            'cause' in err &&
            err.cause !== undefined)
            return walk$3(err.cause, fn);
        return fn ? null : err;
    }

    class SliceOffsetOutOfBoundsError extends BaseError$3 {
        constructor({ offset, position, size, }) {
            super(`Slice ${position === 'start' ? 'starting' : 'ending'} at offset "${offset}" is out-of-bounds (size: ${size}).`, { name: 'SliceOffsetOutOfBoundsError' });
        }
    }
    let SizeExceedsPaddingSizeError$5 = class SizeExceedsPaddingSizeError extends BaseError$3 {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });
        }
    };

    function pad$5(hexOrBytes, { dir, size = 32 } = {}) {
        if (typeof hexOrBytes === 'string')
            return padHex$1(hexOrBytes, { dir, size });
        return padBytes$1(hexOrBytes, { dir, size });
    }
    function padHex$1(hex_, { dir, size = 32 } = {}) {
        if (size === null)
            return hex_;
        const hex = hex_.replace('0x', '');
        if (hex.length > size * 2)
            throw new SizeExceedsPaddingSizeError$5({
                size: Math.ceil(hex.length / 2),
                targetSize: size,
                type: 'hex',
            });
        return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;
    }
    function padBytes$1(bytes, { dir, size = 32 } = {}) {
        if (size === null)
            return bytes;
        if (bytes.length > size)
            throw new SizeExceedsPaddingSizeError$5({
                size: bytes.length,
                targetSize: size,
                type: 'bytes',
            });
        const paddedBytes = new Uint8Array(size);
        for (let i = 0; i < size; i++) {
            const padEnd = dir === 'right';
            paddedBytes[padEnd ? i : size - i - 1] =
                bytes[padEnd ? i : bytes.length - i - 1];
        }
        return paddedBytes;
    }

    let IntegerOutOfRangeError$3 = class IntegerOutOfRangeError extends BaseError$3 {
        constructor({ max, min, signed, size, value, }) {
            super(`Number "${value}" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });
        }
    };
    let SizeOverflowError$5 = class SizeOverflowError extends BaseError$3 {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });
        }
    };

    function trim(hexOrBytes, { dir = 'left' } = {}) {
        let data = typeof hexOrBytes === 'string' ? hexOrBytes.replace('0x', '') : hexOrBytes;
        let sliceLength = 0;
        for (let i = 0; i < data.length - 1; i++) {
            if (data[dir === 'left' ? i : data.length - i - 1].toString() === '0')
                sliceLength++;
            else
                break;
        }
        data =
            dir === 'left'
                ? data.slice(sliceLength)
                : data.slice(0, data.length - sliceLength);
        if (typeof hexOrBytes === 'string') {
            if (data.length === 1 && dir === 'right')
                data = `${data}0`;
            return `0x${data.length % 2 === 1 ? `0${data}` : data}`;
        }
        return data;
    }

    function assertSize$5(hexOrBytes, { size }) {
        if (size$6(hexOrBytes) > size)
            throw new SizeOverflowError$5({
                givenSize: size$6(hexOrBytes),
                maxSize: size,
            });
    }
    /**
     * Decodes a hex value into a bigint.
     *
     * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint
     *
     * @param hex Hex value to decode.
     * @param opts Options.
     * @returns BigInt value.
     *
     * @example
     * import { hexToBigInt } from 'viem'
     * const data = hexToBigInt('0x1a4', { signed: true })
     * // 420n
     *
     * @example
     * import { hexToBigInt } from 'viem'
     * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
     * // 420n
     */
    function hexToBigInt$1(hex, opts = {}) {
        const { signed } = opts;
        if (opts.size)
            assertSize$5(hex, { size: opts.size });
        const value = BigInt(hex);
        if (!signed)
            return value;
        const size = (hex.length - 2) / 2;
        const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;
        if (value <= max)
            return value;
        return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;
    }
    /**
     * Decodes a hex string into a number.
     *
     * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber
     *
     * @param hex Hex value to decode.
     * @param opts Options.
     * @returns Number value.
     *
     * @example
     * import { hexToNumber } from 'viem'
     * const data = hexToNumber('0x1a4')
     * // 420
     *
     * @example
     * import { hexToNumber } from 'viem'
     * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
     * // 420
     */
    function hexToNumber$2(hex, opts = {}) {
        return Number(hexToBigInt$1(hex, opts));
    }

    const hexes$4 = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));
    /**
     * Encodes a string, number, bigint, or ByteArray into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex
     * - Example: https://viem.sh/docs/utilities/toHex#usage
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { toHex } from 'viem'
     * const data = toHex('Hello world')
     * // '0x48656c6c6f20776f726c6421'
     *
     * @example
     * import { toHex } from 'viem'
     * const data = toHex(420)
     * // '0x1a4'
     *
     * @example
     * import { toHex } from 'viem'
     * const data = toHex('Hello world', { size: 32 })
     * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'
     */
    function toHex$1(value, opts = {}) {
        if (typeof value === 'number' || typeof value === 'bigint')
            return numberToHex$1(value, opts);
        if (typeof value === 'string') {
            return stringToHex$1(value, opts);
        }
        if (typeof value === 'boolean')
            return boolToHex$1(value, opts);
        return bytesToHex$2(value, opts);
    }
    /**
     * Encodes a boolean into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#booltohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { boolToHex } from 'viem'
     * const data = boolToHex(true)
     * // '0x1'
     *
     * @example
     * import { boolToHex } from 'viem'
     * const data = boolToHex(false)
     * // '0x0'
     *
     * @example
     * import { boolToHex } from 'viem'
     * const data = boolToHex(true, { size: 32 })
     * // '0x0000000000000000000000000000000000000000000000000000000000000001'
     */
    function boolToHex$1(value, opts = {}) {
        const hex = `0x${Number(value)}`;
        if (typeof opts.size === 'number') {
            assertSize$5(hex, { size: opts.size });
            return pad$5(hex, { size: opts.size });
        }
        return hex;
    }
    /**
     * Encodes a bytes array into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { bytesToHex } from 'viem'
     * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     * // '0x48656c6c6f20576f726c6421'
     *
     * @example
     * import { bytesToHex } from 'viem'
     * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     */
    function bytesToHex$2(value, opts = {}) {
        let string = '';
        for (let i = 0; i < value.length; i++) {
            string += hexes$4[value[i]];
        }
        const hex = `0x${string}`;
        if (typeof opts.size === 'number') {
            assertSize$5(hex, { size: opts.size });
            return pad$5(hex, { dir: 'right', size: opts.size });
        }
        return hex;
    }
    /**
     * Encodes a number or bigint into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { numberToHex } from 'viem'
     * const data = numberToHex(420)
     * // '0x1a4'
     *
     * @example
     * import { numberToHex } from 'viem'
     * const data = numberToHex(420, { size: 32 })
     * // '0x00000000000000000000000000000000000000000000000000000000000001a4'
     */
    function numberToHex$1(value_, opts = {}) {
        const { signed, size } = opts;
        const value = BigInt(value_);
        let maxValue;
        if (size) {
            if (signed)
                maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;
            else
                maxValue = 2n ** (BigInt(size) * 8n) - 1n;
        }
        else if (typeof value_ === 'number') {
            maxValue = BigInt(Number.MAX_SAFE_INTEGER);
        }
        const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;
        if ((maxValue && value > maxValue) || value < minValue) {
            const suffix = typeof value_ === 'bigint' ? 'n' : '';
            throw new IntegerOutOfRangeError$3({
                max: maxValue ? `${maxValue}${suffix}` : undefined,
                min: `${minValue}${suffix}`,
                signed,
                size,
                value: `${value_}${suffix}`,
            });
        }
        const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;
        if (size)
            return pad$5(hex, { size });
        return hex;
    }
    const encoder$7 = /*#__PURE__*/ new TextEncoder();
    /**
     * Encodes a UTF-8 string into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { stringToHex } from 'viem'
     * const data = stringToHex('Hello World!')
     * // '0x48656c6c6f20576f726c6421'
     *
     * @example
     * import { stringToHex } from 'viem'
     * const data = stringToHex('Hello World!', { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     */
    function stringToHex$1(value_, opts = {}) {
        const value = encoder$7.encode(value_);
        return bytesToHex$2(value, opts);
    }

    const encoder$6 = /*#__PURE__*/ new TextEncoder();
    /**
     * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes
     * - Example: https://viem.sh/docs/utilities/toBytes#usage
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { toBytes } from 'viem'
     * const data = toBytes('Hello world')
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     *
     * @example
     * import { toBytes } from 'viem'
     * const data = toBytes(420)
     * // Uint8Array([1, 164])
     *
     * @example
     * import { toBytes } from 'viem'
     * const data = toBytes(420, { size: 4 })
     * // Uint8Array([0, 0, 1, 164])
     */
    function toBytes$3(value, opts = {}) {
        if (typeof value === 'number' || typeof value === 'bigint')
            return numberToBytes$1(value, opts);
        if (typeof value === 'boolean')
            return boolToBytes$1(value, opts);
        if (isHex$1(value))
            return hexToBytes$2(value, opts);
        return stringToBytes$1(value, opts);
    }
    /**
     * Encodes a boolean into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes
     *
     * @param value Boolean value to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { boolToBytes } from 'viem'
     * const data = boolToBytes(true)
     * // Uint8Array([1])
     *
     * @example
     * import { boolToBytes } from 'viem'
     * const data = boolToBytes(true, { size: 32 })
     * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])
     */
    function boolToBytes$1(value, opts = {}) {
        const bytes = new Uint8Array(1);
        bytes[0] = Number(value);
        if (typeof opts.size === 'number') {
            assertSize$5(bytes, { size: opts.size });
            return pad$5(bytes, { size: opts.size });
        }
        return bytes;
    }
    // We use very optimized technique to convert hex string to byte array
    const charCodeMap$3 = {
        zero: 48,
        nine: 57,
        A: 65,
        F: 70,
        a: 97,
        f: 102,
    };
    function charCodeToBase16$3(char) {
        if (char >= charCodeMap$3.zero && char <= charCodeMap$3.nine)
            return char - charCodeMap$3.zero;
        if (char >= charCodeMap$3.A && char <= charCodeMap$3.F)
            return char - (charCodeMap$3.A - 10);
        if (char >= charCodeMap$3.a && char <= charCodeMap$3.f)
            return char - (charCodeMap$3.a - 10);
        return undefined;
    }
    /**
     * Encodes a hex string into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes
     *
     * @param hex Hex string to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { hexToBytes } from 'viem'
     * const data = hexToBytes('0x48656c6c6f20776f726c6421')
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     *
     * @example
     * import { hexToBytes } from 'viem'
     * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     */
    function hexToBytes$2(hex_, opts = {}) {
        let hex = hex_;
        if (opts.size) {
            assertSize$5(hex, { size: opts.size });
            hex = pad$5(hex, { dir: 'right', size: opts.size });
        }
        let hexString = hex.slice(2);
        if (hexString.length % 2)
            hexString = `0${hexString}`;
        const length = hexString.length / 2;
        const bytes = new Uint8Array(length);
        for (let index = 0, j = 0; index < length; index++) {
            const nibbleLeft = charCodeToBase16$3(hexString.charCodeAt(j++));
            const nibbleRight = charCodeToBase16$3(hexString.charCodeAt(j++));
            if (nibbleLeft === undefined || nibbleRight === undefined) {
                throw new BaseError$3(`Invalid byte sequence ("${hexString[j - 2]}${hexString[j - 1]}" in "${hexString}").`);
            }
            bytes[index] = nibbleLeft * 16 + nibbleRight;
        }
        return bytes;
    }
    /**
     * Encodes a number into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes
     *
     * @param value Number to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { numberToBytes } from 'viem'
     * const data = numberToBytes(420)
     * // Uint8Array([1, 164])
     *
     * @example
     * import { numberToBytes } from 'viem'
     * const data = numberToBytes(420, { size: 4 })
     * // Uint8Array([0, 0, 1, 164])
     */
    function numberToBytes$1(value, opts) {
        const hex = numberToHex$1(value, opts);
        return hexToBytes$2(hex);
    }
    /**
     * Encodes a UTF-8 string into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes
     *
     * @param value String to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { stringToBytes } from 'viem'
     * const data = stringToBytes('Hello world!')
     * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])
     *
     * @example
     * import { stringToBytes } from 'viem'
     * const data = stringToBytes('Hello world!', { size: 32 })
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     */
    function stringToBytes$1(value, opts = {}) {
        const bytes = encoder$6.encode(value);
        if (typeof opts.size === 'number') {
            assertSize$5(bytes, { size: opts.size });
            return pad$5(bytes, { dir: 'right', size: opts.size });
        }
        return bytes;
    }

    /**
     * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.
     * @todo re-check https://issues.chromium.org/issues/42212588
     * @module
     */
    const U32_MASK64$1 = /* @__PURE__ */ BigInt(2 ** 32 - 1);
    const _32n$1 = /* @__PURE__ */ BigInt(32);
    function fromBig$1(n, le = false) {
        if (le)
            return { h: Number(n & U32_MASK64$1), l: Number((n >> _32n$1) & U32_MASK64$1) };
        return { h: Number((n >> _32n$1) & U32_MASK64$1) | 0, l: Number(n & U32_MASK64$1) | 0 };
    }
    function split$1(lst, le = false) {
        const len = lst.length;
        let Ah = new Uint32Array(len);
        let Al = new Uint32Array(len);
        for (let i = 0; i < len; i++) {
            const { h, l } = fromBig$1(lst[i], le);
            [Ah[i], Al[i]] = [h, l];
        }
        return [Ah, Al];
    }
    // Left rotate for Shift in [1, 32)
    const rotlSH$1 = (h, l, s) => (h << s) | (l >>> (32 - s));
    const rotlSL$1 = (h, l, s) => (l << s) | (h >>> (32 - s));
    // Left rotate for Shift in (32, 64), NOTE: 32 is special case.
    const rotlBH$1 = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));
    const rotlBL$1 = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));

    /**
     * Utilities for hex, bytes, CSPRNG.
     * @module
     */
    /*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    // We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.
    // node.js versions earlier than v19 don't declare it in global scope.
    // For node.js, package.json#exports field mapping rewrites import
    // from `crypto` to `cryptoNode`, which imports native module.
    // Makes the utils un-importable in browsers without a bundler.
    // Once node.js 18 is deprecated (2025-04-30), we can just drop the import.
    /** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */
    function isBytes$2(a) {
        return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');
    }
    /** Asserts something is positive integer. */
    function anumber$1(n) {
        if (!Number.isSafeInteger(n) || n < 0)
            throw new Error('positive integer expected, got ' + n);
    }
    /** Asserts something is Uint8Array. */
    function abytes$2(b, ...lengths) {
        if (!isBytes$2(b))
            throw new Error('Uint8Array expected');
        if (lengths.length > 0 && !lengths.includes(b.length))
            throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);
    }
    /** Asserts a hash instance has not been destroyed / finished */
    function aexists$1(instance, checkFinished = true) {
        if (instance.destroyed)
            throw new Error('Hash instance has been destroyed');
        if (checkFinished && instance.finished)
            throw new Error('Hash#digest() has already been called');
    }
    /** Asserts output is properly-sized byte array */
    function aoutput$1(out, instance) {
        abytes$2(out);
        const min = instance.outputLen;
        if (out.length < min) {
            throw new Error('digestInto() expects output buffer of length at least ' + min);
        }
    }
    /** Cast u8 / u16 / u32 to u32. */
    function u32$1(arr) {
        return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));
    }
    /** Zeroize a byte array. Warning: JS provides no guarantees. */
    function clean(...arrays) {
        for (let i = 0; i < arrays.length; i++) {
            arrays[i].fill(0);
        }
    }
    /** Create DataView of an array for easy byte-level manipulation. */
    function createView$1(arr) {
        return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);
    }
    /** The rotate right (circular right shift) operation for uint32 */
    function rotr$1(word, shift) {
        return (word << (32 - shift)) | (word >>> shift);
    }
    /** Is current platform little-endian? Most are. Big-Endian platform: IBM */
    const isLE$1 = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();
    /** The byte swap operation for uint32 */
    function byteSwap$1(word) {
        return (((word << 24) & 0xff000000) |
            ((word << 8) & 0xff0000) |
            ((word >>> 8) & 0xff00) |
            ((word >>> 24) & 0xff));
    }
    /** In place byte swap for Uint32Array */
    function byteSwap32$1(arr) {
        for (let i = 0; i < arr.length; i++) {
            arr[i] = byteSwap$1(arr[i]);
        }
        return arr;
    }
    const swap32IfBE = isLE$1
        ? (u) => u
        : byteSwap32$1;
    /**
     * Converts string to bytes using UTF8 encoding.
     * @example utf8ToBytes('abc') // Uint8Array.from([97, 98, 99])
     */
    function utf8ToBytes$2(str) {
        if (typeof str !== 'string')
            throw new Error('string expected');
        return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809
    }
    /**
     * Normalizes (non-hex) string or Uint8Array to Uint8Array.
     * Warning: when Uint8Array is passed, it would NOT get copied.
     * Keep in mind for future mutable operations.
     */
    function toBytes$2(data) {
        if (typeof data === 'string')
            data = utf8ToBytes$2(data);
        abytes$2(data);
        return data;
    }
    /** For runtime check if class implements interface */
    let Hash$1 = class Hash {
    };
    /** Wraps hash function, creating an interface on top of it */
    function createHasher(hashCons) {
        const hashC = (msg) => hashCons().update(toBytes$2(msg)).digest();
        const tmp = hashCons();
        hashC.outputLen = tmp.outputLen;
        hashC.blockLen = tmp.blockLen;
        hashC.create = () => hashCons();
        return hashC;
    }

    /**
     * SHA3 (keccak) hash function, based on a new "Sponge function" design.
     * Different from older hashes, the internal state is bigger than output size.
     *
     * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),
     * [Website](https://keccak.team/keccak.html),
     * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).
     *
     * Check out `sha3-addons` module for cSHAKE, k12, and others.
     * @module
     */
    // No __PURE__ annotations in sha3 header:
    // EVERYTHING is in fact used on every export.
    // Various per round constants calculations
    const _0n$5 = BigInt(0);
    const _1n$6 = BigInt(1);
    const _2n$4 = BigInt(2);
    const _7n$1 = BigInt(7);
    const _256n$1 = BigInt(256);
    const _0x71n$1 = BigInt(0x71);
    const SHA3_PI$1 = [];
    const SHA3_ROTL$1 = [];
    const _SHA3_IOTA$1 = [];
    for (let round = 0, R = _1n$6, x = 1, y = 0; round < 24; round++) {
        // Pi
        [x, y] = [y, (2 * x + 3 * y) % 5];
        SHA3_PI$1.push(2 * (5 * y + x));
        // Rotational
        SHA3_ROTL$1.push((((round + 1) * (round + 2)) / 2) % 64);
        // Iota
        let t = _0n$5;
        for (let j = 0; j < 7; j++) {
            R = ((R << _1n$6) ^ ((R >> _7n$1) * _0x71n$1)) % _256n$1;
            if (R & _2n$4)
                t ^= _1n$6 << ((_1n$6 << /* @__PURE__ */ BigInt(j)) - _1n$6);
        }
        _SHA3_IOTA$1.push(t);
    }
    const IOTAS = split$1(_SHA3_IOTA$1, true);
    const SHA3_IOTA_H$1 = IOTAS[0];
    const SHA3_IOTA_L$1 = IOTAS[1];
    // Left rotation (without 0, 32, 64)
    const rotlH$1 = (h, l, s) => (s > 32 ? rotlBH$1(h, l, s) : rotlSH$1(h, l, s));
    const rotlL$1 = (h, l, s) => (s > 32 ? rotlBL$1(h, l, s) : rotlSL$1(h, l, s));
    /** `keccakf1600` internal function, additionally allows to adjust round count. */
    function keccakP$1(s, rounds = 24) {
        const B = new Uint32Array(5 * 2);
        // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)
        for (let round = 24 - rounds; round < 24; round++) {
            // Theta θ
            for (let x = 0; x < 10; x++)
                B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];
            for (let x = 0; x < 10; x += 2) {
                const idx1 = (x + 8) % 10;
                const idx0 = (x + 2) % 10;
                const B0 = B[idx0];
                const B1 = B[idx0 + 1];
                const Th = rotlH$1(B0, B1, 1) ^ B[idx1];
                const Tl = rotlL$1(B0, B1, 1) ^ B[idx1 + 1];
                for (let y = 0; y < 50; y += 10) {
                    s[x + y] ^= Th;
                    s[x + y + 1] ^= Tl;
                }
            }
            // Rho (ρ) and Pi (π)
            let curH = s[2];
            let curL = s[3];
            for (let t = 0; t < 24; t++) {
                const shift = SHA3_ROTL$1[t];
                const Th = rotlH$1(curH, curL, shift);
                const Tl = rotlL$1(curH, curL, shift);
                const PI = SHA3_PI$1[t];
                curH = s[PI];
                curL = s[PI + 1];
                s[PI] = Th;
                s[PI + 1] = Tl;
            }
            // Chi (χ)
            for (let y = 0; y < 50; y += 10) {
                for (let x = 0; x < 10; x++)
                    B[x] = s[y + x];
                for (let x = 0; x < 10; x++)
                    s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];
            }
            // Iota (ι)
            s[0] ^= SHA3_IOTA_H$1[round];
            s[1] ^= SHA3_IOTA_L$1[round];
        }
        clean(B);
    }
    /** Keccak sponge function. */
    let Keccak$1 = class Keccak extends Hash$1 {
        // NOTE: we accept arguments in bytes instead of bits here.
        constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {
            super();
            this.pos = 0;
            this.posOut = 0;
            this.finished = false;
            this.destroyed = false;
            this.enableXOF = false;
            this.blockLen = blockLen;
            this.suffix = suffix;
            this.outputLen = outputLen;
            this.enableXOF = enableXOF;
            this.rounds = rounds;
            // Can be passed from user as dkLen
            anumber$1(outputLen);
            // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes
            // 0 < blockLen < 200
            if (!(0 < blockLen && blockLen < 200))
                throw new Error('only keccak-f1600 function is supported');
            this.state = new Uint8Array(200);
            this.state32 = u32$1(this.state);
        }
        clone() {
            return this._cloneInto();
        }
        keccak() {
            swap32IfBE(this.state32);
            keccakP$1(this.state32, this.rounds);
            swap32IfBE(this.state32);
            this.posOut = 0;
            this.pos = 0;
        }
        update(data) {
            aexists$1(this);
            data = toBytes$2(data);
            abytes$2(data);
            const { blockLen, state } = this;
            const len = data.length;
            for (let pos = 0; pos < len;) {
                const take = Math.min(blockLen - this.pos, len - pos);
                for (let i = 0; i < take; i++)
                    state[this.pos++] ^= data[pos++];
                if (this.pos === blockLen)
                    this.keccak();
            }
            return this;
        }
        finish() {
            if (this.finished)
                return;
            this.finished = true;
            const { state, suffix, pos, blockLen } = this;
            // Do the padding
            state[pos] ^= suffix;
            if ((suffix & 0x80) !== 0 && pos === blockLen - 1)
                this.keccak();
            state[blockLen - 1] ^= 0x80;
            this.keccak();
        }
        writeInto(out) {
            aexists$1(this, false);
            abytes$2(out);
            this.finish();
            const bufferOut = this.state;
            const { blockLen } = this;
            for (let pos = 0, len = out.length; pos < len;) {
                if (this.posOut >= blockLen)
                    this.keccak();
                const take = Math.min(blockLen - this.posOut, len - pos);
                out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);
                this.posOut += take;
                pos += take;
            }
            return out;
        }
        xofInto(out) {
            // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF
            if (!this.enableXOF)
                throw new Error('XOF is not possible for this instance');
            return this.writeInto(out);
        }
        xof(bytes) {
            anumber$1(bytes);
            return this.xofInto(new Uint8Array(bytes));
        }
        digestInto(out) {
            aoutput$1(out, this);
            if (this.finished)
                throw new Error('digest() was already called');
            this.writeInto(out);
            this.destroy();
            return out;
        }
        digest() {
            return this.digestInto(new Uint8Array(this.outputLen));
        }
        destroy() {
            this.destroyed = true;
            clean(this.state);
        }
        _cloneInto(to) {
            const { blockLen, suffix, outputLen, rounds, enableXOF } = this;
            to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));
            to.state32.set(this.state32);
            to.pos = this.pos;
            to.posOut = this.posOut;
            to.finished = this.finished;
            to.rounds = rounds;
            // Suffix can change in cSHAKE
            to.suffix = suffix;
            to.outputLen = outputLen;
            to.enableXOF = enableXOF;
            to.destroyed = this.destroyed;
            return to;
        }
    };
    const gen$1 = (suffix, blockLen, outputLen) => createHasher(() => new Keccak$1(blockLen, suffix, outputLen));
    /** keccak-256 hash function. Different from SHA3-256. */
    const keccak_256$1 = /* @__PURE__ */ (() => gen$1(0x01, 136, 256 / 8))();

    function keccak256$3(value, to_) {
        const bytes = keccak_256$1(isHex$1(value, { strict: false }) ? toBytes$3(value) : value);
        return bytes;
    }

    let InvalidAddressError$2 = class InvalidAddressError extends BaseError$3 {
        constructor({ address }) {
            super(`Address "${address}" is invalid.`, {
                metaMessages: [
                    '- Address must be a hex value of 20 bytes (40 hex characters).',
                    '- Address must match its checksum counterpart.',
                ],
                name: 'InvalidAddressError',
            });
        }
    };

    /**
     * Map with a LRU (Least recently used) policy.
     *
     * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
     */
    let LruMap$3 = class LruMap extends Map {
        constructor(size) {
            super();
            Object.defineProperty(this, "maxSize", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.maxSize = size;
        }
        get(key) {
            const value = super.get(key);
            if (super.has(key) && value !== undefined) {
                this.delete(key);
                super.set(key, value);
            }
            return value;
        }
        set(key, value) {
            super.set(key, value);
            if (this.maxSize && this.size > this.maxSize) {
                const firstKey = this.keys().next().value;
                if (firstKey)
                    this.delete(firstKey);
            }
            return this;
        }
    };

    const checksumAddressCache$1 = /*#__PURE__*/ new LruMap$3(8192);
    function checksumAddress$1(address_, 
    /**
     * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the
     * wider Ethereum ecosystem, meaning it will break when validated against an application/tool
     * that relies on EIP-55 checksum encoding (checksum without chainId).
     *
     * It is highly recommended to not use this feature unless you
     * know what you are doing.
     *
     * See more: https://github.com/ethereum/EIPs/issues/1121
     */
    chainId) {
        if (checksumAddressCache$1.has(`${address_}.${chainId}`))
            return checksumAddressCache$1.get(`${address_}.${chainId}`);
        const hexAddress = address_.substring(2).toLowerCase();
        const hash = keccak256$3(stringToBytes$1(hexAddress));
        const address = (hexAddress).split('');
        for (let i = 0; i < 40; i += 2) {
            if (hash[i >> 1] >> 4 >= 8 && address[i]) {
                address[i] = address[i].toUpperCase();
            }
            if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {
                address[i + 1] = address[i + 1].toUpperCase();
            }
        }
        const result = `0x${address.join('')}`;
        checksumAddressCache$1.set(`${address_}.${chainId}`, result);
        return result;
    }

    const addressRegex$2 = /^0x[a-fA-F0-9]{40}$/;
    /** @internal */
    const isAddressCache = /*#__PURE__*/ new LruMap$3(8192);
    function isAddress(address, options) {
        const { strict = true } = options ?? {};
        const cacheKey = `${address}.${strict}`;
        if (isAddressCache.has(cacheKey))
            return isAddressCache.get(cacheKey);
        const result = (() => {
            if (!addressRegex$2.test(address))
                return false;
            if (address.toLowerCase() === address)
                return true;
            if (strict)
                return checksumAddress$1(address) === address;
            return true;
        })();
        isAddressCache.set(cacheKey, result);
        return result;
    }

    function concatHex(values) {
        return `0x${values.reduce((acc, x) => acc + x.replace('0x', ''), '')}`;
    }

    /**
     * @description Returns a section of the hex or byte array given a start/end bytes offset.
     *
     * @param value The hex or byte array to slice.
     * @param start The start offset (in bytes).
     * @param end The end offset (in bytes).
     */
    function slice(value, start, end, { strict } = {}) {
        if (isHex$1(value, { strict: false }))
            return sliceHex(value, start, end, {
                strict,
            });
        return sliceBytes(value, start, end, {
            strict,
        });
    }
    function assertEndOffset(value, start, end) {
        if (size$6(value) !== end - start) {
            throw new SliceOffsetOutOfBoundsError({
                offset: end,
                position: 'end',
                size: size$6(value),
            });
        }
    }
    /**
     * @description Returns a section of the byte array given a start/end bytes offset.
     *
     * @param value The byte array to slice.
     * @param start The start offset (in bytes).
     * @param end The end offset (in bytes).
     */
    function sliceBytes(value_, start, end, { strict } = {}) {
        const value = value_.slice(start, end);
        if (strict)
            assertEndOffset(value, start, end);
        return value;
    }
    /**
     * @description Returns a section of the hex value given a start/end bytes offset.
     *
     * @param value The hex value to slice.
     * @param start The start offset (in bytes).
     * @param end The end offset (in bytes).
     */
    function sliceHex(value_, start, end, { strict } = {}) {
        const value = `0x${value_
        .replace('0x', '')
        .slice((start) * 2, (end) * 2)}`;
        if (strict)
            assertEndOffset(value, start, end);
        return value;
    }

    class NegativeOffsetError extends BaseError$3 {
        constructor({ offset }) {
            super(`Offset \`${offset}\` cannot be negative.`, {
                name: 'NegativeOffsetError',
            });
        }
    }
    class PositionOutOfBoundsError extends BaseError$3 {
        constructor({ length, position }) {
            super(`Position \`${position}\` is out of bounds (\`0 < position < ${length}\`).`, { name: 'PositionOutOfBoundsError' });
        }
    }
    class RecursiveReadLimitExceededError extends BaseError$3 {
        constructor({ count, limit }) {
            super(`Recursive read limit of \`${limit}\` exceeded (recursive read count: \`${count}\`).`, { name: 'RecursiveReadLimitExceededError' });
        }
    }

    const staticCursor = {
        bytes: new Uint8Array(),
        dataView: new DataView(new ArrayBuffer(0)),
        position: 0,
        positionReadCount: new Map(),
        recursiveReadCount: 0,
        recursiveReadLimit: Number.POSITIVE_INFINITY,
        assertReadLimit() {
            if (this.recursiveReadCount >= this.recursiveReadLimit)
                throw new RecursiveReadLimitExceededError({
                    count: this.recursiveReadCount + 1,
                    limit: this.recursiveReadLimit,
                });
        },
        assertPosition(position) {
            if (position < 0 || position > this.bytes.length - 1)
                throw new PositionOutOfBoundsError({
                    length: this.bytes.length,
                    position,
                });
        },
        decrementPosition(offset) {
            if (offset < 0)
                throw new NegativeOffsetError({ offset });
            const position = this.position - offset;
            this.assertPosition(position);
            this.position = position;
        },
        getReadCount(position) {
            return this.positionReadCount.get(position || this.position) || 0;
        },
        incrementPosition(offset) {
            if (offset < 0)
                throw new NegativeOffsetError({ offset });
            const position = this.position + offset;
            this.assertPosition(position);
            this.position = position;
        },
        inspectByte(position_) {
            const position = position_ ?? this.position;
            this.assertPosition(position);
            return this.bytes[position];
        },
        inspectBytes(length, position_) {
            const position = position_ ?? this.position;
            this.assertPosition(position + length - 1);
            return this.bytes.subarray(position, position + length);
        },
        inspectUint8(position_) {
            const position = position_ ?? this.position;
            this.assertPosition(position);
            return this.bytes[position];
        },
        inspectUint16(position_) {
            const position = position_ ?? this.position;
            this.assertPosition(position + 1);
            return this.dataView.getUint16(position);
        },
        inspectUint24(position_) {
            const position = position_ ?? this.position;
            this.assertPosition(position + 2);
            return ((this.dataView.getUint16(position) << 8) +
                this.dataView.getUint8(position + 2));
        },
        inspectUint32(position_) {
            const position = position_ ?? this.position;
            this.assertPosition(position + 3);
            return this.dataView.getUint32(position);
        },
        pushByte(byte) {
            this.assertPosition(this.position);
            this.bytes[this.position] = byte;
            this.position++;
        },
        pushBytes(bytes) {
            this.assertPosition(this.position + bytes.length - 1);
            this.bytes.set(bytes, this.position);
            this.position += bytes.length;
        },
        pushUint8(value) {
            this.assertPosition(this.position);
            this.bytes[this.position] = value;
            this.position++;
        },
        pushUint16(value) {
            this.assertPosition(this.position + 1);
            this.dataView.setUint16(this.position, value);
            this.position += 2;
        },
        pushUint24(value) {
            this.assertPosition(this.position + 2);
            this.dataView.setUint16(this.position, value >> 8);
            this.dataView.setUint8(this.position + 2, value & 255);
            this.position += 3;
        },
        pushUint32(value) {
            this.assertPosition(this.position + 3);
            this.dataView.setUint32(this.position, value);
            this.position += 4;
        },
        readByte() {
            this.assertReadLimit();
            this._touch();
            const value = this.inspectByte();
            this.position++;
            return value;
        },
        readBytes(length, size) {
            this.assertReadLimit();
            this._touch();
            const value = this.inspectBytes(length);
            this.position += size ?? length;
            return value;
        },
        readUint8() {
            this.assertReadLimit();
            this._touch();
            const value = this.inspectUint8();
            this.position += 1;
            return value;
        },
        readUint16() {
            this.assertReadLimit();
            this._touch();
            const value = this.inspectUint16();
            this.position += 2;
            return value;
        },
        readUint24() {
            this.assertReadLimit();
            this._touch();
            const value = this.inspectUint24();
            this.position += 3;
            return value;
        },
        readUint32() {
            this.assertReadLimit();
            this._touch();
            const value = this.inspectUint32();
            this.position += 4;
            return value;
        },
        get remaining() {
            return this.bytes.length - this.position;
        },
        setPosition(position) {
            const oldPosition = this.position;
            this.assertPosition(position);
            this.position = position;
            return () => (this.position = oldPosition);
        },
        _touch() {
            if (this.recursiveReadLimit === Number.POSITIVE_INFINITY)
                return;
            const count = this.getReadCount();
            this.positionReadCount.set(this.position, count + 1);
            if (count > 0)
                this.recursiveReadCount++;
        },
    };
    function createCursor(bytes, { recursiveReadLimit = 8_192 } = {}) {
        const cursor = Object.create(staticCursor);
        cursor.bytes = bytes;
        cursor.dataView = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);
        cursor.positionReadCount = new Map();
        cursor.recursiveReadLimit = recursiveReadLimit;
        return cursor;
    }

    const stringify = (value, replacer, space) => JSON.stringify(value, (key, value_) => {
        const value = typeof value_ === 'bigint' ? value_.toString() : value_;
        return value;
    }, space);

    const gweiUnits = {
        ether: -9,
        wei: 9,
    };

    /**
     *  Divides a number by a given exponent of base 10 (10exponent), and formats it into a string representation of the number..
     *
     * - Docs: https://viem.sh/docs/utilities/formatUnits
     *
     * @example
     * import { formatUnits } from 'viem'
     *
     * formatUnits(420000000000n, 9)
     * // '420'
     */
    function formatUnits(value, decimals) {
        let display = value.toString();
        const negative = display.startsWith('-');
        if (negative)
            display = display.slice(1);
        display = display.padStart(decimals, '0');
        let [integer, fraction] = [
            display.slice(0, display.length - decimals),
            display.slice(display.length - decimals),
        ];
        fraction = fraction.replace(/(0+)$/, '');
        return `${negative ? '-' : ''}${integer || '0'}${fraction ? `.${fraction}` : ''}`;
    }

    /**
     * Converts numerical wei to a string representation of gwei.
     *
     * - Docs: https://viem.sh/docs/utilities/formatGwei
     *
     * @example
     * import { formatGwei } from 'viem'
     *
     * formatGwei(1000000000n)
     * // '1'
     */
    function formatGwei(wei, unit = 'wei') {
        return formatUnits(wei, gweiUnits[unit]);
    }

    function prettyPrint(args) {
        const entries = Object.entries(args)
            .map(([key, value]) => {
            if (value === undefined || value === false)
                return null;
            return [key, value];
        })
            .filter(Boolean);
        const maxLength = entries.reduce((acc, [key]) => Math.max(acc, key.length), 0);
        return entries
            .map(([key, value]) => `  ${`${key}:`.padEnd(maxLength + 1)}  ${value}`)
            .join('\n');
    }
    class InvalidLegacyVError extends BaseError$3 {
        constructor({ v }) {
            super(`Invalid \`v\` value "${v}". Expected 27 or 28.`, {
                name: 'InvalidLegacyVError',
            });
        }
    }
    class InvalidSerializableTransactionError extends BaseError$3 {
        constructor({ transaction }) {
            super('Cannot infer a transaction type from provided transaction.', {
                metaMessages: [
                    'Provided Transaction:',
                    '{',
                    prettyPrint(transaction),
                    '}',
                    '',
                    'To infer the type, either provide:',
                    '- a `type` to the Transaction, or',
                    '- an EIP-1559 Transaction with `maxFeePerGas`, or',
                    '- an EIP-2930 Transaction with `gasPrice` & `accessList`, or',
                    '- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or',
                    '- an EIP-7702 Transaction with `authorizationList`, or',
                    '- a Legacy Transaction with `gasPrice`',
                ],
                name: 'InvalidSerializableTransactionError',
            });
        }
    }
    class InvalidStorageKeySizeError extends BaseError$3 {
        constructor({ storageKey }) {
            super(`Size for storage key "${storageKey}" is invalid. Expected 32 bytes. Got ${Math.floor((storageKey.length - 2) / 2)} bytes.`, { name: 'InvalidStorageKeySizeError' });
        }
    }

    const getUrl = (url) => url;

    class HttpRequestError extends BaseError$3 {
        constructor({ body, cause, details, headers, status, url, }) {
            super('HTTP request failed.', {
                cause,
                details,
                metaMessages: [
                    status && `Status: ${status}`,
                    `URL: ${getUrl(url)}`,
                    body && `Request body: ${stringify(body)}`,
                ].filter(Boolean),
                name: 'HttpRequestError',
            });
            Object.defineProperty(this, "body", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "headers", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "status", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "url", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.body = body;
            this.headers = headers;
            this.status = status;
            this.url = url;
        }
    }
    class RpcRequestError extends BaseError$3 {
        constructor({ body, error, url, }) {
            super('RPC Request failed.', {
                cause: error,
                details: error.message,
                metaMessages: [`URL: ${getUrl(url)}`, `Request body: ${stringify(body)}`],
                name: 'RpcRequestError',
            });
            Object.defineProperty(this, "code", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "data", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.code = error.code;
            this.data = error.data;
        }
    }
    class TimeoutError extends BaseError$3 {
        constructor({ body, url, }) {
            super('The request took too long to respond.', {
                details: 'The request timed out.',
                metaMessages: [`URL: ${getUrl(url)}`, `Request body: ${stringify(body)}`],
                name: 'TimeoutError',
            });
        }
    }

    const unknownErrorCode = -1;
    class RpcError extends BaseError$3 {
        constructor(cause, { code, docsPath, metaMessages, name, shortMessage, }) {
            super(shortMessage, {
                cause,
                docsPath,
                metaMessages: metaMessages || cause?.metaMessages,
                name: name || 'RpcError',
            });
            Object.defineProperty(this, "code", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.name = name || cause.name;
            this.code = (cause instanceof RpcRequestError ? cause.code : (code ?? unknownErrorCode));
        }
    }
    class ProviderRpcError extends RpcError {
        constructor(cause, options) {
            super(cause, options);
            Object.defineProperty(this, "data", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.data = options.data;
        }
    }
    class ParseRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: ParseRpcError.code,
                name: 'ParseRpcError',
                shortMessage: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',
            });
        }
    }
    Object.defineProperty(ParseRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32700
    });
    class InvalidRequestRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: InvalidRequestRpcError.code,
                name: 'InvalidRequestRpcError',
                shortMessage: 'JSON is not a valid request object.',
            });
        }
    }
    Object.defineProperty(InvalidRequestRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32600
    });
    class MethodNotFoundRpcError extends RpcError {
        constructor(cause, { method } = {}) {
            super(cause, {
                code: MethodNotFoundRpcError.code,
                name: 'MethodNotFoundRpcError',
                shortMessage: `The method${method ? ` "${method}"` : ''} does not exist / is not available.`,
            });
        }
    }
    Object.defineProperty(MethodNotFoundRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32601
    });
    class InvalidParamsRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: InvalidParamsRpcError.code,
                name: 'InvalidParamsRpcError',
                shortMessage: [
                    'Invalid parameters were provided to the RPC method.',
                    'Double check you have provided the correct parameters.',
                ].join('\n'),
            });
        }
    }
    Object.defineProperty(InvalidParamsRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32602
    });
    class InternalRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: InternalRpcError.code,
                name: 'InternalRpcError',
                shortMessage: 'An internal error was received.',
            });
        }
    }
    Object.defineProperty(InternalRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32603
    });
    class InvalidInputRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: InvalidInputRpcError.code,
                name: 'InvalidInputRpcError',
                shortMessage: [
                    'Missing or invalid parameters.',
                    'Double check you have provided the correct parameters.',
                ].join('\n'),
            });
        }
    }
    Object.defineProperty(InvalidInputRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32e3
    });
    class ResourceNotFoundRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: ResourceNotFoundRpcError.code,
                name: 'ResourceNotFoundRpcError',
                shortMessage: 'Requested resource not found.',
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'ResourceNotFoundRpcError'
            });
        }
    }
    Object.defineProperty(ResourceNotFoundRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32001
    });
    class ResourceUnavailableRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: ResourceUnavailableRpcError.code,
                name: 'ResourceUnavailableRpcError',
                shortMessage: 'Requested resource not available.',
            });
        }
    }
    Object.defineProperty(ResourceUnavailableRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32002
    });
    class TransactionRejectedRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: TransactionRejectedRpcError.code,
                name: 'TransactionRejectedRpcError',
                shortMessage: 'Transaction creation failed.',
            });
        }
    }
    Object.defineProperty(TransactionRejectedRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32003
    });
    class MethodNotSupportedRpcError extends RpcError {
        constructor(cause, { method } = {}) {
            super(cause, {
                code: MethodNotSupportedRpcError.code,
                name: 'MethodNotSupportedRpcError',
                shortMessage: `Method${method ? ` "${method}"` : ''} is not supported.`,
            });
        }
    }
    Object.defineProperty(MethodNotSupportedRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32004
    });
    class LimitExceededRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: LimitExceededRpcError.code,
                name: 'LimitExceededRpcError',
                shortMessage: 'Request exceeds defined limit.',
            });
        }
    }
    Object.defineProperty(LimitExceededRpcError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32005
    });
    class JsonRpcVersionUnsupportedError extends RpcError {
        constructor(cause) {
            super(cause, {
                code: JsonRpcVersionUnsupportedError.code,
                name: 'JsonRpcVersionUnsupportedError',
                shortMessage: 'Version of JSON-RPC protocol is not supported.',
            });
        }
    }
    Object.defineProperty(JsonRpcVersionUnsupportedError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: -32006
    });
    class UserRejectedRequestError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: UserRejectedRequestError.code,
                name: 'UserRejectedRequestError',
                shortMessage: 'User rejected the request.',
            });
        }
    }
    Object.defineProperty(UserRejectedRequestError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 4001
    });
    class UnauthorizedProviderError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: UnauthorizedProviderError.code,
                name: 'UnauthorizedProviderError',
                shortMessage: 'The requested method and/or account has not been authorized by the user.',
            });
        }
    }
    Object.defineProperty(UnauthorizedProviderError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 4100
    });
    class UnsupportedProviderMethodError extends ProviderRpcError {
        constructor(cause, { method } = {}) {
            super(cause, {
                code: UnsupportedProviderMethodError.code,
                name: 'UnsupportedProviderMethodError',
                shortMessage: `The Provider does not support the requested method${method ? ` " ${method}"` : ''}.`,
            });
        }
    }
    Object.defineProperty(UnsupportedProviderMethodError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 4200
    });
    class ProviderDisconnectedError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: ProviderDisconnectedError.code,
                name: 'ProviderDisconnectedError',
                shortMessage: 'The Provider is disconnected from all chains.',
            });
        }
    }
    Object.defineProperty(ProviderDisconnectedError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 4900
    });
    class ChainDisconnectedError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: ChainDisconnectedError.code,
                name: 'ChainDisconnectedError',
                shortMessage: 'The Provider is not connected to the requested chain.',
            });
        }
    }
    Object.defineProperty(ChainDisconnectedError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 4901
    });
    class SwitchChainError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: SwitchChainError.code,
                name: 'SwitchChainError',
                shortMessage: 'An error occurred when attempting to switch chain.',
            });
        }
    }
    Object.defineProperty(SwitchChainError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 4902
    });
    class UnsupportedNonOptionalCapabilityError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: UnsupportedNonOptionalCapabilityError.code,
                name: 'UnsupportedNonOptionalCapabilityError',
                shortMessage: 'This Wallet does not support a capability that was not marked as optional.',
            });
        }
    }
    Object.defineProperty(UnsupportedNonOptionalCapabilityError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 5700
    });
    class UnsupportedChainIdError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: UnsupportedChainIdError.code,
                name: 'UnsupportedChainIdError',
                shortMessage: 'This Wallet does not support the requested chain ID.',
            });
        }
    }
    Object.defineProperty(UnsupportedChainIdError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 5710
    });
    class DuplicateIdError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: DuplicateIdError.code,
                name: 'DuplicateIdError',
                shortMessage: 'There is already a bundle submitted with this ID.',
            });
        }
    }
    Object.defineProperty(DuplicateIdError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 5720
    });
    class UnknownBundleIdError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: UnknownBundleIdError.code,
                name: 'UnknownBundleIdError',
                shortMessage: 'This bundle id is unknown / has not been submitted',
            });
        }
    }
    Object.defineProperty(UnknownBundleIdError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 5730
    });
    class BundleTooLargeError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: BundleTooLargeError.code,
                name: 'BundleTooLargeError',
                shortMessage: 'The call bundle is too large for the Wallet to process.',
            });
        }
    }
    Object.defineProperty(BundleTooLargeError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 5740
    });
    class AtomicReadyWalletRejectedUpgradeError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: AtomicReadyWalletRejectedUpgradeError.code,
                name: 'AtomicReadyWalletRejectedUpgradeError',
                shortMessage: 'The Wallet can support atomicity after an upgrade, but the user rejected the upgrade.',
            });
        }
    }
    Object.defineProperty(AtomicReadyWalletRejectedUpgradeError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 5750
    });
    class AtomicityNotSupportedError extends ProviderRpcError {
        constructor(cause) {
            super(cause, {
                code: AtomicityNotSupportedError.code,
                name: 'AtomicityNotSupportedError',
                shortMessage: 'The wallet does not support atomic execution but the request requires it.',
            });
        }
    }
    Object.defineProperty(AtomicityNotSupportedError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 5760
    });
    class UnknownRpcError extends RpcError {
        constructor(cause) {
            super(cause, {
                name: 'UnknownRpcError',
                shortMessage: 'An unknown RPC error occurred.',
            });
        }
    }

    function toRlp(bytes, to = 'hex') {
        const encodable = getEncodable(bytes);
        const cursor = createCursor(new Uint8Array(encodable.length));
        encodable.encode(cursor);
        if (to === 'hex')
            return bytesToHex$2(cursor.bytes);
        return cursor.bytes;
    }
    function getEncodable(bytes) {
        if (Array.isArray(bytes))
            return getEncodableList(bytes.map((x) => getEncodable(x)));
        return getEncodableBytes(bytes);
    }
    function getEncodableList(list) {
        const bodyLength = list.reduce((acc, x) => acc + x.length, 0);
        const sizeOfBodyLength = getSizeOfLength(bodyLength);
        const length = (() => {
            if (bodyLength <= 55)
                return 1 + bodyLength;
            return 1 + sizeOfBodyLength + bodyLength;
        })();
        return {
            length,
            encode(cursor) {
                if (bodyLength <= 55) {
                    cursor.pushByte(0xc0 + bodyLength);
                }
                else {
                    cursor.pushByte(0xc0 + 55 + sizeOfBodyLength);
                    if (sizeOfBodyLength === 1)
                        cursor.pushUint8(bodyLength);
                    else if (sizeOfBodyLength === 2)
                        cursor.pushUint16(bodyLength);
                    else if (sizeOfBodyLength === 3)
                        cursor.pushUint24(bodyLength);
                    else
                        cursor.pushUint32(bodyLength);
                }
                for (const { encode } of list) {
                    encode(cursor);
                }
            },
        };
    }
    function getEncodableBytes(bytesOrHex) {
        const bytes = typeof bytesOrHex === 'string' ? hexToBytes$2(bytesOrHex) : bytesOrHex;
        const sizeOfBytesLength = getSizeOfLength(bytes.length);
        const length = (() => {
            if (bytes.length === 1 && bytes[0] < 0x80)
                return 1;
            if (bytes.length <= 55)
                return 1 + bytes.length;
            return 1 + sizeOfBytesLength + bytes.length;
        })();
        return {
            length,
            encode(cursor) {
                if (bytes.length === 1 && bytes[0] < 0x80) {
                    cursor.pushBytes(bytes);
                }
                else if (bytes.length <= 55) {
                    cursor.pushByte(0x80 + bytes.length);
                    cursor.pushBytes(bytes);
                }
                else {
                    cursor.pushByte(0x80 + 55 + sizeOfBytesLength);
                    if (sizeOfBytesLength === 1)
                        cursor.pushUint8(bytes.length);
                    else if (sizeOfBytesLength === 2)
                        cursor.pushUint16(bytes.length);
                    else if (sizeOfBytesLength === 3)
                        cursor.pushUint24(bytes.length);
                    else
                        cursor.pushUint32(bytes.length);
                    cursor.pushBytes(bytes);
                }
            },
        };
    }
    function getSizeOfLength(length) {
        if (length < 2 ** 8)
            return 1;
        if (length < 2 ** 16)
            return 2;
        if (length < 2 ** 24)
            return 3;
        if (length < 2 ** 32)
            return 4;
        throw new BaseError$3('Length is too large.');
    }

    class ExecutionRevertedError extends BaseError$3 {
        constructor({ cause, message, } = {}) {
            const reason = message
                ?.replace('execution reverted: ', '')
                ?.replace('execution reverted', '');
            super(`Execution reverted ${reason ? `with reason: ${reason}` : 'for an unknown reason'}.`, {
                cause,
                name: 'ExecutionRevertedError',
            });
        }
    }
    Object.defineProperty(ExecutionRevertedError, "code", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: 3
    });
    Object.defineProperty(ExecutionRevertedError, "nodeMessage", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: /execution reverted/
    });
    class FeeCapTooHighError extends BaseError$3 {
        constructor({ cause, maxFeePerGas, } = {}) {
            super(`The fee cap (\`maxFeePerGas\`${maxFeePerGas ? ` = ${formatGwei(maxFeePerGas)} gwei` : ''}) cannot be higher than the maximum allowed value (2^256-1).`, {
                cause,
                name: 'FeeCapTooHighError',
            });
        }
    }
    Object.defineProperty(FeeCapTooHighError, "nodeMessage", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: /max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/
    });
    class TipAboveFeeCapError extends BaseError$3 {
        constructor({ cause, maxPriorityFeePerGas, maxFeePerGas, } = {}) {
            super([
                `The provided tip (\`maxPriorityFeePerGas\`${maxPriorityFeePerGas
                ? ` = ${formatGwei(maxPriorityFeePerGas)} gwei`
                : ''}) cannot be higher than the fee cap (\`maxFeePerGas\`${maxFeePerGas ? ` = ${formatGwei(maxFeePerGas)} gwei` : ''}).`,
            ].join('\n'), {
                cause,
                name: 'TipAboveFeeCapError',
            });
        }
    }
    Object.defineProperty(TipAboveFeeCapError, "nodeMessage", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: /max priority fee per gas higher than max fee per gas|tip higher than fee cap/
    });

    function defineFormatter(type, format) {
        return ({ exclude, format: overrides, }) => {
            return {
                exclude,
                format: (args) => {
                    const formatted = format(args);
                    if (exclude) {
                        for (const key of exclude) {
                            delete formatted[key];
                        }
                    }
                    return {
                        ...formatted,
                        ...overrides(args),
                    };
                },
                type,
            };
        };
    }

    const rpcTransactionType = {
        legacy: '0x0',
        eip2930: '0x1',
        eip1559: '0x2',
        eip4844: '0x3',
        eip7702: '0x4',
    };
    function formatTransactionRequest(request) {
        const rpcRequest = {};
        if (typeof request.authorizationList !== 'undefined')
            rpcRequest.authorizationList = formatAuthorizationList$1(request.authorizationList);
        if (typeof request.accessList !== 'undefined')
            rpcRequest.accessList = request.accessList;
        if (typeof request.blobVersionedHashes !== 'undefined')
            rpcRequest.blobVersionedHashes = request.blobVersionedHashes;
        if (typeof request.blobs !== 'undefined') {
            if (typeof request.blobs[0] !== 'string')
                rpcRequest.blobs = request.blobs.map((x) => bytesToHex$2(x));
            else
                rpcRequest.blobs = request.blobs;
        }
        if (typeof request.data !== 'undefined')
            rpcRequest.data = request.data;
        if (typeof request.from !== 'undefined')
            rpcRequest.from = request.from;
        if (typeof request.gas !== 'undefined')
            rpcRequest.gas = numberToHex$1(request.gas);
        if (typeof request.gasPrice !== 'undefined')
            rpcRequest.gasPrice = numberToHex$1(request.gasPrice);
        if (typeof request.maxFeePerBlobGas !== 'undefined')
            rpcRequest.maxFeePerBlobGas = numberToHex$1(request.maxFeePerBlobGas);
        if (typeof request.maxFeePerGas !== 'undefined')
            rpcRequest.maxFeePerGas = numberToHex$1(request.maxFeePerGas);
        if (typeof request.maxPriorityFeePerGas !== 'undefined')
            rpcRequest.maxPriorityFeePerGas = numberToHex$1(request.maxPriorityFeePerGas);
        if (typeof request.nonce !== 'undefined')
            rpcRequest.nonce = numberToHex$1(request.nonce);
        if (typeof request.to !== 'undefined')
            rpcRequest.to = request.to;
        if (typeof request.type !== 'undefined')
            rpcRequest.type = rpcTransactionType[request.type];
        if (typeof request.value !== 'undefined')
            rpcRequest.value = numberToHex$1(request.value);
        return rpcRequest;
    }
    const defineTransactionRequest = /*#__PURE__*/ defineFormatter('transactionRequest', formatTransactionRequest);
    //////////////////////////////////////////////////////////////////////////////
    function formatAuthorizationList$1(authorizationList) {
        return authorizationList.map((authorization) => ({
            address: authorization.address,
            r: authorization.r
                ? numberToHex$1(BigInt(authorization.r))
                : authorization.r,
            s: authorization.s
                ? numberToHex$1(BigInt(authorization.s))
                : authorization.s,
            chainId: numberToHex$1(authorization.chainId),
            nonce: numberToHex$1(authorization.nonce),
            ...(typeof authorization.yParity !== 'undefined'
                ? { yParity: numberToHex$1(authorization.yParity) }
                : {}),
            ...(typeof authorization.v !== 'undefined' &&
                typeof authorization.yParity === 'undefined'
                ? { v: numberToHex$1(authorization.v) }
                : {}),
        }));
    }

    const maxUint256 = 2n ** 256n - 1n;

    const transactionType = {
        '0x0': 'legacy',
        '0x1': 'eip2930',
        '0x2': 'eip1559',
        '0x3': 'eip4844',
        '0x4': 'eip7702',
    };
    function formatTransaction(transaction) {
        const transaction_ = {
            ...transaction,
            blockHash: transaction.blockHash ? transaction.blockHash : null,
            blockNumber: transaction.blockNumber
                ? BigInt(transaction.blockNumber)
                : null,
            chainId: transaction.chainId ? hexToNumber$2(transaction.chainId) : undefined,
            gas: transaction.gas ? BigInt(transaction.gas) : undefined,
            gasPrice: transaction.gasPrice ? BigInt(transaction.gasPrice) : undefined,
            maxFeePerBlobGas: transaction.maxFeePerBlobGas
                ? BigInt(transaction.maxFeePerBlobGas)
                : undefined,
            maxFeePerGas: transaction.maxFeePerGas
                ? BigInt(transaction.maxFeePerGas)
                : undefined,
            maxPriorityFeePerGas: transaction.maxPriorityFeePerGas
                ? BigInt(transaction.maxPriorityFeePerGas)
                : undefined,
            nonce: transaction.nonce ? hexToNumber$2(transaction.nonce) : undefined,
            to: transaction.to ? transaction.to : null,
            transactionIndex: transaction.transactionIndex
                ? Number(transaction.transactionIndex)
                : null,
            type: transaction.type
                ? transactionType[transaction.type]
                : undefined,
            typeHex: transaction.type ? transaction.type : undefined,
            value: transaction.value ? BigInt(transaction.value) : undefined,
            v: transaction.v ? BigInt(transaction.v) : undefined,
        };
        if (transaction.authorizationList)
            transaction_.authorizationList = formatAuthorizationList(transaction.authorizationList);
        transaction_.yParity = (() => {
            // If `yParity` is provided, we will use it.
            if (transaction.yParity)
                return Number(transaction.yParity);
            // If no `yParity` provided, try derive from `v`.
            if (typeof transaction_.v === 'bigint') {
                if (transaction_.v === 0n || transaction_.v === 27n)
                    return 0;
                if (transaction_.v === 1n || transaction_.v === 28n)
                    return 1;
                if (transaction_.v >= 35n)
                    return transaction_.v % 2n === 0n ? 1 : 0;
            }
            return undefined;
        })();
        if (transaction_.type === 'legacy') {
            delete transaction_.accessList;
            delete transaction_.maxFeePerBlobGas;
            delete transaction_.maxFeePerGas;
            delete transaction_.maxPriorityFeePerGas;
            delete transaction_.yParity;
        }
        if (transaction_.type === 'eip2930') {
            delete transaction_.maxFeePerBlobGas;
            delete transaction_.maxFeePerGas;
            delete transaction_.maxPriorityFeePerGas;
        }
        if (transaction_.type === 'eip1559') {
            delete transaction_.maxFeePerBlobGas;
        }
        return transaction_;
    }
    const defineTransaction = /*#__PURE__*/ defineFormatter('transaction', formatTransaction);
    //////////////////////////////////////////////////////////////////////////////
    function formatAuthorizationList(authorizationList) {
        return authorizationList.map((authorization) => ({
            address: authorization.address,
            chainId: Number(authorization.chainId),
            nonce: Number(authorization.nonce),
            r: authorization.r,
            s: authorization.s,
            yParity: Number(authorization.yParity),
        }));
    }

    function formatBlock(block) {
        const transactions = (block.transactions ?? []).map((transaction) => {
            if (typeof transaction === 'string')
                return transaction;
            return formatTransaction(transaction);
        });
        return {
            ...block,
            baseFeePerGas: block.baseFeePerGas ? BigInt(block.baseFeePerGas) : null,
            blobGasUsed: block.blobGasUsed ? BigInt(block.blobGasUsed) : undefined,
            difficulty: block.difficulty ? BigInt(block.difficulty) : undefined,
            excessBlobGas: block.excessBlobGas
                ? BigInt(block.excessBlobGas)
                : undefined,
            gasLimit: block.gasLimit ? BigInt(block.gasLimit) : undefined,
            gasUsed: block.gasUsed ? BigInt(block.gasUsed) : undefined,
            hash: block.hash ? block.hash : null,
            logsBloom: block.logsBloom ? block.logsBloom : null,
            nonce: block.nonce ? block.nonce : null,
            number: block.number ? BigInt(block.number) : null,
            size: block.size ? BigInt(block.size) : undefined,
            timestamp: block.timestamp ? BigInt(block.timestamp) : undefined,
            transactions,
            totalDifficulty: block.totalDifficulty
                ? BigInt(block.totalDifficulty)
                : null,
        };
    }
    const defineBlock = /*#__PURE__*/ defineFormatter('block', formatBlock);

    /**
     * Compute commitments from a list of blobs.
     *
     * @example
     * ```ts
     * import { blobsToCommitments, toBlobs } from 'viem'
     * import { kzg } from './kzg'
     *
     * const blobs = toBlobs({ data: '0x1234' })
     * const commitments = blobsToCommitments({ blobs, kzg })
     * ```
     */
    function blobsToCommitments(parameters) {
        const { kzg } = parameters;
        const to = parameters.to ?? (typeof parameters.blobs[0] === 'string' ? 'hex' : 'bytes');
        const blobs = (typeof parameters.blobs[0] === 'string'
            ? parameters.blobs.map((x) => hexToBytes$2(x))
            : parameters.blobs);
        const commitments = [];
        for (const blob of blobs)
            commitments.push(Uint8Array.from(kzg.blobToKzgCommitment(blob)));
        return (to === 'bytes'
            ? commitments
            : commitments.map((x) => bytesToHex$2(x)));
    }

    /**
     * Compute the proofs for a list of blobs and their commitments.
     *
     * @example
     * ```ts
     * import {
     *   blobsToCommitments,
     *   toBlobs
     * } from 'viem'
     * import { kzg } from './kzg'
     *
     * const blobs = toBlobs({ data: '0x1234' })
     * const commitments = blobsToCommitments({ blobs, kzg })
     * const proofs = blobsToProofs({ blobs, commitments, kzg })
     * ```
     */
    function blobsToProofs(parameters) {
        const { kzg } = parameters;
        const to = parameters.to ?? (typeof parameters.blobs[0] === 'string' ? 'hex' : 'bytes');
        const blobs = (typeof parameters.blobs[0] === 'string'
            ? parameters.blobs.map((x) => hexToBytes$2(x))
            : parameters.blobs);
        const commitments = (typeof parameters.commitments[0] === 'string'
            ? parameters.commitments.map((x) => hexToBytes$2(x))
            : parameters.commitments);
        const proofs = [];
        for (let i = 0; i < blobs.length; i++) {
            const blob = blobs[i];
            const commitment = commitments[i];
            proofs.push(Uint8Array.from(kzg.computeBlobKzgProof(blob, commitment)));
        }
        return (to === 'bytes'
            ? proofs
            : proofs.map((x) => bytesToHex$2(x)));
    }

    /**
     * Internal Merkle-Damgard hash utils.
     * @module
     */
    /** Polyfill for Safari 14. https://caniuse.com/mdn-javascript_builtins_dataview_setbiguint64 */
    function setBigUint64$1(view, byteOffset, value, isLE) {
        if (typeof view.setBigUint64 === 'function')
            return view.setBigUint64(byteOffset, value, isLE);
        const _32n = BigInt(32);
        const _u32_max = BigInt(0xffffffff);
        const wh = Number((value >> _32n) & _u32_max);
        const wl = Number(value & _u32_max);
        const h = isLE ? 4 : 0;
        const l = isLE ? 0 : 4;
        view.setUint32(byteOffset + h, wh, isLE);
        view.setUint32(byteOffset + l, wl, isLE);
    }
    /** Choice: a ? b : c */
    function Chi$1(a, b, c) {
        return (a & b) ^ (~a & c);
    }
    /** Majority function, true if any two inputs is true. */
    function Maj$1(a, b, c) {
        return (a & b) ^ (a & c) ^ (b & c);
    }
    /**
     * Merkle-Damgard hash construction base class.
     * Could be used to create MD5, RIPEMD, SHA1, SHA2.
     */
    let HashMD$1 = class HashMD extends Hash$1 {
        constructor(blockLen, outputLen, padOffset, isLE) {
            super();
            this.finished = false;
            this.length = 0;
            this.pos = 0;
            this.destroyed = false;
            this.blockLen = blockLen;
            this.outputLen = outputLen;
            this.padOffset = padOffset;
            this.isLE = isLE;
            this.buffer = new Uint8Array(blockLen);
            this.view = createView$1(this.buffer);
        }
        update(data) {
            aexists$1(this);
            data = toBytes$2(data);
            abytes$2(data);
            const { view, buffer, blockLen } = this;
            const len = data.length;
            for (let pos = 0; pos < len;) {
                const take = Math.min(blockLen - this.pos, len - pos);
                // Fast path: we have at least one block in input, cast it to view and process
                if (take === blockLen) {
                    const dataView = createView$1(data);
                    for (; blockLen <= len - pos; pos += blockLen)
                        this.process(dataView, pos);
                    continue;
                }
                buffer.set(data.subarray(pos, pos + take), this.pos);
                this.pos += take;
                pos += take;
                if (this.pos === blockLen) {
                    this.process(view, 0);
                    this.pos = 0;
                }
            }
            this.length += data.length;
            this.roundClean();
            return this;
        }
        digestInto(out) {
            aexists$1(this);
            aoutput$1(out, this);
            this.finished = true;
            // Padding
            // We can avoid allocation of buffer for padding completely if it
            // was previously not allocated here. But it won't change performance.
            const { buffer, view, blockLen, isLE } = this;
            let { pos } = this;
            // append the bit '1' to the message
            buffer[pos++] = 0b10000000;
            clean(this.buffer.subarray(pos));
            // we have less than padOffset left in buffer, so we cannot put length in
            // current block, need process it and pad again
            if (this.padOffset > blockLen - pos) {
                this.process(view, 0);
                pos = 0;
            }
            // Pad until full block byte with zeros
            for (let i = pos; i < blockLen; i++)
                buffer[i] = 0;
            // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that
            // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.
            // So we just write lowest 64 bits of that value.
            setBigUint64$1(view, blockLen - 8, BigInt(this.length * 8), isLE);
            this.process(view, 0);
            const oview = createView$1(out);
            const len = this.outputLen;
            // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT
            if (len % 4)
                throw new Error('_sha2: outputLen should be aligned to 32bit');
            const outLen = len / 4;
            const state = this.get();
            if (outLen > state.length)
                throw new Error('_sha2: outputLen bigger than state');
            for (let i = 0; i < outLen; i++)
                oview.setUint32(4 * i, state[i], isLE);
        }
        digest() {
            const { buffer, outputLen } = this;
            this.digestInto(buffer);
            const res = buffer.slice(0, outputLen);
            this.destroy();
            return res;
        }
        _cloneInto(to) {
            to || (to = new this.constructor());
            to.set(...this.get());
            const { blockLen, buffer, length, finished, destroyed, pos } = this;
            to.destroyed = destroyed;
            to.finished = finished;
            to.length = length;
            to.pos = pos;
            if (length % blockLen)
                to.buffer.set(buffer);
            return to;
        }
        clone() {
            return this._cloneInto();
        }
    };
    /**
     * Initial SHA-2 state: fractional parts of square roots of first 16 primes 2..53.
     * Check out `test/misc/sha2-gen-iv.js` for recomputation guide.
     */
    /** Initial SHA256 state. Bits 0..32 of frac part of sqrt of primes 2..19 */
    const SHA256_IV$1 = /* @__PURE__ */ Uint32Array.from([
        0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19,
    ]);

    /**
     * SHA2 hash function. A.k.a. sha256, sha384, sha512, sha512_224, sha512_256.
     * SHA256 is the fastest hash implementable in JS, even faster than Blake3.
     * Check out [RFC 4634](https://datatracker.ietf.org/doc/html/rfc4634) and
     * [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).
     * @module
     */
    /**
     * Round constants:
     * First 32 bits of fractional parts of the cube roots of the first 64 primes 2..311)
     */
    // prettier-ignore
    const SHA256_K$1 = /* @__PURE__ */ Uint32Array.from([
        0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,
        0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,
        0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
        0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,
        0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,
        0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
        0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,
        0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2
    ]);
    /** Reusable temporary buffer. "W" comes straight from spec. */
    const SHA256_W$1 = /* @__PURE__ */ new Uint32Array(64);
    let SHA256$1 = class SHA256 extends HashMD$1 {
        constructor(outputLen = 32) {
            super(64, outputLen, 8, false);
            // We cannot use array here since array allows indexing by variable
            // which means optimizer/compiler cannot use registers.
            this.A = SHA256_IV$1[0] | 0;
            this.B = SHA256_IV$1[1] | 0;
            this.C = SHA256_IV$1[2] | 0;
            this.D = SHA256_IV$1[3] | 0;
            this.E = SHA256_IV$1[4] | 0;
            this.F = SHA256_IV$1[5] | 0;
            this.G = SHA256_IV$1[6] | 0;
            this.H = SHA256_IV$1[7] | 0;
        }
        get() {
            const { A, B, C, D, E, F, G, H } = this;
            return [A, B, C, D, E, F, G, H];
        }
        // prettier-ignore
        set(A, B, C, D, E, F, G, H) {
            this.A = A | 0;
            this.B = B | 0;
            this.C = C | 0;
            this.D = D | 0;
            this.E = E | 0;
            this.F = F | 0;
            this.G = G | 0;
            this.H = H | 0;
        }
        process(view, offset) {
            // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array
            for (let i = 0; i < 16; i++, offset += 4)
                SHA256_W$1[i] = view.getUint32(offset, false);
            for (let i = 16; i < 64; i++) {
                const W15 = SHA256_W$1[i - 15];
                const W2 = SHA256_W$1[i - 2];
                const s0 = rotr$1(W15, 7) ^ rotr$1(W15, 18) ^ (W15 >>> 3);
                const s1 = rotr$1(W2, 17) ^ rotr$1(W2, 19) ^ (W2 >>> 10);
                SHA256_W$1[i] = (s1 + SHA256_W$1[i - 7] + s0 + SHA256_W$1[i - 16]) | 0;
            }
            // Compression function main loop, 64 rounds
            let { A, B, C, D, E, F, G, H } = this;
            for (let i = 0; i < 64; i++) {
                const sigma1 = rotr$1(E, 6) ^ rotr$1(E, 11) ^ rotr$1(E, 25);
                const T1 = (H + sigma1 + Chi$1(E, F, G) + SHA256_K$1[i] + SHA256_W$1[i]) | 0;
                const sigma0 = rotr$1(A, 2) ^ rotr$1(A, 13) ^ rotr$1(A, 22);
                const T2 = (sigma0 + Maj$1(A, B, C)) | 0;
                H = G;
                G = F;
                F = E;
                E = (D + T1) | 0;
                D = C;
                C = B;
                B = A;
                A = (T1 + T2) | 0;
            }
            // Add the compressed chunk to the current hash value
            A = (A + this.A) | 0;
            B = (B + this.B) | 0;
            C = (C + this.C) | 0;
            D = (D + this.D) | 0;
            E = (E + this.E) | 0;
            F = (F + this.F) | 0;
            G = (G + this.G) | 0;
            H = (H + this.H) | 0;
            this.set(A, B, C, D, E, F, G, H);
        }
        roundClean() {
            clean(SHA256_W$1);
        }
        destroy() {
            this.set(0, 0, 0, 0, 0, 0, 0, 0);
            clean(this.buffer);
        }
    };
    /**
     * SHA2-256 hash function from RFC 4634.
     *
     * It is the fastest JS hash, even faster than Blake3.
     * To break sha256 using birthday attack, attackers need to try 2^128 hashes.
     * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.
     */
    const sha256$3 = /* @__PURE__ */ createHasher(() => new SHA256$1());

    /**
     * SHA2-256 a.k.a. sha256. In JS, it is the fastest hash, even faster than Blake3.
     *
     * To break sha256 using birthday attack, attackers need to try 2^128 hashes.
     * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.
     *
     * Check out [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).
     * @module
     * @deprecated
     */
    /** @deprecated Use import from `noble/hashes/sha2` module */
    const sha256$2 = sha256$3;

    function sha256$1(value, to_) {
        const bytes = sha256$2(isHex$1(value, { strict: false }) ? toBytes$3(value) : value);
        return bytes;
    }

    /**
     * Transform a commitment to it's versioned hash.
     *
     * @example
     * ```ts
     * import {
     *   blobsToCommitments,
     *   commitmentToVersionedHash,
     *   toBlobs
     * } from 'viem'
     * import { kzg } from './kzg'
     *
     * const blobs = toBlobs({ data: '0x1234' })
     * const [commitment] = blobsToCommitments({ blobs, kzg })
     * const versionedHash = commitmentToVersionedHash({ commitment })
     * ```
     */
    function commitmentToVersionedHash(parameters) {
        const { commitment, version = 1 } = parameters;
        const to = parameters.to ?? (typeof commitment === 'string' ? 'hex' : 'bytes');
        const versionedHash = sha256$1(commitment);
        versionedHash.set([version], 0);
        return (to === 'bytes' ? versionedHash : bytesToHex$2(versionedHash));
    }

    /**
     * Transform a list of commitments to their versioned hashes.
     *
     * @example
     * ```ts
     * import {
     *   blobsToCommitments,
     *   commitmentsToVersionedHashes,
     *   toBlobs
     * } from 'viem'
     * import { kzg } from './kzg'
     *
     * const blobs = toBlobs({ data: '0x1234' })
     * const commitments = blobsToCommitments({ blobs, kzg })
     * const versionedHashes = commitmentsToVersionedHashes({ commitments })
     * ```
     */
    function commitmentsToVersionedHashes(parameters) {
        const { commitments, version } = parameters;
        const to = parameters.to ?? (typeof commitments[0] === 'string' ? 'hex' : 'bytes');
        const hashes = [];
        for (const commitment of commitments) {
            hashes.push(commitmentToVersionedHash({
                commitment,
                to,
                version,
            }));
        }
        return hashes;
    }

    // https://github.com/ethereum/EIPs/blob/master/EIPS/eip-4844.md#parameters
    /** Blob limit per transaction. */
    const blobsPerTransaction = 6;
    /** The number of bytes in a BLS scalar field element. */
    const bytesPerFieldElement = 32;
    /** The number of field elements in a blob. */
    const fieldElementsPerBlob = 4096;
    /** The number of bytes in a blob. */
    const bytesPerBlob = bytesPerFieldElement * fieldElementsPerBlob;
    /** Blob bytes limit per transaction. */
    const maxBytesPerTransaction = bytesPerBlob * blobsPerTransaction -
        // terminator byte (0x80).
        1 -
        // zero byte (0x00) appended to each field element.
        1 * fieldElementsPerBlob * blobsPerTransaction;

    // https://github.com/ethereum/EIPs/blob/master/EIPS/eip-4844.md#parameters
    const versionedHashVersionKzg = 1;

    class BlobSizeTooLargeError extends BaseError$3 {
        constructor({ maxSize, size }) {
            super('Blob size is too large.', {
                metaMessages: [`Max: ${maxSize} bytes`, `Given: ${size} bytes`],
                name: 'BlobSizeTooLargeError',
            });
        }
    }
    class EmptyBlobError extends BaseError$3 {
        constructor() {
            super('Blob data must not be empty.', { name: 'EmptyBlobError' });
        }
    }
    class InvalidVersionedHashSizeError extends BaseError$3 {
        constructor({ hash, size, }) {
            super(`Versioned hash "${hash}" size is invalid.`, {
                metaMessages: ['Expected: 32', `Received: ${size}`],
                name: 'InvalidVersionedHashSizeError',
            });
        }
    }
    class InvalidVersionedHashVersionError extends BaseError$3 {
        constructor({ hash, version, }) {
            super(`Versioned hash "${hash}" version is invalid.`, {
                metaMessages: [
                    `Expected: ${versionedHashVersionKzg}`,
                    `Received: ${version}`,
                ],
                name: 'InvalidVersionedHashVersionError',
            });
        }
    }

    /**
     * Transforms arbitrary data to blobs.
     *
     * @example
     * ```ts
     * import { toBlobs, stringToHex } from 'viem'
     *
     * const blobs = toBlobs({ data: stringToHex('hello world') })
     * ```
     */
    function toBlobs(parameters) {
        const to = parameters.to ?? (typeof parameters.data === 'string' ? 'hex' : 'bytes');
        const data = (typeof parameters.data === 'string'
            ? hexToBytes$2(parameters.data)
            : parameters.data);
        const size_ = size$6(data);
        if (!size_)
            throw new EmptyBlobError();
        if (size_ > maxBytesPerTransaction)
            throw new BlobSizeTooLargeError({
                maxSize: maxBytesPerTransaction,
                size: size_,
            });
        const blobs = [];
        let active = true;
        let position = 0;
        while (active) {
            const blob = createCursor(new Uint8Array(bytesPerBlob));
            let size = 0;
            while (size < fieldElementsPerBlob) {
                const bytes = data.slice(position, position + (bytesPerFieldElement - 1));
                // Push a zero byte so the field element doesn't overflow the BLS modulus.
                blob.pushByte(0x00);
                // Push the current segment of data bytes.
                blob.pushBytes(bytes);
                // If we detect that the current segment of data bytes is less than 31 bytes,
                // we can stop processing and push a terminator byte to indicate the end of the blob.
                if (bytes.length < 31) {
                    blob.pushByte(0x80);
                    active = false;
                    break;
                }
                size++;
                position += 31;
            }
            blobs.push(blob);
        }
        return (to === 'bytes'
            ? blobs.map((x) => x.bytes)
            : blobs.map((x) => bytesToHex$2(x.bytes)));
    }

    /**
     * Transforms arbitrary data (or blobs, commitments, & proofs) into a sidecar array.
     *
     * @example
     * ```ts
     * import { toBlobSidecars, stringToHex } from 'viem'
     *
     * const sidecars = toBlobSidecars({ data: stringToHex('hello world') })
     * ```
     *
     * @example
     * ```ts
     * import {
     *   blobsToCommitments,
     *   toBlobs,
     *   blobsToProofs,
     *   toBlobSidecars,
     *   stringToHex
     * } from 'viem'
     *
     * const blobs = toBlobs({ data: stringToHex('hello world') })
     * const commitments = blobsToCommitments({ blobs, kzg })
     * const proofs = blobsToProofs({ blobs, commitments, kzg })
     *
     * const sidecars = toBlobSidecars({ blobs, commitments, proofs })
     * ```
     */
    function toBlobSidecars(parameters) {
        const { data, kzg, to } = parameters;
        const blobs = parameters.blobs ?? toBlobs({ data: data, to });
        const commitments = parameters.commitments ?? blobsToCommitments({ blobs, kzg: kzg, to });
        const proofs = parameters.proofs ?? blobsToProofs({ blobs, commitments, kzg: kzg, to });
        const sidecars = [];
        for (let i = 0; i < blobs.length; i++)
            sidecars.push({
                blob: blobs[i],
                commitment: commitments[i],
                proof: proofs[i],
            });
        return sidecars;
    }

    function getTransactionType(transaction) {
        if (transaction.type)
            return transaction.type;
        if (typeof transaction.authorizationList !== 'undefined')
            return 'eip7702';
        if (typeof transaction.blobs !== 'undefined' ||
            typeof transaction.blobVersionedHashes !== 'undefined' ||
            typeof transaction.maxFeePerBlobGas !== 'undefined' ||
            typeof transaction.sidecars !== 'undefined')
            return 'eip4844';
        if (typeof transaction.maxFeePerGas !== 'undefined' ||
            typeof transaction.maxPriorityFeePerGas !== 'undefined') {
            return 'eip1559';
        }
        if (typeof transaction.gasPrice !== 'undefined') {
            if (typeof transaction.accessList !== 'undefined')
                return 'eip2930';
            return 'legacy';
        }
        throw new InvalidSerializableTransactionError({ transaction });
    }

    function formatLog(log, { args, eventName, } = {}) {
        return {
            ...log,
            blockHash: log.blockHash ? log.blockHash : null,
            blockNumber: log.blockNumber ? BigInt(log.blockNumber) : null,
            logIndex: log.logIndex ? Number(log.logIndex) : null,
            transactionHash: log.transactionHash ? log.transactionHash : null,
            transactionIndex: log.transactionIndex
                ? Number(log.transactionIndex)
                : null,
            ...(eventName ? { args, eventName } : {}),
        };
    }

    /** @internal */
    const version$3 = '0.1.1';

    /** @internal */
    function getVersion$1() {
        return version$3;
    }

    /**
     * Base error class inherited by all errors thrown by ox.
     *
     * @example
     * ```ts
     * import { Errors } from 'ox'
     * throw new Errors.BaseError('An error occurred')
     * ```
     */
    let BaseError$2 = class BaseError extends Error {
        constructor(shortMessage, options = {}) {
            const details = (() => {
                if (options.cause instanceof BaseError) {
                    if (options.cause.details)
                        return options.cause.details;
                    if (options.cause.shortMessage)
                        return options.cause.shortMessage;
                }
                if (options.cause &&
                    'details' in options.cause &&
                    typeof options.cause.details === 'string')
                    return options.cause.details;
                if (options.cause?.message)
                    return options.cause.message;
                return options.details;
            })();
            const docsPath = (() => {
                if (options.cause instanceof BaseError)
                    return options.cause.docsPath || options.docsPath;
                return options.docsPath;
            })();
            const docsBaseUrl = 'https://oxlib.sh';
            const docs = `${docsBaseUrl}${docsPath ?? ''}`;
            const message = [
                shortMessage || 'An error occurred.',
                ...(options.metaMessages ? ['', ...options.metaMessages] : []),
                ...(details || docsPath
                    ? [
                        '',
                        details ? `Details: ${details}` : undefined,
                        docsPath ? `See: ${docs}` : undefined,
                    ]
                    : []),
            ]
                .filter((x) => typeof x === 'string')
                .join('\n');
            super(message, options.cause ? { cause: options.cause } : undefined);
            Object.defineProperty(this, "details", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docs", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docsPath", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "shortMessage", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "cause", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'BaseError'
            });
            Object.defineProperty(this, "version", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: `ox@${getVersion$1()}`
            });
            this.cause = options.cause;
            this.details = details;
            this.docs = docs;
            this.docsPath = docsPath;
            this.shortMessage = shortMessage;
        }
        walk(fn) {
            return walk$2(this, fn);
        }
    };
    /** @internal */
    function walk$2(err, fn) {
        if (fn?.(err))
            return err;
        if (err && typeof err === 'object' && 'cause' in err && err.cause)
            return walk$2(err.cause, fn);
        return fn ? null : err;
    }

    /** @internal */
    function assertSize$4(bytes, size_) {
        if (size$5(bytes) > size_)
            throw new SizeOverflowError$4({
                givenSize: size$5(bytes),
                maxSize: size_,
            });
    }
    /** @internal */
    const charCodeMap$2 = {
        zero: 48,
        nine: 57,
        A: 65,
        F: 70,
        a: 97,
        f: 102,
    };
    /** @internal */
    function charCodeToBase16$2(char) {
        if (char >= charCodeMap$2.zero && char <= charCodeMap$2.nine)
            return char - charCodeMap$2.zero;
        if (char >= charCodeMap$2.A && char <= charCodeMap$2.F)
            return char - (charCodeMap$2.A - 10);
        if (char >= charCodeMap$2.a && char <= charCodeMap$2.f)
            return char - (charCodeMap$2.a - 10);
        return undefined;
    }
    /** @internal */
    function pad$4(bytes, options = {}) {
        const { dir, size = 32 } = options;
        if (size === 0)
            return bytes;
        if (bytes.length > size)
            throw new SizeExceedsPaddingSizeError$4({
                size: bytes.length,
                targetSize: size,
                type: 'Bytes',
            });
        const paddedBytes = new Uint8Array(size);
        for (let i = 0; i < size; i++) {
            const padEnd = dir === 'right';
            paddedBytes[padEnd ? i : size - i - 1] =
                bytes[padEnd ? i : bytes.length - i - 1];
        }
        return paddedBytes;
    }

    /** @internal */
    function assertSize$3(hex, size_) {
        if (size$4(hex) > size_)
            throw new SizeOverflowError$3({
                givenSize: size$4(hex),
                maxSize: size_,
            });
    }
    /** @internal */
    function pad$3(hex_, options = {}) {
        const { dir, size = 32 } = options;
        if (size === 0)
            return hex_;
        const hex = hex_.replace('0x', '');
        if (hex.length > size * 2)
            throw new SizeExceedsPaddingSizeError$3({
                size: Math.ceil(hex.length / 2),
                targetSize: size,
                type: 'Hex',
            });
        return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;
    }

    const encoder$5 = /*#__PURE__*/ new TextEncoder();
    /**
     * Instantiates a {@link ox#Bytes.Bytes} value from a `Uint8Array`, a hex string, or an array of unsigned 8-bit integers.
     *
     * :::tip
     *
     * To instantiate from a **Boolean**, **String**, or **Number**, use one of the following:
     *
     * - `Bytes.fromBoolean`
     *
     * - `Bytes.fromString`
     *
     * - `Bytes.fromNumber`
     *
     * :::
     *
     * @example
     * ```ts twoslash
     * // @noErrors
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.from([255, 124, 5, 4])
     * // @log: Uint8Array([255, 124, 5, 4])
     *
     * const data = Bytes.from('0xdeadbeef')
     * // @log: Uint8Array([222, 173, 190, 239])
     * ```
     *
     * @param value - Value to convert.
     * @returns A {@link ox#Bytes.Bytes} instance.
     */
    function from$1(value) {
        if (value instanceof Uint8Array)
            return value;
        if (typeof value === 'string')
            return fromHex$1(value);
        return fromArray$1(value);
    }
    /**
     * Converts an array of unsigned 8-bit integers into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromArray([255, 124, 5, 4])
     * // @log: Uint8Array([255, 124, 5, 4])
     * ```
     *
     * @param value - Value to convert.
     * @returns A {@link ox#Bytes.Bytes} instance.
     */
    function fromArray$1(value) {
        return value instanceof Uint8Array ? value : new Uint8Array(value);
    }
    /**
     * Encodes a {@link ox#Hex.Hex} value into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421')
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421', { size: 32 })
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     * ```
     *
     * @param value - {@link ox#Hex.Hex} value to encode.
     * @param options - Encoding options.
     * @returns Encoded {@link ox#Bytes.Bytes}.
     */
    function fromHex$1(value, options = {}) {
        const { size } = options;
        let hex = value;
        if (size) {
            assertSize$3(value, size);
            hex = padRight$2(value, size);
        }
        let hexString = hex.slice(2);
        if (hexString.length % 2)
            hexString = `0${hexString}`;
        const length = hexString.length / 2;
        const bytes = new Uint8Array(length);
        for (let index = 0, j = 0; index < length; index++) {
            const nibbleLeft = charCodeToBase16$2(hexString.charCodeAt(j++));
            const nibbleRight = charCodeToBase16$2(hexString.charCodeAt(j++));
            if (nibbleLeft === undefined || nibbleRight === undefined) {
                throw new BaseError$2(`Invalid byte sequence ("${hexString[j - 2]}${hexString[j - 1]}" in "${hexString}").`);
            }
            bytes[index] = nibbleLeft * 16 + nibbleRight;
        }
        return bytes;
    }
    /**
     * Encodes a string into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromString('Hello world!')
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromString('Hello world!', { size: 32 })
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     * ```
     *
     * @param value - String to encode.
     * @param options - Encoding options.
     * @returns Encoded {@link ox#Bytes.Bytes}.
     */
    function fromString$3(value, options = {}) {
        const { size } = options;
        const bytes = encoder$5.encode(value);
        if (typeof size === 'number') {
            assertSize$4(bytes, size);
            return padRight$3(bytes, size);
        }
        return bytes;
    }
    /**
     * Pads a {@link ox#Bytes.Bytes} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.padRight(Bytes.from([1]), 4)
     * // @log: Uint8Array([1, 0, 0, 0])
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} value to pad.
     * @param size - Size to pad the {@link ox#Bytes.Bytes} value to.
     * @returns Padded {@link ox#Bytes.Bytes} value.
     */
    function padRight$3(value, size) {
        return pad$4(value, { dir: 'right', size });
    }
    /**
     * Retrieves the size of a {@link ox#Bytes.Bytes} value.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.size(Bytes.from([1, 2, 3, 4]))
     * // @log: 4
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} value.
     * @returns Size of the {@link ox#Bytes.Bytes} value.
     */
    function size$5(value) {
        return value.length;
    }
    /**
     * Thrown when a size exceeds the maximum allowed size.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.fromString('Hello World!', { size: 8 })
     * // @error: Bytes.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.
     * ```
     */
    let SizeOverflowError$4 = class SizeOverflowError extends BaseError$2 {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed \`${maxSize}\` bytes. Given size: \`${givenSize}\` bytes.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Bytes.SizeOverflowError'
            });
        }
    };
    /**
     * Thrown when a the padding size exceeds the maximum allowed size.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.padLeft(Bytes.fromString('Hello World!'), 8)
     * // @error: [Bytes.SizeExceedsPaddingSizeError: Bytes size (`12`) exceeds padding size (`8`).
     * ```
     */
    let SizeExceedsPaddingSizeError$4 = class SizeExceedsPaddingSizeError extends BaseError$2 {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (\`${size}\`) exceeds padding size (\`${targetSize}\`).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Bytes.SizeExceedsPaddingSizeError'
            });
        }
    };

    const encoder$4 = /*#__PURE__*/ new TextEncoder();
    const hexes$3 = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));
    /**
     * Concatenates two or more {@link ox#Hex.Hex}.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.concat('0x123', '0x456')
     * // @log: '0x123456'
     * ```
     *
     * @param values - The {@link ox#Hex.Hex} values to concatenate.
     * @returns The concatenated {@link ox#Hex.Hex} value.
     */
    function concat$1(...values) {
        return `0x${values.reduce((acc, x) => acc + x.replace('0x', ''), '')}`;
    }
    /**
     * Encodes a boolean into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromBoolean(true)
     * // @log: '0x1'
     *
     * Hex.fromBoolean(false)
     * // @log: '0x0'
     *
     * Hex.fromBoolean(true, { size: 32 })
     * // @log: '0x0000000000000000000000000000000000000000000000000000000000000001'
     * ```
     *
     * @param value - The boolean value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromBoolean$1(value, options = {}) {
        const hex = `0x${Number(value)}`;
        if (typeof options.size === 'number') {
            assertSize$3(hex, options.size);
            return padLeft$1(hex, options.size);
        }
        return hex;
    }
    /**
     * Encodes a {@link ox#Bytes.Bytes} value into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Bytes, Hex } from 'ox'
     *
     * Hex.fromBytes(Bytes.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]))
     * // @log: '0x48656c6c6f20576f726c6421'
     * ```
     *
     * @param value - The {@link ox#Bytes.Bytes} value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromBytes$1(value, options = {}) {
        let string = '';
        for (let i = 0; i < value.length; i++)
            string += hexes$3[value[i]];
        const hex = `0x${string}`;
        if (typeof options.size === 'number') {
            assertSize$3(hex, options.size);
            return padRight$2(hex, options.size);
        }
        return hex;
    }
    /**
     * Encodes a number or bigint into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromNumber(420)
     * // @log: '0x1a4'
     *
     * Hex.fromNumber(420, { size: 32 })
     * // @log: '0x00000000000000000000000000000000000000000000000000000000000001a4'
     * ```
     *
     * @param value - The number or bigint value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromNumber$1(value, options = {}) {
        const { signed, size } = options;
        const value_ = BigInt(value);
        let maxValue;
        if (size) {
            if (signed)
                maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;
            else
                maxValue = 2n ** (BigInt(size) * 8n) - 1n;
        }
        else if (typeof value === 'number') {
            maxValue = BigInt(Number.MAX_SAFE_INTEGER);
        }
        const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;
        if ((maxValue && value_ > maxValue) || value_ < minValue) {
            const suffix = typeof value === 'bigint' ? 'n' : '';
            throw new IntegerOutOfRangeError$2({
                max: maxValue ? `${maxValue}${suffix}` : undefined,
                min: `${minValue}${suffix}`,
                signed,
                size,
                value: `${value}${suffix}`,
            });
        }
        const stringValue = (signed && value_ < 0 ? (1n << BigInt(size * 8)) + BigInt(value_) : value_).toString(16);
        const hex = `0x${stringValue}`;
        if (size)
            return padLeft$1(hex, size);
        return hex;
    }
    /**
     * Encodes a string into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     * Hex.fromString('Hello World!')
     * // '0x48656c6c6f20576f726c6421'
     *
     * Hex.fromString('Hello World!', { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     * ```
     *
     * @param value - The string value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromString$2(value, options = {}) {
        return fromBytes$1(encoder$4.encode(value), options);
    }
    /**
     * Pads a {@link ox#Hex.Hex} value to the left with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.padLeft('0x1234', 4)
     * // @log: '0x00001234'
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to pad.
     * @param size - The size (in bytes) of the output hex value.
     * @returns The padded {@link ox#Hex.Hex} value.
     */
    function padLeft$1(value, size) {
        return pad$3(value, { dir: 'left', size });
    }
    /**
     * Pads a {@link ox#Hex.Hex} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts
     * import { Hex } from 'ox'
     *
     * Hex.padRight('0x1234', 4)
     * // @log: '0x12340000'
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to pad.
     * @param size - The size (in bytes) of the output hex value.
     * @returns The padded {@link ox#Hex.Hex} value.
     */
    function padRight$2(value, size) {
        return pad$3(value, { dir: 'right', size });
    }
    /**
     * Retrieves the size of a {@link ox#Hex.Hex} value (in bytes).
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.size('0xdeadbeef')
     * // @log: 4
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to get the size of.
     * @returns The size of the {@link ox#Hex.Hex} value (in bytes).
     */
    function size$4(value) {
        return Math.ceil((value.length - 2) / 2);
    }
    /**
     * Thrown when the provided integer is out of range, and cannot be represented as a hex value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromNumber(420182738912731283712937129)
     * // @error: Hex.IntegerOutOfRangeError: Number \`4.2018273891273126e+26\` is not in safe unsigned integer range (`0` to `9007199254740991`)
     * ```
     */
    let IntegerOutOfRangeError$2 = class IntegerOutOfRangeError extends BaseError$2 {
        constructor({ max, min, signed, size, value, }) {
            super(`Number \`${value}\` is not in safe${size ? ` ${size * 8}-bit` : ''}${signed ? ' signed' : ' unsigned'} integer range ${max ? `(\`${min}\` to \`${max}\`)` : `(above \`${min}\`)`}`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.IntegerOutOfRangeError'
            });
        }
    };
    /**
     * Thrown when the size of the value exceeds the expected max size.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromString('Hello World!', { size: 8 })
     * // @error: Hex.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.
     * ```
     */
    let SizeOverflowError$3 = class SizeOverflowError extends BaseError$2 {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed \`${maxSize}\` bytes. Given size: \`${givenSize}\` bytes.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.SizeOverflowError'
            });
        }
    };
    /**
     * Thrown when the size of the value exceeds the pad size.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.padLeft('0x1a4e12a45a21323123aaa87a897a897a898a6567a578a867a98778a667a85a875a87a6a787a65a675a6a9', 32)
     * // @error: Hex.SizeExceedsPaddingSizeError: Hex size (`43`) exceeds padding size (`32`).
     * ```
     */
    let SizeExceedsPaddingSizeError$3 = class SizeExceedsPaddingSizeError extends BaseError$2 {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (\`${size}\`) exceeds padding size (\`${targetSize}\`).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.SizeExceedsPaddingSizeError'
            });
        }
    };

    class InvalidChainIdError extends BaseError$3 {
        constructor({ chainId }) {
            super(typeof chainId === 'number'
                ? `Chain ID "${chainId}" is invalid.`
                : 'Chain ID is invalid.', { name: 'InvalidChainIdError' });
        }
    }

    /** @internal */
    function withResolvers() {
        let resolve = () => undefined;
        let reject = () => undefined;
        const promise = new Promise((resolve_, reject_) => {
            resolve = resolve_;
            reject = reject_;
        });
        return { promise, resolve, reject };
    }

    const schedulerCache = /*#__PURE__*/ new Map();
    /** @internal */
    function createBatchScheduler({ fn, id, shouldSplitBatch, wait = 0, sort, }) {
        const exec = async () => {
            const scheduler = getScheduler();
            flush();
            const args = scheduler.map(({ args }) => args);
            if (args.length === 0)
                return;
            fn(args)
                .then((data) => {
                if (sort && Array.isArray(data))
                    data.sort(sort);
                for (let i = 0; i < scheduler.length; i++) {
                    const { resolve } = scheduler[i];
                    resolve?.([data[i], data]);
                }
            })
                .catch((err) => {
                for (let i = 0; i < scheduler.length; i++) {
                    const { reject } = scheduler[i];
                    reject?.(err);
                }
            });
        };
        const flush = () => schedulerCache.delete(id);
        const getBatchedArgs = () => getScheduler().map(({ args }) => args);
        const getScheduler = () => schedulerCache.get(id) || [];
        const setScheduler = (item) => schedulerCache.set(id, [...getScheduler(), item]);
        return {
            flush,
            async schedule(args) {
                const { promise, resolve, reject } = withResolvers();
                const split = shouldSplitBatch?.([...getBatchedArgs(), args]);
                if (split)
                    exec();
                const hasActiveScheduler = getScheduler().length > 0;
                if (hasActiveScheduler) {
                    setScheduler({ args, resolve, reject });
                    return promise;
                }
                setScheduler({ args, resolve, reject });
                setTimeout(exec, wait);
                return promise;
            },
        };
    }

    async function wait(time) {
        return new Promise((res) => setTimeout(res, time));
    }

    new LruMap$3(128);

    const receiptStatuses = {
        '0x0': 'reverted',
        '0x1': 'success',
    };
    function formatTransactionReceipt(transactionReceipt) {
        const receipt = {
            ...transactionReceipt,
            blockNumber: transactionReceipt.blockNumber
                ? BigInt(transactionReceipt.blockNumber)
                : null,
            contractAddress: transactionReceipt.contractAddress
                ? transactionReceipt.contractAddress
                : null,
            cumulativeGasUsed: transactionReceipt.cumulativeGasUsed
                ? BigInt(transactionReceipt.cumulativeGasUsed)
                : null,
            effectiveGasPrice: transactionReceipt.effectiveGasPrice
                ? BigInt(transactionReceipt.effectiveGasPrice)
                : null,
            gasUsed: transactionReceipt.gasUsed
                ? BigInt(transactionReceipt.gasUsed)
                : null,
            logs: transactionReceipt.logs
                ? transactionReceipt.logs.map((log) => formatLog(log))
                : null,
            to: transactionReceipt.to ? transactionReceipt.to : null,
            transactionIndex: transactionReceipt.transactionIndex
                ? hexToNumber$2(transactionReceipt.transactionIndex)
                : null,
            status: transactionReceipt.status
                ? receiptStatuses[transactionReceipt.status]
                : null,
            type: transactionReceipt.type
                ? transactionType[transactionReceipt.type] || transactionReceipt.type
                : null,
        };
        if (transactionReceipt.blobGasPrice)
            receipt.blobGasPrice = BigInt(transactionReceipt.blobGasPrice);
        if (transactionReceipt.blobGasUsed)
            receipt.blobGasUsed = BigInt(transactionReceipt.blobGasUsed);
        return receipt;
    }
    const defineTransactionReceipt = /*#__PURE__*/ defineFormatter('transactionReceipt', formatTransactionReceipt);

    numberToHex$1(0, {
        size: 32,
    });

    const size$3 = 256;
    let index = size$3;
    let buffer;
    function uid(length = 11) {
        if (!buffer || index + length > size$3 * 2) {
            buffer = '';
            index = 0;
            for (let i = 0; i < size$3; i++) {
                buffer += ((256 + Math.random() * 256) | 0).toString(16).substring(1);
            }
        }
        return buffer.substring(index, index++ + length);
    }

    /** @internal */
    const promiseCache = /*#__PURE__*/ new LruMap$3(8192);
    /** Deduplicates in-flight promises. */
    function withDedupe(fn, { enabled = true, id }) {
        if (!enabled || !id)
            return fn();
        if (promiseCache.get(id))
            return promiseCache.get(id);
        const promise = fn().finally(() => promiseCache.delete(id));
        promiseCache.set(id, promise);
        return promise;
    }

    function withRetry(fn, { delay: delay_ = 100, retryCount = 2, shouldRetry = () => true, } = {}) {
        return new Promise((resolve, reject) => {
            const attemptRetry = async ({ count = 0 } = {}) => {
                const retry = async ({ error }) => {
                    const delay = typeof delay_ === 'function' ? delay_({ count, error }) : delay_;
                    if (delay)
                        await wait(delay);
                    attemptRetry({ count: count + 1 });
                };
                try {
                    const data = await fn();
                    resolve(data);
                }
                catch (err) {
                    if (count < retryCount &&
                        (await shouldRetry({ count, error: err })))
                        return retry({ error: err });
                    reject(err);
                }
            };
            attemptRetry();
        });
    }

    function buildRequest(request, options = {}) {
        return async (args, overrideOptions = {}) => {
            const { dedupe = false, methods, retryDelay = 150, retryCount = 3, uid, } = {
                ...options,
                ...overrideOptions,
            };
            const { method } = args;
            if (methods?.exclude?.includes(method))
                throw new MethodNotSupportedRpcError(new Error('method not supported'), {
                    method,
                });
            if (methods?.include && !methods.include.includes(method))
                throw new MethodNotSupportedRpcError(new Error('method not supported'), {
                    method,
                });
            const requestId = dedupe
                ? stringToHex$1(`${uid}.${stringify(args)}`)
                : undefined;
            return withDedupe(() => withRetry(async () => {
                try {
                    return await request(args);
                }
                catch (err_) {
                    const err = err_;
                    switch (err.code) {
                        // -32700
                        case ParseRpcError.code:
                            throw new ParseRpcError(err);
                        // -32600
                        case InvalidRequestRpcError.code:
                            throw new InvalidRequestRpcError(err);
                        // -32601
                        case MethodNotFoundRpcError.code:
                            throw new MethodNotFoundRpcError(err, { method: args.method });
                        // -32602
                        case InvalidParamsRpcError.code:
                            throw new InvalidParamsRpcError(err);
                        // -32603
                        case InternalRpcError.code:
                            throw new InternalRpcError(err);
                        // -32000
                        case InvalidInputRpcError.code:
                            throw new InvalidInputRpcError(err);
                        // -32001
                        case ResourceNotFoundRpcError.code:
                            throw new ResourceNotFoundRpcError(err);
                        // -32002
                        case ResourceUnavailableRpcError.code:
                            throw new ResourceUnavailableRpcError(err);
                        // -32003
                        case TransactionRejectedRpcError.code:
                            throw new TransactionRejectedRpcError(err);
                        // -32004
                        case MethodNotSupportedRpcError.code:
                            throw new MethodNotSupportedRpcError(err, {
                                method: args.method,
                            });
                        // -32005
                        case LimitExceededRpcError.code:
                            throw new LimitExceededRpcError(err);
                        // -32006
                        case JsonRpcVersionUnsupportedError.code:
                            throw new JsonRpcVersionUnsupportedError(err);
                        // 4001
                        case UserRejectedRequestError.code:
                            throw new UserRejectedRequestError(err);
                        // 4100
                        case UnauthorizedProviderError.code:
                            throw new UnauthorizedProviderError(err);
                        // 4200
                        case UnsupportedProviderMethodError.code:
                            throw new UnsupportedProviderMethodError(err);
                        // 4900
                        case ProviderDisconnectedError.code:
                            throw new ProviderDisconnectedError(err);
                        // 4901
                        case ChainDisconnectedError.code:
                            throw new ChainDisconnectedError(err);
                        // 4902
                        case SwitchChainError.code:
                            throw new SwitchChainError(err);
                        // 5700
                        case UnsupportedNonOptionalCapabilityError.code:
                            throw new UnsupportedNonOptionalCapabilityError(err);
                        // 5710
                        case UnsupportedChainIdError.code:
                            throw new UnsupportedChainIdError(err);
                        // 5720
                        case DuplicateIdError.code:
                            throw new DuplicateIdError(err);
                        // 5730
                        case UnknownBundleIdError.code:
                            throw new UnknownBundleIdError(err);
                        // 5740
                        case BundleTooLargeError.code:
                            throw new BundleTooLargeError(err);
                        // 5750
                        case AtomicReadyWalletRejectedUpgradeError.code:
                            throw new AtomicReadyWalletRejectedUpgradeError(err);
                        // 5760
                        case AtomicityNotSupportedError.code:
                            throw new AtomicityNotSupportedError(err);
                        // CAIP-25: User Rejected Error
                        // https://docs.walletconnect.com/2.0/specs/clients/sign/error-codes#rejected-caip-25
                        case 5000:
                            throw new UserRejectedRequestError(err);
                        default:
                            if (err_ instanceof BaseError$3)
                                throw err_;
                            throw new UnknownRpcError(err);
                    }
                }
            }, {
                delay: ({ count, error }) => {
                    // If we find a Retry-After header, let's retry after the given time.
                    if (error && error instanceof HttpRequestError) {
                        const retryAfter = error?.headers?.get('Retry-After');
                        if (retryAfter?.match(/\d/))
                            return Number.parseInt(retryAfter) * 1000;
                    }
                    // Otherwise, let's retry with an exponential backoff.
                    return ~~(1 << count) * retryDelay;
                },
                retryCount,
                shouldRetry: ({ error }) => shouldRetry(error),
            }), { enabled: dedupe, id: requestId });
        };
    }
    /** @internal */
    function shouldRetry(error) {
        if ('code' in error && typeof error.code === 'number') {
            if (error.code === -1)
                return true; // Unknown error
            if (error.code === LimitExceededRpcError.code)
                return true;
            if (error.code === InternalRpcError.code)
                return true;
            return false;
        }
        if (error instanceof HttpRequestError && error.status) {
            // Forbidden
            if (error.status === 403)
                return true;
            // Request Timeout
            if (error.status === 408)
                return true;
            // Request Entity Too Large
            if (error.status === 413)
                return true;
            // Too Many Requests
            if (error.status === 429)
                return true;
            // Internal Server Error
            if (error.status === 500)
                return true;
            // Bad Gateway
            if (error.status === 502)
                return true;
            // Service Unavailable
            if (error.status === 503)
                return true;
            // Gateway Timeout
            if (error.status === 504)
                return true;
            return false;
        }
        return true;
    }

    /**
     * @description Creates an transport intended to be used with a client.
     */
    function createTransport({ key, methods, name, request, retryCount = 3, retryDelay = 150, timeout, type, }, value) {
        const uid$1 = uid();
        return {
            config: {
                key,
                methods,
                name,
                request,
                retryCount,
                retryDelay,
                timeout,
                type,
            },
            request: buildRequest(request, { methods, retryCount, retryDelay, uid: uid$1 }),
            value,
        };
    }

    function fallback(transports_, config = {}) {
        const { key = 'fallback', name = 'Fallback', rank = false, shouldThrow: shouldThrow_ = shouldThrow, retryCount, retryDelay, } = config;
        return (({ chain, pollingInterval = 4_000, timeout, ...rest }) => {
            let transports = transports_;
            let onResponse = () => { };
            const transport = createTransport({
                key,
                name,
                async request({ method, params }) {
                    let includes;
                    const fetch = async (i = 0) => {
                        const transport = transports[i]({
                            ...rest,
                            chain,
                            retryCount: 0,
                            timeout,
                        });
                        try {
                            const response = await transport.request({
                                method,
                                params,
                            });
                            onResponse({
                                method,
                                params: params,
                                response,
                                transport,
                                status: 'success',
                            });
                            return response;
                        }
                        catch (err) {
                            onResponse({
                                error: err,
                                method,
                                params: params,
                                transport,
                                status: 'error',
                            });
                            if (shouldThrow_(err))
                                throw err;
                            // If we've reached the end of the fallbacks, throw the error.
                            if (i === transports.length - 1)
                                throw err;
                            // Check if at least one other transport includes the method
                            includes ??= transports.slice(i + 1).some((transport) => {
                                const { include, exclude } = transport({ chain }).config.methods || {};
                                if (include)
                                    return include.includes(method);
                                if (exclude)
                                    return !exclude.includes(method);
                                return true;
                            });
                            if (!includes)
                                throw err;
                            // Otherwise, try the next fallback.
                            return fetch(i + 1);
                        }
                    };
                    return fetch();
                },
                retryCount,
                retryDelay,
                type: 'fallback',
            }, {
                onResponse: (fn) => (onResponse = fn),
                transports: transports.map((fn) => fn({ chain, retryCount: 0 })),
            });
            if (rank) {
                const rankOptions = (typeof rank === 'object' ? rank : {});
                rankTransports({
                    chain,
                    interval: rankOptions.interval ?? pollingInterval,
                    onTransports: (transports_) => (transports = transports_),
                    ping: rankOptions.ping,
                    sampleCount: rankOptions.sampleCount,
                    timeout: rankOptions.timeout,
                    transports,
                    weights: rankOptions.weights,
                });
            }
            return transport;
        });
    }
    function shouldThrow(error) {
        if ('code' in error && typeof error.code === 'number') {
            if (error.code === TransactionRejectedRpcError.code ||
                error.code === UserRejectedRequestError.code ||
                ExecutionRevertedError.nodeMessage.test(error.message) ||
                error.code === 5000 // CAIP UserRejectedRequestError
            )
                return true;
        }
        return false;
    }
    /** @internal */
    function rankTransports({ chain, interval = 4_000, onTransports, ping, sampleCount = 10, timeout = 1_000, transports, weights = {}, }) {
        const { stability: stabilityWeight = 0.7, latency: latencyWeight = 0.3 } = weights;
        const samples = [];
        const rankTransports_ = async () => {
            // 1. Take a sample from each Transport.
            const sample = await Promise.all(transports.map(async (transport) => {
                const transport_ = transport({ chain, retryCount: 0, timeout });
                const start = Date.now();
                let end;
                let success;
                try {
                    await (ping
                        ? ping({ transport: transport_ })
                        : transport_.request({ method: 'net_listening' }));
                    success = 1;
                }
                catch {
                    success = 0;
                }
                finally {
                    end = Date.now();
                }
                const latency = end - start;
                return { latency, success };
            }));
            // 2. Store the sample. If we have more than `sampleCount` samples, remove
            // the oldest sample.
            samples.push(sample);
            if (samples.length > sampleCount)
                samples.shift();
            // 3. Calculate the max latency from samples.
            const maxLatency = Math.max(...samples.map((sample) => Math.max(...sample.map(({ latency }) => latency))));
            // 4. Calculate the score for each Transport.
            const scores = transports
                .map((_, i) => {
                const latencies = samples.map((sample) => sample[i].latency);
                const meanLatency = latencies.reduce((acc, latency) => acc + latency, 0) /
                    latencies.length;
                const latencyScore = 1 - meanLatency / maxLatency;
                const successes = samples.map((sample) => sample[i].success);
                const stabilityScore = successes.reduce((acc, success) => acc + success, 0) /
                    successes.length;
                if (stabilityScore === 0)
                    return [0, i];
                return [
                    latencyWeight * latencyScore + stabilityWeight * stabilityScore,
                    i,
                ];
            })
                .sort((a, b) => b[0] - a[0]);
            // 5. Sort the Transports by score.
            onTransports(scores.map(([, i]) => transports[i]));
            // 6. Wait, and then rank again.
            await wait(interval);
            rankTransports_();
        };
        rankTransports_();
    }

    class UrlRequiredError extends BaseError$3 {
        constructor() {
            super('No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.', {
                docsPath: '/docs/clients/intro',
                name: 'UrlRequiredError',
            });
        }
    }

    function withTimeout(fn, { errorInstance = new Error('timed out'), timeout, signal, }) {
        return new Promise((resolve, reject) => {
            (async () => {
                let timeoutId;
                try {
                    const controller = new AbortController();
                    if (timeout > 0) {
                        timeoutId = setTimeout(() => {
                            if (signal) {
                                controller.abort();
                            }
                        }, timeout); // need to cast because bun globals.d.ts overrides @types/node
                    }
                    resolve(await fn({ signal: controller?.signal || null }));
                }
                catch (err) {
                    if (err?.name === 'AbortError')
                        reject(errorInstance);
                    reject(err);
                }
                finally {
                    clearTimeout(timeoutId);
                }
            })();
        });
    }

    function createIdStore() {
        return {
            current: 0,
            take() {
                return this.current++;
            },
            reset() {
                this.current = 0;
            },
        };
    }
    const idCache = /*#__PURE__*/ createIdStore();

    function getHttpRpcClient(url, options = {}) {
        return {
            async request(params) {
                const { body, onRequest = options.onRequest, onResponse = options.onResponse, timeout = options.timeout ?? 10_000, } = params;
                const fetchOptions = {
                    ...(options.fetchOptions ?? {}),
                    ...(params.fetchOptions ?? {}),
                };
                const { headers, method, signal: signal_ } = fetchOptions;
                try {
                    const response = await withTimeout(async ({ signal }) => {
                        const init = {
                            ...fetchOptions,
                            body: Array.isArray(body)
                                ? stringify(body.map((body) => ({
                                    jsonrpc: '2.0',
                                    id: body.id ?? idCache.take(),
                                    ...body,
                                })))
                                : stringify({
                                    jsonrpc: '2.0',
                                    id: body.id ?? idCache.take(),
                                    ...body,
                                }),
                            headers: {
                                'Content-Type': 'application/json',
                                ...headers,
                            },
                            method: method || 'POST',
                            signal: signal_ || (timeout > 0 ? signal : null),
                        };
                        const request = new Request(url, init);
                        const args = (await onRequest?.(request, init)) ?? { ...init, url };
                        const response = await fetch(args.url ?? url, args);
                        return response;
                    }, {
                        errorInstance: new TimeoutError({ body, url }),
                        timeout,
                        signal: true,
                    });
                    if (onResponse)
                        await onResponse(response);
                    let data;
                    if (response.headers.get('Content-Type')?.startsWith('application/json'))
                        data = await response.json();
                    else {
                        data = await response.text();
                        try {
                            data = JSON.parse(data || '{}');
                        }
                        catch (err) {
                            if (response.ok)
                                throw err;
                            data = { error: data };
                        }
                    }
                    if (!response.ok) {
                        throw new HttpRequestError({
                            body,
                            details: stringify(data.error) || response.statusText,
                            headers: response.headers,
                            status: response.status,
                            url,
                        });
                    }
                    return data;
                }
                catch (err) {
                    if (err instanceof HttpRequestError)
                        throw err;
                    if (err instanceof TimeoutError)
                        throw err;
                    throw new HttpRequestError({
                        body,
                        cause: err,
                        url,
                    });
                }
            },
        };
    }

    /**
     * @description Creates a HTTP transport that connects to a JSON-RPC API.
     */
    function http(
    /** URL of the JSON-RPC API. Defaults to the chain's public RPC URL. */
    url, config = {}) {
        const { batch, fetchOptions, key = 'http', methods, name = 'HTTP JSON-RPC', onFetchRequest, onFetchResponse, retryDelay, raw, } = config;
        return ({ chain, retryCount: retryCount_, timeout: timeout_ }) => {
            const { batchSize = 1000, wait = 0 } = typeof batch === 'object' ? batch : {};
            const retryCount = config.retryCount ?? retryCount_;
            const timeout = timeout_ ?? config.timeout ?? 10_000;
            const url_ = url || chain?.rpcUrls.default.http[0];
            if (!url_)
                throw new UrlRequiredError();
            const rpcClient = getHttpRpcClient(url_, {
                fetchOptions,
                onRequest: onFetchRequest,
                onResponse: onFetchResponse,
                timeout,
            });
            return createTransport({
                key,
                methods,
                name,
                async request({ method, params }) {
                    const body = { method, params };
                    const { schedule } = createBatchScheduler({
                        id: url_,
                        wait,
                        shouldSplitBatch(requests) {
                            return requests.length > batchSize;
                        },
                        fn: (body) => rpcClient.request({
                            body,
                        }),
                        sort: (a, b) => a.id - b.id,
                    });
                    const fn = async (body) => batch
                        ? schedule(body)
                        : [
                            await rpcClient.request({
                                body,
                            }),
                        ];
                    const [{ error, result }] = await fn(body);
                    if (raw)
                        return { error, result };
                    if (error)
                        throw new RpcRequestError({
                            body,
                            error,
                            url: url_,
                        });
                    return result;
                },
                retryCount,
                retryDelay,
                timeout,
                type: 'http',
            }, {
                fetchOptions,
                url: url_,
            });
        };
    }

    function defineChain$1(chain) {
        return {
            formatters: undefined,
            fees: undefined,
            serializers: undefined,
            ...chain,
        };
    }

    function assertTransactionEIP7702(transaction) {
        const { authorizationList } = transaction;
        if (authorizationList) {
            for (const authorization of authorizationList) {
                const { chainId } = authorization;
                const address = authorization.address;
                if (!isAddress(address))
                    throw new InvalidAddressError$2({ address });
                if (chainId < 0)
                    throw new InvalidChainIdError({ chainId });
            }
        }
        assertTransactionEIP1559(transaction);
    }
    function assertTransactionEIP4844(transaction) {
        const { blobVersionedHashes } = transaction;
        if (blobVersionedHashes) {
            if (blobVersionedHashes.length === 0)
                throw new EmptyBlobError();
            for (const hash of blobVersionedHashes) {
                const size_ = size$6(hash);
                const version = hexToNumber$2(slice(hash, 0, 1));
                if (size_ !== 32)
                    throw new InvalidVersionedHashSizeError({ hash, size: size_ });
                if (version !== versionedHashVersionKzg)
                    throw new InvalidVersionedHashVersionError({
                        hash,
                        version,
                    });
            }
        }
        assertTransactionEIP1559(transaction);
    }
    function assertTransactionEIP1559(transaction) {
        const { chainId, maxPriorityFeePerGas, maxFeePerGas, to } = transaction;
        if (chainId <= 0)
            throw new InvalidChainIdError({ chainId });
        if (to && !isAddress(to))
            throw new InvalidAddressError$2({ address: to });
        if (maxFeePerGas && maxFeePerGas > maxUint256)
            throw new FeeCapTooHighError({ maxFeePerGas });
        if (maxPriorityFeePerGas &&
            maxFeePerGas &&
            maxPriorityFeePerGas > maxFeePerGas)
            throw new TipAboveFeeCapError({ maxFeePerGas, maxPriorityFeePerGas });
    }
    function assertTransactionEIP2930(transaction) {
        const { chainId, maxPriorityFeePerGas, gasPrice, maxFeePerGas, to } = transaction;
        if (chainId <= 0)
            throw new InvalidChainIdError({ chainId });
        if (to && !isAddress(to))
            throw new InvalidAddressError$2({ address: to });
        if (maxPriorityFeePerGas || maxFeePerGas)
            throw new BaseError$3('`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.');
        if (gasPrice && gasPrice > maxUint256)
            throw new FeeCapTooHighError({ maxFeePerGas: gasPrice });
    }
    function assertTransactionLegacy(transaction) {
        const { chainId, maxPriorityFeePerGas, gasPrice, maxFeePerGas, to } = transaction;
        if (to && !isAddress(to))
            throw new InvalidAddressError$2({ address: to });
        if (typeof chainId !== 'undefined' && chainId <= 0)
            throw new InvalidChainIdError({ chainId });
        if (maxPriorityFeePerGas || maxFeePerGas)
            throw new BaseError$3('`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.');
        if (gasPrice && gasPrice > maxUint256)
            throw new FeeCapTooHighError({ maxFeePerGas: gasPrice });
    }

    /*
     * Serialize an  EIP-2930 access list
     * @remarks
     * Use to create a transaction serializer with support for EIP-2930 access lists
     *
     * @param accessList - Array of objects of address and arrays of Storage Keys
     * @throws InvalidAddressError, InvalidStorageKeySizeError
     * @returns Array of hex strings
     */
    function serializeAccessList(accessList) {
        if (!accessList || accessList.length === 0)
            return [];
        const serializedAccessList = [];
        for (let i = 0; i < accessList.length; i++) {
            const { address, storageKeys } = accessList[i];
            for (let j = 0; j < storageKeys.length; j++) {
                if (storageKeys[j].length - 2 !== 64) {
                    throw new InvalidStorageKeySizeError({ storageKey: storageKeys[j] });
                }
            }
            if (!isAddress(address, { strict: false })) {
                throw new InvalidAddressError$2({ address });
            }
            serializedAccessList.push([address, storageKeys]);
        }
        return serializedAccessList;
    }

    function serializeTransaction$2(transaction, signature) {
        const type = getTransactionType(transaction);
        if (type === 'eip1559')
            return serializeTransactionEIP1559(transaction, signature);
        if (type === 'eip2930')
            return serializeTransactionEIP2930(transaction, signature);
        if (type === 'eip4844')
            return serializeTransactionEIP4844(transaction, signature);
        if (type === 'eip7702')
            return serializeTransactionEIP7702(transaction, signature);
        return serializeTransactionLegacy(transaction, signature);
    }
    function serializeTransactionEIP7702(transaction, signature) {
        const { authorizationList, chainId, gas, nonce, to, value, maxFeePerGas, maxPriorityFeePerGas, accessList, data, } = transaction;
        assertTransactionEIP7702(transaction);
        const serializedAccessList = serializeAccessList(accessList);
        const serializedAuthorizationList = serializeAuthorizationList(authorizationList);
        return concatHex([
            '0x04',
            toRlp([
                numberToHex$1(chainId),
                nonce ? numberToHex$1(nonce) : '0x',
                maxPriorityFeePerGas ? numberToHex$1(maxPriorityFeePerGas) : '0x',
                maxFeePerGas ? numberToHex$1(maxFeePerGas) : '0x',
                gas ? numberToHex$1(gas) : '0x',
                to ?? '0x',
                value ? numberToHex$1(value) : '0x',
                data ?? '0x',
                serializedAccessList,
                serializedAuthorizationList,
                ...toYParitySignatureArray(transaction, signature),
            ]),
        ]);
    }
    function serializeTransactionEIP4844(transaction, signature) {
        const { chainId, gas, nonce, to, value, maxFeePerBlobGas, maxFeePerGas, maxPriorityFeePerGas, accessList, data, } = transaction;
        assertTransactionEIP4844(transaction);
        let blobVersionedHashes = transaction.blobVersionedHashes;
        let sidecars = transaction.sidecars;
        // If `blobs` are passed, we will need to compute the KZG commitments & proofs.
        if (transaction.blobs &&
            (typeof blobVersionedHashes === 'undefined' ||
                typeof sidecars === 'undefined')) {
            const blobs = (typeof transaction.blobs[0] === 'string'
                ? transaction.blobs
                : transaction.blobs.map((x) => bytesToHex$2(x)));
            const kzg = transaction.kzg;
            const commitments = blobsToCommitments({
                blobs,
                kzg,
            });
            if (typeof blobVersionedHashes === 'undefined')
                blobVersionedHashes = commitmentsToVersionedHashes({
                    commitments,
                });
            if (typeof sidecars === 'undefined') {
                const proofs = blobsToProofs({ blobs, commitments, kzg });
                sidecars = toBlobSidecars({ blobs, commitments, proofs });
            }
        }
        const serializedAccessList = serializeAccessList(accessList);
        const serializedTransaction = [
            numberToHex$1(chainId),
            nonce ? numberToHex$1(nonce) : '0x',
            maxPriorityFeePerGas ? numberToHex$1(maxPriorityFeePerGas) : '0x',
            maxFeePerGas ? numberToHex$1(maxFeePerGas) : '0x',
            gas ? numberToHex$1(gas) : '0x',
            to ?? '0x',
            value ? numberToHex$1(value) : '0x',
            data ?? '0x',
            serializedAccessList,
            maxFeePerBlobGas ? numberToHex$1(maxFeePerBlobGas) : '0x',
            blobVersionedHashes ?? [],
            ...toYParitySignatureArray(transaction, signature),
        ];
        const blobs = [];
        const commitments = [];
        const proofs = [];
        if (sidecars)
            for (let i = 0; i < sidecars.length; i++) {
                const { blob, commitment, proof } = sidecars[i];
                blobs.push(blob);
                commitments.push(commitment);
                proofs.push(proof);
            }
        return concatHex([
            '0x03',
            sidecars
                ? // If sidecars are enabled, envelope turns into a "wrapper":
                    toRlp([serializedTransaction, blobs, commitments, proofs])
                : // If sidecars are disabled, standard envelope is used:
                    toRlp(serializedTransaction),
        ]);
    }
    function serializeTransactionEIP1559(transaction, signature) {
        const { chainId, gas, nonce, to, value, maxFeePerGas, maxPriorityFeePerGas, accessList, data, } = transaction;
        assertTransactionEIP1559(transaction);
        const serializedAccessList = serializeAccessList(accessList);
        const serializedTransaction = [
            numberToHex$1(chainId),
            nonce ? numberToHex$1(nonce) : '0x',
            maxPriorityFeePerGas ? numberToHex$1(maxPriorityFeePerGas) : '0x',
            maxFeePerGas ? numberToHex$1(maxFeePerGas) : '0x',
            gas ? numberToHex$1(gas) : '0x',
            to ?? '0x',
            value ? numberToHex$1(value) : '0x',
            data ?? '0x',
            serializedAccessList,
            ...toYParitySignatureArray(transaction, signature),
        ];
        return concatHex([
            '0x02',
            toRlp(serializedTransaction),
        ]);
    }
    function serializeTransactionEIP2930(transaction, signature) {
        const { chainId, gas, data, nonce, to, value, accessList, gasPrice } = transaction;
        assertTransactionEIP2930(transaction);
        const serializedAccessList = serializeAccessList(accessList);
        const serializedTransaction = [
            numberToHex$1(chainId),
            nonce ? numberToHex$1(nonce) : '0x',
            gasPrice ? numberToHex$1(gasPrice) : '0x',
            gas ? numberToHex$1(gas) : '0x',
            to ?? '0x',
            value ? numberToHex$1(value) : '0x',
            data ?? '0x',
            serializedAccessList,
            ...toYParitySignatureArray(transaction, signature),
        ];
        return concatHex([
            '0x01',
            toRlp(serializedTransaction),
        ]);
    }
    function serializeTransactionLegacy(transaction, signature) {
        const { chainId = 0, gas, data, nonce, to, value, gasPrice } = transaction;
        assertTransactionLegacy(transaction);
        let serializedTransaction = [
            nonce ? numberToHex$1(nonce) : '0x',
            gasPrice ? numberToHex$1(gasPrice) : '0x',
            gas ? numberToHex$1(gas) : '0x',
            to ?? '0x',
            value ? numberToHex$1(value) : '0x',
            data ?? '0x',
        ];
        if (signature) {
            const v = (() => {
                // EIP-155 (inferred chainId)
                if (signature.v >= 35n) {
                    const inferredChainId = (signature.v - 35n) / 2n;
                    if (inferredChainId > 0)
                        return signature.v;
                    return 27n + (signature.v === 35n ? 0n : 1n);
                }
                // EIP-155 (explicit chainId)
                if (chainId > 0)
                    return BigInt(chainId * 2) + BigInt(35n + signature.v - 27n);
                // Pre-EIP-155 (no chainId)
                const v = 27n + (signature.v === 27n ? 0n : 1n);
                if (signature.v !== v)
                    throw new InvalidLegacyVError({ v: signature.v });
                return v;
            })();
            const r = trim(signature.r);
            const s = trim(signature.s);
            serializedTransaction = [
                ...serializedTransaction,
                numberToHex$1(v),
                r === '0x00' ? '0x' : r,
                s === '0x00' ? '0x' : s,
            ];
        }
        else if (chainId > 0) {
            serializedTransaction = [
                ...serializedTransaction,
                numberToHex$1(chainId),
                '0x',
                '0x',
            ];
        }
        return toRlp(serializedTransaction);
    }
    function toYParitySignatureArray(transaction, signature_) {
        const signature = signature_ ?? transaction;
        const { v, yParity } = signature;
        if (typeof signature.r === 'undefined')
            return [];
        if (typeof signature.s === 'undefined')
            return [];
        if (typeof v === 'undefined' && typeof yParity === 'undefined')
            return [];
        const r = trim(signature.r);
        const s = trim(signature.s);
        const yParity_ = (() => {
            if (typeof yParity === 'number')
                return yParity ? numberToHex$1(1) : '0x';
            if (v === 0n)
                return '0x';
            if (v === 1n)
                return numberToHex$1(1);
            return v === 27n ? '0x' : numberToHex$1(1);
        })();
        return [yParity_, r === '0x00' ? '0x' : r, s === '0x00' ? '0x' : s];
    }

    /*
     * Serializes an EIP-7702 authorization list.
     */
    function serializeAuthorizationList(authorizationList) {
        if (!authorizationList || authorizationList.length === 0)
            return [];
        const serializedAuthorizationList = [];
        for (const authorization of authorizationList) {
            const { chainId, nonce, ...signature } = authorization;
            const contractAddress = authorization.address;
            serializedAuthorizationList.push([
                chainId ? toHex$1(chainId) : '0x',
                contractAddress,
                nonce ? toHex$1(nonce) : '0x',
                ...toYParitySignatureArray({}, signature),
            ]);
        }
        return serializedAuthorizationList;
    }

    /**
     * Calculates the [Keccak256](https://en.wikipedia.org/wiki/SHA-3) hash of a {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.
     *
     * This function is a re-export of `keccak_256` from [`@noble/hashes`](https://github.com/paulmillr/noble-hashes), an audited & minimal JS hashing library.
     *
     * @example
     * ```ts twoslash
     * import { Hash } from 'ox'
     *
     * Hash.keccak256('0xdeadbeef')
     * // @log: '0xd4fd4e189132273036449fc9e11198c739161b4c0116a9a2dccdfa1c492006f1'
     * ```
     *
     * @example
     * ### Calculate Hash of a String
     *
     * ```ts twoslash
     * import { Hash, Hex } from 'ox'
     *
     * Hash.keccak256(Hex.fromString('hello world'))
     * // @log: '0x3ea2f1d0abf3fc66cf29eebb70cbd4e7fe762ef8a09bcc06c8edf641230afec0'
     * ```
     *
     * @example
     * ### Configure Return Type
     *
     * ```ts twoslash
     * import { Hash } from 'ox'
     *
     * Hash.keccak256('0xdeadbeef', { as: 'Bytes' })
     * // @log: Uint8Array [...]
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.
     * @param options - Options.
     * @returns Keccak256 hash.
     */
    function keccak256$2(value, options = {}) {
        const { as = typeof value === 'string' ? 'Hex' : 'Bytes' } = options;
        const bytes = keccak_256$1(from$1(value));
        if (as === 'Bytes')
            return bytes;
        return fromBytes$1(bytes);
    }

    /**
     * @internal
     *
     * Map with a LRU (Least recently used) policy.
     * @see https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
     */
    let LruMap$2 = class LruMap extends Map {
        constructor(size) {
            super();
            Object.defineProperty(this, "maxSize", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.maxSize = size;
        }
        get(key) {
            const value = super.get(key);
            if (super.has(key) && value !== undefined) {
                this.delete(key);
                super.set(key, value);
            }
            return value;
        }
        set(key, value) {
            super.set(key, value);
            if (this.maxSize && this.size > this.maxSize) {
                const firstKey = this.keys().next().value;
                if (firstKey)
                    this.delete(firstKey);
            }
            return this;
        }
    };

    const caches$1 = {
        checksum: /*#__PURE__*/ new LruMap$2(8192),
    };
    const checksum$3 = caches$1.checksum;

    const addressRegex$1 =  /^0x[a-fA-F0-9]{40}$/;
    /**
     * Asserts that the given value is a valid {@link ox#Address.Address}.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.assert('0xA0Cf798816D4b9b9866b5330EEa46a18382f251e')
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.assert('0xdeadbeef')
     * // @error: InvalidAddressError: Address "0xdeadbeef" is invalid.
     * ```
     *
     * @param value - Value to assert if it is a valid address.
     * @param options - Assertion options.
     */
    function assert$1(value, options = {}) {
        const { strict = true } = options;
        if (!addressRegex$1.test(value))
            throw new InvalidAddressError$1({
                address: value,
                cause: new InvalidInputError$1(),
            });
        if (strict) {
            if (value.toLowerCase() === value)
                return;
            if (checksum$2(value) !== value)
                throw new InvalidAddressError$1({
                    address: value,
                    cause: new InvalidChecksumError$1(),
                });
        }
    }
    /**
     * Computes the checksum address for the given {@link ox#Address.Address}.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.checksum('0xa0cf798816d4b9b9866b5330eea46a18382f251e')
     * // @log: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e'
     * ```
     *
     * @param address - The address to compute the checksum for.
     * @returns The checksummed address.
     */
    function checksum$2(address) {
        if (checksum$3.has(address))
            return checksum$3.get(address);
        assert$1(address, { strict: false });
        const hexAddress = address.substring(2).toLowerCase();
        const hash = keccak256$2(fromString$3(hexAddress), { as: 'Bytes' });
        const characters = hexAddress.split('');
        for (let i = 0; i < 40; i += 2) {
            if (hash[i >> 1] >> 4 >= 8 && characters[i]) {
                characters[i] = characters[i].toUpperCase();
            }
            if ((hash[i >> 1] & 0x0f) >= 8 && characters[i + 1]) {
                characters[i + 1] = characters[i + 1].toUpperCase();
            }
        }
        const result = `0x${characters.join('')}`;
        checksum$3.set(address, result);
        return result;
    }
    /**
     * Thrown when an address is invalid.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.from('0x123')
     * // @error: Address.InvalidAddressError: Address `0x123` is invalid.
     * ```
     */
    let InvalidAddressError$1 = class InvalidAddressError extends BaseError$2 {
        constructor({ address, cause }) {
            super(`Address "${address}" is invalid.`, {
                cause,
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidAddressError'
            });
        }
    };
    /** Thrown when an address is not a 20 byte (40 hexadecimal character) value. */
    let InvalidInputError$1 = class InvalidInputError extends BaseError$2 {
        constructor() {
            super('Address is not a 20 byte (40 hexadecimal character) value.');
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidInputError'
            });
        }
    };
    /** Thrown when an address does not match its checksum counterpart. */
    let InvalidChecksumError$1 = class InvalidChecksumError extends BaseError$2 {
        constructor() {
            super('Address does not match its checksum counterpart.');
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidChecksumError'
            });
        }
    };

    const arrayRegex$1 = /^(.*)\[([0-9]*)\]$/;
    // `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`
    // https://regexr.com/6va55
    const bytesRegex$1 = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;
    // `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`
    // https://regexr.com/6v8hp
    const integerRegex$1 = /^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;

    /**
     * Encodes an array of primitive values to a [packed ABI encoding](https://docs.soliditylang.org/en/latest/abi-spec.html#non-standard-packed-mode).
     *
     * @example
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     *
     * const encoded = AbiParameters.encodePacked(
     *   ['address', 'string'],
     *   ['0xd8da6bf26964af9d7eed9e03e53415d37aa96045', 'hello world'],
     * )
     * // @log: '0xd8da6bf26964af9d7eed9e03e53415d37aa9604568656c6c6f20776f726c64'
     * ```
     *
     * @param types - Set of ABI types to pack encode.
     * @param values - The set of primitive values that correspond to the ABI types defined in `types`.
     * @returns The encoded packed data.
     */
    function encodePacked$1(types, values) {
        if (types.length !== values.length)
            throw new LengthMismatchError$1({
                expectedLength: types.length,
                givenLength: values.length,
            });
        const data = [];
        for (let i = 0; i < types.length; i++) {
            const type = types[i];
            const value = values[i];
            data.push(encodePacked$1.encode(type, value));
        }
        return concat$1(...data);
    }
    (function (encodePacked) {
        // eslint-disable-next-line jsdoc/require-jsdoc
        function encode(type, value, isArray = false) {
            if (type === 'address') {
                const address = value;
                assert$1(address);
                return padLeft$1(address.toLowerCase(), isArray ? 32 : 0);
            }
            if (type === 'string')
                return fromString$2(value);
            if (type === 'bytes')
                return value;
            if (type === 'bool')
                return padLeft$1(fromBoolean$1(value), isArray ? 32 : 1);
            const intMatch = type.match(integerRegex$1);
            if (intMatch) {
                const [_type, baseType, bits = '256'] = intMatch;
                const size = Number.parseInt(bits) / 8;
                return fromNumber$1(value, {
                    size: isArray ? 32 : size,
                    signed: baseType === 'int',
                });
            }
            const bytesMatch = type.match(bytesRegex$1);
            if (bytesMatch) {
                const [_type, size] = bytesMatch;
                if (Number.parseInt(size) !== (value.length - 2) / 2)
                    throw new BytesSizeMismatchError$1({
                        expectedSize: Number.parseInt(size),
                        value: value,
                    });
                return padRight$2(value, isArray ? 32 : 0);
            }
            const arrayMatch = type.match(arrayRegex$1);
            if (arrayMatch && Array.isArray(value)) {
                const [_type, childType] = arrayMatch;
                const data = [];
                for (let i = 0; i < value.length; i++) {
                    data.push(encode(childType, value[i], true));
                }
                if (data.length === 0)
                    return '0x';
                return concat$1(...data);
            }
            throw new InvalidTypeError$1(type);
        }
        encodePacked.encode = encode;
    })(encodePacked$1 || (encodePacked$1 = {}));
    /**
     * The size of the bytes value does not match the size specified in the corresponding ABI parameter.
     *
     * ### Example
     *
     * ```ts twoslash
     * // @noErrors
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from('bytes8'), [['0xdeadbeefdeadbeefdeadbeef']])
     * //                                            ↑ expected: 8 bytes  ↑ ❌ size: 12 bytes
     * // @error: BytesSizeMismatchError: Size of bytes "0xdeadbeefdeadbeefdeadbeef"
     * // @error: (bytes12) does not match expected size (bytes8).
     * ```
     *
     * ### Solution
     *
     * Pass a bytes value of the correct size.
     *
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from(['bytes8']), ['0xdeadbeefdeadbeef'])
     * //                                                       ↑ ✅ size: 8 bytes
     * ```
     */
    let BytesSizeMismatchError$1 = class BytesSizeMismatchError extends BaseError$2 {
        constructor({ expectedSize, value, }) {
            super(`Size of bytes "${value}" (bytes${size$4(value)}) does not match expected size (bytes${expectedSize}).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.BytesSizeMismatchError'
            });
        }
    };
    /**
     * The length of the values to encode does not match the length of the ABI parameters.
     *
     * ### Example
     *
     * ```ts twoslash
     * // @noErrors
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from(['string', 'uint256']), ['hello'])
     * // @error: LengthMismatchError: ABI encoding params/values length mismatch.
     * // @error: Expected length (params): 2
     * // @error: Given length (values): 1
     * ```
     *
     * ### Solution
     *
     * Pass the correct number of values to encode.
     *
     * ### Solution
     *
     * Pass a [valid ABI type](https://docs.soliditylang.org/en/develop/abi-spec.html#types).
     */
    let LengthMismatchError$1 = class LengthMismatchError extends BaseError$2 {
        constructor({ expectedLength, givenLength, }) {
            super([
                'ABI encoding parameters/values length mismatch.',
                `Expected length (parameters): ${expectedLength}`,
                `Given length (values): ${givenLength}`,
            ].join('\n'));
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.LengthMismatchError'
            });
        }
    };
    /**
     * Throws when the ABI parameter type is invalid.
     *
     * @example
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     *
     * AbiParameters.decode([{ type: 'lol' }], '0x00000000000000000000000000000000000000000000000000000000000010f')
     * //                             ↑ ❌ invalid type
     * // @error: AbiParameters.InvalidTypeError: Type `lol` is not a valid ABI Type.
     * ```
     */
    let InvalidTypeError$1 = class InvalidTypeError extends BaseError$2 {
        constructor(type) {
            super(`Type \`${type}\` is not a valid ABI Type.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.InvalidTypeError'
            });
        }
    };

    const ERC7811Utils = {
        /**
         * Creates a Balance object from an ERC7811 Asset object
         * @param asset - Asset object to convert
         * @param chainId - Chain ID in CAIP-2 format
         * @returns Balance object
         */
        createBalance(asset, chainId) {
            const metadata = {
                name: (asset.metadata['name'] || ''),
                symbol: (asset.metadata['symbol'] || ''),
                decimals: (asset.metadata['decimals'] || 0),
                value: (asset.metadata['value'] || 0),
                price: (asset.metadata['price'] || 0),
                iconUrl: (asset.metadata['iconUrl'] || '')
            };
            return {
                name: metadata.name,
                symbol: metadata.symbol,
                chainId,
                address: asset.address === 'native'
                    ? undefined
                    : this.convertAddressToCAIP10Address(asset.address, chainId),
                value: metadata.value,
                price: metadata.price,
                quantity: {
                    decimals: metadata.decimals.toString(),
                    numeric: this.convertHexToBalance({
                        hex: asset.balance,
                        decimals: metadata.decimals
                    })
                },
                iconUrl: metadata.iconUrl
            };
        },
        /**
         * Converts a hex string to a Balance object
         * @param hex - Hex string to convert
         * @param decimals - Number of decimals to use
         * @returns Balance object
         */
        convertHexToBalance({ hex, decimals }) {
            return formatUnits(BigInt(hex), decimals);
        },
        /**
         * Converts an address to a CAIP-10 address
         * @param address - Address to convert
         * @param chainId - Chain ID in CAIP-2 format
         * @returns CAIP-10 address
         */
        convertAddressToCAIP10Address(address, chainId) {
            return `${chainId}:${address}`;
        },
        /**
         *  Creates a CAIP-2 Chain ID from a chain ID and namespace
         * @param chainId  - Chain ID in hex format
         * @param namespace  - Chain namespace
         * @returns
         */
        createCAIP2ChainId(chainId, namespace) {
            return `${namespace}:${parseInt(chainId, 16)}`;
        },
        /**
         * Gets the chain ID in hex format from a CAIP-2 Chain ID
         * @param caip2ChainId - CAIP-2 Chain ID
         * @returns Chain ID in hex format
         */
        getChainIdHexFromCAIP2ChainId(caip2ChainId) {
            const parts = caip2ChainId.split(':');
            if (parts.length < 2 || !parts[1]) {
                return '0x0';
            }
            const chainPart = parts[1];
            const parsed = parseInt(chainPart, 10);
            return isNaN(parsed) ? '0x0' : `0x${parsed.toString(16)}`;
        },
        /**
         * Checks if a response is a valid WalletGetAssetsResponse
         * @param response - The response to check
         * @returns True if the response is a valid WalletGetAssetsResponse, false otherwise
         */
        isWalletGetAssetsResponse(response) {
            // Check if response is an object and has the expected structure
            if (typeof response !== 'object' || response === null) {
                return false;
            }
            // Check if all values are arrays and conform to the expected asset structure
            return Object.values(response).every(value => Array.isArray(value) && value.every(asset => this.isValidAsset(asset)));
        },
        /**
         * Checks if an asset object is valid.
         * @param asset - The asset object to check.
         * @returns True if the asset is valid, false otherwise.
         */
        isValidAsset(asset) {
            return (typeof asset === 'object' &&
                asset !== null &&
                typeof asset.address === 'string' &&
                typeof asset.balance === 'string' &&
                (asset.type === 'ERC20' || asset.type === 'NATIVE') &&
                typeof asset.metadata === 'object' &&
                asset.metadata !== null &&
                typeof asset.metadata['name'] === 'string' &&
                typeof asset.metadata['symbol'] === 'string' &&
                typeof asset.metadata['decimals'] === 'number' &&
                typeof asset.metadata['price'] === 'number' &&
                typeof asset.metadata['iconUrl'] === 'string');
        }
    };

    // -- Controller ---------------------------------------- //
    const SendApiUtil = {
        async getMyTokensWithBalance(forceUpdate) {
            const address = AccountController.state.address;
            const caipNetwork = ChainController.state.activeCaipNetwork;
            if (!address || !caipNetwork) {
                return [];
            }
            // Extract EIP-155 specific logic
            if (caipNetwork.chainNamespace === 'eip155') {
                const eip155Balances = await this.getEIP155Balances(address, caipNetwork);
                if (eip155Balances) {
                    return this.filterLowQualityTokens(eip155Balances);
                }
            }
            // Fallback to 1Inch API
            const response = await BlockchainApiController.getBalance(address, caipNetwork.caipNetworkId, forceUpdate);
            return this.filterLowQualityTokens(response.balances);
        },
        async getEIP155Balances(address, caipNetwork) {
            try {
                const chainIdHex = ERC7811Utils.getChainIdHexFromCAIP2ChainId(caipNetwork.caipNetworkId);
                const walletCapabilities = (await ConnectionController.getCapabilities(address));
                if (!walletCapabilities?.[chainIdHex]?.['assetDiscovery']?.supported) {
                    return null;
                }
                const walletGetAssetsResponse = await ConnectionController.walletGetAssets({
                    account: address,
                    chainFilter: [chainIdHex]
                });
                if (!ERC7811Utils.isWalletGetAssetsResponse(walletGetAssetsResponse)) {
                    return null;
                }
                const assets = walletGetAssetsResponse[chainIdHex] || [];
                return assets.map(asset => ERC7811Utils.createBalance(asset, caipNetwork.caipNetworkId));
            }
            catch (error) {
                return null;
            }
        },
        /**
         * The 1Inch API includes many low-quality tokens in the balance response,
         * which appear inconsistently. This filter prevents them from being displayed.
         */
        filterLowQualityTokens(balances) {
            return balances.filter(balance => balance.quantity.decimals !== '0');
        },
        mapBalancesToSwapTokens(balances) {
            return (balances?.map(token => ({
                ...token,
                address: token?.address
                    ? token.address
                    : ChainController.getActiveNetworkTokenAddress(),
                decimals: parseInt(token.quantity.decimals, 10),
                logoUri: token.iconUrl,
                eip2612: false
            })) || []);
        }
    };

    // -- State --------------------------------------------- //
    const state$7 = proxy({
        tokenBalances: [],
        loading: false
    });
    // -- Controller ---------------------------------------- //
    const SendController = {
        state: state$7,
        subscribe(callback) {
            return subscribe(state$7, () => callback(state$7));
        },
        subscribeKey(key, callback) {
            return subscribeKey(state$7, key, callback);
        },
        setToken(token) {
            if (token) {
                state$7.token = ref(token);
            }
        },
        setTokenAmount(sendTokenAmount) {
            state$7.sendTokenAmount = sendTokenAmount;
        },
        setReceiverAddress(receiverAddress) {
            state$7.receiverAddress = receiverAddress;
        },
        setReceiverProfileImageUrl(receiverProfileImageUrl) {
            state$7.receiverProfileImageUrl = receiverProfileImageUrl;
        },
        setReceiverProfileName(receiverProfileName) {
            state$7.receiverProfileName = receiverProfileName;
        },
        setGasPrice(gasPrice) {
            state$7.gasPrice = gasPrice;
        },
        setGasPriceInUsd(gasPriceInUSD) {
            state$7.gasPriceInUSD = gasPriceInUSD;
        },
        setNetworkBalanceInUsd(networkBalanceInUSD) {
            state$7.networkBalanceInUSD = networkBalanceInUSD;
        },
        setLoading(loading) {
            state$7.loading = loading;
        },
        sendToken() {
            switch (ChainController.state.activeCaipNetwork?.chainNamespace) {
                case 'eip155':
                    this.sendEvmToken();
                    return;
                case 'solana':
                    this.sendSolanaToken();
                    return;
                default:
                    throw new Error('Unsupported chain');
            }
        },
        sendEvmToken() {
            const activeChainNamespace = ChainController.state.activeChain;
            const activeAccountType = AccountController.state.preferredAccountTypes?.[activeChainNamespace];
            if (this.state.token?.address && this.state.sendTokenAmount && this.state.receiverAddress) {
                EventsController.sendEvent({
                    type: 'track',
                    event: 'SEND_INITIATED',
                    properties: {
                        isSmartAccount: activeAccountType === W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,
                        token: this.state.token.address,
                        amount: this.state.sendTokenAmount,
                        network: ChainController.state.activeCaipNetwork?.caipNetworkId || ''
                    }
                });
                this.sendERC20Token({
                    receiverAddress: this.state.receiverAddress,
                    tokenAddress: this.state.token.address,
                    sendTokenAmount: this.state.sendTokenAmount,
                    decimals: this.state.token.quantity.decimals
                });
            }
            else if (this.state.receiverAddress &&
                this.state.sendTokenAmount &&
                this.state.gasPrice &&
                this.state.token?.quantity.decimals) {
                EventsController.sendEvent({
                    type: 'track',
                    event: 'SEND_INITIATED',
                    properties: {
                        isSmartAccount: activeAccountType === W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,
                        token: this.state.token?.symbol,
                        amount: this.state.sendTokenAmount,
                        network: ChainController.state.activeCaipNetwork?.caipNetworkId || ''
                    }
                });
                this.sendNativeToken({
                    receiverAddress: this.state.receiverAddress,
                    sendTokenAmount: this.state.sendTokenAmount,
                    gasPrice: this.state.gasPrice,
                    decimals: this.state.token.quantity.decimals
                });
            }
        },
        async fetchTokenBalance(onError) {
            state$7.loading = true;
            const chainId = ChainController.state.activeCaipNetwork?.caipNetworkId;
            const chain = ChainController.state.activeCaipNetwork?.chainNamespace;
            const caipAddress = ChainController.state.activeCaipAddress;
            const address = caipAddress ? CoreHelperUtil.getPlainAddress(caipAddress) : undefined;
            if (state$7.lastRetry &&
                !CoreHelperUtil.isAllowedRetry(state$7.lastRetry, 30 * ConstantsUtil$2.ONE_SEC_MS)) {
                state$7.loading = false;
                return [];
            }
            try {
                if (address && chainId && chain) {
                    const balances = await SendApiUtil.getMyTokensWithBalance();
                    state$7.tokenBalances = balances;
                    state$7.lastRetry = undefined;
                    return balances;
                }
            }
            catch (error) {
                state$7.lastRetry = Date.now();
                onError?.(error);
                SnackController.showError('Token Balance Unavailable');
            }
            finally {
                state$7.loading = false;
            }
            return [];
        },
        fetchNetworkBalance() {
            if (state$7.tokenBalances.length === 0) {
                return;
            }
            const networkTokenBalances = SendApiUtil.mapBalancesToSwapTokens(state$7.tokenBalances);
            if (!networkTokenBalances) {
                return;
            }
            const networkToken = networkTokenBalances.find(token => token.address === ChainController.getActiveNetworkTokenAddress());
            if (!networkToken) {
                return;
            }
            state$7.networkBalanceInUSD = networkToken
                ? NumberUtil.multiply(networkToken.quantity.numeric, networkToken.price).toString()
                : '0';
        },
        isInsufficientNetworkTokenForGas(networkBalanceInUSD, gasPriceInUSD) {
            const gasPrice = gasPriceInUSD || '0';
            if (NumberUtil.bigNumber(networkBalanceInUSD).eq(0)) {
                return true;
            }
            return NumberUtil.bigNumber(NumberUtil.bigNumber(gasPrice)).gt(networkBalanceInUSD);
        },
        hasInsufficientGasFunds() {
            const activeChainNamespace = ChainController.state.activeChain;
            let isInsufficientNetworkTokenForGas = true;
            if (AccountController.state.preferredAccountTypes?.[activeChainNamespace] ===
                W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT) {
                // Smart Accounts may pay gas in any ERC20 token
                isInsufficientNetworkTokenForGas = false;
            }
            else if (state$7.networkBalanceInUSD) {
                isInsufficientNetworkTokenForGas = this.isInsufficientNetworkTokenForGas(state$7.networkBalanceInUSD, state$7.gasPriceInUSD);
            }
            return isInsufficientNetworkTokenForGas;
        },
        async sendNativeToken(params) {
            const activeChainNamespace = ChainController.state.activeChain;
            RouterController.pushTransactionStack({
                view: 'Account',
                goBack: false
            });
            const to = params.receiverAddress;
            const address = AccountController.state.address;
            const value = ConnectionController.parseUnits(params.sendTokenAmount.toString(), Number(params.decimals));
            const data = '0x';
            try {
                await ConnectionController.sendTransaction({
                    chainNamespace: 'eip155',
                    to,
                    address,
                    data,
                    value: value ?? BigInt(0),
                    gasPrice: params.gasPrice
                });
                SnackController.showSuccess('Transaction started');
                EventsController.sendEvent({
                    type: 'track',
                    event: 'SEND_SUCCESS',
                    properties: {
                        isSmartAccount: AccountController.state.preferredAccountTypes?.[activeChainNamespace] ===
                            W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,
                        token: this.state.token?.symbol || '',
                        amount: params.sendTokenAmount,
                        network: ChainController.state.activeCaipNetwork?.caipNetworkId || ''
                    }
                });
                this.resetSend();
            }
            catch (error) {
                // eslint-disable-next-line no-console
                console.error('SendController:sendERC20Token - failed to send native token', error);
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                EventsController.sendEvent({
                    type: 'track',
                    event: 'SEND_ERROR',
                    properties: {
                        message: errorMessage,
                        isSmartAccount: AccountController.state.preferredAccountTypes?.[activeChainNamespace] ===
                            W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,
                        token: this.state.token?.symbol || '',
                        amount: params.sendTokenAmount,
                        network: ChainController.state.activeCaipNetwork?.caipNetworkId || ''
                    }
                });
                SnackController.showError('Something went wrong');
            }
        },
        async sendERC20Token(params) {
            RouterController.pushTransactionStack({
                view: 'Account',
                goBack: false
            });
            const amount = ConnectionController.parseUnits(params.sendTokenAmount.toString(), Number(params.decimals));
            try {
                if (AccountController.state.address &&
                    params.sendTokenAmount &&
                    params.receiverAddress &&
                    params.tokenAddress) {
                    const tokenAddress = CoreHelperUtil.getPlainAddress(params.tokenAddress);
                    await ConnectionController.writeContract({
                        fromAddress: AccountController.state.address,
                        tokenAddress,
                        args: [params.receiverAddress, amount ?? BigInt(0)],
                        method: 'transfer',
                        abi: ContractUtil.getERC20Abi(tokenAddress),
                        chainNamespace: 'eip155'
                    });
                    SnackController.showSuccess('Transaction started');
                    this.resetSend();
                }
            }
            catch (error) {
                // eslint-disable-next-line no-console
                console.error('SendController:sendERC20Token - failed to send erc20 token', error);
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                EventsController.sendEvent({
                    type: 'track',
                    event: 'SEND_ERROR',
                    properties: {
                        message: errorMessage,
                        isSmartAccount: AccountController.state.preferredAccountTypes?.eip155 ===
                            W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,
                        token: this.state.token?.symbol || '',
                        amount: params.sendTokenAmount,
                        network: ChainController.state.activeCaipNetwork?.caipNetworkId || ''
                    }
                });
                SnackController.showError('Something went wrong');
            }
        },
        sendSolanaToken() {
            if (!this.state.sendTokenAmount || !this.state.receiverAddress) {
                SnackController.showError('Please enter a valid amount and receiver address');
                return;
            }
            RouterController.pushTransactionStack({
                view: 'Account',
                goBack: false
            });
            ConnectionController.sendTransaction({
                chainNamespace: 'solana',
                to: this.state.receiverAddress,
                value: this.state.sendTokenAmount
            })
                .then(() => {
                this.resetSend();
                AccountController.fetchTokenBalance();
            })
                .catch(error => {
                SnackController.showError('Failed to send transaction. Please try again.');
                // eslint-disable-next-line no-console
                console.error('SendController:sendToken - failed to send solana transaction', error);
            });
        },
        resetSend() {
            state$7.token = undefined;
            state$7.sendTokenAmount = undefined;
            state$7.receiverAddress = undefined;
            state$7.receiverProfileImageUrl = undefined;
            state$7.receiverProfileName = undefined;
            state$7.loading = false;
            state$7.tokenBalances = [];
        }
    };

    // -- Constants ----------------------------------------- //
    const accountState = {
        currentTab: 0,
        tokenBalance: [],
        smartAccountDeployed: false,
        addressLabels: new Map(),
        allAccounts: [],
        user: undefined
    };
    const networkState = {
        caipNetwork: undefined,
        supportsAllNetworks: true,
        smartAccountEnabledNetworks: []
    };
    // -- State --------------------------------------------- //
    const state$6 = proxy({
        chains: proxyMap(),
        activeCaipAddress: undefined,
        activeChain: undefined,
        activeCaipNetwork: undefined,
        noAdapters: false,
        universalAdapter: {
            networkControllerClient: undefined,
            connectionControllerClient: undefined
        },
        isSwitchingNamespace: false
    });
    // -- Controller ---------------------------------------- //
    const ChainController = {
        state: state$6,
        subscribe(callback) {
            return subscribe(state$6, () => {
                callback(state$6);
            });
        },
        subscribeKey(key, callback) {
            return subscribeKey(state$6, key, callback);
        },
        subscribeChainProp(property, callback, chain) {
            let prev = undefined;
            return subscribe(state$6.chains, () => {
                const activeChain = chain || state$6.activeChain;
                if (activeChain) {
                    const nextValue = state$6.chains.get(activeChain)?.[property];
                    if (prev !== nextValue) {
                        prev = nextValue;
                        callback(nextValue);
                    }
                }
            });
        },
        initialize(adapters, caipNetworks, clients) {
            const { chainId: activeChainId, namespace: activeNamespace } = StorageUtil.getActiveNetworkProps();
            const activeCaipNetwork = caipNetworks?.find(network => network.id.toString() === activeChainId?.toString());
            const defaultAdapter = adapters.find(adapter => adapter?.namespace === activeNamespace);
            const adapterToActivate = defaultAdapter || adapters?.[0];
            const namespaces = new Set([...(caipNetworks?.map(network => network.chainNamespace) ?? [])]);
            if (adapters?.length === 0 || !adapterToActivate) {
                state$6.noAdapters = true;
            }
            if (!state$6.noAdapters) {
                state$6.activeChain = adapterToActivate?.namespace;
                state$6.activeCaipNetwork = activeCaipNetwork;
                this.setChainNetworkData(adapterToActivate?.namespace, { caipNetwork: activeCaipNetwork });
                if (state$6.activeChain) {
                    PublicStateController.set({ activeChain: adapterToActivate?.namespace });
                }
            }
            namespaces.forEach(namespace => {
                const namespaceNetworks = caipNetworks?.filter(network => network.chainNamespace === namespace);
                ChainController.state.chains.set(namespace, {
                    namespace,
                    networkState: proxy({
                        ...networkState,
                        caipNetwork: namespaceNetworks?.[0]
                    }),
                    accountState: proxy(accountState),
                    caipNetworks: namespaceNetworks ?? [],
                    ...clients
                });
                this.setRequestedCaipNetworks(namespaceNetworks ?? [], namespace);
            });
        },
        removeAdapter(namespace) {
            if (state$6.activeChain === namespace) {
                const nextAdapter = Array.from(state$6.chains.entries()).find(([chainNamespace]) => chainNamespace !== namespace);
                if (nextAdapter) {
                    const caipNetwork = nextAdapter[1]?.caipNetworks?.[0];
                    if (caipNetwork) {
                        this.setActiveCaipNetwork(caipNetwork);
                    }
                }
            }
            state$6.chains.delete(namespace);
        },
        addAdapter(adapter, { networkControllerClient, connectionControllerClient }, caipNetworks) {
            state$6.chains.set(adapter.namespace, {
                namespace: adapter.namespace,
                networkState: {
                    ...networkState,
                    caipNetwork: caipNetworks[0]
                },
                accountState,
                caipNetworks,
                connectionControllerClient,
                networkControllerClient
            });
            this.setRequestedCaipNetworks(caipNetworks?.filter(caipNetwork => caipNetwork.chainNamespace === adapter.namespace) ?? [], adapter.namespace);
        },
        addNetwork(network) {
            const chainAdapter = state$6.chains.get(network.chainNamespace);
            if (chainAdapter) {
                const newNetworks = [...(chainAdapter.caipNetworks || [])];
                if (!chainAdapter.caipNetworks?.find(caipNetwork => caipNetwork.id === network.id)) {
                    newNetworks.push(network);
                }
                state$6.chains.set(network.chainNamespace, { ...chainAdapter, caipNetworks: newNetworks });
                this.setRequestedCaipNetworks(newNetworks, network.chainNamespace);
            }
        },
        removeNetwork(namespace, networkId) {
            const chainAdapter = state$6.chains.get(namespace);
            if (chainAdapter) {
                // Check if network being removed is active network
                const isActiveNetwork = state$6.activeCaipNetwork?.id === networkId;
                // Filter out the network being removed
                const newCaipNetworksOfAdapter = [
                    ...(chainAdapter.caipNetworks?.filter(network => network.id !== networkId) || [])
                ];
                // If active network was removed and there are other networks available, switch to first one
                if (isActiveNetwork && chainAdapter?.caipNetworks?.[0]) {
                    this.setActiveCaipNetwork(chainAdapter.caipNetworks[0]);
                }
                state$6.chains.set(namespace, { ...chainAdapter, caipNetworks: newCaipNetworksOfAdapter });
                this.setRequestedCaipNetworks(newCaipNetworksOfAdapter || [], namespace);
            }
        },
        setAdapterNetworkState(chain, props) {
            const chainAdapter = state$6.chains.get(chain);
            if (chainAdapter) {
                chainAdapter.networkState = {
                    ...(chainAdapter.networkState || networkState),
                    ...props
                };
                state$6.chains.set(chain, chainAdapter);
            }
        },
        setChainAccountData(chain, accountProps, _unknown = true) {
            if (!chain) {
                throw new Error('Chain is required to update chain account data');
            }
            const chainAdapter = state$6.chains.get(chain);
            if (chainAdapter) {
                const newAccountState = { ...(chainAdapter.accountState || accountState), ...accountProps };
                state$6.chains.set(chain, { ...chainAdapter, accountState: newAccountState });
                if (state$6.chains.size === 1 || state$6.activeChain === chain) {
                    if (accountProps.caipAddress) {
                        state$6.activeCaipAddress = accountProps.caipAddress;
                    }
                    AccountController.replaceState(newAccountState);
                }
            }
        },
        setChainNetworkData(chain, networkProps) {
            if (!chain) {
                return;
            }
            const chainAdapter = state$6.chains.get(chain);
            if (chainAdapter) {
                const newNetworkState = { ...(chainAdapter.networkState || networkState), ...networkProps };
                state$6.chains.set(chain, { ...chainAdapter, networkState: newNetworkState });
            }
        },
        // eslint-disable-next-line max-params
        setAccountProp(prop, value, chain, replaceState = true) {
            this.setChainAccountData(chain, { [prop]: value }, replaceState);
            if (prop === 'status' && value === 'disconnected' && chain) {
                ConnectorController.removeConnectorId(chain);
            }
        },
        setActiveNamespace(chain) {
            state$6.activeChain = chain;
            const newAdapter = chain ? state$6.chains.get(chain) : undefined;
            const caipNetwork = newAdapter?.networkState?.caipNetwork;
            if (caipNetwork?.id && chain) {
                state$6.activeCaipAddress = newAdapter?.accountState?.caipAddress;
                state$6.activeCaipNetwork = caipNetwork;
                this.setChainNetworkData(chain, { caipNetwork });
                StorageUtil.setActiveCaipNetworkId(caipNetwork?.caipNetworkId);
                PublicStateController.set({
                    activeChain: chain,
                    selectedNetworkId: caipNetwork?.caipNetworkId
                });
            }
        },
        setActiveCaipNetwork(caipNetwork) {
            if (!caipNetwork) {
                return;
            }
            if (state$6.activeChain !== caipNetwork.chainNamespace) {
                this.setIsSwitchingNamespace(true);
            }
            const newAdapter = state$6.chains.get(caipNetwork.chainNamespace);
            state$6.activeChain = caipNetwork.chainNamespace;
            state$6.activeCaipNetwork = caipNetwork;
            this.setChainNetworkData(caipNetwork.chainNamespace, { caipNetwork });
            if (newAdapter?.accountState?.address) {
                state$6.activeCaipAddress = `${caipNetwork.chainNamespace}:${caipNetwork.id}:${newAdapter?.accountState?.address}`;
            }
            else {
                state$6.activeCaipAddress = undefined;
            }
            // Update the chain's account state with the new caip address value
            this.setAccountProp('caipAddress', state$6.activeCaipAddress, caipNetwork.chainNamespace);
            if (newAdapter) {
                AccountController.replaceState(newAdapter.accountState);
            }
            // Reset send state when switching networks
            SendController.resetSend();
            PublicStateController.set({
                activeChain: state$6.activeChain,
                selectedNetworkId: state$6.activeCaipNetwork?.caipNetworkId
            });
            StorageUtil.setActiveCaipNetworkId(caipNetwork.caipNetworkId);
            const isSupported = this.checkIfSupportedNetwork(caipNetwork.chainNamespace);
            if (!isSupported &&
                OptionsController.state.enableNetworkSwitch &&
                !OptionsController.state.allowUnsupportedChain &&
                !ConnectionController.state.wcBasic) {
                this.showUnsupportedChainUI();
            }
        },
        addCaipNetwork(caipNetwork) {
            if (!caipNetwork) {
                return;
            }
            const chain = state$6.chains.get(caipNetwork.chainNamespace);
            if (chain) {
                chain?.caipNetworks?.push(caipNetwork);
            }
        },
        async switchActiveNamespace(namespace) {
            if (!namespace) {
                return;
            }
            const isDifferentChain = namespace !== ChainController.state.activeChain;
            const caipNetworkOfNamespace = ChainController.getNetworkData(namespace)?.caipNetwork;
            const firstNetworkWithChain = ChainController.getCaipNetworkByNamespace(namespace, caipNetworkOfNamespace?.id);
            if (isDifferentChain && firstNetworkWithChain) {
                await ChainController.switchActiveNetwork(firstNetworkWithChain);
            }
        },
        async switchActiveNetwork(network) {
            const activeAdapter = ChainController.state.chains.get(ChainController.state.activeChain);
            const unsupportedNetwork = !activeAdapter?.caipNetworks?.some(caipNetwork => caipNetwork.id === state$6.activeCaipNetwork?.id);
            if (unsupportedNetwork) {
                RouterController.goBack();
            }
            const networkControllerClient = this.getNetworkControllerClient(network.chainNamespace);
            if (networkControllerClient) {
                await networkControllerClient.switchCaipNetwork(network);
                EventsController.sendEvent({
                    type: 'track',
                    event: 'SWITCH_NETWORK',
                    properties: { network: network.caipNetworkId }
                });
            }
        },
        getNetworkControllerClient(chainNamespace) {
            const chain = chainNamespace || state$6.activeChain;
            const chainAdapter = state$6.chains.get(chain);
            if (!chainAdapter) {
                throw new Error('Chain adapter not found');
            }
            if (!chainAdapter.networkControllerClient) {
                throw new Error('NetworkController client not set');
            }
            return chainAdapter.networkControllerClient;
        },
        getConnectionControllerClient(_chain) {
            const chain = _chain || state$6.activeChain;
            if (!chain) {
                throw new Error('Chain is required to get connection controller client');
            }
            const chainAdapter = state$6.chains.get(chain);
            if (!chainAdapter?.connectionControllerClient) {
                throw new Error('ConnectionController client not set');
            }
            return chainAdapter.connectionControllerClient;
        },
        getAccountProp(key, _chain) {
            let chain = state$6.activeChain;
            if (_chain) {
                chain = _chain;
            }
            if (!chain) {
                return undefined;
            }
            const chainAccountState = state$6.chains.get(chain)?.accountState;
            if (!chainAccountState) {
                return undefined;
            }
            return chainAccountState[key];
        },
        getNetworkProp(key, namespace) {
            const chainNetworkState = state$6.chains.get(namespace)?.networkState;
            if (!chainNetworkState) {
                return undefined;
            }
            return chainNetworkState[key];
        },
        getRequestedCaipNetworks(chainToFilter) {
            const adapter = state$6.chains.get(chainToFilter);
            const { approvedCaipNetworkIds = [], requestedCaipNetworks = [] } = adapter?.networkState || {};
            const sortedNetworks = CoreHelperUtil.sortRequestedNetworks(approvedCaipNetworkIds, requestedCaipNetworks);
            return sortedNetworks;
        },
        getAllRequestedCaipNetworks() {
            const requestedCaipNetworks = [];
            state$6.chains.forEach(chainAdapter => {
                const caipNetworks = this.getRequestedCaipNetworks(chainAdapter.namespace);
                requestedCaipNetworks.push(...caipNetworks);
            });
            return requestedCaipNetworks;
        },
        setRequestedCaipNetworks(requestedCaipNetworks, chain) {
            this.setAdapterNetworkState(chain, { requestedCaipNetworks });
        },
        getAllApprovedCaipNetworkIds() {
            const approvedCaipNetworkIds = [];
            state$6.chains.forEach(chainAdapter => {
                const approvedIds = this.getApprovedCaipNetworkIds(chainAdapter.namespace);
                approvedCaipNetworkIds.push(...approvedIds);
            });
            return approvedCaipNetworkIds;
        },
        getActiveCaipNetwork() {
            return state$6.activeCaipNetwork;
        },
        getActiveCaipAddress() {
            return state$6.activeCaipAddress;
        },
        getApprovedCaipNetworkIds(namespace) {
            const adapter = state$6.chains.get(namespace);
            const approvedCaipNetworkIds = adapter?.networkState?.approvedCaipNetworkIds || [];
            return approvedCaipNetworkIds;
        },
        async setApprovedCaipNetworksData(namespace) {
            const networkControllerClient = this.getNetworkControllerClient();
            const data = await networkControllerClient?.getApprovedCaipNetworksData();
            this.setAdapterNetworkState(namespace, {
                approvedCaipNetworkIds: data?.approvedCaipNetworkIds,
                supportsAllNetworks: data?.supportsAllNetworks
            });
        },
        checkIfSupportedNetwork(namespace, caipNetwork) {
            const activeCaipNetwork = caipNetwork || state$6.activeCaipNetwork;
            const requestedCaipNetworks = this.getRequestedCaipNetworks(namespace);
            if (!requestedCaipNetworks.length) {
                return true;
            }
            return requestedCaipNetworks?.some(network => network.id === activeCaipNetwork?.id);
        },
        checkIfSupportedChainId(chainId) {
            if (!state$6.activeChain) {
                return true;
            }
            const requestedCaipNetworks = this.getRequestedCaipNetworks(state$6.activeChain);
            return requestedCaipNetworks?.some(network => network.id === chainId);
        },
        // Smart Account Network Handlers
        setSmartAccountEnabledNetworks(smartAccountEnabledNetworks, chain) {
            this.setAdapterNetworkState(chain, { smartAccountEnabledNetworks });
        },
        checkIfSmartAccountEnabled() {
            const networkId = NetworkUtil.caipNetworkIdToNumber(state$6.activeCaipNetwork?.caipNetworkId);
            const activeChain = state$6.activeChain;
            if (!activeChain || !networkId) {
                return false;
            }
            const smartAccountEnabledNetworks = this.getNetworkProp('smartAccountEnabledNetworks', activeChain);
            return Boolean(smartAccountEnabledNetworks?.includes(Number(networkId)));
        },
        getActiveNetworkTokenAddress() {
            const namespace = state$6.activeCaipNetwork?.chainNamespace || 'eip155';
            const chainId = state$6.activeCaipNetwork?.id || 1;
            const address = ConstantsUtil$2.NATIVE_TOKEN_ADDRESS[namespace];
            return `${namespace}:${chainId}:${address}`;
        },
        showUnsupportedChainUI() {
            ModalController.open({ view: 'UnsupportedChain' });
        },
        checkIfNamesSupported() {
            const activeCaipNetwork = state$6.activeCaipNetwork;
            return Boolean(activeCaipNetwork?.chainNamespace &&
                ConstantsUtil$2.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(activeCaipNetwork.chainNamespace));
        },
        resetNetwork(namespace) {
            this.setAdapterNetworkState(namespace, {
                approvedCaipNetworkIds: undefined,
                supportsAllNetworks: true,
                smartAccountEnabledNetworks: []
            });
        },
        resetAccount(chain) {
            const chainToWrite = chain;
            if (!chainToWrite) {
                throw new Error('Chain is required to set account prop');
            }
            state$6.activeCaipAddress = undefined;
            this.setChainAccountData(chainToWrite, {
                smartAccountDeployed: false,
                currentTab: 0,
                caipAddress: undefined,
                address: undefined,
                balance: undefined,
                balanceSymbol: undefined,
                profileName: undefined,
                profileImage: undefined,
                addressExplorerUrl: undefined,
                tokenBalance: [],
                connectedWalletInfo: undefined,
                preferredAccountTypes: undefined,
                socialProvider: undefined,
                socialWindow: undefined,
                farcasterUrl: undefined,
                allAccounts: [],
                user: undefined,
                status: 'disconnected'
            });
            ConnectorController.removeConnectorId(chainToWrite);
        },
        async disconnect(namespace) {
            const chainsToDisconnect = getChainsToDisconnect(namespace);
            try {
                // Reset send state when disconnecting
                SendController.resetSend();
                const disconnectResults = await Promise.allSettled(chainsToDisconnect.map(async ([ns, adapter]) => {
                    try {
                        const { caipAddress } = this.getAccountData(ns) || {};
                        if (caipAddress && adapter.connectionControllerClient?.disconnect) {
                            await adapter.connectionControllerClient.disconnect(ns);
                        }
                        this.resetAccount(ns);
                        this.resetNetwork(ns);
                    }
                    catch (error) {
                        throw new Error(`Failed to disconnect chain ${ns}: ${error.message}`);
                    }
                }));
                ConnectionController.resetWcConnection();
                const failures = disconnectResults.filter((result) => result.status === 'rejected');
                if (failures.length > 0) {
                    throw new Error(failures.map(f => f.reason.message).join(', '));
                }
                StorageUtil.deleteConnectedSocialProvider();
                if (namespace) {
                    ConnectorController.removeConnectorId(namespace);
                }
                else {
                    ConnectorController.resetConnectorIds();
                }
                EventsController.sendEvent({
                    type: 'track',
                    event: 'DISCONNECT_SUCCESS',
                    properties: {
                        namespace: namespace || 'all'
                    }
                });
            }
            catch (error) {
                // eslint-disable-next-line no-console
                console.error(error.message || 'Failed to disconnect chains');
                EventsController.sendEvent({
                    type: 'track',
                    event: 'DISCONNECT_ERROR',
                    properties: {
                        message: error.message || 'Failed to disconnect chains'
                    }
                });
            }
        },
        setIsSwitchingNamespace(isSwitchingNamespace) {
            state$6.isSwitchingNamespace = isSwitchingNamespace;
        },
        getFirstCaipNetworkSupportsAuthConnector() {
            const availableChains = [];
            let firstCaipNetwork = undefined;
            state$6.chains.forEach(chain => {
                if (ConstantsUtil$3.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(ns => ns === chain.namespace)) {
                    if (chain.namespace) {
                        availableChains.push(chain.namespace);
                    }
                }
            });
            if (availableChains.length > 0) {
                const firstAvailableChain = availableChains[0];
                firstCaipNetwork = firstAvailableChain
                    ? state$6.chains.get(firstAvailableChain)?.caipNetworks?.[0]
                    : undefined;
                return firstCaipNetwork;
            }
            return undefined;
        },
        getAccountData(chainNamespace) {
            if (!chainNamespace) {
                return AccountController.state;
            }
            return ChainController.state.chains.get(chainNamespace)?.accountState;
        },
        getNetworkData(chainNamespace) {
            const namespace = chainNamespace || state$6.activeChain;
            if (!namespace) {
                return undefined;
            }
            return ChainController.state.chains.get(namespace)?.networkState;
        },
        getCaipNetworkByNamespace(chainNamespace, chainId) {
            if (!chainNamespace) {
                return undefined;
            }
            const chain = ChainController.state.chains.get(chainNamespace);
            const byChainId = chain?.caipNetworks?.find(network => network.id === chainId);
            if (byChainId) {
                return byChainId;
            }
            return chain?.networkState?.caipNetwork || chain?.caipNetworks?.[0];
        },
        /**
         * Get the requested CaipNetwork IDs for a given namespace. If namespace is not provided, all requested CaipNetwork IDs will be returned
         * @param namespace - The namespace to get the requested CaipNetwork IDs for
         * @returns The requested CaipNetwork IDs
         */
        getRequestedCaipNetworkIds() {
            const namespace = ConnectorController.state.filterByNamespace;
            const chains = namespace ? [state$6.chains.get(namespace)] : Array.from(state$6.chains.values());
            return chains
                .flatMap(chain => chain?.caipNetworks || [])
                .map(caipNetwork => caipNetwork.caipNetworkId);
        },
        getCaipNetworks(namespace) {
            if (namespace) {
                return ChainController.getRequestedCaipNetworks(namespace);
            }
            return ChainController.getAllRequestedCaipNetworks();
        }
    };

    const DEFAULT_OPTIONS = {
        purchaseCurrencies: [
            {
                id: '2b92315d-eab7-5bef-84fa-089a131333f5',
                name: 'USD Coin',
                symbol: 'USDC',
                networks: [
                    {
                        name: 'ethereum-mainnet',
                        display_name: 'Ethereum',
                        chain_id: '1',
                        contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'
                    },
                    {
                        name: 'polygon-mainnet',
                        display_name: 'Polygon',
                        chain_id: '137',
                        contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'
                    }
                ]
            },
            {
                id: '2b92315d-eab7-5bef-84fa-089a131333f5',
                name: 'Ether',
                symbol: 'ETH',
                networks: [
                    {
                        name: 'ethereum-mainnet',
                        display_name: 'Ethereum',
                        chain_id: '1',
                        contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'
                    },
                    {
                        name: 'polygon-mainnet',
                        display_name: 'Polygon',
                        chain_id: '137',
                        contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'
                    }
                ]
            }
        ],
        paymentCurrencies: [
            {
                id: 'USD',
                payment_method_limits: [
                    {
                        id: 'card',
                        min: '10.00',
                        max: '7500.00'
                    },
                    {
                        id: 'ach_bank_account',
                        min: '10.00',
                        max: '25000.00'
                    }
                ]
            },
            {
                id: 'EUR',
                payment_method_limits: [
                    {
                        id: 'card',
                        min: '10.00',
                        max: '7500.00'
                    },
                    {
                        id: 'ach_bank_account',
                        min: '10.00',
                        max: '25000.00'
                    }
                ]
            }
        ]
    };
    // -- Helpers ------------------------------------------- //
    const baseUrl = CoreHelperUtil.getBlockchainApiUrl();
    // -- State --------------------------------------------- //
    const state$5 = proxy({
        clientId: null,
        api: new FetchUtil({ baseUrl, clientId: null }),
        supportedChains: { http: [], ws: [] }
    });
    // -- Controller ---------------------------------------- //
    const BlockchainApiController = {
        state: state$5,
        async get(request) {
            const { st, sv } = BlockchainApiController.getSdkProperties();
            const projectId = OptionsController.state.projectId;
            const params = {
                ...(request.params || {}),
                st,
                sv,
                projectId
            };
            return state$5.api.get({
                ...request,
                params
            });
        },
        getSdkProperties() {
            const { sdkType, sdkVersion } = OptionsController.state;
            return {
                st: sdkType || 'unknown',
                sv: sdkVersion || 'unknown'
            };
        },
        async isNetworkSupported(networkId) {
            if (!networkId) {
                return false;
            }
            try {
                if (!state$5.supportedChains.http.length) {
                    await BlockchainApiController.getSupportedNetworks();
                }
            }
            catch (e) {
                return false;
            }
            return state$5.supportedChains.http.includes(networkId);
        },
        async getSupportedNetworks() {
            const supportedChains = await BlockchainApiController.get({
                path: 'v1/supported-chains'
            });
            state$5.supportedChains = supportedChains;
            return supportedChains;
        },
        async fetchIdentity({ address, caipNetworkId }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(caipNetworkId);
            if (!isSupported) {
                return { avatar: '', name: '' };
            }
            const identityCache = StorageUtil.getIdentityFromCacheForAddress(address);
            if (identityCache) {
                return identityCache;
            }
            const result = await BlockchainApiController.get({
                path: `/v1/identity/${address}`,
                params: {
                    sender: ChainController.state.activeCaipAddress
                        ? CoreHelperUtil.getPlainAddress(ChainController.state.activeCaipAddress)
                        : undefined
                }
            });
            StorageUtil.updateIdentityCache({
                address,
                identity: result,
                timestamp: Date.now()
            });
            return result;
        },
        async fetchTransactions({ account, cursor, onramp, signal, cache, chainId }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { data: [], next: undefined };
            }
            return BlockchainApiController.get({
                path: `/v1/account/${account}/history`,
                params: {
                    cursor,
                    onramp,
                    chainId
                },
                signal,
                cache
            });
        },
        async fetchSwapQuote({ amount, userAddress, from, to, gasPrice }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { quotes: [] };
            }
            return BlockchainApiController.get({
                path: `/v1/convert/quotes`,
                headers: {
                    'Content-Type': 'application/json'
                },
                params: {
                    amount,
                    userAddress,
                    from,
                    to,
                    gasPrice
                }
            });
        },
        async fetchSwapTokens({ chainId }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { tokens: [] };
            }
            return BlockchainApiController.get({
                path: `/v1/convert/tokens`,
                params: { chainId }
            });
        },
        async fetchTokenPrice({ addresses }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { fungibles: [] };
            }
            return state$5.api.post({
                path: '/v1/fungible/price',
                body: {
                    currency: 'usd',
                    addresses,
                    projectId: OptionsController.state.projectId
                },
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        },
        async fetchSwapAllowance({ tokenAddress, userAddress }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { allowance: '0' };
            }
            return BlockchainApiController.get({
                path: `/v1/convert/allowance`,
                params: {
                    tokenAddress,
                    userAddress
                },
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        },
        async fetchGasPrice({ chainId }) {
            const { st, sv } = BlockchainApiController.getSdkProperties();
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                throw new Error('Network not supported for Gas Price');
            }
            return BlockchainApiController.get({
                path: `/v1/convert/gas-price`,
                headers: {
                    'Content-Type': 'application/json'
                },
                params: {
                    chainId,
                    st,
                    sv
                }
            });
        },
        async generateSwapCalldata({ amount, from, to, userAddress, disableEstimate }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                throw new Error('Network not supported for Swaps');
            }
            return state$5.api.post({
                path: '/v1/convert/build-transaction',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: {
                    amount,
                    eip155: {
                        slippage: ConstantsUtil$2.CONVERT_SLIPPAGE_TOLERANCE
                    },
                    projectId: OptionsController.state.projectId,
                    from,
                    to,
                    userAddress,
                    disableEstimate
                }
            });
        },
        async generateApproveCalldata({ from, to, userAddress }) {
            const { st, sv } = BlockchainApiController.getSdkProperties();
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                throw new Error('Network not supported for Swaps');
            }
            return BlockchainApiController.get({
                path: `/v1/convert/build-approve`,
                headers: {
                    'Content-Type': 'application/json'
                },
                params: {
                    userAddress,
                    from,
                    to,
                    st,
                    sv
                }
            });
        },
        async getBalance(address, chainId, forceUpdate) {
            const { st, sv } = BlockchainApiController.getSdkProperties();
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                SnackController.showError('Token Balance Unavailable');
                return { balances: [] };
            }
            const caipAddress = `${chainId}:${address}`;
            const cachedBalance = StorageUtil.getBalanceCacheForCaipAddress(caipAddress);
            if (cachedBalance) {
                return cachedBalance;
            }
            const balance = await BlockchainApiController.get({
                path: `/v1/account/${address}/balance`,
                params: {
                    currency: 'usd',
                    chainId,
                    forceUpdate,
                    st,
                    sv
                }
            });
            StorageUtil.updateBalanceCache({
                caipAddress,
                balance,
                timestamp: Date.now()
            });
            return balance;
        },
        async lookupEnsName(name) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { addresses: {}, attributes: [] };
            }
            return BlockchainApiController.get({
                path: `/v1/profile/account/${name}`,
                params: { apiVersion: '2' }
            });
        },
        async reverseLookupEnsName({ address }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return [];
            }
            return BlockchainApiController.get({
                path: `/v1/profile/reverse/${address}`,
                params: {
                    sender: AccountController.state.address,
                    apiVersion: '2'
                }
            });
        },
        async getEnsNameSuggestions(name) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { suggestions: [] };
            }
            return BlockchainApiController.get({
                path: `/v1/profile/suggestions/${name}`,
                params: { zone: 'reown.id' }
            });
        },
        async registerEnsName({ coinType, address, message, signature }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { success: false };
            }
            return state$5.api.post({
                path: `/v1/profile/account`,
                body: { coin_type: coinType, address, message, signature },
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        },
        async generateOnRampURL({ destinationWallets, partnerUserId, defaultNetwork, purchaseAmount, paymentAmount }) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return '';
            }
            const response = await state$5.api.post({
                path: `/v1/generators/onrampurl`,
                params: {
                    projectId: OptionsController.state.projectId
                },
                body: {
                    destinationWallets,
                    defaultNetwork,
                    partnerUserId,
                    defaultExperience: 'buy',
                    presetCryptoAmount: purchaseAmount,
                    presetFiatAmount: paymentAmount
                }
            });
            return response.url;
        },
        async getOnrampOptions() {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { paymentCurrencies: [], purchaseCurrencies: [] };
            }
            try {
                const response = await BlockchainApiController.get({
                    path: `/v1/onramp/options`
                });
                return response;
            }
            catch (e) {
                return DEFAULT_OPTIONS;
            }
        },
        async getOnrampQuote({ purchaseCurrency, paymentCurrency, amount, network }) {
            try {
                const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
                if (!isSupported) {
                    return null;
                }
                const response = await state$5.api.post({
                    path: `/v1/onramp/quote`,
                    params: {
                        projectId: OptionsController.state.projectId
                    },
                    body: {
                        purchaseCurrency,
                        paymentCurrency,
                        amount,
                        network
                    }
                });
                return response;
            }
            catch (e) {
                // Mocking response as 1:1 until endpoint is ready
                return {
                    coinbaseFee: { amount, currency: paymentCurrency.id },
                    networkFee: { amount, currency: paymentCurrency.id },
                    paymentSubtotal: { amount, currency: paymentCurrency.id },
                    paymentTotal: { amount, currency: paymentCurrency.id },
                    purchaseAmount: { amount, currency: paymentCurrency.id },
                    quoteId: 'mocked-quote-id'
                };
            }
        },
        async getSmartSessions(caipAddress) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return [];
            }
            return BlockchainApiController.get({
                path: `/v1/sessions/${caipAddress}`
            });
        },
        async revokeSmartSession(address, pci, signature) {
            const isSupported = await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId);
            if (!isSupported) {
                return { success: false };
            }
            return state$5.api.post({
                path: `/v1/sessions/${address}/revoke`,
                params: {
                    projectId: OptionsController.state.projectId
                },
                body: {
                    pci,
                    signature
                }
            });
        },
        setClientId(clientId) {
            state$5.clientId = clientId;
            state$5.api = new FetchUtil({ baseUrl, clientId });
        }
    };

    // -- State --------------------------------------------- //
    const state$4 = proxy({
        currentTab: 0,
        tokenBalance: [],
        smartAccountDeployed: false,
        addressLabels: new Map(),
        allAccounts: []
    });
    // -- Controller ---------------------------------------- //
    const AccountController = {
        state: state$4,
        replaceState(newState) {
            if (!newState) {
                return;
            }
            Object.assign(state$4, ref(newState));
        },
        subscribe(callback) {
            return ChainController.subscribeChainProp('accountState', accountState => {
                if (accountState) {
                    return callback(accountState);
                }
                return undefined;
            });
        },
        subscribeKey(property, callback, chain) {
            let prev = undefined;
            return ChainController.subscribeChainProp('accountState', accountState => {
                if (accountState) {
                    const nextValue = accountState[property];
                    if (prev !== nextValue) {
                        prev = nextValue;
                        callback(nextValue);
                    }
                }
            }, chain);
        },
        setStatus(status, chain) {
            ChainController.setAccountProp('status', status, chain);
        },
        getCaipAddress(chain) {
            return ChainController.getAccountProp('caipAddress', chain);
        },
        setCaipAddress(caipAddress, chain) {
            const newAddress = caipAddress ? CoreHelperUtil.getPlainAddress(caipAddress) : undefined;
            if (chain === ChainController.state.activeChain) {
                ChainController.state.activeCaipAddress = caipAddress;
            }
            ChainController.setAccountProp('caipAddress', caipAddress, chain);
            ChainController.setAccountProp('address', newAddress, chain);
        },
        setBalance(balance, balanceSymbol, chain) {
            ChainController.setAccountProp('balance', balance, chain);
            ChainController.setAccountProp('balanceSymbol', balanceSymbol, chain);
        },
        setProfileName(profileName, chain) {
            ChainController.setAccountProp('profileName', profileName, chain);
        },
        setProfileImage(profileImage, chain) {
            ChainController.setAccountProp('profileImage', profileImage, chain);
        },
        setUser(user, chain) {
            ChainController.setAccountProp('user', user, chain);
        },
        setAddressExplorerUrl(explorerUrl, chain) {
            ChainController.setAccountProp('addressExplorerUrl', explorerUrl, chain);
        },
        setSmartAccountDeployed(isDeployed, chain) {
            ChainController.setAccountProp('smartAccountDeployed', isDeployed, chain);
        },
        setCurrentTab(currentTab) {
            ChainController.setAccountProp('currentTab', currentTab, ChainController.state.activeChain);
        },
        setTokenBalance(tokenBalance, chain) {
            if (tokenBalance) {
                ChainController.setAccountProp('tokenBalance', tokenBalance, chain);
            }
        },
        setShouldUpdateToAddress(address, chain) {
            ChainController.setAccountProp('shouldUpdateToAddress', address, chain);
        },
        setAllAccounts(accounts, namespace) {
            ChainController.setAccountProp('allAccounts', accounts, namespace);
        },
        addAddressLabel(address, label, chain) {
            const map = ChainController.getAccountProp('addressLabels', chain) || new Map();
            map.set(address, label);
            ChainController.setAccountProp('addressLabels', map, chain);
        },
        removeAddressLabel(address, chain) {
            const map = ChainController.getAccountProp('addressLabels', chain) || new Map();
            map.delete(address);
            ChainController.setAccountProp('addressLabels', map, chain);
        },
        setConnectedWalletInfo(connectedWalletInfo, chain) {
            ChainController.setAccountProp('connectedWalletInfo', connectedWalletInfo, chain, false);
        },
        setPreferredAccountType(preferredAccountType, chain) {
            ChainController.setAccountProp('preferredAccountTypes', {
                ...state$4.preferredAccountTypes,
                [chain]: preferredAccountType
            }, chain);
        },
        setPreferredAccountTypes(preferredAccountTypes) {
            state$4.preferredAccountTypes = preferredAccountTypes;
        },
        setSocialProvider(socialProvider, chain) {
            if (socialProvider) {
                ChainController.setAccountProp('socialProvider', socialProvider, chain);
            }
        },
        setSocialWindow(socialWindow, chain) {
            ChainController.setAccountProp('socialWindow', socialWindow ? ref(socialWindow) : undefined, chain);
        },
        setFarcasterUrl(farcasterUrl, chain) {
            ChainController.setAccountProp('farcasterUrl', farcasterUrl, chain);
        },
        async fetchTokenBalance(onError) {
            state$4.balanceLoading = true;
            const chainId = ChainController.state.activeCaipNetwork?.caipNetworkId;
            const chain = ChainController.state.activeCaipNetwork?.chainNamespace;
            const caipAddress = ChainController.state.activeCaipAddress;
            const address = caipAddress ? CoreHelperUtil.getPlainAddress(caipAddress) : undefined;
            if (state$4.lastRetry &&
                !CoreHelperUtil.isAllowedRetry(state$4.lastRetry, 30 * ConstantsUtil$2.ONE_SEC_MS)) {
                state$4.balanceLoading = false;
                return [];
            }
            try {
                if (address && chainId && chain) {
                    const response = await BlockchainApiController.getBalance(address, chainId);
                    /*
                     * The 1Inch API includes many low-quality tokens in the balance response,
                     * which appear inconsistently. This filter prevents them from being displayed.
                     */
                    const filteredBalances = response.balances.filter(balance => balance.quantity.decimals !== '0');
                    this.setTokenBalance(filteredBalances, chain);
                    state$4.lastRetry = undefined;
                    state$4.balanceLoading = false;
                    return filteredBalances;
                }
            }
            catch (error) {
                state$4.lastRetry = Date.now();
                onError?.(error);
                SnackController.showError('Token Balance Unavailable');
            }
            finally {
                state$4.balanceLoading = false;
            }
            return [];
        },
        resetAccount(chain) {
            ChainController.resetAccount(chain);
        }
    };

    // -- State --------------------------------------------- //
    const state$3 = proxy({
        loading: false,
        loadingNamespaceMap: new Map(),
        open: false,
        shake: false,
        namespace: undefined
    });
    // -- Controller ---------------------------------------- //
    const ModalController = {
        state: state$3,
        subscribe(callback) {
            return subscribe(state$3, () => callback(state$3));
        },
        subscribeKey(key, callback) {
            return subscribeKey(state$3, key, callback);
        },
        async open(options) {
            const isConnected = AccountController.state.status === 'connected';
            if (ConnectionController.state.wcBasic) {
                // No need to add an await here if we are use basic
                ApiController.prefetch({ fetchNetworkImages: false, fetchConnectorImages: false });
            }
            else {
                await ApiController.prefetch({
                    fetchConnectorImages: !isConnected,
                    fetchFeaturedWallets: !isConnected,
                    fetchRecommendedWallets: !isConnected
                });
            }
            if (options?.namespace) {
                await ChainController.switchActiveNamespace(options.namespace);
                ModalController.setLoading(true, options.namespace);
            }
            else {
                ModalController.setLoading(true);
            }
            ConnectorController.setFilterByNamespace(options?.namespace);
            const caipAddress = ChainController.getAccountData(options?.namespace)?.caipAddress;
            const hasNoAdapters = ChainController.state.noAdapters;
            if (hasNoAdapters && !caipAddress) {
                if (CoreHelperUtil.isMobile()) {
                    RouterController.reset('AllWallets');
                }
                else {
                    RouterController.reset('ConnectingWalletConnectBasic');
                }
            }
            else if (options?.view) {
                RouterController.reset(options.view, options.data);
            }
            else if (caipAddress) {
                RouterController.reset('Account');
            }
            else {
                RouterController.reset('Connect');
            }
            state$3.open = true;
            PublicStateController.set({ open: true });
            EventsController.sendEvent({
                type: 'track',
                event: 'MODAL_OPEN',
                properties: { connected: Boolean(caipAddress) }
            });
        },
        close() {
            const isEmbeddedEnabled = OptionsController.state.enableEmbedded;
            const isConnected = Boolean(ChainController.state.activeCaipAddress);
            // Only send the event if the modal is open and is about to be closed
            if (state$3.open) {
                EventsController.sendEvent({
                    type: 'track',
                    event: 'MODAL_CLOSE',
                    properties: { connected: isConnected }
                });
            }
            state$3.open = false;
            ModalController.clearLoading();
            if (isEmbeddedEnabled) {
                if (isConnected) {
                    RouterController.replace('Account');
                }
                else {
                    RouterController.push('Connect');
                }
            }
            else {
                PublicStateController.set({ open: false });
            }
            ConnectionController.resetUri();
        },
        setLoading(loading, namespace) {
            if (namespace) {
                state$3.loadingNamespaceMap.set(namespace, loading);
            }
            state$3.loading = loading;
            PublicStateController.set({ loading });
        },
        clearLoading() {
            state$3.loadingNamespaceMap.clear();
            state$3.loading = false;
        },
        shake() {
            if (state$3.shake) {
                return;
            }
            state$3.shake = true;
            setTimeout(() => {
                state$3.shake = false;
            }, 500);
        }
    };

    const USDC_CURRENCY_DEFAULT = {
        id: '2b92315d-eab7-5bef-84fa-089a131333f5',
        name: 'USD Coin',
        symbol: 'USDC',
        networks: [
            {
                name: 'ethereum-mainnet',
                display_name: 'Ethereum',
                chain_id: '1',
                contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'
            },
            {
                name: 'polygon-mainnet',
                display_name: 'Polygon',
                chain_id: '137',
                contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'
            }
        ]
    };
    const USD_CURRENCY_DEFAULT = {
        id: 'USD',
        payment_method_limits: [
            {
                id: 'card',
                min: '10.00',
                max: '7500.00'
            },
            {
                id: 'ach_bank_account',
                min: '10.00',
                max: '25000.00'
            }
        ]
    };
    const defaultState = {
        providers: ONRAMP_PROVIDERS,
        selectedProvider: null,
        error: null,
        purchaseCurrency: USDC_CURRENCY_DEFAULT,
        paymentCurrency: USD_CURRENCY_DEFAULT,
        purchaseCurrencies: [USDC_CURRENCY_DEFAULT],
        paymentCurrencies: [],
        quotesLoading: false
    };
    // -- State --------------------------------------------- //
    proxy(defaultState);

    // -- State --------------------------------------------- //
    const initialState = {
        // Loading states
        initializing: false,
        initialized: false,
        loadingPrices: false,
        loadingQuote: false,
        loadingApprovalTransaction: false,
        loadingBuildTransaction: false,
        loadingTransaction: false,
        // Error states
        fetchError: false,
        // Approval & Swap transaction states
        approvalTransaction: undefined,
        swapTransaction: undefined,
        transactionError: undefined,
        // Input values
        sourceToken: undefined,
        sourceTokenAmount: '',
        sourceTokenPriceInUSD: 0,
        toToken: undefined,
        toTokenAmount: '',
        toTokenPriceInUSD: 0,
        networkPrice: '0',
        networkBalanceInUSD: '0',
        networkTokenSymbol: '',
        inputError: undefined,
        // Request values
        slippage: ConstantsUtil$2.CONVERT_SLIPPAGE_TOLERANCE,
        // Tokens
        tokens: undefined,
        popularTokens: undefined,
        suggestedTokens: undefined,
        foundTokens: undefined,
        myTokensWithBalance: undefined,
        tokensPriceMap: {},
        // Calculations
        gasFee: '0',
        gasPriceInUSD: 0,
        priceImpact: undefined,
        maxSlippage: undefined,
        providerFee: undefined
    };
    proxy(initialState);

    // -- State --------------------------------------------- //
    const state$2 = proxy({
        message: '',
        open: false,
        triggerRect: {
            width: 0,
            height: 0,
            top: 0,
            left: 0
        },
        variant: 'shade'
    });
    // -- Controller ---------------------------------------- //
    const TooltipController = {
        state: state$2,
        subscribe(callback) {
            return subscribe(state$2, () => callback(state$2));
        },
        subscribeKey(key, callback) {
            return subscribeKey(state$2, key, callback);
        },
        showTooltip({ message, triggerRect, variant }) {
            state$2.open = true;
            state$2.message = message;
            state$2.triggerRect = triggerRect;
            state$2.variant = variant;
        },
        hide() {
            state$2.open = false;
            state$2.message = '';
            state$2.triggerRect = {
                width: 0,
                height: 0,
                top: 0,
                left: 0
            };
        }
    };

    const SLIP44_MSB = 0x80000000;
    const EnsUtil = {
        convertEVMChainIdToCoinType(chainId) {
            if (chainId >= SLIP44_MSB) {
                throw new Error('Invalid chainId');
            }
            return (SLIP44_MSB | chainId) >>> 0;
        }
    };

    // -- State --------------------------------------------- //
    const state$1 = proxy({
        suggestions: [],
        loading: false
    });
    // -- Controller ---------------------------------------- //
    const EnsController = {
        state: state$1,
        subscribe(callback) {
            return subscribe(state$1, () => callback(state$1));
        },
        subscribeKey(key, callback) {
            return subscribeKey(state$1, key, callback);
        },
        async resolveName(name) {
            try {
                return await BlockchainApiController.lookupEnsName(name);
            }
            catch (e) {
                const error = e;
                throw new Error(error?.reasons?.[0]?.description || 'Error resolving name');
            }
        },
        async isNameRegistered(name) {
            try {
                await BlockchainApiController.lookupEnsName(name);
                return true;
            }
            catch {
                return false;
            }
        },
        async getSuggestions(value) {
            try {
                state$1.loading = true;
                state$1.suggestions = [];
                const response = await BlockchainApiController.getEnsNameSuggestions(value);
                state$1.suggestions =
                    response.suggestions.map(suggestion => ({
                        ...suggestion,
                        name: suggestion.name
                    })) || [];
                return state$1.suggestions;
            }
            catch (e) {
                const errorMessage = this.parseEnsApiError(e, 'Error fetching name suggestions');
                throw new Error(errorMessage);
            }
            finally {
                state$1.loading = false;
            }
        },
        async getNamesForAddress(address) {
            try {
                const network = ChainController.state.activeCaipNetwork;
                if (!network) {
                    return [];
                }
                const cachedEns = StorageUtil.getEnsFromCacheForAddress(address);
                if (cachedEns) {
                    return cachedEns;
                }
                const response = await BlockchainApiController.reverseLookupEnsName({ address });
                StorageUtil.updateEnsCache({
                    address,
                    ens: response,
                    timestamp: Date.now()
                });
                return response;
            }
            catch (e) {
                const errorMessage = this.parseEnsApiError(e, 'Error fetching names for address');
                throw new Error(errorMessage);
            }
        },
        async registerName(name) {
            const network = ChainController.state.activeCaipNetwork;
            if (!network) {
                throw new Error('Network not found');
            }
            const address = AccountController.state.address;
            const emailConnector = ConnectorController.getAuthConnector();
            if (!address || !emailConnector) {
                throw new Error('Address or auth connector not found');
            }
            state$1.loading = true;
            try {
                const message = JSON.stringify({
                    name,
                    attributes: {},
                    // Unix timestamp
                    timestamp: Math.floor(Date.now() / 1000)
                });
                RouterController.pushTransactionStack({
                    view: 'RegisterAccountNameSuccess',
                    goBack: false,
                    replace: true,
                    onCancel() {
                        state$1.loading = false;
                    }
                });
                const signature = await ConnectionController.signMessage(message);
                const networkId = network.id;
                if (!networkId) {
                    throw new Error('Network not found');
                }
                const coinType = EnsUtil.convertEVMChainIdToCoinType(Number(networkId));
                await BlockchainApiController.registerEnsName({
                    coinType,
                    address: address,
                    signature: signature,
                    message
                });
                AccountController.setProfileName(name, network.chainNamespace);
                RouterController.replace('RegisterAccountNameSuccess');
            }
            catch (e) {
                const errorMessage = this.parseEnsApiError(e, `Error registering name ${name}`);
                RouterController.replace('RegisterAccountName');
                throw new Error(errorMessage);
            }
            finally {
                state$1.loading = false;
            }
        },
        validateName(name) {
            return /^[a-zA-Z0-9-]{4,}$/u.test(name);
        },
        parseEnsApiError(error, defaultError) {
            const ensError = error;
            return ensError?.reasons?.[0]?.description || defaultError;
        }
    };

    // -- State --------------------------------------------- //
    proxy({
        isLegalCheckboxChecked: false
    });

    var a$2=Object.defineProperty,u$3=(e,s,r)=>s in e?a$2(e,s,{enumerable:true,configurable:true,writable:true,value:r}):e[s]=r,c$6=(e,s,r)=>u$3(e,typeof s!="symbol"?s+"":s,r);let h$6 = class h extends IEvents{constructor(s){super(),this.opts=s,c$6(this,"protocol","wc"),c$6(this,"version",2);}};var p$4=Object.defineProperty,b$4=(e,s,r)=>s in e?p$4(e,s,{enumerable:true,configurable:true,writable:true,value:r}):e[s]=r,v$3=(e,s,r)=>b$4(e,s+"",r);let I$2 = class I extends IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v$3(this,"records",new Map);}};let y$4 = class y{constructor(s,r){this.logger=s,this.core=r;}};let m$2 = class m extends IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r;}};let d$3 = class d extends IEvents{constructor(s){super();}};let f$5 = class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t;}};let P$3 = class P extends IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r;}};let S$4 = class S extends IEvents{constructor(s,r){super(),this.core=s,this.logger=r;}};let M$2 = class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t;}};let O$1 = class O{constructor(s,r){this.projectId=s,this.logger=r;}};let R$2 = class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t;}};var T$1=Object.defineProperty,k$3=(e,s,r)=>s in e?T$1(e,s,{enumerable:true,configurable:true,writable:true,value:r}):e[s]=r,i$7=(e,s,r)=>k$3(e,typeof s!="symbol"?s+"":s,r);let J$2 = class J{constructor(s){this.opts=s,i$7(this,"protocol","wc"),i$7(this,"version",2);}};let V$4 = class V{constructor(s){this.client=s;}};

    function isHex(value, { strict = true } = {}) {
        if (!value)
            return false;
        if (typeof value !== 'string')
            return false;
        return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');
    }

    /**
     * @description Retrieves the size of the value (in bytes).
     *
     * @param value The value (hex or byte array) to retrieve the size of.
     * @returns The size of the value (in bytes).
     */
    function size$2(value) {
        if (isHex(value, { strict: false }))
            return Math.ceil((value.length - 2) / 2);
        return value.length;
    }

    const version$2 = '2.23.2';

    let errorConfig = {
        getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath
            ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`
            : undefined,
        version: `viem@${version$2}`,
    };
    let BaseError$1 = class BaseError extends Error {
        constructor(shortMessage, args = {}) {
            const details = (() => {
                if (args.cause instanceof BaseError)
                    return args.cause.details;
                if (args.cause?.message)
                    return args.cause.message;
                return args.details;
            })();
            const docsPath = (() => {
                if (args.cause instanceof BaseError)
                    return args.cause.docsPath || args.docsPath;
                return args.docsPath;
            })();
            const docsUrl = errorConfig.getDocsUrl?.({ ...args, docsPath });
            const message = [
                shortMessage || 'An error occurred.',
                '',
                ...(args.metaMessages ? [...args.metaMessages, ''] : []),
                ...(docsUrl ? [`Docs: ${docsUrl}`] : []),
                ...(details ? [`Details: ${details}`] : []),
                ...(errorConfig.version ? [`Version: ${errorConfig.version}`] : []),
            ].join('\n');
            super(message, args.cause ? { cause: args.cause } : undefined);
            Object.defineProperty(this, "details", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docsPath", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "metaMessages", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "shortMessage", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "version", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'BaseError'
            });
            this.details = details;
            this.docsPath = docsPath;
            this.metaMessages = args.metaMessages;
            this.name = args.name ?? this.name;
            this.shortMessage = shortMessage;
            this.version = version$2;
        }
        walk(fn) {
            return walk$1(this, fn);
        }
    };
    function walk$1(err, fn) {
        if (fn?.(err))
            return err;
        if (err &&
            typeof err === 'object' &&
            'cause' in err &&
            err.cause !== undefined)
            return walk$1(err.cause, fn);
        return fn ? null : err;
    }

    let SizeExceedsPaddingSizeError$2 = class SizeExceedsPaddingSizeError extends BaseError$1 {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });
        }
    };

    function pad$2(hexOrBytes, { dir, size = 32 } = {}) {
        if (typeof hexOrBytes === 'string')
            return padHex(hexOrBytes, { dir, size });
        return padBytes(hexOrBytes, { dir, size });
    }
    function padHex(hex_, { dir, size = 32 } = {}) {
        if (size === null)
            return hex_;
        const hex = hex_.replace('0x', '');
        if (hex.length > size * 2)
            throw new SizeExceedsPaddingSizeError$2({
                size: Math.ceil(hex.length / 2),
                targetSize: size,
                type: 'hex',
            });
        return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;
    }
    function padBytes(bytes, { dir, size = 32 } = {}) {
        if (size === null)
            return bytes;
        if (bytes.length > size)
            throw new SizeExceedsPaddingSizeError$2({
                size: bytes.length,
                targetSize: size,
                type: 'bytes',
            });
        const paddedBytes = new Uint8Array(size);
        for (let i = 0; i < size; i++) {
            const padEnd = dir === 'right';
            paddedBytes[padEnd ? i : size - i - 1] =
                bytes[padEnd ? i : bytes.length - i - 1];
        }
        return paddedBytes;
    }

    let IntegerOutOfRangeError$1 = class IntegerOutOfRangeError extends BaseError$1 {
        constructor({ max, min, signed, size, value, }) {
            super(`Number "${value}" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });
        }
    };
    let SizeOverflowError$2 = class SizeOverflowError extends BaseError$1 {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });
        }
    };

    function assertSize$2(hexOrBytes, { size }) {
        if (size$2(hexOrBytes) > size)
            throw new SizeOverflowError$2({
                givenSize: size$2(hexOrBytes),
                maxSize: size,
            });
    }
    /**
     * Decodes a hex value into a bigint.
     *
     * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint
     *
     * @param hex Hex value to decode.
     * @param opts Options.
     * @returns BigInt value.
     *
     * @example
     * import { hexToBigInt } from 'viem'
     * const data = hexToBigInt('0x1a4', { signed: true })
     * // 420n
     *
     * @example
     * import { hexToBigInt } from 'viem'
     * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
     * // 420n
     */
    function hexToBigInt(hex, opts = {}) {
        const { signed } = opts;
        if (opts.size)
            assertSize$2(hex, { size: opts.size });
        const value = BigInt(hex);
        if (!signed)
            return value;
        const size = (hex.length - 2) / 2;
        const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;
        if (value <= max)
            return value;
        return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;
    }
    /**
     * Decodes a hex string into a number.
     *
     * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber
     *
     * @param hex Hex value to decode.
     * @param opts Options.
     * @returns Number value.
     *
     * @example
     * import { hexToNumber } from 'viem'
     * const data = hexToNumber('0x1a4')
     * // 420
     *
     * @example
     * import { hexToNumber } from 'viem'
     * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
     * // 420
     */
    function hexToNumber$1(hex, opts = {}) {
        return Number(hexToBigInt(hex, opts));
    }

    const hexes$2 = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));
    /**
     * Encodes a string, number, bigint, or ByteArray into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex
     * - Example: https://viem.sh/docs/utilities/toHex#usage
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { toHex } from 'viem'
     * const data = toHex('Hello world')
     * // '0x48656c6c6f20776f726c6421'
     *
     * @example
     * import { toHex } from 'viem'
     * const data = toHex(420)
     * // '0x1a4'
     *
     * @example
     * import { toHex } from 'viem'
     * const data = toHex('Hello world', { size: 32 })
     * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'
     */
    function toHex(value, opts = {}) {
        if (typeof value === 'number' || typeof value === 'bigint')
            return numberToHex(value, opts);
        if (typeof value === 'string') {
            return stringToHex(value, opts);
        }
        if (typeof value === 'boolean')
            return boolToHex(value, opts);
        return bytesToHex$1(value, opts);
    }
    /**
     * Encodes a boolean into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#booltohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { boolToHex } from 'viem'
     * const data = boolToHex(true)
     * // '0x1'
     *
     * @example
     * import { boolToHex } from 'viem'
     * const data = boolToHex(false)
     * // '0x0'
     *
     * @example
     * import { boolToHex } from 'viem'
     * const data = boolToHex(true, { size: 32 })
     * // '0x0000000000000000000000000000000000000000000000000000000000000001'
     */
    function boolToHex(value, opts = {}) {
        const hex = `0x${Number(value)}`;
        if (typeof opts.size === 'number') {
            assertSize$2(hex, { size: opts.size });
            return pad$2(hex, { size: opts.size });
        }
        return hex;
    }
    /**
     * Encodes a bytes array into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { bytesToHex } from 'viem'
     * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     * // '0x48656c6c6f20576f726c6421'
     *
     * @example
     * import { bytesToHex } from 'viem'
     * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     */
    function bytesToHex$1(value, opts = {}) {
        let string = '';
        for (let i = 0; i < value.length; i++) {
            string += hexes$2[value[i]];
        }
        const hex = `0x${string}`;
        if (typeof opts.size === 'number') {
            assertSize$2(hex, { size: opts.size });
            return pad$2(hex, { dir: 'right', size: opts.size });
        }
        return hex;
    }
    /**
     * Encodes a number or bigint into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { numberToHex } from 'viem'
     * const data = numberToHex(420)
     * // '0x1a4'
     *
     * @example
     * import { numberToHex } from 'viem'
     * const data = numberToHex(420, { size: 32 })
     * // '0x00000000000000000000000000000000000000000000000000000000000001a4'
     */
    function numberToHex(value_, opts = {}) {
        const { signed, size } = opts;
        const value = BigInt(value_);
        let maxValue;
        if (size) {
            if (signed)
                maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;
            else
                maxValue = 2n ** (BigInt(size) * 8n) - 1n;
        }
        else if (typeof value_ === 'number') {
            maxValue = BigInt(Number.MAX_SAFE_INTEGER);
        }
        const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;
        if ((maxValue && value > maxValue) || value < minValue) {
            const suffix = typeof value_ === 'bigint' ? 'n' : '';
            throw new IntegerOutOfRangeError$1({
                max: maxValue ? `${maxValue}${suffix}` : undefined,
                min: `${minValue}${suffix}`,
                signed,
                size,
                value: `${value_}${suffix}`,
            });
        }
        const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;
        if (size)
            return pad$2(hex, { size });
        return hex;
    }
    const encoder$3 = /*#__PURE__*/ new TextEncoder();
    /**
     * Encodes a UTF-8 string into a hex string
     *
     * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Hex value.
     *
     * @example
     * import { stringToHex } from 'viem'
     * const data = stringToHex('Hello World!')
     * // '0x48656c6c6f20576f726c6421'
     *
     * @example
     * import { stringToHex } from 'viem'
     * const data = stringToHex('Hello World!', { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     */
    function stringToHex(value_, opts = {}) {
        const value = encoder$3.encode(value_);
        return bytesToHex$1(value, opts);
    }

    const encoder$2 = /*#__PURE__*/ new TextEncoder();
    /**
     * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes
     * - Example: https://viem.sh/docs/utilities/toBytes#usage
     *
     * @param value Value to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { toBytes } from 'viem'
     * const data = toBytes('Hello world')
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     *
     * @example
     * import { toBytes } from 'viem'
     * const data = toBytes(420)
     * // Uint8Array([1, 164])
     *
     * @example
     * import { toBytes } from 'viem'
     * const data = toBytes(420, { size: 4 })
     * // Uint8Array([0, 0, 1, 164])
     */
    function toBytes$1(value, opts = {}) {
        if (typeof value === 'number' || typeof value === 'bigint')
            return numberToBytes(value, opts);
        if (typeof value === 'boolean')
            return boolToBytes(value, opts);
        if (isHex(value))
            return hexToBytes$1(value, opts);
        return stringToBytes(value, opts);
    }
    /**
     * Encodes a boolean into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes
     *
     * @param value Boolean value to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { boolToBytes } from 'viem'
     * const data = boolToBytes(true)
     * // Uint8Array([1])
     *
     * @example
     * import { boolToBytes } from 'viem'
     * const data = boolToBytes(true, { size: 32 })
     * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])
     */
    function boolToBytes(value, opts = {}) {
        const bytes = new Uint8Array(1);
        bytes[0] = Number(value);
        if (typeof opts.size === 'number') {
            assertSize$2(bytes, { size: opts.size });
            return pad$2(bytes, { size: opts.size });
        }
        return bytes;
    }
    // We use very optimized technique to convert hex string to byte array
    const charCodeMap$1 = {
        zero: 48,
        nine: 57,
        A: 65,
        F: 70,
        a: 97,
        f: 102,
    };
    function charCodeToBase16$1(char) {
        if (char >= charCodeMap$1.zero && char <= charCodeMap$1.nine)
            return char - charCodeMap$1.zero;
        if (char >= charCodeMap$1.A && char <= charCodeMap$1.F)
            return char - (charCodeMap$1.A - 10);
        if (char >= charCodeMap$1.a && char <= charCodeMap$1.f)
            return char - (charCodeMap$1.a - 10);
        return undefined;
    }
    /**
     * Encodes a hex string into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes
     *
     * @param hex Hex string to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { hexToBytes } from 'viem'
     * const data = hexToBytes('0x48656c6c6f20776f726c6421')
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     *
     * @example
     * import { hexToBytes } from 'viem'
     * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     */
    function hexToBytes$1(hex_, opts = {}) {
        let hex = hex_;
        if (opts.size) {
            assertSize$2(hex, { size: opts.size });
            hex = pad$2(hex, { dir: 'right', size: opts.size });
        }
        let hexString = hex.slice(2);
        if (hexString.length % 2)
            hexString = `0${hexString}`;
        const length = hexString.length / 2;
        const bytes = new Uint8Array(length);
        for (let index = 0, j = 0; index < length; index++) {
            const nibbleLeft = charCodeToBase16$1(hexString.charCodeAt(j++));
            const nibbleRight = charCodeToBase16$1(hexString.charCodeAt(j++));
            if (nibbleLeft === undefined || nibbleRight === undefined) {
                throw new BaseError$1(`Invalid byte sequence ("${hexString[j - 2]}${hexString[j - 1]}" in "${hexString}").`);
            }
            bytes[index] = nibbleLeft * 16 + nibbleRight;
        }
        return bytes;
    }
    /**
     * Encodes a number into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes
     *
     * @param value Number to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { numberToBytes } from 'viem'
     * const data = numberToBytes(420)
     * // Uint8Array([1, 164])
     *
     * @example
     * import { numberToBytes } from 'viem'
     * const data = numberToBytes(420, { size: 4 })
     * // Uint8Array([0, 0, 1, 164])
     */
    function numberToBytes(value, opts) {
        const hex = numberToHex(value, opts);
        return hexToBytes$1(hex);
    }
    /**
     * Encodes a UTF-8 string into a byte array.
     *
     * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes
     *
     * @param value String to encode.
     * @param opts Options.
     * @returns Byte array value.
     *
     * @example
     * import { stringToBytes } from 'viem'
     * const data = stringToBytes('Hello world!')
     * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])
     *
     * @example
     * import { stringToBytes } from 'viem'
     * const data = stringToBytes('Hello world!', { size: 32 })
     * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     */
    function stringToBytes(value, opts = {}) {
        const bytes = encoder$2.encode(value);
        if (typeof opts.size === 'number') {
            assertSize$2(bytes, { size: opts.size });
            return pad$2(bytes, { dir: 'right', size: opts.size });
        }
        return bytes;
    }

    /**
     * Internal assertion helpers.
     * @module
     */
    /** Asserts something is positive integer. */
    function anumber(n) {
        if (!Number.isSafeInteger(n) || n < 0)
            throw new Error('positive integer expected, got ' + n);
    }
    /** Is number an Uint8Array? Copied from utils for perf. */
    function isBytes$1(a) {
        return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');
    }
    /** Asserts something is Uint8Array. */
    function abytes$1(b, ...lengths) {
        if (!isBytes$1(b))
            throw new Error('Uint8Array expected');
        if (lengths.length > 0 && !lengths.includes(b.length))
            throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);
    }
    /** Asserts something is hash */
    function ahash(h) {
        if (typeof h !== 'function' || typeof h.create !== 'function')
            throw new Error('Hash should be wrapped by utils.wrapConstructor');
        anumber(h.outputLen);
        anumber(h.blockLen);
    }
    /** Asserts a hash instance has not been destroyed / finished */
    function aexists(instance, checkFinished = true) {
        if (instance.destroyed)
            throw new Error('Hash instance has been destroyed');
        if (checkFinished && instance.finished)
            throw new Error('Hash#digest() has already been called');
    }
    /** Asserts output is properly-sized byte array */
    function aoutput(out, instance) {
        abytes$1(out);
        const min = instance.outputLen;
        if (out.length < min) {
            throw new Error('digestInto() expects output buffer of length at least ' + min);
        }
    }

    /**
     * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.
     * @todo re-check https://issues.chromium.org/issues/42212588
     * @module
     */
    const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);
    const _32n = /* @__PURE__ */ BigInt(32);
    function fromBig(n, le = false) {
        if (le)
            return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };
        return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };
    }
    function split(lst, le = false) {
        let Ah = new Uint32Array(lst.length);
        let Al = new Uint32Array(lst.length);
        for (let i = 0; i < lst.length; i++) {
            const { h, l } = fromBig(lst[i], le);
            [Ah[i], Al[i]] = [h, l];
        }
        return [Ah, Al];
    }
    // Left rotate for Shift in [1, 32)
    const rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));
    const rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));
    // Left rotate for Shift in (32, 64), NOTE: 32 is special case.
    const rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));
    const rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));

    const crypto$1 = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;

    /**
     * Utilities for hex, bytes, CSPRNG.
     * @module
     */
    /*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    // We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.
    // node.js versions earlier than v19 don't declare it in global scope.
    // For node.js, package.json#exports field mapping rewrites import
    // from `crypto` to `cryptoNode`, which imports native module.
    // Makes the utils un-importable in browsers without a bundler.
    // Once node.js 18 is deprecated (2025-04-30), we can just drop the import.
    function u32(arr) {
        return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));
    }
    // Cast array to view
    function createView(arr) {
        return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);
    }
    /** The rotate right (circular right shift) operation for uint32 */
    function rotr(word, shift) {
        return (word << (32 - shift)) | (word >>> shift);
    }
    /** Is current platform little-endian? Most are. Big-Endian platform: IBM */
    const isLE = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();
    // The byte swap operation for uint32
    function byteSwap(word) {
        return (((word << 24) & 0xff000000) |
            ((word << 8) & 0xff0000) |
            ((word >>> 8) & 0xff00) |
            ((word >>> 24) & 0xff));
    }
    /** In place byte swap for Uint32Array */
    function byteSwap32(arr) {
        for (let i = 0; i < arr.length; i++) {
            arr[i] = byteSwap(arr[i]);
        }
    }
    /**
     * Convert JS string to byte array.
     * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])
     */
    function utf8ToBytes$1(str) {
        if (typeof str !== 'string')
            throw new Error('utf8ToBytes expected string, got ' + typeof str);
        return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809
    }
    /**
     * Normalizes (non-hex) string or Uint8Array to Uint8Array.
     * Warning: when Uint8Array is passed, it would NOT get copied.
     * Keep in mind for future mutable operations.
     */
    function toBytes(data) {
        if (typeof data === 'string')
            data = utf8ToBytes$1(data);
        abytes$1(data);
        return data;
    }
    /**
     * Copies several Uint8Arrays into one.
     */
    function concatBytes$1(...arrays) {
        let sum = 0;
        for (let i = 0; i < arrays.length; i++) {
            const a = arrays[i];
            abytes$1(a);
            sum += a.length;
        }
        const res = new Uint8Array(sum);
        for (let i = 0, pad = 0; i < arrays.length; i++) {
            const a = arrays[i];
            res.set(a, pad);
            pad += a.length;
        }
        return res;
    }
    /** For runtime check if class implements interface */
    class Hash {
        // Safe version that clones internal state
        clone() {
            return this._cloneInto();
        }
    }
    /** Wraps hash function, creating an interface on top of it */
    function wrapConstructor(hashCons) {
        const hashC = (msg) => hashCons().update(toBytes(msg)).digest();
        const tmp = hashCons();
        hashC.outputLen = tmp.outputLen;
        hashC.blockLen = tmp.blockLen;
        hashC.create = () => hashCons();
        return hashC;
    }
    /** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */
    function randomBytes(bytesLength = 32) {
        if (crypto$1 && typeof crypto$1.getRandomValues === 'function') {
            return crypto$1.getRandomValues(new Uint8Array(bytesLength));
        }
        // Legacy Node.js compatibility
        if (crypto$1 && typeof crypto$1.randomBytes === 'function') {
            return crypto$1.randomBytes(bytesLength);
        }
        throw new Error('crypto.getRandomValues must be defined');
    }

    /**
     * SHA3 (keccak) hash function, based on a new "Sponge function" design.
     * Different from older hashes, the internal state is bigger than output size.
     *
     * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),
     * [Website](https://keccak.team/keccak.html),
     * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).
     *
     * Check out `sha3-addons` module for cSHAKE, k12, and others.
     * @module
     */
    // Various per round constants calculations
    const SHA3_PI = [];
    const SHA3_ROTL = [];
    const _SHA3_IOTA = [];
    const _0n$4 = /* @__PURE__ */ BigInt(0);
    const _1n$5 = /* @__PURE__ */ BigInt(1);
    const _2n$3 = /* @__PURE__ */ BigInt(2);
    const _7n = /* @__PURE__ */ BigInt(7);
    const _256n = /* @__PURE__ */ BigInt(256);
    const _0x71n = /* @__PURE__ */ BigInt(0x71);
    for (let round = 0, R = _1n$5, x = 1, y = 0; round < 24; round++) {
        // Pi
        [x, y] = [y, (2 * x + 3 * y) % 5];
        SHA3_PI.push(2 * (5 * y + x));
        // Rotational
        SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);
        // Iota
        let t = _0n$4;
        for (let j = 0; j < 7; j++) {
            R = ((R << _1n$5) ^ ((R >> _7n) * _0x71n)) % _256n;
            if (R & _2n$3)
                t ^= _1n$5 << ((_1n$5 << /* @__PURE__ */ BigInt(j)) - _1n$5);
        }
        _SHA3_IOTA.push(t);
    }
    const [SHA3_IOTA_H, SHA3_IOTA_L] = /* @__PURE__ */ split(_SHA3_IOTA, true);
    // Left rotation (without 0, 32, 64)
    const rotlH = (h, l, s) => (s > 32 ? rotlBH(h, l, s) : rotlSH(h, l, s));
    const rotlL = (h, l, s) => (s > 32 ? rotlBL(h, l, s) : rotlSL(h, l, s));
    /** `keccakf1600` internal function, additionally allows to adjust round count. */
    function keccakP(s, rounds = 24) {
        const B = new Uint32Array(5 * 2);
        // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)
        for (let round = 24 - rounds; round < 24; round++) {
            // Theta θ
            for (let x = 0; x < 10; x++)
                B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];
            for (let x = 0; x < 10; x += 2) {
                const idx1 = (x + 8) % 10;
                const idx0 = (x + 2) % 10;
                const B0 = B[idx0];
                const B1 = B[idx0 + 1];
                const Th = rotlH(B0, B1, 1) ^ B[idx1];
                const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];
                for (let y = 0; y < 50; y += 10) {
                    s[x + y] ^= Th;
                    s[x + y + 1] ^= Tl;
                }
            }
            // Rho (ρ) and Pi (π)
            let curH = s[2];
            let curL = s[3];
            for (let t = 0; t < 24; t++) {
                const shift = SHA3_ROTL[t];
                const Th = rotlH(curH, curL, shift);
                const Tl = rotlL(curH, curL, shift);
                const PI = SHA3_PI[t];
                curH = s[PI];
                curL = s[PI + 1];
                s[PI] = Th;
                s[PI + 1] = Tl;
            }
            // Chi (χ)
            for (let y = 0; y < 50; y += 10) {
                for (let x = 0; x < 10; x++)
                    B[x] = s[y + x];
                for (let x = 0; x < 10; x++)
                    s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];
            }
            // Iota (ι)
            s[0] ^= SHA3_IOTA_H[round];
            s[1] ^= SHA3_IOTA_L[round];
        }
        B.fill(0);
    }
    /** Keccak sponge function. */
    class Keccak extends Hash {
        // NOTE: we accept arguments in bytes instead of bits here.
        constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {
            super();
            this.blockLen = blockLen;
            this.suffix = suffix;
            this.outputLen = outputLen;
            this.enableXOF = enableXOF;
            this.rounds = rounds;
            this.pos = 0;
            this.posOut = 0;
            this.finished = false;
            this.destroyed = false;
            // Can be passed from user as dkLen
            anumber(outputLen);
            // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes
            // 0 < blockLen < 200
            if (0 >= this.blockLen || this.blockLen >= 200)
                throw new Error('Sha3 supports only keccak-f1600 function');
            this.state = new Uint8Array(200);
            this.state32 = u32(this.state);
        }
        keccak() {
            if (!isLE)
                byteSwap32(this.state32);
            keccakP(this.state32, this.rounds);
            if (!isLE)
                byteSwap32(this.state32);
            this.posOut = 0;
            this.pos = 0;
        }
        update(data) {
            aexists(this);
            const { blockLen, state } = this;
            data = toBytes(data);
            const len = data.length;
            for (let pos = 0; pos < len;) {
                const take = Math.min(blockLen - this.pos, len - pos);
                for (let i = 0; i < take; i++)
                    state[this.pos++] ^= data[pos++];
                if (this.pos === blockLen)
                    this.keccak();
            }
            return this;
        }
        finish() {
            if (this.finished)
                return;
            this.finished = true;
            const { state, suffix, pos, blockLen } = this;
            // Do the padding
            state[pos] ^= suffix;
            if ((suffix & 0x80) !== 0 && pos === blockLen - 1)
                this.keccak();
            state[blockLen - 1] ^= 0x80;
            this.keccak();
        }
        writeInto(out) {
            aexists(this, false);
            abytes$1(out);
            this.finish();
            const bufferOut = this.state;
            const { blockLen } = this;
            for (let pos = 0, len = out.length; pos < len;) {
                if (this.posOut >= blockLen)
                    this.keccak();
                const take = Math.min(blockLen - this.posOut, len - pos);
                out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);
                this.posOut += take;
                pos += take;
            }
            return out;
        }
        xofInto(out) {
            // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF
            if (!this.enableXOF)
                throw new Error('XOF is not possible for this instance');
            return this.writeInto(out);
        }
        xof(bytes) {
            anumber(bytes);
            return this.xofInto(new Uint8Array(bytes));
        }
        digestInto(out) {
            aoutput(out, this);
            if (this.finished)
                throw new Error('digest() was already called');
            this.writeInto(out);
            this.destroy();
            return out;
        }
        digest() {
            return this.digestInto(new Uint8Array(this.outputLen));
        }
        destroy() {
            this.destroyed = true;
            this.state.fill(0);
        }
        _cloneInto(to) {
            const { blockLen, suffix, outputLen, rounds, enableXOF } = this;
            to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));
            to.state32.set(this.state32);
            to.pos = this.pos;
            to.posOut = this.posOut;
            to.finished = this.finished;
            to.rounds = rounds;
            // Suffix can change in cSHAKE
            to.suffix = suffix;
            to.outputLen = outputLen;
            to.enableXOF = enableXOF;
            to.destroyed = this.destroyed;
            return to;
        }
    }
    const gen = (suffix, blockLen, outputLen) => wrapConstructor(() => new Keccak(blockLen, suffix, outputLen));
    /** keccak-256 hash function. Different from SHA3-256. */
    const keccak_256 = /* @__PURE__ */ gen(0x01, 136, 256 / 8);

    function keccak256$1(value, to_) {
        const to = to_ || 'hex';
        const bytes = keccak_256(isHex(value, { strict: false }) ? toBytes$1(value) : value);
        if (to === 'bytes')
            return bytes;
        return toHex(bytes);
    }

    /**
     * Map with a LRU (Least recently used) policy.
     *
     * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
     */
    let LruMap$1 = class LruMap extends Map {
        constructor(size) {
            super();
            Object.defineProperty(this, "maxSize", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.maxSize = size;
        }
        get(key) {
            const value = super.get(key);
            if (super.has(key) && value !== undefined) {
                this.delete(key);
                super.set(key, value);
            }
            return value;
        }
        set(key, value) {
            super.set(key, value);
            if (this.maxSize && this.size > this.maxSize) {
                const firstKey = this.keys().next().value;
                if (firstKey)
                    this.delete(firstKey);
            }
            return this;
        }
    };

    const checksumAddressCache = /*#__PURE__*/ new LruMap$1(8192);
    function checksumAddress(address_, 
    /**
     * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the
     * wider Ethereum ecosystem, meaning it will break when validated against an application/tool
     * that relies on EIP-55 checksum encoding (checksum without chainId).
     *
     * It is highly recommended to not use this feature unless you
     * know what you are doing.
     *
     * See more: https://github.com/ethereum/EIPs/issues/1121
     */
    chainId) {
        if (checksumAddressCache.has(`${address_}.${chainId}`))
            return checksumAddressCache.get(`${address_}.${chainId}`);
        const hexAddress = address_.substring(2).toLowerCase();
        const hash = keccak256$1(stringToBytes(hexAddress), 'bytes');
        const address = (hexAddress).split('');
        for (let i = 0; i < 40; i += 2) {
            if (hash[i >> 1] >> 4 >= 8 && address[i]) {
                address[i] = address[i].toUpperCase();
            }
            if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {
                address[i + 1] = address[i + 1].toUpperCase();
            }
        }
        const result = `0x${address.join('')}`;
        checksumAddressCache.set(`${address_}.${chainId}`, result);
        return result;
    }

    /**
     * @description Converts an ECDSA public key to an address.
     *
     * @param publicKey The public key to convert.
     *
     * @returns The address.
     */
    function publicKeyToAddress(publicKey) {
        const address = keccak256$1(`0x${publicKey.substring(4)}`).substring(26);
        return checksumAddress(`0x${address}`);
    }

    async function recoverPublicKey({ hash, signature, }) {
        const hashHex = isHex(hash) ? hash : toHex(hash);
        const { secp256k1 } = await Promise.resolve().then(function () { return secp256k1$1; });
        const signature_ = (() => {
            // typeof signature: `Signature`
            if (typeof signature === 'object' && 'r' in signature && 's' in signature) {
                const { r, s, v, yParity } = signature;
                const yParityOrV = Number(yParity ?? v);
                const recoveryBit = toRecoveryBit(yParityOrV);
                return new secp256k1.Signature(hexToBigInt(r), hexToBigInt(s)).addRecoveryBit(recoveryBit);
            }
            // typeof signature: `Hex | ByteArray`
            const signatureHex = isHex(signature) ? signature : toHex(signature);
            const yParityOrV = hexToNumber$1(`0x${signatureHex.slice(130)}`);
            const recoveryBit = toRecoveryBit(yParityOrV);
            return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);
        })();
        const publicKey = signature_
            .recoverPublicKey(hashHex.substring(2))
            .toHex(false);
        return `0x${publicKey}`;
    }
    function toRecoveryBit(yParityOrV) {
        if (yParityOrV === 0 || yParityOrV === 1)
            return yParityOrV;
        if (yParityOrV === 27)
            return 0;
        if (yParityOrV === 28)
            return 1;
        throw new Error('Invalid yParityOrV value');
    }

    async function recoverAddress({ hash, signature, }) {
        return publicKeyToAddress(await recoverPublicKey({ hash: hash, signature }));
    }

    /**
     * Internal Merkle-Damgard hash utils.
     * @module
     */
    /** Polyfill for Safari 14. https://caniuse.com/mdn-javascript_builtins_dataview_setbiguint64 */
    function setBigUint64(view, byteOffset, value, isLE) {
        if (typeof view.setBigUint64 === 'function')
            return view.setBigUint64(byteOffset, value, isLE);
        const _32n = BigInt(32);
        const _u32_max = BigInt(0xffffffff);
        const wh = Number((value >> _32n) & _u32_max);
        const wl = Number(value & _u32_max);
        const h = isLE ? 4 : 0;
        const l = isLE ? 0 : 4;
        view.setUint32(byteOffset + h, wh, isLE);
        view.setUint32(byteOffset + l, wl, isLE);
    }
    /** Choice: a ? b : c */
    function Chi(a, b, c) {
        return (a & b) ^ (~a & c);
    }
    /** Majority function, true if any two inputs is true. */
    function Maj(a, b, c) {
        return (a & b) ^ (a & c) ^ (b & c);
    }
    /**
     * Merkle-Damgard hash construction base class.
     * Could be used to create MD5, RIPEMD, SHA1, SHA2.
     */
    class HashMD extends Hash {
        constructor(blockLen, outputLen, padOffset, isLE) {
            super();
            this.blockLen = blockLen;
            this.outputLen = outputLen;
            this.padOffset = padOffset;
            this.isLE = isLE;
            this.finished = false;
            this.length = 0;
            this.pos = 0;
            this.destroyed = false;
            this.buffer = new Uint8Array(blockLen);
            this.view = createView(this.buffer);
        }
        update(data) {
            aexists(this);
            const { view, buffer, blockLen } = this;
            data = toBytes(data);
            const len = data.length;
            for (let pos = 0; pos < len;) {
                const take = Math.min(blockLen - this.pos, len - pos);
                // Fast path: we have at least one block in input, cast it to view and process
                if (take === blockLen) {
                    const dataView = createView(data);
                    for (; blockLen <= len - pos; pos += blockLen)
                        this.process(dataView, pos);
                    continue;
                }
                buffer.set(data.subarray(pos, pos + take), this.pos);
                this.pos += take;
                pos += take;
                if (this.pos === blockLen) {
                    this.process(view, 0);
                    this.pos = 0;
                }
            }
            this.length += data.length;
            this.roundClean();
            return this;
        }
        digestInto(out) {
            aexists(this);
            aoutput(out, this);
            this.finished = true;
            // Padding
            // We can avoid allocation of buffer for padding completely if it
            // was previously not allocated here. But it won't change performance.
            const { buffer, view, blockLen, isLE } = this;
            let { pos } = this;
            // append the bit '1' to the message
            buffer[pos++] = 0b10000000;
            this.buffer.subarray(pos).fill(0);
            // we have less than padOffset left in buffer, so we cannot put length in
            // current block, need process it and pad again
            if (this.padOffset > blockLen - pos) {
                this.process(view, 0);
                pos = 0;
            }
            // Pad until full block byte with zeros
            for (let i = pos; i < blockLen; i++)
                buffer[i] = 0;
            // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that
            // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.
            // So we just write lowest 64 bits of that value.
            setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);
            this.process(view, 0);
            const oview = createView(out);
            const len = this.outputLen;
            // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT
            if (len % 4)
                throw new Error('_sha2: outputLen should be aligned to 32bit');
            const outLen = len / 4;
            const state = this.get();
            if (outLen > state.length)
                throw new Error('_sha2: outputLen bigger than state');
            for (let i = 0; i < outLen; i++)
                oview.setUint32(4 * i, state[i], isLE);
        }
        digest() {
            const { buffer, outputLen } = this;
            this.digestInto(buffer);
            const res = buffer.slice(0, outputLen);
            this.destroy();
            return res;
        }
        _cloneInto(to) {
            to || (to = new this.constructor());
            to.set(...this.get());
            const { blockLen, buffer, length, finished, destroyed, pos } = this;
            to.length = length;
            to.pos = pos;
            to.finished = finished;
            to.destroyed = destroyed;
            if (length % blockLen)
                to.buffer.set(buffer);
            return to;
        }
    }

    /**
     * SHA2-256 a.k.a. sha256. In JS, it is the fastest hash, even faster than Blake3.
     *
     * To break sha256 using birthday attack, attackers need to try 2^128 hashes.
     * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.
     *
     * Check out [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).
     * @module
     */
    /** Round constants: first 32 bits of fractional parts of the cube roots of the first 64 primes 2..311). */
    // prettier-ignore
    const SHA256_K = /* @__PURE__ */ new Uint32Array([
        0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,
        0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,
        0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
        0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,
        0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,
        0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
        0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,
        0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2
    ]);
    /** Initial state: first 32 bits of fractional parts of the square roots of the first 8 primes 2..19. */
    // prettier-ignore
    const SHA256_IV = /* @__PURE__ */ new Uint32Array([
        0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19
    ]);
    /**
     * Temporary buffer, not used to store anything between runs.
     * Named this way because it matches specification.
     */
    const SHA256_W = /* @__PURE__ */ new Uint32Array(64);
    class SHA256 extends HashMD {
        constructor() {
            super(64, 32, 8, false);
            // We cannot use array here since array allows indexing by variable
            // which means optimizer/compiler cannot use registers.
            this.A = SHA256_IV[0] | 0;
            this.B = SHA256_IV[1] | 0;
            this.C = SHA256_IV[2] | 0;
            this.D = SHA256_IV[3] | 0;
            this.E = SHA256_IV[4] | 0;
            this.F = SHA256_IV[5] | 0;
            this.G = SHA256_IV[6] | 0;
            this.H = SHA256_IV[7] | 0;
        }
        get() {
            const { A, B, C, D, E, F, G, H } = this;
            return [A, B, C, D, E, F, G, H];
        }
        // prettier-ignore
        set(A, B, C, D, E, F, G, H) {
            this.A = A | 0;
            this.B = B | 0;
            this.C = C | 0;
            this.D = D | 0;
            this.E = E | 0;
            this.F = F | 0;
            this.G = G | 0;
            this.H = H | 0;
        }
        process(view, offset) {
            // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array
            for (let i = 0; i < 16; i++, offset += 4)
                SHA256_W[i] = view.getUint32(offset, false);
            for (let i = 16; i < 64; i++) {
                const W15 = SHA256_W[i - 15];
                const W2 = SHA256_W[i - 2];
                const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);
                const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);
                SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;
            }
            // Compression function main loop, 64 rounds
            let { A, B, C, D, E, F, G, H } = this;
            for (let i = 0; i < 64; i++) {
                const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);
                const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;
                const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);
                const T2 = (sigma0 + Maj(A, B, C)) | 0;
                H = G;
                G = F;
                F = E;
                E = (D + T1) | 0;
                D = C;
                C = B;
                B = A;
                A = (T1 + T2) | 0;
            }
            // Add the compressed chunk to the current hash value
            A = (A + this.A) | 0;
            B = (B + this.B) | 0;
            C = (C + this.C) | 0;
            D = (D + this.D) | 0;
            E = (E + this.E) | 0;
            F = (F + this.F) | 0;
            G = (G + this.G) | 0;
            H = (H + this.H) | 0;
            this.set(A, B, C, D, E, F, G, H);
        }
        roundClean() {
            SHA256_W.fill(0);
        }
        destroy() {
            this.set(0, 0, 0, 0, 0, 0, 0, 0);
            this.buffer.fill(0);
        }
    }
    /** SHA2-256 hash function */
    const sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());

    new LruMap$1(128);

    /**
     * Hex, bytes and number utilities.
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    // 100 lines of code in the file are duplicated from noble-hashes (utils).
    // This is OK: `abstract` directory does not use noble-hashes.
    // User may opt-in into using different hashing library. This way, noble-hashes
    // won't be included into their bundle.
    const _0n$3 = /* @__PURE__ */ BigInt(0);
    const _1n$4 = /* @__PURE__ */ BigInt(1);
    const _2n$2 = /* @__PURE__ */ BigInt(2);
    function isBytes(a) {
        return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');
    }
    function abytes(item) {
        if (!isBytes(item))
            throw new Error('Uint8Array expected');
    }
    function abool(title, value) {
        if (typeof value !== 'boolean')
            throw new Error(title + ' boolean expected, got ' + value);
    }
    // Array where index 0xf0 (240) is mapped to string 'f0'
    const hexes$1 = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));
    /**
     * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'
     */
    function bytesToHex(bytes) {
        abytes(bytes);
        // pre-caching improves the speed 6x
        let hex = '';
        for (let i = 0; i < bytes.length; i++) {
            hex += hexes$1[bytes[i]];
        }
        return hex;
    }
    function numberToHexUnpadded(num) {
        const hex = num.toString(16);
        return hex.length & 1 ? '0' + hex : hex;
    }
    function hexToNumber(hex) {
        if (typeof hex !== 'string')
            throw new Error('hex string expected, got ' + typeof hex);
        return hex === '' ? _0n$3 : BigInt('0x' + hex); // Big Endian
    }
    // We use optimized technique to convert hex string to byte array
    const asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };
    function asciiToBase16(ch) {
        if (ch >= asciis._0 && ch <= asciis._9)
            return ch - asciis._0; // '2' => 50-48
        if (ch >= asciis.A && ch <= asciis.F)
            return ch - (asciis.A - 10); // 'B' => 66-(65-10)
        if (ch >= asciis.a && ch <= asciis.f)
            return ch - (asciis.a - 10); // 'b' => 98-(97-10)
        return;
    }
    /**
     * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])
     */
    function hexToBytes(hex) {
        if (typeof hex !== 'string')
            throw new Error('hex string expected, got ' + typeof hex);
        const hl = hex.length;
        const al = hl / 2;
        if (hl % 2)
            throw new Error('hex string expected, got unpadded hex of length ' + hl);
        const array = new Uint8Array(al);
        for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {
            const n1 = asciiToBase16(hex.charCodeAt(hi));
            const n2 = asciiToBase16(hex.charCodeAt(hi + 1));
            if (n1 === undefined || n2 === undefined) {
                const char = hex[hi] + hex[hi + 1];
                throw new Error('hex string expected, got non-hex character "' + char + '" at index ' + hi);
            }
            array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163
        }
        return array;
    }
    // BE: Big Endian, LE: Little Endian
    function bytesToNumberBE(bytes) {
        return hexToNumber(bytesToHex(bytes));
    }
    function bytesToNumberLE(bytes) {
        abytes(bytes);
        return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));
    }
    function numberToBytesBE(n, len) {
        return hexToBytes(n.toString(16).padStart(len * 2, '0'));
    }
    function numberToBytesLE(n, len) {
        return numberToBytesBE(n, len).reverse();
    }
    // Unpadded, rarely used
    function numberToVarBytesBE(n) {
        return hexToBytes(numberToHexUnpadded(n));
    }
    /**
     * Takes hex string or Uint8Array, converts to Uint8Array.
     * Validates output length.
     * Will throw error for other types.
     * @param title descriptive title for an error e.g. 'private key'
     * @param hex hex string or Uint8Array
     * @param expectedLength optional, will compare to result array's length
     * @returns
     */
    function ensureBytes(title, hex, expectedLength) {
        let res;
        if (typeof hex === 'string') {
            try {
                res = hexToBytes(hex);
            }
            catch (e) {
                throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);
            }
        }
        else if (isBytes(hex)) {
            // Uint8Array.from() instead of hash.slice() because node.js Buffer
            // is instance of Uint8Array, and its slice() creates **mutable** copy
            res = Uint8Array.from(hex);
        }
        else {
            throw new Error(title + ' must be hex string or Uint8Array');
        }
        const len = res.length;
        if (typeof expectedLength === 'number' && len !== expectedLength)
            throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);
        return res;
    }
    /**
     * Copies several Uint8Arrays into one.
     */
    function concatBytes(...arrays) {
        let sum = 0;
        for (let i = 0; i < arrays.length; i++) {
            const a = arrays[i];
            abytes(a);
            sum += a.length;
        }
        const res = new Uint8Array(sum);
        for (let i = 0, pad = 0; i < arrays.length; i++) {
            const a = arrays[i];
            res.set(a, pad);
            pad += a.length;
        }
        return res;
    }
    // Compares 2 u8a-s in kinda constant time
    function equalBytes(a, b) {
        if (a.length !== b.length)
            return false;
        let diff = 0;
        for (let i = 0; i < a.length; i++)
            diff |= a[i] ^ b[i];
        return diff === 0;
    }
    /**
     * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])
     */
    function utf8ToBytes(str) {
        if (typeof str !== 'string')
            throw new Error('string expected');
        return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809
    }
    // Is positive bigint
    const isPosBig = (n) => typeof n === 'bigint' && _0n$3 <= n;
    function inRange(n, min, max) {
        return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;
    }
    /**
     * Asserts min <= n < max. NOTE: It's < max and not <= max.
     * @example
     * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)
     */
    function aInRange(title, n, min, max) {
        // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?
        // consider P=256n, min=0n, max=P
        // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`
        // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`
        // - our way is the cleanest:               `inRange('x', x, 0n, P)
        if (!inRange(n, min, max))
            throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);
    }
    // Bit operations
    /**
     * Calculates amount of bits in a bigint.
     * Same as `n.toString(2).length`
     */
    function bitLen(n) {
        let len;
        for (len = 0; n > _0n$3; n >>= _1n$4, len += 1)
            ;
        return len;
    }
    /**
     * Gets single bit at position.
     * NOTE: first bit position is 0 (same as arrays)
     * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`
     */
    function bitGet(n, pos) {
        return (n >> BigInt(pos)) & _1n$4;
    }
    /**
     * Sets single bit at position.
     */
    function bitSet(n, pos, value) {
        return n | ((value ? _1n$4 : _0n$3) << BigInt(pos));
    }
    /**
     * Calculate mask for N bits. Not using ** operator with bigints because of old engines.
     * Same as BigInt(`0b${Array(i).fill('1').join('')}`)
     */
    const bitMask = (n) => (_2n$2 << BigInt(n - 1)) - _1n$4;
    // DRBG
    const u8n = (data) => new Uint8Array(data); // creates Uint8Array
    const u8fr = (arr) => Uint8Array.from(arr); // another shortcut
    /**
     * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.
     * @returns function that will call DRBG until 2nd arg returns something meaningful
     * @example
     *   const drbg = createHmacDRBG<Key>(32, 32, hmac);
     *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined
     */
    function createHmacDrbg(hashLen, qByteLen, hmacFn) {
        if (typeof hashLen !== 'number' || hashLen < 2)
            throw new Error('hashLen must be a number');
        if (typeof qByteLen !== 'number' || qByteLen < 2)
            throw new Error('qByteLen must be a number');
        if (typeof hmacFn !== 'function')
            throw new Error('hmacFn must be a function');
        // Step B, Step C: set hashLen to 8*ceil(hlen/8)
        let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.
        let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same
        let i = 0; // Iterations counter, will throw when over 1000
        const reset = () => {
            v.fill(1);
            k.fill(0);
            i = 0;
        };
        const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)
        const reseed = (seed = u8n()) => {
            // HMAC-DRBG reseed() function. Steps D-G
            k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)
            v = h(); // v = hmac(k || v)
            if (seed.length === 0)
                return;
            k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)
            v = h(); // v = hmac(k || v)
        };
        const gen = () => {
            // HMAC-DRBG generate() function
            if (i++ >= 1000)
                throw new Error('drbg: tried 1000 values');
            let len = 0;
            const out = [];
            while (len < qByteLen) {
                v = h();
                const sl = v.slice();
                out.push(sl);
                len += v.length;
            }
            return concatBytes(...out);
        };
        const genUntil = (seed, pred) => {
            reset();
            reseed(seed); // Steps D-G
            let res = undefined; // Step H: grind until k is in [1..n-1]
            while (!(res = pred(gen())))
                reseed();
            reset();
            return res;
        };
        return genUntil;
    }
    // Validating curves and fields
    const validatorFns = {
        bigint: (val) => typeof val === 'bigint',
        function: (val) => typeof val === 'function',
        boolean: (val) => typeof val === 'boolean',
        string: (val) => typeof val === 'string',
        stringOrUint8Array: (val) => typeof val === 'string' || isBytes(val),
        isSafeInteger: (val) => Number.isSafeInteger(val),
        array: (val) => Array.isArray(val),
        field: (val, object) => object.Fp.isValid(val),
        hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),
    };
    // type Record<K extends string | number | symbol, T> = { [P in K]: T; }
    function validateObject(object, validators, optValidators = {}) {
        const checkField = (fieldName, type, isOptional) => {
            const checkVal = validatorFns[type];
            if (typeof checkVal !== 'function')
                throw new Error('invalid validator function');
            const val = object[fieldName];
            if (isOptional && val === undefined)
                return;
            if (!checkVal(val, object)) {
                throw new Error('param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val);
            }
        };
        for (const [fieldName, type] of Object.entries(validators))
            checkField(fieldName, type, false);
        for (const [fieldName, type] of Object.entries(optValidators))
            checkField(fieldName, type, true);
        return object;
    }
    // validate type tests
    // const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };
    // const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!
    // // Should fail type-check
    // const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });
    // const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });
    // const z3 = validateObject(o, { test: 'boolean', z: 'bug' });
    // const z4 = validateObject(o, { a: 'boolean', z: 'bug' });
    /**
     * throws not implemented error
     */
    const notImplemented = () => {
        throw new Error('not implemented');
    };
    /**
     * Memoizes (caches) computation result.
     * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.
     */
    function memoized(fn) {
        const map = new WeakMap();
        return (arg, ...args) => {
            const val = map.get(arg);
            if (val !== undefined)
                return val;
            const computed = fn(arg, ...args);
            map.set(arg, computed);
            return computed;
        };
    }

    var ut$3 = /*#__PURE__*/Object.freeze({
        __proto__: null,
        aInRange: aInRange,
        abool: abool,
        abytes: abytes,
        bitGet: bitGet,
        bitLen: bitLen,
        bitMask: bitMask,
        bitSet: bitSet,
        bytesToHex: bytesToHex,
        bytesToNumberBE: bytesToNumberBE,
        bytesToNumberLE: bytesToNumberLE,
        concatBytes: concatBytes,
        createHmacDrbg: createHmacDrbg,
        ensureBytes: ensureBytes,
        equalBytes: equalBytes,
        hexToBytes: hexToBytes,
        hexToNumber: hexToNumber,
        inRange: inRange,
        isBytes: isBytes,
        memoized: memoized,
        notImplemented: notImplemented,
        numberToBytesBE: numberToBytesBE,
        numberToBytesLE: numberToBytesLE,
        numberToHexUnpadded: numberToHexUnpadded,
        numberToVarBytesBE: numberToVarBytesBE,
        utf8ToBytes: utf8ToBytes,
        validateObject: validateObject
    });

    /** @internal */
    const version$1 = '0.1.1';

    /** @internal */
    function getVersion() {
        return version$1;
    }

    /**
     * Base error class inherited by all errors thrown by ox.
     *
     * @example
     * ```ts
     * import { Errors } from 'ox'
     * throw new Errors.BaseError('An error occurred')
     * ```
     */
    class BaseError extends Error {
        constructor(shortMessage, options = {}) {
            const details = (() => {
                if (options.cause instanceof BaseError) {
                    if (options.cause.details)
                        return options.cause.details;
                    if (options.cause.shortMessage)
                        return options.cause.shortMessage;
                }
                if (options.cause?.message)
                    return options.cause.message;
                return options.details;
            })();
            const docsPath = (() => {
                if (options.cause instanceof BaseError)
                    return options.cause.docsPath || options.docsPath;
                return options.docsPath;
            })();
            const docsBaseUrl = 'https://oxlib.sh';
            const docs = `${docsBaseUrl}${docsPath ?? ''}`;
            const message = [
                shortMessage || 'An error occurred.',
                ...(options.metaMessages ? ['', ...options.metaMessages] : []),
                ...(details || docsPath
                    ? [
                        '',
                        details ? `Details: ${details}` : undefined,
                        docsPath ? `See: ${docs}` : undefined,
                    ]
                    : []),
            ]
                .filter((x) => typeof x === 'string')
                .join('\n');
            super(message, options.cause ? { cause: options.cause } : undefined);
            Object.defineProperty(this, "details", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docs", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "docsPath", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "shortMessage", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "cause", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'BaseError'
            });
            Object.defineProperty(this, "version", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: `ox@${getVersion()}`
            });
            this.cause = options.cause;
            this.details = details;
            this.docs = docs;
            this.docsPath = docsPath;
            this.shortMessage = shortMessage;
        }
        walk(fn) {
            return walk(this, fn);
        }
    }
    /** @internal */
    function walk(err, fn) {
        if (fn?.(err))
            return err;
        if (err && typeof err === 'object' && 'cause' in err && err.cause)
            return walk(err.cause, fn);
        return fn ? null : err;
    }

    /** @internal */
    function assertSize$1(bytes, size_) {
        if (size$1(bytes) > size_)
            throw new SizeOverflowError$1({
                givenSize: size$1(bytes),
                maxSize: size_,
            });
    }
    /** @internal */
    const charCodeMap = {
        zero: 48,
        nine: 57,
        A: 65,
        F: 70,
        a: 97,
        f: 102,
    };
    /** @internal */
    function charCodeToBase16(char) {
        if (char >= charCodeMap.zero && char <= charCodeMap.nine)
            return char - charCodeMap.zero;
        if (char >= charCodeMap.A && char <= charCodeMap.F)
            return char - (charCodeMap.A - 10);
        if (char >= charCodeMap.a && char <= charCodeMap.f)
            return char - (charCodeMap.a - 10);
        return undefined;
    }
    /** @internal */
    function pad$1(bytes, options = {}) {
        const { dir, size = 32 } = options;
        if (size === 0)
            return bytes;
        if (bytes.length > size)
            throw new SizeExceedsPaddingSizeError$1({
                size: bytes.length,
                targetSize: size,
                type: 'Bytes',
            });
        const paddedBytes = new Uint8Array(size);
        for (let i = 0; i < size; i++) {
            const padEnd = dir === 'right';
            paddedBytes[padEnd ? i : size - i - 1] =
                bytes[padEnd ? i : bytes.length - i - 1];
        }
        return paddedBytes;
    }

    /** @internal */
    function assertSize(hex, size_) {
        if (size(hex) > size_)
            throw new SizeOverflowError({
                givenSize: size(hex),
                maxSize: size_,
            });
    }
    /** @internal */
    function pad(hex_, options = {}) {
        const { dir, size = 32 } = options;
        if (size === 0)
            return hex_;
        const hex = hex_.replace('0x', '');
        if (hex.length > size * 2)
            throw new SizeExceedsPaddingSizeError({
                size: Math.ceil(hex.length / 2),
                targetSize: size,
                type: 'Hex',
            });
        return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;
    }

    const encoder$1 = /*#__PURE__*/ new TextEncoder();
    /**
     * Instantiates a {@link ox#Bytes.Bytes} value from a `Uint8Array`, a hex string, or an array of unsigned 8-bit integers.
     *
     * :::tip
     *
     * To instantiate from a **Boolean**, **String**, or **Number**, use one of the following:
     *
     * - `Bytes.fromBoolean`
     *
     * - `Bytes.fromString`
     *
     * - `Bytes.fromNumber`
     *
     * :::
     *
     * @example
     * ```ts twoslash
     * // @noErrors
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.from([255, 124, 5, 4])
     * // @log: Uint8Array([255, 124, 5, 4])
     *
     * const data = Bytes.from('0xdeadbeef')
     * // @log: Uint8Array([222, 173, 190, 239])
     * ```
     *
     * @param value - Value to convert.
     * @returns A {@link ox#Bytes.Bytes} instance.
     */
    function from(value) {
        if (value instanceof Uint8Array)
            return value;
        if (typeof value === 'string')
            return fromHex(value);
        return fromArray(value);
    }
    /**
     * Converts an array of unsigned 8-bit integers into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromArray([255, 124, 5, 4])
     * // @log: Uint8Array([255, 124, 5, 4])
     * ```
     *
     * @param value - Value to convert.
     * @returns A {@link ox#Bytes.Bytes} instance.
     */
    function fromArray(value) {
        return value instanceof Uint8Array ? value : new Uint8Array(value);
    }
    /**
     * Encodes a {@link ox#Hex.Hex} value into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421')
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421', { size: 32 })
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     * ```
     *
     * @param value - {@link ox#Hex.Hex} value to encode.
     * @param options - Encoding options.
     * @returns Encoded {@link ox#Bytes.Bytes}.
     */
    function fromHex(value, options = {}) {
        const { size } = options;
        let hex = value;
        if (size) {
            assertSize(value, size);
            hex = padRight(value, size);
        }
        let hexString = hex.slice(2);
        if (hexString.length % 2)
            hexString = `0${hexString}`;
        const length = hexString.length / 2;
        const bytes = new Uint8Array(length);
        for (let index = 0, j = 0; index < length; index++) {
            const nibbleLeft = charCodeToBase16(hexString.charCodeAt(j++));
            const nibbleRight = charCodeToBase16(hexString.charCodeAt(j++));
            if (nibbleLeft === undefined || nibbleRight === undefined) {
                throw new BaseError(`Invalid byte sequence ("${hexString[j - 2]}${hexString[j - 1]}" in "${hexString}").`);
            }
            bytes[index] = nibbleLeft * 16 + nibbleRight;
        }
        return bytes;
    }
    /**
     * Encodes a string into {@link ox#Bytes.Bytes}.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromString('Hello world!')
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * const data = Bytes.fromString('Hello world!', { size: 32 })
     * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
     * ```
     *
     * @param value - String to encode.
     * @param options - Encoding options.
     * @returns Encoded {@link ox#Bytes.Bytes}.
     */
    function fromString$1(value, options = {}) {
        const { size } = options;
        const bytes = encoder$1.encode(value);
        if (typeof size === 'number') {
            assertSize$1(bytes, size);
            return padRight$1(bytes, size);
        }
        return bytes;
    }
    /**
     * Pads a {@link ox#Bytes.Bytes} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.padRight(Bytes.from([1]), 4)
     * // @log: Uint8Array([1, 0, 0, 0])
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} value to pad.
     * @param size - Size to pad the {@link ox#Bytes.Bytes} value to.
     * @returns Padded {@link ox#Bytes.Bytes} value.
     */
    function padRight$1(value, size) {
        return pad$1(value, { dir: 'right', size });
    }
    /**
     * Retrieves the size of a {@link ox#Bytes.Bytes} value.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.size(Bytes.from([1, 2, 3, 4]))
     * // @log: 4
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} value.
     * @returns Size of the {@link ox#Bytes.Bytes} value.
     */
    function size$1(value) {
        return value.length;
    }
    /**
     * Thrown when a size exceeds the maximum allowed size.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.fromString('Hello World!', { size: 8 })
     * // @error: Bytes.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.
     * ```
     */
    let SizeOverflowError$1 = class SizeOverflowError extends BaseError {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed \`${maxSize}\` bytes. Given size: \`${givenSize}\` bytes.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Bytes.SizeOverflowError'
            });
        }
    };
    /**
     * Thrown when a the padding size exceeds the maximum allowed size.
     *
     * @example
     * ```ts twoslash
     * import { Bytes } from 'ox'
     *
     * Bytes.padLeft(Bytes.fromString('Hello World!'), 8)
     * // @error: [Bytes.SizeExceedsPaddingSizeError: Bytes size (`12`) exceeds padding size (`8`).
     * ```
     */
    let SizeExceedsPaddingSizeError$1 = class SizeExceedsPaddingSizeError extends BaseError {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (\`${size}\`) exceeds padding size (\`${targetSize}\`).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Bytes.SizeExceedsPaddingSizeError'
            });
        }
    };

    const encoder = /*#__PURE__*/ new TextEncoder();
    const hexes = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));
    /**
     * Concatenates two or more {@link ox#Hex.Hex}.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.concat('0x123', '0x456')
     * // @log: '0x123456'
     * ```
     *
     * @param values - The {@link ox#Hex.Hex} values to concatenate.
     * @returns The concatenated {@link ox#Hex.Hex} value.
     */
    function concat(...values) {
        return `0x${values.reduce((acc, x) => acc + x.replace('0x', ''), '')}`;
    }
    /**
     * Encodes a boolean into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromBoolean(true)
     * // @log: '0x1'
     *
     * Hex.fromBoolean(false)
     * // @log: '0x0'
     *
     * Hex.fromBoolean(true, { size: 32 })
     * // @log: '0x0000000000000000000000000000000000000000000000000000000000000001'
     * ```
     *
     * @param value - The boolean value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromBoolean(value, options = {}) {
        const hex = `0x${Number(value)}`;
        if (typeof options.size === 'number') {
            assertSize(hex, options.size);
            return padLeft(hex, options.size);
        }
        return hex;
    }
    /**
     * Encodes a {@link ox#Bytes.Bytes} value into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Bytes, Hex } from 'ox'
     *
     * Hex.fromBytes(Bytes.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]))
     * // @log: '0x48656c6c6f20576f726c6421'
     * ```
     *
     * @param value - The {@link ox#Bytes.Bytes} value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromBytes(value, options = {}) {
        let string = '';
        for (let i = 0; i < value.length; i++)
            string += hexes[value[i]];
        const hex = `0x${string}`;
        if (typeof options.size === 'number') {
            assertSize(hex, options.size);
            return padRight(hex, options.size);
        }
        return hex;
    }
    /**
     * Encodes a number or bigint into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromNumber(420)
     * // @log: '0x1a4'
     *
     * Hex.fromNumber(420, { size: 32 })
     * // @log: '0x00000000000000000000000000000000000000000000000000000000000001a4'
     * ```
     *
     * @param value - The number or bigint value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromNumber(value, options = {}) {
        const { signed, size } = options;
        const value_ = BigInt(value);
        let maxValue;
        if (size) {
            if (signed)
                maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;
            else
                maxValue = 2n ** (BigInt(size) * 8n) - 1n;
        }
        else if (typeof value === 'number') {
            maxValue = BigInt(Number.MAX_SAFE_INTEGER);
        }
        const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;
        if ((maxValue && value_ > maxValue) || value_ < minValue) {
            const suffix = typeof value === 'bigint' ? 'n' : '';
            throw new IntegerOutOfRangeError({
                max: maxValue ? `${maxValue}${suffix}` : undefined,
                min: `${minValue}${suffix}`,
                signed,
                size,
                value: `${value}${suffix}`,
            });
        }
        const stringValue = (signed && value_ < 0 ? (1n << BigInt(size * 8)) + BigInt(value_) : value_).toString(16);
        const hex = `0x${stringValue}`;
        if (size)
            return padLeft(hex, size);
        return hex;
    }
    /**
     * Encodes a string into a {@link ox#Hex.Hex} value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     * Hex.fromString('Hello World!')
     * // '0x48656c6c6f20576f726c6421'
     *
     * Hex.fromString('Hello World!', { size: 32 })
     * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
     * ```
     *
     * @param value - The string value to encode.
     * @param options - Options.
     * @returns The encoded {@link ox#Hex.Hex} value.
     */
    function fromString(value, options = {}) {
        return fromBytes(encoder.encode(value), options);
    }
    /**
     * Pads a {@link ox#Hex.Hex} value to the left with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.padLeft('0x1234', 4)
     * // @log: '0x00001234'
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to pad.
     * @param size - The size (in bytes) of the output hex value.
     * @returns The padded {@link ox#Hex.Hex} value.
     */
    function padLeft(value, size) {
        return pad(value, { dir: 'left', size });
    }
    /**
     * Pads a {@link ox#Hex.Hex} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).
     *
     * @example
     * ```ts
     * import { Hex } from 'ox'
     *
     * Hex.padRight('0x1234', 4)
     * // @log: '0x12340000'
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to pad.
     * @param size - The size (in bytes) of the output hex value.
     * @returns The padded {@link ox#Hex.Hex} value.
     */
    function padRight(value, size) {
        return pad(value, { dir: 'right', size });
    }
    /**
     * Retrieves the size of a {@link ox#Hex.Hex} value (in bytes).
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.size('0xdeadbeef')
     * // @log: 4
     * ```
     *
     * @param value - The {@link ox#Hex.Hex} value to get the size of.
     * @returns The size of the {@link ox#Hex.Hex} value (in bytes).
     */
    function size(value) {
        return Math.ceil((value.length - 2) / 2);
    }
    /**
     * Thrown when the provided integer is out of range, and cannot be represented as a hex value.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromNumber(420182738912731283712937129)
     * // @error: Hex.IntegerOutOfRangeError: Number \`4.2018273891273126e+26\` is not in safe unsigned integer range (`0` to `9007199254740991`)
     * ```
     */
    class IntegerOutOfRangeError extends BaseError {
        constructor({ max, min, signed, size, value, }) {
            super(`Number \`${value}\` is not in safe${size ? ` ${size * 8}-bit` : ''}${signed ? ' signed' : ' unsigned'} integer range ${max ? `(\`${min}\` to \`${max}\`)` : `(above \`${min}\`)`}`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.IntegerOutOfRangeError'
            });
        }
    }
    /**
     * Thrown when the size of the value exceeds the expected max size.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.fromString('Hello World!', { size: 8 })
     * // @error: Hex.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.
     * ```
     */
    class SizeOverflowError extends BaseError {
        constructor({ givenSize, maxSize }) {
            super(`Size cannot exceed \`${maxSize}\` bytes. Given size: \`${givenSize}\` bytes.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.SizeOverflowError'
            });
        }
    }
    /**
     * Thrown when the size of the value exceeds the pad size.
     *
     * @example
     * ```ts twoslash
     * import { Hex } from 'ox'
     *
     * Hex.padLeft('0x1a4e12a45a21323123aaa87a897a897a898a6567a578a867a98778a667a85a875a87a6a787a65a675a6a9', 32)
     * // @error: Hex.SizeExceedsPaddingSizeError: Hex size (`43`) exceeds padding size (`32`).
     * ```
     */
    class SizeExceedsPaddingSizeError extends BaseError {
        constructor({ size, targetSize, type, }) {
            super(`${type.charAt(0).toUpperCase()}${type
            .slice(1)
            .toLowerCase()} size (\`${size}\`) exceeds padding size (\`${targetSize}\`).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Hex.SizeExceedsPaddingSizeError'
            });
        }
    }

    /**
     * Calculates the [Keccak256](https://en.wikipedia.org/wiki/SHA-3) hash of a {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.
     *
     * This function is a re-export of `keccak_256` from [`@noble/hashes`](https://github.com/paulmillr/noble-hashes), an audited & minimal JS hashing library.
     *
     * @example
     * ```ts twoslash
     * import { Hash } from 'ox'
     *
     * Hash.keccak256('0xdeadbeef')
     * // @log: '0xd4fd4e189132273036449fc9e11198c739161b4c0116a9a2dccdfa1c492006f1'
     * ```
     *
     * @example
     * ### Calculate Hash of a String
     *
     * ```ts twoslash
     * import { Hash, Hex } from 'ox'
     *
     * Hash.keccak256(Hex.fromString('hello world'))
     * // @log: '0x3ea2f1d0abf3fc66cf29eebb70cbd4e7fe762ef8a09bcc06c8edf641230afec0'
     * ```
     *
     * @example
     * ### Configure Return Type
     *
     * ```ts twoslash
     * import { Hash } from 'ox'
     *
     * Hash.keccak256('0xdeadbeef', { as: 'Bytes' })
     * // @log: Uint8Array [...]
     * ```
     *
     * @param value - {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.
     * @param options - Options.
     * @returns Keccak256 hash.
     */
    function keccak256(value, options = {}) {
        const { as = typeof value === 'string' ? 'Hex' : 'Bytes' } = options;
        const bytes = keccak_256(from(value));
        if (as === 'Bytes')
            return bytes;
        return fromBytes(bytes);
    }

    /**
     * @internal
     *
     * Map with a LRU (Least recently used) policy.
     * @see https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
     */
    class LruMap extends Map {
        constructor(size) {
            super();
            Object.defineProperty(this, "maxSize", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: void 0
            });
            this.maxSize = size;
        }
        get(key) {
            const value = super.get(key);
            if (super.has(key) && value !== undefined) {
                this.delete(key);
                super.set(key, value);
            }
            return value;
        }
        set(key, value) {
            super.set(key, value);
            if (this.maxSize && this.size > this.maxSize) {
                const firstKey = this.keys().next().value;
                if (firstKey)
                    this.delete(firstKey);
            }
            return this;
        }
    }

    const caches = {
        checksum: /*#__PURE__*/ new LruMap(8192),
    };
    const checksum$1 = caches.checksum;

    const addressRegex =  /^0x[a-fA-F0-9]{40}$/;
    /**
     * Asserts that the given value is a valid {@link ox#Address.Address}.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.assert('0xA0Cf798816D4b9b9866b5330EEa46a18382f251e')
     * ```
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.assert('0xdeadbeef')
     * // @error: InvalidAddressError: Address "0xdeadbeef" is invalid.
     * ```
     *
     * @param value - Value to assert if it is a valid address.
     * @param options - Assertion options.
     */
    function assert(value, options = {}) {
        const { strict = true } = options;
        if (!addressRegex.test(value))
            throw new InvalidAddressError({
                address: value,
                cause: new InvalidInputError(),
            });
        if (strict) {
            if (value.toLowerCase() === value)
                return;
            if (checksum(value) !== value)
                throw new InvalidAddressError({
                    address: value,
                    cause: new InvalidChecksumError(),
                });
        }
    }
    /**
     * Computes the checksum address for the given {@link ox#Address.Address}.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.checksum('0xa0cf798816d4b9b9866b5330eea46a18382f251e')
     * // @log: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e'
     * ```
     *
     * @param address - The address to compute the checksum for.
     * @returns The checksummed address.
     */
    function checksum(address) {
        if (checksum$1.has(address))
            return checksum$1.get(address);
        assert(address, { strict: false });
        const hexAddress = address.substring(2).toLowerCase();
        const hash = keccak256(fromString$1(hexAddress), { as: 'Bytes' });
        const characters = hexAddress.split('');
        for (let i = 0; i < 40; i += 2) {
            if (hash[i >> 1] >> 4 >= 8 && characters[i]) {
                characters[i] = characters[i].toUpperCase();
            }
            if ((hash[i >> 1] & 0x0f) >= 8 && characters[i + 1]) {
                characters[i + 1] = characters[i + 1].toUpperCase();
            }
        }
        const result = `0x${characters.join('')}`;
        checksum$1.set(address, result);
        return result;
    }
    /**
     * Thrown when an address is invalid.
     *
     * @example
     * ```ts twoslash
     * import { Address } from 'ox'
     *
     * Address.from('0x123')
     * // @error: Address.InvalidAddressError: Address `0x123` is invalid.
     * ```
     */
    class InvalidAddressError extends BaseError {
        constructor({ address, cause }) {
            super(`Address "${address}" is invalid.`, {
                cause,
            });
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidAddressError'
            });
        }
    }
    /** Thrown when an address is not a 20 byte (40 hexadecimal character) value. */
    class InvalidInputError extends BaseError {
        constructor() {
            super('Address is not a 20 byte (40 hexadecimal character) value.');
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidInputError'
            });
        }
    }
    /** Thrown when an address does not match its checksum counterpart. */
    class InvalidChecksumError extends BaseError {
        constructor() {
            super('Address does not match its checksum counterpart.');
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'Address.InvalidChecksumError'
            });
        }
    }

    const arrayRegex = /^(.*)\[([0-9]*)\]$/;
    // `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`
    // https://regexr.com/6va55
    const bytesRegex = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;
    // `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`
    // https://regexr.com/6v8hp
    const integerRegex = /^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;

    /**
     * Encodes an array of primitive values to a [packed ABI encoding](https://docs.soliditylang.org/en/latest/abi-spec.html#non-standard-packed-mode).
     *
     * @example
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     *
     * const encoded = AbiParameters.encodePacked(
     *   ['address', 'string'],
     *   ['0xd8da6bf26964af9d7eed9e03e53415d37aa96045', 'hello world'],
     * )
     * // @log: '0xd8da6bf26964af9d7eed9e03e53415d37aa9604568656c6c6f20776f726c64'
     * ```
     *
     * @param types - Set of ABI types to pack encode.
     * @param values - The set of primitive values that correspond to the ABI types defined in `types`.
     * @returns The encoded packed data.
     */
    function encodePacked(types, values) {
        if (types.length !== values.length)
            throw new LengthMismatchError({
                expectedLength: types.length,
                givenLength: values.length,
            });
        const data = [];
        for (let i = 0; i < types.length; i++) {
            const type = types[i];
            const value = values[i];
            data.push(encodePacked.encode(type, value));
        }
        return concat(...data);
    }
    (function (encodePacked) {
        // eslint-disable-next-line jsdoc/require-jsdoc
        function encode(type, value, isArray = false) {
            if (type === 'address') {
                const address = value;
                assert(address);
                return padLeft(address.toLowerCase(), isArray ? 32 : 0);
            }
            if (type === 'string')
                return fromString(value);
            if (type === 'bytes')
                return value;
            if (type === 'bool')
                return padLeft(fromBoolean(value), isArray ? 32 : 1);
            const intMatch = type.match(integerRegex);
            if (intMatch) {
                const [_type, baseType, bits = '256'] = intMatch;
                const size = Number.parseInt(bits) / 8;
                return fromNumber(value, {
                    size: isArray ? 32 : size,
                    signed: baseType === 'int',
                });
            }
            const bytesMatch = type.match(bytesRegex);
            if (bytesMatch) {
                const [_type, size] = bytesMatch;
                if (Number.parseInt(size) !== (value.length - 2) / 2)
                    throw new BytesSizeMismatchError({
                        expectedSize: Number.parseInt(size),
                        value: value,
                    });
                return padRight(value, isArray ? 32 : 0);
            }
            const arrayMatch = type.match(arrayRegex);
            if (arrayMatch && Array.isArray(value)) {
                const [_type, childType] = arrayMatch;
                const data = [];
                for (let i = 0; i < value.length; i++) {
                    data.push(encode(childType, value[i], true));
                }
                if (data.length === 0)
                    return '0x';
                return concat(...data);
            }
            throw new InvalidTypeError(type);
        }
        encodePacked.encode = encode;
    })(encodePacked || (encodePacked = {}));
    /**
     * The size of the bytes value does not match the size specified in the corresponding ABI parameter.
     *
     * ### Example
     *
     * ```ts twoslash
     * // @noErrors
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from('bytes8'), [['0xdeadbeefdeadbeefdeadbeef']])
     * //                                            ↑ expected: 8 bytes  ↑ ❌ size: 12 bytes
     * // @error: BytesSizeMismatchError: Size of bytes "0xdeadbeefdeadbeefdeadbeef"
     * // @error: (bytes12) does not match expected size (bytes8).
     * ```
     *
     * ### Solution
     *
     * Pass a bytes value of the correct size.
     *
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from(['bytes8']), ['0xdeadbeefdeadbeef'])
     * //                                                       ↑ ✅ size: 8 bytes
     * ```
     */
    class BytesSizeMismatchError extends BaseError {
        constructor({ expectedSize, value, }) {
            super(`Size of bytes "${value}" (bytes${size(value)}) does not match expected size (bytes${expectedSize}).`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.BytesSizeMismatchError'
            });
        }
    }
    /**
     * The length of the values to encode does not match the length of the ABI parameters.
     *
     * ### Example
     *
     * ```ts twoslash
     * // @noErrors
     * import { AbiParameters } from 'ox'
     * // ---cut---
     * AbiParameters.encode(AbiParameters.from(['string', 'uint256']), ['hello'])
     * // @error: LengthMismatchError: ABI encoding params/values length mismatch.
     * // @error: Expected length (params): 2
     * // @error: Given length (values): 1
     * ```
     *
     * ### Solution
     *
     * Pass the correct number of values to encode.
     *
     * ### Solution
     *
     * Pass a [valid ABI type](https://docs.soliditylang.org/en/develop/abi-spec.html#types).
     */
    class LengthMismatchError extends BaseError {
        constructor({ expectedLength, givenLength, }) {
            super([
                'ABI encoding parameters/values length mismatch.',
                `Expected length (parameters): ${expectedLength}`,
                `Given length (values): ${givenLength}`,
            ].join('\n'));
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.LengthMismatchError'
            });
        }
    }
    /**
     * Throws when the ABI parameter type is invalid.
     *
     * @example
     * ```ts twoslash
     * import { AbiParameters } from 'ox'
     *
     * AbiParameters.decode([{ type: 'lol' }], '0x00000000000000000000000000000000000000000000000000000000000010f')
     * //                             ↑ ❌ invalid type
     * // @error: AbiParameters.InvalidTypeError: Type `lol` is not a valid ABI Type.
     * ```
     */
    class InvalidTypeError extends BaseError {
        constructor(type) {
            super(`Type \`${type}\` is not a valid ABI Type.`);
            Object.defineProperty(this, "name", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 'AbiParameters.InvalidTypeError'
            });
        }
    }

    /**
     * HMAC: RFC2104 message authentication code.
     * @module
     */
    class HMAC extends Hash {
        constructor(hash, _key) {
            super();
            this.finished = false;
            this.destroyed = false;
            ahash(hash);
            const key = toBytes(_key);
            this.iHash = hash.create();
            if (typeof this.iHash.update !== 'function')
                throw new Error('Expected instance of class which extends utils.Hash');
            this.blockLen = this.iHash.blockLen;
            this.outputLen = this.iHash.outputLen;
            const blockLen = this.blockLen;
            const pad = new Uint8Array(blockLen);
            // blockLen can be bigger than outputLen
            pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);
            for (let i = 0; i < pad.length; i++)
                pad[i] ^= 0x36;
            this.iHash.update(pad);
            // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone
            this.oHash = hash.create();
            // Undo internal XOR && apply outer XOR
            for (let i = 0; i < pad.length; i++)
                pad[i] ^= 0x36 ^ 0x5c;
            this.oHash.update(pad);
            pad.fill(0);
        }
        update(buf) {
            aexists(this);
            this.iHash.update(buf);
            return this;
        }
        digestInto(out) {
            aexists(this);
            abytes$1(out, this.outputLen);
            this.finished = true;
            this.iHash.digestInto(out);
            this.oHash.update(out);
            this.oHash.digestInto(out);
            this.destroy();
        }
        digest() {
            const out = new Uint8Array(this.oHash.outputLen);
            this.digestInto(out);
            return out;
        }
        _cloneInto(to) {
            // Create new instance without calling constructor since key already in state and we don't know it.
            to || (to = Object.create(Object.getPrototypeOf(this), {}));
            const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;
            to = to;
            to.finished = finished;
            to.destroyed = destroyed;
            to.blockLen = blockLen;
            to.outputLen = outputLen;
            to.oHash = oHash._cloneInto(to.oHash);
            to.iHash = iHash._cloneInto(to.iHash);
            return to;
        }
        destroy() {
            this.destroyed = true;
            this.oHash.destroy();
            this.iHash.destroy();
        }
    }
    /**
     * HMAC: RFC2104 message authentication code.
     * @param hash - function that would be used e.g. sha256
     * @param key - message key
     * @param message - message data
     * @example
     * import { hmac } from '@noble/hashes/hmac';
     * import { sha256 } from '@noble/hashes/sha2';
     * const mac1 = hmac(sha256, 'key', 'message');
     */
    const hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();
    hmac.create = (hash, key) => new HMAC(hash, key);

    /**
     * Utils for modular division and finite fields.
     * A finite field over 11 is integer number operations `mod 11`.
     * There is no division: it is replaced by modular multiplicative inverse.
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    // prettier-ignore
    const _0n$2 = BigInt(0), _1n$3 = BigInt(1), _2n$1 = /* @__PURE__ */ BigInt(2), _3n$1 = /* @__PURE__ */ BigInt(3);
    // prettier-ignore
    const _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _8n = /* @__PURE__ */ BigInt(8);
    // Calculates a modulo b
    function mod(a, b) {
        const result = a % b;
        return result >= _0n$2 ? result : b + result;
    }
    /**
     * Efficiently raise num to power and do modular division.
     * Unsafe in some contexts: uses ladder, so can expose bigint bits.
     * @todo use field version && remove
     * @example
     * pow(2n, 6n, 11n) // 64n % 11n == 9n
     */
    function pow(num, power, modulo) {
        if (power < _0n$2)
            throw new Error('invalid exponent, negatives unsupported');
        if (modulo <= _0n$2)
            throw new Error('invalid modulus');
        if (modulo === _1n$3)
            return _0n$2;
        let res = _1n$3;
        while (power > _0n$2) {
            if (power & _1n$3)
                res = (res * num) % modulo;
            num = (num * num) % modulo;
            power >>= _1n$3;
        }
        return res;
    }
    /** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */
    function pow2(x, power, modulo) {
        let res = x;
        while (power-- > _0n$2) {
            res *= res;
            res %= modulo;
        }
        return res;
    }
    /**
     * Inverses number over modulo.
     * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).
     */
    function invert(number, modulo) {
        if (number === _0n$2)
            throw new Error('invert: expected non-zero number');
        if (modulo <= _0n$2)
            throw new Error('invert: expected positive modulus, got ' + modulo);
        // Fermat's little theorem "CT-like" version inv(n) = n^(m-2) mod m is 30x slower.
        let a = mod(number, modulo);
        let b = modulo;
        // prettier-ignore
        let x = _0n$2, u = _1n$3;
        while (a !== _0n$2) {
            // JIT applies optimization if those two lines follow each other
            const q = b / a;
            const r = b % a;
            const m = x - u * q;
            // prettier-ignore
            b = a, a = r, x = u, u = m;
        }
        const gcd = b;
        if (gcd !== _1n$3)
            throw new Error('invert: does not exist');
        return mod(x, modulo);
    }
    /**
     * Tonelli-Shanks square root search algorithm.
     * 1. https://eprint.iacr.org/2012/685.pdf (page 12)
     * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks
     * Will start an infinite loop if field order P is not prime.
     * @param P field order
     * @returns function that takes field Fp (created from P) and number n
     */
    function tonelliShanks(P) {
        // Legendre constant: used to calculate Legendre symbol (a | p),
        // which denotes the value of a^((p-1)/2) (mod p).
        // (a | p) ≡ 1    if a is a square (mod p)
        // (a | p) ≡ -1   if a is not a square (mod p)
        // (a | p) ≡ 0    if a ≡ 0 (mod p)
        const legendreC = (P - _1n$3) / _2n$1;
        let Q, S, Z;
        // Step 1: By factoring out powers of 2 from p - 1,
        // find q and s such that p - 1 = q*(2^s) with q odd
        for (Q = P - _1n$3, S = 0; Q % _2n$1 === _0n$2; Q /= _2n$1, S++)
            ;
        // Step 2: Select a non-square z such that (z | p) ≡ -1 and set c ≡ zq
        for (Z = _2n$1; Z < P && pow(Z, legendreC, P) !== P - _1n$3; Z++) {
            // Crash instead of infinity loop, we cannot reasonable count until P.
            if (Z > 1000)
                throw new Error('Cannot find square root: likely non-prime P');
        }
        // Fast-path
        if (S === 1) {
            const p1div4 = (P + _1n$3) / _4n;
            return function tonelliFast(Fp, n) {
                const root = Fp.pow(n, p1div4);
                if (!Fp.eql(Fp.sqr(root), n))
                    throw new Error('Cannot find square root');
                return root;
            };
        }
        // Slow-path
        const Q1div2 = (Q + _1n$3) / _2n$1;
        return function tonelliSlow(Fp, n) {
            // Step 0: Check that n is indeed a square: (n | p) should not be ≡ -1
            if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE))
                throw new Error('Cannot find square root');
            let r = S;
            // TODO: will fail at Fp2/etc
            let g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b
            let x = Fp.pow(n, Q1div2); // first guess at the square root
            let b = Fp.pow(n, Q); // first guess at the fudge factor
            while (!Fp.eql(b, Fp.ONE)) {
                if (Fp.eql(b, Fp.ZERO))
                    return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)
                // Find m such b^(2^m)==1
                let m = 1;
                for (let t2 = Fp.sqr(b); m < r; m++) {
                    if (Fp.eql(t2, Fp.ONE))
                        break;
                    t2 = Fp.sqr(t2); // t2 *= t2
                }
                // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow
                const ge = Fp.pow(g, _1n$3 << BigInt(r - m - 1)); // ge = 2^(r-m-1)
                g = Fp.sqr(ge); // g = ge * ge
                x = Fp.mul(x, ge); // x *= ge
                b = Fp.mul(b, g); // b *= g
                r = m;
            }
            return x;
        };
    }
    /**
     * Square root for a finite field. It will try to check if optimizations are applicable and fall back to 4:
     *
     * 1. P ≡ 3 (mod 4)
     * 2. P ≡ 5 (mod 8)
     * 3. P ≡ 9 (mod 16)
     * 4. Tonelli-Shanks algorithm
     *
     * Different algorithms can give different roots, it is up to user to decide which one they want.
     * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).
     */
    function FpSqrt(P) {
        // P ≡ 3 (mod 4)
        // √n = n^((P+1)/4)
        if (P % _4n === _3n$1) {
            // Not all roots possible!
            // const ORDER =
            //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;
            // const NUM = 72057594037927816n;
            const p1div4 = (P + _1n$3) / _4n;
            return function sqrt3mod4(Fp, n) {
                const root = Fp.pow(n, p1div4);
                // Throw if root**2 != n
                if (!Fp.eql(Fp.sqr(root), n))
                    throw new Error('Cannot find square root');
                return root;
            };
        }
        // Atkin algorithm for q ≡ 5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)
        if (P % _8n === _5n) {
            const c1 = (P - _5n) / _8n;
            return function sqrt5mod8(Fp, n) {
                const n2 = Fp.mul(n, _2n$1);
                const v = Fp.pow(n2, c1);
                const nv = Fp.mul(n, v);
                const i = Fp.mul(Fp.mul(nv, _2n$1), v);
                const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));
                if (!Fp.eql(Fp.sqr(root), n))
                    throw new Error('Cannot find square root');
                return root;
            };
        }
        // Other cases: Tonelli-Shanks algorithm
        return tonelliShanks(P);
    }
    // prettier-ignore
    const FIELD_FIELDS = [
        'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',
        'eql', 'add', 'sub', 'mul', 'pow', 'div',
        'addN', 'subN', 'mulN', 'sqrN'
    ];
    function validateField(field) {
        const initial = {
            ORDER: 'bigint',
            MASK: 'bigint',
            BYTES: 'isSafeInteger',
            BITS: 'isSafeInteger',
        };
        const opts = FIELD_FIELDS.reduce((map, val) => {
            map[val] = 'function';
            return map;
        }, initial);
        return validateObject(field, opts);
    }
    // Generic field functions
    /**
     * Same as `pow` but for Fp: non-constant-time.
     * Unsafe in some contexts: uses ladder, so can expose bigint bits.
     */
    function FpPow(f, num, power) {
        // Should have same speed as pow for bigints
        // TODO: benchmark!
        if (power < _0n$2)
            throw new Error('invalid exponent, negatives unsupported');
        if (power === _0n$2)
            return f.ONE;
        if (power === _1n$3)
            return num;
        let p = f.ONE;
        let d = num;
        while (power > _0n$2) {
            if (power & _1n$3)
                p = f.mul(p, d);
            d = f.sqr(d);
            power >>= _1n$3;
        }
        return p;
    }
    /**
     * Efficiently invert an array of Field elements.
     * `inv(0)` will return `undefined` here: make sure to throw an error.
     */
    function FpInvertBatch(f, nums) {
        const tmp = new Array(nums.length);
        // Walk from first to last, multiply them by each other MOD p
        const lastMultiplied = nums.reduce((acc, num, i) => {
            if (f.is0(num))
                return acc;
            tmp[i] = acc;
            return f.mul(acc, num);
        }, f.ONE);
        // Invert last element
        const inverted = f.inv(lastMultiplied);
        // Walk from last to first, multiply them by inverted each other MOD p
        nums.reduceRight((acc, num, i) => {
            if (f.is0(num))
                return acc;
            tmp[i] = f.mul(acc, tmp[i]);
            return f.mul(acc, num);
        }, inverted);
        return tmp;
    }
    // CURVE.n lengths
    function nLength(n, nBitLength) {
        // Bit size, byte size of CURVE.n
        const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;
        const nByteLength = Math.ceil(_nBitLength / 8);
        return { nBitLength: _nBitLength, nByteLength };
    }
    /**
     * Initializes a finite field over prime.
     * Major performance optimizations:
     * * a) denormalized operations like mulN instead of mul
     * * b) same object shape: never add or remove keys
     * * c) Object.freeze
     * Fragile: always run a benchmark on a change.
     * Security note: operations don't check 'isValid' for all elements for performance reasons,
     * it is caller responsibility to check this.
     * This is low-level code, please make sure you know what you're doing.
     * @param ORDER prime positive bigint
     * @param bitLen how many bits the field consumes
     * @param isLE (def: false) if encoding / decoding should be in little-endian
     * @param redef optional faster redefinitions of sqrt and other methods
     */
    function Field(ORDER, bitLen, isLE = false, redef = {}) {
        if (ORDER <= _0n$2)
            throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);
        const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);
        if (BYTES > 2048)
            throw new Error('invalid field: expected ORDER of <= 2048 bytes');
        let sqrtP; // cached sqrtP
        const f = Object.freeze({
            ORDER,
            isLE,
            BITS,
            BYTES,
            MASK: bitMask(BITS),
            ZERO: _0n$2,
            ONE: _1n$3,
            create: (num) => mod(num, ORDER),
            isValid: (num) => {
                if (typeof num !== 'bigint')
                    throw new Error('invalid field element: expected bigint, got ' + typeof num);
                return _0n$2 <= num && num < ORDER; // 0 is valid element, but it's not invertible
            },
            is0: (num) => num === _0n$2,
            isOdd: (num) => (num & _1n$3) === _1n$3,
            neg: (num) => mod(-num, ORDER),
            eql: (lhs, rhs) => lhs === rhs,
            sqr: (num) => mod(num * num, ORDER),
            add: (lhs, rhs) => mod(lhs + rhs, ORDER),
            sub: (lhs, rhs) => mod(lhs - rhs, ORDER),
            mul: (lhs, rhs) => mod(lhs * rhs, ORDER),
            pow: (num, power) => FpPow(f, num, power),
            div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),
            // Same as above, but doesn't normalize
            sqrN: (num) => num * num,
            addN: (lhs, rhs) => lhs + rhs,
            subN: (lhs, rhs) => lhs - rhs,
            mulN: (lhs, rhs) => lhs * rhs,
            inv: (num) => invert(num, ORDER),
            sqrt: redef.sqrt ||
                ((n) => {
                    if (!sqrtP)
                        sqrtP = FpSqrt(ORDER);
                    return sqrtP(f, n);
                }),
            invertBatch: (lst) => FpInvertBatch(f, lst),
            // TODO: do we really need constant cmov?
            // We don't have const-time bigints anyway, so probably will be not very useful
            cmov: (a, b, c) => (c ? b : a),
            toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),
            fromBytes: (bytes) => {
                if (bytes.length !== BYTES)
                    throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);
                return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);
            },
        });
        return Object.freeze(f);
    }
    /**
     * Returns total number of bytes consumed by the field element.
     * For example, 32 bytes for usual 256-bit weierstrass curve.
     * @param fieldOrder number of field elements, usually CURVE.n
     * @returns byte length of field
     */
    function getFieldBytesLength(fieldOrder) {
        if (typeof fieldOrder !== 'bigint')
            throw new Error('field order must be bigint');
        const bitLength = fieldOrder.toString(2).length;
        return Math.ceil(bitLength / 8);
    }
    /**
     * Returns minimal amount of bytes that can be safely reduced
     * by field order.
     * Should be 2^-128 for 128-bit curve such as P256.
     * @param fieldOrder number of field elements, usually CURVE.n
     * @returns byte length of target hash
     */
    function getMinHashLength(fieldOrder) {
        const length = getFieldBytesLength(fieldOrder);
        return length + Math.ceil(length / 2);
    }
    /**
     * "Constant-time" private key generation utility.
     * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF
     * and convert them into private scalar, with the modulo bias being negligible.
     * Needs at least 48 bytes of input for 32-byte private key.
     * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/
     * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final
     * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5
     * @param hash hash output from SHA3 or a similar function
     * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)
     * @param isLE interpret hash bytes as LE num
     * @returns valid private scalar
     */
    function mapHashToField(key, fieldOrder, isLE = false) {
        const len = key.length;
        const fieldLen = getFieldBytesLength(fieldOrder);
        const minLen = getMinHashLength(fieldOrder);
        // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.
        if (len < 16 || len < minLen || len > 1024)
            throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);
        const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);
        // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0
        const reduced = mod(num, fieldOrder - _1n$3) + _1n$3;
        return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);
    }

    /**
     * Methods for elliptic curve multiplication by scalars.
     * Contains wNAF, pippenger
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    const _0n$1 = BigInt(0);
    const _1n$2 = BigInt(1);
    function constTimeNegate(condition, item) {
        const neg = item.negate();
        return condition ? neg : item;
    }
    function validateW(W, bits) {
        if (!Number.isSafeInteger(W) || W <= 0 || W > bits)
            throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);
    }
    function calcWOpts(W, bits) {
        validateW(W, bits);
        const windows = Math.ceil(bits / W) + 1; // +1, because
        const windowSize = 2 ** (W - 1); // -1 because we skip zero
        return { windows, windowSize };
    }
    function validateMSMPoints(points, c) {
        if (!Array.isArray(points))
            throw new Error('array expected');
        points.forEach((p, i) => {
            if (!(p instanceof c))
                throw new Error('invalid point at index ' + i);
        });
    }
    function validateMSMScalars(scalars, field) {
        if (!Array.isArray(scalars))
            throw new Error('array of scalars expected');
        scalars.forEach((s, i) => {
            if (!field.isValid(s))
                throw new Error('invalid scalar at index ' + i);
        });
    }
    // Since points in different groups cannot be equal (different object constructor),
    // we can have single place to store precomputes
    const pointPrecomputes = new WeakMap();
    const pointWindowSizes = new WeakMap(); // This allows use make points immutable (nothing changes inside)
    function getW(P) {
        return pointWindowSizes.get(P) || 1;
    }
    /**
     * Elliptic curve multiplication of Point by scalar. Fragile.
     * Scalars should always be less than curve order: this should be checked inside of a curve itself.
     * Creates precomputation tables for fast multiplication:
     * - private scalar is split by fixed size windows of W bits
     * - every window point is collected from window's table & added to accumulator
     * - since windows are different, same point inside tables won't be accessed more than once per calc
     * - each multiplication is 'Math.ceil(CURVE_ORDER / 𝑊) + 1' point additions (fixed for any scalar)
     * - +1 window is neccessary for wNAF
     * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication
     *
     * @todo Research returning 2d JS array of windows, instead of a single window.
     * This would allow windows to be in different memory locations
     */
    function wNAF(c, bits) {
        return {
            constTimeNegate,
            hasPrecomputes(elm) {
                return getW(elm) !== 1;
            },
            // non-const time multiplication ladder
            unsafeLadder(elm, n, p = c.ZERO) {
                let d = elm;
                while (n > _0n$1) {
                    if (n & _1n$2)
                        p = p.add(d);
                    d = d.double();
                    n >>= _1n$2;
                }
                return p;
            },
            /**
             * Creates a wNAF precomputation window. Used for caching.
             * Default window size is set by `utils.precompute()` and is equal to 8.
             * Number of precomputed points depends on the curve size:
             * 2^(𝑊−1) * (Math.ceil(𝑛 / 𝑊) + 1), where:
             * - 𝑊 is the window size
             * - 𝑛 is the bitlength of the curve order.
             * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.
             * @param elm Point instance
             * @param W window size
             * @returns precomputed point tables flattened to a single array
             */
            precomputeWindow(elm, W) {
                const { windows, windowSize } = calcWOpts(W, bits);
                const points = [];
                let p = elm;
                let base = p;
                for (let window = 0; window < windows; window++) {
                    base = p;
                    points.push(base);
                    // =1, because we skip zero
                    for (let i = 1; i < windowSize; i++) {
                        base = base.add(p);
                        points.push(base);
                    }
                    p = base.double();
                }
                return points;
            },
            /**
             * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.
             * @param W window size
             * @param precomputes precomputed tables
             * @param n scalar (we don't check here, but should be less than curve order)
             * @returns real and fake (for const-time) points
             */
            wNAF(W, precomputes, n) {
                // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise
                // But need to carefully remove other checks before wNAF. ORDER == bits here
                const { windows, windowSize } = calcWOpts(W, bits);
                let p = c.ZERO;
                let f = c.BASE;
                const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.
                const maxNumber = 2 ** W;
                const shiftBy = BigInt(W);
                for (let window = 0; window < windows; window++) {
                    const offset = window * windowSize;
                    // Extract W bits.
                    let wbits = Number(n & mask);
                    // Shift number by W bits.
                    n >>= shiftBy;
                    // If the bits are bigger than max size, we'll split those.
                    // +224 => 256 - 32
                    if (wbits > windowSize) {
                        wbits -= maxNumber;
                        n += _1n$2;
                    }
                    // This code was first written with assumption that 'f' and 'p' will never be infinity point:
                    // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,
                    // there is negate now: it is possible that negated element from low value
                    // would be the same as high element, which will create carry into next window.
                    // It's not obvious how this can fail, but still worth investigating later.
                    // Check if we're onto Zero point.
                    // Add random point inside current window to f.
                    const offset1 = offset;
                    const offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero
                    const cond1 = window % 2 !== 0;
                    const cond2 = wbits < 0;
                    if (wbits === 0) {
                        // The most important part for const-time getPublicKey
                        f = f.add(constTimeNegate(cond1, precomputes[offset1]));
                    }
                    else {
                        p = p.add(constTimeNegate(cond2, precomputes[offset2]));
                    }
                }
                // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()
                // Even if the variable is still unused, there are some checks which will
                // throw an exception, so compiler needs to prove they won't happen, which is hard.
                // At this point there is a way to F be infinity-point even if p is not,
                // which makes it less const-time: around 1 bigint multiply.
                return { p, f };
            },
            /**
             * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.
             * @param W window size
             * @param precomputes precomputed tables
             * @param n scalar (we don't check here, but should be less than curve order)
             * @param acc accumulator point to add result of multiplication
             * @returns point
             */
            wNAFUnsafe(W, precomputes, n, acc = c.ZERO) {
                const { windows, windowSize } = calcWOpts(W, bits);
                const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.
                const maxNumber = 2 ** W;
                const shiftBy = BigInt(W);
                for (let window = 0; window < windows; window++) {
                    const offset = window * windowSize;
                    if (n === _0n$1)
                        break; // No need to go over empty scalar
                    // Extract W bits.
                    let wbits = Number(n & mask);
                    // Shift number by W bits.
                    n >>= shiftBy;
                    // If the bits are bigger than max size, we'll split those.
                    // +224 => 256 - 32
                    if (wbits > windowSize) {
                        wbits -= maxNumber;
                        n += _1n$2;
                    }
                    if (wbits === 0)
                        continue;
                    let curr = precomputes[offset + Math.abs(wbits) - 1]; // -1 because we skip zero
                    if (wbits < 0)
                        curr = curr.negate();
                    // NOTE: by re-using acc, we can save a lot of additions in case of MSM
                    acc = acc.add(curr);
                }
                return acc;
            },
            getPrecomputes(W, P, transform) {
                // Calculate precomputes on a first run, reuse them after
                let comp = pointPrecomputes.get(P);
                if (!comp) {
                    comp = this.precomputeWindow(P, W);
                    if (W !== 1)
                        pointPrecomputes.set(P, transform(comp));
                }
                return comp;
            },
            wNAFCached(P, n, transform) {
                const W = getW(P);
                return this.wNAF(W, this.getPrecomputes(W, P, transform), n);
            },
            wNAFCachedUnsafe(P, n, transform, prev) {
                const W = getW(P);
                if (W === 1)
                    return this.unsafeLadder(P, n, prev); // For W=1 ladder is ~x2 faster
                return this.wNAFUnsafe(W, this.getPrecomputes(W, P, transform), n, prev);
            },
            // We calculate precomputes for elliptic curve point multiplication
            // using windowed method. This specifies window size and
            // stores precomputed values. Usually only base point would be precomputed.
            setWindowSize(P, W) {
                validateW(W, bits);
                pointWindowSizes.set(P, W);
                pointPrecomputes.delete(P);
            },
        };
    }
    /**
     * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).
     * 30x faster vs naive addition on L=4096, 10x faster with precomputes.
     * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.
     * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.
     * @param c Curve Point constructor
     * @param fieldN field over CURVE.N - important that it's not over CURVE.P
     * @param points array of L curve points
     * @param scalars array of L scalars (aka private keys / bigints)
     */
    function pippenger(c, fieldN, points, scalars) {
        // If we split scalars by some window (let's say 8 bits), every chunk will only
        // take 256 buckets even if there are 4096 scalars, also re-uses double.
        // TODO:
        // - https://eprint.iacr.org/2024/750.pdf
        // - https://tches.iacr.org/index.php/TCHES/article/view/10287
        // 0 is accepted in scalars
        validateMSMPoints(points, c);
        validateMSMScalars(scalars, fieldN);
        if (points.length !== scalars.length)
            throw new Error('arrays of points and scalars must have equal length');
        const zero = c.ZERO;
        const wbits = bitLen(BigInt(points.length));
        const windowSize = wbits > 12 ? wbits - 3 : wbits > 4 ? wbits - 2 : wbits ? 2 : 1; // in bits
        const MASK = (1 << windowSize) - 1;
        const buckets = new Array(MASK + 1).fill(zero); // +1 for zero array
        const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;
        let sum = zero;
        for (let i = lastBits; i >= 0; i -= windowSize) {
            buckets.fill(zero);
            for (let j = 0; j < scalars.length; j++) {
                const scalar = scalars[j];
                const wbits = Number((scalar >> BigInt(i)) & BigInt(MASK));
                buckets[wbits] = buckets[wbits].add(points[j]);
            }
            let resI = zero; // not using this will do small speed-up, but will lose ct
            // Skip first bucket, because it is zero
            for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {
                sumI = sumI.add(buckets[j]);
                resI = resI.add(sumI);
            }
            sum = sum.add(resI);
            if (i !== 0)
                for (let j = 0; j < windowSize; j++)
                    sum = sum.double();
        }
        return sum;
    }
    function validateBasic(curve) {
        validateField(curve.Fp);
        validateObject(curve, {
            n: 'bigint',
            h: 'bigint',
            Gx: 'field',
            Gy: 'field',
        }, {
            nBitLength: 'isSafeInteger',
            nByteLength: 'isSafeInteger',
        });
        // Set defaults
        return Object.freeze({
            ...nLength(curve.n, curve.nBitLength),
            ...curve,
            ...{ p: curve.Fp.ORDER },
        });
    }

    /**
     * Short Weierstrass curve methods. The formula is: y² = x³ + ax + b.
     *
     * ### Design rationale for types
     *
     * * Interaction between classes from different curves should fail:
     *   `k256.Point.BASE.add(p256.Point.BASE)`
     * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime
     * * Different calls of `curve()` would return different classes -
     *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,
     *   it won't affect others
     *
     * TypeScript can't infer types for classes created inside a function. Classes is one instance
     * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create
     * unique type for every function call.
     *
     * We can use generic types via some param, like curve opts, but that would:
     *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)
     *     which is hard to debug.
     *     2. Params can be generic and we can't enforce them to be constant value:
     *     if somebody creates curve from non-constant params,
     *     it would be allowed to interact with other curves with non-constant params
     *
     * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    function validateSigVerOpts(opts) {
        if (opts.lowS !== undefined)
            abool('lowS', opts.lowS);
        if (opts.prehash !== undefined)
            abool('prehash', opts.prehash);
    }
    function validatePointOpts(curve) {
        const opts = validateBasic(curve);
        validateObject(opts, {
            a: 'field',
            b: 'field',
        }, {
            allowedPrivateKeyLengths: 'array',
            wrapPrivateKey: 'boolean',
            isTorsionFree: 'function',
            clearCofactor: 'function',
            allowInfinityPoint: 'boolean',
            fromBytes: 'function',
            toBytes: 'function',
        });
        const { endo, Fp, a } = opts;
        if (endo) {
            if (!Fp.eql(a, Fp.ZERO)) {
                throw new Error('invalid endomorphism, can only be defined for Koblitz curves that have a=0');
            }
            if (typeof endo !== 'object' ||
                typeof endo.beta !== 'bigint' ||
                typeof endo.splitScalar !== 'function') {
                throw new Error('invalid endomorphism, expected beta: bigint and splitScalar: function');
            }
        }
        return Object.freeze({ ...opts });
    }
    const { bytesToNumberBE: b2n, hexToBytes: h2b } = ut$3;
    class DERErr extends Error {
        constructor(m = '') {
            super(m);
        }
    }
    /**
     * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:
     *
     *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]
     *
     * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html
     */
    const DER = {
        // asn.1 DER encoding utils
        Err: DERErr,
        // Basic building block is TLV (Tag-Length-Value)
        _tlv: {
            encode: (tag, data) => {
                const { Err: E } = DER;
                if (tag < 0 || tag > 256)
                    throw new E('tlv.encode: wrong tag');
                if (data.length & 1)
                    throw new E('tlv.encode: unpadded data');
                const dataLen = data.length / 2;
                const len = numberToHexUnpadded(dataLen);
                if ((len.length / 2) & 128)
                    throw new E('tlv.encode: long form length too big');
                // length of length with long form flag
                const lenLen = dataLen > 127 ? numberToHexUnpadded((len.length / 2) | 128) : '';
                const t = numberToHexUnpadded(tag);
                return t + lenLen + len + data;
            },
            // v - value, l - left bytes (unparsed)
            decode(tag, data) {
                const { Err: E } = DER;
                let pos = 0;
                if (tag < 0 || tag > 256)
                    throw new E('tlv.encode: wrong tag');
                if (data.length < 2 || data[pos++] !== tag)
                    throw new E('tlv.decode: wrong tlv');
                const first = data[pos++];
                const isLong = !!(first & 128); // First bit of first length byte is flag for short/long form
                let length = 0;
                if (!isLong)
                    length = first;
                else {
                    // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]
                    const lenLen = first & 127;
                    if (!lenLen)
                        throw new E('tlv.decode(long): indefinite length not supported');
                    if (lenLen > 4)
                        throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js
                    const lengthBytes = data.subarray(pos, pos + lenLen);
                    if (lengthBytes.length !== lenLen)
                        throw new E('tlv.decode: length bytes not complete');
                    if (lengthBytes[0] === 0)
                        throw new E('tlv.decode(long): zero leftmost byte');
                    for (const b of lengthBytes)
                        length = (length << 8) | b;
                    pos += lenLen;
                    if (length < 128)
                        throw new E('tlv.decode(long): not minimal encoding');
                }
                const v = data.subarray(pos, pos + length);
                if (v.length !== length)
                    throw new E('tlv.decode: wrong value length');
                return { v, l: data.subarray(pos + length) };
            },
        },
        // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,
        // since we always use positive integers here. It must always be empty:
        // - add zero byte if exists
        // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)
        _int: {
            encode(num) {
                const { Err: E } = DER;
                if (num < _0n)
                    throw new E('integer: negative integers are not allowed');
                let hex = numberToHexUnpadded(num);
                // Pad with zero byte if negative flag is present
                if (Number.parseInt(hex[0], 16) & 0b1000)
                    hex = '00' + hex;
                if (hex.length & 1)
                    throw new E('unexpected DER parsing assertion: unpadded hex');
                return hex;
            },
            decode(data) {
                const { Err: E } = DER;
                if (data[0] & 128)
                    throw new E('invalid signature integer: negative');
                if (data[0] === 0x00 && !(data[1] & 128))
                    throw new E('invalid signature integer: unnecessary leading zero');
                return b2n(data);
            },
        },
        toSig(hex) {
            // parse DER signature
            const { Err: E, _int: int, _tlv: tlv } = DER;
            const data = typeof hex === 'string' ? h2b(hex) : hex;
            abytes(data);
            const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);
            if (seqLeftBytes.length)
                throw new E('invalid signature: left bytes after parsing');
            const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);
            const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);
            if (sLeftBytes.length)
                throw new E('invalid signature: left bytes after parsing');
            return { r: int.decode(rBytes), s: int.decode(sBytes) };
        },
        hexFromSig(sig) {
            const { _tlv: tlv, _int: int } = DER;
            const rs = tlv.encode(0x02, int.encode(sig.r));
            const ss = tlv.encode(0x02, int.encode(sig.s));
            const seq = rs + ss;
            return tlv.encode(0x30, seq);
        },
    };
    // Be friendly to bad ECMAScript parsers by not using bigint literals
    // prettier-ignore
    const _0n = BigInt(0), _1n$1 = BigInt(1); BigInt(2); const _3n = BigInt(3); BigInt(4);
    function weierstrassPoints(opts) {
        const CURVE = validatePointOpts(opts);
        const { Fp } = CURVE; // All curves has same field / group length as for now, but they can differ
        const Fn = Field(CURVE.n, CURVE.nBitLength);
        const toBytes = CURVE.toBytes ||
            ((_c, point, _isCompressed) => {
                const a = point.toAffine();
                return concatBytes(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));
            });
        const fromBytes = CURVE.fromBytes ||
            ((bytes) => {
                // const head = bytes[0];
                const tail = bytes.subarray(1);
                // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');
                const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));
                const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));
                return { x, y };
            });
        /**
         * y² = x³ + ax + b: Short weierstrass curve formula
         * @returns y²
         */
        function weierstrassEquation(x) {
            const { a, b } = CURVE;
            const x2 = Fp.sqr(x); // x * x
            const x3 = Fp.mul(x2, x); // x2 * x
            return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x3 + a * x + b
        }
        // Validate whether the passed curve params are valid.
        // We check if curve equation works for generator point.
        // `assertValidity()` won't work: `isTorsionFree()` is not available at this point in bls12-381.
        // ProjectivePoint class has not been initialized yet.
        if (!Fp.eql(Fp.sqr(CURVE.Gy), weierstrassEquation(CURVE.Gx)))
            throw new Error('bad generator point: equation left != right');
        // Valid group elements reside in range 1..n-1
        function isWithinCurveOrder(num) {
            return inRange(num, _1n$1, CURVE.n);
        }
        // Validates if priv key is valid and converts it to bigint.
        // Supports options allowedPrivateKeyLengths and wrapPrivateKey.
        function normPrivateKeyToScalar(key) {
            const { allowedPrivateKeyLengths: lengths, nByteLength, wrapPrivateKey, n: N } = CURVE;
            if (lengths && typeof key !== 'bigint') {
                if (isBytes(key))
                    key = bytesToHex(key);
                // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes
                if (typeof key !== 'string' || !lengths.includes(key.length))
                    throw new Error('invalid private key');
                key = key.padStart(nByteLength * 2, '0');
            }
            let num;
            try {
                num =
                    typeof key === 'bigint'
                        ? key
                        : bytesToNumberBE(ensureBytes('private key', key, nByteLength));
            }
            catch (error) {
                throw new Error('invalid private key, expected hex or ' + nByteLength + ' bytes, got ' + typeof key);
            }
            if (wrapPrivateKey)
                num = mod(num, N); // disabled by default, enabled for BLS
            aInRange('private key', num, _1n$1, N); // num in range [1..N-1]
            return num;
        }
        function assertPrjPoint(other) {
            if (!(other instanceof Point))
                throw new Error('ProjectivePoint expected');
        }
        // Memoized toAffine / validity check. They are heavy. Points are immutable.
        // Converts Projective point to affine (x, y) coordinates.
        // Can accept precomputed Z^-1 - for example, from invertBatch.
        // (x, y, z) ∋ (x=x/z, y=y/z)
        const toAffineMemo = memoized((p, iz) => {
            const { px: x, py: y, pz: z } = p;
            // Fast-path for normalized points
            if (Fp.eql(z, Fp.ONE))
                return { x, y };
            const is0 = p.is0();
            // If invZ was 0, we return zero point. However we still want to execute
            // all operations, so we replace invZ with a random number, 1.
            if (iz == null)
                iz = is0 ? Fp.ONE : Fp.inv(z);
            const ax = Fp.mul(x, iz);
            const ay = Fp.mul(y, iz);
            const zz = Fp.mul(z, iz);
            if (is0)
                return { x: Fp.ZERO, y: Fp.ZERO };
            if (!Fp.eql(zz, Fp.ONE))
                throw new Error('invZ was invalid');
            return { x: ax, y: ay };
        });
        // NOTE: on exception this will crash 'cached' and no value will be set.
        // Otherwise true will be return
        const assertValidMemo = memoized((p) => {
            if (p.is0()) {
                // (0, 1, 0) aka ZERO is invalid in most contexts.
                // In BLS, ZERO can be serialized, so we allow it.
                // (0, 0, 0) is invalid representation of ZERO.
                if (CURVE.allowInfinityPoint && !Fp.is0(p.py))
                    return;
                throw new Error('bad point: ZERO');
            }
            // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`
            const { x, y } = p.toAffine();
            // Check if x, y are valid field elements
            if (!Fp.isValid(x) || !Fp.isValid(y))
                throw new Error('bad point: x or y not FE');
            const left = Fp.sqr(y); // y²
            const right = weierstrassEquation(x); // x³ + ax + b
            if (!Fp.eql(left, right))
                throw new Error('bad point: equation left != right');
            if (!p.isTorsionFree())
                throw new Error('bad point: not in prime-order subgroup');
            return true;
        });
        /**
         * Projective Point works in 3d / projective (homogeneous) coordinates: (x, y, z) ∋ (x=x/z, y=y/z)
         * Default Point works in 2d / affine coordinates: (x, y)
         * We're doing calculations in projective, because its operations don't require costly inversion.
         */
        class Point {
            constructor(px, py, pz) {
                this.px = px;
                this.py = py;
                this.pz = pz;
                if (px == null || !Fp.isValid(px))
                    throw new Error('x required');
                if (py == null || !Fp.isValid(py))
                    throw new Error('y required');
                if (pz == null || !Fp.isValid(pz))
                    throw new Error('z required');
                Object.freeze(this);
            }
            // Does not validate if the point is on-curve.
            // Use fromHex instead, or call assertValidity() later.
            static fromAffine(p) {
                const { x, y } = p || {};
                if (!p || !Fp.isValid(x) || !Fp.isValid(y))
                    throw new Error('invalid affine point');
                if (p instanceof Point)
                    throw new Error('projective point not allowed');
                const is0 = (i) => Fp.eql(i, Fp.ZERO);
                // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)
                if (is0(x) && is0(y))
                    return Point.ZERO;
                return new Point(x, y, Fp.ONE);
            }
            get x() {
                return this.toAffine().x;
            }
            get y() {
                return this.toAffine().y;
            }
            /**
             * Takes a bunch of Projective Points but executes only one
             * inversion on all of them. Inversion is very slow operation,
             * so this improves performance massively.
             * Optimization: converts a list of projective points to a list of identical points with Z=1.
             */
            static normalizeZ(points) {
                const toInv = Fp.invertBatch(points.map((p) => p.pz));
                return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);
            }
            /**
             * Converts hash string or Uint8Array to Point.
             * @param hex short/long ECDSA hex
             */
            static fromHex(hex) {
                const P = Point.fromAffine(fromBytes(ensureBytes('pointHex', hex)));
                P.assertValidity();
                return P;
            }
            // Multiplies generator point by privateKey.
            static fromPrivateKey(privateKey) {
                return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));
            }
            // Multiscalar Multiplication
            static msm(points, scalars) {
                return pippenger(Point, Fn, points, scalars);
            }
            // "Private method", don't use it directly
            _setWindowSize(windowSize) {
                wnaf.setWindowSize(this, windowSize);
            }
            // A point on curve is valid if it conforms to equation.
            assertValidity() {
                assertValidMemo(this);
            }
            hasEvenY() {
                const { y } = this.toAffine();
                if (Fp.isOdd)
                    return !Fp.isOdd(y);
                throw new Error("Field doesn't support isOdd");
            }
            /**
             * Compare one point to another.
             */
            equals(other) {
                assertPrjPoint(other);
                const { px: X1, py: Y1, pz: Z1 } = this;
                const { px: X2, py: Y2, pz: Z2 } = other;
                const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));
                const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));
                return U1 && U2;
            }
            /**
             * Flips point to one corresponding to (x, -y) in Affine coordinates.
             */
            negate() {
                return new Point(this.px, Fp.neg(this.py), this.pz);
            }
            // Renes-Costello-Batina exception-free doubling formula.
            // There is 30% faster Jacobian formula, but it is not complete.
            // https://eprint.iacr.org/2015/1060, algorithm 3
            // Cost: 8M + 3S + 3*a + 2*b3 + 15add.
            double() {
                const { a, b } = CURVE;
                const b3 = Fp.mul(b, _3n);
                const { px: X1, py: Y1, pz: Z1 } = this;
                let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore
                let t0 = Fp.mul(X1, X1); // step 1
                let t1 = Fp.mul(Y1, Y1);
                let t2 = Fp.mul(Z1, Z1);
                let t3 = Fp.mul(X1, Y1);
                t3 = Fp.add(t3, t3); // step 5
                Z3 = Fp.mul(X1, Z1);
                Z3 = Fp.add(Z3, Z3);
                X3 = Fp.mul(a, Z3);
                Y3 = Fp.mul(b3, t2);
                Y3 = Fp.add(X3, Y3); // step 10
                X3 = Fp.sub(t1, Y3);
                Y3 = Fp.add(t1, Y3);
                Y3 = Fp.mul(X3, Y3);
                X3 = Fp.mul(t3, X3);
                Z3 = Fp.mul(b3, Z3); // step 15
                t2 = Fp.mul(a, t2);
                t3 = Fp.sub(t0, t2);
                t3 = Fp.mul(a, t3);
                t3 = Fp.add(t3, Z3);
                Z3 = Fp.add(t0, t0); // step 20
                t0 = Fp.add(Z3, t0);
                t0 = Fp.add(t0, t2);
                t0 = Fp.mul(t0, t3);
                Y3 = Fp.add(Y3, t0);
                t2 = Fp.mul(Y1, Z1); // step 25
                t2 = Fp.add(t2, t2);
                t0 = Fp.mul(t2, t3);
                X3 = Fp.sub(X3, t0);
                Z3 = Fp.mul(t2, t1);
                Z3 = Fp.add(Z3, Z3); // step 30
                Z3 = Fp.add(Z3, Z3);
                return new Point(X3, Y3, Z3);
            }
            // Renes-Costello-Batina exception-free addition formula.
            // There is 30% faster Jacobian formula, but it is not complete.
            // https://eprint.iacr.org/2015/1060, algorithm 1
            // Cost: 12M + 0S + 3*a + 3*b3 + 23add.
            add(other) {
                assertPrjPoint(other);
                const { px: X1, py: Y1, pz: Z1 } = this;
                const { px: X2, py: Y2, pz: Z2 } = other;
                let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore
                const a = CURVE.a;
                const b3 = Fp.mul(CURVE.b, _3n);
                let t0 = Fp.mul(X1, X2); // step 1
                let t1 = Fp.mul(Y1, Y2);
                let t2 = Fp.mul(Z1, Z2);
                let t3 = Fp.add(X1, Y1);
                let t4 = Fp.add(X2, Y2); // step 5
                t3 = Fp.mul(t3, t4);
                t4 = Fp.add(t0, t1);
                t3 = Fp.sub(t3, t4);
                t4 = Fp.add(X1, Z1);
                let t5 = Fp.add(X2, Z2); // step 10
                t4 = Fp.mul(t4, t5);
                t5 = Fp.add(t0, t2);
                t4 = Fp.sub(t4, t5);
                t5 = Fp.add(Y1, Z1);
                X3 = Fp.add(Y2, Z2); // step 15
                t5 = Fp.mul(t5, X3);
                X3 = Fp.add(t1, t2);
                t5 = Fp.sub(t5, X3);
                Z3 = Fp.mul(a, t4);
                X3 = Fp.mul(b3, t2); // step 20
                Z3 = Fp.add(X3, Z3);
                X3 = Fp.sub(t1, Z3);
                Z3 = Fp.add(t1, Z3);
                Y3 = Fp.mul(X3, Z3);
                t1 = Fp.add(t0, t0); // step 25
                t1 = Fp.add(t1, t0);
                t2 = Fp.mul(a, t2);
                t4 = Fp.mul(b3, t4);
                t1 = Fp.add(t1, t2);
                t2 = Fp.sub(t0, t2); // step 30
                t2 = Fp.mul(a, t2);
                t4 = Fp.add(t4, t2);
                t0 = Fp.mul(t1, t4);
                Y3 = Fp.add(Y3, t0);
                t0 = Fp.mul(t5, t4); // step 35
                X3 = Fp.mul(t3, X3);
                X3 = Fp.sub(X3, t0);
                t0 = Fp.mul(t3, t1);
                Z3 = Fp.mul(t5, Z3);
                Z3 = Fp.add(Z3, t0); // step 40
                return new Point(X3, Y3, Z3);
            }
            subtract(other) {
                return this.add(other.negate());
            }
            is0() {
                return this.equals(Point.ZERO);
            }
            wNAF(n) {
                return wnaf.wNAFCached(this, n, Point.normalizeZ);
            }
            /**
             * Non-constant-time multiplication. Uses double-and-add algorithm.
             * It's faster, but should only be used when you don't care about
             * an exposed private key e.g. sig verification, which works over *public* keys.
             */
            multiplyUnsafe(sc) {
                const { endo, n: N } = CURVE;
                aInRange('scalar', sc, _0n, N);
                const I = Point.ZERO;
                if (sc === _0n)
                    return I;
                if (this.is0() || sc === _1n$1)
                    return this;
                // Case a: no endomorphism. Case b: has precomputes.
                if (!endo || wnaf.hasPrecomputes(this))
                    return wnaf.wNAFCachedUnsafe(this, sc, Point.normalizeZ);
                // Case c: endomorphism
                let { k1neg, k1, k2neg, k2 } = endo.splitScalar(sc);
                let k1p = I;
                let k2p = I;
                let d = this;
                while (k1 > _0n || k2 > _0n) {
                    if (k1 & _1n$1)
                        k1p = k1p.add(d);
                    if (k2 & _1n$1)
                        k2p = k2p.add(d);
                    d = d.double();
                    k1 >>= _1n$1;
                    k2 >>= _1n$1;
                }
                if (k1neg)
                    k1p = k1p.negate();
                if (k2neg)
                    k2p = k2p.negate();
                k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);
                return k1p.add(k2p);
            }
            /**
             * Constant time multiplication.
             * Uses wNAF method. Windowed method may be 10% faster,
             * but takes 2x longer to generate and consumes 2x memory.
             * Uses precomputes when available.
             * Uses endomorphism for Koblitz curves.
             * @param scalar by which the point would be multiplied
             * @returns New point
             */
            multiply(scalar) {
                const { endo, n: N } = CURVE;
                aInRange('scalar', scalar, _1n$1, N);
                let point, fake; // Fake point is used to const-time mult
                if (endo) {
                    const { k1neg, k1, k2neg, k2 } = endo.splitScalar(scalar);
                    let { p: k1p, f: f1p } = this.wNAF(k1);
                    let { p: k2p, f: f2p } = this.wNAF(k2);
                    k1p = wnaf.constTimeNegate(k1neg, k1p);
                    k2p = wnaf.constTimeNegate(k2neg, k2p);
                    k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);
                    point = k1p.add(k2p);
                    fake = f1p.add(f2p);
                }
                else {
                    const { p, f } = this.wNAF(scalar);
                    point = p;
                    fake = f;
                }
                // Normalize `z` for both points, but return only real one
                return Point.normalizeZ([point, fake])[0];
            }
            /**
             * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.
             * Not using Strauss-Shamir trick: precomputation tables are faster.
             * The trick could be useful if both P and Q are not G (not in our case).
             * @returns non-zero affine point
             */
            multiplyAndAddUnsafe(Q, a, b) {
                const G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes
                const mul = (P, a // Select faster multiply() method
                ) => (a === _0n || a === _1n$1 || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a));
                const sum = mul(this, a).add(mul(Q, b));
                return sum.is0() ? undefined : sum;
            }
            // Converts Projective point to affine (x, y) coordinates.
            // Can accept precomputed Z^-1 - for example, from invertBatch.
            // (x, y, z) ∋ (x=x/z, y=y/z)
            toAffine(iz) {
                return toAffineMemo(this, iz);
            }
            isTorsionFree() {
                const { h: cofactor, isTorsionFree } = CURVE;
                if (cofactor === _1n$1)
                    return true; // No subgroups, always torsion-free
                if (isTorsionFree)
                    return isTorsionFree(Point, this);
                throw new Error('isTorsionFree() has not been declared for the elliptic curve');
            }
            clearCofactor() {
                const { h: cofactor, clearCofactor } = CURVE;
                if (cofactor === _1n$1)
                    return this; // Fast-path
                if (clearCofactor)
                    return clearCofactor(Point, this);
                return this.multiplyUnsafe(CURVE.h);
            }
            toRawBytes(isCompressed = true) {
                abool('isCompressed', isCompressed);
                this.assertValidity();
                return toBytes(Point, this, isCompressed);
            }
            toHex(isCompressed = true) {
                abool('isCompressed', isCompressed);
                return bytesToHex(this.toRawBytes(isCompressed));
            }
        }
        Point.BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);
        Point.ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO);
        const _bits = CURVE.nBitLength;
        const wnaf = wNAF(Point, CURVE.endo ? Math.ceil(_bits / 2) : _bits);
        // Validate if generator point is on curve
        return {
            CURVE,
            ProjectivePoint: Point,
            normPrivateKeyToScalar,
            weierstrassEquation,
            isWithinCurveOrder,
        };
    }
    function validateOpts(curve) {
        const opts = validateBasic(curve);
        validateObject(opts, {
            hash: 'hash',
            hmac: 'function',
            randomBytes: 'function',
        }, {
            bits2int: 'function',
            bits2int_modN: 'function',
            lowS: 'boolean',
        });
        return Object.freeze({ lowS: true, ...opts });
    }
    /**
     * Creates short weierstrass curve and ECDSA signature methods for it.
     * @example
     * import { Field } from '@noble/curves/abstract/modular';
     * // Before that, define BigInt-s: a, b, p, n, Gx, Gy
     * const curve = weierstrass({ a, b, Fp: Field(p), n, Gx, Gy, h: 1n })
     */
    function weierstrass(curveDef) {
        const CURVE = validateOpts(curveDef);
        const { Fp, n: CURVE_ORDER } = CURVE;
        const compressedLen = Fp.BYTES + 1; // e.g. 33 for 32
        const uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32
        function modN(a) {
            return mod(a, CURVE_ORDER);
        }
        function invN(a) {
            return invert(a, CURVE_ORDER);
        }
        const { ProjectivePoint: Point, normPrivateKeyToScalar, weierstrassEquation, isWithinCurveOrder, } = weierstrassPoints({
            ...CURVE,
            toBytes(_c, point, isCompressed) {
                const a = point.toAffine();
                const x = Fp.toBytes(a.x);
                const cat = concatBytes;
                abool('isCompressed', isCompressed);
                if (isCompressed) {
                    return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);
                }
                else {
                    return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));
                }
            },
            fromBytes(bytes) {
                const len = bytes.length;
                const head = bytes[0];
                const tail = bytes.subarray(1);
                // this.assertValidity() is done inside of fromHex
                if (len === compressedLen && (head === 0x02 || head === 0x03)) {
                    const x = bytesToNumberBE(tail);
                    if (!inRange(x, _1n$1, Fp.ORDER))
                        throw new Error('Point is not on curve');
                    const y2 = weierstrassEquation(x); // y² = x³ + ax + b
                    let y;
                    try {
                        y = Fp.sqrt(y2); // y = y² ^ (p+1)/4
                    }
                    catch (sqrtError) {
                        const suffix = sqrtError instanceof Error ? ': ' + sqrtError.message : '';
                        throw new Error('Point is not on curve' + suffix);
                    }
                    const isYOdd = (y & _1n$1) === _1n$1;
                    // ECDSA
                    const isHeadOdd = (head & 1) === 1;
                    if (isHeadOdd !== isYOdd)
                        y = Fp.neg(y);
                    return { x, y };
                }
                else if (len === uncompressedLen && head === 0x04) {
                    const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));
                    const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));
                    return { x, y };
                }
                else {
                    const cl = compressedLen;
                    const ul = uncompressedLen;
                    throw new Error('invalid Point, expected length of ' + cl + ', or uncompressed ' + ul + ', got ' + len);
                }
            },
        });
        const numToNByteStr = (num) => bytesToHex(numberToBytesBE(num, CURVE.nByteLength));
        function isBiggerThanHalfOrder(number) {
            const HALF = CURVE_ORDER >> _1n$1;
            return number > HALF;
        }
        function normalizeS(s) {
            return isBiggerThanHalfOrder(s) ? modN(-s) : s;
        }
        // slice bytes num
        const slcNum = (b, from, to) => bytesToNumberBE(b.slice(from, to));
        /**
         * ECDSA signature with its (r, s) properties. Supports DER & compact representations.
         */
        class Signature {
            constructor(r, s, recovery) {
                this.r = r;
                this.s = s;
                this.recovery = recovery;
                this.assertValidity();
            }
            // pair (bytes of r, bytes of s)
            static fromCompact(hex) {
                const l = CURVE.nByteLength;
                hex = ensureBytes('compactSignature', hex, l * 2);
                return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));
            }
            // DER encoded ECDSA signature
            // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script
            static fromDER(hex) {
                const { r, s } = DER.toSig(ensureBytes('DER', hex));
                return new Signature(r, s);
            }
            assertValidity() {
                aInRange('r', this.r, _1n$1, CURVE_ORDER); // r in [1..N]
                aInRange('s', this.s, _1n$1, CURVE_ORDER); // s in [1..N]
            }
            addRecoveryBit(recovery) {
                return new Signature(this.r, this.s, recovery);
            }
            recoverPublicKey(msgHash) {
                const { r, s, recovery: rec } = this;
                const h = bits2int_modN(ensureBytes('msgHash', msgHash)); // Truncate hash
                if (rec == null || ![0, 1, 2, 3].includes(rec))
                    throw new Error('recovery id invalid');
                const radj = rec === 2 || rec === 3 ? r + CURVE.n : r;
                if (radj >= Fp.ORDER)
                    throw new Error('recovery id 2 or 3 invalid');
                const prefix = (rec & 1) === 0 ? '02' : '03';
                const R = Point.fromHex(prefix + numToNByteStr(radj));
                const ir = invN(radj); // r^-1
                const u1 = modN(-h * ir); // -hr^-1
                const u2 = modN(s * ir); // sr^-1
                const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)
                if (!Q)
                    throw new Error('point at infinify'); // unsafe is fine: no priv data leaked
                Q.assertValidity();
                return Q;
            }
            // Signatures should be low-s, to prevent malleability.
            hasHighS() {
                return isBiggerThanHalfOrder(this.s);
            }
            normalizeS() {
                return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;
            }
            // DER-encoded
            toDERRawBytes() {
                return hexToBytes(this.toDERHex());
            }
            toDERHex() {
                return DER.hexFromSig({ r: this.r, s: this.s });
            }
            // padded bytes of r, then padded bytes of s
            toCompactRawBytes() {
                return hexToBytes(this.toCompactHex());
            }
            toCompactHex() {
                return numToNByteStr(this.r) + numToNByteStr(this.s);
            }
        }
        const utils = {
            isValidPrivateKey(privateKey) {
                try {
                    normPrivateKeyToScalar(privateKey);
                    return true;
                }
                catch (error) {
                    return false;
                }
            },
            normPrivateKeyToScalar: normPrivateKeyToScalar,
            /**
             * Produces cryptographically secure private key from random of size
             * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.
             */
            randomPrivateKey: () => {
                const length = getMinHashLength(CURVE.n);
                return mapHashToField(CURVE.randomBytes(length), CURVE.n);
            },
            /**
             * Creates precompute table for an arbitrary EC point. Makes point "cached".
             * Allows to massively speed-up `point.multiply(scalar)`.
             * @returns cached point
             * @example
             * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));
             * fast.multiply(privKey); // much faster ECDH now
             */
            precompute(windowSize = 8, point = Point.BASE) {
                point._setWindowSize(windowSize);
                point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here
                return point;
            },
        };
        /**
         * Computes public key for a private key. Checks for validity of the private key.
         * @param privateKey private key
         * @param isCompressed whether to return compact (default), or full key
         * @returns Public key, full when isCompressed=false; short when isCompressed=true
         */
        function getPublicKey(privateKey, isCompressed = true) {
            return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);
        }
        /**
         * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.
         */
        function isProbPub(item) {
            const arr = isBytes(item);
            const str = typeof item === 'string';
            const len = (arr || str) && item.length;
            if (arr)
                return len === compressedLen || len === uncompressedLen;
            if (str)
                return len === 2 * compressedLen || len === 2 * uncompressedLen;
            if (item instanceof Point)
                return true;
            return false;
        }
        /**
         * ECDH (Elliptic Curve Diffie Hellman).
         * Computes shared public key from private key and public key.
         * Checks: 1) private key validity 2) shared key is on-curve.
         * Does NOT hash the result.
         * @param privateA private key
         * @param publicB different public key
         * @param isCompressed whether to return compact (default), or full key
         * @returns shared public key
         */
        function getSharedSecret(privateA, publicB, isCompressed = true) {
            if (isProbPub(privateA))
                throw new Error('first arg must be private key');
            if (!isProbPub(publicB))
                throw new Error('second arg must be public key');
            const b = Point.fromHex(publicB); // check for being on-curve
            return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);
        }
        // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.
        // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.
        // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.
        // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors
        const bits2int = CURVE.bits2int ||
            function (bytes) {
                // Our custom check "just in case"
                if (bytes.length > 8192)
                    throw new Error('input is too large');
                // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)
                // for some cases, since bytes.length * 8 is not actual bitLength.
                const num = bytesToNumberBE(bytes); // check for == u8 done here
                const delta = bytes.length * 8 - CURVE.nBitLength; // truncate to nBitLength leftmost bits
                return delta > 0 ? num >> BigInt(delta) : num;
            };
        const bits2int_modN = CURVE.bits2int_modN ||
            function (bytes) {
                return modN(bits2int(bytes)); // can't use bytesToNumberBE here
            };
        // NOTE: pads output with zero as per spec
        const ORDER_MASK = bitMask(CURVE.nBitLength);
        /**
         * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.
         */
        function int2octets(num) {
            aInRange('num < 2^' + CURVE.nBitLength, num, _0n, ORDER_MASK);
            // works with order, can have different size than numToField!
            return numberToBytesBE(num, CURVE.nByteLength);
        }
        // Steps A, D of RFC6979 3.2
        // Creates RFC6979 seed; converts msg/privKey to numbers.
        // Used only in sign, not in verify.
        // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order,
        // this will be invalid at least for P521. Also it can be bigger for P224 + SHA256
        function prepSig(msgHash, privateKey, opts = defaultSigOpts) {
            if (['recovered', 'canonical'].some((k) => k in opts))
                throw new Error('sign() legacy options not supported');
            const { hash, randomBytes } = CURVE;
            let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default
            if (lowS == null)
                lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash
            msgHash = ensureBytes('msgHash', msgHash);
            validateSigVerOpts(opts);
            if (prehash)
                msgHash = ensureBytes('prehashed msgHash', hash(msgHash));
            // We can't later call bits2octets, since nested bits2int is broken for curves
            // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.
            // const bits2octets = (bits) => int2octets(bits2int_modN(bits))
            const h1int = bits2int_modN(msgHash);
            const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint
            const seedArgs = [int2octets(d), int2octets(h1int)];
            // extraEntropy. RFC6979 3.6: additional k' (optional).
            if (ent != null && ent !== false) {
                // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')
                const e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is
                seedArgs.push(ensureBytes('extraEntropy', e)); // check for being bytes
            }
            const seed = concatBytes(...seedArgs); // Step D of RFC6979 3.2
            const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!
            // Converts signature params into point w r/s, checks result for validity.
            function k2sig(kBytes) {
                // RFC 6979 Section 3.2, step 3: k = bits2int(T)
                const k = bits2int(kBytes); // Cannot use fields methods, since it is group element
                if (!isWithinCurveOrder(k))
                    return; // Important: all mod() calls here must be done over N
                const ik = invN(k); // k^-1 mod n
                const q = Point.BASE.multiply(k).toAffine(); // q = Gk
                const r = modN(q.x); // r = q.x mod n
                if (r === _0n)
                    return;
                // Can use scalar blinding b^-1(bm + bdr) where b ∈ [1,q−1] according to
                // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:
                // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT
                const s = modN(ik * modN(m + r * d)); // Not using blinding here
                if (s === _0n)
                    return;
                let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n$1); // recovery bit (2 or 3, when q.x > n)
                let normS = s;
                if (lowS && isBiggerThanHalfOrder(s)) {
                    normS = normalizeS(s); // if lowS was passed, ensure s is always
                    recovery ^= 1; // // in the bottom half of N
                }
                return new Signature(r, normS, recovery); // use normS, not s
            }
            return { seed, k2sig };
        }
        const defaultSigOpts = { lowS: CURVE.lowS, prehash: false };
        const defaultVerOpts = { lowS: CURVE.lowS, prehash: false };
        /**
         * Signs message hash with a private key.
         * ```
         * sign(m, d, k) where
         *   (x, y) = G × k
         *   r = x mod n
         *   s = (m + dr)/k mod n
         * ```
         * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.
         * @param privKey private key
         * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.
         * @returns signature with recovery param
         */
        function sign(msgHash, privKey, opts = defaultSigOpts) {
            const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.
            const C = CURVE;
            const drbg = createHmacDrbg(C.hash.outputLen, C.nByteLength, C.hmac);
            return drbg(seed, k2sig); // Steps B, C, D, E, F, G
        }
        // Enable precomputes. Slows down first publicKey computation by 20ms.
        Point.BASE._setWindowSize(8);
        // utils.precompute(8, ProjectivePoint.BASE)
        /**
         * Verifies a signature against message hash and public key.
         * Rejects lowS signatures by default: to override,
         * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:
         *
         * ```
         * verify(r, s, h, P) where
         *   U1 = hs^-1 mod n
         *   U2 = rs^-1 mod n
         *   R = U1⋅G - U2⋅P
         *   mod(R.x, n) == r
         * ```
         */
        function verify(signature, msgHash, publicKey, opts = defaultVerOpts) {
            const sg = signature;
            msgHash = ensureBytes('msgHash', msgHash);
            publicKey = ensureBytes('publicKey', publicKey);
            const { lowS, prehash, format } = opts;
            // Verify opts, deduce signature format
            validateSigVerOpts(opts);
            if ('strict' in opts)
                throw new Error('options.strict was renamed to lowS');
            if (format !== undefined && format !== 'compact' && format !== 'der')
                throw new Error('format must be compact or der');
            const isHex = typeof sg === 'string' || isBytes(sg);
            const isObj = !isHex &&
                !format &&
                typeof sg === 'object' &&
                sg !== null &&
                typeof sg.r === 'bigint' &&
                typeof sg.s === 'bigint';
            if (!isHex && !isObj)
                throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');
            let _sig = undefined;
            let P;
            try {
                if (isObj)
                    _sig = new Signature(sg.r, sg.s);
                if (isHex) {
                    // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).
                    // Since DER can also be 2*nByteLength bytes, we check for it first.
                    try {
                        if (format !== 'compact')
                            _sig = Signature.fromDER(sg);
                    }
                    catch (derError) {
                        if (!(derError instanceof DER.Err))
                            throw derError;
                    }
                    if (!_sig && format !== 'der')
                        _sig = Signature.fromCompact(sg);
                }
                P = Point.fromHex(publicKey);
            }
            catch (error) {
                return false;
            }
            if (!_sig)
                return false;
            if (lowS && _sig.hasHighS())
                return false;
            if (prehash)
                msgHash = CURVE.hash(msgHash);
            const { r, s } = _sig;
            const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element
            const is = invN(s); // s^-1
            const u1 = modN(h * is); // u1 = hs^-1 mod n
            const u2 = modN(r * is); // u2 = rs^-1 mod n
            const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)?.toAffine(); // R = u1⋅G + u2⋅P
            if (!R)
                return false;
            const v = modN(R.x);
            return v === r;
        }
        return {
            CURVE,
            getPublicKey,
            getSharedSecret,
            sign,
            verify,
            ProjectivePoint: Point,
            Signature,
            utils,
        };
    }

    /**
     * Utilities for short weierstrass curves, combined with noble-hashes.
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    /** connects noble-curves to noble-hashes */
    function getHash(hash) {
        return {
            hash,
            hmac: (key, ...msgs) => hmac(hash, key, concatBytes$1(...msgs)),
            randomBytes,
        };
    }
    function createCurve(curveDef, defHash) {
        const create = (hash) => weierstrass({ ...curveDef, ...getHash(hash) });
        return { ...create(defHash), create };
    }

    /**
     * NIST secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).
     *
     * Seems to be rigid (not backdoored)
     * [as per discussion](https://bitcointalk.org/index.php?topic=289795.msg3183975#msg3183975).
     *
     * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.
     * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.
     * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.
     * [See explanation](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).
     * @module
     */
    /*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
    const secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');
    const secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');
    const _1n = BigInt(1);
    const _2n = BigInt(2);
    const divNearest = (a, b) => (a + b / _2n) / b;
    /**
     * √n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.
     * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]
     */
    function sqrtMod(y) {
        const P = secp256k1P;
        // prettier-ignore
        const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);
        // prettier-ignore
        const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);
        const b2 = (y * y * y) % P; // x^3, 11
        const b3 = (b2 * b2 * y) % P; // x^7
        const b6 = (pow2(b3, _3n, P) * b3) % P;
        const b9 = (pow2(b6, _3n, P) * b3) % P;
        const b11 = (pow2(b9, _2n, P) * b2) % P;
        const b22 = (pow2(b11, _11n, P) * b11) % P;
        const b44 = (pow2(b22, _22n, P) * b22) % P;
        const b88 = (pow2(b44, _44n, P) * b44) % P;
        const b176 = (pow2(b88, _88n, P) * b88) % P;
        const b220 = (pow2(b176, _44n, P) * b44) % P;
        const b223 = (pow2(b220, _3n, P) * b3) % P;
        const t1 = (pow2(b223, _23n, P) * b22) % P;
        const t2 = (pow2(t1, _6n, P) * b2) % P;
        const root = pow2(t2, _2n, P);
        if (!Fpk1.eql(Fpk1.sqr(root), y))
            throw new Error('Cannot find square root');
        return root;
    }
    const Fpk1 = Field(secp256k1P, undefined, undefined, { sqrt: sqrtMod });
    /**
     * secp256k1 short weierstrass curve and ECDSA signatures over it.
     *
     * @example
     * import { secp256k1 } from '@noble/curves/secp256k1';
     *
     * const priv = secp256k1.utils.randomPrivateKey();
     * const pub = secp256k1.getPublicKey(priv);
     * const msg = new Uint8Array(32).fill(1); // message hash (not message) in ecdsa
     * const sig = secp256k1.sign(msg, priv); // `{prehash: true}` option is available
     * const isValid = secp256k1.verify(sig, msg, pub) === true;
     */
    const secp256k1 = createCurve({
        a: BigInt(0), // equation params: a, b
        b: BigInt(7),
        Fp: Fpk1, // Field's prime: 2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n
        n: secp256k1N, // Curve order, total count of valid points in the field
        // Base point (x, y) aka generator point
        Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),
        Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),
        h: BigInt(1), // Cofactor
        lowS: true, // Allow only low-S signatures by default in sign() and verify()
        endo: {
            // Endomorphism, see above
            beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),
            splitScalar: (k) => {
                const n = secp256k1N;
                const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');
                const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');
                const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');
                const b2 = a1;
                const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)
                const c1 = divNearest(b2 * k, n);
                const c2 = divNearest(-b1 * k, n);
                let k1 = mod(k - c1 * a1 - c2 * a2, n);
                let k2 = mod(-c1 * b1 - c2 * b2, n);
                const k1neg = k1 > POW_2_128;
                const k2neg = k2 > POW_2_128;
                if (k1neg)
                    k1 = n - k1;
                if (k2neg)
                    k2 = n - k2;
                if (k1 > POW_2_128 || k2 > POW_2_128) {
                    throw new Error('splitScalar: Endomorphism failed, k=' + k);
                }
                return { k1neg, k1, k2neg, k2 };
            },
        },
    }, sha256);
    // Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.
    // https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki
    BigInt(0);
    secp256k1.ProjectivePoint;

    var secp256k1$1 = /*#__PURE__*/Object.freeze({
        __proto__: null,
        secp256k1: secp256k1
    });

    const se$2=":";function Ie$2(t){const[e,n]=t.split(se$2);return {namespace:e,reference:n}}function ce$2(t,e){return t.includes(":")?[t]:e.chains||[]}var Zo=Object.defineProperty,Yo$1=Object.defineProperties,Go$1=Object.getOwnPropertyDescriptors,Tn$1=Object.getOwnPropertySymbols,Wo$1=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Rn$1=(t,e,n)=>e in t?Zo(t,e,{enumerable:true,configurable:true,writable:true,value:n}):t[e]=n,_n$1=(t,e)=>{for(var n in e||(e={}))Wo$1.call(e,n)&&Rn$1(t,n,e[n]);if(Tn$1)for(var n of Tn$1(e))Xo.call(e,n)&&Rn$1(t,n,e[n]);return t},Jo$1=(t,e)=>Yo$1(t,Go$1(e));const $n$1="ReactNative",Y$1={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},jn$1="js";function Re$1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function pt$2(){return !cjsExports$2.getDocument()&&!!cjsExports$2.getNavigator()&&navigator.product===$n$1}function ei$1(){return pt$2()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function ni$1(){return pt$2()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Yt$2(){return !Re$1()&&!!cjsExports$2.getNavigator()&&!!cjsExports$2.getDocument()}function xt$2(){return pt$2()?Y$1.reactNative:Re$1()?Y$1.node:Yt$2()?Y$1.browser:Y$1.unknown}function ri$1(){var t;try{return pt$2()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Cn$1(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const o=e[r];o!==void 0&&n.set(r,o);}return n.toString()}function oi$1(t){var e,n;const r=Pn$1();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(o=>o!=="")),Jo$1(_n$1(_n$1({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(o){return console.warn("Error populating app metadata",o),t||r}}function Pn$1(){return cjsExports$1.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function kn$1(){if(xt$2()===Y$1.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return [n,r].join("-")}const t=detect();if(t===null)return "unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Vn$1(){var t;const e=xt$2();return e===Y$1.browser?[e,((t=cjsExports$2.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function Mn$1(t,e,n){const r=kn$1(),o=Vn$1();return [[t,e].join("-"),[jn$1,n].join("-"),r,o].join("/")}function si$1({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:o,projectId:i,useOnCloseEvent:s,bundleId:c,packageName:a}){const u=n.split("?"),l=Mn$1(t,e,r),f={auth:o,ua:l,projectId:i,useOnCloseEvent:s,packageName:a||void 0,bundleId:c||void 0},h=Cn$1(u[1]||"",f);return u[0]+"?"+h}function gt$2(t,e){return t.filter(n=>e.includes(n)).length===t.length}function fi$1(t){return Object.fromEntries(t.entries())}function li$1(t){return new Map(Object.entries(t))}function gi$1(t=cjsExports$3.FIVE_MINUTES,e){const n=cjsExports$3.toMiliseconds(t||cjsExports$3.FIVE_MINUTES);let r,o,i,s;return {resolve:c=>{i&&r&&(clearTimeout(i),r(c),s=Promise.resolve(c));},reject:c=>{i&&o&&(clearTimeout(i),o(c));},done:()=>new Promise((c,a)=>{if(s)return c(s);i=setTimeout(()=>{const u=new Error(e);s=Promise.reject(u),a(u);},n),r=c,o=a;})}}function yi$1(t,e,n){return new Promise(async(r,o)=>{const i=setTimeout(()=>o(new Error(n)),e);try{const s=await t;r(s);}catch(s){o(s);}clearTimeout(i);})}function _e$3(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return `topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return `id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function mi$1(t){return _e$3("topic",t)}function wi$1(t){return _e$3("id",t)}function bi$1(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ei$1(t,e){return cjsExports$3.fromMiliseconds((Date.now())+cjsExports$3.toMiliseconds(t))}function vi$1(t){return Date.now()>=cjsExports$3.toMiliseconds(t)}function xi$1(t,e){return `${t}${e?`:${e}`:""}`}function at$1(t=[],e=[]){return [...new Set([...t,...e])]}async function Si$1({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n=="string"?JSON.parse(n):n,i=o?.href;if(typeof i!="string")return;const s=Kn$1(i,t,e),c=xt$2();if(c===Y$1.browser){if(!((r=cjsExports$2.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Fn$1(s);}else c===Y$1.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s);}catch(o){console.error(o);}}function Kn$1(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let o=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";o=`${o}${i}${Yn$1(r,true)}`;}else o=`${o}/wc?${r}`;return o}function Fn$1(t){let e="_self";Zn$1()?e="_top":(zn$1()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener");}async function Oi$1(t,e){let n="";try{if(Yt$2()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e);}catch(r){console.error(r);}return n}function Ai$1(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Bi$1(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return (t==="x"?e:e&3|8).toString(16)})}function Ii$1(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function zn$1(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Zn$1(){try{return window.self!==window.top}catch{return  false}}function Yn$1(t,e=false){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Le$3(t){return Buffer.from(t,"base64").toString("utf-8")}function Ni$1(t){return new Promise(e=>setTimeout(e,t))}function Gt$2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ui$1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Wt$2(t,...e){if(!Ui$1(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function je$2(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gt$2(t.outputLen),Gt$2(t.blockLen);}function Tt$2(t,e=true){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gn$1(t,e){Wt$2(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const ue$2=BigInt(2**32-1),Wn$1=BigInt(32);function Ti$1(t,e=false){return e?{h:Number(t&ue$2),l:Number(t>>Wn$1&ue$2)}:{h:Number(t>>Wn$1&ue$2)|0,l:Number(t&ue$2)|0}}function Ri$1(t,e=false){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=Ti$1(t[o],e);[n[o],r[o]]=[i,s];}return [n,r]}const _i$1=(t,e,n)=>t<<n|e>>>32-n,$i$1=(t,e,n)=>e<<n|t>>>32-n,Li$1=(t,e,n)=>e<<n-32|t>>>64-n,ji$1=(t,e,n)=>t<<n-32|e>>>64-n,Rt$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ci$1(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ce$1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function st$1(t,e){return t<<32-e|t>>>e}const Xn$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pi$1(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Jn$1(t){for(let e=0;e<t.length;e++)t[e]=Pi$1(t[e]);}function ki$1(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function _t$2(t){return typeof t=="string"&&(t=ki$1(t)),Wt$2(t),t}function Vi$1(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Wt$2(o),e+=o.length;}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length;}return n}let Pe$1 = class Pe{clone(){return this._cloneInto()}};function Qn$1(t){const e=r=>t().update(_t$2(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $t$1(t=32){if(Rt$2&&typeof Rt$2.getRandomValues=="function")return Rt$2.getRandomValues(new Uint8Array(t));if(Rt$2&&typeof Rt$2.randomBytes=="function")return Rt$2.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const tr$1=[],er$1=[],nr$1=[],Mi$1=BigInt(0),Xt$2=BigInt(1),Di$1=BigInt(2),Hi=BigInt(7),qi$1=BigInt(256),Ki$1=BigInt(113);for(let t=0,e=Xt$2,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],tr$1.push(2*(5*r+n)),er$1.push((t+1)*(t+2)/2%64);let o=Mi$1;for(let i=0;i<7;i++)e=(e<<Xt$2^(e>>Hi)*Ki$1)%qi$1,e&Di$1&&(o^=Xt$2<<(Xt$2<<BigInt(i))-Xt$2);nr$1.push(o);}const[Fi$1,zi$1]=Ri$1(nr$1,true),rr$1=(t,e,n)=>n>32?Li$1(t,e,n):_i$1(t,e,n),or$1=(t,e,n)=>n>32?ji$1(t,e,n):$i$1(t,e,n);function Zi(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const c=(s+8)%10,a=(s+2)%10,u=n[a],l=n[a+1],f=rr$1(u,l,1)^n[c],h=or$1(u,l,1)^n[c+1];for(let y=0;y<50;y+=10)t[s+y]^=f,t[s+y+1]^=h;}let o=t[2],i=t[3];for(let s=0;s<24;s++){const c=er$1[s],a=rr$1(o,i,c),u=or$1(o,i,c),l=tr$1[s];o=t[l],i=t[l+1],t[l]=a,t[l+1]=u;}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)n[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~n[(c+2)%10]&n[(c+4)%10];}t[0]^=Fi$1[r],t[1]^=zi$1[r];}n.fill(0);}let En$1 = class En extends Pe$1{constructor(e,n,r,o=false,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=false,this.destroyed=false,Gt$2(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ci$1(this.state);}keccak(){Xn$1||Jn$1(this.state32),Zi(this.state32,this.rounds),Xn$1||Jn$1(this.state32),this.posOut=0,this.pos=0;}update(e){Tt$2(this);const{blockLen:n,state:r}=this;e=_t$2(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);for(let c=0;c<s;c++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak();}return this}finish(){if(this.finished)return;this.finished=true;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak();}writeInto(e){Tt$2(this,false),Wt$2(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s;}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Gt$2(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gn$1(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=true,this.state.fill(0);}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new En(n,r,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}};const Yi=(t,e,n)=>Qn$1(()=>new En$1(e,t,n)),Gi=Yi(1,136,256/8),Wi="https://rpc.walletconnect.org/v1";function ke$3(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return "0x"+Buffer.from(Gi(n)).toString("hex")}async function ir$1(t,e,n,r,o,i){switch(n.t){case "eip191":return await sr$1(t,e,n.s);case "eip1271":return await cr$1(t,e,n.s,r,o,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function sr$1(t,e,n){return (await recoverAddress({hash:ke$3(e),signature:n})).toLowerCase()===t.toLowerCase()}async function cr$1(t,e,n,r,o,i){const s=Ie$2(r);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",l=n.substring(2),f=ke$3(e).substring(2),h=c+f+a+u+l,y=await fetch(`${i||Wi}/?chainId=${r}&projectId=${o}`,{method:"POST",body:JSON.stringify({id:Xi(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:E}=await y.json();return E?E.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),false}}function Xi(){return Date.now()+Math.floor(Math.random()*1e3)}function Ji(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);const r=n[0];if(r===0)throw new Error("No signatures found");const o=1+r*64;if(n.length<o)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return base58.encode(i)}var Qi=Object.defineProperty,ts$1=Object.defineProperties,es=Object.getOwnPropertyDescriptors,ar$1=Object.getOwnPropertySymbols,ns=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,ur$1=(t,e,n)=>e in t?Qi(t,e,{enumerable:true,configurable:true,writable:true,value:n}):t[e]=n,Ve$2=(t,e)=>{for(var n in e||(e={}))ns.call(e,n)&&ur$1(t,n,e[n]);if(ar$1)for(var n of ar$1(e))rs.call(e,n)&&ur$1(t,n,e[n]);return t},fr$1=(t,e)=>ts$1(t,es(e));const os="did:pkh:",fe$1=t=>t?.split(":"),lr$1=t=>{const e=t&&fe$1(t);if(e)return t.includes(os)?e[3]:e[1]},dr$1=t=>{const e=t&&fe$1(t);if(e)return e[2]+":"+e[3]},Me$3=t=>{const e=t&&fe$1(t);if(e)return e.pop()};async function is(t){const{cacao:e,projectId:n}=t,{s:r,p:o}=e,i=hr$1(o,o.iss),s=Me$3(o.iss);return await ir$1(s,i,r,dr$1(o.iss),n)}const hr$1=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Me$3(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let o=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,s=`Version: ${t.version}`,c=`Chain ID: ${lr$1(e)}`,a=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,l=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,y=t.resources?`Resources:${t.resources.map(p=>`
- ${p}`).join("")}`:void 0,E=de$2(t.resources);if(E){const p=yt$2(E);o=qe$2(o,p);}return [n,r,"",o,"",i,s,c,a,u,l,f,h,y].filter(p=>p!=null).join(`
`)};function mr$1(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function wr$1(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function ct$1(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const i=r[o];if(!Array.isArray(i))throw new Error(`Ability limits ${o} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);i.forEach(s=>{if(typeof s!="object")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${s}`)});});});}function br$1(t,e,n,r={}){return n?.sort((o,i)=>o.localeCompare(i)),{att:{[t]:De$2(e,n,r)}}}function De$2(t,e,n={}){e=e?.sort((o,i)=>o.localeCompare(i));const r=e.map(o=>({[`${t}/${o}`]:[n]}));return Object.assign({},...r)}function le$2(t){return ct$1(t),`urn:recap:${mr$1(t).replace(/=/g,"")}`}function yt$2(t){const e=wr$1(t.replace("urn:recap:",""));return ct$1(e),e}function fs(t,e,n){const r=br$1(t,e,n);return le$2(r)}function He$2(t){return t&&t.includes("urn:recap:")}function ls(t,e){const n=yt$2(t),r=yt$2(e),o=vr$1(n,r);return le$2(o)}function vr$1(t,e){ct$1(t),ct$1(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((o,i)=>o.localeCompare(i)),r={att:{}};return n.forEach(o=>{var i,s;Object.keys(((i=t.att)==null?void 0:i[o])||{}).concat(Object.keys(((s=e.att)==null?void 0:s[o])||{})).sort((c,a)=>c.localeCompare(a)).forEach(c=>{var a,u;r.att[o]=fr$1(Ve$2({},r.att[o]),{[c]:((a=t.att[o])==null?void 0:a[c])||((u=e.att[o])==null?void 0:u[c])});});}),r}function qe$2(t="",e){ct$1(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let o=0;Object.keys(e.att).forEach(c=>{const a=Object.keys(e.att[c]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));a.sort((f,h)=>f.action.localeCompare(h.action));const u={};a.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action);});const l=Object.keys(u).map(f=>(o++,`(${o}) '${f}': '${u[f].join("', '")}' for '${c}'.`));r.push(l.join(", ").replace(".,","."));});const i=r.join(" "),s=`${n}${i}`;return `${t?t+" ":""}${s}`}function ds(t){var e;const n=yt$2(t);ct$1(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(o=>o.split("/")[1]):[]}function hs(t){const e=yt$2(t);ct$1(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(o=>{var i;(i=o?.[0])!=null&&i.chains&&n.push(o[0].chains);});}),[...new Set(n.flat())]}function de$2(t){if(!t)return;const e=t?.[t.length-1];return He$2(e)?e:void 0}function Ke$3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Sr$1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tt$1(t,...e){if(!Sr$1(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Or$1(t,e=true){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ps(t,e){tt$1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ar$1(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const mt$2=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),gs=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ys=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ys)throw new Error("Non little-endian hardware is not supported");function ms(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Fe$2(t){if(typeof t=="string")t=ms(t);else if(Sr$1(t))t=ze$2(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function ws(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function bs$1(t,e){if(t.length!==e.length)return  false;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Es=(t,e)=>{function n(r,...o){if(tt$1(r),t.nonceLength!==void 0){const l=o[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?tt$1(l):tt$1(l,t.nonceLength);}const i=t.tagLength;i&&o[1]!==void 0&&tt$1(o[1]);const s=e(r,...o),c=(l,f)=>{if(f!==void 0){if(l!==2)throw new Error("cipher output not supported");tt$1(f);}};let a=false;return {encrypt(l,f){if(a)throw new Error("cannot encrypt() twice with same key + nonce");return a=true,tt$1(l),c(s.encrypt.length,f),s.encrypt(l,f)},decrypt(l,f){if(tt$1(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return c(s.decrypt.length,f),s.decrypt(l,f)}}}return Object.assign(n,t),n};function Br$1(t,e,n=true){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!vs$1(e))throw new Error("invalid output, must be aligned");return e}function Ir$1(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=4,u=0;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r);}function vs$1(t){return t.byteOffset%4===0}function ze$2(t){return Uint8Array.from(t)}function Lt$2(...t){for(let e=0;e<t.length;e++)t[e].fill(0);}const Nr$1=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),xs$1=Nr$1("expand 16-byte k"),Ss=Nr$1("expand 32-byte k"),Os$1=mt$2(xs$1),As$1=mt$2(Ss);function V$3(t,e){return t<<e|t>>>32-e}function Ze$2(t){return t.byteOffset%4===0}const he$2=64,Bs=16,Ur$1=2**32-1,Tr$1=new Uint32Array;function Is$1(t,e,n,r,o,i,s,c){const a=o.length,u=new Uint8Array(he$2),l=mt$2(u),f=Ze$2(o)&&Ze$2(i),h=f?mt$2(o):Tr$1,y=f?mt$2(i):Tr$1;for(let E=0;E<a;s++){if(t(e,n,r,l,s,c),s>=Ur$1)throw new Error("arx: counter overflow");const p=Math.min(he$2,a-E);if(f&&p===he$2){const d=E/4;if(E%4!==0)throw new Error("arx: invalid block position");for(let v=0,m;v<Bs;v++)m=d+v,y[m]=h[m]^l[v];E+=he$2;continue}for(let d=0,v;d<p;d++)v=E+d,i[v]=o[v]^u[d];E+=p;}}function Ns$1(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=ws({allowShortKeys:false,counterLength:8,counterRight:false,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Ke$3(o),Ke$3(s),Ar$1(i),Ar$1(n),(c,a,u,l,f=0)=>{tt$1(c),tt$1(a),tt$1(u);const h=u.length;if(l===void 0&&(l=new Uint8Array(h)),tt$1(l),Ke$3(f),f<0||f>=Ur$1)throw new Error("arx: counter overflow");if(l.length<h)throw new Error(`arx: output (${l.length}) is shorter than data (${h})`);const y=[];let E=c.length,p,d;if(E===32)y.push(p=ze$2(c)),d=As$1;else if(E===16&&n)p=new Uint8Array(32),p.set(c),p.set(c,16),d=Os$1,y.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);Ze$2(a)||y.push(a=ze$2(a));const v=mt$2(p);if(r){if(a.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(d,v,mt$2(a.subarray(0,16)),v),a=a.subarray(16);}const m=16-o;if(m!==a.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(m!==12){const N=new Uint8Array(12);N.set(a,i?0:12-a.length),a=N,y.push(a);}const O=mt$2(a);return Is$1(t,d,v,O,u,l,f,s),Lt$2(...y),l}}const F$2=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Us{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=false,e=Fe$2(e),tt$1(e,32);const n=F$2(e,0),r=F$2(e,2),o=F$2(e,4),i=F$2(e,6),s=F$2(e,8),c=F$2(e,10),a=F$2(e,12),u=F$2(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|c<<2)&8191,this.r[7]=(c>>>11|a<<5)&8065,this.r[8]=(a>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=F$2(e,16+2*l);}process(e,n,r=false){const o=r?0:2048,{h:i,r:s}=this,c=s[0],a=s[1],u=s[2],l=s[3],f=s[4],h=s[5],y=s[6],E=s[7],p=s[8],d=s[9],v=F$2(e,n+0),m=F$2(e,n+2),O=F$2(e,n+4),N=F$2(e,n+6),$=F$2(e,n+8),B=F$2(e,n+10),A=F$2(e,n+12),T=F$2(e,n+14);let S=i[0]+(v&8191),L=i[1]+((v>>>13|m<<3)&8191),U=i[2]+((m>>>10|O<<6)&8191),_=i[3]+((O>>>7|N<<9)&8191),j=i[4]+((N>>>4|$<<12)&8191),g=i[5]+($>>>1&8191),w=i[6]+(($>>>14|B<<2)&8191),b=i[7]+((B>>>11|A<<5)&8191),I=i[8]+((A>>>8|T<<8)&8191),R=i[9]+(T>>>5|o),x=0,C=x+S*c+L*(5*d)+U*(5*p)+_*(5*E)+j*(5*y);x=C>>>13,C&=8191,C+=g*(5*h)+w*(5*f)+b*(5*l)+I*(5*u)+R*(5*a),x+=C>>>13,C&=8191;let P=x+S*a+L*c+U*(5*d)+_*(5*p)+j*(5*E);x=P>>>13,P&=8191,P+=g*(5*y)+w*(5*h)+b*(5*f)+I*(5*l)+R*(5*u),x+=P>>>13,P&=8191;let k=x+S*u+L*a+U*c+_*(5*d)+j*(5*p);x=k>>>13,k&=8191,k+=g*(5*E)+w*(5*y)+b*(5*h)+I*(5*f)+R*(5*l),x+=k>>>13,k&=8191;let M=x+S*l+L*u+U*a+_*c+j*(5*d);x=M>>>13,M&=8191,M+=g*(5*p)+w*(5*E)+b*(5*y)+I*(5*h)+R*(5*f),x+=M>>>13,M&=8191;let D=x+S*f+L*l+U*u+_*a+j*c;x=D>>>13,D&=8191,D+=g*(5*d)+w*(5*p)+b*(5*E)+I*(5*y)+R*(5*h),x+=D>>>13,D&=8191;let z=x+S*h+L*f+U*l+_*u+j*a;x=z>>>13,z&=8191,z+=g*c+w*(5*d)+b*(5*p)+I*(5*E)+R*(5*y),x+=z>>>13,z&=8191;let Z=x+S*y+L*h+U*f+_*l+j*u;x=Z>>>13,Z&=8191,Z+=g*a+w*c+b*(5*d)+I*(5*p)+R*(5*E),x+=Z>>>13,Z&=8191;let it=x+S*E+L*y+U*h+_*f+j*l;x=it>>>13,it&=8191,it+=g*u+w*a+b*c+I*(5*d)+R*(5*p),x+=it>>>13,it&=8191;let W=x+S*p+L*E+U*y+_*h+j*f;x=W>>>13,W&=8191,W+=g*l+w*u+b*a+I*c+R*(5*d),x+=W>>>13,W&=8191;let J=x+S*d+L*p+U*E+_*y+j*h;x=J>>>13,J&=8191,J+=g*f+w*l+b*u+I*a+R*c,x+=J>>>13,J&=8191,x=(x<<2)+x|0,x=x+C|0,C=x&8191,x=x>>>13,P+=x,i[0]=C,i[1]=P,i[2]=k,i[3]=M,i[4]=D,i[5]=z,i[6]=Z,i[7]=it,i[8]=W,i[9]=J;}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=o,o=e[c]>>>13,e[c]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let i=(o^1)-1;for(let c=0;c<10;c++)r[c]&=i;i=~i;for(let c=0;c<10;c++)e[c]=e[c]&i|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+n[0];e[0]=s&65535;for(let c=1;c<8;c++)s=(e[c]+n[c]|0)+(s>>>16)|0,e[c]=s&65535;Lt$2(r);}update(e){Or$1(this);const{buffer:n,blockLen:r}=this;e=Fe$2(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s===r){for(;r<=o-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(n,0,false),this.pos=0);}return this}destroy(){Lt$2(this.h,this.r,this.buffer,this.pad);}digestInto(e){Or$1(this),ps(e,this),this.finished=true;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,true);}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=r[s]>>>0,e[i++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Ts$1(t){const e=(r,o)=>t(o).update(Fe$2(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Rs$1=Ts$1(t=>new Us(t));function _s(t,e,n,r,o,i=20){let s=t[0],c=t[1],a=t[2],u=t[3],l=e[0],f=e[1],h=e[2],y=e[3],E=e[4],p=e[5],d=e[6],v=e[7],m=o,O=n[0],N=n[1],$=n[2],B=s,A=c,T=a,S=u,L=l,U=f,_=h,j=y,g=E,w=p,b=d,I=v,R=m,x=O,C=N,P=$;for(let M=0;M<i;M+=2)B=B+L|0,R=V$3(R^B,16),g=g+R|0,L=V$3(L^g,12),B=B+L|0,R=V$3(R^B,8),g=g+R|0,L=V$3(L^g,7),A=A+U|0,x=V$3(x^A,16),w=w+x|0,U=V$3(U^w,12),A=A+U|0,x=V$3(x^A,8),w=w+x|0,U=V$3(U^w,7),T=T+_|0,C=V$3(C^T,16),b=b+C|0,_=V$3(_^b,12),T=T+_|0,C=V$3(C^T,8),b=b+C|0,_=V$3(_^b,7),S=S+j|0,P=V$3(P^S,16),I=I+P|0,j=V$3(j^I,12),S=S+j|0,P=V$3(P^S,8),I=I+P|0,j=V$3(j^I,7),B=B+U|0,P=V$3(P^B,16),b=b+P|0,U=V$3(U^b,12),B=B+U|0,P=V$3(P^B,8),b=b+P|0,U=V$3(U^b,7),A=A+_|0,R=V$3(R^A,16),I=I+R|0,_=V$3(_^I,12),A=A+_|0,R=V$3(R^A,8),I=I+R|0,_=V$3(_^I,7),T=T+j|0,x=V$3(x^T,16),g=g+x|0,j=V$3(j^g,12),T=T+j|0,x=V$3(x^T,8),g=g+x|0,j=V$3(j^g,7),S=S+L|0,C=V$3(C^S,16),w=w+C|0,L=V$3(L^w,12),S=S+L|0,C=V$3(C^S,8),w=w+C|0,L=V$3(L^w,7);let k=0;r[k++]=s+B|0,r[k++]=c+A|0,r[k++]=a+T|0,r[k++]=u+S|0,r[k++]=l+L|0,r[k++]=f+U|0,r[k++]=h+_|0,r[k++]=y+j|0,r[k++]=E+g|0,r[k++]=p+w|0,r[k++]=d+b|0,r[k++]=v+I|0,r[k++]=m+R|0,r[k++]=O+x|0,r[k++]=N+C|0,r[k++]=$+P|0;}const $s=Ns$1(_s,{counterRight:false,counterLength:4,allowShortKeys:false}),Ls$1=new Uint8Array(16),Rr$1=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Ls$1.subarray(n));},js=new Uint8Array(32);function _r$1(t,e,n,r,o){const i=t(e,n,js),s=Rs$1.create(i);o&&Rr$1(s,o),Rr$1(s,r);const c=new Uint8Array(16),a=gs(c);Ir$1(a,0,BigInt(o?o.length:0),true),Ir$1(a,8,BigInt(r.length),true),s.update(c);const u=s.digest();return Lt$2(i,c),u}const Cs$1=t=>(e,n,r)=>({encrypt(i,s){const c=i.length;s=Br$1(c+16,s,false),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const u=_r$1(t,e,n,a,r);return s.set(u,c),Lt$2(u),s},decrypt(i,s){s=Br$1(i.length-16,s,false);const c=i.subarray(0,-16),a=i.subarray(-16),u=_r$1(t,e,n,c,r);if(!bs$1(a,u))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Lt$2(u),s}}),$r$1=Es({blockSize:64,nonceLength:12,tagLength:16},Cs$1($s));let Lr$1 = class Lr extends Pe$1{constructor(e,n){super(),this.finished=false,this.destroyed=false,je$2(e);const r=_t$2(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0);}update(e){return Tt$2(this),this.iHash.update(e),this}digestInto(e){Tt$2(this),Wt$2(e,this.outputLen),this.finished=true,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy();}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=true,this.oHash.destroy(),this.iHash.destroy();}};const pe$2=(t,e,n)=>new Lr$1(t,e).update(n).digest();pe$2.create=(t,e)=>new Lr$1(t,e);function Ps$1(t,e,n){return je$2(t),n===void 0&&(n=new Uint8Array(t.outputLen)),pe$2(t,_t$2(n),_t$2(e))}const Ye$2=new Uint8Array([0]),jr$1=new Uint8Array;function ks$1(t,e,n,r=32){if(je$2(t),Gt$2(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/t.outputLen);n===void 0&&(n=jr$1);const i=new Uint8Array(o*t.outputLen),s=pe$2.create(t,e),c=s._cloneInto(),a=new Uint8Array(s.outputLen);for(let u=0;u<o;u++)Ye$2[0]=u+1,c.update(u===0?jr$1:a).update(n).update(Ye$2).digestInto(a),i.set(a,t.outputLen*u),s._cloneInto(c);return s.destroy(),c.destroy(),a.fill(0),Ye$2.fill(0),i.slice(0,r)}const Vs$1=(t,e,n,r,o)=>ks$1(t,Ps$1(t,e,n),r,o);function Ms(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=r?4:0,u=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r);}function Ds$1(t,e,n){return t&e^~t&n}function Hs(t,e,n){return t&e^t&n^e&n}let qs$1 = class qs extends Pe$1{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=false,this.length=0,this.pos=0,this.destroyed=false,this.buffer=new Uint8Array(e),this.view=Ce$1(this.buffer);}update(e){Tt$2(this);const{view:n,buffer:r,blockLen:o}=this;e=_t$2(e);const i=e.length;for(let s=0;s<i;){const c=Math.min(o-this.pos,i-s);if(c===o){const a=Ce$1(e);for(;o<=i-s;s+=o)this.process(a,s);continue}r.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(n,0),this.pos=0);}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tt$2(this),Gn$1(e,this),this.finished=true;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let f=s;f<o;f++)n[f]=0;Ms(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=Ce$1(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,l[f],i);}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:c}=this;return e.length=o,e.pos=c,e.finished=i,e.destroyed=s,o%n&&e.buffer.set(r),e}};const Ks=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wt$2=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bt$1=new Uint32Array(64);class Fs extends qs$1{constructor(){super(64,32,8,false),this.A=wt$2[0]|0,this.B=wt$2[1]|0,this.C=wt$2[2]|0,this.D=wt$2[3]|0,this.E=wt$2[4]|0,this.F=wt$2[5]|0,this.G=wt$2[6]|0,this.H=wt$2[7]|0;}get(){const{A:e,B:n,C:r,D:o,E:i,F:s,G:c,H:a}=this;return [e,n,r,o,i,s,c,a]}set(e,n,r,o,i,s,c,a){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=a|0;}process(e,n){for(let f=0;f<16;f++,n+=4)bt$1[f]=e.getUint32(n,false);for(let f=16;f<64;f++){const h=bt$1[f-15],y=bt$1[f-2],E=st$1(h,7)^st$1(h,18)^h>>>3,p=st$1(y,17)^st$1(y,19)^y>>>10;bt$1[f]=p+bt$1[f-7]+E+bt$1[f-16]|0;}let{A:r,B:o,C:i,D:s,E:c,F:a,G:u,H:l}=this;for(let f=0;f<64;f++){const h=st$1(c,6)^st$1(c,11)^st$1(c,25),y=l+h+Ds$1(c,a,u)+Ks[f]+bt$1[f]|0,p=(st$1(r,2)^st$1(r,13)^st$1(r,22))+Hs(r,o,i)|0;l=u,u=a,a=c,c=s+y|0,s=i,i=o,o=r,r=y+p|0;}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,o,i,s,c,a,u,l);}roundClean(){bt$1.fill(0);}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0);}}const Jt$2=Qn$1(()=>new Fs);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ge$2=BigInt(0),ye$2=BigInt(1),zs=BigInt(2);function St$3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Qt$2(t){if(!St$3(t))throw new Error("Uint8Array expected")}function jt$2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Zs=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ct$1(t){Qt$2(t);let e="";for(let n=0;n<t.length;n++)e+=Zs[t[n]];return e}function Pt$2(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Ge$3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ge$2:BigInt("0x"+t)}const ut$2={_0:48,_9:57,A:65,F:70,a:97,f:102};function Cr$1(t){if(t>=ut$2._0&&t<=ut$2._9)return t-ut$2._0;if(t>=ut$2.A&&t<=ut$2.F)return t-(ut$2.A-10);if(t>=ut$2.a&&t<=ut$2.f)return t-(ut$2.a-10)}function kt$2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const s=Cr$1(t.charCodeAt(i)),c=Cr$1(t.charCodeAt(i+1));if(s===void 0||c===void 0){const a=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+i)}r[o]=s*16+c;}return r}function Ot$1(t){return Ge$3(Ct$1(t))}function te$1(t){return Qt$2(t),Ge$3(Ct$1(Uint8Array.from(t).reverse()))}function Vt$2(t,e){return kt$2(t.toString(16).padStart(e*2,"0"))}function me$2(t,e){return Vt$2(t,e).reverse()}function Ys(t){return kt$2(Pt$2(t))}function et$1(t,e,n){let r;if(typeof e=="string")try{r=kt$2(e);}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(St$3(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function ee$1(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Qt$2(o),e+=o.length;}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length;}return n}function Gs(t,e){if(t.length!==e.length)return  false;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Ws(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const We$2=t=>typeof t=="bigint"&&ge$2<=t;function we$2(t,e,n){return We$2(t)&&We$2(e)&&We$2(n)&&e<=t&&t<n}function ft$2(t,e,n,r){if(!we$2(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Pr$1(t){let e;for(e=0;t>ge$2;t>>=ye$2,e+=1);return e}function Xs$1(t,e){return t>>BigInt(e)&ye$2}function Js(t,e,n){return t|(n?ye$2:ge$2)<<BigInt(e)}const Xe$2=t=>(zs<<BigInt(t-1))-ye$2,Je$2=t=>new Uint8Array(t),kr$1=t=>Uint8Array.from(t);function Vr$1(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Je$2(t),o=Je$2(t),i=0;const s=()=>{r.fill(1),o.fill(0),i=0;},c=(...f)=>n(o,r,...f),a=(f=Je$2())=>{o=c(kr$1([0]),f),r=c(),f.length!==0&&(o=c(kr$1([1]),f),r=c());},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=c();const y=r.slice();h.push(y),f+=r.length;}return ee$1(...h)};return (f,h)=>{s(),a(f);let y;for(;!(y=h(u()));)a();return s(),y}}const Qs$1={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||St$3(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Mt$2(t,e,n={}){const r=(o,i,s)=>{const c=Qs$1[i];if(typeof c!="function")throw new Error("invalid validator function");const a=t[o];if(!(s&&a===void 0)&&!c(a,t))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+a)};for(const[o,i]of Object.entries(e))r(o,i,false);for(const[o,i]of Object.entries(n))r(o,i,true);return t}const tc=()=>{throw new Error("not implemented")};function Qe$2(t){const e=new WeakMap;return (n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}var ec=Object.freeze({__proto__:null,isBytes:St$3,abytes:Qt$2,abool:jt$2,bytesToHex:Ct$1,numberToHexUnpadded:Pt$2,hexToNumber:Ge$3,hexToBytes:kt$2,bytesToNumberBE:Ot$1,bytesToNumberLE:te$1,numberToBytesBE:Vt$2,numberToBytesLE:me$2,numberToVarBytesBE:Ys,ensureBytes:et$1,concatBytes:ee$1,equalBytes:Gs,utf8ToBytes:Ws,inRange:we$2,aInRange:ft$2,bitLen:Pr$1,bitGet:Xs$1,bitSet:Js,bitMask:Xe$2,createHmacDrbg:Vr$1,validateObject:Mt$2,notImplemented:tc,memoized:Qe$2});const q=BigInt(0),H$2=BigInt(1),At$1=BigInt(2),nc=BigInt(3),tn$1=BigInt(4),Mr$1=BigInt(5),Dr$1=BigInt(8);function X$1(t,e){const n=t%e;return n>=q?n:e+n}function Hr$1(t,e,n){if(e<q)throw new Error("invalid exponent, negatives unsupported");if(n<=q)throw new Error("invalid modulus");if(n===H$2)return q;let r=H$2;for(;e>q;)e&H$2&&(r=r*t%n),t=t*t%n,e>>=H$2;return r}function ot$1(t,e,n){let r=t;for(;e-- >q;)r*=r,r%=n;return r}function en$1(t,e){if(t===q)throw new Error("invert: expected non-zero number");if(e<=q)throw new Error("invert: expected positive modulus, got "+e);let n=X$1(t,e),r=e,o=q,i=H$2;for(;n!==q;){const c=r/n,a=r%n,u=o-i*c;r=n,n=a,o=i,i=u;}if(r!==H$2)throw new Error("invert: does not exist");return X$1(o,e)}function rc(t){const e=(t-H$2)/At$1;let n,r,o;for(n=t-H$2,r=0;n%At$1===q;n/=At$1,r++);for(o=At$1;o<t&&Hr$1(o,e,t)!==t-H$2;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(t+H$2)/tn$1;return function(a,u){const l=a.pow(u,s);if(!a.eql(a.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(n+H$2)/At$1;return function(c,a){if(c.pow(a,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,l=c.pow(c.mul(c.ONE,o),n),f=c.pow(a,i),h=c.pow(a,n);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let y=1;for(let p=c.sqr(h);y<u&&!c.eql(p,c.ONE);y++)p=c.sqr(p);const E=c.pow(l,H$2<<BigInt(u-y-1));l=c.sqr(E),f=c.mul(f,E),h=c.mul(h,l),u=y;}return f}}function oc(t){if(t%tn$1===nc){const e=(t+H$2)/tn$1;return function(r,o){const i=r.pow(o,e);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(t%Dr$1===Mr$1){const e=(t-Mr$1)/Dr$1;return function(r,o){const i=r.mul(o,At$1),s=r.pow(i,e),c=r.mul(o,s),a=r.mul(r.mul(c,At$1),s),u=r.mul(c,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),o))throw new Error("Cannot find square root");return u}}return rc(t)}const ic=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sc(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ic.reduce((r,o)=>(r[o]="function",r),e);return Mt$2(t,n)}function cc(t,e,n){if(n<q)throw new Error("invalid exponent, negatives unsupported");if(n===q)return t.ONE;if(n===H$2)return e;let r=t.ONE,o=e;for(;n>q;)n&H$2&&(r=t.mul(r,o)),o=t.sqr(o),n>>=H$2;return r}function ac(t,e){const n=new Array(e.length),r=e.reduce((i,s,c)=>t.is0(s)?i:(n[c]=i,t.mul(i,s)),t.ONE),o=t.inv(r);return e.reduceRight((i,s,c)=>t.is0(s)?i:(n[c]=t.mul(i,n[c]),t.mul(i,s)),o),n}function qr$1(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return {nBitLength:n,nByteLength:r}}function Kr$1(t,e,n=false,r={}){if(t<=q)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:o,nByteLength:i}=qr$1(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:i,MASK:Xe$2(o),ZERO:q,ONE:H$2,create:a=>X$1(a,t),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return q<=a&&a<t},is0:a=>a===q,isOdd:a=>(a&H$2)===H$2,neg:a=>X$1(-a,t),eql:(a,u)=>a===u,sqr:a=>X$1(a*a,t),add:(a,u)=>X$1(a+u,t),sub:(a,u)=>X$1(a-u,t),mul:(a,u)=>X$1(a*u,t),pow:(a,u)=>cc(c,a,u),div:(a,u)=>X$1(a*en$1(u,t),t),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>en$1(a,t),sqrt:r.sqrt||(a=>(s||(s=oc(t)),s(c,a))),invertBatch:a=>ac(c,a),cmov:(a,u,l)=>l?u:a,toBytes:a=>n?me$2(a,i):Vt$2(a,i),fromBytes:a=>{if(a.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+a.length);return n?te$1(a):Ot$1(a)}});return Object.freeze(c)}function Fr$1(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function zr$1(t){const e=Fr$1(t);return e+Math.ceil(e/2)}function uc(t,e,n=false){const r=t.length,o=Fr$1(e),i=zr$1(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=n?te$1(t):Ot$1(t),c=X$1(s,e-H$2)+H$2;return n?me$2(c,o):Vt$2(c,o)}const Zr$1=BigInt(0),be$2=BigInt(1);function nn$1(t,e){const n=e.negate();return t?n:e}function Yr$1(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function rn$1(t,e){Yr$1(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return {windows:n,windowSize:r}}function fc(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)});}function lc(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)});}const on$1=new WeakMap,Gr$1=new WeakMap;function sn$1(t){return Gr$1.get(t)||1}function dc(t,e){return {constTimeNegate:nn$1,hasPrecomputes(n){return sn$1(n)!==1},unsafeLadder(n,r,o=t.ZERO){let i=n;for(;r>Zr$1;)r&be$2&&(o=o.add(i)),i=i.double(),r>>=be$2;return o},precomputeWindow(n,r){const{windows:o,windowSize:i}=rn$1(r,e),s=[];let c=n,a=c;for(let u=0;u<o;u++){a=c,s.push(a);for(let l=1;l<i;l++)a=a.add(c),s.push(a);c=a.double();}return s},wNAF(n,r,o){const{windows:i,windowSize:s}=rn$1(n,e);let c=t.ZERO,a=t.BASE;const u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let h=0;h<i;h++){const y=h*s;let E=Number(o&u);o>>=f,E>s&&(E-=l,o+=be$2);const p=y,d=y+Math.abs(E)-1,v=h%2!==0,m=E<0;E===0?a=a.add(nn$1(v,r[p])):c=c.add(nn$1(m,r[d]));}return {p:c,f:a}},wNAFUnsafe(n,r,o,i=t.ZERO){const{windows:s,windowSize:c}=rn$1(n,e),a=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let f=0;f<s;f++){const h=f*c;if(o===Zr$1)break;let y=Number(o&a);if(o>>=l,y>c&&(y-=u,o+=be$2),y===0)continue;let E=r[h+Math.abs(y)-1];y<0&&(E=E.negate()),i=i.add(E);}return i},getPrecomputes(n,r,o){let i=on$1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&on$1.set(r,o(i))),i},wNAFCached(n,r,o){const i=sn$1(n);return this.wNAF(i,this.getPrecomputes(i,n,o),r)},wNAFCachedUnsafe(n,r,o,i){const s=sn$1(n);return s===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,n,o),r,i)},setWindowSize(n,r){Yr$1(r,e),Gr$1.set(n,r),on$1.delete(n);}}}function hc(t,e,n,r){if(fc(n,t),lc(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,i=Pr$1(BigInt(n.length)),s=i>12?i-3:i>4?i-2:i?2:1,c=(1<<s)-1,a=new Array(c+1).fill(o),u=Math.floor((e.BITS-1)/s)*s;let l=o;for(let f=u;f>=0;f-=s){a.fill(o);for(let y=0;y<r.length;y++){const E=r[y],p=Number(E>>BigInt(f)&BigInt(c));a[p]=a[p].add(n[y]);}let h=o;for(let y=a.length-1,E=o;y>0;y--)E=E.add(a[y]),h=h.add(E);if(l=l.add(h),f!==0)for(let y=0;y<s;y++)l=l.double();}return l}function Wr$1(t){return sc(t.Fp),Mt$2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...qr$1(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Dt$1=BigInt(0),cn$1=BigInt(1);function pc(t){return Mt$2(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function gc(t){const e=pc(t),{P:n}=e,r=m=>X$1(m,n),o=e.montgomeryBits,i=Math.ceil(o/8),s=e.nByteLength,c=e.adjustScalarBytes||(m=>m),a=e.powPminus2||(m=>Hr$1(m,n-BigInt(2),n));function u(m,O,N){const $=r(m*(O-N));return O=r(O-$),N=r(N+$),[O,N]}const l=(e.a-BigInt(2))/BigInt(4);function f(m,O){ft$2("u",m,Dt$1,n),ft$2("scalar",O,Dt$1,n);const N=O,$=m;let B=cn$1,A=Dt$1,T=m,S=cn$1,L=Dt$1,U;for(let j=BigInt(o-1);j>=Dt$1;j--){const g=N>>j&cn$1;L^=g,U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1],L=g;const w=B+A,b=r(w*w),I=B-A,R=r(I*I),x=b-R,C=T+S,P=T-S,k=r(P*w),M=r(C*I),D=k+M,z=k-M;T=r(D*D),S=r($*r(z*z)),B=r(b*R),A=r(x*(b+r(l*x)));}U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1];const _=a(A);return r(B*_)}function h(m){return me$2(r(m),i)}function y(m){const O=et$1("u coordinate",m,i);return s===32&&(O[31]&=127),te$1(O)}function E(m){const O=et$1("scalar",m),N=O.length;if(N!==i&&N!==s){let $=""+i+" or "+s;throw new Error("invalid scalar, expected "+$+" bytes, got "+N)}return te$1(c(O))}function p(m,O){const N=y(O),$=E(m),B=f(N,$);if(B===Dt$1)throw new Error("invalid private or public key received");return h(B)}const d=h(e.Gu);function v(m){return p(m,d)}return {scalarMult:p,scalarMultBase:v,getSharedSecret:(m,O)=>p(m,O),getPublicKey:m=>v(m),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:d}}const an$1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const yc=BigInt(1),Xr$1=BigInt(2),mc=BigInt(3),wc=BigInt(5);BigInt(8);function bc(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=an$1,c=t*t%i*t%i,a=ot$1(c,Xr$1,i)*c%i,u=ot$1(a,yc,i)*t%i,l=ot$1(u,wc,i)*u%i,f=ot$1(l,e,i)*l%i,h=ot$1(f,n,i)*f%i,y=ot$1(h,r,i)*h%i,E=ot$1(y,o,i)*y%i,p=ot$1(E,o,i)*y%i,d=ot$1(p,e,i)*l%i;return {pow_p_5_8:ot$1(d,Xr$1,i)*t%i,b2:c}}function Ec(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const un$1=gc({P:an$1,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=an$1,{pow_p_5_8:n,b2:r}=bc(t);return X$1(ot$1(n,mc,e)*r,e)},adjustScalarBytes:Ec,randomBytes:$t$1});function Jr$1(t){t.lowS!==void 0&&jt$2("lowS",t.lowS),t.prehash!==void 0&&jt$2("prehash",t.prehash);}function vc(t){const e=Wr$1(t);Mt$2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:xc,hexToBytes:Sc}=ec;class Oc extends Error{constructor(e=""){super(e);}}const lt$1={Err:Oc,_tlv:{encode:(t,e)=>{const{Err:n}=lt$1;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,o=Pt$2(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Pt$2(o.length/2|128):"";return Pt$2(t)+i+o+e},decode(t,e){const{Err:n}=lt$1;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const o=e[r++],i=!!(o&128);let s=0;if(!i)s=o;else {const a=o&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)s=s<<8|l;if(r+=a,s<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+s);if(c.length!==s)throw new n("tlv.decode: wrong value length");return {v:c,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=lt$1;if(t<dt$2)throw new e("integer: negative integers are not allowed");let n=Pt$2(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=lt$1;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return xc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=lt$1,o=typeof t=="string"?Sc(t):t;Qt$2(o);const{v:i,l:s}=r.decode(48,o);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,i),{v:u,l}=r.decode(2,a);if(l.length)throw new e("invalid signature: left bytes after parsing");return {r:n.decode(c),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=lt$1,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}},dt$2=BigInt(0),K$1=BigInt(1);BigInt(2);const Qr=BigInt(3);BigInt(4);function Ac(t){const e=vc(t),{Fp:n}=e,r=Kr$1(e.n,e.nBitLength),o=e.toBytes||((p,d,v)=>{const m=d.toAffine();return ee$1(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),i=e.fromBytes||(p=>{const d=p.subarray(1),v=n.fromBytes(d.subarray(0,n.BYTES)),m=n.fromBytes(d.subarray(n.BYTES,2*n.BYTES));return {x:v,y:m}});function s(p){const{a:d,b:v}=e,m=n.sqr(p),O=n.mul(m,p);return n.add(n.add(O,n.mul(p,d)),v)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function c(p){return we$2(p,K$1,e.n)}function a(p){const{allowedPrivateKeyLengths:d,nByteLength:v,wrapPrivateKey:m,n:O}=e;if(d&&typeof p!="bigint"){if(St$3(p)&&(p=Ct$1(p)),typeof p!="string"||!d.includes(p.length))throw new Error("invalid private key");p=p.padStart(v*2,"0");}let N;try{N=typeof p=="bigint"?p:Ot$1(et$1("private key",p,v));}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof p)}return m&&(N=X$1(N,O)),ft$2("private key",N,K$1,O),N}function u(p){if(!(p instanceof h))throw new Error("ProjectivePoint expected")}const l=Qe$2((p,d)=>{const{px:v,py:m,pz:O}=p;if(n.eql(O,n.ONE))return {x:v,y:m};const N=p.is0();d==null&&(d=N?n.ONE:n.inv(O));const $=n.mul(v,d),B=n.mul(m,d),A=n.mul(O,d);if(N)return {x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return {x:$,y:B}}),f=Qe$2(p=>{if(p.is0()){if(e.allowInfinityPoint&&!n.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:d,y:v}=p.toAffine();if(!n.isValid(d)||!n.isValid(v))throw new Error("bad point: x or y not FE");const m=n.sqr(v),O=s(d);if(!n.eql(m,O))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return  true});class h{constructor(d,v,m){if(this.px=d,this.py=v,this.pz=m,d==null||!n.isValid(d))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required");Object.freeze(this);}static fromAffine(d){const{x:v,y:m}=d||{};if(!d||!n.isValid(v)||!n.isValid(m))throw new Error("invalid affine point");if(d instanceof h)throw new Error("projective point not allowed");const O=N=>n.eql(N,n.ZERO);return O(v)&&O(m)?h.ZERO:new h(v,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){const v=n.invertBatch(d.map(m=>m.pz));return d.map((m,O)=>m.toAffine(v[O])).map(h.fromAffine)}static fromHex(d){const v=h.fromAffine(i(et$1("pointHex",d)));return v.assertValidity(),v}static fromPrivateKey(d){return h.BASE.multiply(a(d))}static msm(d,v){return hc(h,r,d,v)}_setWindowSize(d){E.setWindowSize(this,d);}assertValidity(){f(this);}hasEvenY(){const{y:d}=this.toAffine();if(n.isOdd)return !n.isOdd(d);throw new Error("Field doesn't support isOdd")}equals(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d,A=n.eql(n.mul(v,B),n.mul(N,O)),T=n.eql(n.mul(m,B),n.mul($,O));return A&&T}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:d,b:v}=e,m=n.mul(v,Qr),{px:O,py:N,pz:$}=this;let B=n.ZERO,A=n.ZERO,T=n.ZERO,S=n.mul(O,O),L=n.mul(N,N),U=n.mul($,$),_=n.mul(O,N);return _=n.add(_,_),T=n.mul(O,$),T=n.add(T,T),B=n.mul(d,T),A=n.mul(m,U),A=n.add(B,A),B=n.sub(L,A),A=n.add(L,A),A=n.mul(B,A),B=n.mul(_,B),T=n.mul(m,T),U=n.mul(d,U),_=n.sub(S,U),_=n.mul(d,_),_=n.add(_,T),T=n.add(S,S),S=n.add(T,S),S=n.add(S,U),S=n.mul(S,_),A=n.add(A,S),U=n.mul(N,$),U=n.add(U,U),S=n.mul(U,_),B=n.sub(B,S),T=n.mul(U,L),T=n.add(T,T),T=n.add(T,T),new h(B,A,T)}add(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d;let A=n.ZERO,T=n.ZERO,S=n.ZERO;const L=e.a,U=n.mul(e.b,Qr);let _=n.mul(v,N),j=n.mul(m,$),g=n.mul(O,B),w=n.add(v,m),b=n.add(N,$);w=n.mul(w,b),b=n.add(_,j),w=n.sub(w,b),b=n.add(v,O);let I=n.add(N,B);return b=n.mul(b,I),I=n.add(_,g),b=n.sub(b,I),I=n.add(m,O),A=n.add($,B),I=n.mul(I,A),A=n.add(j,g),I=n.sub(I,A),S=n.mul(L,b),A=n.mul(U,g),S=n.add(A,S),A=n.sub(j,S),S=n.add(j,S),T=n.mul(A,S),j=n.add(_,_),j=n.add(j,_),g=n.mul(L,g),b=n.mul(U,b),j=n.add(j,g),g=n.sub(_,g),g=n.mul(L,g),b=n.add(b,g),_=n.mul(j,b),T=n.add(T,_),_=n.mul(I,b),A=n.mul(w,A),A=n.sub(A,_),_=n.mul(w,j),S=n.mul(I,S),S=n.add(S,_),new h(A,T,S)}subtract(d){return this.add(d.negate())}is0(){return this.equals(h.ZERO)}wNAF(d){return E.wNAFCached(this,d,h.normalizeZ)}multiplyUnsafe(d){const{endo:v,n:m}=e;ft$2("scalar",d,dt$2,m);const O=h.ZERO;if(d===dt$2)return O;if(this.is0()||d===K$1)return this;if(!v||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,d,h.normalizeZ);let{k1neg:N,k1:$,k2neg:B,k2:A}=v.splitScalar(d),T=O,S=O,L=this;for(;$>dt$2||A>dt$2;)$&K$1&&(T=T.add(L)),A&K$1&&(S=S.add(L)),L=L.double(),$>>=K$1,A>>=K$1;return N&&(T=T.negate()),B&&(S=S.negate()),S=new h(n.mul(S.px,v.beta),S.py,S.pz),T.add(S)}multiply(d){const{endo:v,n:m}=e;ft$2("scalar",d,K$1,m);let O,N;if(v){const{k1neg:$,k1:B,k2neg:A,k2:T}=v.splitScalar(d);let{p:S,f:L}=this.wNAF(B),{p:U,f:_}=this.wNAF(T);S=E.constTimeNegate($,S),U=E.constTimeNegate(A,U),U=new h(n.mul(U.px,v.beta),U.py,U.pz),O=S.add(U),N=L.add(_);}else {const{p:$,f:B}=this.wNAF(d);O=$,N=B;}return h.normalizeZ([O,N])[0]}multiplyAndAddUnsafe(d,v,m){const O=h.BASE,N=(B,A)=>A===dt$2||A===K$1||!B.equals(O)?B.multiplyUnsafe(A):B.multiply(A),$=N(this,v).add(N(d,m));return $.is0()?void 0:$}toAffine(d){return l(this,d)}isTorsionFree(){const{h:d,isTorsionFree:v}=e;if(d===K$1)return  true;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:d,clearCofactor:v}=e;return d===K$1?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(d=true){return jt$2("isCompressed",d),this.assertValidity(),o(h,this,d)}toHex(d=true){return jt$2("isCompressed",d),Ct$1(this.toRawBytes(d))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const y=e.nBitLength,E=dc(h,e.endo?Math.ceil(y/2):y);return {CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:c}}function Bc(t){const e=Wr$1(t);return Mt$2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:true,...e})}function Ic(t){const e=Bc(t),{Fp:n,n:r}=e,o=n.BYTES+1,i=2*n.BYTES+1;function s(g){return X$1(g,r)}function c(g){return en$1(g,r)}const{ProjectivePoint:a,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=Ac({...e,toBytes(g,w,b){const I=w.toAffine(),R=n.toBytes(I.x),x=ee$1;return jt$2("isCompressed",b),b?x(Uint8Array.from([w.hasEvenY()?2:3]),R):x(Uint8Array.from([4]),R,n.toBytes(I.y))},fromBytes(g){const w=g.length,b=g[0],I=g.subarray(1);if(w===o&&(b===2||b===3)){const R=Ot$1(I);if(!we$2(R,K$1,n.ORDER))throw new Error("Point is not on curve");const x=l(R);let C;try{C=n.sqrt(x);}catch(M){const D=M instanceof Error?": "+M.message:"";throw new Error("Point is not on curve"+D)}const P=(C&K$1)===K$1;return (b&1)===1!==P&&(C=n.neg(C)),{x:R,y:C}}else if(w===i&&b===4){const R=n.fromBytes(I.subarray(0,n.BYTES)),x=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return {x:R,y:x}}else {const R=o,x=i;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+x+", got "+w)}}}),h=g=>Ct$1(Vt$2(g,e.nByteLength));function y(g){const w=r>>K$1;return g>w}function E(g){return y(g)?s(-g):g}const p=(g,w,b)=>Ot$1(g.slice(w,b));class d{constructor(w,b,I){this.r=w,this.s=b,this.recovery=I,this.assertValidity();}static fromCompact(w){const b=e.nByteLength;return w=et$1("compactSignature",w,b*2),new d(p(w,0,b),p(w,b,2*b))}static fromDER(w){const{r:b,s:I}=lt$1.toSig(et$1("DER",w));return new d(b,I)}assertValidity(){ft$2("r",this.r,K$1,r),ft$2("s",this.s,K$1,r);}addRecoveryBit(w){return new d(this.r,this.s,w)}recoverPublicKey(w){const{r:b,s:I,recovery:R}=this,x=B(et$1("msgHash",w));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const C=R===2||R===3?b+e.n:b;if(C>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const P=(R&1)===0?"02":"03",k=a.fromHex(P+h(C)),M=c(C),D=s(-x*M),z=s(I*M),Z=a.BASE.multiplyAndAddUnsafe(k,D,z);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return kt$2(this.toDERHex())}toDERHex(){return lt$1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kt$2(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(g){try{return u(g),!0}catch{return  false}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const g=zr$1(e.n);return uc(e.randomBytes(g),e.n)},precompute(g=8,w=a.BASE){return w._setWindowSize(g),w.multiply(BigInt(3)),w}};function m(g,w=true){return a.fromPrivateKey(g).toRawBytes(w)}function O(g){const w=St$3(g),b=typeof g=="string",I=(w||b)&&g.length;return w?I===o||I===i:b?I===2*o||I===2*i:g instanceof a}function N(g,w,b=true){if(O(g))throw new Error("first arg must be private key");if(!O(w))throw new Error("second arg must be public key");return a.fromHex(w).multiply(u(g)).toRawBytes(b)}const $=e.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");const w=Ot$1(g),b=g.length*8-e.nBitLength;return b>0?w>>BigInt(b):w},B=e.bits2int_modN||function(g){return s($(g))},A=Xe$2(e.nBitLength);function T(g){return ft$2("num < 2^"+e.nBitLength,g,dt$2,A),Vt$2(g,e.nByteLength)}function S(g,w,b=L){if(["recovered","canonical"].some(W=>W in b))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:R}=e;let{lowS:x,prehash:C,extraEntropy:P}=b;x==null&&(x=true),g=et$1("msgHash",g),Jr$1(b),C&&(g=et$1("prehashed msgHash",I(g)));const k=B(g),M=u(w),D=[T(M),T(k)];if(P!=null&&P!==false){const W=P===true?R(n.BYTES):P;D.push(et$1("extraEntropy",W));}const z=ee$1(...D),Z=k;function it(W){const J=$(W);if(!f(J))return;const Oe=c(J),Ft=a.BASE.multiply(J).toAffine(),vt=s(Ft.x);if(vt===dt$2)return;const zt=s(Oe*s(Z+vt*M));if(zt===dt$2)return;let Ut=(Ft.x===vt?0:2)|Number(Ft.y&K$1),vn=zt;return x&&y(zt)&&(vn=E(zt),Ut^=1),new d(vt,vn,Ut)}return {seed:z,k2sig:it}}const L={lowS:e.lowS,prehash:false},U={lowS:e.lowS,prehash:false};function _(g,w,b=L){const{seed:I,k2sig:R}=S(g,w,b),x=e;return Vr$1(x.hash.outputLen,x.nByteLength,x.hmac)(I,R)}a.BASE._setWindowSize(8);function j(g,w,b,I=U){const R=g;w=et$1("msgHash",w),b=et$1("publicKey",b);const{lowS:x,prehash:C,format:P}=I;if(Jr$1(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(P!==void 0&&P!=="compact"&&P!=="der")throw new Error("format must be compact or der");const k=typeof R=="string"||St$3(R),M=!k&&!P&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!k&&!M)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,z;try{if(M&&(D=new d(R.r,R.s)),k){try{P!=="compact"&&(D=d.fromDER(R));}catch(Ut){if(!(Ut instanceof lt$1.Err))throw Ut}!D&&P!=="der"&&(D=d.fromCompact(R));}z=a.fromHex(b);}catch{return  false}if(!D||x&&D.hasHighS())return  false;C&&(w=e.hash(w));const{r:Z,s:it}=D,W=B(w),J=c(it),Oe=s(W*J),Ft=s(Z*J),vt=a.BASE.multiplyAndAddUnsafe(z,Oe,Ft)?.toAffine();return vt?s(vt.x)===Z:false}return {CURVE:e,getPublicKey:m,getSharedSecret:N,sign:_,verify:j,ProjectivePoint:a,Signature:d,utils:v}}function Nc(t){return {hash:t,hmac:(e,...n)=>pe$2(t,e,Vi$1(...n)),randomBytes:$t$1}}function Uc(t,e){const n=r=>Ic({...t,...Nc(r)});return {...n(e),create:n}}const to$1=Kr$1(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Tc=to$1.create(BigInt("-3")),Rc=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),_c=Uc({a:Tc,b:Rc,Fp:to$1,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:false},Jt$2),fn$1="base10",G$2="base16",Ht$1="base64pad",Ee$3="base64url",qt$2="utf8",ln$1=0,Kt$2=1,ne$1=2,$c=0,eo$1=1,re$2=12,dn$1=32;function Lc(){const t=un$1.utils.randomPrivateKey(),e=un$1.getPublicKey(t);return {privateKey:srcExports.toString(t,G$2),publicKey:srcExports.toString(e,G$2)}}function jc(){const t=$t$1(dn$1);return srcExports.toString(t,G$2)}function Cc(t,e){const n=un$1.getSharedSecret(srcExports.fromString(t,G$2),srcExports.fromString(e,G$2)),r=Vs$1(Jt$2,n,void 0,void 0,dn$1);return srcExports.toString(r,G$2)}function Pc(t){const e=Jt$2(srcExports.fromString(t,G$2));return srcExports.toString(e,G$2)}function kc(t){const e=Jt$2(srcExports.fromString(t,qt$2));return srcExports.toString(e,G$2)}function hn$1(t){return srcExports.fromString(`${t}`,fn$1)}function Bt$2(t){return Number(srcExports.toString(t,fn$1))}function no$1(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ro$1(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Vc(t){const e=hn$1(typeof t.type<"u"?t.type:ln$1);if(Bt$2(e)===Kt$2&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?srcExports.fromString(t.senderPublicKey,G$2):void 0,r=typeof t.iv<"u"?srcExports.fromString(t.iv,G$2):$t$1(re$2),o=srcExports.fromString(t.symKey,G$2),i=$r$1(o,r).encrypt(srcExports.fromString(t.message,qt$2)),s=pn$1({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===Ee$3?no$1(s):s}function Mc(t){const e=srcExports.fromString(t.symKey,G$2),{sealed:n,iv:r}=ve$1({encoded:t.encoded,encoding:t.encoding}),o=$r$1(e,r).decrypt(n);if(o===null)throw new Error("Failed to decrypt");return srcExports.toString(o,qt$2)}function Dc(t,e){const n=hn$1(ne$1),r=$t$1(re$2),o=srcExports.fromString(t,qt$2),i=pn$1({type:n,sealed:o,iv:r});return e===Ee$3?no$1(i):i}function Hc(t,e){const{sealed:n}=ve$1({encoded:t,encoding:e});return srcExports.toString(n,qt$2)}function pn$1(t){if(Bt$2(t.type)===ne$1)return srcExports.toString(srcExports.concat([t.type,t.sealed]),Ht$1);if(Bt$2(t.type)===Kt$2){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return srcExports.toString(srcExports.concat([t.type,t.senderPublicKey,t.iv,t.sealed]),Ht$1)}return srcExports.toString(srcExports.concat([t.type,t.iv,t.sealed]),Ht$1)}function ve$1(t){const e=(t.encoding||Ht$1)===Ee$3?ro$1(t.encoded):t.encoded,n=srcExports.fromString(e,Ht$1),r=n.slice($c,eo$1),o=eo$1;if(Bt$2(r)===Kt$2){const a=o+dn$1,u=a+re$2,l=n.slice(o,a),f=n.slice(a,u),h=n.slice(u);return {type:r,sealed:h,iv:f,senderPublicKey:l}}if(Bt$2(r)===ne$1){const a=n.slice(o),u=$t$1(re$2);return {type:r,sealed:a,iv:u}}const i=o+re$2,s=n.slice(o,i),c=n.slice(i);return {type:r,sealed:c,iv:s}}function qc(t,e){const n=ve$1({encoded:t,encoding:e?.encoding});return oo$1({type:Bt$2(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?srcExports.toString(n.senderPublicKey,G$2):void 0,receiverPublicKey:e?.receiverPublicKey})}function oo$1(t){const e=t?.type||ln$1;if(e===Kt$2){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return {type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Kc(t){return t.type===Kt$2&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function Fc(t){return t.type===ne$1}function io$1(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return srcExports.concat([new Uint8Array([4]),e,n])}function zc(t,e){const[n,r,o]=t.split("."),i=Buffer.from(ro$1(o),"base64");if(i.length!==64)throw new Error("Invalid signature length");const s=i.slice(0,32),c=i.slice(32,64),a=`${n}.${r}`,u=Jt$2(a),l=io$1(e);if(!_c.verify(srcExports.concat([s,c]),u,l))throw new Error("Invalid signature");return sn$7(t).payload}const so$1="irn";function Zc(t){return t?.relay||{protocol:so$1}}function Yc(t){const e=C$5[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function co$1(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(o=>{if(o.startsWith(r)){const i=o.replace(r,""),s=t[o];n[i]=s;}}),n}function Gc(t){if(!t.includes("wc:")){const u=Le$3(t);u!=null&&u.includes("wc:")&&(t=u);}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),o=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",s=new URLSearchParams(i),c={};s.forEach((u,l)=>{c[l]=u;});const a=typeof c.methods=="string"?c.methods.split(","):void 0;return {protocol:r,topic:ao$1(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:co$1(c),methods:a,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function ao$1(t){return t.startsWith("//")?t.substring(2):t}function uo$1(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(o=>{const i=o,s=n+e+i;t[i]&&(r[s]=t[i]);}),r}function Wc(t){const e=new URLSearchParams,n=uo$1(t.relay);Object.keys(n).sort().forEach(o=>{e.set(o,n[o]);}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return `${t.protocol}:${t.topic}@${t.version}?${r}`}function Xc(t,e,n){return `${t}?wc_ev=${n}&topic=${e}`}function It$1(t){const e=[];return t.forEach(n=>{const[r,o]=n.split(":");e.push(`${r}:${o}`);}),e}function ho$1(t){const e=[];return Object.values(t).forEach(n=>{e.push(...It$1(n.accounts));}),e}function po$1(t,e){const n=[];return Object.values(t).forEach(r=>{It$1(r.accounts).includes(e)&&n.push(...r.methods);}),n}function go$1(t,e){const n=[];return Object.values(t).forEach(r=>{It$1(r.accounts).includes(e)&&n.push(...r.events);}),n}function gn$1(t){return t.includes(":")}function yo$1(t){return gn$1(t)?t.split(":")[0]:t}function mo$1(t){const e={};return t?.forEach(n=>{var r;const[o,i]=n.split(":");e[o]||(e[o]={accounts:[],chains:[],events:[],methods:[]}),e[o].accounts.push(n),(r=e[o].chains)==null||r.push(`${o}:${i}`);}),e}function ca(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=mo$1(e);for(const[r,o]of Object.entries(n))o.methods?o.methods=at$1(o.methods,t):o.methods=t,o.events=["chainChanged","accountsChanged"];return n}const wo$1={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},bo$1={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ht$2(t,e){const{message:n,code:r}=bo$1[t];return {message:e?`${n} ${e}`:n,code:r}}function Nt$1(t,e){const{message:n,code:r}=wo$1[t];return {message:e?`${n} ${e}`:n,code:r}}function oe$1(t,e){return Array.isArray(t)?true:false}function xe$1(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Et$2(t){return typeof t>"u"}function nt$1(t,e){return e&&Et$2(t)?true:typeof t=="string"&&!!t.trim().length}function Se$1(t,e){return e&&Et$2(t)?true:typeof t=="number"&&!isNaN(t)}function aa(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),o=Object.keys(n);let i=true;return gt$2(o,r)?(r.forEach(s=>{const{accounts:c,methods:a,events:u}=t.namespaces[s],l=It$1(c),f=n[s];(!gt$2(ce$2(s,f),l)||!gt$2(f.methods,a)||!gt$2(f.events,u))&&(i=false);}),i):false}function ie$2(t){return nt$1(t,false)&&t.includes(":")?t.split(":").length===2:false}function Eo$1(t){if(nt$1(t,false)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return !!e[2]&&ie$2(n)}}return  false}function ua(t){function e(n){try{return typeof new URL(n)<"u"}catch{return  false}}try{if(nt$1(t,!1)){if(e(t))return !0;const n=Le$3(t);return e(n)}}catch{}return  false}function fa(t){var e;return (e=t?.proposer)==null?void 0:e.publicKey}function la(t){return t?.topic}function da(t,e){let n=null;return nt$1(t?.publicKey,false)||(n=ht$2("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function mn$1(t){let e=true;return oe$1(t)?t.length&&(e=t.every(n=>nt$1(n,false))):e=false,e}function vo$1(t,e,n){let r=null;return oe$1(e)&&e.length?e.forEach(o=>{r||ie$2(o)||(r=Nt$1("UNSUPPORTED_CHAINS",`${n}, chain ${o} should be a string and conform to "namespace:chainId" format`));}):ie$2(t)||(r=Nt$1("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function xo$1(t,e,n){let r=null;return Object.entries(t).forEach(([o,i])=>{if(r)return;const s=vo$1(o,ce$2(o,i),`${e} ${n}`);s&&(r=s);}),r}function So$1(t,e){let n=null;return oe$1(t)?t.forEach(r=>{n||Eo$1(r)||(n=Nt$1("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`));}):n=Nt$1("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Oo$1(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=So$1(r?.accounts,`${e} namespace`);o&&(n=o);}),n}function Ao$1(t,e){let n=null;return mn$1(t?.methods)?mn$1(t?.events)||(n=Nt$1("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Nt$1("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function wn$1(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=Ao$1(r,`${e}, namespace`);o&&(n=o);}),n}function ha(t,e,n){let r=null;if(t&&xe$1(t)){const o=wn$1(t,e);o&&(r=o);const i=xo$1(t,e,n);i&&(r=i);}else r=ht$2("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Bo$1(t,e){let n=null;if(t&&xe$1(t)){const r=wn$1(t,e);r&&(n=r);const o=Oo$1(t,e);o&&(n=o);}else n=ht$2("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Io$1(t){return nt$1(t.protocol,true)}function pa(t,e){let n=false;return !t?n=true:t&&oe$1(t)&&t.length&&t.forEach(r=>{n=Io$1(r);}),n}function ga(t){return typeof t=="number"}function ya(t){return typeof t<"u"&&typeof t!==null}function ma(t){return !(!t||typeof t!="object"||!t.code||!Se$1(t.code,false)||!t.message||!nt$1(t.message,false))}function wa(t){return !(Et$2(t)||!nt$1(t.method,false))}function ba(t){return !(Et$2(t)||Et$2(t.result)&&Et$2(t.error)||!Se$1(t.id,false)||!nt$1(t.jsonrpc,false))}function Ea(t){return !(Et$2(t)||!nt$1(t.name,false))}function va(t,e){return !(!ie$2(e)||!ho$1(t).includes(e))}function xa(t,e,n){return nt$1(n,false)?po$1(t,e).includes(n):false}function Sa(t,e,n){return nt$1(n,false)?go$1(t,e).includes(n):false}function No$1(t,e,n){let r=null;const o=Oa(t),i=Aa(e),s=Object.keys(o),c=Object.keys(i),a=Uo$1(Object.keys(t)),u=Uo$1(Object.keys(e)),l=a.filter(f=>!u.includes(f));return l.length&&(r=ht$2("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(e).toString()}`)),gt$2(s,c)||(r=ht$2("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${c.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||r)return;const h=It$1(e[f].accounts);h.includes(f)||(r=ht$2("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${h.toString()}`));}),s.forEach(f=>{r||(gt$2(o[f].methods,i[f].methods)?gt$2(o[f].events,i[f].events)||(r=ht$2("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=ht$2("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`));}),r}function Oa(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(o=>{e[o]={methods:t[n].methods,events:t[n].events};});}),e}function Uo$1(t){return [...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Aa(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else {const r=It$1(t[n].accounts);r?.forEach(o=>{e[o]={accounts:t[n].accounts.filter(i=>i.includes(`${o}:`)),methods:t[n].methods,events:t[n].events};});}}),e}function Ba(t,e){return Se$1(t,false)&&t<=e.max&&t>=e.min}function Ia(){const t=xt$2();return new Promise(e=>{switch(t){case Y$1.browser:e(To$1());break;case Y$1.reactNative:e(Ro$1());break;case Y$1.node:e(_o$1());break;default:e(true);}})}function To$1(){return Yt$2()&&navigator?.onLine}async function Ro$1(){if(pt$2()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t?.isConnected}return  true}function _o$1(){return  true}function Na(t){switch(xt$2()){case Y$1.browser:$o$1(t);break;case Y$1.reactNative:Lo$1(t);break;}}function $o$1(t){!pt$2()&&Yt$2()&&(window.addEventListener("online",()=>t(true)),window.addEventListener("offline",()=>t(false)));}function Lo$1(t){pt$2()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected));}const bn$1={};class Ua{static get(e){return bn$1[e]}static set(e,n){bn$1[e]=n;}static delete(e){delete bn$1[e];}}

    const ze$1="wc",Le$2=2,he$1="core",B$1=`${ze$1}@2:${he$1}:`,Et$1={logger:"error"},It={database:":memory:"},Tt$1="crypto",ke$2="client_ed25519_seed",Ct=cjsExports$3.ONE_DAY,Pt$1="keychain",St$2="0.3",Rt$1="messages",Ot="0.3",je$1=cjsExports$3.SIX_HOURS,At="publisher",xt$1="irn",Nt="error",Ue$2="wss://relay.walletconnect.org",$t="relayer",C$2={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zt$1="_subscription",L$2={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Lt$1=.1,_e$2="2.19.2",Q={link_mode:"link_mode",relay:"relay"},le$1={inbound:"inbound",outbound:"outbound"},kt$1="0.3",jt$1="WALLETCONNECT_CLIENT_ID",Fe$1="WALLETCONNECT_LINK_MODE_APPS",$$3={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Ut$1="subscription",Ft$1="0.3",Mt$1="pairing",Kt$1="0.3",ie$1={wc_pairingDelete:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1e3},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1001}},wc_pairingPing:{req:{ttl:cjsExports$3.THIRTY_SECONDS,prompt:false,tag:1002},res:{ttl:cjsExports$3.THIRTY_SECONDS,prompt:false,tag:1003}},unregistered_method:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:0},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:0}}},se$1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},F$1={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Bt$1="history",Vt$1="0.3",qt$1="expirer",M$1={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Gt$1="0.3",Wt$1="verify-api",Xs="https://verify.walletconnect.com",Ht="https://verify.walletconnect.org",ue$1=Ht,Yt$1=`${ue$1}/v3`,Jt$1=[Xs,Ht],Xt$1="echo",Zt$1="https://echo.walletconnect.com",G$1={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Y={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Qs={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},er={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},tr={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},ir={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Qt$1=.1,ei="event-client",ti=86400,ii="https://pulse.walletconnect.org/batch";function sr(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+" is ambiguous");t[o]=s;}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return "";for(var b=0,x=0,I=0,D=u.length;I!==D&&u[I]===0;)I++,b++;for(var j=(D-I)*l+1>>>0,T=new Uint8Array(j);I!==D;){for(var q=u[I],J=0,K=j-1;(q!==0||J<x)&&K!==-1;K--,J++)q+=256*T[K]>>>0,T[K]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error("Non-zero carry");x=J,I++;}for(var H=j-x;H!==j&&T[H]===0;)H++;for(var me=c.repeat(b);H<j;++H)me+=r.charAt(T[H]);return me}function g(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var b=0;if(u[b]!==" "){for(var x=0,I=0;u[b]===c;)x++,b++;for(var D=(u.length-b)*h+1>>>0,j=new Uint8Array(D);u[b];){var T=t[u.charCodeAt(b)];if(T===255)return;for(var q=0,J=D-1;(T!==0||q<I)&&J!==-1;J--,q++)T+=a*j[J]>>>0,j[J]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");I=q,b++;}if(u[b]!==" "){for(var K=D-I;K!==D&&j[K]===0;)K++;for(var H=new Uint8Array(x+(D-K)),me=x;K!==D;)H[me++]=j[K++];return H}}}function _(u){var b=g(u);if(b)return b;throw new Error(`Non-${e} character`)}return {encode:d,decodeUnsafe:g,decode:_}}var rr=sr,nr=rr;const si=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},or=r=>new TextEncoder().encode(r),ar=r=>new TextDecoder().decode(r);class cr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i;}encode(e){if(e instanceof Uint8Array)return `${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class hr{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i;}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ri(this,e)}}class lr{constructor(e){this.decoders=e;}or(e){return ri(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ri=(r,e)=>new lr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class ur{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new cr(e,t,i),this.decoder=new hr(e,t,s);}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ee$2=({name:r,prefix:e,encode:t,decode:i})=>new ur(r,e,t,i),de$1=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=nr(t,e);return Ee$2({prefix:r,name:e,encode:i,decode:n=>si(s(n))})},dr=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]==="=";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const d=s[r[l]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a);}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},gr=(r,e,t)=>{const i=e[e.length-1]==="=",s=(1<<t)-1;let n="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+="=";return n},P$2=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Ee$2({prefix:e,name:r,encode(s){return gr(s,i,t)},decode(s){return dr(s,i,t,r)}}),pr=Ee$2({prefix:"\0",name:"identity",encode:r=>ar(r),decode:r=>or(r)});var yr=Object.freeze({__proto__:null,identity:pr});const br=P$2({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var mr=Object.freeze({__proto__:null,base2:br});const fr=P$2({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Dr=Object.freeze({__proto__:null,base8:fr});const vr=de$1({prefix:"9",name:"base10",alphabet:"0123456789"});var wr=Object.freeze({__proto__:null,base10:vr});const _r=P$2({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Er=P$2({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ir=Object.freeze({__proto__:null,base16:_r,base16upper:Er});const Tr=P$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Cr=P$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pr=P$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Sr=P$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Rr=P$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Or=P$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ar=P$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xr=P$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Nr=P$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var $r=Object.freeze({__proto__:null,base32:Tr,base32upper:Cr,base32pad:Pr,base32padupper:Sr,base32hex:Rr,base32hexupper:Or,base32hexpad:Ar,base32hexpadupper:xr,base32z:Nr});const zr=de$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Lr=de$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kr=Object.freeze({__proto__:null,base36:zr,base36upper:Lr});const jr=de$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ur=de$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Fr=Object.freeze({__proto__:null,base58btc:jr,base58flickr:Ur});const Mr=P$2({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Kr=P$2({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Br=P$2({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Vr=P$2({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var qr=Object.freeze({__proto__:null,base64:Mr,base64pad:Kr,base64url:Br,base64urlpad:Vr});const ni=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Gr=ni.reduce((r,e,t)=>(r[t]=e,r),[]),Wr=ni.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Hr(r){return r.reduce((e,t)=>(e+=Gr[t],e),"")}function Yr(r){const e=[];for(const t of r){const i=Wr[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i);}return new Uint8Array(e)}const Jr=Ee$2({prefix:"\u{1F680}",name:"base256emoji",encode:Hr,decode:Yr});var Xr=Object.freeze({__proto__:null,base256emoji:Jr}),Zr=ai,oi=128,en=-128,tn=Math.pow(2,31);function ai(r,e,t){e=e||[],t=t||0;for(var i=t;r>=tn;)e[t++]=r&255|oi,r/=128;for(;r&en;)e[t++]=r&255|oi,r>>>=7;return e[t]=r|0,ai.bytes=t-i+1,e}var sn=Me$2,rn=128,ci=127;function Me$2(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw Me$2.bytes=0,new RangeError("Could not decode varint");o=r[n++],t+=s<28?(o&ci)<<s:(o&ci)*Math.pow(2,s),s+=7;}while(o>=rn);return Me$2.bytes=n-i,t}var nn=Math.pow(2,7),on=Math.pow(2,14),an=Math.pow(2,21),cn=Math.pow(2,28),hn=Math.pow(2,35),ln=Math.pow(2,42),un=Math.pow(2,49),dn=Math.pow(2,56),gn=Math.pow(2,63),pn=function(r){return r<nn?1:r<on?2:r<an?3:r<cn?4:r<hn?5:r<ln?6:r<un?7:r<dn?8:r<gn?9:10},yn={encode:Zr,decode:sn,encodingLength:pn},hi=yn;const li=(r,e,t=0)=>(hi.encode(r,e,t),e),ui=r=>hi.encodingLength(r),Ke$2=(r,e)=>{const t=e.byteLength,i=ui(r),s=i+ui(t),n=new Uint8Array(s+t);return li(r,n,0),li(t,n,i),n.set(e,s),new bn(r,t,e,n)};class bn{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s;}}const di=({name:r,code:e,encode:t})=>new mn(r,e,t);class mn{constructor(e,t,i){this.name=e,this.code=t,this.encode=i;}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ke$2(this.code,t):t.then(i=>Ke$2(this.code,i))}else throw Error("Unknown type, must be binary type")}}const gi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),fn=di({name:"sha2-256",code:18,encode:gi("SHA-256")}),Dn=di({name:"sha2-512",code:19,encode:gi("SHA-512")});var vn=Object.freeze({__proto__:null,sha256:fn,sha512:Dn});const pi=0,wn="identity",yi=si,_n=r=>Ke$2(pi,yi(r)),En={code:pi,name:wn,encode:yi,digest:_n};var In=Object.freeze({__proto__:null,identity:En});new TextEncoder,new TextDecoder;const bi={...yr,...mr,...Dr,...wr,...Ir,...$r,...kr,...Fr,...qr,...Xr};({...vn,...In});function Tn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function mi(r,e,t,i){return {name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const fi=mi("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Be$1=mi("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Tn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Cn={utf8:fi,"utf-8":fi,hex:bi.base16,latin1:Be$1,ascii:Be$1,binary:Be$1,...bi};function Pn(r,e="utf8"){const t=Cn[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return (e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var Sn=Object.defineProperty,Rn=(r,e,t)=>e in r?Sn(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,W$1=(r,e,t)=>Rn(r,typeof e!="symbol"?e+"":e,t);class Di{constructor(e,t){this.core=e,this.logger=t,W$1(this,"keychain",new Map),W$1(this,"name",Pt$1),W$1(this,"version",St$2),W$1(this,"initialized",false),W$1(this,"storagePrefix",B$1),W$1(this,"init",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=true;}}),W$1(this,"has",i=>(this.isInitialized(),this.keychain.has(i))),W$1(this,"set",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist();}),W$1(this,"get",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>"u"){const{message:n}=ht$2("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(n)}return s}),W$1(this,"del",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist();}),this.core=e,this.logger=E$7(t,this.name);}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,fi$1(e));}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?li$1(e):void 0}async persist(){await this.setKeyChain(this.keychain);}isInitialized(){if(!this.initialized){const{message:e}=ht$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}var On=Object.defineProperty,An=(r,e,t)=>e in r?On(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,S$3=(r,e,t)=>An(r,typeof e!="symbol"?e+"":e,t);class vi{constructor(e,t,i){this.core=e,this.logger=t,S$3(this,"name",Tt$1),S$3(this,"keychain"),S$3(this,"randomSessionIdentifier",jc()),S$3(this,"initialized",false),S$3(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=true);}),S$3(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),S$3(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),n=Po$3(s);return Qe$5(n.publicKey)}),S$3(this,"generateKeyPair",()=>{this.isInitialized();const s=Lc();return this.setPrivateKey(s.publicKey,s.privateKey)}),S$3(this,"signJWT",async s=>{this.isInitialized();const n=await this.getClientSeed(),o=Po$3(n),a=this.randomSessionIdentifier,c=Ct;return await Qo$1(a,s,c,o)}),S$3(this,"generateSharedKey",(s,n,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Cc(a,n);return this.setSymKey(c,o)}),S$3(this,"setSymKey",async(s,n)=>{this.isInitialized();const o=n||Pc(s);return await this.keychain.set(o,s),o}),S$3(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s);}),S$3(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s);}),S$3(this,"encode",async(s,n,o)=>{this.isInitialized();const a=oo$1(o),c=safeJsonStringify(n);if(Fc(a))return Dc(c,o?.encoding);if(Kc(a)){const g=a.senderPublicKey,_=a.receiverPublicKey;s=await this.generateSharedKey(g,_);}const h=this.getSymKey(s),{type:l,senderPublicKey:d}=a;return Vc({type:l,symKey:h,message:c,senderPublicKey:d,encoding:o?.encoding})}),S$3(this,"decode",async(s,n,o)=>{this.isInitialized();const a=qc(n,o);if(Fc(a)){const c=Hc(n,o?.encoding);return safeJsonParse(c)}if(Kc(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;s=await this.generateSharedKey(c,h);}try{const c=this.getSymKey(s),h=Mc({symKey:c,encoded:n,encoding:o?.encoding});return safeJsonParse(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c);}}),S$3(this,"getPayloadType",(s,n=Ht$1)=>{const o=ve$1({encoded:s,encoding:n});return Bt$2(o.type)}),S$3(this,"getPayloadSenderPublicKey",(s,n=Ht$1)=>{const o=ve$1({encoded:s,encoding:n});return o.senderPublicKey?srcExports.toString(o.senderPublicKey,G$2):void 0}),this.core=e,this.logger=E$7(t,this.name),this.keychain=i||new Di(this.core,this.logger);}get context(){return y$8(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ke$2);}catch{e=jc(),await this.keychain.set(ke$2,e);}return Pn(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ht$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}var xn=Object.defineProperty,Nn=Object.defineProperties,$n=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,Ve$1=(r,e,t)=>e in r?xn(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,kn=(r,e)=>{for(var t in e||(e={}))zn.call(e,t)&&Ve$1(r,t,e[t]);if(wi)for(var t of wi(e))Ln.call(e,t)&&Ve$1(r,t,e[t]);return r},jn=(r,e)=>Nn(r,$n(e)),k$2=(r,e,t)=>Ve$1(r,typeof e!="symbol"?e+"":e,t);class _i extends y$4{constructor(e,t){super(e,t),this.logger=e,this.core=t,k$2(this,"messages",new Map),k$2(this,"messagesWithoutClientAck",new Map),k$2(this,"name",Rt$1),k$2(this,"version",Ot),k$2(this,"initialized",false),k$2(this,"storagePrefix",B$1),k$2(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size});}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i);}finally{this.initialized=true;}}}),k$2(this,"set",async(i,s,n)=>{this.isInitialized();const o=kc(s);let a=this.messages.get(i);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(i,a),n===le$1.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,jn(kn({},c),{[o]:s}));}return await this.persist(),o}),k$2(this,"get",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>"u"&&(s={}),s}),k$2(this,"getWithoutAck",i=>{this.isInitialized();const s={};for(const n of i){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o);}return s}),k$2(this,"has",(i,s)=>{this.isInitialized();const n=this.get(i),o=kc(s);return typeof n[o]<"u"}),k$2(this,"ack",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>"u")return;const o=kc(s);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist();}),k$2(this,"del",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist();}),this.logger=E$7(e,this.name),this.core=t;}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,fi$1(e));}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,fi$1(e));}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?li$1(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?li$1(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck);}isInitialized(){if(!this.initialized){const{message:e}=ht$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Un=Object.defineProperty,Fn=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,Kn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,qe$1=(r,e,t)=>e in r?Un(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,Ie$1=(r,e)=>{for(var t in e||(e={}))Kn.call(e,t)&&qe$1(r,t,e[t]);if(Ei)for(var t of Ei(e))Bn.call(e,t)&&qe$1(r,t,e[t]);return r},Ge$2=(r,e)=>Fn(r,Mn(e)),V$2=(r,e,t)=>qe$1(r,typeof e!="symbol"?e+"":e,t);class Vn extends m$2{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,V$2(this,"events",new require$$0$3.EventEmitter),V$2(this,"name",At),V$2(this,"queue",new Map),V$2(this,"publishTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_MINUTE)),V$2(this,"initialPublishTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND*15)),V$2(this,"needsTransportRestart",false),V$2(this,"publish",async(i,s,n)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:s,opts:n}});const a=n?.ttl||je$1,c=Zc(n),h=n?.prompt||false,l=n?.tag||0,d=n?.id||getBigIntRpcId().toString(),g={topic:i,message:s,opts:{ttl:a,relay:c,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}},_=`Failed to publish payload, please try again. id:${d} tag:${l}`;try{const u=new Promise(async b=>{const x=({id:D})=>{g.opts.id===D&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(C$2.publish,x),b(g));};this.relayer.events.on(C$2.publish,x);const I=yi$1(new Promise((D,j)=>{this.rpcPublish({topic:i,message:s,ttl:a,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}).then(D).catch(T=>{this.logger.warn(T,T?.message),j(T);});}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${l}`);try{await I,this.events.removeListener(C$2.publish,x);}catch(D){this.queue.set(d,Ge$2(Ie$1({},g),{attempt:1})),this.logger.warn(D,D?.message);}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:i,message:s,opts:n}}),await yi$1(u,this.publishTimeout,_);}catch(u){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(u),(o=n?.internal)!=null&&o.throwOnFailedPublish)throw u}finally{this.queue.delete(d);}}),V$2(this,"on",(i,s)=>{this.events.on(i,s);}),V$2(this,"once",(i,s)=>{this.events.once(i,s);}),V$2(this,"off",(i,s)=>{this.events.off(i,s);}),V$2(this,"removeListener",(i,s)=>{this.events.removeListener(i,s);}),this.relayer=e,this.logger=E$7(t,this.name),this.registerEventListeners();}get context(){return y$8(this.logger)}async rpcPublish(e){var t,i,s,n;const{topic:o,message:a,ttl:c=je$1,prompt:h,tag:l,id:d,attestation:g,tvf:_}=e,u={method:Yc(Zc().protocol).publish,params:Ie$1({topic:o,message:a,ttl:c,prompt:h,tag:l,attestation:g},_),id:d};Et$2((t=u.params)==null?void 0:t.prompt)&&((i=u.params)==null||delete i.prompt),Et$2((s=u.params)==null?void 0:s.tag)&&((n=u.params)==null||delete n.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:u});const b=await this.relayer.request(u);return this.relayer.events.emit(C$2.publish,e),this.logger.debug("Successfully Published Payload"),b}removeRequestFromQueue(e){this.queue.delete(e);}checkQueue(){this.queue.forEach(async(e,t)=>{const i=e.attempt+1;this.queue.set(t,Ge$2(Ie$1({},e),{attempt:i}));const{topic:s,message:n,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish(Ge$2(Ie$1({},e),{topic:s,message:n,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`);});}registerEventListeners(){this.relayer.core.heartbeat.on(r$7.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=false,this.relayer.events.emit(C$2.connection_stalled);return}this.checkQueue();}),this.relayer.on(C$2.message_ack,e=>{this.removeRequestFromQueue(e.id.toString());});}}var qn=Object.defineProperty,Gn=(r,e,t)=>e in r?qn(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,re$1=(r,e,t)=>Gn(r,typeof e!="symbol"?e+"":e,t);class Wn{constructor(){re$1(this,"map",new Map),re$1(this,"set",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t]);}),re$1(this,"get",e=>this.map.get(e)||[]),re$1(this,"exists",(e,t)=>this.get(e).includes(t)),re$1(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter(n=>n!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s);}),re$1(this,"clear",()=>{this.map.clear();});}get topics(){return Array.from(this.map.keys())}}var Hn=Object.defineProperty,Yn=Object.defineProperties,Jn=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Xn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable,We$1=(r,e,t)=>e in r?Hn(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,ge$1=(r,e)=>{for(var t in e||(e={}))Xn.call(e,t)&&We$1(r,t,e[t]);if(Ii)for(var t of Ii(e))Zn.call(e,t)&&We$1(r,t,e[t]);return r},He$1=(r,e)=>Yn(r,Jn(e)),f$4=(r,e,t)=>We$1(r,typeof e!="symbol"?e+"":e,t);class Ti extends P$3{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,f$4(this,"subscriptions",new Map),f$4(this,"topicMap",new Wn),f$4(this,"events",new require$$0$3.EventEmitter),f$4(this,"name",Ut$1),f$4(this,"version",Ft$1),f$4(this,"pending",new Map),f$4(this,"cached",[]),f$4(this,"initialized",false),f$4(this,"storagePrefix",B$1),f$4(this,"subscribeTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_MINUTE)),f$4(this,"initialSubscribeTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND*15)),f$4(this,"clientId"),f$4(this,"batchSubscribeTopicsLimit",500),f$4(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=true;}),f$4(this,"subscribe",async(i,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}});try{const n=Zc(s),o={topic:i,relay:n,transportType:s?.transportType};this.pending.set(i,o);const a=await this.rpcSubscribe(i,n,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}})),a}catch(n){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(n),n}}),f$4(this,"unsubscribe",async(i,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s);}),f$4(this,"isSubscribed",i=>new Promise(s=>{s(this.topicMap.topics.includes(i));})),f$4(this,"isKnownTopic",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i));})),f$4(this,"on",(i,s)=>{this.events.on(i,s);}),f$4(this,"once",(i,s)=>{this.events.once(i,s);}),f$4(this,"off",(i,s)=>{this.events.off(i,s);}),f$4(this,"removeListener",(i,s)=>{this.events.removeListener(i,s);}),f$4(this,"start",async()=>{await this.onConnect();}),f$4(this,"stop",async()=>{await this.onDisconnect();}),f$4(this,"restart",async()=>{await this.restore(),await this.onRestart();}),f$4(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s);}),await this.batchSubscribe(i);}),f$4(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(r$7.pulse,async()=>{await this.checkPending();}),this.events.on($$3.created,async i=>{const s=$$3.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:i}),await this.persist();}),this.events.on($$3.deleted,async i=>{const s=$$3.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:i}),await this.persist();});}),this.relayer=e,this.logger=E$7(t,this.name),this.clientId="";}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=false;try{i=this.getSubscription(e).topic===t;}catch{}return i}reset(){this.cached=[],this.initialized=true;}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear();}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,t)));}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{const s=Zc(i);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const n=Nt$1("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,t,i){var s;(!i||i?.transportType===Q.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const n={method:Yc(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});const o=(s=i?.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(i?.transportType===Q.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(l=>this.logger.warn(l));},cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND)),a;const c=new Promise(async l=>{const d=g=>{g.topic===e&&(this.events.removeListener($$3.created,d),l(g.id));};this.events.on($$3.created,d);try{const g=await yi$1(new Promise((_,u)=>{this.relayer.request(n).catch(b=>{this.logger.warn(b,b?.message),u(b);}).then(_);}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener($$3.created,d),l(g);}catch{}}),h=await yi$1(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(C$2.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:Yc(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await yi$1(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s);}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again");}catch{this.relayer.events.emit(C$2.connection_stalled);}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:Yc(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let s;try{s=await await yi$1(new Promise((n,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a);}).then(n);}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again");}catch{this.relayer.events.emit(C$2.connection_stalled);}return s}rpcUnsubscribe(e,t,i){const s={method:Yc(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,He$1(ge$1({},t),{id:e})),this.pending.delete(t.topic);}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,ge$1({},t)),this.pending.delete(t.topic);});}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e);}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e);}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t);}addSubscription(e,t){this.subscriptions.set(e,ge$1({},t)),this.topicMap.set(t.topic,e),this.events.emit($$3.created,t);}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=ht$2("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit($$3.deleted,He$1(ge$1({},i),{reason:t}));}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($$3.sync);}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s);}}this.events.emit($$3.resubscribed);}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=ht$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values});}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e);}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>He$1(ge$1({},t),{id:await this.getSubscriptionId(t.topic)})))));}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await Ni$1(cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages));}async onConnect(){await this.restart(),this.reset();}onDisconnect(){this.onDisable();}isInitialized(){if(!this.initialized){const{message:e}=ht$2("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen());}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return kc(e+await this.getClientId())}}var Qn=Object.defineProperty,Ci=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,Ye$1=(r,e,t)=>e in r?Qn(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,Pi=(r,e)=>{for(var t in e||(e={}))eo.call(e,t)&&Ye$1(r,t,e[t]);if(Ci)for(var t of Ci(e))to.call(e,t)&&Ye$1(r,t,e[t]);return r},y$3=(r,e,t)=>Ye$1(r,typeof e!="symbol"?e+"":e,t);class Si extends d$3{constructor(e){super(e),y$3(this,"protocol","wc"),y$3(this,"version",2),y$3(this,"core"),y$3(this,"logger"),y$3(this,"events",new require$$0$3.EventEmitter),y$3(this,"provider"),y$3(this,"messages"),y$3(this,"subscriber"),y$3(this,"publisher"),y$3(this,"name",$t),y$3(this,"transportExplicitlyClosed",false),y$3(this,"initialized",false),y$3(this,"connectionAttemptInProgress",false),y$3(this,"relayUrl"),y$3(this,"projectId"),y$3(this,"packageName"),y$3(this,"bundleId"),y$3(this,"hasExperiencedNetworkDisruption",false),y$3(this,"pingTimeout"),y$3(this,"heartBeatTimeout",cjsExports$3.toMiliseconds(cjsExports$3.THIRTY_SECONDS+cjsExports$3.FIVE_SECONDS)),y$3(this,"reconnectTimeout"),y$3(this,"connectPromise"),y$3(this,"reconnectInProgress",false),y$3(this,"requestsInFlight",[]),y$3(this,"connectTimeout",cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND*15)),y$3(this,"request",async t=>{var i,s;this.logger.debug("Publishing Request Payload");const n=t.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:t.method,topic:(i=t.params)==null?void 0:i.topic},"relayer.request - publishing...");const o=`${n}:${((s=t.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${n}`),o}}),y$3(this,"resetPingTimeout",()=>{Re$1()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,s,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(n=(s=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||n.call(s);}catch(o){this.logger.warn(o,o?.message);}},this.heartBeatTimeout));}),y$3(this,"onPayloadHandler",t=>{this.onProviderPayload(t),this.resetPingTimeout();}),y$3(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(C$2.connect);}),y$3(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect();}),y$3(this,"onProviderErrorHandler",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(C$2.error,t),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose();}),y$3(this,"registerProviderListeners",()=>{this.provider.on(L$2.payload,this.onPayloadHandler),this.provider.on(L$2.connect,this.onConnectHandler),this.provider.on(L$2.disconnect,this.onDisconnectHandler),this.provider.on(L$2.error,this.onProviderErrorHandler);}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?E$7(e.logger,this.name):Ot$7(k$7({level:e.logger||Nt})),this.messages=new _i(this.logger,e.core),this.subscriber=new Ti(this,this.logger),this.publisher=new Vn(this,this.logger),this.relayUrl=e?.relayUrl||Ue$2,this.projectId=e.projectId,ei$1()?this.packageName=ri$1():ni$1()&&(this.bundleId=ri$1()),this.provider={};}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=true,this.subscriber.hasAnyTopics)try{await this.transportOpen();}catch(e){this.logger.warn(e,e?.message);}}get context(){return y$8(this.logger)}get connected(){var e,t,i;return ((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||false}get connecting(){var e,t,i;return ((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||false}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Q.relay},le$1.outbound);}async subscribe(e,t){var i,s,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>"u"?true:(s=t?.internal)==null?void 0:s.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"",c;const h=l=>{l.topic===e&&(this.subscriber.off($$3.created,h),c());};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on($$3.created,h);}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,Pi({internal:{throwOnFailedPublish:o}},t)).catch(g=>{o&&d(g);})||a,l();})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t);}on(e,t){this.events.on(e,t);}once(e,t){this.events.once(e,t);}off(e,t){this.events.off(e,t);}removeListener(e,t){this.events.removeListener(e,t);}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await yi$1(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect();}async transportClose(){this.transportExplicitlyClosed=true,await this.transportDisconnect();}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0;});}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen());}async confirmOnlineStateOrThrow(){if(!await Ia())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i);}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message);}this.logger.trace(`Batch of ${t.length} message events processed`);}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const s=Ei$1(cjsExports$3.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:"irn"},active:false};await this.core.pairing.pairings.set(i,n);}this.events.emit(C$2.message,e),await this.recordMessageEvent(e,le$1.inbound);}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=true,this.transportExplicitlyClosed=false;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error("Connection interrupted while trying to subscribe"));};this.provider.once(L$2.disconnect,n),await yi$1(new Promise((o,a)=>{this.provider.connect().then(o).catch(a);}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o);}).finally(()=>{this.provider.off(L$2.disconnect,n),clearTimeout(this.reconnectTimeout);}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"));};this.provider.once(L$2.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(L$2.disconnect,c);});}),this.hasExperiencedNetworkDisruption=!1,i();});}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=true;}finally{this.connectionAttemptInProgress=false;}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,cjsExports$3.toMiliseconds(t*1))),t++;}}startPingTimeout(){var e,t,i,s,n;if(Re$1())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on("ping",()=>{this.resetPingTimeout();})),this.resetPingTimeout();}catch(o){this.logger.warn(o,o?.message);}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$9(new f$9(si$1({sdkVersion:_e$2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:true,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners();}async recordMessageEvent(e,t){const{topic:i,message:s}=e;await this.messages.set(i,s,t);}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),true;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),true;const s=this.messages.has(t,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),isJsonRpcRequest(e)){if(!e.method.endsWith(zt$1))return;const t=e.params,{topic:i,message:s,publishedAt:n,attestation:o}=t.data,a={topic:i,message:s,publishedAt:n,transportType:Q.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Pi({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a);}else isJsonRpcResponse(e)&&this.events.emit(C$2.message_ack,e);}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,le$1.inbound),this.events.emit(C$2.message,e));}async acknowledgePayload(e){const t=formatJsonRpcResult(e.id,true);await this.provider.connection.send(t);}unregisterProviderListeners(){this.provider.off(L$2.payload,this.onPayloadHandler),this.provider.off(L$2.connect,this.onConnectHandler),this.provider.off(L$2.disconnect,this.onDisconnectHandler),this.provider.off(L$2.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout);}async registerEventListeners(){let e=await Ia();Na(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=true,await this.transportDisconnect(),this.transportExplicitlyClosed=false));});}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C$2.disconnect),this.connectionAttemptInProgress=false,!this.reconnectInProgress&&(this.reconnectInProgress=true,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=false;},cjsExports$3.toMiliseconds(Lt$1)))));}isInitialized(){if(!this.initialized){const{message:e}=ht$2("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect();}}function io(){}function Ri(r){if(!r||typeof r!="object")return  false;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)==="[object Object]":false}function Oi(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function Ai(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const so="[object RegExp]",ro="[object String]",no="[object Number]",oo="[object Boolean]",xi="[object Arguments]",ao="[object Symbol]",co="[object Date]",ho="[object Map]",lo="[object Set]",uo="[object Array]",go="[object Function]",po="[object ArrayBuffer]",Je$1="[object Object]",yo="[object Error]",bo="[object DataView]",mo="[object Uint8Array]",fo="[object Uint8ClampedArray]",Do="[object Uint16Array]",vo="[object Uint32Array]",wo="[object BigUint64Array]",_o="[object Int8Array]",Eo="[object Int16Array]",Io="[object Int32Array]",To="[object BigInt64Array]",Co="[object Float32Array]",Po="[object Float64Array]";function So(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function Ro(r,e,t){return pe$1(r,e,void 0,void 0,void 0,void 0,t)}function pe$1(r,e,t,i,s,n,o){const a=o(r,e,t,i,s,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case "bigint":case "string":case "boolean":case "symbol":case "undefined":return r===e;case "number":return r===e||Object.is(r,e);case "function":return r===e;case "object":return ye$1(r,e,n,o)}return ye$1(r,e,n,o)}function ye$1(r,e,t,i){if(Object.is(r,e))return  true;let s=Ai(r),n=Ai(e);if(s===xi&&(s=Je$1),n===xi&&(n=Je$1),s!==n)return  false;switch(s){case ro:return r.toString()===e.toString();case no:{const c=r.valueOf(),h=e.valueOf();return So(c,h)}case oo:case co:case ao:return Object.is(r.valueOf(),e.valueOf());case so:return r.source===e.source&&r.flags===e.flags;case go:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(s){case ho:{if(r.size!==e.size)return !1;for(const[c,h]of r.entries())if(!e.has(c)||!pe$1(h,e.get(c),c,r,e,t,i))return !1;return !0}case lo:{if(r.size!==e.size)return !1;const c=Array.from(r.values()),h=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],g=h.findIndex(_=>pe$1(d,_,void 0,r,e,t,i));if(g===-1)return !1;h.splice(g,1);}return !0}case uo:case mo:case fo:case Do:case vo:case wo:case _o:case Eo:case Io:case To:case Co:case Po:{if(typeof Buffer<"u"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return !1;for(let c=0;c<r.length;c++)if(!pe$1(r[c],e[c],c,r,e,t,i))return !1;return !0}case po:return r.byteLength!==e.byteLength?!1:ye$1(new Uint8Array(r),new Uint8Array(e),t,i);case bo:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:ye$1(new Uint8Array(r),new Uint8Array(e),t,i);case yo:return r.name===e.name&&r.message===e.message;case Je$1:{if(!(ye$1(r.constructor,e.constructor,t,i)||Ri(r)&&Ri(e)))return !1;const h=[...Object.keys(r),...Oi(r)],l=[...Object.keys(e),...Oi(e)];if(h.length!==l.length)return !1;for(let d=0;d<h.length;d++){const g=h[d],_=r[g];if(!Object.hasOwn(e,g))return !1;const u=e[g];if(!pe$1(_,u,g,r,e,t,i))return !1}return !0}default:return !1}}finally{t.delete(r),t.delete(e);}}function Oo(r,e){return Ro(r,e,io)}var Ao=Object.defineProperty,Ni=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable,Xe$1=(r,e,t)=>e in r?Ao(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,$i=(r,e)=>{for(var t in e||(e={}))xo.call(e,t)&&Xe$1(r,t,e[t]);if(Ni)for(var t of Ni(e))No.call(e,t)&&Xe$1(r,t,e[t]);return r},z$2=(r,e,t)=>Xe$1(r,typeof e!="symbol"?e+"":e,t);class zi extends f$5{constructor(e,t,i,s=B$1,n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,z$2(this,"map",new Map),z$2(this,"version",kt$1),z$2(this,"cached",[]),z$2(this,"initialized",false),z$2(this,"getKey"),z$2(this,"storagePrefix",B$1),z$2(this,"recentlyDeleted",[]),z$2(this,"recentlyDeletedLimit",200),z$2(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Et$2(o)?this.map.set(this.getKey(o),o):fa(o)?this.map.set(o.id,o):la(o)&&this.map.set(o.topic,o);}),this.cached=[],this.initialized=true);}),z$2(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist());}),z$2(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),z$2(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Oo(a[c],o[c]))):this.values)),z$2(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=$i($i({},this.getData(o)),a);this.map.set(o,c),await this.persist();}),z$2(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist());}),this.logger=E$7(t,this.name),this.storagePrefix=s,this.getKey=n;}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2);}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e);}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=ht$2("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=ht$2("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values);}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=ht$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values});}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e);}}isInitialized(){if(!this.initialized){const{message:e}=ht$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}var $o=Object.defineProperty,zo=(r,e,t)=>e in r?$o(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,p$3=(r,e,t)=>zo(r,typeof e!="symbol"?e+"":e,t);class Li{constructor(e,t){this.core=e,this.logger=t,p$3(this,"name",Mt$1),p$3(this,"version",Kt$1),p$3(this,"events",new require$$0$3),p$3(this,"pairings"),p$3(this,"initialized",false),p$3(this,"storagePrefix",B$1),p$3(this,"ignoredPayloadTypes",[Kt$2]),p$3(this,"registeredMethods",[]),p$3(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=true,this.logger.trace("Initialized"));}),p$3(this,"register",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])];}),p$3(this,"create",async i=>{this.isInitialized();const s=jc(),n=await this.core.crypto.setSymKey(s),o=Ei$1(cjsExports$3.FIVE_MINUTES),a={protocol:xt$1},c={topic:n,expiry:o,relay:a,active:false,methods:i?.methods},h=Wc({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(se$1.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:i?.transportType}),{topic:n,uri:h}}),p$3(this,"pair",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[G$1.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=Gc(i.uri);s.props.properties.topic=n,s.addTrace(G$1.pairing_uri_validation_success),s.addTrace(G$1.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(G$1.existing_pairing),l.active)throw s.setError(Y.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(G$1.pairing_not_expired);}const d=c||Ei$1(cjsExports$3.FIVE_MINUTES),g={topic:n,relay:a,expiry:d,active:false,methods:h};this.core.expirer.set(n,d),await this.pairings.set(n,g),s.addTrace(G$1.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(se$1.create,g),s.addTrace(G$1.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(G$1.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow();}catch{s.setError(Y.no_internet_connection);}try{await this.core.relayer.subscribe(n,{relay:a});}catch(_){throw s.setError(Y.subscribe_pairing_topic_failure),_}return s.addTrace(G$1.subscribe_pairing_topic_success),g}),p$3(this,"activate",async({topic:i})=>{this.isInitialized();const s=Ei$1(cjsExports$3.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:true,expiry:s});}),p$3(this,"ping",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=gi$1();this.events.once(xi$1("pairing_ping",n),({error:h})=>{h?c(h):a();}),await o();}}),p$3(this,"updateExpiry",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s});}),p$3(this,"updateMetadata",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s});}),p$3(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),p$3(this,"disconnect",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Nt$1("USER_DISCONNECTED")),await this.deletePairing(s));}),p$3(this,"formatUriFromPairing",i=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(s);return Wc({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),p$3(this,"sendRequest",async(i,s,n)=>{const o=formatJsonRpcRequest(s,n),a=await this.core.crypto.encode(i,o),c=ie$1[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),p$3(this,"sendResult",async(i,s,n)=>{const o=formatJsonRpcResult(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=ie$1[c].res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o);}),p$3(this,"sendError",async(i,s,n)=>{const o=formatJsonRpcError(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=ie$1[c]?ie$1[c].res:ie$1.unregistered_method.res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o);}),p$3(this,"deletePairing",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,Nt$1("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)]);}),p$3(this,"cleanup",async()=>{const i=this.pairings.getAll().filter(s=>vi$1(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)));}),p$3(this,"onRelayEventRequest",async i=>{const{topic:s,payload:n}=i;switch(n.method){case "wc_pairingPing":return await this.onPairingPingRequest(s,n);case "wc_pairingDelete":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),p$3(this,"onRelayEventResponse",async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;switch(o){case "wc_pairingPing":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(o)}}),p$3(this,"onPairingPingRequest",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(se$1.ping,{id:n,topic:i});}catch(o){await this.sendError(n,i,o),this.logger.error(o);}}),p$3(this,"onPairingPingResponse",(i,s)=>{const{id:n}=s;setTimeout(()=>{isJsonRpcResult(s)?this.events.emit(xi$1("pairing_ping",n),{}):isJsonRpcError(s)&&this.events.emit(xi$1("pairing_ping",n),{error:s.error});},500);}),p$3(this,"onPairingDeleteRequest",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(se$1.delete,{id:n,topic:i});}catch(o){await this.sendError(n,i,o),this.logger.error(o);}}),p$3(this,"onUnknownRpcMethodRequest",async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Nt$1("WC_METHOD_UNSUPPORTED",o);await this.sendError(n,i,a),this.logger.error(a);}catch(a){await this.sendError(n,i,a),this.logger.error(a);}}),p$3(this,"onUnknownRpcMethodResponse",i=>{this.registeredMethods.includes(i)||this.logger.error(Nt$1("WC_METHOD_UNSUPPORTED",i));}),p$3(this,"isValidPair",(i,s)=>{var n;if(!ya(i)){const{message:a}=ht$2("MISSING_OR_INVALID",`pair() params: ${i}`);throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(!ua(i.uri)){const{message:a}=ht$2("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw s.setError(Y.malformed_pairing_uri),new Error(a)}const o=Gc(i?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=ht$2("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ht$2("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&cjsExports$3.toMiliseconds(o?.expiryTimestamp)<Date.now()){s.setError(Y.pairing_expired);const{message:a}=ht$2("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),p$3(this,"isValidPing",async i=>{if(!ya(i)){const{message:n}=ht$2("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s);}),p$3(this,"isValidDisconnect",async i=>{if(!ya(i)){const{message:n}=ht$2("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s);}),p$3(this,"isValidPairingTopic",async i=>{if(!nt$1(i,false)){const{message:s}=ht$2("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=ht$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if(vi$1(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=ht$2("EXPIRED",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=E$7(t,this.name),this.pairings=new zi(this.core,this.logger,this.name,this.storagePrefix);}get context(){return y$8(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ht$2("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(C$2.message,async e=>{const{topic:t,message:i,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==Q.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(t,i);isJsonRpcRequest(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):isJsonRpcResponse(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,i);}catch(n){this.logger.error(n);}});}registerExpirerEvents(){this.core.expirer.on(M$1.expired,async e=>{const{topic:t}=bi$1(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,true),this.events.emit(se$1.expire,{topic:t}));});}}var Lo=Object.defineProperty,ko=(r,e,t)=>e in r?Lo(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,R$1=(r,e,t)=>ko(r,typeof e!="symbol"?e+"":e,t);class ki extends I$2{constructor(e,t){super(e,t),this.core=e,this.logger=t,R$1(this,"records",new Map),R$1(this,"events",new require$$0$3.EventEmitter),R$1(this,"name",Bt$1),R$1(this,"version",Vt$1),R$1(this,"cached",[]),R$1(this,"initialized",false),R$1(this,"storagePrefix",B$1),R$1(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=true);}),R$1(this,"set",(i,s,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:Ei$1(cjsExports$3.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(F$1.created,o);}),R$1(this,"resolve",async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>"u"&&(s.response=isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(F$1.updated,s));}),R$1(this,"get",async(i,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:s}),await this.getRecord(s))),R$1(this,"delete",(i,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<"u"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(F$1.deleted,n);}}),this.persist();}),R$1(this,"exists",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:false)),R$1(this,"on",(i,s)=>{this.events.on(i,s);}),R$1(this,"once",(i,s)=>{this.events.once(i,s);}),R$1(this,"off",(i,s)=>{this.events.off(i,s);}),R$1(this,"removeListener",(i,s)=>{this.events.removeListener(i,s);}),this.logger=E$7(t,this.name);}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const i={topic:t.topic,request:formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e);}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=ht$2("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(F$1.sync);}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=ht$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values});}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e);}}registerEventListeners(){this.events.on(F$1.created,e=>{const t=F$1.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e});}),this.events.on(F$1.updated,e=>{const t=F$1.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e});}),this.events.on(F$1.deleted,e=>{const t=F$1.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e});}),this.core.heartbeat.on(r$7.pulse,()=>{this.cleanup();});}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{cjsExports$3.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(F$1.deleted,t,!1),e=!0);}),e&&this.persist();}catch(e){this.logger.warn(e);}}isInitialized(){if(!this.initialized){const{message:e}=ht$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}var jo=Object.defineProperty,Uo=(r,e,t)=>e in r?jo(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,A$2=(r,e,t)=>Uo(r,typeof e!="symbol"?e+"":e,t);class ji extends S$4{constructor(e,t){super(e,t),this.core=e,this.logger=t,A$2(this,"expirations",new Map),A$2(this,"events",new require$$0$3.EventEmitter),A$2(this,"name",qt$1),A$2(this,"version",Gt$1),A$2(this,"cached",[]),A$2(this,"initialized",false),A$2(this,"storagePrefix",B$1),A$2(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=true);}),A$2(this,"has",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<"u"}catch{return  false}}),A$2(this,"set",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(M$1.created,{target:n,expiration:o});}),A$2(this,"get",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),A$2(this,"del",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(M$1.deleted,{target:s,expiration:n});}}),A$2(this,"on",(i,s)=>{this.events.on(i,s);}),A$2(this,"once",(i,s)=>{this.events.once(i,s);}),A$2(this,"off",(i,s)=>{this.events.off(i,s);}),A$2(this,"removeListener",(i,s)=>{this.events.removeListener(i,s);}),this.logger=E$7(t,this.name);}get context(){return y$8(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return mi$1(e);if(typeof e=="number")return wi$1(e);const{message:t}=ht$2("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e);}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(M$1.sync);}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=ht$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values});}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e);}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=ht$2("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;cjsExports$3.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t);}expire(e,t){this.expirations.delete(e),this.events.emit(M$1.expired,{target:e,expiration:t});}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e));}registerEventListeners(){this.core.heartbeat.on(r$7.pulse,()=>this.checkExpirations()),this.events.on(M$1.created,e=>{const t=M$1.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist();}),this.events.on(M$1.expired,e=>{const t=M$1.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist();}),this.events.on(M$1.deleted,e=>{const t=M$1.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist();});}isInitialized(){if(!this.initialized){const{message:e}=ht$2("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Fo=Object.defineProperty,Mo=(r,e,t)=>e in r?Fo(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,w$1=(r,e,t)=>Mo(r,typeof e!="symbol"?e+"":e,t);class Ui extends M$2{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,w$1(this,"name",Wt$1),w$1(this,"abortController"),w$1(this,"isDevEnv"),w$1(this,"verifyUrlV3",Yt$1),w$1(this,"storagePrefix",B$1),w$1(this,"version",Le$2),w$1(this,"publicKey"),w$1(this,"fetchPromise"),w$1(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&cjsExports$3.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()));}),w$1(this,"register",async s=>{if(!Yt$2()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=cjsExports$2.getDocument(),l=this.startAbortTimer(cjsExports$3.ONE_SECOND*5),d=await new Promise((g,_)=>{const u=()=>{window.removeEventListener("message",x),h.body.removeChild(b),_("attestation aborted");};this.abortController.signal.addEventListener("abort",u);const b=h.createElement("iframe");b.src=c,b.style.display="none",b.addEventListener("error",u,{signal:this.abortController.signal});const x=I=>{if(I.data&&typeof I.data=="string")try{const D=JSON.parse(I.data);if(D.type==="verify_attestation"){if(sn$7(D.attestation).payload.id!==o)return;clearInterval(l),h.body.removeChild(b),this.abortController.signal.removeEventListener("abort",u),window.removeEventListener("message",x),g(D.attestation===null?"":D.attestation);}}catch(D){this.logger.warn(D);}};h.body.appendChild(b),window.addEventListener("message",x,{signal:this.abortController.signal});});return this.logger.debug("jwt attestation",d),d}catch(h){this.logger.warn(h);}return ""}),w$1(this,"resolve",async s=>{if(this.isDevEnv)return "";const{attestationId:n,hash:o,encryptedId:a}=s;if(n===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(n){if(sn$7(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return h}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),w$1(this,"fetchAttestation",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(cjsExports$3.ONE_SECOND*5),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),w$1(this,"getVerifyUrl",s=>{let n=s||ue$1;return Jt$1.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${ue$1}`),n=ue$1),n}),w$1(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(cjsExports$3.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s);}}),w$1(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s;}),w$1(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0;}),w$1(this,"isValidJwtAttestation",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation");}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation");}}),w$1(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),w$1(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o));});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),w$1(this,"validateAttestation",(s,n)=>{const o=zc(s,n.publicKey),a={hasExpired:cjsExports$3.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return {origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=E$7(t,this.name),this.abortController=new AbortController,this.isDevEnv=Ii$1(),this.init();}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return y$8(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjsExports$3.toMiliseconds(e))}}var Ko=Object.defineProperty,Bo=(r,e,t)=>e in r?Ko(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,Fi=(r,e,t)=>Bo(r,typeof e!="symbol"?e+"":e,t);class Mi extends O$1{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Fi(this,"context",Xt$1),Fi(this,"registerDeviceToken",async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=false}=i,c=`${Zt$1}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})});}),this.logger=E$7(t,this.context);}}var Vo=Object.defineProperty,Ki=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable,Ze$1=(r,e,t)=>e in r?Vo(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,be$1=(r,e)=>{for(var t in e||(e={}))qo.call(e,t)&&Ze$1(r,t,e[t]);if(Ki)for(var t of Ki(e))Go.call(e,t)&&Ze$1(r,t,e[t]);return r},E$3=(r,e,t)=>Ze$1(r,typeof e!="symbol"?e+"":e,t);class Bi extends R$2{constructor(e,t,i=true){super(e,t,i),this.core=e,this.logger=t,E$3(this,"context",ei),E$3(this,"storagePrefix",B$1),E$3(this,"storageVersion",Qt$1),E$3(this,"events",new Map),E$3(this,"shouldPersist",false),E$3(this,"init",async()=>{if(!Ii$1())try{const s={eventId:Bi$1(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Mn$1(this.core.relayer.protocol,this.core.relayer.version,_e$2)}}};await this.sendEvent([s]);}catch(s){this.logger.warn(s);}}),E$3(this,"createEvent",s=>{const{event:n="ERROR",type:o="",properties:{topic:a,trace:c}}=s,h=Bi$1(),l=this.core.projectId||"",d=Date.now(),g=be$1({eventId:h,timestamp:d,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,g),this.shouldPersist=true),g}),E$3(this,"getEvent",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return be$1(be$1({},a),this.setMethods(a.eventId))}),E$3(this,"deleteEvent",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=true;}),E$3(this,"setEventListeners",()=>{this.core.heartbeat.on(r$7.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{cjsExports$3.fromMiliseconds(Date.now())-cjsExports$3.fromMiliseconds(s.timestamp)>ti&&(this.events.delete(s.eventId),this.shouldPersist=true);});});}),E$3(this,"setMethods",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),E$3(this,"addTrace",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=true);}),E$3(this,"setError",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=true);}),E$3(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=false;}),E$3(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,be$1(be$1({},n),this.setMethods(n.eventId)));});}catch(s){this.logger.warn(s);}}),E$3(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0;}catch(n){this.logger.warn(n);}}),E$3(this,"sendEvent",async s=>{const n=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${ii}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${_e$2}${n}`,{method:"POST",body:JSON.stringify(s)})}),E$3(this,"getAppDomain",()=>Pn$1().url),this.logger=E$7(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners();}):this.persist();}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Wo=Object.defineProperty,Vi=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,Qe$1=(r,e,t)=>e in r?Wo(r,e,{enumerable:true,configurable:true,writable:true,value:t}):r[e]=t,qi=(r,e)=>{for(var t in e||(e={}))Ho.call(e,t)&&Qe$1(r,t,e[t]);if(Vi)for(var t of Vi(e))Yo.call(e,t)&&Qe$1(r,t,e[t]);return r},v$2=(r,e,t)=>Qe$1(r,typeof e!="symbol"?e+"":e,t);let Te$1 = class Te extends h$6{constructor(e){var t;super(e),v$2(this,"protocol",ze$1),v$2(this,"version",Le$2),v$2(this,"name",he$1),v$2(this,"relayUrl"),v$2(this,"projectId"),v$2(this,"customStoragePrefix"),v$2(this,"events",new require$$0$3.EventEmitter),v$2(this,"logger"),v$2(this,"heartbeat"),v$2(this,"relayer"),v$2(this,"crypto"),v$2(this,"storage"),v$2(this,"history"),v$2(this,"expirer"),v$2(this,"pairing"),v$2(this,"verify"),v$2(this,"echoClient"),v$2(this,"linkModeSupportedApps"),v$2(this,"eventClient"),v$2(this,"initialized",false),v$2(this,"logChunkController"),v$2(this,"on",(a,c)=>this.events.on(a,c)),v$2(this,"once",(a,c)=>this.events.once(a,c)),v$2(this,"off",(a,c)=>this.events.off(a,c)),v$2(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),v$2(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:h})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:Q.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:h});});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn("Failed to copy global core",a);}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ue$2,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=k$7({level:typeof e?.logger=="string"&&e.logger?e.logger:Et$1.logger,name:he$1}),{logger:n,chunkLoggerController:o}=A$4({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}));}),this.logger=E$7(n,this.name),this.heartbeat=new i$a,this.crypto=new vi(this,this.logger,e?.keychain),this.history=new ki(this,this.logger),this.expirer=new ji(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new h$b(qi(qi({},It),e?.storageOptions)),this.relayer=new Si({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Li(this,this.logger),this.verify=new Ui(this,this.logger,this.storage),this.echoClient=new Mi(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Bi(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this);}static async init(e){const t=new Te(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(jt$1,i),t}get context(){return y$8(this.logger)}async start(){this.initialized||await this.initialize();}async getLogsBlob(){var e;return (e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Fe$1,this.linkModeSupportedApps));}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Fe$1)||[],this.initialized=!0,this.logger.info("Core Initialization Success");}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn("Failed to get global WalletConnect core",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||""}`;globalThis[i]=e;}catch(i){console.warn("Failed to set global WalletConnect core",i);}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return  true}}};const Jo=Te$1;

    const De$1="wc",Le$1=2,ke$1="client",we$1=`${De$1}@${Le$1}:${ke$1}:`,me$1={name:ke$1,logger:"error"},Me$1="WALLETCONNECT_DEEPLINK_CHOICE",pt$1="proposal",$e$1="Proposal expired",ht$1="session",J$1=cjsExports$3.SEVEN_DAYS,dt$1="engine",N$2={wc_sessionPropose:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:true,tag:1100},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1101},reject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1120},autoReject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1121}},wc_sessionSettle:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1102},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1103}},wc_sessionUpdate:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1104},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1105}},wc_sessionExtend:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1106},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1107}},wc_sessionRequest:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:true,tag:1108},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1109}},wc_sessionEvent:{req:{ttl:cjsExports$3.FIVE_MINUTES,prompt:true,tag:1110},res:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1111}},wc_sessionDelete:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1112},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1113}},wc_sessionPing:{req:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1114},res:{ttl:cjsExports$3.ONE_DAY,prompt:false,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjsExports$3.ONE_HOUR,prompt:true,tag:1116},res:{ttl:cjsExports$3.ONE_HOUR,prompt:false,tag:1117},reject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1118},autoReject:{ttl:cjsExports$3.FIVE_MINUTES,prompt:false,tag:1119}}},_e$1={min:cjsExports$3.FIVE_MINUTES,max:cjsExports$3.SEVEN_DAYS},$$2={idle:"IDLE",active:"ACTIVE"},Ue$1={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},ut$1="request",gt$1=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],yt$1="wc",wt$1="auth",mt$1="authKeys",_t$1="pairingTopics",Et="requests",ae$1=`${yt$1}@${1.5}:${wt$1}:`,ce$1=`${ae$1}:PUB_KEY`;var Rs=Object.defineProperty,vs=Object.defineProperties,Is=Object.getOwnPropertyDescriptors,ft$1=Object.getOwnPropertySymbols,Ts=Object.prototype.hasOwnProperty,qs=Object.prototype.propertyIsEnumerable,Ke$1=(S,n,e)=>n in S?Rs(S,n,{enumerable:true,configurable:true,writable:true,value:e}):S[n]=e,v$1=(S,n)=>{for(var e in n||(n={}))Ts.call(n,e)&&Ke$1(S,e,n[e]);if(ft$1)for(var e of ft$1(n))qs.call(n,e)&&Ke$1(S,e,n[e]);return S},b$3=(S,n)=>vs(S,Is(n)),c$5=(S,n,e)=>Ke$1(S,typeof n!="symbol"?n+"":n,e);class Ps extends V$4{constructor(n){super(n),c$5(this,"name",dt$1),c$5(this,"events",new require$$0$3),c$5(this,"initialized",false),c$5(this,"requestQueue",{state:$$2.idle,queue:[]}),c$5(this,"sessionRequestQueue",{state:$$2.idle,queue:[]}),c$5(this,"requestQueueDelay",cjsExports$3.ONE_SECOND),c$5(this,"expectedPairingMethodMap",new Map),c$5(this,"recentlyDeletedMap",new Map),c$5(this,"recentlyDeletedLimit",200),c$5(this,"relayMessageCache",[]),c$5(this,"pendingSessions",new Map),c$5(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(N$2)}),this.initialized=true,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue();},cjsExports$3.toMiliseconds(this.requestQueueDelay)));}),c$5(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=b$3(v$1({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:o,scopedProperties:a,relays:l}=t;let p=s,h,u=false;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=T.active;}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!u){const{topic:T,uri:U}=await this.client.core.pairing.create();p=T,h=U;}if(!p){const{message:T}=ht$2("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(T)}const d=await this.client.core.crypto.generateKeyPair(),w=N$2.wc_sessionPropose.req.ttl||cjsExports$3.FIVE_MINUTES,m=Ei$1(w),f=b$3(v$1(v$1({requiredNamespaces:i,optionalNamespaces:r,relays:l??[{protocol:xt$1}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:p},o&&{sessionProperties:o}),a&&{scopedProperties:a}),{id:payloadId()}),_=xi$1("session_connect",f.id),{reject:g,resolve:A,done:D}=gi$1(w,$e$1),I=({id:T})=>{T===f.id&&(this.client.events.off("proposal_expire",I),this.pendingSessions.delete(f.id),this.events.emit(_,{error:{message:$e$1,code:0}}));};return this.client.events.on("proposal_expire",I),this.events.once(_,({error:T,session:U})=>{this.client.events.off("proposal_expire",I),T?g(T):U&&A(U);}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:f,throwOnFailedPublish:true,clientRpcId:f.id}),await this.setProposal(f.id,f),{uri:h,approval:D}}),c$5(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error("pair() failed"),t}}),c$5(this,"approve",async e=>{var t,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(t=e?.id)==null?void 0:t.toString(),trace:[Qs.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow();}catch(q){throw r.setError(er.no_internet_connection),q}try{await this.isValidProposalId(e?.id);}catch(q){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),r.setError(er.proposal_not_found),q}try{await this.isValidApprove(e);}catch(q){throw this.client.logger.error("approve() -> isValidApprove() failed"),r.setError(er.session_approve_namespace_validation_failure),q}const{id:o,relayProtocol:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=e,d=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:w,proposer:m,requiredNamespaces:f,optionalNamespaces:_}=d;let g=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:w});g||(g=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Qs.session_approve_started,properties:{topic:w,trace:[Qs.session_approve_started,Qs.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),D=m.publicKey,I=await this.client.core.crypto.generateSharedKey(A,D),T=v$1(v$1(v$1({relay:{protocol:a??"irn"},namespaces:l,controller:{publicKey:A,metadata:this.client.metadata},expiry:Ei$1(J$1)},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),U=Q.relay;g.addTrace(Qs.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:U});}catch(q){throw g.setError(er.subscribe_session_topic_failure),q}g.addTrace(Qs.subscribe_session_topic_success);const fe=b$3(v$1({},T),{topic:I,requiredNamespaces:f,optionalNamespaces:_,pairingTopic:w,acknowledged:false,self:T.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:A,transportType:Q.relay});await this.client.session.set(I,fe),g.addTrace(Qs.store_session);try{g.addTrace(Qs.publishing_session_settle),await this.sendRequest({topic:I,method:"wc_sessionSettle",params:T,throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(er.session_settle_publish_failure),q}),g.addTrace(Qs.session_settle_publish_success),g.addTrace(Qs.publishing_session_approve),await this.sendResult({id:o,topic:w,result:{relay:{protocol:a??"irn"},responderPublicKey:A},throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(er.session_approve_publish_failure),q}),g.addTrace(Qs.session_approve_publish_success);}catch(q){throw this.client.logger.error(q),this.client.session.delete(I,Nt$1("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(I),q}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:m.metadata}),await this.client.proposal.delete(o,Nt$1("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(I,Ei$1(J$1)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),c$5(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e);}catch(r){throw this.client.logger.error("reject() -> isValidReject() failed"),r}const{id:t,reason:s}=e;let i;try{i=this.client.proposal.get(t).pairingTopic;}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),r}i&&(await this.sendError({id:t,topic:i,error:s,rpcOpts:N$2.wc_sessionPropose.reject}),await this.client.proposal.delete(t,Nt$1("USER_DISCONNECTED")));}),c$5(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e);}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:t,namespaces:s}=e,{done:i,resolve:r,reject:o}=gi$1(),a=payloadId(),l=getBigIntRpcId().toString(),p=this.client.session.get(t).namespaces;return this.events.once(xi$1("session_update",a),({error:h})=>{h?o(h):r();}),await this.client.session.update(t,{namespaces:s}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:true,clientRpcId:a,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(t,{namespaces:p}),o(h);}),{acknowledged:i}}),c$5(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e);}catch(a){throw this.client.logger.error("extend() -> isValidExtend() failed"),a}const{topic:t}=e,s=payloadId(),{done:i,resolve:r,reject:o}=gi$1();return this.events.once(xi$1("session_extend",s),({error:a})=>{a?o(a):r();}),await this.setExpiry(t,Ei$1(J$1)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:true}).catch(a=>{o(a);}),{acknowledged:i}}),c$5(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e);}catch(_){throw this.client.logger.error("request() -> isValidRequest() failed"),_}const{chainId:t,request:s,topic:i,expiry:r=N$2.wc_sessionRequest.req.ttl}=e,o=this.client.session.get(i);o?.transportType===Q.relay&&await this.confirmOnlineStateOrThrow();const a=payloadId(),l=getBigIntRpcId().toString(),{done:p,resolve:h,reject:u}=gi$1(r,"Request expired. Please try again.");this.events.once(xi$1("session_request",a),({error:_,result:g})=>{_?u(_):h(g);});const d="wc_sessionRequest",w=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(w)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:b$3(v$1({},s),{expiryTimestamp:Ei$1(r)}),chainId:t},expiry:r,throwOnFailedPublish:true,appLink:w}).catch(_=>u(_)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:t,id:a}),await p();const m={request:b$3(v$1({},s),{expiryTimestamp:Ei$1(r)}),chainId:t},f=this.shouldSetTVF(d,m);return await Promise.all([new Promise(async _=>{await this.sendRequest(v$1({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:m,expiry:r,throwOnFailedPublish:true},f&&{tvf:this.getTVFParams(a,m)})).catch(g=>u(g)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:t,id:a}),_();}),new Promise(async _=>{var g;if(!((g=o.sessionConfig)!=null&&g.disableDeepLink)){const A=await Oi$1(this.client.core.storage,Me$1);await Si$1({id:a,topic:i,wcDeepLink:A});}_();}),p()]).then(_=>_[2])}),c$5(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:s}=e,{id:i}=s,r=this.client.session.get(t);r.transportType===Q.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(r.peer.metadata,r.transportType);isJsonRpcResult(s)?await this.sendResult({id:i,topic:t,result:s.result,throwOnFailedPublish:true,appLink:o}):isJsonRpcError(s)&&await this.sendError({id:i,topic:t,error:s.error,appLink:o}),this.cleanupAfterResponse(e);}),c$5(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e);}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:t}=e;if(this.client.session.keys.includes(t)){const s=payloadId(),i=getBigIntRpcId().toString(),{done:r,resolve:o,reject:a}=gi$1();this.events.once(xi$1("session_ping",s),({error:l})=>{l?a(l):o();}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:true,clientRpcId:s,relayRpcId:i}),r()]);}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}));}),c$5(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:s,chainId:i}=e,r=getBigIntRpcId().toString(),o=payloadId();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:true,relayRpcId:r,clientRpcId:o});}),c$5(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:Nt$1("USER_DISCONNECTED"),throwOnFailedPublish:true}),await this.deleteSession({topic:t,emitEvent:false});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else {const{message:s}=ht$2("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(s)}}),c$5(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>aa(t,e)))),c$5(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),c$5(this,"authenticate",async(e,t)=>{var s;this.isInitialized(),this.isValidAuthenticate(e);const i=t&&this.client.core.linkModeSupportedApps.includes(t)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?Q.link_mode:Q.relay;r===Q.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:a="",uri:l,domain:p,nonce:h,type:u,exp:d,nbf:w,methods:m=[],expiry:f}=e,_=[...e.resources||[]],{topic:g,uri:A}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:r});this.client.logger.info({message:"Generated new pairing",pairing:{topic:g,uri:A}});const D=await this.client.core.crypto.generateKeyPair(),I=Pc(D);if(await Promise.all([this.client.auth.authKeys.set(ce$1,{responseTopic:I,publicKey:D}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:g})]),await this.client.core.relayer.subscribe(I,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${g}`),m.length>0){const{namespace:x}=Ie$2(o[0]);let L=fs(x,"request",m);de$2(_)&&(L=ls(L,_.pop())),_.push(L);}const T=f&&f>N$2.wc_sessionAuthenticate.req.ttl?f:N$2.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:u??"caip122",chains:o,statement:a,aud:l,domain:p,version:"1",nonce:h,iat:new Date().toISOString(),exp:d,nbf:w,resources:_},requester:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:Ei$1(T)},fe={eip155:{chains:o,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},q={requiredNamespaces:{},optionalNamespaces:fe,relays:[{protocol:"irn"}],pairingTopic:g,proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:Ei$1(N$2.wc_sessionPropose.req.ttl),id:payloadId()},{done:Rt,resolve:je,reject:Se}=gi$1(T,"Request expired"),te=payloadId(),le=xi$1("session_connect",q.id),Re=xi$1("session_request",te),pe=async({error:x,session:L})=>{this.events.off(Re,ve),x?Se(x):L&&je({session:L});},ve=async x=>{var L,Fe,Qe;if(await this.deletePendingAuthRequest(te,{message:"fulfilled",code:0}),x.error){const ie=Nt$1("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return x.error.code===ie.code?void 0:(this.events.off(le,pe),Se(x.error.message))}await this.deleteProposal(q.id),this.events.off(le,pe);const{cacaos:He,responder:Q$1}=x.result,Te=[],ze=[];for(const ie of He){await is({cacao:ie,projectId:this.client.core.projectId})||(this.client.logger.error(ie,"Signature verification failed"),Se(Nt$1("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:qe}=ie,Pe=de$2(qe.resources),Ye=[dr$1(qe.iss)],vt=Me$3(qe.iss);if(Pe){const Ne=ds(Pe),It=hs(Pe);Te.push(...Ne),Ye.push(...It);}for(const Ne of Ye)ze.push(`${Ne}:${vt}`);}const se=await this.client.core.crypto.generateSharedKey(D,Q$1.publicKey);let he;Te.length>0&&(he={topic:se,acknowledged:true,self:{publicKey:D,metadata:this.client.metadata},peer:Q$1,controller:Q$1.publicKey,expiry:Ei$1(J$1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:g,namespaces:ca([...new Set(Te)],[...new Set(ze)]),transportType:r},await this.client.core.relayer.subscribe(se,{transportType:r}),await this.client.session.set(se,he),g&&await this.client.core.pairing.updateMetadata({topic:g,metadata:Q$1.metadata}),he=this.client.session.get(se)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(Fe=Q$1.metadata.redirect)!=null&&Fe.linkMode&&(Qe=Q$1.metadata.redirect)!=null&&Qe.universal&&t&&(this.client.core.addLinkModeSupportedApp(Q$1.metadata.redirect.universal),this.client.session.update(se,{transportType:Q.link_mode})),je({auths:He,session:he});};this.events.once(le,pe),this.events.once(Re,ve);let Ie;try{if(i){const x=formatJsonRpcRequest("wc_sessionAuthenticate",U,te);this.client.core.history.set(g,x);const L=await this.client.core.crypto.encode("",x,{type:ne$1,encoding:Ee$3});Ie=Xc(t,g,L);}else await Promise.all([this.sendRequest({topic:g,method:"wc_sessionAuthenticate",params:U,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:te}),this.sendRequest({topic:g,method:"wc_sessionPropose",params:q,expiry:N$2.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:q.id})]);}catch(x){throw this.events.off(le,pe),this.events.off(Re,ve),x}return await this.setProposal(q.id,q),await this.setAuthRequest(te,{request:b$3(v$1({},U),{verifyContext:{}}),pairingTopic:g,transportType:r}),{uri:Ie??A,response:Rt}}),c$5(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:s}=e,i=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[tr.authenticated_session_approve_started]}});try{this.isInitialized();}catch(f){throw i.setError(ir.no_internet_connection),f}const r=this.getPendingAuthRequest(t);if(!r)throw i.setError(ir.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${t}`);const o=r.transportType||Q.relay;o===Q.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),p=Pc(a),h={type:Kt$2,receiverPublicKey:a,senderPublicKey:l},u=[],d=[];for(const f of s){if(!await is({cacao:f,projectId:this.client.core.projectId})){i.setError(ir.invalid_cacao);const I=Nt$1("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:p,error:I,encodeOpts:h}),new Error(I.message)}i.addTrace(tr.cacaos_verified);const{p:_}=f,g=de$2(_.resources),A=[dr$1(_.iss)],D=Me$3(_.iss);if(g){const I=ds(g),T=hs(g);u.push(...I),A.push(...T);}for(const I of A)d.push(`${I}:${D}`);}const w=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(tr.create_authenticated_session_topic);let m;if(u?.length>0){m={topic:w,acknowledged:true,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:Ei$1(J$1),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:r.pairingTopic,namespaces:ca([...new Set(u)],[...new Set(d)]),transportType:o},i.addTrace(tr.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:o});}catch(f){throw i.setError(ir.subscribe_authenticated_session_topic_failure),f}i.addTrace(tr.subscribe_authenticated_session_topic_success),await this.client.session.set(w,m),i.addTrace(tr.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata});}i.addTrace(tr.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:t,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,o)});}catch(f){throw i.setError(ir.authenticated_session_approve_publish_failure),f}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),c$5(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:s}=e,i=this.getPendingAuthRequest(t);if(!i)throw new Error(`Could not find pending auth request with id ${t}`);i.transportType===Q.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),a=Pc(r),l={type:Kt$2,receiverPublicKey:r,senderPublicKey:o};await this.sendError({id:t,topic:a,error:s,encodeOpts:l,rpcOpts:N$2.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,Nt$1("USER_DISCONNECTED"));}),c$5(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:s}=e;return hr$1(t,s)}),c$5(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e);}catch(e){this.client.logger.error(e);}},50);}),c$5(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,o;return ((r=i.peerMetadata)==null?void 0:r.url)&&((o=i.peerMetadata)==null?void 0:o.url)===e.peer.metadata.url&&i.topic&&i.topic!==t.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished");}catch(t){this.client.logger.error(t);}}),c$5(this,"deleteSession",async e=>{var t;const{topic:s,expirerHasDeleted:i=false,emitEvent:r=true,id:o=0}=e,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Nt$1("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Me$1).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Nt$1("USER_DISCONNECTED"));}),s===((t=this.sessionRequestQueue.queue[0])==null?void 0:t.topic)&&(this.sessionRequestQueue.state=$$2.idle),r&&this.client.events.emit("session_delete",{id:o,topic:s});}),c$5(this,"deleteProposal",async(e,t)=>{if(t)try{const s=this.client.proposal.get(e),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(er.proposal_expired);}catch{}await Promise.all([this.client.proposal.delete(e,Nt$1("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal");}),c$5(this,"deletePendingSessionRequest",async(e,t,s=false)=>{await Promise.all([this.client.pendingRequest.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==e),s&&(this.sessionRequestQueue.state=$$2.idle,this.client.events.emit("session_request_expire",{id:e}));}),c$5(this,"deletePendingAuthRequest",async(e,t,s=false)=>{await Promise.all([this.client.auth.requests.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)]);}),c$5(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}));}),c$5(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,Ei$1(N$2.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t);}),c$5(this,"setAuthRequest",async(e,t)=>{const{request:s,pairingTopic:i,transportType:r=Q.relay}=t;this.client.core.expirer.set(e,s.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:e,pairingTopic:i,verifyContext:s.verifyContext,transportType:r});}),c$5(this,"setPendingSessionRequest",async e=>{const{id:t,topic:s,params:i,verifyContext:r}=e,o=i.request.expiryTimestamp||Ei$1(N$2.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,o),await this.client.pendingRequest.set(t,{id:t,topic:s,params:i,verifyContext:r});}),c$5(this,"sendRequest",async e=>{const{topic:t,method:s,params:i,expiry:r,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:l,appLink:p,tvf:h}=e,u=formatJsonRpcRequest(s,i,a);let d;const w=!!p;try{const _=w?Ee$3:Ht$1;d=await this.client.core.crypto.encode(t,u,{encoding:_});}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),_}let m;if(gt$1.includes(s)){const _=kc(JSON.stringify(u)),g=kc(d);m=await this.client.core.verify.register({id:g,decryptedId:_});}const f=N$2[s].req;if(f.attestation=m,r&&(f.ttl=r),o&&(f.id=o),this.client.core.history.set(t,u),w){const _=Xc(p,t,d);await global.Linking.openURL(_,this.client.name);}else {const _=N$2[s].req;r&&(_.ttl=r),o&&(_.id=o),_.tvf=b$3(v$1({},h),{correlationId:u.id}),l?(_.internal=b$3(v$1({},_.internal),{throwOnFailedPublish:true}),await this.client.core.relayer.publish(t,d,_)):this.client.core.relayer.publish(t,d,_).catch(g=>this.client.logger.error(g));}return u.id}),c$5(this,"sendResult",async e=>{const{id:t,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:o,appLink:a}=e,l=formatJsonRpcResult(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<"u";try{const w=h?Ee$3:Ht$1;p=await this.client.core.crypto.encode(s,l,b$3(v$1({},o||{}),{encoding:w}));}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),w}let u,d;try{u=await this.client.core.history.get(s,t);const w=u.request;try{this.shouldSetTVF(w.method,w.params)&&(d=this.getTVFParams(t,w.params,i));}catch(m){this.client.logger.warn("sendResult() -> getTVFParams() failed",m);}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${t}) failed`),w}if(h){const w=Xc(a,s,p);await global.Linking.openURL(w,this.client.name);}else {const w=u.request.method,m=N$2[w].res;m.tvf=b$3(v$1({},d),{correlationId:t}),r?(m.internal=b$3(v$1({},m.internal),{throwOnFailedPublish:true}),await this.client.core.relayer.publish(s,p,m)):this.client.core.relayer.publish(s,p,m).catch(f=>this.client.logger.error(f));}await this.client.core.history.resolve(l);}),c$5(this,"sendError",async e=>{const{id:t,topic:s,error:i,encodeOpts:r,rpcOpts:o,appLink:a}=e,l=formatJsonRpcError(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<"u";try{const d=h?Ee$3:Ht$1;p=await this.client.core.crypto.encode(s,l,b$3(v$1({},r||{}),{encoding:d}));}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let u;try{u=await this.client.core.history.get(s,t);}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${t}) failed`),d}if(h){const d=Xc(a,s,p);await global.Linking.openURL(d,this.client.name);}else {const d=u.request.method,w=o||N$2[d].res;this.client.core.relayer.publish(s,p,w);}await this.client.core.history.resolve(l);}),c$5(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(s=>{let i=false;vi$1(s.expiry)&&(i=true),this.client.core.crypto.keychain.has(s.topic)||(i=true),i&&e.push(s.topic);}),this.client.proposal.getAll().forEach(s=>{vi$1(s.expiryTimestamp)&&t.push(s.id);}),await Promise.all([...e.map(s=>this.deleteSession({topic:s})),...t.map(s=>this.deleteProposal(s))]);}),c$5(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e);}),c$5(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue();}),c$5(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===$$2.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$$2.active;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e);}catch(t){this.client.logger.warn(t);}}this.requestQueue.state=$$2.idle;}),c$5(this,"processRequest",async e=>{const{topic:t,payload:s,attestation:i,transportType:r,encryptedId:o}=e,a=s.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case "wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:s,attestation:i,encryptedId:o});case "wc_sessionSettle":return await this.onSessionSettleRequest(t,s);case "wc_sessionUpdate":return await this.onSessionUpdateRequest(t,s);case "wc_sessionExtend":return await this.onSessionExtendRequest(t,s);case "wc_sessionPing":return await this.onSessionPingRequest(t,s);case "wc_sessionDelete":return await this.onSessionDeleteRequest(t,s);case "wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});case "wc_sessionEvent":return await this.onSessionEventRequest(t,s);case "wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),c$5(this,"onRelayEventResponse",async e=>{const{topic:t,payload:s,transportType:i}=e,r=(await this.client.core.history.get(t,s.id)).request.method;switch(r){case "wc_sessionPropose":return this.onSessionProposeResponse(t,s,i);case "wc_sessionSettle":return this.onSessionSettleResponse(t,s);case "wc_sessionUpdate":return this.onSessionUpdateResponse(t,s);case "wc_sessionExtend":return this.onSessionExtendResponse(t,s);case "wc_sessionPing":return this.onSessionPingResponse(t,s);case "wc_sessionRequest":return this.onSessionRequestResponse(t,s);case "wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),c$5(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:s}=ht$2("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),c$5(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:s}=e,i=this.expectedPairingMethodMap.get(t);return !i||i.includes(s)?false:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),c$5(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:s,attestation:i,encryptedId:r}=e,{params:o,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:t});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Y.proposal_listener_not_found)),this.isValidConnect(v$1({},s.params));const p=o.expiryTimestamp||Ei$1(N$2.wc_sessionPropose.req.ttl),h=v$1({id:a,pairingTopic:t,expiryTimestamp:p},o);await this.setProposal(a,h);const u=await this.getVerifyContext({attestationId:i,hash:kc(JSON.stringify(s)),encryptedId:r,metadata:h.proposer.metadata});l?.addTrace(G$1.emit_session_proposal),this.client.events.emit("session_proposal",{id:a,params:h,verifyContext:u});}catch(l){await this.sendError({id:a,topic:t,error:l,rpcOpts:N$2.wc_sessionPropose.autoReject}),this.client.logger.error(l);}}),c$5(this,"onSessionProposeResponse",async(e,t,s)=>{const{id:i}=t;if(isJsonRpcResult(t)){const{result:r}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:r});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const p=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:e,proposalId:i,publicKey:a});const h=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:e});}else if(isJsonRpcError(t)){await this.client.proposal.delete(i,Nt$1("USER_DISCONNECTED"));const r=xi$1("session_connect",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:t.error});}}),c$5(this,"onSessionSettleRequest",async(e,t)=>{const{id:s,params:i}=t;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:o,expiry:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=t.params,d=[...this.pendingSessions.values()].find(f=>f.sessionTopic===e);if(!d)return this.client.logger.error(`Pending session not found for topic ${e}`);const w=this.client.proposal.get(d.proposalId),m=b$3(v$1(v$1(v$1({topic:e,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:o.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:Q.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(xi$1("session_connect",d.proposalId),{session:m}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0});}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r);}}),c$5(this,"onSessionSettleResponse",async(e,t)=>{const{id:s}=t;isJsonRpcResult(t)?(await this.client.session.update(e,{acknowledged:true}),this.events.emit(xi$1("session_approve",s),{})):isJsonRpcError(t)&&(await this.client.session.delete(e,Nt$1("USER_DISCONNECTED")),this.events.emit(xi$1("session_approve",s),{error:t.error}));}),c$5(this,"onSessionUpdateRequest",async(e,t)=>{const{params:s,id:i}=t;try{const r=`${e}_session_update`,o=Ua.get(r);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:e,error:Nt$1("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(v$1({topic:e},s));try{Ua.set(r,i),await this.client.session.update(e,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:e,result:!0,throwOnFailedPublish:!0});}catch(a){throw Ua.delete(r),a}this.client.events.emit("session_update",{id:i,topic:e,params:s});}catch(r){await this.sendError({id:i,topic:e,error:r}),this.client.logger.error(r);}}),c$5(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),c$5(this,"onSessionUpdateResponse",(e,t)=>{const{id:s}=t,i=xi$1("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);isJsonRpcResult(t)?this.events.emit(xi$1("session_update",s),{}):isJsonRpcError(t)&&this.events.emit(xi$1("session_update",s),{error:t.error});}),c$5(this,"onSessionExtendRequest",async(e,t)=>{const{id:s}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,Ei$1(J$1)),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:e});}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i);}}),c$5(this,"onSessionExtendResponse",(e,t)=>{const{id:s}=t,i=xi$1("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);isJsonRpcResult(t)?this.events.emit(xi$1("session_extend",s),{}):isJsonRpcError(t)&&this.events.emit(xi$1("session_extend",s),{error:t.error});}),c$5(this,"onSessionPingRequest",async(e,t)=>{const{id:s}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:e});}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i);}}),c$5(this,"onSessionPingResponse",(e,t)=>{const{id:s}=t,i=xi$1("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);isJsonRpcResult(t)?this.events.emit(xi$1("session_ping",s),{}):isJsonRpcError(t)&&this.events.emit(xi$1("session_ping",s),{error:t.error});},500);}),c$5(this,"onSessionDeleteRequest",async(e,t)=>{const{id:s}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(C$2.publish,async()=>{i(await this.deleteSession({topic:e,id:s}));});}),this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:Nt$1("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i));}catch(i){this.client.logger.error(i);}}),c$5(this,"onSessionRequest",async e=>{var t,s,i;const{topic:r,payload:o,attestation:a,encryptedId:l,transportType:p}=e,{id:h,params:u}=o;try{await this.isValidRequest(v$1({topic:r},u));const d=this.client.session.get(r),w=await this.getVerifyContext({attestationId:a,hash:kc(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",u,h))),encryptedId:l,metadata:d.peer.metadata,transportType:p}),m={id:h,topic:r,params:u,verifyContext:w};await this.setPendingSessionRequest(m),p===Q.link_mode&&(t=d.peer.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue());}catch(d){await this.sendError({id:h,topic:r,error:d}),this.client.logger.error(d);}}),c$5(this,"onSessionRequestResponse",(e,t)=>{const{id:s}=t,i=xi$1("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);isJsonRpcResult(t)?this.events.emit(xi$1("session_request",s),{result:t.result}):isJsonRpcError(t)&&this.events.emit(xi$1("session_request",s),{error:t.error});}),c$5(this,"onSessionEventRequest",async(e,t)=>{const{id:s,params:i}=t;try{const r=`${e}_session_event_${i.event.name}`,o=Ua.get(r);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(v$1({topic:e},i)),this.client.events.emit("session_event",{id:s,topic:e,params:i}),Ua.set(r,s);}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r);}}),c$5(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:s}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),isJsonRpcResult(t)?this.events.emit(xi$1("session_request",s),{result:t.result}):isJsonRpcError(t)&&this.events.emit(xi$1("session_request",s),{error:t.error});}),c$5(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:s,payload:i,attestation:r,encryptedId:o,transportType:a}=e;try{const{requester:l,authPayload:p,expiryTimestamp:h}=i.params,u=await this.getVerifyContext({attestationId:r,hash:kc(JSON.stringify(i)),encryptedId:o,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:p,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===Q.link_mode&&(t=l.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:u});}catch(l){this.client.logger.error(l);const p=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:Kt$2,receiverPublicKey:p,senderPublicKey:h};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:N$2.wc_sessionAuthenticate.autoReject,appLink:u});}}),c$5(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e);}),c$5(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$$2.idle,this.processSessionRequestQueue();},cjsExports$3.toMiliseconds(this.requestQueueDelay));}),c$5(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===e&&i.request.method==="wc_sessionRequest").forEach(i=>{const r=i.request.id,o=xi$1("session_request",r);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(xi$1("session_request",i.request.id),{error:t});});}),c$5(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===$$2.active){this.client.logger.info("session request queue is already active.");return}const e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=$$2.active,this.emitSessionRequest(e);}catch(t){this.client.logger.error(t);}}),c$5(this,"emitSessionRequest",e=>{this.client.events.emit("session_request",e);}),c$5(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(s=>s.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:formatJsonRpcRequest("wc_sessionPropose",b$3(v$1({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)});}),c$5(this,"isValidConnect",async e=>{if(!ya(e)){const{message:l}=ht$2("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(l)}const{pairingTopic:t,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,scopedProperties:o,relays:a}=e;if(Et$2(t)||await this.isValidPairingTopic(t),!pa(a)){const{message:l}=ht$2("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(l)}if(!Et$2(s)&&xe$1(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Et$2(i)&&xe$1(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Et$2(r)||this.validateSessionProps(r,"sessionProperties"),!Et$2(o)){this.validateSessionProps(o,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(o).every(p=>l.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),c$5(this,"validateNamespaces",(e,t)=>{const s=ha(e,"connect()",t);if(s)throw new Error(s.message)}),c$5(this,"isValidApprove",async e=>{if(!ya(e))throw new Error(ht$2("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:s,relayProtocol:i,sessionProperties:r,scopedProperties:o}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const a=this.client.proposal.get(t),l=Bo$1(s,"approve()");if(l)throw new Error(l.message);const p=No$1(a.requiredNamespaces,s,"approve()");if(p)throw new Error(p.message);if(!nt$1(i,true)){const{message:h}=ht$2("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(h)}if(Et$2(r)||this.validateSessionProps(r,"sessionProperties"),!Et$2(o)){this.validateSessionProps(o,"scopedProperties");const h=new Set(Object.keys(s));if(!Object.keys(o).every(u=>h.has(u)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),c$5(this,"isValidReject",async e=>{if(!ya(e)){const{message:i}=ht$2("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(i)}const{id:t,reason:s}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!ma(s)){const{message:i}=ht$2("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),c$5(this,"isValidSessionSettleRequest",e=>{if(!ya(e)){const{message:l}=ht$2("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(l)}const{relay:t,controller:s,namespaces:i,expiry:r}=e;if(!Io$1(t)){const{message:l}=ht$2("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const o=da(s,"onSessionSettleRequest()");if(o)throw new Error(o.message);const a=Bo$1(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);if(vi$1(r)){const{message:l}=ht$2("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),c$5(this,"isValidUpdate",async e=>{if(!ya(e)){const{message:a}=ht$2("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(a)}const{topic:t,namespaces:s}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const i=this.client.session.get(t),r=Bo$1(s,"update()");if(r)throw new Error(r.message);const o=No$1(i.requiredNamespaces,s,"update()");if(o)throw new Error(o.message)}),c$5(this,"isValidExtend",async e=>{if(!ya(e)){const{message:s}=ht$2("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(s)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);}),c$5(this,"isValidRequest",async e=>{if(!ya(e)){const{message:a}=ht$2("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(a)}const{topic:t,request:s,chainId:i,expiry:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:o}=this.client.session.get(t);if(!va(o,i)){const{message:a}=ht$2("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(a)}if(!wa(s)){const{message:a}=ht$2("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!xa(o,i,s.method)){const{message:a}=ht$2("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(a)}if(r&&!Ba(r,_e$1)){const{message:a}=ht$2("MISSING_OR_INVALID",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${_e$1.min} and ${_e$1.max}`);throw new Error(a)}}),c$5(this,"isValidRespond",async e=>{var t;if(!ya(e)){const{message:r}=ht$2("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(r)}const{topic:s,response:i}=e;try{await this.isValidSessionTopic(s);}catch(r){throw (t=e?.response)!=null&&t.id&&this.cleanupAfterResponse(e),r}if(!ba(i)){const{message:r}=ht$2("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(r)}}),c$5(this,"isValidPing",async e=>{if(!ya(e)){const{message:s}=ht$2("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t);}),c$5(this,"isValidEmit",async e=>{if(!ya(e)){const{message:o}=ht$2("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(o)}const{topic:t,event:s,chainId:i}=e;await this.isValidSessionTopic(t);const{namespaces:r}=this.client.session.get(t);if(!va(r,i)){const{message:o}=ht$2("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(o)}if(!Ea(s)){const{message:o}=ht$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!Sa(r,i,s.name)){const{message:o}=ht$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}}),c$5(this,"isValidDisconnect",async e=>{if(!ya(e)){const{message:s}=ht$2("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t);}),c$5(this,"isValidAuthenticate",e=>{const{chains:t,uri:s,domain:i,nonce:r}=e;if(!Array.isArray(t)||t.length===0)throw new Error("chains is required and must be a non-empty array");if(!nt$1(s,false))throw new Error("uri is required parameter");if(!nt$1(i,false))throw new Error("domain is required parameter");if(!nt$1(r,false))throw new Error("nonce is required parameter");if([...new Set(t.map(a=>Ie$2(a).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=Ie$2(t[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),c$5(this,"getVerifyContext",async e=>{const{attestationId:t,hash:s,encryptedId:i,metadata:r,transportType:o}=e,a={verified:{verifyUrl:r.verifyUrl||ue$1,validation:"UNKNOWN",origin:r.url||""}};try{if(o===Q.link_mode){const p=this.getAppLinkIfEnabled(r,o);return a.verified.validation=p&&new URL(p).origin===new URL(r.url).origin?"VALID":"INVALID",a}const l=await this.client.core.verify.resolve({attestationId:t,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?"VALID":"INVALID");}catch(l){this.client.logger.warn(l);}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),c$5(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((s,i)=>{if(s==null){const{message:r}=ht$2("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${s} for key ${Object.keys(e)[i]}`);throw new Error(r)}});}),c$5(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return typeof t=="object"?t:void 0}),c$5(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r);}}}),c$5(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:s}=ht$2("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(s)}}),c$5(this,"isLinkModeEnabled",(e,t)=>{var s,i,r,o,a,l,p,h,u;return !e||t!==Q.link_mode?false:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===true&&((o=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:o.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==""&&((p=e?.redirect)==null?void 0:p.universal)!==void 0&&((h=e?.redirect)==null?void 0:h.universal)!==""&&((u=e?.redirect)==null?void 0:u.linkMode)===true&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),c$5(this,"getAppLinkIfEnabled",(e,t)=>{var s;return this.isLinkModeEnabled(e,t)?(s=e?.redirect)==null?void 0:s.universal:void 0}),c$5(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;const t=Ai$1(e,"topic")||"",s=decodeURIComponent(Ai$1(e,"wc_ev")||""),i=this.client.session.keys.includes(t);i&&this.client.session.update(t,{transportType:Q.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:s,sessionExists:i});}),c$5(this,"registerLinkModeListeners",async()=>{var e;if(Ii$1()||pt$2()&&(e=this.client.metadata.redirect)!=null&&e.linkMode){const t=global==null?void 0:global.Linking;if(typeof t<"u"){t.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await t.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s});},50);}}}),c$5(this,"shouldSetTVF",(e,t)=>{if(!t||e!=="wc_sessionRequest")return  false;const{request:s}=t;return Object.keys(Ue$1).includes(s.method)}),c$5(this,"getTVFParams",(e,t,s)=>{var i,r;try{const o=t.request.method,a=this.extractTxHashesFromResult(o,s);return b$3(v$1({correlationId:e,rpcMethods:[o],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[(r=(i=t.request.params)==null?void 0:i[0])==null?void 0:r.to]}),{txHashes:a})}catch(o){this.client.logger.warn("Error getting TVF params",o);}return {}}),c$5(this,"isValidContractData",e=>{var t;if(!e)return  false;try{const s=e?.data||((t=e?.[0])==null?void 0:t.data);if(!s.startsWith("0x"))return !1;const i=s.slice(2);return /^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return  false}),c$5(this,"extractTxHashesFromResult",(e,t)=>{try{const s=Ue$1[e];if(typeof t=="string")return [t];const i=t[s.key];if(oe$1(i))return e==="solana_signAllTransactions"?i.map(r=>Ji(r)):i;if(typeof i=="string")return [i]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s);}return []});}async processPendingMessageEvents(){try{const n=this.client.session.keys,e=this.client.core.relayer.messages.getWithoutAck(n);for(const[t,s]of Object.entries(e))for(const i of s)try{await this.onProviderMessageEvent({topic:t,message:i,publishedAt:Date.now()});}catch{this.client.logger.warn(`Error processing pending message event for topic: ${t}, message: ${i}`);}}catch(n){this.client.logger.warn("processPendingMessageEvents failed",n);}}isInitialized(){if(!this.initialized){const{message:n}=ht$2("NOT_INITIALIZED",this.name);throw new Error(n)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow();}registerRelayerEvents(){this.client.core.relayer.on(C$2.message,n=>{this.onProviderMessageEvent(n);});}async onRelayMessage(n){const{topic:e,message:t,attestation:s,transportType:i}=n,{publicKey:r}=this.client.auth.authKeys.keys.includes(ce$1)?this.client.auth.authKeys.get(ce$1):{publicKey:void 0};try{const o=await this.client.core.crypto.decode(e,t,{receiverPublicKey:r,encoding:i===Q.link_mode?Ee$3:Ht$1});isJsonRpcRequest(o)?(this.client.core.history.set(e,o),await this.onRelayEventRequest({topic:e,payload:o,attestation:s,transportType:i,encryptedId:kc(t)})):isJsonRpcResponse(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:e,payload:o,transportType:i}),this.client.core.history.delete(e,o.id)):await this.onRelayEventUnknownPayload({topic:e,payload:o,transportType:i}),await this.client.core.relayer.messages.ack(e,t);}catch(o){this.client.logger.error(o);}}registerExpirerEvents(){this.client.core.expirer.on(M$1.expired,async n=>{const{topic:e,id:t}=bi$1(n.target);if(t&&this.client.pendingRequest.keys.includes(t))return await this.deletePendingSessionRequest(t,ht$2("EXPIRED"),true);if(t&&this.client.auth.requests.keys.includes(t))return await this.deletePendingAuthRequest(t,ht$2("EXPIRED"),true);e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:true}),this.client.events.emit("session_expire",{topic:e})):t&&(await this.deleteProposal(t,true),this.client.events.emit("proposal_expire",{id:t}));});}registerPairingEvents(){this.client.core.pairing.events.on(se$1.create,n=>this.onPairingCreated(n)),this.client.core.pairing.events.on(se$1.delete,n=>{this.addToRecentlyDeleted(n.topic,"pairing");});}isValidPairingTopic(n){if(!nt$1(n,false)){const{message:e}=ht$2("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(n)){const{message:e}=ht$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(e)}if(vi$1(this.client.core.pairing.pairings.get(n).expiry)){const{message:e}=ht$2("EXPIRED",`pairing topic: ${n}`);throw new Error(e)}}async isValidSessionTopic(n){if(!nt$1(n,false)){const{message:e}=ht$2("MISSING_OR_INVALID",`session topic should be a string: ${n}`);throw new Error(e)}if(this.checkRecentlyDeleted(n),!this.client.session.keys.includes(n)){const{message:e}=ht$2("NO_MATCHING_KEY",`session topic doesn't exist: ${n}`);throw new Error(e)}if(vi$1(this.client.session.get(n).expiry)){await this.deleteSession({topic:n});const{message:e}=ht$2("EXPIRED",`session topic: ${n}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(n)){const{message:e}=ht$2("MISSING_OR_INVALID",`session topic does not exist in keychain: ${n}`);throw await this.deleteSession({topic:n}),new Error(e)}}async isValidSessionOrPairingTopic(n){if(this.checkRecentlyDeleted(n),this.client.session.keys.includes(n))await this.isValidSessionTopic(n);else if(this.client.core.pairing.pairings.keys.includes(n))this.isValidPairingTopic(n);else if(nt$1(n,false)){const{message:e}=ht$2("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${n}`);throw new Error(e)}else {const{message:e}=ht$2("MISSING_OR_INVALID",`session or pairing topic should be a string: ${n}`);throw new Error(e)}}async isValidProposalId(n){if(!ga(n)){const{message:e}=ht$2("MISSING_OR_INVALID",`proposal id should be a number: ${n}`);throw new Error(e)}if(!this.client.proposal.keys.includes(n)){const{message:e}=ht$2("NO_MATCHING_KEY",`proposal id doesn't exist: ${n}`);throw new Error(e)}if(vi$1(this.client.proposal.get(n).expiryTimestamp)){await this.deleteProposal(n);const{message:e}=ht$2("EXPIRED",`proposal id: ${n}`);throw new Error(e)}}}class Ns extends zi{constructor(n,e){super(n,e,pt$1,we$1),this.core=n,this.logger=e;}}let St$1 = class St extends zi{constructor(n,e){super(n,e,ht$1,we$1),this.core=n,this.logger=e;}};class Os extends zi{constructor(n,e){super(n,e,ut$1,we$1,t=>t.id),this.core=n,this.logger=e;}}class bs extends zi{constructor(n,e){super(n,e,mt$1,ae$1,()=>ce$1),this.core=n,this.logger=e;}}class As extends zi{constructor(n,e){super(n,e,_t$1,ae$1),this.core=n,this.logger=e;}}class xs extends zi{constructor(n,e){super(n,e,Et,ae$1,t=>t.id),this.core=n,this.logger=e;}}var Cs=Object.defineProperty,Vs=(S,n,e)=>n in S?Cs(S,n,{enumerable:true,configurable:true,writable:true,value:e}):S[n]=e,Ge$1=(S,n,e)=>Vs(S,typeof n!="symbol"?n+"":n,e);class Ds{constructor(n,e){this.core=n,this.logger=e,Ge$1(this,"authKeys"),Ge$1(this,"pairingTopics"),Ge$1(this,"requests"),this.authKeys=new bs(this.core,this.logger),this.pairingTopics=new As(this.core,this.logger),this.requests=new xs(this.core,this.logger);}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init();}}var Ls=Object.defineProperty,ks=(S,n,e)=>n in S?Ls(S,n,{enumerable:true,configurable:true,writable:true,value:e}):S[n]=e,E$2=(S,n,e)=>ks(S,typeof n!="symbol"?n+"":n,e);let Ee$1 = class Ee extends J$2{constructor(n){super(n),E$2(this,"protocol",De$1),E$2(this,"version",Le$1),E$2(this,"name",me$1.name),E$2(this,"metadata"),E$2(this,"core"),E$2(this,"logger"),E$2(this,"events",new require$$0$3.EventEmitter),E$2(this,"engine"),E$2(this,"session"),E$2(this,"proposal"),E$2(this,"pendingRequest"),E$2(this,"auth"),E$2(this,"signConfig"),E$2(this,"on",(t,s)=>this.events.on(t,s)),E$2(this,"once",(t,s)=>this.events.once(t,s)),E$2(this,"off",(t,s)=>this.events.off(t,s)),E$2(this,"removeListener",(t,s)=>this.events.removeListener(t,s)),E$2(this,"removeAllListeners",t=>this.events.removeAllListeners(t)),E$2(this,"connect",async t=>{try{return await this.engine.connect(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"pair",async t=>{try{return await this.engine.pair(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"approve",async t=>{try{return await this.engine.approve(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"reject",async t=>{try{return await this.engine.reject(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"update",async t=>{try{return await this.engine.update(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"extend",async t=>{try{return await this.engine.extend(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"request",async t=>{try{return await this.engine.request(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"respond",async t=>{try{return await this.engine.respond(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"ping",async t=>{try{return await this.engine.ping(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"emit",async t=>{try{return await this.engine.emit(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"disconnect",async t=>{try{return await this.engine.disconnect(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"find",t=>{try{return this.engine.find(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}}),E$2(this,"authenticate",async(t,s)=>{try{return await this.engine.authenticate(t,s)}catch(i){throw this.logger.error(i.message),i}}),E$2(this,"formatAuthMessage",t=>{try{return this.engine.formatAuthMessage(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"approveSessionAuthenticate",async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),E$2(this,"rejectSessionAuthenticate",async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),this.name=n?.name||me$1.name,this.metadata=oi$1(n?.metadata),this.signConfig=n?.signConfig;const e=typeof n?.logger<"u"&&typeof n?.logger!="string"?n.logger:Ot$7(k$7({level:n?.logger||me$1.logger}));this.core=n?.core||new Jo(n),this.logger=E$7(e,this.name),this.session=new St$1(this.core,this.logger),this.proposal=new Ns(this.core,this.logger),this.pendingRequest=new Os(this.core,this.logger),this.engine=new Ps(this),this.auth=new Ds(this.core,this.logger);}static async init(n){const e=new Ee(n);return await e.initialize(),e}get context(){return y$8(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache();},cjsExports$3.toMiliseconds(cjsExports$3.ONE_SECOND));}catch(n){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(n.message),n}}};

    const tt="error",St="wss://relay.walletconnect.org",Dt="wc",qt="universal_provider",_$1=`${Dt}@2:${qt}:`,et="https://rpc.walletconnect.org/v1/",w="generic",jt=`${et}bundler`,d$2={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function Rt(){}function G(s){return s==null||typeof s!="object"&&typeof s!="function"}function J(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function _t(s){if(G(s))return s;if(Array.isArray(s)||J(s)||s instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&s instanceof SharedArrayBuffer)return s.slice(0);const t=Object.getPrototypeOf(s),e=t.constructor;if(s instanceof Date||s instanceof Map||s instanceof Set)return new e(s);if(s instanceof RegExp){const i=new e(s);return i.lastIndex=s.lastIndex,i}if(s instanceof DataView)return new e(s.buffer.slice(0));if(s instanceof Error){const i=new e(s.message);return i.stack=s.stack,i.name=s.name,i.cause=s.cause,i}if(typeof File<"u"&&s instanceof File)return new e([s],s.name,{type:s.type,lastModified:s.lastModified});if(typeof s=="object"){const i=Object.create(t);return Object.assign(i,s)}return s}function st(s){return typeof s=="object"&&s!==null}function it(s){return Object.getOwnPropertySymbols(s).filter(t=>Object.prototype.propertyIsEnumerable.call(s,t))}function rt(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const Ut="[object RegExp]",nt="[object String]",at="[object Number]",ct="[object Boolean]",ot="[object Arguments]",Ft="[object Symbol]",Lt="[object Date]",xt="[object Map]",Mt="[object Set]",Bt="[object Array]",Gt="[object ArrayBuffer]",Jt="[object Object]",zt="[object DataView]",kt="[object Uint8Array]",Wt="[object Uint8ClampedArray]",Kt="[object Uint16Array]",Vt="[object Uint32Array]",Xt="[object Int8Array]",Yt="[object Int16Array]",Qt="[object Int32Array]",Zt="[object Float32Array]",Tt="[object Float64Array]";function te(s,t){return y$2(s,void 0,s,new Map,t)}function y$2(s,t,e,i=new Map,n=void 0){const a=n?.(s,t,e,i);if(a!=null)return a;if(G(s))return s;if(i.has(s))return i.get(s);if(Array.isArray(s)){const r=new Array(s.length);i.set(s,r);for(let c=0;c<s.length;c++)r[c]=y$2(s[c],c,e,i,n);return Object.hasOwn(s,"index")&&(r.index=s.index),Object.hasOwn(s,"input")&&(r.input=s.input),r}if(s instanceof Date)return new Date(s.getTime());if(s instanceof RegExp){const r=new RegExp(s.source,s.flags);return r.lastIndex=s.lastIndex,r}if(s instanceof Map){const r=new Map;i.set(s,r);for(const[c,o]of s)r.set(c,y$2(o,c,e,i,n));return r}if(s instanceof Set){const r=new Set;i.set(s,r);for(const c of s)r.add(y$2(c,void 0,e,i,n));return r}if(typeof Buffer<"u"&&Buffer.isBuffer(s))return s.subarray();if(J(s)){const r=new(Object.getPrototypeOf(s)).constructor(s.length);i.set(s,r);for(let c=0;c<s.length;c++)r[c]=y$2(s[c],c,e,i,n);return r}if(s instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&s instanceof SharedArrayBuffer)return s.slice(0);if(s instanceof DataView){const r=new DataView(s.buffer.slice(0),s.byteOffset,s.byteLength);return i.set(s,r),g$1(r,s,e,i,n),r}if(typeof File<"u"&&s instanceof File){const r=new File([s],s.name,{type:s.type});return i.set(s,r),g$1(r,s,e,i,n),r}if(s instanceof Blob){const r=new Blob([s],{type:s.type});return i.set(s,r),g$1(r,s,e,i,n),r}if(s instanceof Error){const r=new s.constructor;return i.set(s,r),r.message=s.message,r.name=s.name,r.stack=s.stack,r.cause=s.cause,g$1(r,s,e,i,n),r}if(typeof s=="object"&&ee(s)){const r=Object.create(Object.getPrototypeOf(s));return i.set(s,r),g$1(r,s,e,i,n),r}return s}function g$1(s,t,e=s,i,n){const a=[...Object.keys(t),...it(t)];for(let r=0;r<a.length;r++){const c=a[r],o=Object.getOwnPropertyDescriptor(s,c);(o==null||o.writable)&&(s[c]=y$2(t[c],c,e,i,n));}}function ee(s){switch(rt(s)){case ot:case Bt:case Gt:case zt:case ct:case Lt:case Zt:case Tt:case Xt:case Yt:case Qt:case xt:case at:case Jt:case Ut:case Mt:case nt:case Ft:case kt:case Wt:case Kt:case Vt:return  true;default:return  false}}function se(s,t){return te(s,(e,i,n,a)=>{if(typeof s=="object")switch(Object.prototype.toString.call(s)){case at:case nt:case ct:{const c=new s.constructor(s?.valueOf());return g$1(c,s),c}case ot:{const c={};return g$1(c,s),c.length=s.length,c[Symbol.iterator]=s[Symbol.iterator],c}default:return}})}function ht(s){return se(s)}function pt(s){return s!==null&&typeof s=="object"&&rt(s)==="[object Arguments]"}function ie(s){return J(s)}function re(s){if(typeof s!="object"||s==null)return  false;if(Object.getPrototypeOf(s)===null)return  true;if(Object.prototype.toString.call(s)!=="[object Object]"){const e=s[Symbol.toStringTag];return e==null||!Object.getOwnPropertyDescriptor(s,Symbol.toStringTag)?.writable?false:s.toString()===`[object ${e}]`}let t=s;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(s)===t}function ne(s,...t){const e=t.slice(0,-1),i=t[t.length-1];let n=s;for(let a=0;a<e.length;a++){const r=e[a];n=U(n,r,i,new Map);}return n}function U(s,t,e,i){if(G(s)&&(s=Object(s)),t==null||typeof t!="object")return s;if(i.has(t))return _t(i.get(t));if(i.set(t,s),Array.isArray(t)){t=t.slice();for(let a=0;a<t.length;a++)t[a]=t[a]??void 0;}const n=[...Object.keys(t),...it(t)];for(let a=0;a<n.length;a++){const r=n[a];let c=t[r],o=s[r];if(pt(c)&&(c={...c}),pt(o)&&(o={...o}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=ht(c)),Array.isArray(c))if(typeof o=="object"&&o!=null){const j=[],R=Reflect.ownKeys(o);for(let f=0;f<R.length;f++){const Y=R[f];j[Y]=o[Y];}o=j;}else o=[];const v=e(o,c,r,s,t,i);v!=null?s[r]=v:Array.isArray(c)||st(o)&&st(c)?s[r]=U(o,c,e,i):o==null&&re(c)?s[r]=U({},c,e,i):o==null&&ie(c)?s[r]=ht(c):(o===void 0||c!==void 0)&&(s[r]=c);}return s}function ae(s,...t){return ne(s,...t,Rt)}var ce=Object.defineProperty,oe=Object.defineProperties,he=Object.getOwnPropertyDescriptors,dt=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,ut=(s,t,e)=>t in s?ce(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,F=(s,t)=>{for(var e in t||(t={}))pe.call(t,e)&&ut(s,e,t[e]);if(dt)for(var e of dt(t))de.call(t,e)&&ut(s,e,t[e]);return s},ue=(s,t)=>oe(s,he(t));function p$2(s,t,e){var i;const n=Ie$2(s);return ((i=t.rpcMap)==null?void 0:i[n.reference])||`${et}?chainId=${n.namespace}:${n.reference}&projectId=${e}`}function P$1(s){return s.includes(":")?s.split(":")[1]:s}function lt(s){return s.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function le(s,t){const e=Object.keys(t.namespaces).filter(n=>n.includes(s));if(!e.length)return [];const i=[];return e.forEach(n=>{const a=t.namespaces[n].accounts;i.push(...a);}),i}function z$1(s={},t={}){const e=ft(s),i=ft(t);return ae(e,i)}function ft(s){var t,e,i,n;const a={};if(!xe$1(s))return a;for(const[r,c]of Object.entries(s)){const o=gn$1(r)?[r]:c.chains,v=c.methods||[],j=c.events||[],R=c.rpcMap||{},f=yo$1(r);a[f]=ue(F(F({},a[f]),c),{chains:at$1(o,(t=a[f])==null?void 0:t.chains),methods:at$1(v,(e=a[f])==null?void 0:e.methods),events:at$1(j,(i=a[f])==null?void 0:i.events),rpcMap:F(F({},R),(n=a[f])==null?void 0:n.rpcMap)});}return a}function mt(s){return s.includes(":")?s.split(":")[2]:s}function vt(s){const t={};for(const[e,i]of Object.entries(s)){const n=i.methods||[],a=i.events||[],r=i.accounts||[],c=gn$1(e)?[e]:i.chains?i.chains:lt(i.accounts);t[e]={chains:c,methods:n,events:a,accounts:r};}return t}function k$1(s){return typeof s=="number"?s:s.includes("0x")?parseInt(s,16):(s=s.includes(":")?s.split(":")[1]:s,isNaN(Number(s))?s:Number(s))}const gt={},h$5=s=>gt[s],W=(s,t)=>{gt[s]=t;};var fe=Object.defineProperty,me=(s,t,e)=>t in s?fe(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,b$2=(s,t,e)=>me(s,typeof t!="symbol"?t+"":t,e);class ve{constructor(t){b$2(this,"name","polkadot"),b$2(this,"client"),b$2(this,"httpProviders"),b$2(this,"events"),b$2(this,"namespace"),b$2(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`);}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P$1(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e]);}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||p$2(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$9(new f$7(i,h$5("disableProviderPing")))}}var ge=Object.defineProperty,Pe=Object.defineProperties,we=Object.getOwnPropertyDescriptors,Pt=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,K=(s,t,e)=>t in s?ge(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,wt=(s,t)=>{for(var e in t||(t={}))ye.call(t,e)&&K(s,e,t[e]);if(Pt)for(var e of Pt(t))be.call(t,e)&&K(s,e,t[e]);return s},yt=(s,t)=>Pe(s,we(t)),I$1=(s,t,e)=>K(s,typeof t!="symbol"?t+"":t,e);class Ie{constructor(t){I$1(this,"name","eip155"),I$1(this,"client"),I$1(this,"chainId"),I$1(this,"namespace"),I$1(this,"httpProviders"),I$1(this,"events"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain());}async request(t){switch(t.request.method){case "eth_requestAccounts":return this.getAccounts();case "eth_accounts":return this.getAccounts();case "wallet_switchEthereumChain":return await this.handleSwitchChain(t);case "eth_chainId":return parseInt(this.getDefaultChain());case "wallet_getCapabilities":return await this.getCapabilities(t);case "wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(parseInt(t),e),this.chainId=parseInt(t),this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,e){const i=e||p$2(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$9(new f$7(i,h$5("disableProviderPing")))}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=parseInt(P$1(e));t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e]);}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}async handleSwitchChain(t){var e,i;let n=t.request.params?(e=t.request.params[0])==null?void 0:e.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const a=parseInt(n,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var e,i,n;const a=(i=(e=t.request)==null?void 0:e.params)==null?void 0:i[0];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const r=this.client.session.get(t.topic),c=((n=r?.sessionProperties)==null?void 0:n.capabilities)||{};if(c!=null&&c[a])return c?.[a];const o=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:yt(wt({},r.sessionProperties||{}),{capabilities:yt(wt({},c||{}),{[a]:o})})});}catch(v){console.warn("Failed to update session with capabilities",v);}return o}async getCallStatus(t){var e,i;const n=this.client.session.get(t.topic),a=(e=n.sessionProperties)==null?void 0:e.bundler_name;if(a){const c=this.getBundlerUrl(t.chainId,a);try{return await this.getUserOperationReceipt(c,t)}catch(o){console.warn("Failed to fetch call status from bundler",o,c);}}const r=(i=n.sessionProperties)==null?void 0:i.bundler_url;if(r)try{return await this.getUserOperationReceipt(r,t)}catch(c){console.warn("Failed to fetch call status from custom bundler",c,r);}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,e){var i;const n=new URL(t),a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formatJsonRpcRequest("eth_getUserOperationReceipt",[(i=e.request.params)==null?void 0:i[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(t,e){return `${jt}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${e}`}}var $e=Object.defineProperty,Oe=(s,t,e)=>t in s?$e(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,$$1=(s,t,e)=>Oe(s,typeof t!="symbol"?t+"":t,e);class Ae{constructor(t){$$1(this,"name","solana"),$$1(this,"client"),$$1(this,"httpProviders"),$$1(this,"events"),$$1(this,"namespace"),$$1(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P$1(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e]);}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||p$2(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$9(new f$7(i,h$5("disableProviderPing")))}}var Ce=Object.defineProperty,He=(s,t,e)=>t in s?Ce(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,O=(s,t,e)=>He(s,typeof t!="symbol"?t+"":t,e);class Ee{constructor(t){O(this,"name","cosmos"),O(this,"client"),O(this,"httpProviders"),O(this,"events"),O(this,"namespace"),O(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P$1(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e]);}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||p$2(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$9(new f$7(i,h$5("disableProviderPing")))}}var Ne=Object.defineProperty,Se=(s,t,e)=>t in s?Ne(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,A$1=(s,t,e)=>Se(s,typeof t!="symbol"?t+"":t,e);class De{constructor(t){A$1(this,"name","algorand"),A$1(this,"client"),A$1(this,"httpProviders"),A$1(this,"events"),A$1(this,"namespace"),A$1(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(!this.httpProviders[t]){const i=e||p$2(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i);}this.chainId=t,this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;t[e]=this.createHttpProvider(e,(i=this.namespace.rpcMap)==null?void 0:i[e]);}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||p$2(t,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new o$9(new f$7(i,h$5("disableProviderPing")))}}var qe=Object.defineProperty,je=(s,t,e)=>t in s?qe(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,C$1=(s,t,e)=>je(s,typeof t!="symbol"?t+"":t,e);class Re{constructor(t){C$1(this,"name","cip34"),C$1(this,"client"),C$1(this,"httpProviders"),C$1(this,"events"),C$1(this,"namespace"),C$1(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{const i=this.getCardanoRPCUrl(e),n=P$1(e);t[n]=this.createHttpProvider(n,i);}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}getCardanoRPCUrl(t){const e=this.namespace.rpcMap;if(e)return e[t]}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$9(new f$7(i,h$5("disableProviderPing")))}}var _e=Object.defineProperty,Ue=(s,t,e)=>t in s?_e(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,H$1=(s,t,e)=>Ue(s,typeof t!="symbol"?t+"":t,e);class Fe{constructor(t){H$1(this,"name","elrond"),H$1(this,"client"),H$1(this,"httpProviders"),H$1(this,"events"),H$1(this,"namespace"),H$1(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P$1(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e]);}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||p$2(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$9(new f$7(i,h$5("disableProviderPing")))}}var Le=Object.defineProperty,xe=(s,t,e)=>t in s?Le(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,E$1=(s,t,e)=>xe(s,typeof t!="symbol"?t+"":t,e);class Me{constructor(t){E$1(this,"name","multiversx"),E$1(this,"client"),E$1(this,"httpProviders"),E$1(this,"events"),E$1(this,"namespace"),E$1(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;const n=P$1(e);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[e]);}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||p$2(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$9(new f$7(i,h$5("disableProviderPing")))}}var Be=Object.defineProperty,Ge=(s,t,e)=>t in s?Be(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,N$1=(s,t,e)=>Ge(s,typeof t!="symbol"?t+"":t,e);class Je{constructor(t){N$1(this,"name","near"),N$1(this,"client"),N$1(this,"httpProviders"),N$1(this,"events"),N$1(this,"namespace"),N$1(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const i=e||p$2(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i);}this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{var i;t[e]=this.createHttpProvider(e,(i=this.namespace.rpcMap)==null?void 0:i[e]);}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||p$2(t,this.namespace);return typeof i>"u"?void 0:new o$9(new f$7(i,h$5("disableProviderPing")))}}var ze=Object.defineProperty,ke=(s,t,e)=>t in s?ze(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,S$2=(s,t,e)=>ke(s,typeof t!="symbol"?t+"":t,e);class We{constructor(t){S$2(this,"name","tezos"),S$2(this,"client"),S$2(this,"httpProviders"),S$2(this,"events"),S$2(this,"namespace"),S$2(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace=Object.assign(this.namespace,t);}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const i=e||p$2(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i);}this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`);}getAccounts(){const t=this.namespace.accounts;return t?t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(e=>{t[e]=this.createHttpProvider(e);}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||p$2(t,this.namespace);return typeof i>"u"?void 0:new o$9(new f$7(i))}}var Ke=Object.defineProperty,Ve=(s,t,e)=>t in s?Ke(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,D=(s,t,e)=>Ve(s,typeof t!="symbol"?t+"":t,e);class Xe{constructor(t){D(this,"name",w),D(this,"client"),D(this,"httpProviders"),D(this,"events"),D(this,"namespace"),D(this,"chainId"),this.namespace=t.namespace,this.events=h$5("events"),this.client=h$5("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders();}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders();}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(d$2.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`);}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var t,e;const i={};return (e=(t=this.namespace)==null?void 0:t.accounts)==null||e.forEach(n=>{const a=Ie$2(n);i[`${a.namespace}:${a.reference}`]=this.createHttpProvider(n);}),i}getHttpProvider(t){const e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const i=this.createHttpProvider(t,e);i&&(this.httpProviders[t]=i);}createHttpProvider(t,e){const i=e||p$2(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$9(new f$7(i,h$5("disableProviderPing")))}}var Ye=Object.defineProperty,Qe=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable,V$1=(s,t,e)=>t in s?Ye(s,t,{enumerable:true,configurable:true,writable:true,value:e}):s[t]=e,L$1=(s,t)=>{for(var e in t||(t={}))Te.call(t,e)&&V$1(s,e,t[e]);if(bt)for(var e of bt(t))ts.call(t,e)&&V$1(s,e,t[e]);return s},X=(s,t)=>Qe(s,Ze(t)),u$2=(s,t,e)=>V$1(s,typeof t!="symbol"?t+"":t,e);let x$2 = class x{constructor(t){u$2(this,"client"),u$2(this,"namespaces"),u$2(this,"optionalNamespaces"),u$2(this,"sessionProperties"),u$2(this,"scopedProperties"),u$2(this,"events",new require$$0$3),u$2(this,"rpcProviders",{}),u$2(this,"session"),u$2(this,"providerOpts"),u$2(this,"logger"),u$2(this,"uri"),u$2(this,"disableProviderPing",false),this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:Ot$7(k$7({level:t?.logger||tt})),this.disableProviderPing=t?.disableProviderPing||false;}static async init(t){const e=new x(t);return await e.initialize(),e}async request(t,e,i){const[n,a]=this.validateChain(e);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:L$1({},t),chainId:`${n}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(t,e,i,n){const a=new Date().getTime();this.request(t,i,n).then(r=>e(null,formatJsonRpcResult(a,r))).catch(r=>e(r,void 0));}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Nt$1("USER_DISCONNECTED")}),await this.cleanup();}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,e){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:i,response:n}=await this.client.authenticate(t,e);i&&(this.uri=i,this.events.emit("display_uri",i));const a=await n();if(this.session=a.session,this.session){const r=vt(this.session.namespaces);this.namespaces=z$1(this.namespaces,r),await this.persist("namespaces",this.namespaces),this.onConnect();}return a}on(t,e){this.events.on(t,e);}once(t,e){this.events.once(t,e);}removeListener(t,e){this.events.removeListener(t,e);}off(t,e){this.events.off(t,e);}get isWalletConnect(){return  true}async pair(t){const{uri:e,approval:i}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});e&&(this.uri=e,this.events.emit("display_uri",e));const n=await i();this.session=n;const a=vt(n.namespaces);return this.namespaces=z$1(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,e){try{if(!this.session)return;const[i,n]=this.validateChain(t),a=this.getProvider(i);a.name===w?a.setDefaultChain(`${i}:${n}`,e):a.setDefaultChain(n,e);}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const e=this.client.pairing.getAll();if(oe$1(e)){for(const i of e)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${e.length}`);}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.");}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders();}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners();}async createClient(){var t,e;if(this.client=this.providerOpts.client||await Ee$1.init({core:this.providerOpts.core,logger:this.providerOpts.logger||tt,relayUrl:this.providerOpts.relayUrl||St,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic);}catch(i){throw this.logger.error("Failed to get session",i),new Error(`The provided session: ${(e=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:e.topic} doesn't exist in the Sign client`)}else {const i=this.client.session.getAll();this.session=i[0];}this.logger.trace("SignClient Initialized");}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(e=>yo$1(e)))];W("client",this.client),W("events",this.events),W("disableProviderPing",this.disableProviderPing),t.forEach(e=>{if(!this.session)return;const i=le(e,this.session),n=lt(i),a=z$1(this.namespaces,this.optionalNamespaces),r=X(L$1({},a[e]),{accounts:i,chains:n});switch(e){case "eip155":this.rpcProviders[e]=new Ie({namespace:r});break;case "algorand":this.rpcProviders[e]=new De({namespace:r});break;case "solana":this.rpcProviders[e]=new Ae({namespace:r});break;case "cosmos":this.rpcProviders[e]=new Ee({namespace:r});break;case "polkadot":this.rpcProviders[e]=new ve({namespace:r});break;case "cip34":this.rpcProviders[e]=new Re({namespace:r});break;case "elrond":this.rpcProviders[e]=new Fe({namespace:r});break;case "multiversx":this.rpcProviders[e]=new Me({namespace:r});break;case "near":this.rpcProviders[e]=new Je({namespace:r});break;case "tezos":this.rpcProviders[e]=new We({namespace:r});break;default:this.rpcProviders[w]?this.rpcProviders[w].updateNamespace(r):this.rpcProviders[w]=new Xe({namespace:r});}});}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var e;const{topic:i}=t;i===((e=this.session)==null?void 0:e.topic)&&this.events.emit("session_ping",t);}),this.client.on("session_event",t=>{var e;const{params:i,topic:n}=t;if(n!==((e=this.session)==null?void 0:e.topic))return;const{event:a}=i;if(a.name==="accountsChanged"){const r=a.data;r&&oe$1(r)&&this.events.emit("accountsChanged",r.map(mt));}else if(a.name==="chainChanged"){const r=i.chainId,c=i.event.data,o=yo$1(r),v=k$1(r)!==k$1(c)?`${o}:${k$1(c)}`:r;this.onChainChanged(v);}else this.events.emit(a.name,a.data);this.events.emit("session_event",t);}),this.client.on("session_update",({topic:t,params:e})=>{var i,n;if(t!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:a}=e,r=(n=this.client)==null?void 0:n.session.get(t);this.session=X(L$1({},r),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:e});}),this.client.on("session_delete",async t=>{var e;t.topic===((e=this.session)==null?void 0:e.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",X(L$1({},Nt$1("USER_DISCONNECTED")),{data:t.topic})));}),this.on(d$2.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,true);});}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[w]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var e;this.getProvider(t).updateNamespace((e=this.session)==null?void 0:e.namespaces[t]);});}setNamespaces(t){const{namespaces:e,optionalNamespaces:i,sessionProperties:n,scopedProperties:a}=t;e&&Object.keys(e).length&&(this.namespaces=e),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=n,this.scopedProperties=a;}validateChain(t){const[e,i]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return [e,i];if(e&&!Object.keys(this.namespaces||{}).map(r=>yo$1(r)).includes(e))throw new Error(`Namespace '${e}' is not configured. Please call connect() first with namespace config.`);if(e&&i)return [e,i];const n=yo$1(Object.keys(this.namespaces)[0]),a=this.rpcProviders[n].getDefaultChain();return [n,a]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,e=false){if(!this.namespaces)return;const[i,n]=this.validateChain(t);if(!n)return;this.updateNamespaceChain(i,n),this.events.emit("chainChanged",n);const a=this.getProvider(i).getDefaultChain();e||this.getProvider(i).setDefaultChain(n),this.emitAccountsChangedOnChainChange({namespace:i,previousChainId:a,newChainId:t}),await this.persist("namespaces",this.namespaces);}emitAccountsChangedOnChainChange({namespace:t,previousChainId:e,newChainId:i}){var n,a;try{if(e===i)return;const r=(a=(n=this.session)==null?void 0:n.namespaces[t])==null?void 0:a.accounts;if(!r)return;const c=r.filter(o=>o.includes(`${i}:`)).map(mt);if(!oe$1(c))return;this.events.emit("accountsChanged",c);}catch(r){this.logger.warn("Failed to emit accountsChanged on chain change",r);}}updateNamespaceChain(t,e){if(!this.namespaces)return;const i=this.namespaces[t]?t:`${t}:${e}`,n={chains:[],methods:[],events:[],defaultChain:e};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=e):this.namespaces[i]=n;}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session});}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:true}),await this.cleanupStorage();}async persist(t,e){var i;const n=((i=this.session)==null?void 0:i.topic)||"";await this.client.core.storage.setItem(`${_$1}/${t}${n}`,e);}async getFromStore(t){var e;const i=((e=this.session)==null?void 0:e.topic)||"";return await this.client.core.storage.getItem(`${_$1}/${t}${i}`)}async deleteFromStore(t){var e;const i=((e=this.session)==null?void 0:e.topic)||"";await this.client.core.storage.removeItem(`${_$1}/${t}${i}`);}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const e=await this.client.core.storage.getKeys();for(const i of e)i.startsWith(_$1)&&await this.client.core.storage.removeItem(i);}catch(e){this.logger.warn("Failed to cleanup storage",e);}}};

    const ConstantsUtil$1 = {
        EIP155: 'eip155',
        CONNECTOR_TYPE_WALLET_CONNECT: 'WALLET_CONNECT',
        CONNECTOR_TYPE_INJECTED: 'INJECTED',
        CONNECTOR_TYPE_ANNOUNCED: 'ANNOUNCED'};

    const PresetsUtil = {
        NetworkImageIds: {
            1: 'ba0ba0cd-17c6-4806-ad93-f9d174f17900',
            42161: '3bff954d-5cb0-47a0-9a23-d20192e74600',
            43114: '30c46e53-e989-45fb-4549-be3bd4eb3b00',
            56: '93564157-2e8e-4ce7-81df-b264dbee9b00',
            250: '06b26297-fe0c-4733-5d6b-ffa5498aac00',
            10: 'ab9c186a-c52f-464b-2906-ca59d760a400',
            137: '41d04d42-da3b-4453-8506-668cc0727900',
            5000: 'e86fae9b-b770-4eea-e520-150e12c81100',
            295: '6a97d510-cac8-4e58-c7ce-e8681b044c00',
            11_155_111: 'e909ea0a-f92a-4512-c8fc-748044ea6800',
            84532: 'a18a7ecd-e307-4360-4746-283182228e00',
            1301: '4eeea7ef-0014-4649-5d1d-07271a80f600',
            130: '2257980a-3463-48c6-cbac-a42d2a956e00',
            10_143: '0a728e83-bacb-46db-7844-948f05434900',
            100: '02b53f6a-e3d4-479e-1cb4-21178987d100',
            9001: 'f926ff41-260d-4028-635e-91913fc28e00',
            324: 'b310f07f-4ef7-49f3-7073-2a0a39685800',
            314: '5a73b3dd-af74-424e-cae0-0de859ee9400',
            4689: '34e68754-e536-40da-c153-6ef2e7188a00',
            1088: '3897a66d-40b9-4833-162f-a2c90531c900',
            1284: '161038da-44ae-4ec7-1208-0ea569454b00',
            1285: 'f1d73bb6-5450-4e18-38f7-fb6484264a00',
            7777777: '845c60df-d429-4991-e687-91ae45791600',
            42220: 'ab781bbc-ccc6-418d-d32d-789b15da1f00',
            8453: '7289c336-3981-4081-c5f4-efc26ac64a00',
            1313161554: '3ff73439-a619-4894-9262-4470c773a100',
            2020: 'b8101fc0-9c19-4b6f-ec65-f6dfff106e00',
            2021: 'b8101fc0-9c19-4b6f-ec65-f6dfff106e00',
            80094: 'e329c2c9-59b0-4a02-83e4-212ff3779900',
            2741: 'fc2427d1-5af9-4a9c-8da5-6f94627cd900',
            '5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp': 'a1b58899-f671-4276-6a5e-56ca5bd59700',
            '4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z': 'a1b58899-f671-4276-6a5e-56ca5bd59700',
            EtWTRABZaYq6iMfeYKouRu166VU2xqa1: 'a1b58899-f671-4276-6a5e-56ca5bd59700',
            '000000000019d6689c085ae165831e93': '0b4838db-0161-4ffe-022d-532bf03dba00',
            '000000000933ea01ad0ee984209779ba': '39354064-d79b-420b-065d-f980c4b78200'
        },
        ConnectorImageIds: {
            [ConstantsUtil$3.CONNECTOR_ID.COINBASE]: '0c2840c3-5b04-4c44-9661-fbd4b49e1800',
            [ConstantsUtil$3.CONNECTOR_ID.COINBASE_SDK]: '0c2840c3-5b04-4c44-9661-fbd4b49e1800',
            [ConstantsUtil$3.CONNECTOR_ID.SAFE]: '461db637-8616-43ce-035a-d89b8a1d5800',
            [ConstantsUtil$3.CONNECTOR_ID.LEDGER]: '54a1aa77-d202-4f8d-0fb2-5d2bb6db0300',
            [ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT]: 'ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400',
            [ConstantsUtil$3.CONNECTOR_ID.INJECTED]: '07ba87ed-43aa-4adf-4540-9e6a2b9cae00'
        },
        ConnectorNamesMap: {
            [ConstantsUtil$3.CONNECTOR_ID.INJECTED]: 'Browser Wallet',
            [ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT]: 'WalletConnect',
            [ConstantsUtil$3.CONNECTOR_ID.COINBASE]: 'Coinbase',
            [ConstantsUtil$3.CONNECTOR_ID.COINBASE_SDK]: 'Coinbase',
            [ConstantsUtil$3.CONNECTOR_ID.LEDGER]: 'Ledger',
            [ConstantsUtil$3.CONNECTOR_ID.SAFE]: 'Safe'
        }};

    const HelpersUtil = {
        getCaipTokens(tokens) {
            if (!tokens) {
                return undefined;
            }
            const caipTokens = {};
            Object.entries(tokens).forEach(([id, token]) => {
                caipTokens[`${ConstantsUtil$1.EIP155}:${id}`] = token;
            });
            return caipTokens;
        },
        isLowerCaseMatch(str1, str2) {
            return str1?.toLowerCase() === str2?.toLowerCase();
        }
    };

    const ErrorUtil = {
        UniversalProviderErrors: {
            UNAUTHORIZED_DOMAIN_NOT_ALLOWED: {
                message: 'Unauthorized: origin not allowed',
                alertErrorKey: 'INVALID_APP_CONFIGURATION'
            },
            JWT_VALIDATION_ERROR: {
                message: 'JWT validation error: JWT Token is not yet valid',
                alertErrorKey: 'JWT_TOKEN_NOT_VALID'
            },
            INVALID_KEY: {
                message: 'Unauthorized: invalid key',
                alertErrorKey: 'INVALID_PROJECT_ID'
            }
        },
        ALERT_ERRORS: {
            SWITCH_NETWORK_NOT_FOUND: {
                shortMessage: 'Network Not Found',
                longMessage: "Network not found - please make sure it is included in 'networks' array in createAppKit function"
            },
            INVALID_APP_CONFIGURATION: {
                shortMessage: 'Invalid App Configuration',
                longMessage: () => `Origin ${isSafe() ? window.origin : 'unknown'} not found on Allowlist - update configuration on cloud.reown.com`
            },
            SOCIALS_TIMEOUT: {
                shortMessage: 'Invalid App Configuration',
                longMessage: () => 'There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com'
            },
            JWT_TOKEN_NOT_VALID: {
                shortMessage: 'Session Expired',
                longMessage: 'Invalid session found on UniversalProvider - please check your time settings and connect again'
            },
            INVALID_PROJECT_ID: {
                shortMessage: 'Invalid App Configuration',
                longMessage: 'Invalid Project ID - update configuration'
            },
            PROJECT_ID_NOT_CONFIGURED: {
                shortMessage: 'Project ID Not Configured',
                longMessage: 'Project ID Not Configured - update configuration on cloud.reown.com'
            }
        }
    };
    function isSafe() {
        return typeof window !== 'undefined';
    }

    const LoggerUtil = {
        createLogger(onError, level = 'error') {
            const loggerOptions = k$7({
                level
            });
            const { logger } = A$4({
                opts: loggerOptions
            });
            logger.error = (...args) => {
                for (const arg of args) {
                    if (arg instanceof Error) {
                        onError(arg, ...args);
                        return;
                    }
                }
                onError(undefined, ...args);
            };
            return logger;
        }
    };

    const RPC_URL_HOST = 'rpc.walletconnect.org';
    function getBlockchainApiRpcUrl(caipNetworkId, projectId) {
        const url = new URL('https://rpc.walletconnect.org/v1/');
        url.searchParams.set('chainId', caipNetworkId);
        url.searchParams.set('projectId', projectId);
        return url.toString();
    }
    const WC_HTTP_RPC_SUPPORTED_CHAINS = [
        'near:mainnet',
        'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',
        'eip155:1101',
        'eip155:56',
        'eip155:42161',
        'eip155:7777777',
        'eip155:59144',
        'eip155:324',
        'solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1',
        'eip155:5000',
        'solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz',
        'eip155:80084',
        'eip155:5003',
        'eip155:100',
        'eip155:8453',
        'eip155:42220',
        'eip155:1313161555',
        'eip155:17000',
        'eip155:1',
        'eip155:300',
        'eip155:1313161554',
        'eip155:1329',
        'eip155:84532',
        'eip155:421614',
        'eip155:11155111',
        'eip155:8217',
        'eip155:43114',
        'solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z',
        'eip155:999999999',
        'eip155:11155420',
        'eip155:80002',
        'eip155:97',
        'eip155:43113',
        'eip155:137',
        'eip155:10',
        'eip155:1301',
        'bip122:000000000019d6689c085ae165831e93',
        'bip122:000000000933ea01ad0ee984209779ba'
    ];
    const CaipNetworksUtil = {
        extendRpcUrlWithProjectId(rpcUrl, projectId) {
            let isReownUrl = false;
            try {
                const url = new URL(rpcUrl);
                isReownUrl = url.host === RPC_URL_HOST;
            }
            catch (e) {
                isReownUrl = false;
            }
            if (isReownUrl) {
                const url = new URL(rpcUrl);
                if (!url.searchParams.has('projectId')) {
                    url.searchParams.set('projectId', projectId);
                }
                return url.toString();
            }
            return rpcUrl;
        },
        isCaipNetwork(network) {
            return 'chainNamespace' in network && 'caipNetworkId' in network;
        },
        getChainNamespace(network) {
            if (this.isCaipNetwork(network)) {
                return network.chainNamespace;
            }
            return ConstantsUtil$3.CHAIN.EVM;
        },
        getCaipNetworkId(network) {
            if (this.isCaipNetwork(network)) {
                return network.caipNetworkId;
            }
            return `${ConstantsUtil$3.CHAIN.EVM}:${network.id}`;
        },
        getDefaultRpcUrl(caipNetwork, caipNetworkId, projectId) {
            const defaultRpcUrl = caipNetwork.rpcUrls?.default?.http?.[0];
            if (WC_HTTP_RPC_SUPPORTED_CHAINS.includes(caipNetworkId)) {
                return getBlockchainApiRpcUrl(caipNetworkId, projectId);
            }
            return defaultRpcUrl || '';
        },
        extendCaipNetwork(caipNetwork, { customNetworkImageUrls, projectId, customRpcUrls }) {
            const chainNamespace = this.getChainNamespace(caipNetwork);
            const caipNetworkId = this.getCaipNetworkId(caipNetwork);
            const networkDefaultRpcUrl = caipNetwork.rpcUrls.default.http?.[0];
            const reownRpcUrl = this.getDefaultRpcUrl(caipNetwork, caipNetworkId, projectId);
            const chainDefaultRpcUrl = caipNetwork?.rpcUrls?.['chainDefault']?.http?.[0] || networkDefaultRpcUrl;
            const customRpcUrlsOfNetwork = customRpcUrls?.[caipNetworkId]?.map(i => i.url) || [];
            const rpcUrls = [...customRpcUrlsOfNetwork, reownRpcUrl];
            const rpcUrlsWithoutReown = [...customRpcUrlsOfNetwork];
            if (chainDefaultRpcUrl && !rpcUrlsWithoutReown.includes(chainDefaultRpcUrl)) {
                rpcUrlsWithoutReown.push(chainDefaultRpcUrl);
            }
            return {
                ...caipNetwork,
                chainNamespace,
                caipNetworkId,
                assets: {
                    imageId: PresetsUtil.NetworkImageIds[caipNetwork.id],
                    imageUrl: customNetworkImageUrls?.[caipNetwork.id]
                },
                rpcUrls: {
                    ...caipNetwork.rpcUrls,
                    default: {
                        http: rpcUrls
                    },
                    chainDefault: {
                        http: rpcUrlsWithoutReown
                    }
                }
            };
        },
        extendCaipNetworks(caipNetworks, { customNetworkImageUrls, projectId, customRpcUrls }) {
            return caipNetworks.map(caipNetwork => CaipNetworksUtil.extendCaipNetwork(caipNetwork, {
                customNetworkImageUrls,
                customRpcUrls,
                projectId
            }));
        },
        getViemTransport(caipNetwork, projectId, customRpcUrls) {
            const transports = [];
            customRpcUrls?.forEach(rpcUrl => {
                transports.push(http(rpcUrl.url, rpcUrl.config));
            });
            if (WC_HTTP_RPC_SUPPORTED_CHAINS.includes(caipNetwork.caipNetworkId)) {
                transports.push(http(getBlockchainApiRpcUrl(caipNetwork.caipNetworkId, projectId), {
                    fetchOptions: {
                        headers: {
                            'Content-Type': 'text/plain'
                        }
                    }
                }));
            }
            caipNetwork?.rpcUrls?.default?.http?.forEach(rpcUrl => {
                transports.push(http(rpcUrl));
            });
            return fallback(transports);
        },
        extendWagmiTransports(caipNetwork, projectId, transport) {
            if (WC_HTTP_RPC_SUPPORTED_CHAINS.includes(caipNetwork.caipNetworkId)) {
                const reownRpcUrl = this.getDefaultRpcUrl(caipNetwork, caipNetwork.caipNetworkId, projectId);
                return fallback([transport, http(reownRpcUrl)]);
            }
            return transport;
        },
        getUnsupportedNetwork(caipNetworkId) {
            return {
                id: caipNetworkId.split(':')[1],
                caipNetworkId,
                name: ConstantsUtil$3.UNSUPPORTED_NETWORK_NAME,
                chainNamespace: caipNetworkId.split(':')[0],
                nativeCurrency: {
                    name: '',
                    decimals: 0,
                    symbol: ''
                },
                rpcUrls: {
                    default: {
                        http: []
                    }
                }
            };
        },
        getCaipNetworkFromStorage(defaultCaipNetwork) {
            const caipNetworkIdFromStorage = StorageUtil.getActiveCaipNetworkId();
            const caipNetworks = ChainController.getAllRequestedCaipNetworks();
            const availableNamespaces = Array.from(ChainController.state.chains?.keys() || []);
            const namespace = caipNetworkIdFromStorage?.split(':')[0];
            const isNamespaceAvailable = namespace ? availableNamespaces.includes(namespace) : false;
            const caipNetwork = caipNetworks?.find(cn => cn.caipNetworkId === caipNetworkIdFromStorage);
            const isUnsupportedNetwork = isNamespaceAvailable && !caipNetwork && caipNetworkIdFromStorage;
            if (isUnsupportedNetwork) {
                return this.getUnsupportedNetwork(caipNetworkIdFromStorage);
            }
            if (caipNetwork) {
                return caipNetwork;
            }
            if (defaultCaipNetwork) {
                return defaultCaipNetwork;
            }
            return caipNetworks?.[0];
        }
    };

    const CLEAN_PROVIDERS_STATE = {
        eip155: undefined,
        solana: undefined,
        polkadot: undefined,
        bip122: undefined
    };
    const state = proxy({
        providers: { ...CLEAN_PROVIDERS_STATE },
        providerIds: { ...CLEAN_PROVIDERS_STATE }
    });
    const ProviderUtil = {
        state,
        subscribeKey(key, callback) {
            return subscribeKey(state, key, callback);
        },
        subscribe(callback) {
            return subscribe(state, () => {
                callback(state);
            });
        },
        subscribeProviders(callback) {
            return subscribe(state.providers, () => callback(state.providers));
        },
        setProvider(chainNamespace, provider) {
            if (provider) {
                state.providers[chainNamespace] = ref(provider);
            }
        },
        getProvider(chainNamespace) {
            return state.providers[chainNamespace];
        },
        setProviderId(chainNamespace, providerId) {
            if (providerId) {
                state.providerIds[chainNamespace] = providerId;
            }
        },
        getProviderId(chainNamespace) {
            if (!chainNamespace) {
                return undefined;
            }
            return state.providerIds[chainNamespace];
        },
        reset() {
            state.providers = { ...CLEAN_PROVIDERS_STATE };
            state.providerIds = { ...CLEAN_PROVIDERS_STATE };
        },
        resetChain(chainNamespace) {
            state.providers[chainNamespace] = undefined;
            state.providerIds[chainNamespace] = undefined;
        }
    };

    var SocialProviderEnum;
    (function (SocialProviderEnum) {
        SocialProviderEnum["Google"] = "google";
        SocialProviderEnum["Github"] = "github";
        SocialProviderEnum["Apple"] = "apple";
        SocialProviderEnum["Facebook"] = "facebook";
        SocialProviderEnum["X"] = "x";
        SocialProviderEnum["Discord"] = "discord";
        SocialProviderEnum["Farcaster"] = "farcaster";
    })(SocialProviderEnum || (SocialProviderEnum = {}));

    const ConstantsUtil = {
        SECURE_SITE_ORIGIN: (typeof process !== 'undefined' && typeof process.env !== 'undefined'
            ? process.env['NEXT_PUBLIC_SECURE_SITE_ORIGIN']
            : undefined) || 'https://secure.walletconnect.org',
        VIEW_DIRECTION: {
            Next: 'next',
            Prev: 'prev'
        },
        DEFAULT_CONNECT_METHOD_ORDER: ['email', 'social', 'wallet'],
        ANIMATION_DURATIONS: {
            HeaderText: 120,
            ModalHeight: 150,
            ViewTransition: 150
        }
    };

    const WalletUtil = {
        filterOutDuplicatesByRDNS(wallets) {
            const connectors = OptionsController.state.enableEIP6963
                ? ConnectorController.state.connectors
                : [];
            const recent = StorageUtil.getRecentWallets();
            const connectorRDNSs = connectors
                .map(connector => connector.info?.rdns)
                .filter(Boolean);
            const recentRDNSs = recent.map(wallet => wallet.rdns).filter(Boolean);
            const allRDNSs = connectorRDNSs.concat(recentRDNSs);
            if (allRDNSs.includes('io.metamask.mobile') && CoreHelperUtil.isMobile()) {
                const index = allRDNSs.indexOf('io.metamask.mobile');
                allRDNSs[index] = 'io.metamask';
            }
            const filtered = wallets.filter(wallet => !allRDNSs.includes(String(wallet?.rdns)));
            return filtered;
        },
        filterOutDuplicatesByIds(wallets) {
            const connectors = ConnectorController.state.connectors.filter(connector => connector.type === 'ANNOUNCED' || connector.type === 'INJECTED');
            const recent = StorageUtil.getRecentWallets();
            const connectorIds = connectors.map(connector => connector.explorerId);
            const recentIds = recent.map(wallet => wallet.id);
            const allIds = connectorIds.concat(recentIds);
            const filtered = wallets.filter(wallet => !allIds.includes(wallet?.id));
            return filtered;
        },
        filterOutDuplicateWallets(wallets) {
            const uniqueByRDNS = this.filterOutDuplicatesByRDNS(wallets);
            const uniqueWallets = this.filterOutDuplicatesByIds(uniqueByRDNS);
            return uniqueWallets;
        },
        markWalletsAsInstalled(wallets) {
            const { connectors } = ConnectorController.state;
            const installedConnectors = connectors
                .filter(c => c.type === 'ANNOUNCED')
                .reduce((acum, val) => {
                if (!val.info?.rdns) {
                    return acum;
                }
                acum[val.info.rdns] = true;
                return acum;
            }, {});
            const walletsWithInstalled = wallets.map(wallet => ({
                ...wallet,
                installed: Boolean(wallet.rdns) && Boolean(installedConnectors[wallet.rdns ?? ''])
            }));
            const sortedWallets = walletsWithInstalled.sort((a, b) => Number(b.installed) - Number(a.installed));
            return sortedWallets;
        },
        getConnectOrderMethod(_features, _connectors) {
            const connectMethodOrder = _features?.connectMethodsOrder || OptionsController.state.features?.connectMethodsOrder;
            const connectors = _connectors || ConnectorController.state.connectors;
            if (connectMethodOrder) {
                return connectMethodOrder;
            }
            const { injected, announced } = ConnectorUtil.getConnectorsByType(connectors, ApiController.state.recommended, ApiController.state.featured);
            const shownInjected = injected.filter(ConnectorUtil.showConnector);
            const shownAnnounced = announced.filter(ConnectorUtil.showConnector);
            if (shownInjected.length || shownAnnounced.length) {
                return ['wallet', 'email', 'social'];
            }
            return ConstantsUtil.DEFAULT_CONNECT_METHOD_ORDER;
        },
        isExcluded(wallet) {
            const isRDNSExcluded = Boolean(wallet.rdns) && ApiController.state.excludedWallets.some(w => w.rdns === wallet.rdns);
            const isNameExcluded = Boolean(wallet.name) &&
                ApiController.state.excludedWallets.some(w => HelpersUtil.isLowerCaseMatch(w.name, wallet.name));
            return isRDNSExcluded || isNameExcluded;
        }
    };

    const ConnectorUtil = {
        getConnectorsByType(connectors, recommended, featured) {
            const { customWallets } = OptionsController.state;
            const recent = StorageUtil.getRecentWallets();
            const filteredRecommended = WalletUtil.filterOutDuplicateWallets(recommended);
            const filteredFeatured = WalletUtil.filterOutDuplicateWallets(featured);
            const multiChain = connectors.filter(connector => connector.type === 'MULTI_CHAIN');
            const announced = connectors.filter(connector => connector.type === 'ANNOUNCED');
            const injected = connectors.filter(connector => connector.type === 'INJECTED');
            const external = connectors.filter(connector => connector.type === 'EXTERNAL');
            return {
                custom: customWallets,
                recent,
                external,
                multiChain,
                announced,
                injected,
                recommended: filteredRecommended,
                featured: filteredFeatured
            };
        },
        showConnector(connector) {
            const rdns = connector.info?.rdns;
            const isRDNSExcluded = Boolean(rdns) &&
                ApiController.state.excludedWallets.some(wallet => Boolean(wallet.rdns) && wallet.rdns === rdns);
            const isNameExcluded = Boolean(connector.name) &&
                ApiController.state.excludedWallets.some(wallet => HelpersUtil.isLowerCaseMatch(wallet.name, connector.name));
            if (connector.type === 'INJECTED') {
                if (!CoreHelperUtil.isMobile() && connector.name === 'Browser Wallet') {
                    return false;
                }
                if (!rdns && !ConnectionController.checkInstalled()) {
                    return false;
                }
                if (isRDNSExcluded || isNameExcluded) {
                    return false;
                }
            }
            if ((connector.type === 'ANNOUNCED' || connector.type === 'EXTERNAL') &&
                (isRDNSExcluded || isNameExcluded)) {
                return false;
            }
            return true;
        },
        getIsConnectedWithWC() {
            const chains = Array.from(ChainController.state.chains.values());
            const isConnectedWithWC = chains.some(chain => {
                const connectorId = ConnectorController.getConnectorId(chain.namespace);
                return connectorId === ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT;
            });
            return isConnectedWithWC;
        },
        getConnectorTypeOrder({ recommended, featured, custom, recent, announced, injected, multiChain, external, overriddenConnectors = OptionsController.state.features?.connectorTypeOrder ?? [] }) {
            const isConnectedWithWC = ConnectorUtil.getIsConnectedWithWC();
            const isWCEnabled = OptionsController.state.enableWalletConnect;
            const allConnectors = [
                { type: 'walletConnect', isEnabled: isWCEnabled && !isConnectedWithWC },
                { type: 'recent', isEnabled: recent.length > 0 },
                { type: 'injected', isEnabled: [...injected, ...announced, ...multiChain].length > 0 },
                { type: 'featured', isEnabled: featured.length > 0 },
                { type: 'custom', isEnabled: custom && custom.length > 0 },
                { type: 'external', isEnabled: external.length > 0 },
                { type: 'recommended', isEnabled: recommended.length > 0 }
            ];
            const enabledConnectors = allConnectors.filter(option => option.isEnabled);
            const enabledConnectorTypes = new Set(enabledConnectors.map(option => option.type));
            const prioritizedConnectors = overriddenConnectors
                .filter(type => enabledConnectorTypes.has(type))
                .map(type => ({ type, isEnabled: true }));
            const remainingConnectors = enabledConnectors.filter(({ type: enabledConnectorType }) => {
                const hasPrioritizedConnector = prioritizedConnectors.some(({ type: prioritizedConnectorType }) => prioritizedConnectorType === enabledConnectorType);
                return !hasPrioritizedConnector;
            });
            return Array.from(new Set([...prioritizedConnectors, ...remainingConnectors].map(({ type }) => type)));
        }
    };

    /**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const t$2=globalThis,e$5=t$2.ShadowRoot&&(void 0===t$2.ShadyCSS||t$2.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),o$7=new WeakMap;let n$6 = class n{constructor(t,e,o){if(this._$cssResult$=true,o!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e;}get styleSheet(){let t=this.o;const s=this.t;if(e$5&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o$7.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o$7.set(s,t));}return t}toString(){return this.cssText}};const r$5=t=>new n$6("string"==typeof t?t:t+"",void 0,s$4),i$6=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(true===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[o+1]),t[0]);return new n$6(o,t,s$4)},S$1=(s,o)=>{if(e$5)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement("style"),n=t$2.litNonce;void 0!==n&&o.setAttribute("nonce",n),o.textContent=e.cssText,s.appendChild(o);}},c$4=e$5?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return r$5(e)})(t):t;

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const{is:i$5,defineProperty:e$4,getOwnPropertyDescriptor:h$4,getOwnPropertyNames:r$4,getOwnPropertySymbols:o$6,getPrototypeOf:n$5}=Object,a$1=globalThis,c$3=a$1.trustedTypes,l$1=c$3?c$3.emptyScript:"",p$1=a$1.reactiveElementPolyfillSupport,d$1=(t,s)=>t,u$1={toAttribute(t,s){switch(s){case Boolean:t=t?l$1:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t);}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t);}catch(t){i=null;}}return i}},f$3=(t,s)=>!i$5(t,s),b$1={attribute:true,type:String,converter:u$1,reflect:false,useDefault:false,hasChanged:f$3};Symbol.metadata??=Symbol("metadata"),a$1.litPropertyMetadata??=new WeakMap;let y$1 = class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t);}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b$1){if(s.state&&(s.attribute=false),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=true),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e$4(this.prototype,t,h);}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h$4(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t;}};return {get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i);},configurable:true,enumerable:true}}static getPropertyOptions(t){return this.elementProperties.get(t)??b$1}static _$Ei(){if(this.hasOwnProperty(d$1("elementProperties")))return;const t=n$5(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties);}static finalize(){if(this.hasOwnProperty(d$1("finalized")))return;if(this.finalized=true,this._$Ei(),this.hasOwnProperty(d$1("properties"))){const t=this.properties,s=[...r$4(t),...o$6(t)];for(const i of s)this.createProperty(i,t[i]);}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i);}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t);}this.elementStyles=this.finalizeStyles(this.styles);}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(c$4(s));}else void 0!==s&&i.push(c$4(s));return i}static _$Eu(t,s){const i=s.attribute;return  false===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=false,this.hasUpdated=false,this._$Em=null,this._$Ev();}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)));}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.();}removeController(t){this._$EO?.delete(t);}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t);}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$1(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(true),this._$EO?.forEach((t=>t.hostConnected?.()));}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()));}attributeChangedCallback(t,s,i){this._$AK(t,i);}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&true===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u$1).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null;}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u$1;this._$Em=e,this[e]=h.fromAttribute(s,t.type)??this._$Ej?.get(e)??null,this._$Em=null;}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f$3)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i);} false===this.isUpdatePending&&(this._$ES=this._$EP());}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),true!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),true===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t));}async _$EP(){this.isUpdatePending=true;try{await this._$ES;}catch(t){Promise.reject(t);}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0;}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];true!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e);}}let t=false;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM();}catch(s){throw t=false,this._$EM(),s}t&&this._$AE(s);}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=true,this.firstUpdated(t)),this.updated(t);}_$EM(){this._$AL=new Map,this.isUpdatePending=false;}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return  true}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM();}updated(t){}firstUpdated(t){}};y$1.elementStyles=[],y$1.shadowRootOptions={mode:"open"},y$1[d$1("elementProperties")]=new Map,y$1[d$1("finalized")]=new Map,p$1?.({ReactiveElement:y$1}),(a$1.reactiveElementVersions??=[]).push("2.1.0");

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const t$1=globalThis,i$4=t$1.trustedTypes,s$3=i$4?i$4.createPolicy("lit-html",{createHTML:t=>t}):void 0,e$3="$lit$",h$3=`lit$${Math.random().toFixed(9).slice(2)}$`,o$5="?"+h$3,n$4=`<${o$5}>`,r$3=document,l=()=>r$3.createComment(""),c$2=t=>null===t||"object"!=typeof t&&"function"!=typeof t,a=Array.isArray,u=t=>a(t)||"function"==typeof t?.[Symbol.iterator],d="[ \t\n\f\r]",f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,_=/>/g,m$1=RegExp(`>|${d}(?:([^\\s"'>=/]+)(${d}*=${d}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),p=/'/g,g=/"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x$1=y(1),b=y(2),T=Symbol.for("lit-noChange"),E=Symbol.for("lit-nothing"),A=new WeakMap,C=r$3.createTreeWalker(r$3,129);function P(t,i){if(!a(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s$3?s$3.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?"<svg>":3===i?"<math>":"",c=f$2;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f$2?"!--"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp("</"+u[2],"g")),c=m$1):void 0!==u[3]&&(c=m$1):c===m$1?">"===u[0]?(c=r??f$2,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m$1:'"'===u[3]?g:p):c===g||c===p?c=m$1:c===v||c===_?c=f$2:(c=m$1,r=void 0);const x=c===m$1&&t[i+1].startsWith("/>")?" ":"";l+=c===f$2?s+n$4:d>=0?(o.push(a),s.slice(0,d)+e$3+s.slice(d)+h$3+x):s+h$3+(-2===d?i:x);}return [P(t,l+(t[s]||"<?>")+(2===i?"</svg>":3===i?"</math>":"")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes);}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e$3)){const i=v[a++],s=r.getAttribute(t).split(h$3),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:"."===e[1]?H:"?"===e[1]?I:"@"===e[1]?L:k}),r.removeAttribute(t);}else t.startsWith(h$3)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h$3),s=t.length-1;if(s>0){r.textContent=i$4?i$4.emptyScript:"";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l());}}}else if(8===r.nodeType)if(r.data===o$5)d.push({type:2,index:c});else {let t=-1;for(;-1!==(t=r.data.indexOf(h$3,t+1));)d.push({type:7,index:c}),t+=h$3.length-1;}c++;}}static createElement(t,i){const s=r$3.createElement("template");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c$2(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(false),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i;}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r$3).importNode(i,true);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n];}o!==l?.index&&(h=C.nextNode(),o++);}return C.currentNode=r$3,e}p(t){let i=0;for(const s of this._$AV) void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++;}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??true;}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c$2(t)?t===E||null==t||""===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t);}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t));}_(t){this._$AH!==E&&c$2(this._$AH)?this._$AA.nextSibling.data=t:this.T(r$3.createTextNode(t)),this._$AH=t;}$(t){const{values:i,_$litType$:s}=t,e="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else {const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t;}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e);}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(false,true,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i;}}setConnected(t){ void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t));}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E;}_$AI(t,i=this,s,e){const h=this.strings;let o=false;if(void 0===h)t=S(this,t,i,0),o=!c$2(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else {const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c$2(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??"")+h[n+1]),this._$AH[n]=r;}o&&!e&&this.j(t);}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"");}}class H extends k{constructor(){super(...arguments),this.type=3;}j(t){this.element[this.name]=t===E?void 0:t;}}class I extends k{constructor(){super(...arguments),this.type=4;}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E);}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5;}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t;}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t);}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s;}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t);}}const j=t$1.litHtmlPolyfillSupport;j?.(N,R),(t$1.litHtmlVersions??=[]).push("3.3.0");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{});}return h._$AI(t),h};

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const s$2=globalThis;let i$3 = class i extends y$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0;}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=B(r,this.renderRoot,this.renderOptions);}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(true);}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(false);}render(){return T}};i$3._$litElement$=true,i$3["finalized"]=true,s$2.litElementHydrateSupport?.({LitElement:i$3});const o$4=s$2.litElementPolyfillSupport;o$4?.({LitElement:i$3});(s$2.litElementVersions??=[]).push("4.2.0");

    let themeTag = undefined;
    let darkModeTag = undefined;
    let lightModeTag = undefined;
    function initializeTheming(themeVariables, themeMode) {
        themeTag = document.createElement('style');
        darkModeTag = document.createElement('style');
        lightModeTag = document.createElement('style');
        themeTag.textContent = createRootStyles(themeVariables).core.cssText;
        darkModeTag.textContent = createRootStyles(themeVariables).dark.cssText;
        lightModeTag.textContent = createRootStyles(themeVariables).light.cssText;
        document.head.appendChild(themeTag);
        document.head.appendChild(darkModeTag);
        document.head.appendChild(lightModeTag);
        setColorTheme(themeMode);
    }
    function setColorTheme(themeMode) {
        if (darkModeTag && lightModeTag) {
            if (themeMode === 'light') {
                darkModeTag.removeAttribute('media');
                lightModeTag.media = 'enabled';
            }
            else {
                lightModeTag.removeAttribute('media');
                darkModeTag.media = 'enabled';
            }
        }
    }
    function setThemeVariables(themeVariables) {
        if (themeTag && darkModeTag && lightModeTag) {
            themeTag.textContent = createRootStyles(themeVariables).core.cssText;
            darkModeTag.textContent = createRootStyles(themeVariables).dark.cssText;
            lightModeTag.textContent = createRootStyles(themeVariables).light.cssText;
        }
    }
    function createRootStyles(themeVariables) {
        return {
            core: i$6 `
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${r$5(themeVariables?.['--w3m-color-mix-strength']
            ? `${themeVariables['--w3m-color-mix-strength']}%`
            : '0%')};
        --w3m-font-family: ${r$5(themeVariables?.['--w3m-font-family'] ||
            'Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;')};
        --w3m-font-size-master: ${r$5(themeVariables?.['--w3m-font-size-master'] || '10px')};
        --w3m-border-radius-master: ${r$5(themeVariables?.['--w3m-border-radius-master'] || '4px')};
        --w3m-z-index: ${r$5(themeVariables?.['--w3m-z-index'] || 999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,
            light: i$6 `
      :root {
        --w3m-color-mix: ${r$5(themeVariables?.['--w3m-color-mix'] || '#fff')};
        --w3m-accent: ${r$5(getW3mThemeVariables(themeVariables, 'dark')['--w3m-accent'])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${r$5(getW3mThemeVariables(themeVariables, 'dark')['--w3m-background'])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,
            dark: i$6 `
      :root {
        --w3m-color-mix: ${r$5(themeVariables?.['--w3m-color-mix'] || '#000')};
        --w3m-accent: ${r$5(getW3mThemeVariables(themeVariables, 'light')['--w3m-accent'])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${r$5(getW3mThemeVariables(themeVariables, 'light')['--w3m-background'])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `
        };
    }
    const resetStyles = i$6 `
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`;
    const elementStyles = i$6 `
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`;
    const colorStyles = i$6 `
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;

    const UiHelperUtil = {
        getSpacingStyles(spacing, index) {
            if (Array.isArray(spacing)) {
                return spacing[index] ? `var(--wui-spacing-${spacing[index]})` : undefined;
            }
            else if (typeof spacing === 'string') {
                return `var(--wui-spacing-${spacing})`;
            }
            return undefined;
        },
        getFormattedDate(date) {
            return new Intl.DateTimeFormat('en-US', { month: 'short', day: 'numeric' }).format(date);
        },
        getHostName(url) {
            try {
                const newUrl = new URL(url);
                return newUrl.hostname;
            }
            catch (error) {
                return '';
            }
        },
        getTruncateString({ string, charsStart, charsEnd, truncate }) {
            if (string.length <= charsStart + charsEnd) {
                return string;
            }
            if (truncate === 'end') {
                return `${string.substring(0, charsStart)}...`;
            }
            else if (truncate === 'start') {
                return `...${string.substring(string.length - charsEnd)}`;
            }
            return `${string.substring(0, Math.floor(charsStart))}...${string.substring(string.length - Math.floor(charsEnd))}`;
        },
        generateAvatarColors(address) {
            const hash = address
                .toLowerCase()
                .replace(/^0x/iu, '')
                .replace(/[^a-f0-9]/gu, '');
            const baseColor = hash.substring(0, 6).padEnd(6, '0');
            const rgbColor = this.hexToRgb(baseColor);
            const masterBorderRadius = getComputedStyle(document.documentElement).getPropertyValue('--w3m-border-radius-master');
            const radius = Number(masterBorderRadius?.replace('px', ''));
            const edge = 100 - 3 * radius;
            const gradientCircle = `${edge}% ${edge}% at 65% 40%`;
            const colors = [];
            for (let i = 0; i < 5; i += 1) {
                const tintedColor = this.tintColor(rgbColor, 0.15 * i);
                colors.push(`rgb(${tintedColor[0]}, ${tintedColor[1]}, ${tintedColor[2]})`);
            }
            return `
    --local-color-1: ${colors[0]};
    --local-color-2: ${colors[1]};
    --local-color-3: ${colors[2]};
    --local-color-4: ${colors[3]};
    --local-color-5: ${colors[4]};
    --local-radial-circle: ${gradientCircle}
   `;
        },
        hexToRgb(hex) {
            const bigint = parseInt(hex, 16);
            const r = (bigint >> 16) & 255;
            const g = (bigint >> 8) & 255;
            const b = bigint & 255;
            return [r, g, b];
        },
        tintColor(rgb, tint) {
            const [r, g, b] = rgb;
            const tintedR = Math.round(r + (255 - r) * tint);
            const tintedG = Math.round(g + (255 - g) * tint);
            const tintedB = Math.round(b + (255 - b) * tint);
            return [tintedR, tintedG, tintedB];
        },
        isNumber(character) {
            const regex = {
                number: /^[0-9]+$/u
            };
            return regex.number.test(character);
        },
        getColorTheme(theme) {
            if (theme) {
                return theme;
            }
            else if (typeof window !== 'undefined' && window.matchMedia) {
                if (window.matchMedia('(prefers-color-scheme: dark)')?.matches) {
                    return 'dark';
                }
                return 'light';
            }
            return 'dark';
        },
        splitBalance(input) {
            const parts = input.split('.');
            if (parts.length === 2) {
                return [parts[0], parts[1]];
            }
            return ['0', '00'];
        },
        roundNumber(number, threshold, fixed) {
            const roundedNumber = number.toString().length >= threshold ? Number(number).toFixed(fixed) : number;
            return roundedNumber;
        },
        formatNumberToLocalString(value, decimals = 2) {
            if (value === undefined) {
                return '0.00';
            }
            if (typeof value === 'number') {
                return value.toLocaleString('en-US', {
                    maximumFractionDigits: decimals,
                    minimumFractionDigits: decimals
                });
            }
            return parseFloat(value).toLocaleString('en-US', {
                maximumFractionDigits: decimals,
                minimumFractionDigits: decimals
            });
        }
    };

    function standardCustomElement(tagName, descriptor) {
        const { kind, elements } = descriptor;
        return {
            kind,
            elements,
            finisher(clazz) {
                if (!customElements.get(tagName)) {
                    customElements.define(tagName, clazz);
                }
            }
        };
    }
    function legacyCustomElement(tagName, clazz) {
        if (!customElements.get(tagName)) {
            customElements.define(tagName, clazz);
        }
        return clazz;
    }
    function customElement(tagName) {
        return function create(classOrDescriptor) {
            return typeof classOrDescriptor === 'function'
                ? legacyCustomElement(tagName, classOrDescriptor)
                : standardCustomElement(tagName, classOrDescriptor);
        };
    }

    const WcConstantsUtil = {
        ERROR_CODE_UNRECOGNIZED_CHAIN_ID: 4902,
        ERROR_CODE_DEFAULT: 5000,
        ERROR_INVALID_CHAIN_ID: 32603
    };

    /**
     * Predeploy contracts for OP Stack.
     * @see https://github.com/ethereum-optimism/optimism/blob/develop/specs/predeploys.md
     */
    const contracts = {
        gasPriceOracle: { address: '0x420000000000000000000000000000000000000F' },
        l1Block: { address: '0x4200000000000000000000000000000000000015' },
        l2CrossDomainMessenger: {
            address: '0x4200000000000000000000000000000000000007',
        },
        l2Erc721Bridge: { address: '0x4200000000000000000000000000000000000014' },
        l2StandardBridge: { address: '0x4200000000000000000000000000000000000010' },
        l2ToL1MessagePasser: {
            address: '0x4200000000000000000000000000000000000016',
        },
    };

    const formatters$1 = {
        block: /*#__PURE__*/ defineBlock({
            format(args) {
                const transactions = args.transactions?.map((transaction) => {
                    if (typeof transaction === 'string')
                        return transaction;
                    const formatted = formatTransaction(transaction);
                    if (formatted.typeHex === '0x7e') {
                        formatted.isSystemTx = transaction.isSystemTx;
                        formatted.mint = transaction.mint
                            ? hexToBigInt$1(transaction.mint)
                            : undefined;
                        formatted.sourceHash = transaction.sourceHash;
                        formatted.type = 'deposit';
                    }
                    return formatted;
                });
                return {
                    transactions,
                    stateRoot: args.stateRoot,
                };
            },
        }),
        transaction: /*#__PURE__*/ defineTransaction({
            format(args) {
                const transaction = {};
                if (args.type === '0x7e') {
                    transaction.isSystemTx = args.isSystemTx;
                    transaction.mint = args.mint ? hexToBigInt$1(args.mint) : undefined;
                    transaction.sourceHash = args.sourceHash;
                    transaction.type = 'deposit';
                }
                return transaction;
            },
        }),
        transactionReceipt: /*#__PURE__*/ defineTransactionReceipt({
            format(args) {
                return {
                    l1GasPrice: args.l1GasPrice ? hexToBigInt$1(args.l1GasPrice) : null,
                    l1GasUsed: args.l1GasUsed ? hexToBigInt$1(args.l1GasUsed) : null,
                    l1Fee: args.l1Fee ? hexToBigInt$1(args.l1Fee) : null,
                    l1FeeScalar: args.l1FeeScalar ? Number(args.l1FeeScalar) : null,
                };
            },
        }),
    };

    function serializeTransaction$1(transaction, signature) {
        if (isDeposit(transaction))
            return serializeTransactionDeposit(transaction);
        return serializeTransaction$2(transaction, signature);
    }
    const serializers$1 = {
        transaction: serializeTransaction$1,
    };
    function serializeTransactionDeposit(transaction) {
        assertTransactionDeposit(transaction);
        const { sourceHash, data, from, gas, isSystemTx, mint, to, value } = transaction;
        const serializedTransaction = [
            sourceHash,
            from,
            to ?? '0x',
            mint ? toHex$1(mint) : '0x',
            value ? toHex$1(value) : '0x',
            gas ? toHex$1(gas) : '0x',
            isSystemTx ? '0x1' : '0x',
            data ?? '0x',
        ];
        return concatHex([
            '0x7e',
            toRlp(serializedTransaction),
        ]);
    }
    function isDeposit(transaction) {
        if (transaction.type === 'deposit')
            return true;
        if (typeof transaction.sourceHash !== 'undefined')
            return true;
        return false;
    }
    function assertTransactionDeposit(transaction) {
        const { from, to } = transaction;
        if (from && !isAddress(from))
            throw new InvalidAddressError$2({ address: from });
        if (to && !isAddress(to))
            throw new InvalidAddressError$2({ address: to });
    }

    const chainConfig$1 = {
        blockTime: 2_000,
        contracts,
        formatters: formatters$1,
        serializers: serializers$1,
    };

    const sourceId$K = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 888888888,
        name: 'Ancient8',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.ancient8.gg'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Ancient8 explorer',
                url: 'https://scan.ancient8.gg',
                apiUrl: 'https://scan.ancient8.gg/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$K]: {
                    address: '0xB09DC08428C8b4EFB4ff9C0827386CDF34277996',
                },
            },
            portal: {
                [sourceId$K]: {
                    address: '0x639F2AECE398Aa76b07e59eF6abe2cFe32bacb68',
                    blockCreated: 19070571,
                },
            },
            l1StandardBridge: {
                [sourceId$K]: {
                    address: '0xd5e3eDf5b68135D559D572E26bF863FBC1950033',
                    blockCreated: 19070571,
                },
            },
        },
        sourceId: sourceId$K,
    });

    const sourceId$J = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 28122024,
        name: 'Ancient8 Testnet',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpcv2-testnet.ancient8.gg'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Ancient8 Celestia Testnet explorer',
                url: 'https://scanv2-testnet.ancient8.gg',
                apiUrl: 'https://scanv2-testnet.ancient8.gg/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$J]: {
                    address: '0x942fD5017c0F60575930D8574Eaca13BEcD6e1bB',
                },
            },
            portal: {
                [sourceId$J]: {
                    address: '0xfa1d9E26A6aCD7b22115D27572c1221B9803c960',
                    blockCreated: 4972908,
                },
            },
            l1StandardBridge: {
                [sourceId$J]: {
                    address: '0xF6Bc0146d3c74D48306e79Ae134A260E418C9335',
                    blockCreated: 4972908,
                },
            },
        },
        sourceId: sourceId$J,
    });

    const sourceId$I = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 8453,
        name: 'Base',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://mainnet.base.org'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Basescan',
                url: 'https://basescan.org',
                apiUrl: 'https://api.basescan.org/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$I]: {
                    address: '0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e',
                },
            },
            l2OutputOracle: {
                [sourceId$I]: {
                    address: '0x56315b90c40730925ec5485cf004d835058518A0',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 5022,
            },
            portal: {
                [sourceId$I]: {
                    address: '0x49048044D57e1C92A77f79988d21Fa8fAF74E97e',
                    blockCreated: 17482143,
                },
            },
            l1StandardBridge: {
                [sourceId$I]: {
                    address: '0x3154Cf16ccdb4C6d922629664174b904d80F2C35',
                    blockCreated: 17482143,
                },
            },
        },
        sourceId: sourceId$I,
    });

    const sourceId$H = 5; // goerli
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 84531,
        name: 'Base Goerli',
        nativeCurrency: { name: 'Goerli Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: { http: ['https://goerli.base.org'] },
        },
        blockExplorers: {
            default: {
                name: 'Basescan',
                url: 'https://goerli.basescan.org',
                apiUrl: 'https://goerli.basescan.org/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$H]: {
                    address: '0x2A35891ff30313CcFa6CE88dcf3858bb075A2298',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 1376988,
            },
            portal: {
                [sourceId$H]: {
                    address: '0xe93c8cD0D409341205A592f8c4Ac1A5fe5585cfA',
                },
            },
            l1StandardBridge: {
                [sourceId$H]: {
                    address: '0xfA6D8Ee5BE770F84FC001D098C4bD604Fe01284a',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$H,
    });

    const sourceId$G = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 84532,
        network: 'base-sepolia',
        name: 'Base Sepolia',
        nativeCurrency: { name: 'Sepolia Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://sepolia.base.org'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Basescan',
                url: 'https://sepolia.basescan.org',
                apiUrl: 'https://api-sepolia.basescan.org/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$G]: {
                    address: '0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1',
                },
            },
            l2OutputOracle: {
                [sourceId$G]: {
                    address: '0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254',
                },
            },
            portal: {
                [sourceId$G]: {
                    address: '0x49f53e41452c74589e85ca1677426ba426459e85',
                    blockCreated: 4446677,
                },
            },
            l1StandardBridge: {
                [sourceId$G]: {
                    address: '0xfd0Bf71F60660E2f608ed56e1659C450eB113120',
                    blockCreated: 4446677,
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 1059647,
            },
        },
        testnet: true,
        sourceId: sourceId$G,
    });

    defineChain$1({
        id: 53456,
        name: 'BirdLayer',
        nativeCurrency: { decimals: 18, name: 'Ether', symbol: 'ETH' },
        rpcUrls: {
            default: {
                http: ['https://rpc.birdlayer.xyz', 'https://rpc1.birdlayer.xyz'],
                webSocket: ['wss://rpc.birdlayer.xyz/ws'],
            },
        },
        blockExplorers: {
            default: {
                name: 'BirdLayer Explorer',
                url: 'https://scan.birdlayer.xyz',
            },
        },
    });

    const sourceId$F = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 81457,
        name: 'Blast',
        nativeCurrency: {
            decimals: 18,
            name: 'Ether',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: { http: ['https://rpc.blast.io'] },
        },
        blockExplorers: {
            default: {
                name: 'Blastscan',
                url: 'https://blastscan.io',
                apiUrl: 'https://api.blastscan.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 212929,
            },
            l2OutputOracle: {
                [sourceId$F]: {
                    address: '0x826D1B0D4111Ad9146Eb8941D7Ca2B6a44215c76',
                    blockCreated: 19300358,
                },
            },
            portal: {
                [sourceId$F]: {
                    address: '0x0Ec68c5B10F21EFFb74f2A5C61DFe6b08C0Db6Cb',
                    blockCreated: 19300357,
                },
            },
            l1StandardBridge: {
                [sourceId$F]: {
                    address: '0x697402166Fbf2F22E970df8a6486Ef171dbfc524',
                    blockCreated: 19300360,
                },
            },
        },
        sourceId: sourceId$F,
    });

    const sourceId$E = 1; // mainnet
    defineChain$1({
        ...chainConfig$1,
        id: 60808,
        name: 'BOB',
        nativeCurrency: {
            decimals: 18,
            name: 'ETH',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://rpc.gobob.xyz'],
                webSocket: ['wss://rpc.gobob.xyz'],
            },
        },
        blockExplorers: {
            default: {
                name: 'BOB Explorer',
                url: 'https://explorer.gobob.xyz',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 23131,
            },
            l2OutputOracle: {
                [sourceId$E]: {
                    address: '0xdDa53E23f8a32640b04D7256e651C1db98dB11C1',
                    blockCreated: 4462615,
                },
            },
            portal: {
                [sourceId$E]: {
                    address: '0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E',
                    blockCreated: 4462615,
                },
            },
        },
        sourceId: sourceId$E,
    });

    const sourceId$D = 11_155_111; // sepolia
    defineChain$1({
        ...chainConfig$1,
        id: 808813,
        name: 'BOB Sepolia',
        nativeCurrency: {
            decimals: 18,
            name: 'ETH',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://bob-sepolia.rpc.gobob.xyz'],
                webSocket: ['wss://bob-sepolia.rpc.gobob.xyz'],
            },
        },
        blockExplorers: {
            default: {
                name: 'BOB Sepolia Explorer',
                url: 'https://bob-sepolia.explorer.gobob.xyz',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 35677,
            },
            l2OutputOracle: {
                [sourceId$D]: {
                    address: '0x14D0069452b4AE2b250B395b8adAb771E4267d2f',
                    blockCreated: 4462615,
                },
            },
            portal: {
                [sourceId$D]: {
                    address: '0x867B1Aa872b9C8cB5E9F7755feDC45BB24Ad0ae4',
                    blockCreated: 4462615,
                },
            },
        },
        testnet: true,
        sourceId: sourceId$D,
    });

    const fees = {
        /*
         * Estimates the fees per gas for a transaction.
      
         * If the transaction is to be paid in a token (feeCurrency is present) then the fees
         * are estimated in the value of the token. Otherwise falls back to the default
         * estimation by returning null.
         *
         * @param params fee estimation function parameters
         */
        estimateFeesPerGas: async (params) => {
            if (!params.request?.feeCurrency)
                return null;
            const [gasPrice, maxPriorityFeePerGas] = await Promise.all([
                estimateFeePerGasInFeeCurrency(params.client, params.request.feeCurrency),
                estimateMaxPriorityFeePerGasInFeeCurrency(params.client, params.request.feeCurrency),
            ]);
            // eth_gasPrice for cel2 returns baseFeePerGas + maxPriorityFeePerGas
            const maxFeePerGas = params.multiply(gasPrice - maxPriorityFeePerGas) + maxPriorityFeePerGas;
            return {
                maxFeePerGas,
                maxPriorityFeePerGas,
            };
        },
    };
    /*
     * Estimate the fee per gas in the value of the fee token

     *
     * @param client - Client to use
     * @param feeCurrency -  Address of a whitelisted fee token
     * @returns The fee per gas in wei in the value of the  fee token
     *
     */
    async function estimateFeePerGasInFeeCurrency(client, feeCurrency) {
        const fee = await client.request({
            method: 'eth_gasPrice',
            params: [feeCurrency],
        });
        return BigInt(fee);
    }
    /*
     * Estimate the max priority fee per gas in the value of the fee token

     *
     * @param client - Client to use
     * @param feeCurrency -  Address of a whitelisted fee token
     * @returns The fee per gas in wei in the value of the  fee token
     *
     */
    async function estimateMaxPriorityFeePerGasInFeeCurrency(client, feeCurrency) {
        const feesPerGas = await client.request({
            method: 'eth_maxPriorityFeePerGas',
            params: [feeCurrency],
        });
        return BigInt(feesPerGas);
    }

    function isEmpty(value) {
        return (value === 0 ||
            value === 0n ||
            value === undefined ||
            value === null ||
            value === '0' ||
            value === '' ||
            (typeof value === 'string' &&
                (trim(value).toLowerCase() === '0x' ||
                    trim(value).toLowerCase() === '0x00')));
    }
    function isPresent(value) {
        return !isEmpty(value);
    }
    /** @internal */
    function isEIP1559(transaction) {
        return (typeof transaction.maxFeePerGas !== 'undefined' &&
            typeof transaction.maxPriorityFeePerGas !== 'undefined');
    }
    function isCIP64(transaction) {
        /*
         * Enable end user to force the tx to be considered as a CIP-64.
         *
         * The preliminary type will be determined as "eip1559" by src/utils/transaction/getTransactionType.ts
         * and so we need the logic below to check for the specific value instead of checking if just any
         * transaction type is provided. If that's anything else than "cip64" then we need to reevaluate the
         * type based on the transaction fields.
         *
         * Modify with caution and according to https://github.com/celo-org/celo-proposals/blob/master/CIPs/cip-0064.md
         */
        if (transaction.type === 'cip64') {
            return true;
        }
        return isEIP1559(transaction) && isPresent(transaction.feeCurrency);
    }

    const formatters = {
        block: /*#__PURE__*/ defineBlock({
            format(args) {
                const transactions = args.transactions?.map((transaction) => {
                    if (typeof transaction === 'string')
                        return transaction;
                    const formatted = formatTransaction(transaction);
                    return {
                        ...formatted,
                        ...(transaction.gatewayFee
                            ? {
                                gatewayFee: hexToBigInt$1(transaction.gatewayFee),
                                gatewayFeeRecipient: transaction.gatewayFeeRecipient,
                            }
                            : {}),
                        feeCurrency: transaction.feeCurrency,
                    };
                });
                return {
                    transactions,
                };
            },
        }),
        transaction: /*#__PURE__*/ defineTransaction({
            format(args) {
                if (args.type === '0x7e')
                    return {
                        isSystemTx: args.isSystemTx,
                        mint: args.mint ? hexToBigInt$1(args.mint) : undefined,
                        sourceHash: args.sourceHash,
                        type: 'deposit',
                    };
                const transaction = { feeCurrency: args.feeCurrency };
                if (args.type === '0x7b')
                    transaction.type = 'cip64';
                else {
                    if (args.type === '0x7c')
                        transaction.type = 'cip42';
                    transaction.gatewayFee = args.gatewayFee
                        ? hexToBigInt$1(args.gatewayFee)
                        : null;
                    transaction.gatewayFeeRecipient = args.gatewayFeeRecipient;
                }
                return transaction;
            },
        }),
        transactionRequest: /*#__PURE__*/ defineTransactionRequest({
            format(args) {
                const request = {};
                if (args.feeCurrency)
                    request.feeCurrency = args.feeCurrency;
                if (isCIP64(args))
                    request.type = '0x7b';
                return request;
            },
        }),
    };

    function serializeTransaction(transaction, signature) {
        if (isCIP64(transaction))
            return serializeTransactionCIP64(transaction, signature);
        return serializeTransaction$1(transaction, signature);
    }
    const serializers = {
        transaction: serializeTransaction,
    };
    function serializeTransactionCIP64(transaction, signature) {
        assertTransactionCIP64(transaction);
        const { chainId, gas, nonce, to, value, maxFeePerGas, maxPriorityFeePerGas, accessList, feeCurrency, data, } = transaction;
        const serializedTransaction = [
            toHex$1(chainId),
            nonce ? toHex$1(nonce) : '0x',
            maxPriorityFeePerGas ? toHex$1(maxPriorityFeePerGas) : '0x',
            maxFeePerGas ? toHex$1(maxFeePerGas) : '0x',
            gas ? toHex$1(gas) : '0x',
            to ?? '0x',
            value ? toHex$1(value) : '0x',
            data ?? '0x',
            serializeAccessList(accessList),
            feeCurrency,
            ...toYParitySignatureArray(transaction, signature),
        ];
        return concatHex([
            '0x7b',
            toRlp(serializedTransaction),
        ]);
    }
    // maxFeePerGas must be less than maxUint256
    const MAX_MAX_FEE_PER_GAS = maxUint256;
    function assertTransactionCIP64(transaction) {
        const { chainId, maxPriorityFeePerGas, gasPrice, maxFeePerGas, to, feeCurrency, } = transaction;
        if (chainId <= 0)
            throw new InvalidChainIdError({ chainId });
        if (to && !isAddress(to))
            throw new InvalidAddressError$2({ address: to });
        if (gasPrice)
            throw new BaseError$3('`gasPrice` is not a valid CIP-64 Transaction attribute.');
        if (isPresent(maxFeePerGas) && maxFeePerGas > MAX_MAX_FEE_PER_GAS)
            throw new FeeCapTooHighError({ maxFeePerGas });
        if (isPresent(maxPriorityFeePerGas) &&
            isPresent(maxFeePerGas) &&
            maxPriorityFeePerGas > maxFeePerGas)
            throw new TipAboveFeeCapError({ maxFeePerGas, maxPriorityFeePerGas });
        if (isPresent(feeCurrency) && !isAddress(feeCurrency)) {
            throw new BaseError$3('`feeCurrency` MUST be a token address for CIP-64 transactions.');
        }
        if (isEmpty(feeCurrency)) {
            throw new BaseError$3('`feeCurrency` must be provided for CIP-64 transactions.');
        }
    }

    const chainConfig = {
        blockTime: 1_000,
        contracts,
        formatters,
        serializers,
        fees,
    };

    const sourceId$C = 17000; // holsky
    // source https://storage.googleapis.com/cel2-rollup-files/alfajores/deployment-l1.json
    /*#__PURE__*/ defineChain$1({
        ...chainConfig,
        id: 44_787,
        name: 'Alfajores',
        nativeCurrency: {
            decimals: 18,
            name: 'CELO',
            symbol: 'A-CELO',
        },
        rpcUrls: {
            default: {
                http: ['https://alfajores-forno.celo-testnet.org'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Celo Alfajores Explorer',
                url: 'https://celo-alfajores.blockscout.com',
                apiUrl: 'https://celo-alfajores.blockscout.com/api',
            },
        },
        contracts: {
            ...chainConfig.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 14569001,
            },
            portal: {
                [sourceId$C]: {
                    address: '0x82527353927d8D069b3B452904c942dA149BA381',
                    blockCreated: 2411324,
                },
            },
            disputeGameFactory: {
                [sourceId$C]: {
                    address: '0xE28AAdcd9883746c0e5068F58f9ea06027b214cb',
                    blockCreated: 2411324,
                },
            },
            l2OutputOracle: {
                [sourceId$C]: {
                    address: '0x4a2635e9e4f6e45817b1D402ac4904c1d1752438',
                    blockCreated: 2411324,
                },
            },
            l1StandardBridge: {
                [sourceId$C]: {
                    address: '0xD1B0E0581973c9eB7f886967A606b9441A897037',
                    blockCreated: 2411324,
                },
            },
        },
        testnet: true,
    });

    defineChain$1({
        id: 44,
        name: 'Crab Network',
        nativeCurrency: {
            decimals: 18,
            name: 'Crab Network Native Token',
            symbol: 'CRAB',
        },
        rpcUrls: {
            default: {
                http: ['https://crab-rpc.darwinia.network'],
                webSocket: ['wss://crab-rpc.darwinia.network'],
            },
        },
        blockExplorers: {
            default: { name: 'Blockscout', url: 'https://crab-scan.darwinia.network' },
        },
        contracts: {
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 3032593,
            },
        },
    });

    defineChain$1({
        id: 66665,
        name: 'Creator',
        nativeCurrency: {
            decimals: 18,
            name: 'Ether',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://rpc.creatorchain.io'],
            },
        },
        blockExplorers: {
            default: { name: 'Explorer', url: 'https://explorer.creatorchain.io' },
        },
        contracts: {
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
            },
        },
        testnet: true,
    });

    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 2716446429837000,
        name: 'Dchain',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://dchain-2716446429837000-1.jsonrpc.sagarpc.io'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Dchain Explorer',
                url: 'https://dchain-2716446429837000-1.sagaexplorer.io',
                apiUrl: 'https://api-dchain-2716446429837000-1.sagaexplorer.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
        },
    });

    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 2713017997578000,
        name: 'Dchain Testnet',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: [
                    'https://dchaintestnet-2713017997578000-1.jsonrpc.testnet.sagarpc.io',
                ],
            },
        },
        blockExplorers: {
            default: {
                name: 'Dchain Explorer',
                url: 'https://dchaintestnet-2713017997578000-1.testnet.sagaexplorer.io',
                apiUrl: 'https://api-dchaintestnet-2713017997578000-1.testnet.sagaexplorer.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
        },
    });

    defineChain$1({
        id: 53457,
        name: 'DODOchain Testnet',
        nativeCurrency: { decimals: 18, name: 'DODO', symbol: 'DODO' },
        rpcUrls: {
            default: {
                http: ['https://dodochain-testnet.alt.technology'],
                webSocket: ['wss://dodochain-testnet.alt.technology/ws'],
            },
        },
        blockExplorers: {
            default: {
                name: 'DODOchain Testnet (Sepolia) Explorer',
                url: 'https://testnet-scan.dodochain.com',
            },
        },
        testnet: true,
    });

    const sourceId$B = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        id: 478,
        name: 'Form Network',
        nativeCurrency: {
            decimals: 18,
            name: 'Ethereum',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://rpc.form.network/http'],
                webSocket: ['wss://rpc.form.network/ws'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Form Explorer',
                url: 'https://explorer.form.network',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            addressManager: {
                [sourceId$B]: {
                    address: '0x15c249E46A2F924C2dB3A1560CF86729bAD1f07B',
                },
            },
            l1CrossDomainMessenger: {
                [sourceId$B]: {
                    address: '0xF333158DCCad1dF6C3F0a3aEe8BC31fA94d9eD5c',
                },
            },
            l2OutputOracle: {
                [sourceId$B]: {
                    address: '0x4ccAAF69F41c5810cA875183648B577CaCf1F67E',
                },
            },
            portal: {
                [sourceId$B]: {
                    address: '0x4E259Ee5F4136408908160dD32295A5031Fa426F',
                },
            },
            l1StandardBridge: {
                [sourceId$B]: {
                    address: '0xdc20aA63D3DE59574E065957190D8f24e0F7B8Ba',
                },
            },
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
            },
        },
        sourceId: sourceId$B,
    });

    const sourceId$A = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        id: 132_902,
        name: 'Form Testnet',
        nativeCurrency: {
            decimals: 18,
            name: 'Ethereum',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://sepolia-rpc.form.network/http'],
                webSocket: ['wss://sepolia-rpc.form.network/ws'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Form Testnet Explorer',
                url: 'https://sepolia-explorer.form.network',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            addressManager: {
                [sourceId$A]: {
                    address: '0xd5C38fa934f7fd7477D4800F4f38a1c5BFdF1373',
                },
            },
            l1CrossDomainMessenger: {
                [sourceId$A]: {
                    address: '0x37A68565c4BE9700b3E3Ec60cC4416cAC3052FAa',
                },
            },
            l2OutputOracle: {
                [sourceId$A]: {
                    address: '0x9eA2239E65a59EC9C7F1ED4C116dD58Da71Fc1e2',
                },
            },
            portal: {
                [sourceId$A]: {
                    address: '0x60377e3cE15dF4CCA24c4beF076b60314240b032',
                },
            },
            l1StandardBridge: {
                [sourceId$A]: {
                    address: '0xD4531f633942b2725896F47cD2aFd260b44Ab1F7',
                },
            },
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
            },
        },
        testnet: true,
        sourceId: sourceId$A,
    });

    const sourceId$z = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 252,
        name: 'Fraxtal',
        nativeCurrency: { name: 'Frax', symbol: 'FRAX', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.frax.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'fraxscan',
                url: 'https://fraxscan.com',
                apiUrl: 'https://api.fraxscan.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$z]: {
                    address: '0x66CC916Ed5C6C2FA97014f7D1cD141528Ae171e4',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
            },
            portal: {
                [sourceId$z]: {
                    address: '0x36cb65c1967A0Fb0EEE11569C51C2f2aA1Ca6f6D',
                    blockCreated: 19135323,
                },
            },
            l1StandardBridge: {
                [sourceId$z]: {
                    address: '0x34C0bD5877A5Ee7099D0f5688D65F4bB9158BDE2',
                    blockCreated: 19135323,
                },
            },
        },
        sourceId: sourceId$z,
    });

    const sourceId$y = 17000; // holesky
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 2522,
        name: 'Fraxtal Testnet',
        nativeCurrency: { name: 'Frax', symbol: 'FRAX', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.testnet.frax.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'fraxscan testnet',
                url: 'https://holesky.fraxscan.com',
                apiUrl: 'https://api-holesky.fraxscan.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$y]: {
                    address: '0x715EA64DA13F4d0831ece4Ad3E8c1aa013167F32',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
            },
            portal: {
                [sourceId$y]: {
                    address: '0xB9c64BfA498d5b9a8398Ed6f46eb76d90dE5505d',
                    blockCreated: 318416,
                },
            },
            l1StandardBridge: {
                [sourceId$y]: {
                    address: '0x0BaafC217162f64930909aD9f2B27125121d6332',
                    blockCreated: 318416,
                },
            },
        },
        sourceId: sourceId$y,
    });

    const sourceId$x = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 33979,
        name: 'Funki',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc-mainnet.funkichain.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Funki Mainnet Explorer',
                url: 'https://funkiscan.io',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
        },
        sourceId: sourceId$x,
    });

    const sourceId$w = 11_155_111; // sepolia
    defineChain$1({
        ...chainConfig$1,
        id: 3397901,
        network: 'funkiSepolia',
        name: 'Funki Sepolia Sandbox',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://funki-testnet.alt.technology'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Funki Sepolia Sandbox Explorer',
                url: 'https://sepolia-sandbox.funkichain.com/',
            },
        },
        testnet: true,
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 1620204,
            },
        },
        sourceId: sourceId$w,
    });

    const sourceId$v = 17000; // Holesky testnet
    defineChain$1({
        ...chainConfig$1,
        name: 'Garnet Testnet',
        testnet: true,
        id: 17069,
        sourceId: sourceId$v,
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.garnetchain.com'],
                webSocket: ['wss://rpc.garnetchain.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://explorer.garnetchain.com',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
            },
            portal: {
                [sourceId$v]: {
                    address: '0x57ee40586fbE286AfC75E67cb69511A6D9aF5909',
                    blockCreated: 1274684,
                },
            },
            l2OutputOracle: {
                [sourceId$v]: {
                    address: '0xCb8E7AC561b8EF04F2a15865e9fbc0766FEF569B',
                    blockCreated: 1274684,
                },
            },
            l1StandardBridge: {
                [sourceId$v]: {
                    address: '0x09bcDd311FE398F80a78BE37E489f5D440DB95DE',
                    blockCreated: 1274684,
                },
            },
        },
    });

    const sourceId$u = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 57073,
        name: 'Ink',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: [
                    'https://rpc-gel.inkonchain.com',
                    'https://rpc-qnd.inkonchain.com',
                ],
                webSocket: [
                    'wss://rpc-gel.inkonchain.com',
                    'wss://rpc-qnd.inkonchain.com',
                ],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://explorer.inkonchain.com',
                apiUrl: 'https://explorer.inkonchain.com/api/v2',
            },
        },
        contracts: {
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 0,
            },
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$u]: {
                    address: '0x10d7b35078d3baabb96dd45a9143b94be65b12cd',
                },
            },
            portal: {
                [sourceId$u]: {
                    address: '0x5d66c1782664115999c47c9fa5cd031f495d3e4f',
                },
            },
            l1StandardBridge: {
                [sourceId$u]: {
                    address: '0x88ff1e5b602916615391f55854588efcbb7663f0',
                },
            },
        },
        testnet: false,
        sourceId: sourceId$u,
    });

    const sourceId$t = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 763373,
        name: 'Ink Sepolia',
        nativeCurrency: { name: 'Sepolia Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc-gel-sepolia.inkonchain.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://explorer-sepolia.inkonchain.com/',
                apiUrl: 'https://explorer-sepolia.inkonchain.com/api/v2',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 0,
            },
            disputeGameFactory: {
                [sourceId$t]: {
                    address: '0x860e626c700af381133d9f4af31412a2d1db3d5d',
                },
            },
            portal: {
                [sourceId$t]: {
                    address: '0x5c1d29c6c9c8b0800692acc95d700bcb4966a1d7',
                },
            },
            l1StandardBridge: {
                [sourceId$t]: {
                    address: '0x33f60714bbd74d62b66d79213c348614de51901c',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$t,
    });

    defineChain$1({
        id: 701,
        name: 'Koi Network',
        nativeCurrency: {
            decimals: 18,
            name: 'Koi Network Native Token',
            symbol: 'KRING',
        },
        rpcUrls: {
            default: {
                http: ['https://koi-rpc.darwinia.network'],
                webSocket: ['wss://koi-rpc.darwinia.network'],
            },
        },
        blockExplorers: {
            default: { name: 'Blockscout', url: 'https://koi-scan.darwinia.network' },
        },
        contracts: {
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 180001,
            },
        },
        testnet: true,
    });

    const sourceId$s = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 1135,
        name: 'Lisk',
        network: 'lisk',
        nativeCurrency: {
            decimals: 18,
            name: 'Ether',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://rpc.api.lisk.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://blockscout.lisk.com',
                apiUrl: 'https://blockscout.lisk.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xA9d71E1dd7ca26F26e656E66d6AA81ed7f745bf0',
            },
            l2OutputOracle: {
                [sourceId$s]: {
                    address: '0x113cB99283AF242Da0A0C54347667edF531Aa7d6',
                },
            },
            portal: {
                [sourceId$s]: {
                    address: '0x26dB93F8b8b4f7016240af62F7730979d353f9A7',
                },
            },
            l1StandardBridge: {
                [sourceId$s]: {
                    address: '0x2658723Bf70c7667De6B25F99fcce13A16D25d08',
                },
            },
        },
        sourceId: sourceId$s,
    });

    const sourceId$r = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 4202,
        network: 'lisk-sepolia',
        name: 'Lisk Sepolia',
        nativeCurrency: { name: 'Sepolia Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.sepolia-api.lisk.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://sepolia-blockscout.lisk.com',
                apiUrl: 'https://sepolia-blockscout.lisk.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$r]: {
                    address: '0xA0E35F56C318DE1bD5D9ca6A94Fe7e37C5663348',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
            },
            portal: {
                [sourceId$r]: {
                    address: '0xe3d90F21490686Ec7eF37BE788E02dfC12787264',
                },
            },
            l1StandardBridge: {
                [sourceId$r]: {
                    address: '0x1Fb30e446eA791cd1f011675E5F3f5311b70faF5',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$r,
    });

    const sourceId$q = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 1750,
        name: 'Metal L2',
        nativeCurrency: {
            decimals: 18,
            name: 'Ether',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://rpc.metall2.com'],
                webSocket: ['wss://rpc.metall2.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Explorer',
                url: 'https://explorer.metall2.com',
                apiUrl: 'https://explorer.metall2.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$q]: {
                    address: '0x3B1F7aDa0Fcc26B13515af752Dd07fB1CAc11426',
                },
            },
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 0,
            },
            portal: {
                [sourceId$q]: {
                    address: '0x3F37aBdE2C6b5B2ed6F8045787Df1ED1E3753956',
                },
            },
            l1StandardBridge: {
                [sourceId$q]: {
                    address: '0x6d0f65D59b55B0FEC5d2d15365154DcADC140BF3',
                },
            },
        },
        sourceId: sourceId$q,
    });

    const sourceId$p = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 34443,
        name: 'Mode Mainnet',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://mainnet.mode.network'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Modescan',
                url: 'https://modescan.io',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 2465882,
            },
            l2OutputOracle: {
                [sourceId$p]: {
                    address: '0x4317ba146D4933D889518a3e5E11Fe7a53199b04',
                },
            },
            portal: {
                [sourceId$p]: {
                    address: '0x8B34b14c7c7123459Cf3076b8Cb929BE097d0C07',
                },
            },
            l1StandardBridge: {
                [sourceId$p]: {
                    address: '0x735aDBbE72226BD52e818E7181953f42E3b0FF21',
                },
            },
        },
        sourceId: sourceId$p,
    });

    const sourceId$o = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 919,
        name: 'Mode Testnet',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://sepolia.mode.network'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://sepolia.explorer.mode.network',
                apiUrl: 'https://sepolia.explorer.mode.network/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$o]: {
                    address: '0x2634BD65ba27AB63811c74A63118ACb312701Bfa',
                    blockCreated: 3778393,
                },
            },
            portal: {
                [sourceId$o]: {
                    address: '0x320e1580effF37E008F1C92700d1eBa47c1B23fD',
                    blockCreated: 3778395,
                },
            },
            l1StandardBridge: {
                [sourceId$o]: {
                    address: '0xbC5C679879B2965296756CD959C3C739769995E2',
                    blockCreated: 3778392,
                },
            },
            multicall3: {
                address: '0xBAba8373113Fb7a68f195deF18732e01aF8eDfCF',
                blockCreated: 3019007,
            },
        },
        testnet: true,
        sourceId: sourceId$o,
    });

    defineChain$1({
        id: 166,
        name: 'Omni',
        nativeCurrency: { name: 'Omni', symbol: 'OMNI', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://mainnet.omni.network'],
                webSocket: ['wss://mainnet.omni.network'],
            },
        },
        blockExplorers: {
            default: {
                name: 'OmniScan',
                url: 'https://omniscan.network',
            },
        },
        testnet: false,
    });

    const sourceId$n = 56; // bsc mainnet
    /*#__PURE__*/ defineChain$1({
        id: 204,
        name: 'opBNB',
        nativeCurrency: {
            name: 'BNB',
            symbol: 'BNB',
            decimals: 18,
        },
        rpcUrls: {
            default: { http: ['https://opbnb-mainnet-rpc.bnbchain.org'] },
        },
        blockExplorers: {
            default: {
                name: 'opBNB (BSCScan)',
                url: 'https://opbnb.bscscan.com',
                apiUrl: 'https://api-opbnb.bscscan.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 512881,
            },
            l2OutputOracle: {
                [sourceId$n]: {
                    address: '0x153CAB79f4767E2ff862C94aa49573294B13D169',
                },
            },
            portal: {
                [sourceId$n]: {
                    address: '0x1876EA7702C0ad0C6A2ae6036DE7733edfBca519',
                },
            },
            l1StandardBridge: {
                [sourceId$n]: {
                    address: '0xF05F0e4362859c3331Cb9395CBC201E3Fa6757Ea',
                },
            },
        },
        sourceId: sourceId$n,
    });

    const sourceId$m = 97; // bsc testnet
    /*#__PURE__*/ defineChain$1({
        id: 5611,
        name: 'opBNB Testnet',
        nativeCurrency: {
            decimals: 18,
            name: 'tBNB',
            symbol: 'tBNB',
        },
        rpcUrls: {
            default: { http: ['https://opbnb-testnet-rpc.bnbchain.org'] },
        },
        blockExplorers: {
            default: {
                name: 'opbnbscan',
                url: 'https://testnet.opbnbscan.com',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 3705108,
            },
            l2OutputOracle: {
                [sourceId$m]: {
                    address: '0xFf2394Bb843012562f4349C6632a0EcB92fC8810',
                },
            },
            portal: {
                [sourceId$m]: {
                    address: '0x4386C8ABf2009aC0c263462Da568DD9d46e52a31',
                },
            },
            l1StandardBridge: {
                [sourceId$m]: {
                    address: '0x677311Fd2cCc511Bbc0f581E8d9a07B033D5E840',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$m,
    });

    const sourceId$l = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 10,
        name: 'OP Mainnet',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://mainnet.optimism.io'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Optimism Explorer',
                url: 'https://optimistic.etherscan.io',
                apiUrl: 'https://api-optimistic.etherscan.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$l]: {
                    address: '0xe5965Ab5962eDc7477C8520243A95517CD252fA9',
                },
            },
            l2OutputOracle: {
                [sourceId$l]: {
                    address: '0xdfe97868233d1aa22e815a266982f2cf17685a27',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 4286263,
            },
            portal: {
                [sourceId$l]: {
                    address: '0xbEb5Fc579115071764c7423A4f12eDde41f106Ed',
                },
            },
            l1StandardBridge: {
                [sourceId$l]: {
                    address: '0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1',
                },
            },
        },
        sourceId: sourceId$l,
    });

    const sourceId$k = 5; // goerli
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 420,
        name: 'Optimism Goerli',
        nativeCurrency: { name: 'Goerli Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://goerli.optimism.io'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Etherscan',
                url: 'https://goerli-optimism.etherscan.io',
                apiUrl: 'https://goerli-optimism.etherscan.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$k]: {
                    address: '0xE6Dfba0953616Bacab0c9A8ecb3a9BBa77FC15c0',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 49461,
            },
            portal: {
                [sourceId$k]: {
                    address: '0x5b47E1A08Ea6d985D6649300584e6722Ec4B1383',
                },
            },
            l1StandardBridge: {
                [sourceId$k]: {
                    address: '0x636Af16bf2f682dD3109e60102b8E1A089FedAa8',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$k,
    });

    const sourceId$j = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 11155420,
        name: 'OP Sepolia',
        nativeCurrency: { name: 'Sepolia Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://sepolia.optimism.io'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://optimism-sepolia.blockscout.com',
                apiUrl: 'https://optimism-sepolia.blockscout.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$j]: {
                    address: '0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1',
                },
            },
            l2OutputOracle: {
                [sourceId$j]: {
                    address: '0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 1620204,
            },
            portal: {
                [sourceId$j]: {
                    address: '0x16Fc5058F25648194471939df75CF27A2fdC48BC',
                },
            },
            l1StandardBridge: {
                [sourceId$j]: {
                    address: '0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$j,
    });

    const sourceId$i = 11155111; // Sepolia testnet
    defineChain$1({
        ...chainConfig$1,
        name: 'Pyrope Testnet',
        testnet: true,
        id: 695569,
        sourceId: sourceId$i,
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.pyropechain.com'],
                webSocket: ['wss://rpc.pyropechain.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://pyrope.blockscout.com',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l1StandardBridge: {
                [sourceId$i]: {
                    address: '0xC24932c31D9621aE9e792576152B7ef010cFC2F8',
                },
            },
        },
    });

    const sourceId$h = 1; // Ethereum mainnet
    defineChain$1({
        ...chainConfig$1,
        name: 'Redstone',
        id: 690,
        sourceId: sourceId$h,
        nativeCurrency: { decimals: 18, name: 'Ether', symbol: 'ETH' },
        rpcUrls: {
            default: {
                http: ['https://rpc.redstonechain.com'],
                webSocket: ['wss://rpc.redstonechain.com'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://explorer.redstone.xyz',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
            },
            portal: {
                [sourceId$h]: {
                    address: '0xC7bCb0e8839a28A1cFadd1CF716de9016CdA51ae',
                    blockCreated: 19578329,
                },
            },
            l2OutputOracle: {
                [sourceId$h]: {
                    address: '0xa426A052f657AEEefc298b3B5c35a470e4739d69',
                    blockCreated: 19578337,
                },
            },
            l1StandardBridge: {
                [sourceId$h]: {
                    address: '0xc473ca7E02af24c129c2eEf51F2aDf0411c1Df69',
                    blockCreated: 19578331,
                },
            },
        },
    });

    const sourceId$g = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 12_553,
        name: 'RSS3 VSL Mainnet',
        nativeCurrency: { name: 'RSS3', symbol: 'RSS3', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.rss3.io'],
            },
        },
        blockExplorers: {
            default: {
                name: 'RSS3 VSL Mainnet Scan',
                url: 'https://scan.rss3.io',
                apiUrl: 'https://scan.rss3.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$g]: {
                    address: '0xE6f24d2C32B3109B18ed33cF08eFb490b1e09C10',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 14193,
            },
            portal: {
                [sourceId$g]: {
                    address: '0x6A12432491bbbE8d3babf75F759766774C778Db4',
                    blockCreated: 19387057,
                },
            },
            l1StandardBridge: {
                [sourceId$g]: {
                    address: '0x4cbab69108Aa72151EDa5A3c164eA86845f18438',
                },
            },
        },
        sourceId: sourceId$g,
    });

    const sourceId$f = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 2_331,
        name: 'RSS3 VSL Sepolia Testnet',
        nativeCurrency: { name: 'RSS3', symbol: 'RSS3', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.testnet.rss3.io'],
            },
        },
        blockExplorers: {
            default: {
                name: 'RSS3 VSL Sepolia Testnet Scan',
                url: 'https://scan.testnet.rss3.io',
                apiUrl: 'https://scan.testnet.rss3.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$f]: {
                    address: '0xDb5c46C3Eaa6Ed6aE8b2379785DF7dd029C0dC81',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 55697,
            },
            portal: {
                [sourceId$f]: {
                    address: '0xcBD77E8E1E7F06B25baDe67142cdE82652Da7b57',
                    blockCreated: 5345035,
                },
            },
            l1StandardBridge: {
                [sourceId$f]: {
                    address: '0xdDD29bb63B0839FB1cE0eE439Ff027738595D07B',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$f,
    });

    const sourceId$e = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 360,
        name: 'Shape',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://mainnet.shape.network'],
            },
        },
        blockExplorers: {
            default: {
                name: 'shapescan',
                url: 'https://shapescan.xyz',
                apiUrl: 'https://shapescan.xyz/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$e]: {
                    address: '0x6Ef8c69CfE4635d866e3E02732068022c06e724D',
                    blockCreated: 20369940,
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 1,
            },
            portal: {
                [sourceId$e]: {
                    address: '0xEB06fFa16011B5628BaB98E29776361c83741dd3',
                    blockCreated: 20369933,
                },
            },
            l1StandardBridge: {
                [sourceId$e]: {
                    address: '0x62Edd5f4930Ea92dCa3fB81689bDD9b9d076b57B',
                    blockCreated: 20369935,
                },
            },
        },
        sourceId: sourceId$e,
    });

    const sourceId$d = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 11_011,
        name: 'Shape Sepolia Testnet',
        nativeCurrency: { name: 'Sepolia Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://sepolia.shape.network'],
            },
        },
        blockExplorers: {
            default: {
                name: 'blockscout',
                url: 'https://explorer-sepolia.shape.network/',
                apiUrl: 'https://explorer-sepolia.shape.network/api/v2',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 1,
            },
        },
        testnet: true,
        sourceId: sourceId$d,
    });

    const sourceId$c = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 2192,
        network: 'snaxchain-mainnet',
        name: 'SnaxChain',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://mainnet.snaxchain.io'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Snax Explorer',
                url: 'https://explorer.snaxchain.io',
                apiUrl: 'https://explorer.snaxchain.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$c]: {
                    address: '0x472562Fcf26D6b2793f8E0b0fB660ba0E5e08A46',
                },
            },
            l2OutputOracle: {
                [sourceId$c]: {
                    address: '0x2172e492Fc807F5d5645D0E3543f139ECF539294',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
            },
            portal: {
                [sourceId$c]: {
                    address: '0x79f446D024d74D0Bb6E699C131c703463c5D65E9',
                },
            },
            l1StandardBridge: {
                [sourceId$c]: {
                    address: '0x6534Bdb6b5c060d3e6aa833433333135eFE8E0aA',
                },
            },
        },
        sourceId: sourceId$c,
    });

    const sourceId$b = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 13001,
        network: 'snaxchain-testnet',
        name: 'SnaxChain Testnet',
        nativeCurrency: { name: 'Sepolia Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://testnet.snaxchain.io'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Snax Explorer',
                url: 'https://testnet-explorer.snaxchain.io',
                apiUrl: 'https://testnet-explorer.snaxchain.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$b]: {
                    address: '0x206a75d89d45F146C54020F132FF93bEDD09f55E',
                },
            },
            l2OutputOracle: {
                [sourceId$b]: {
                    address: '0x60e3A368a4cdCEf85ffB964e372726F56A46221e',
                },
            },
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
            },
            portal: {
                [sourceId$b]: {
                    address: '0xb5afdd0E8dDF081Ef90e8A3e0c7b5798e66E954E',
                },
            },
            l1StandardBridge: {
                [sourceId$b]: {
                    address: '0xbd37E1a59D4C00C9A46F75018dffd84061bC5f74',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$b,
    });

    const sourceId$a = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 1868,
        name: 'Soneium Mainnet',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.soneium.org'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://soneium.blockscout.com',
                apiUrl: 'https://soneium.blockscout.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$a]: {
                    address: '0x512a3d2c7a43bd9261d2b8e8c9c70d4bd4d503c0',
                },
            },
            l2OutputOracle: {
                [sourceId$a]: {
                    address: '0x0000000000000000000000000000000000000000',
                },
            },
            portal: {
                [sourceId$a]: {
                    address: '0x88e529a6ccd302c948689cd5156c83d4614fae92',
                    blockCreated: 7061266,
                },
            },
            l1StandardBridge: {
                [sourceId$a]: {
                    address: '0xeb9bf100225c214efc3e7c651ebbadcf85177607',
                    blockCreated: 7061266,
                },
            },
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 1,
            },
        },
        sourceId: sourceId$a,
    });

    const sourceId$9 = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 1946,
        name: 'Soneium Minato Testnet',
        nativeCurrency: { name: 'Sepolia Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://rpc.minato.soneium.org'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Blockscout',
                url: 'https://soneium-minato.blockscout.com',
                apiUrl: 'https://soneium-minato.blockscout.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$9]: {
                    address: '0xB3Ad2c38E6e0640d7ce6aA952AB3A60E81bf7a01',
                },
            },
            l2OutputOracle: {
                [sourceId$9]: {
                    address: '0x710e5286C746eC38beeB7538d0146f60D27be343',
                },
            },
            portal: {
                [sourceId$9]: {
                    address: '0x65ea1489741A5D72fFdD8e6485B216bBdcC15Af3',
                    blockCreated: 6466136,
                },
            },
            l1StandardBridge: {
                [sourceId$9]: {
                    address: '0x5f5a404A5edabcDD80DB05E8e54A78c9EBF000C2',
                    blockCreated: 6466136,
                },
            },
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 1,
            },
        },
        testnet: true,
        sourceId: sourceId$9,
    });

    const sourceId$8 = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 5330,
        name: 'Superseed',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://mainnet.superseed.xyz'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Superseed Explorer',
                url: 'https://explorer.superseed.xyz',
                apiUrl: 'https://explorer.superseed.xyz/api/v2',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            disputeGameFactory: {
                [sourceId$8]: {
                    address: '0x8b097CF1f9BbD9cbFD0DD561858a1FCbC8857Be0',
                    blockCreated: 20737481,
                },
            },
            l2OutputOracle: {
                [sourceId$8]: {
                    address: '0x693A0F8854F458D282DE3C5b69E8eE5EEE8aA949',
                    blockCreated: 20737481,
                },
            },
            portal: {
                [sourceId$8]: {
                    address: '0x2c2150aa5c75A24fB93d4fD2F2a895D618054f07',
                    blockCreated: 20737481,
                },
            },
            l1StandardBridge: {
                [sourceId$8]: {
                    address: '0x8b0576E39F1233679109F9b40cFcC2a7E0901Ede',
                    blockCreated: 20737481,
                },
            },
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
            },
        },
        sourceId: sourceId$8,
    });

    const sourceId$7 = 11155111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 53302,
        name: 'Superseed Sepolia',
        nativeCurrency: {
            name: 'Ether',
            symbol: 'ETH',
            decimals: 18,
        },
        rpcUrls: {
            default: {
                http: ['https://sepolia.superseed.xyz'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Superseed Sepolia Explorer',
                url: 'https://sepolia-explorer.superseed.xyz',
                apiUrl: 'https://sepolia-explorer.superseed.xyz/api/v2',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
            },
            portal: {
                [sourceId$7]: {
                    address: '0x7A0db8C51432d2C3eb4e8f360a2EeB26FF2809fB',
                    blockCreated: 5523438,
                },
            },
            l1StandardBridge: {
                [sourceId$7]: {
                    address: '0x2B227A603fAAdB3De0ED050b63ADD232B5f2c28C',
                    blockCreated: 5523442,
                },
            },
        },
        testnet: true,
        sourceId: sourceId$7,
    });

    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 1923,
        name: 'Swellchain',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://swell-mainnet.alt.technology'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Swell Explorer',
                url: 'https://explorer.swellnetwork.io',
                apiUrl: 'https://explorer.swellnetwork.io/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 1,
            },
        },
    });

    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 1924,
        name: 'Swellchain Testnet',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://swell-testnet.alt.technology'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Swellchain Testnet Explorer',
                url: 'https://swell-testnet-explorer.alt.technology',
                apiUrl: 'https://swell-testnet-explorer.alt.technology/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 1,
            },
        },
    });

    const sourceId$6 = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 130,
        name: 'Unichain',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: {
                http: ['https://mainnet.unichain.org/'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Uniscan',
                url: 'https://uniscan.xyz',
                apiUrl: 'https://api.uniscan.xyz/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 0,
            },
            disputeGameFactory: {
                [sourceId$6]: {
                    address: '0x2F12d621a16e2d3285929C9996f478508951dFe4',
                },
            },
            portal: {
                [sourceId$6]: {
                    address: '0x0bd48f6B86a26D3a217d0Fa6FfE2B491B956A7a2',
                },
            },
            l1StandardBridge: {
                [sourceId$6]: {
                    address: '0x81014F44b0a345033bB2b3B21C7a1A308B35fEeA',
                },
            },
        },
        sourceId: sourceId$6,
    });

    const sourceId$5 = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 1301,
        name: 'Unichain Sepolia',
        nativeCurrency: {
            name: 'Ether',
            symbol: 'ETH',
            decimals: 18,
        },
        rpcUrls: {
            default: {
                http: ['https://sepolia.unichain.org'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Uniscan',
                url: 'https://sepolia.uniscan.xyz',
                apiUrl: 'https://api-sepolia.uniscan.xyz/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 0,
            },
            portal: {
                [sourceId$5]: {
                    address: '0x0d83dab629f0e0F9d36c0Cbc89B69a489f0751bD',
                },
            },
            l1StandardBridge: {
                [sourceId$5]: {
                    address: '0xea58fcA6849d79EAd1f26608855c2D6407d54Ce2',
                },
            },
            disputeGameFactory: {
                [sourceId$5]: {
                    address: '0xeff73e5aa3B9AEC32c659Aa3E00444d20a84394b',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$5,
    });

    const sourceId$4 = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 480,
        name: 'World Chain',
        network: 'worldchain',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: { http: ['https://worldchain-mainnet.g.alchemy.com/public'] },
        },
        blockExplorers: {
            default: {
                name: 'Worldscan',
                url: 'https://worldscan.org',
                apiUrl: 'https://api.worldscan.org/api',
            },
            blockscout: {
                name: 'Blockscout',
                url: 'https://worldchain-mainnet.explorer.alchemy.com',
                apiUrl: 'https://worldchain-mainnet.explorer.alchemy.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 0,
            },
            disputeGameFactory: {
                [sourceId$4]: {
                    address: '0x069c4c579671f8c120b1327a73217D01Ea2EC5ea',
                },
            },
            l2OutputOracle: {
                [sourceId$4]: {
                    address: '0x19A6d1E9034596196295CF148509796978343c5D',
                },
            },
            portal: {
                [sourceId$4]: {
                    address: '0xd5ec14a83B7d95BE1E2Ac12523e2dEE12Cbeea6C',
                },
            },
            l1StandardBridge: {
                [sourceId$4]: {
                    address: '0x470458C91978D2d929704489Ad730DC3E3001113',
                },
            },
        },
        testnet: false,
        sourceId: sourceId$4,
    });

    const sourceId$3 = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 4801,
        name: 'World Chain Sepolia',
        network: 'worldchain-sepolia',
        nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
        rpcUrls: {
            default: { http: ['https://worldchain-sepolia.g.alchemy.com/public'] },
        },
        blockExplorers: {
            default: {
                name: 'Worldscan Sepolia',
                url: 'https://sepolia.worldscan.org',
                apiUrl: 'https://api-sepolia.worldscan.org/api',
            },
            blockscout: {
                name: 'Blockscout',
                url: 'https://worldchain-sepolia.explorer.alchemy.com',
                apiUrl: 'https://worldchain-sepolia.explorer.alchemy.com/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xca11bde05977b3631167028862be2a173976ca11',
                blockCreated: 0,
            },
            disputeGameFactory: {
                [sourceId$3]: {
                    address: '0x8Ec1111f67Dad6b6A93B3F42DfBC92D81c98449A',
                },
            },
            l2OutputOracle: {
                [sourceId$3]: {
                    address: '0xc8886f8BAb6Eaeb215aDB5f1c686BF699248300e',
                },
            },
            portal: {
                [sourceId$3]: {
                    address: '0xFf6EBa109271fe6d4237EeeD4bAb1dD9A77dD1A4',
                },
            },
            l1StandardBridge: {
                [sourceId$3]: {
                    address: '0xd7DF54b3989855eb66497301a4aAEc33Dbb3F8DE',
                },
            },
        },
        testnet: true,
        sourceId: sourceId$3,
    });

    const sourceId$2 = 1; // mainnet
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 7777777,
        name: 'Zora',
        nativeCurrency: {
            decimals: 18,
            name: 'Ether',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://rpc.zora.energy'],
                webSocket: ['wss://rpc.zora.energy'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Explorer',
                url: 'https://explorer.zora.energy',
                apiUrl: 'https://explorer.zora.energy/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$2]: {
                    address: '0x9E6204F750cD866b299594e2aC9eA824E2e5f95c',
                },
            },
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 5882,
            },
            portal: {
                [sourceId$2]: {
                    address: '0x1a0ad011913A150f69f6A19DF447A0CfD9551054',
                },
            },
            l1StandardBridge: {
                [sourceId$2]: {
                    address: '0x3e2Ea9B92B7E48A52296fD261dc26fd995284631',
                },
            },
        },
        sourceId: sourceId$2,
    });

    const sourceId$1 = 11_155_111; // sepolia
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 999999999,
        name: 'Zora Sepolia',
        network: 'zora-sepolia',
        nativeCurrency: {
            decimals: 18,
            name: 'Zora Sepolia',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://sepolia.rpc.zora.energy'],
                webSocket: ['wss://sepolia.rpc.zora.energy'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Zora Sepolia Explorer',
                url: 'https://sepolia.explorer.zora.energy/',
                apiUrl: 'https://sepolia.explorer.zora.energy/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            l2OutputOracle: {
                [sourceId$1]: {
                    address: '0x2615B481Bd3E5A1C0C7Ca3Da1bdc663E8615Ade9',
                },
            },
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 83160,
            },
            portal: {
                [sourceId$1]: {
                    address: '0xeffE2C6cA9Ab797D418f0D91eA60807713f3536f',
                },
            },
            l1StandardBridge: {
                [sourceId$1]: {
                    address: '0x5376f1D543dcbB5BD416c56C189e4cB7399fCcCB',
                },
            },
        },
        sourceId: sourceId$1,
        testnet: true,
    });

    const sourceId = 5; // goerli
    /*#__PURE__*/ defineChain$1({
        ...chainConfig$1,
        id: 999,
        name: 'Zora Goerli Testnet',
        nativeCurrency: {
            decimals: 18,
            name: 'Zora Goerli',
            symbol: 'ETH',
        },
        rpcUrls: {
            default: {
                http: ['https://testnet.rpc.zora.energy'],
                webSocket: ['wss://testnet.rpc.zora.energy'],
            },
        },
        blockExplorers: {
            default: {
                name: 'Explorer',
                url: 'https://testnet.explorer.zora.energy',
                apiUrl: 'https://testnet.explorer.zora.energy/api',
            },
        },
        contracts: {
            ...chainConfig$1.contracts,
            multicall3: {
                address: '0xcA11bde05977b3631167028862bE2a173976CA11',
                blockCreated: 189123,
            },
            portal: {
                [sourceId]: {
                    address: '0xDb9F51790365e7dc196e7D072728df39Be958ACe',
                },
            },
        },
        sourceId,
        testnet: true,
    });

    function defineChain(chain) {
        return {
            formatters: undefined,
            fees: undefined,
            serializers: undefined,
            ...chain
        };
    }

    const solana = defineChain({
        id: '5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',
        name: 'Solana',
        network: 'solana-mainnet',
        nativeCurrency: { name: 'Solana', symbol: 'SOL', decimals: 9 },
        rpcUrls: {
            default: { http: ['https://rpc.walletconnect.org/v1'] }
        },
        blockExplorers: { default: { name: 'Solscan', url: 'https://solscan.io' } },
        testnet: false,
        chainNamespace: 'solana',
        caipNetworkId: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',
        deprecatedCaipNetworkId: 'solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ'
    });

    const solanaDevnet = defineChain({
        id: 'EtWTRABZaYq6iMfeYKouRu166VU2xqa1',
        name: 'Solana Devnet',
        network: 'solana-devnet',
        nativeCurrency: { name: 'Solana', symbol: 'SOL', decimals: 9 },
        rpcUrls: {
            default: { http: ['https://rpc.walletconnect.org/v1'] }
        },
        blockExplorers: { default: { name: 'Solscan', url: 'https://solscan.io' } },
        testnet: true,
        chainNamespace: 'solana',
        caipNetworkId: 'solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1',
        deprecatedCaipNetworkId: 'solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K'
    });

    const solanaTestnet = defineChain({
        id: '4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z',
        name: 'Solana Testnet',
        network: 'solana-testnet',
        nativeCurrency: { name: 'Solana', symbol: 'SOL', decimals: 9 },
        rpcUrls: {
            default: { http: ['https://rpc.walletconnect.org/v1'] }
        },
        blockExplorers: { default: { name: 'Solscan', url: 'https://solscan.io' } },
        testnet: true,
        chainNamespace: 'solana',
        caipNetworkId: 'solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z'
    });

    defineChain({
        id: '000000000019d6689c085ae165831e93',
        caipNetworkId: 'bip122:000000000019d6689c085ae165831e93',
        chainNamespace: 'bip122',
        name: 'Bitcoin',
        nativeCurrency: {
            name: 'Bitcoin',
            symbol: 'BTC',
            decimals: 8
        },
        rpcUrls: {
            default: { http: ['https://rpc.walletconnect.org/v1'] }
        }
    });
    defineChain({
        id: '000000000933ea01ad0ee984209779ba',
        caipNetworkId: 'bip122:000000000933ea01ad0ee984209779ba',
        chainNamespace: 'bip122',
        name: 'Bitcoin Testnet',
        nativeCurrency: {
            name: 'Bitcoin',
            symbol: 'BTC',
            decimals: 8
        },
        rpcUrls: {
            default: { http: ['https://rpc.walletconnect.org/v1'] }
        },
        testnet: true
    });

    const DEFAULT_METHODS = {
        solana: [
            'solana_signMessage',
            'solana_signTransaction',
            'solana_requestAccounts',
            'solana_getAccounts',
            'solana_signAllTransactions',
            'solana_signAndSendTransaction'
        ],
        eip155: [
            'eth_accounts',
            'eth_requestAccounts',
            'eth_sendRawTransaction',
            'eth_sign',
            'eth_signTransaction',
            'eth_signTypedData',
            'eth_signTypedData_v3',
            'eth_signTypedData_v4',
            'eth_sendTransaction',
            'personal_sign',
            'wallet_switchEthereumChain',
            'wallet_addEthereumChain',
            'wallet_getPermissions',
            'wallet_requestPermissions',
            'wallet_registerOnboarding',
            'wallet_watchAsset',
            'wallet_scanQRCode',
            // EIP-5792
            'wallet_getCallsStatus',
            'wallet_showCallsStatus',
            'wallet_sendCalls',
            'wallet_getCapabilities',
            // EIP-7715
            'wallet_grantPermissions',
            'wallet_revokePermissions',
            //EIP-7811
            'wallet_getAssets'
        ],
        bip122: ['sendTransfer', 'signMessage', 'signPsbt', 'getAccountAddresses']
    };
    const WcHelpersUtil = {
        getMethodsByChainNamespace(chainNamespace) {
            return DEFAULT_METHODS[chainNamespace] || [];
        },
        createDefaultNamespace(chainNamespace) {
            return {
                methods: this.getMethodsByChainNamespace(chainNamespace),
                events: ['accountsChanged', 'chainChanged'],
                chains: [],
                rpcMap: {}
            };
        },
        applyNamespaceOverrides(baseNamespaces, overrides) {
            if (!overrides) {
                return { ...baseNamespaces };
            }
            const result = { ...baseNamespaces };
            const namespacesToOverride = new Set();
            if (overrides.methods) {
                Object.keys(overrides.methods).forEach(ns => namespacesToOverride.add(ns));
            }
            if (overrides.chains) {
                Object.keys(overrides.chains).forEach(ns => namespacesToOverride.add(ns));
            }
            if (overrides.events) {
                Object.keys(overrides.events).forEach(ns => namespacesToOverride.add(ns));
            }
            if (overrides.rpcMap) {
                Object.keys(overrides.rpcMap).forEach(chainId => {
                    const [ns] = chainId.split(':');
                    if (ns) {
                        namespacesToOverride.add(ns);
                    }
                });
            }
            namespacesToOverride.forEach(ns => {
                if (!result[ns]) {
                    result[ns] = this.createDefaultNamespace(ns);
                }
            });
            if (overrides.methods) {
                Object.entries(overrides.methods).forEach(([ns, methods]) => {
                    if (result[ns]) {
                        result[ns].methods = methods;
                    }
                });
            }
            if (overrides.chains) {
                Object.entries(overrides.chains).forEach(([ns, chains]) => {
                    if (result[ns]) {
                        result[ns].chains = chains;
                    }
                });
            }
            if (overrides.events) {
                Object.entries(overrides.events).forEach(([ns, events]) => {
                    if (result[ns]) {
                        result[ns].events = events;
                    }
                });
            }
            if (overrides.rpcMap) {
                const processedNamespaces = new Set();
                Object.entries(overrides.rpcMap).forEach(([chainId, rpcUrl]) => {
                    const [ns, id] = chainId.split(':');
                    if (!ns || !id || !result[ns]) {
                        return;
                    }
                    if (!result[ns].rpcMap) {
                        result[ns].rpcMap = {};
                    }
                    if (!processedNamespaces.has(ns)) {
                        result[ns].rpcMap = {};
                        processedNamespaces.add(ns);
                    }
                    result[ns].rpcMap[id] = rpcUrl;
                });
            }
            return result;
        },
        createNamespaces(caipNetworks, configOverride) {
            const defaultNamespaces = caipNetworks.reduce((acc, chain) => {
                const { id, chainNamespace, rpcUrls } = chain;
                const rpcUrl = rpcUrls.default.http[0];
                if (!acc[chainNamespace]) {
                    acc[chainNamespace] = this.createDefaultNamespace(chainNamespace);
                }
                const caipNetworkId = `${chainNamespace}:${id}`;
                // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style
                const namespace = acc[chainNamespace];
                namespace.chains.push(caipNetworkId);
                // Workaround for wallets that only support deprecated Solana network ID
                switch (caipNetworkId) {
                    case solana.caipNetworkId:
                        namespace.chains.push(solana.deprecatedCaipNetworkId);
                        break;
                    case solanaDevnet.caipNetworkId:
                        namespace.chains.push(solanaDevnet.deprecatedCaipNetworkId);
                        break;
                }
                if (namespace?.rpcMap && rpcUrl) {
                    namespace.rpcMap[id] = rpcUrl;
                }
                return acc;
            }, {});
            return this.applyNamespaceOverrides(defaultNamespaces, configOverride);
        },
        resolveReownName: async (name) => {
            const wcNameAddress = await EnsController.resolveName(name);
            const networkNameAddresses = Object.values(wcNameAddress?.addresses) || [];
            return networkNameAddresses[0]?.address || false;
        },
        getChainsFromNamespaces(namespaces = {}) {
            return Object.values(namespaces).flatMap(namespace => {
                const chains = (namespace.chains || []);
                const accountsChains = namespace.accounts.map(account => {
                    const [chainNamespace, chainId] = account.split(':');
                    return `${chainNamespace}:${chainId}`;
                });
                return Array.from(new Set([...chains, ...accountsChains]));
            });
        },
        isSessionEventData(data) {
            return (typeof data === 'object' &&
                data !== null &&
                'id' in data &&
                'topic' in data &&
                'params' in data &&
                typeof data.params === 'object' &&
                data.params !== null &&
                'chainId' in data.params &&
                'event' in data.params &&
                typeof data.params.event === 'object' &&
                data.params.event !== null);
        }
    };

    class WalletConnectConnector {
        constructor({ provider, namespace }) {
            this.id = ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT;
            this.name = PresetsUtil.ConnectorNamesMap[ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT];
            this.type = 'WALLET_CONNECT';
            this.imageId = PresetsUtil.ConnectorImageIds[ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT];
            this.getCaipNetworks = ChainController.getCaipNetworks.bind(ChainController);
            this.caipNetworks = this.getCaipNetworks();
            this.provider = provider;
            this.chain = namespace;
        }
        get chains() {
            return this.getCaipNetworks();
        }
        async connectWalletConnect() {
            const isAuthenticated = await this.authenticate();
            if (!isAuthenticated) {
                const caipNetworks = this.getCaipNetworks();
                const universalProviderConfigOverride = OptionsController.state.universalProviderConfigOverride;
                const namespaces = WcHelpersUtil.createNamespaces(caipNetworks, universalProviderConfigOverride);
                await this.provider.connect({ optionalNamespaces: namespaces });
            }
            return {
                clientId: await this.provider.client.core.crypto.getClientId(),
                session: this.provider.session
            };
        }
        async disconnect() {
            await this.provider.disconnect();
        }
        async authenticate() {
            const chains = this.chains.map(network => network.caipNetworkId);
            return SIWXUtil.universalProviderAuthenticate({
                universalProvider: this.provider,
                chains,
                methods: OPTIONAL_METHODS
            });
        }
    }
    const OPTIONAL_METHODS = [
        'eth_accounts',
        'eth_requestAccounts',
        'eth_sendRawTransaction',
        'eth_sign',
        'eth_signTransaction',
        'eth_signTypedData',
        'eth_signTypedData_v3',
        'eth_signTypedData_v4',
        'eth_sendTransaction',
        'personal_sign',
        'wallet_switchEthereumChain',
        'wallet_addEthereumChain',
        'wallet_getPermissions',
        'wallet_requestPermissions',
        'wallet_registerOnboarding',
        'wallet_watchAsset',
        'wallet_scanQRCode',
        // EIP-5792
        'wallet_getCallsStatus',
        'wallet_sendCalls',
        'wallet_getCapabilities',
        // EIP-7715
        'wallet_grantPermissions',
        'wallet_revokePermissions',
        //EIP-7811
        'wallet_getAssets'
    ];

    /**
     * Abstract class representing a chain adapter blueprint.
     * @template Connector - The type of connector extending ChainAdapterConnector
     */
    class AdapterBlueprint {
        /**
         * Creates an instance of AdapterBlueprint.
         * @param {AdapterBlueprint.Params} params - The parameters for initializing the adapter
         */
        constructor(params) {
            this.availableConnectors = [];
            this.eventListeners = new Map();
            this.getCaipNetworks = (namespace) => ChainController.getCaipNetworks(namespace);
            if (params) {
                this.construct(params);
            }
        }
        /**
         * Initializes the adapter with the given parameters.
         * @param {AdapterBlueprint.Params} params - The parameters for initializing the adapter
         */
        construct(params) {
            this.projectId = params.projectId;
            this.namespace = params.namespace;
            this.adapterType = params.adapterType;
        }
        /**
         * Gets the available connectors.
         * @returns {Connector[]} An array of available connectors
         */
        get connectors() {
            return this.availableConnectors;
        }
        /**
         * Gets the supported networks.
         * @returns {CaipNetwork[]} An array of supported networks
         */
        get networks() {
            return this.getCaipNetworks(this.namespace);
        }
        /**
         * Sets the auth provider.
         * @param {W3mFrameProvider} authProvider - The auth provider instance
         */
        setAuthProvider(authProvider) {
            this.addConnector({
                id: ConstantsUtil$3.CONNECTOR_ID.AUTH,
                type: 'AUTH',
                name: ConstantsUtil$3.CONNECTOR_NAMES.AUTH,
                provider: authProvider,
                imageId: PresetsUtil.ConnectorImageIds[ConstantsUtil$3.CONNECTOR_ID.AUTH],
                chain: this.namespace,
                chains: []
            });
        }
        /**
         * Adds one or more connectors to the available connectors list.
         * @param {...Connector} connectors - The connectors to add
         */
        addConnector(...connectors) {
            const connectorsAdded = new Set();
            this.availableConnectors = [...connectors, ...this.availableConnectors].filter(connector => {
                if (connectorsAdded.has(connector.id)) {
                    return false;
                }
                connectorsAdded.add(connector.id);
                return true;
            });
            this.emit('connectors', this.availableConnectors);
        }
        setStatus(status, chainNamespace) {
            AccountController.setStatus(status, chainNamespace);
        }
        /**
         * Adds an event listener for a specific event.
         * @template T
         * @param {T} eventName - The name of the event
         * @param {EventCallback<T>} callback - The callback function to be called when the event is emitted
         */
        on(eventName, callback) {
            if (!this.eventListeners.has(eventName)) {
                this.eventListeners.set(eventName, new Set());
            }
            this.eventListeners.get(eventName)?.add(callback);
        }
        /**
         * Removes an event listener for a specific event.
         * @template T
         * @param {T} eventName - The name of the event
         * @param {EventCallback<T>} callback - The callback function to be removed
         */
        off(eventName, callback) {
            const listeners = this.eventListeners.get(eventName);
            if (listeners) {
                listeners.delete(callback);
            }
        }
        /**
         * Removes all event listeners.
         */
        removeAllEventListeners() {
            this.eventListeners.forEach(listeners => {
                listeners.clear();
            });
        }
        /**
         * Emits an event with the given name and optional data.
         * @template T
         * @param {T} eventName - The name of the event to emit
         * @param {EventData[T]} [data] - The optional data to be passed to the event listeners
         */
        emit(eventName, data) {
            const listeners = this.eventListeners.get(eventName);
            if (listeners) {
                listeners.forEach(callback => callback(data));
            }
        }
        /**
         * Connects to WalletConnect.
         * @param {number | string} [_chainId] - Optional chain ID to connect to
         */
        async connectWalletConnect(_chainId) {
            const connector = this.getWalletConnectConnector();
            const result = await connector.connectWalletConnect();
            return { clientId: result.clientId };
        }
        /**
         * Switches the network.
         * @param {AdapterBlueprint.SwitchNetworkParams} params - Network switching parameters
         */
        async switchNetwork(params) {
            const { caipNetwork, providerType } = params;
            if (!params.provider) {
                return;
            }
            const provider = 'provider' in params.provider ? params.provider.provider : params.provider;
            if (providerType === 'WALLET_CONNECT') {
                provider.setDefaultChain(caipNetwork.caipNetworkId);
                return;
            }
            if (provider && providerType === 'AUTH') {
                const authProvider = provider;
                const preferredAccountType = AccountController.state.preferredAccountTypes?.[caipNetwork.chainNamespace];
                await authProvider.switchNetwork(caipNetwork.caipNetworkId);
                const user = await authProvider.getUser({
                    chainId: caipNetwork.caipNetworkId,
                    preferredAccountType
                });
                this.emit('switchNetwork', user);
            }
        }
        getWalletConnectConnector() {
            const connector = this.connectors.find(c => c instanceof WalletConnectConnector);
            if (!connector) {
                throw new Error('WalletConnectConnector not found');
            }
            return connector;
        }
    }

    class UniversalAdapter extends AdapterBlueprint {
        setUniversalProvider(universalProvider) {
            this.addConnector(new WalletConnectConnector({
                provider: universalProvider,
                caipNetworks: this.getCaipNetworks(),
                namespace: this.namespace
            }));
        }
        async connect(params) {
            return Promise.resolve({
                id: 'WALLET_CONNECT',
                type: 'WALLET_CONNECT',
                chainId: Number(params.chainId),
                provider: this.provider,
                address: ''
            });
        }
        async disconnect() {
            try {
                const connector = this.getWalletConnectConnector();
                await connector.disconnect();
            }
            catch (error) {
                console.warn('UniversalAdapter:disconnect - error', error);
            }
        }
        async getAccounts({ namespace }) {
            const provider = this.provider;
            const addresses = (provider?.session?.namespaces?.[namespace]?.accounts
                ?.map(account => {
                const [, , address] = account.split(':');
                return address;
            })
                .filter((address, index, self) => self.indexOf(address) === index) || []);
            return Promise.resolve({
                accounts: addresses.map(address => CoreHelperUtil.createAccount(namespace, address, namespace === 'bip122' ? 'payment' : 'eoa'))
            });
        }
        async syncConnectors() {
            return Promise.resolve();
        }
        async getBalance(params) {
            const isBalanceSupported = params.caipNetwork &&
                ConstantsUtil$2.BALANCE_SUPPORTED_CHAINS.includes(params.caipNetwork?.chainNamespace);
            if (!isBalanceSupported || params.caipNetwork?.testnet) {
                return {
                    balance: '0.00',
                    symbol: params.caipNetwork?.nativeCurrency.symbol || ''
                };
            }
            if (AccountController.state.balanceLoading &&
                params.chainId === ChainController.state.activeCaipNetwork?.id) {
                return {
                    balance: AccountController.state.balance || '0.00',
                    symbol: AccountController.state.balanceSymbol || ''
                };
            }
            const balances = await AccountController.fetchTokenBalance();
            const balance = balances.find(b => b.chainId === `${params.caipNetwork?.chainNamespace}:${params.chainId}` &&
                b.symbol === params.caipNetwork?.nativeCurrency.symbol);
            return {
                balance: balance?.quantity.numeric || '0.00',
                symbol: balance?.symbol || params.caipNetwork?.nativeCurrency.symbol || ''
            };
        }
        async signMessage(params) {
            const { provider, message, address } = params;
            if (!provider) {
                throw new Error('UniversalAdapter:signMessage - provider is undefined');
            }
            let signature = '';
            if (ChainController.state.activeCaipNetwork?.chainNamespace === ConstantsUtil$3.CHAIN.SOLANA) {
                const response = await provider.request({
                    method: 'solana_signMessage',
                    params: {
                        message: base58.encode(new TextEncoder().encode(message)),
                        pubkey: address
                    }
                }, ChainController.state.activeCaipNetwork?.caipNetworkId);
                signature = response.signature;
            }
            else {
                signature = await provider.request({
                    method: 'personal_sign',
                    params: [message, address]
                }, ChainController.state.activeCaipNetwork?.caipNetworkId);
            }
            return { signature };
        }
        // -- Transaction methods ---------------------------------------------------
        /**
         *
         * These methods are supported only on `wagmi` and `ethers` since the Solana SDK does not support them in the same way.
         * These function definition is to have a type parity between the clients. Currently not in use.
         */
        async estimateGas() {
            return Promise.resolve({
                gas: BigInt(0)
            });
        }
        async getProfile() {
            return Promise.resolve({
                profileImage: '',
                profileName: ''
            });
        }
        async sendTransaction() {
            return Promise.resolve({
                hash: ''
            });
        }
        walletGetAssets(_params) {
            return Promise.resolve({});
        }
        async writeContract() {
            return Promise.resolve({
                hash: ''
            });
        }
        async getEnsAddress() {
            return Promise.resolve({
                address: false
            });
        }
        parseUnits() {
            return 0n;
        }
        formatUnits() {
            return '0';
        }
        async getCapabilities() {
            return Promise.resolve({});
        }
        async grantPermissions() {
            return Promise.resolve({});
        }
        async revokePermissions() {
            return Promise.resolve('0x');
        }
        async syncConnection() {
            return Promise.resolve({
                id: 'WALLET_CONNECT',
                type: 'WALLET_CONNECT',
                chainId: 1,
                provider: this.provider,
                address: ''
            });
        }
        // eslint-disable-next-line @typescript-eslint/require-await
        async switchNetwork(params) {
            const { caipNetwork } = params;
            const connector = this.getWalletConnectConnector();
            if (caipNetwork.chainNamespace === ConstantsUtil$3.CHAIN.EVM) {
                try {
                    await connector.provider?.request({
                        method: 'wallet_switchEthereumChain',
                        params: [{ chainId: toHex$1(caipNetwork.id) }]
                    });
                    // eslint-disable-next-line @typescript-eslint/no-explicit-any
                }
                catch (switchError) {
                    if (switchError.code === WcConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID ||
                        switchError.code === WcConstantsUtil.ERROR_INVALID_CHAIN_ID ||
                        switchError.code === WcConstantsUtil.ERROR_CODE_DEFAULT ||
                        switchError?.data?.originalError?.code ===
                            WcConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID) {
                        try {
                            await connector.provider?.request({
                                method: 'wallet_addEthereumChain',
                                params: [
                                    {
                                        chainId: toHex$1(caipNetwork.id),
                                        rpcUrls: [caipNetwork?.rpcUrls['chainDefault']?.http],
                                        chainName: caipNetwork.name,
                                        nativeCurrency: caipNetwork.nativeCurrency,
                                        blockExplorerUrls: [caipNetwork.blockExplorers?.default.url]
                                    }
                                ]
                            });
                        }
                        catch (error) {
                            throw new Error('Chain is not supported');
                        }
                    }
                }
            }
            connector.provider.setDefaultChain(caipNetwork.caipNetworkId);
        }
        getWalletConnectProvider() {
            const connector = this.connectors.find(c => c.type === 'WALLET_CONNECT');
            const provider = connector?.provider;
            return provider;
        }
    }

    class AppKitBaseClient {
        constructor(options) {
            this.chainNamespaces = [];
            this.reportedAlertErrors = {};
            // -- Public Internal ---------------------------------------------------
            this.getCaipNetwork = (chainNamespace, id) => {
                if (chainNamespace) {
                    const caipNetworkWithId = ChainController.getNetworkData(chainNamespace)?.requestedCaipNetworks?.find(c => c.id === id);
                    if (caipNetworkWithId) {
                        return caipNetworkWithId;
                    }
                    const namespaceCaipNetwork = ChainController.getNetworkData(chainNamespace)?.caipNetwork;
                    if (namespaceCaipNetwork) {
                        return namespaceCaipNetwork;
                    }
                    return ChainController.getRequestedCaipNetworks(chainNamespace).filter(c => c.chainNamespace === chainNamespace)?.[0];
                }
                return ChainController.state.activeCaipNetwork || this.defaultCaipNetwork;
            };
            this.getCaipNetworkId = () => {
                const network = this.getCaipNetwork();
                if (network) {
                    return network.id;
                }
                return undefined;
            };
            this.getCaipNetworks = (namespace) => ChainController.getCaipNetworks(namespace);
            this.getActiveChainNamespace = () => ChainController.state.activeChain;
            this.setRequestedCaipNetworks = (requestedCaipNetworks, chain) => {
                ChainController.setRequestedCaipNetworks(requestedCaipNetworks, chain);
            };
            this.getApprovedCaipNetworkIds = () => ChainController.getAllApprovedCaipNetworkIds();
            this.getCaipAddress = (chainNamespace) => {
                if (ChainController.state.activeChain === chainNamespace || !chainNamespace) {
                    return ChainController.state.activeCaipAddress;
                }
                return ChainController.getAccountProp('caipAddress', chainNamespace);
            };
            this.setClientId = clientId => {
                BlockchainApiController.setClientId(clientId);
            };
            this.getProvider = (namespace) => ProviderUtil.getProvider(namespace);
            this.getProviderType = (namespace) => ProviderUtil.getProviderId(namespace);
            this.getPreferredAccountType = (namespace) => AccountController.state.preferredAccountTypes?.[namespace];
            this.setCaipAddress = (caipAddress, chain) => {
                AccountController.setCaipAddress(caipAddress, chain);
            };
            this.setBalance = (balance, balanceSymbol, chain) => {
                AccountController.setBalance(balance, balanceSymbol, chain);
            };
            this.setProfileName = (profileName, chain) => {
                AccountController.setProfileName(profileName, chain);
            };
            this.setProfileImage = (profileImage, chain) => {
                AccountController.setProfileImage(profileImage, chain);
            };
            this.setUser = (user, chain) => {
                AccountController.setUser(user, chain);
                if (OptionsController.state.enableEmbedded) {
                    ModalController.close();
                }
            };
            this.resetAccount = (chain) => {
                AccountController.resetAccount(chain);
            };
            this.setCaipNetwork = caipNetwork => {
                ChainController.setActiveCaipNetwork(caipNetwork);
            };
            this.setCaipNetworkOfNamespace = (caipNetwork, chainNamespace) => {
                ChainController.setChainNetworkData(chainNamespace, { caipNetwork });
            };
            this.setAllAccounts = (addresses, chain) => {
                AccountController.setAllAccounts(addresses, chain);
                OptionsController.setHasMultipleAddresses(addresses?.length > 1);
            };
            this.setStatus = (status, chain) => {
                AccountController.setStatus(status, chain);
                // If at least one namespace is connected, set the connection status
                if (ConnectorController.isConnected()) {
                    StorageUtil.setConnectionStatus('connected');
                }
                else {
                    StorageUtil.setConnectionStatus('disconnected');
                }
            };
            this.getAddressByChainNamespace = (chainNamespace) => ChainController.getAccountProp('address', chainNamespace);
            this.setConnectors = connectors => {
                const allConnectors = [...ConnectorController.state.allConnectors, ...connectors];
                ConnectorController.setConnectors(allConnectors);
            };
            this.fetchIdentity = request => BlockchainApiController.fetchIdentity(request);
            this.getReownName = address => EnsController.getNamesForAddress(address);
            this.getConnectors = () => ConnectorController.getConnectors();
            this.getConnectorImage = connector => AssetUtil.getConnectorImage(connector);
            this.setConnectedWalletInfo = (connectedWalletInfo, chain) => {
                const type = ProviderUtil.getProviderId(chain);
                const walletInfo = connectedWalletInfo ? { ...connectedWalletInfo, type } : undefined;
                AccountController.setConnectedWalletInfo(walletInfo, chain);
            };
            this.getIsConnectedState = () => Boolean(ChainController.state.activeCaipAddress);
            this.addAddressLabel = (address, label, chain) => {
                AccountController.addAddressLabel(address, label, chain);
            };
            this.removeAddressLabel = (address, chain) => {
                AccountController.removeAddressLabel(address, chain);
            };
            this.getAddress = (chainNamespace) => {
                if (ChainController.state.activeChain === chainNamespace || !chainNamespace) {
                    return AccountController.state.address;
                }
                return ChainController.getAccountProp('address', chainNamespace);
            };
            this.setApprovedCaipNetworksData = namespace => ChainController.setApprovedCaipNetworksData(namespace);
            this.resetNetwork = (namespace) => {
                ChainController.resetNetwork(namespace);
            };
            this.addConnector = connector => {
                ConnectorController.addConnector(connector);
            };
            this.resetWcConnection = () => {
                ConnectionController.resetWcConnection();
            };
            this.setAddressExplorerUrl = (addressExplorerUrl, chain) => {
                AccountController.setAddressExplorerUrl(addressExplorerUrl, chain);
            };
            this.setSmartAccountDeployed = (isDeployed, chain) => {
                AccountController.setSmartAccountDeployed(isDeployed, chain);
            };
            this.setSmartAccountEnabledNetworks = (smartAccountEnabledNetworks, chain) => {
                ChainController.setSmartAccountEnabledNetworks(smartAccountEnabledNetworks, chain);
            };
            this.setPreferredAccountType = (preferredAccountType, chain) => {
                AccountController.setPreferredAccountType(preferredAccountType, chain);
            };
            this.setEIP6963Enabled = enabled => {
                OptionsController.setEIP6963Enabled(enabled);
            };
            this.handleUnsafeRPCRequest = () => {
                if (this.isOpen()) {
                    // If we are on the modal but there is no transaction stack, close the modal
                    if (this.isTransactionStackEmpty()) {
                        return;
                    }
                    // Check if we need to replace or redirect
                    this.redirect('ApproveTransaction');
                }
                else {
                    // If called from outside the modal, open ApproveTransaction
                    this.open({ view: 'ApproveTransaction' });
                }
            };
            this.options = options;
            this.version = options.sdkVersion;
            this.caipNetworks = this.extendCaipNetworks(options);
            this.chainNamespaces = this.getChainNamespacesSet(options.adapters, this.caipNetworks);
            this.defaultCaipNetwork = this.extendDefaultCaipNetwork(options);
            this.chainAdapters = this.createAdapters(options.adapters);
            this.initialize(options);
        }
        getChainNamespacesSet(adapters, caipNetworks) {
            const adapterNamespaces = adapters
                ?.map(adapter => adapter.namespace)
                .filter((namespace) => Boolean(namespace));
            if (adapterNamespaces?.length) {
                return [...new Set(adapterNamespaces)];
            }
            const networkNamespaces = caipNetworks?.map(network => network.chainNamespace);
            return [...new Set(networkNamespaces)];
        }
        async initialize(options) {
            this.initControllers(options);
            await this.initChainAdapters();
            await this.injectModalUi();
            this.sendInitializeEvent(options);
            PublicStateController.set({ initialized: true });
            await this.syncExistingConnection();
        }
        sendInitializeEvent(options) {
            const { ...optionsCopy } = options;
            delete optionsCopy.adapters;
            delete optionsCopy.universalProvider;
            EventsController.sendEvent({
                type: 'track',
                event: 'INITIALIZE',
                properties: {
                    ...optionsCopy,
                    networks: options.networks.map(n => n.id),
                    siweConfig: {
                        options: options.siweConfig?.options || {}
                    }
                }
            });
        }
        // -- Controllers initialization ---------------------------------------------------
        initControllers(options) {
            this.initializeOptionsController(options);
            this.initializeChainController(options);
            this.initializeThemeController(options);
            this.initializeConnectionController(options);
            this.initializeConnectorController();
        }
        initializeThemeController(options) {
            if (options.themeMode) {
                ThemeController.setThemeMode(options.themeMode);
            }
            if (options.themeVariables) {
                ThemeController.setThemeVariables(options.themeVariables);
            }
        }
        initializeChainController(options) {
            if (!this.connectionControllerClient || !this.networkControllerClient) {
                throw new Error('ConnectionControllerClient and NetworkControllerClient must be set');
            }
            ChainController.initialize(options.adapters ?? [], this.caipNetworks, {
                connectionControllerClient: this.connectionControllerClient,
                networkControllerClient: this.networkControllerClient
            });
            const network = this.getDefaultNetwork();
            if (network) {
                ChainController.setActiveCaipNetwork(network);
            }
        }
        initializeConnectionController(options) {
            ConnectionController.setWcBasic(options.basic ?? false);
        }
        initializeConnectorController() {
            ConnectorController.initialize(this.chainNamespaces);
        }
        initializeOptionsController(options) {
            OptionsController.setDebug(options.debug !== false);
            // On by default
            OptionsController.setEnableWalletConnect(options.enableWalletConnect !== false);
            OptionsController.setEnableWalletGuide(options.enableWalletGuide !== false);
            OptionsController.setEnableWallets(options.enableWallets !== false);
            OptionsController.setEIP6963Enabled(options.enableEIP6963 !== false);
            OptionsController.setEnableNetworkSwitch(options.enableNetworkSwitch !== false);
            OptionsController.setEnableAuthLogger(options.enableAuthLogger !== false);
            OptionsController.setCustomRpcUrls(options.customRpcUrls);
            OptionsController.setSdkVersion(options.sdkVersion);
            OptionsController.setProjectId(options.projectId);
            OptionsController.setEnableEmbedded(options.enableEmbedded);
            OptionsController.setAllWallets(options.allWallets);
            OptionsController.setIncludeWalletIds(options.includeWalletIds);
            OptionsController.setExcludeWalletIds(options.excludeWalletIds);
            OptionsController.setFeaturedWalletIds(options.featuredWalletIds);
            OptionsController.setTokens(options.tokens);
            OptionsController.setTermsConditionsUrl(options.termsConditionsUrl);
            OptionsController.setPrivacyPolicyUrl(options.privacyPolicyUrl);
            OptionsController.setCustomWallets(options.customWallets);
            OptionsController.setFeatures(options.features);
            OptionsController.setAllowUnsupportedChain(options.allowUnsupportedChain);
            OptionsController.setUniversalProviderConfigOverride(options.universalProviderConfigOverride);
            // Save option in controller
            OptionsController.setDefaultAccountTypes(options.defaultAccountTypes);
            // Get stored account types
            const storedAccountTypes = StorageUtil.getPreferredAccountTypes();
            const defaultTypes = { ...OptionsController.state.defaultAccountTypes, ...storedAccountTypes };
            AccountController.setPreferredAccountTypes(defaultTypes);
            const defaultMetaData = this.getDefaultMetaData();
            if (!options.metadata && defaultMetaData) {
                options.metadata = defaultMetaData;
            }
            OptionsController.setMetadata(options.metadata);
            OptionsController.setDisableAppend(options.disableAppend);
            OptionsController.setEnableEmbedded(options.enableEmbedded);
            OptionsController.setSIWX(options.siwx);
            if (!options.projectId) {
                AlertController.open(ErrorUtil.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED, 'error');
                return;
            }
            const evmAdapter = options.adapters?.find(adapter => adapter.namespace === ConstantsUtil$3.CHAIN.EVM);
            // Set the SIWE client for EVM chains
            if (evmAdapter) {
                if (options.siweConfig) {
                    if (options.siwx) {
                        throw new Error('Cannot set both `siweConfig` and `siwx` options');
                    }
                    OptionsController.setSIWX(options.siweConfig.mapToSIWX());
                }
            }
        }
        getDefaultMetaData() {
            if (typeof window !== 'undefined' && typeof document !== 'undefined') {
                return {
                    name: document.getElementsByTagName('title')?.[0]?.textContent || '',
                    description: document.querySelector('meta[property="og:description"]')?.content || '',
                    url: window.location.origin,
                    icons: [document.querySelector('link[rel~="icon"]')?.href || '']
                };
            }
            return null;
        }
        // -- Network Initialization ---------------------------------------------------
        setUnsupportedNetwork(chainId) {
            const namespace = this.getActiveChainNamespace();
            if (namespace) {
                const unsupportedNetwork = CaipNetworksUtil.getUnsupportedNetwork(`${namespace}:${chainId}`);
                ChainController.setActiveCaipNetwork(unsupportedNetwork);
            }
        }
        getDefaultNetwork() {
            return CaipNetworksUtil.getCaipNetworkFromStorage(this.defaultCaipNetwork);
        }
        extendCaipNetwork(network, options) {
            const extendedNetwork = CaipNetworksUtil.extendCaipNetwork(network, {
                customNetworkImageUrls: options.chainImages,
                projectId: options.projectId
            });
            return extendedNetwork;
        }
        extendCaipNetworks(options) {
            const extendedNetworks = CaipNetworksUtil.extendCaipNetworks(options.networks, {
                customNetworkImageUrls: options.chainImages,
                customRpcUrls: options.customRpcUrls,
                projectId: options.projectId
            });
            return extendedNetworks;
        }
        extendDefaultCaipNetwork(options) {
            const defaultNetwork = options.networks.find(n => n.id === options.defaultNetwork?.id);
            const extendedNetwork = defaultNetwork
                ? CaipNetworksUtil.extendCaipNetwork(defaultNetwork, {
                    customNetworkImageUrls: options.chainImages,
                    customRpcUrls: options.customRpcUrls,
                    projectId: options.projectId
                })
                : undefined;
            return extendedNetwork;
        }
        // -- Client Initialization ---------------------------------------------------
        createClients() {
            this.connectionControllerClient = {
                connectWalletConnect: async () => {
                    const activeChain = ChainController.state.activeChain;
                    const adapter = this.getAdapter(activeChain);
                    const chainId = this.getCaipNetwork(activeChain)?.id;
                    if (!adapter) {
                        throw new Error('Adapter not found');
                    }
                    const result = await adapter.connectWalletConnect(chainId);
                    this.close();
                    this.setClientId(result?.clientId || null);
                    StorageUtil.setConnectedNamespaces([...ChainController.state.chains.keys()]);
                    this.chainNamespaces.forEach(namespace => {
                        ConnectorController.setConnectorId(ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT, namespace);
                    });
                    await this.syncWalletConnectAccount();
                },
                connectExternal: async ({ id, info, type, provider, chain, caipNetwork }) => {
                    const activeChain = ChainController.state.activeChain;
                    const chainToUse = chain || activeChain;
                    const adapter = this.getAdapter(chainToUse);
                    if (chain && chain !== activeChain && !caipNetwork) {
                        const toConnectNetwork = this.getCaipNetworks().find(network => network.chainNamespace === chain);
                        if (toConnectNetwork) {
                            this.setCaipNetwork(toConnectNetwork);
                        }
                    }
                    if (!adapter) {
                        throw new Error('Adapter not found');
                    }
                    const fallbackCaipNetwork = this.getCaipNetwork(chainToUse);
                    const res = await adapter.connect({
                        id,
                        info,
                        type,
                        provider,
                        chainId: caipNetwork?.id || fallbackCaipNetwork?.id,
                        rpcUrl: caipNetwork?.rpcUrls?.default?.http?.[0] ||
                            fallbackCaipNetwork?.rpcUrls?.default?.http?.[0]
                    });
                    if (!res) {
                        return;
                    }
                    StorageUtil.addConnectedNamespace(chainToUse);
                    this.syncProvider({ ...res, chainNamespace: chainToUse });
                    const { accounts } = await adapter.getAccounts({ namespace: chainToUse, id });
                    this.setAllAccounts(accounts, chainToUse);
                    this.setStatus('connected', chainToUse);
                },
                reconnectExternal: async ({ id, info, type, provider }) => {
                    const namespace = ChainController.state.activeChain;
                    const adapter = this.getAdapter(namespace);
                    if (adapter?.reconnect) {
                        await adapter?.reconnect({ id, info, type, provider, chainId: this.getCaipNetwork()?.id });
                        StorageUtil.addConnectedNamespace(namespace);
                    }
                },
                disconnect: async (chainNamespace) => {
                    const namespace = chainNamespace || ChainController.state.activeChain;
                    const adapter = this.getAdapter(namespace);
                    const provider = ProviderUtil.getProvider(namespace);
                    const providerType = ProviderUtil.getProviderId(namespace);
                    await adapter?.disconnect({ provider, providerType });
                    StorageUtil.removeConnectedNamespace(namespace);
                    ProviderUtil.resetChain(namespace);
                    this.setUser(undefined, namespace);
                    this.setStatus('disconnected', namespace);
                },
                checkInstalled: (ids) => {
                    if (!ids) {
                        return Boolean(window.ethereum);
                    }
                    return ids.some(id => Boolean(window.ethereum?.[String(id)]));
                },
                signMessage: async (message) => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    const result = await adapter?.signMessage({
                        message,
                        address: AccountController.state.address,
                        provider: ProviderUtil.getProvider(ChainController.state.activeChain)
                    });
                    return result?.signature || '';
                },
                sendTransaction: async (args) => {
                    if (args.chainNamespace === ConstantsUtil$3.CHAIN.EVM) {
                        const adapter = this.getAdapter(ChainController.state.activeChain);
                        const provider = ProviderUtil.getProvider(ChainController.state.activeChain);
                        const result = await adapter?.sendTransaction({
                            ...args,
                            caipNetwork: this.getCaipNetwork(),
                            provider
                        });
                        return result?.hash || '';
                    }
                    return '';
                },
                estimateGas: async (args) => {
                    if (args.chainNamespace === ConstantsUtil$3.CHAIN.EVM) {
                        const adapter = this.getAdapter(ChainController.state.activeChain);
                        const provider = ProviderUtil.getProvider(ChainController.state.activeChain);
                        const caipNetwork = this.getCaipNetwork();
                        if (!caipNetwork) {
                            throw new Error('CaipNetwork is undefined');
                        }
                        const result = await adapter?.estimateGas({
                            ...args,
                            provider,
                            caipNetwork
                        });
                        return result?.gas || 0n;
                    }
                    return 0n;
                },
                getEnsAvatar: async () => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    const result = await adapter?.getProfile({
                        address: AccountController.state.address,
                        chainId: Number(this.getCaipNetwork()?.id)
                    });
                    return result?.profileImage || false;
                },
                getEnsAddress: async (name) => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    const caipNetwork = this.getCaipNetwork();
                    if (!caipNetwork) {
                        return false;
                    }
                    const result = await adapter?.getEnsAddress({
                        name,
                        caipNetwork
                    });
                    return result?.address || false;
                },
                writeContract: async (args) => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    const caipNetwork = this.getCaipNetwork();
                    const caipAddress = this.getCaipAddress();
                    const provider = ProviderUtil.getProvider(ChainController.state.activeChain);
                    if (!caipNetwork || !caipAddress) {
                        throw new Error('CaipNetwork or CaipAddress is undefined');
                    }
                    const result = await adapter?.writeContract({ ...args, caipNetwork, provider, caipAddress });
                    return result?.hash;
                },
                parseUnits: (value, decimals) => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    return adapter?.parseUnits({ value, decimals }) ?? 0n;
                },
                formatUnits: (value, decimals) => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    return adapter?.formatUnits({ value, decimals }) ?? '0';
                },
                getCapabilities: async (params) => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    return await adapter?.getCapabilities(params);
                },
                grantPermissions: async (params) => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    return await adapter?.grantPermissions(params);
                },
                revokePermissions: async (params) => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    if (adapter?.revokePermissions) {
                        return await adapter.revokePermissions(params);
                    }
                    return '0x';
                },
                walletGetAssets: async (params) => {
                    const adapter = this.getAdapter(ChainController.state.activeChain);
                    return (await adapter?.walletGetAssets(params)) ?? {};
                }
            };
            this.networkControllerClient = {
                switchCaipNetwork: async (caipNetwork) => await this.switchCaipNetwork(caipNetwork),
                // eslint-disable-next-line @typescript-eslint/require-await
                getApprovedCaipNetworksData: async () => this.getApprovedCaipNetworksData()
            };
            ConnectionController.setClient(this.connectionControllerClient);
        }
        getApprovedCaipNetworksData() {
            const providerType = ProviderUtil.getProviderId(ChainController.state.activeChain);
            if (providerType === ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT) {
                const namespaces = this.universalProvider?.session?.namespaces;
                return {
                    /*
                     * MetaMask Wallet only returns 1 namespace in the session object. This makes it imposible
                     * to switch to other networks. Setting supportsAllNetworks to true for MetaMask Wallet
                     * will make it possible to switch to other networks.
                     */
                    supportsAllNetworks: this.universalProvider?.session?.peer?.metadata.name === 'MetaMask Wallet',
                    approvedCaipNetworkIds: this.getChainsFromNamespaces(namespaces)
                };
            }
            return { supportsAllNetworks: true, approvedCaipNetworkIds: [] };
        }
        async switchCaipNetwork(caipNetwork) {
            if (!caipNetwork) {
                return;
            }
            const networkNamespace = caipNetwork.chainNamespace;
            const namespaceAddress = this.getAddressByChainNamespace(caipNetwork.chainNamespace);
            if (namespaceAddress) {
                const provider = ProviderUtil.getProvider(networkNamespace);
                const providerType = ProviderUtil.getProviderId(networkNamespace);
                if (caipNetwork.chainNamespace === ChainController.state.activeChain) {
                    const adapter = this.getAdapter(networkNamespace);
                    await adapter?.switchNetwork({ caipNetwork, provider, providerType });
                }
                else {
                    this.setCaipNetwork(caipNetwork);
                    if (providerType === ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT) {
                        this.syncWalletConnectAccount();
                    }
                    else {
                        const address = this.getAddressByChainNamespace(networkNamespace);
                        if (address) {
                            this.syncAccount({
                                address,
                                chainId: caipNetwork.id,
                                chainNamespace: networkNamespace
                            });
                        }
                    }
                }
            }
            else {
                this.setCaipNetwork(caipNetwork);
            }
        }
        getChainsFromNamespaces(namespaces = {}) {
            return Object.values(namespaces).flatMap((namespace) => {
                const chains = (namespace.chains || []);
                const accountsChains = namespace.accounts.map(account => {
                    const { chainId, chainNamespace } = ParseUtil.parseCaipAddress(account);
                    return `${chainNamespace}:${chainId}`;
                });
                return Array.from(new Set([...chains, ...accountsChains]));
            });
        }
        // -- Adapter Initialization ---------------------------------------------------
        createAdapters(blueprints) {
            this.createClients();
            return this.chainNamespaces.reduce((adapters, namespace) => {
                const blueprint = blueprints?.find(b => b.namespace === namespace);
                if (blueprint) {
                    blueprint.construct({
                        namespace,
                        projectId: this.options?.projectId,
                        networks: this.getCaipNetworks()
                    });
                    adapters[namespace] = blueprint;
                }
                else {
                    adapters[namespace] = new UniversalAdapter({
                        namespace: namespace,
                        networks: this.getCaipNetworks()
                    });
                }
                return adapters;
                // eslint-disable-next-line @typescript-eslint/prefer-reduce-type-parameter
            }, {});
        }
        async initChainAdapter(namespace) {
            this.onConnectors(namespace);
            this.listenAdapter(namespace);
            this.chainAdapters?.[namespace].syncConnectors(this.options, this);
            await this.createUniversalProviderForAdapter(namespace);
        }
        async initChainAdapters() {
            await Promise.all(this.chainNamespaces.map(async (namespace) => {
                await this.initChainAdapter(namespace);
            }));
        }
        onConnectors(chainNamespace) {
            const adapter = this.getAdapter(chainNamespace);
            adapter?.on('connectors', this.setConnectors.bind(this));
        }
        listenAdapter(chainNamespace) {
            const adapter = this.getAdapter(chainNamespace);
            if (!adapter) {
                return;
            }
            const connectionStatus = StorageUtil.getConnectionStatus();
            if (connectionStatus === 'connected') {
                this.setStatus('connecting', chainNamespace);
            }
            else if (connectionStatus === 'disconnected') {
                /*
                 * Address cache is kept after disconnecting from the wallet
                 * but should be cleared if appkit is launched in disconnected state
                 */
                StorageUtil.clearAddressCache();
                this.setStatus(connectionStatus, chainNamespace);
            }
            else {
                this.setStatus(connectionStatus, chainNamespace);
            }
            adapter.on('switchNetwork', ({ address, chainId }) => {
                const caipNetwork = this.getCaipNetworks().find(n => n.id === chainId || n.caipNetworkId === chainId);
                const isSameNamespace = ChainController.state.activeChain === chainNamespace;
                const accountAddress = ChainController.getAccountProp('address', chainNamespace);
                if (caipNetwork) {
                    const account = isSameNamespace && address ? address : accountAddress;
                    if (account) {
                        this.syncAccount({ address: account, chainId: caipNetwork.id, chainNamespace });
                    }
                }
                else {
                    this.setUnsupportedNetwork(chainId);
                }
            });
            adapter.on('disconnect', this.disconnect.bind(this, chainNamespace));
            adapter.on('pendingTransactions', () => {
                const address = AccountController.state.address;
                const activeCaipNetwork = ChainController.state.activeCaipNetwork;
                if (!address || !activeCaipNetwork?.id) {
                    return;
                }
                this.updateNativeBalance(address, activeCaipNetwork.id, activeCaipNetwork.chainNamespace);
            });
            adapter.on('accountChanged', ({ address, chainId }) => {
                const isActiveChain = ChainController.state.activeChain === chainNamespace;
                if (isActiveChain && chainId) {
                    this.syncAccount({
                        address,
                        chainId,
                        chainNamespace
                    });
                }
                else if (isActiveChain && ChainController.state.activeCaipNetwork?.id) {
                    this.syncAccount({
                        address,
                        chainId: ChainController.state.activeCaipNetwork?.id,
                        chainNamespace
                    });
                }
                else {
                    this.syncAccountInfo(address, chainId, chainNamespace);
                }
            });
        }
        async createUniversalProviderForAdapter(chainNamespace) {
            await this.getUniversalProvider();
            if (this.universalProvider) {
                this.chainAdapters?.[chainNamespace]?.setUniversalProvider?.(this.universalProvider);
            }
        }
        // -- Connection Sync ---------------------------------------------------
        async syncExistingConnection() {
            await Promise.allSettled(this.chainNamespaces.map(namespace => this.syncNamespaceConnection(namespace)));
        }
        async syncNamespaceConnection(namespace) {
            try {
                const connectorId = ConnectorController.getConnectorId(namespace);
                this.setStatus('connecting', namespace);
                switch (connectorId) {
                    case ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT:
                        await this.syncWalletConnectAccount();
                        break;
                    case ConstantsUtil$3.CONNECTOR_ID.AUTH:
                        // Handled during initialization of adapters' auth provider
                        break;
                    default:
                        await this.syncAdapterConnection(namespace);
                }
            }
            catch (err) {
                console.warn("AppKit couldn't sync existing connection", err);
                this.setStatus('disconnected', namespace);
            }
        }
        async syncAdapterConnection(namespace) {
            const adapter = this.getAdapter(namespace);
            const connectorId = ConnectorController.getConnectorId(namespace);
            const caipNetwork = this.getCaipNetwork(namespace);
            const connector = ConnectorController.getConnectors(namespace).find(c => c.id === connectorId);
            try {
                if (!adapter || !connector) {
                    throw new Error(`Adapter or connector not found for namespace ${namespace}`);
                }
                if (!caipNetwork?.id) {
                    throw new Error('CaipNetwork not found');
                }
                const connection = await adapter?.syncConnection({
                    namespace,
                    id: connector.id,
                    chainId: caipNetwork.id,
                    rpcUrl: caipNetwork?.rpcUrls?.default?.http?.[0]
                });
                if (connection) {
                    const accounts = await adapter?.getAccounts({
                        namespace,
                        id: connector.id
                    });
                    if (accounts && accounts.accounts.length > 0) {
                        this.setAllAccounts(accounts.accounts, namespace);
                    }
                    else {
                        this.setAllAccounts([CoreHelperUtil.createAccount(namespace, connection.address, 'eoa')], namespace);
                    }
                    this.syncProvider({ ...connection, chainNamespace: namespace });
                    await this.syncAccount({ ...connection, chainNamespace: namespace });
                    this.setStatus('connected', namespace);
                }
                else {
                    this.setStatus('disconnected', namespace);
                }
            }
            catch (e) {
                this.setStatus('disconnected', namespace);
            }
        }
        async syncWalletConnectAccount() {
            const syncTasks = this.chainNamespaces.map(async (chainNamespace) => {
                const adapter = this.getAdapter(chainNamespace);
                const namespaceAccounts = this.universalProvider?.session?.namespaces?.[chainNamespace]?.accounts || [];
                // We try and find the address for this network in the session object.
                const activeChainId = ChainController.state.activeCaipNetwork?.id;
                const sessionAddress = namespaceAccounts.find(account => {
                    const { chainId } = ParseUtil.parseCaipAddress(account);
                    return chainId === activeChainId?.toString();
                }) || namespaceAccounts[0];
                if (sessionAddress) {
                    const caipAddress = ParseUtil.validateCaipAddress(sessionAddress);
                    const { chainId, address } = ParseUtil.parseCaipAddress(caipAddress);
                    ProviderUtil.setProviderId(chainNamespace, ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT);
                    if (this.caipNetworks &&
                        ChainController.state.activeCaipNetwork &&
                        adapter?.namespace !== ConstantsUtil$3.CHAIN.EVM) {
                        const provider = adapter?.getWalletConnectProvider({
                            caipNetworks: this.getCaipNetworks(),
                            provider: this.universalProvider,
                            activeCaipNetwork: ChainController.state.activeCaipNetwork
                        });
                        ProviderUtil.setProvider(chainNamespace, provider);
                    }
                    else {
                        ProviderUtil.setProvider(chainNamespace, this.universalProvider);
                    }
                    ConnectorController.setConnectorId(ConstantsUtil$3.CONNECTOR_ID.WALLET_CONNECT, chainNamespace);
                    StorageUtil.addConnectedNamespace(chainNamespace);
                    this.syncWalletConnectAccounts(chainNamespace);
                    await this.syncAccount({
                        address,
                        chainId,
                        chainNamespace
                    });
                }
                else {
                    this.setStatus('disconnected', chainNamespace);
                }
                await ChainController.setApprovedCaipNetworksData(chainNamespace);
            });
            await Promise.all(syncTasks);
        }
        syncWalletConnectAccounts(chainNamespace) {
            const addresses = this.universalProvider?.session?.namespaces?.[chainNamespace]?.accounts
                ?.map(account => {
                const { address } = ParseUtil.parseCaipAddress(account);
                return address;
            })
                .filter((address, index, self) => self.indexOf(address) === index);
            if (addresses) {
                this.setAllAccounts(addresses.map(address => CoreHelperUtil.createAccount(chainNamespace, address, chainNamespace === 'bip122' ? 'payment' : 'eoa')), chainNamespace);
            }
        }
        syncProvider({ type, provider, id, chainNamespace }) {
            ProviderUtil.setProviderId(chainNamespace, type);
            ProviderUtil.setProvider(chainNamespace, provider);
            ConnectorController.setConnectorId(id, chainNamespace);
        }
        async syncAccount(params) {
            const isActiveNamespace = params.chainNamespace === ChainController.state.activeChain;
            const networkOfChain = ChainController.getCaipNetworkByNamespace(params.chainNamespace, params.chainId);
            const { address, chainId, chainNamespace } = params;
            const { chainId: activeChainId } = StorageUtil.getActiveNetworkProps();
            const chainIdToUse = chainId || activeChainId;
            const isUnsupportedNetwork = ChainController.state.activeCaipNetwork?.name === ConstantsUtil$3.UNSUPPORTED_NETWORK_NAME;
            const shouldSupportAllNetworks = ChainController.getNetworkProp('supportsAllNetworks', chainNamespace);
            this.setStatus('connected', chainNamespace);
            if (isUnsupportedNetwork && !shouldSupportAllNetworks) {
                return;
            }
            if (chainIdToUse) {
                let caipNetwork = this.getCaipNetworks().find(n => n.id.toString() === chainIdToUse.toString());
                let fallbackCaipNetwork = this.getCaipNetworks().find(n => n.chainNamespace === chainNamespace);
                // If doesn't support all networks, we need to use approved networks
                if (!shouldSupportAllNetworks && !caipNetwork && !fallbackCaipNetwork) {
                    // Connection can be requested for a chain that is not supported by the wallet so we need to use approved networks here
                    const caipNetworkIds = this.getApprovedCaipNetworkIds() || [];
                    const caipNetworkId = caipNetworkIds.find(id => ParseUtil.parseCaipNetworkId(id)?.chainId === chainIdToUse.toString());
                    const fallBackCaipNetworkId = caipNetworkIds.find(id => ParseUtil.parseCaipNetworkId(id)?.chainNamespace === chainNamespace);
                    caipNetwork = this.getCaipNetworks().find(n => n.caipNetworkId === caipNetworkId);
                    fallbackCaipNetwork = this.getCaipNetworks().find(n => n.caipNetworkId === fallBackCaipNetworkId ||
                        // This is a workaround used in Solana network to support deprecated caipNetworkId
                        ('deprecatedCaipNetworkId' in n && n.deprecatedCaipNetworkId === fallBackCaipNetworkId));
                }
                const network = caipNetwork || fallbackCaipNetwork;
                if (network?.chainNamespace === ChainController.state.activeChain) {
                    // If the network is unsupported and the user doesn't allow unsupported chains, we show the unsupported chain UI
                    if (OptionsController.state.enableNetworkSwitch &&
                        !OptionsController.state.allowUnsupportedChain &&
                        ChainController.state.activeCaipNetwork?.name === ConstantsUtil$3.UNSUPPORTED_NETWORK_NAME) {
                        ChainController.showUnsupportedChainUI();
                    }
                    else {
                        this.setCaipNetwork(network);
                    }
                }
                else if (!isActiveNamespace) {
                    if (networkOfChain) {
                        this.setCaipNetworkOfNamespace(networkOfChain, chainNamespace);
                    }
                }
                this.syncConnectedWalletInfo(chainNamespace);
                if (!HelpersUtil.isLowerCaseMatch(address, AccountController.state.address)) {
                    this.syncAccountInfo(address, network?.id, chainNamespace);
                }
                if (isActiveNamespace) {
                    await this.syncBalance({ address, chainId: network?.id, chainNamespace });
                }
                else {
                    await this.syncBalance({ address, chainId: networkOfChain?.id, chainNamespace });
                }
            }
        }
        async syncAccountInfo(address, chainId, chainNamespace) {
            const caipAddress = this.getCaipAddress(chainNamespace);
            const newChainId = chainId || caipAddress?.split(':')[1];
            if (!newChainId) {
                return;
            }
            const newCaipAddress = `${chainNamespace}:${newChainId}:${address}`;
            this.setCaipAddress(newCaipAddress, chainNamespace);
            await this.syncIdentity({
                address,
                chainId: newChainId,
                chainNamespace
            });
        }
        async syncReownName(address, chainNamespace) {
            try {
                const registeredWcNames = await this.getReownName(address);
                if (registeredWcNames[0]) {
                    const wcName = registeredWcNames[0];
                    this.setProfileName(wcName.name, chainNamespace);
                }
                else {
                    this.setProfileName(null, chainNamespace);
                }
            }
            catch {
                this.setProfileName(null, chainNamespace);
            }
        }
        syncConnectedWalletInfo(chainNamespace) {
            const connectorId = ConnectorController.getConnectorId(chainNamespace);
            const providerType = ProviderUtil.getProviderId(chainNamespace);
            if (providerType === ConstantsUtil$1.CONNECTOR_TYPE_ANNOUNCED ||
                providerType === ConstantsUtil$1.CONNECTOR_TYPE_INJECTED) {
                if (connectorId) {
                    const connector = this.getConnectors().find(c => c.id === connectorId);
                    if (connector) {
                        const { info, name, imageUrl } = connector;
                        const icon = imageUrl || this.getConnectorImage(connector);
                        this.setConnectedWalletInfo({ name, icon, ...info }, chainNamespace);
                    }
                }
            }
            else if (providerType === ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT) {
                const provider = ProviderUtil.getProvider(chainNamespace);
                if (provider?.session) {
                    this.setConnectedWalletInfo({
                        ...provider.session.peer.metadata,
                        name: provider.session.peer.metadata.name,
                        icon: provider.session.peer.metadata.icons?.[0]
                    }, chainNamespace);
                }
            }
            else if (connectorId) {
                if (connectorId === ConstantsUtil$3.CONNECTOR_ID.COINBASE) {
                    const connector = this.getConnectors().find(c => c.id === ConstantsUtil$3.CONNECTOR_ID.COINBASE);
                    this.setConnectedWalletInfo({ name: 'Coinbase Wallet', icon: this.getConnectorImage(connector) }, chainNamespace);
                }
                else {
                    this.setConnectedWalletInfo({ name: connectorId }, chainNamespace);
                }
            }
        }
        async syncBalance(params) {
            const caipNetwork = NetworkUtil.getNetworksByNamespace(this.getCaipNetworks(), params.chainNamespace).find(n => n.id.toString() === params.chainId?.toString());
            if (!caipNetwork || !params.chainId) {
                return;
            }
            await this.updateNativeBalance(params.address, params.chainId, params.chainNamespace);
        }
        async updateNativeBalance(address, chainId, namespace) {
            const adapter = this.getAdapter(namespace);
            const caipNetwork = ChainController.getCaipNetworkByNamespace(namespace, chainId);
            if (adapter) {
                const balance = await adapter.getBalance({
                    address,
                    chainId,
                    caipNetwork,
                    tokens: this.options.tokens
                });
                this.setBalance(balance.balance, balance.symbol, namespace);
            }
        }
        // -- Universal Provider ---------------------------------------------------
        async initializeUniversalAdapter() {
            const logger = LoggerUtil.createLogger((error, ...args) => {
                if (error) {
                    this.handleAlertError(error);
                }
                // eslint-disable-next-line no-console
                console.error(...args);
            });
            const universalProviderOptions = {
                projectId: this.options?.projectId,
                metadata: {
                    name: this.options?.metadata ? this.options?.metadata.name : '',
                    description: this.options?.metadata ? this.options?.metadata.description : '',
                    url: this.options?.metadata ? this.options?.metadata.url : '',
                    icons: this.options?.metadata ? this.options?.metadata.icons : ['']
                },
                logger
            };
            OptionsController.setManualWCControl(Boolean(this.options?.manualWCControl));
            this.universalProvider =
                this.options.universalProvider ?? (await x$2.init(universalProviderOptions));
            this.listenWalletConnect();
        }
        listenWalletConnect() {
            if (this.universalProvider) {
                this.universalProvider.on('display_uri', (uri) => {
                    ConnectionController.setUri(uri);
                });
                this.universalProvider.on('connect', ConnectionController.finalizeWcConnection);
                this.universalProvider.on('disconnect', () => {
                    this.chainNamespaces.forEach(namespace => {
                        this.resetAccount(namespace);
                    });
                    ConnectionController.resetWcConnection();
                });
                this.universalProvider.on('chainChanged', (chainId) => {
                    // eslint-disable-next-line eqeqeq
                    const caipNetwork = this.getCaipNetworks().find(c => c.id == chainId);
                    const currentCaipNetwork = this.getCaipNetwork();
                    if (!caipNetwork) {
                        this.setUnsupportedNetwork(chainId);
                        return;
                    }
                    if (currentCaipNetwork?.id !== caipNetwork?.id) {
                        this.setCaipNetwork(caipNetwork);
                    }
                });
                this.universalProvider.on('session_event', (callbackData) => {
                    if (WcHelpersUtil.isSessionEventData(callbackData)) {
                        const { name, data } = callbackData.params.event;
                        if (name === 'accountsChanged' &&
                            Array.isArray(data) &&
                            CoreHelperUtil.isCaipAddress(data[0])) {
                            this.syncAccount(ParseUtil.parseCaipAddress(data[0]));
                        }
                    }
                });
            }
        }
        createUniversalProvider() {
            if (!this.universalProviderInitPromise &&
                CoreHelperUtil.isClient() &&
                this.options?.projectId) {
                this.universalProviderInitPromise = this.initializeUniversalAdapter();
            }
            return this.universalProviderInitPromise;
        }
        async getUniversalProvider() {
            if (!this.universalProvider) {
                try {
                    await this.createUniversalProvider();
                }
                catch (err) {
                    EventsController.sendEvent({
                        type: 'error',
                        event: 'INTERNAL_SDK_ERROR',
                        properties: {
                            errorType: 'UniversalProviderInitError',
                            errorMessage: err instanceof Error ? err.message : 'Unknown',
                            uncaught: false
                        }
                    });
                    // eslint-disable-next-line no-console
                    console.error('AppKit:getUniversalProvider - Cannot create provider', err);
                }
            }
            return this.universalProvider;
        }
        // - Utils -------------------------------------------------------------------
        handleAlertError(error) {
            const matchedUniversalProviderError = Object.entries(ErrorUtil.UniversalProviderErrors).find(([, { message }]) => error.message.includes(message));
            const [errorKey, errorValue] = matchedUniversalProviderError ?? [];
            const { message, alertErrorKey } = errorValue ?? {};
            if (errorKey && message && !this.reportedAlertErrors[errorKey]) {
                const alertError = ErrorUtil.ALERT_ERRORS[alertErrorKey];
                if (alertError) {
                    AlertController.open(alertError, 'error');
                    this.reportedAlertErrors[errorKey] = true;
                }
            }
        }
        getAdapter(namespace) {
            if (!namespace) {
                return undefined;
            }
            return this.chainAdapters?.[namespace];
        }
        createAdapter(blueprint) {
            if (!blueprint) {
                return;
            }
            const namespace = blueprint.namespace;
            if (!namespace) {
                return;
            }
            this.createClients();
            const adapterBlueprint = blueprint;
            adapterBlueprint.namespace = namespace;
            adapterBlueprint.construct({
                namespace,
                projectId: this.options?.projectId,
                networks: this.getCaipNetworks()
            });
            if (!this.chainNamespaces.includes(namespace)) {
                this.chainNamespaces.push(namespace);
            }
            if (this.chainAdapters) {
                this.chainAdapters[namespace] = adapterBlueprint;
            }
        }
        // -- Public -------------------------------------------------------------------
        async open(options) {
            await this.injectModalUi();
            if (options?.uri) {
                ConnectionController.setUri(options.uri);
            }
            if (options?.arguments) {
                switch (options?.view) {
                    case 'Swap':
                        return ModalController.open({ ...options, data: { swap: options.arguments } });
                }
            }
            return ModalController.open(options);
        }
        async close() {
            await this.injectModalUi();
            ModalController.close();
        }
        setLoading(loading, namespace) {
            ModalController.setLoading(loading, namespace);
        }
        async disconnect(chainNamespace) {
            await ConnectionController.disconnect(chainNamespace);
        }
        // -- review these -------------------------------------------------------------------
        getError() {
            return '';
        }
        getChainId() {
            return ChainController.state.activeCaipNetwork?.id;
        }
        async switchNetwork(appKitNetwork) {
            const network = this.getCaipNetworks().find(n => n.id === appKitNetwork.id);
            if (!network) {
                AlertController.open(ErrorUtil.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND, 'error');
                return;
            }
            await ChainController.switchActiveNetwork(network);
        }
        getWalletProvider() {
            return ChainController.state.activeChain
                ? ProviderUtil.state.providers[ChainController.state.activeChain]
                : null;
        }
        getWalletProviderType() {
            return ProviderUtil.getProviderId(ChainController.state.activeChain);
        }
        subscribeProviders(callback) {
            return ProviderUtil.subscribeProviders(callback);
        }
        getThemeMode() {
            return ThemeController.state.themeMode;
        }
        getThemeVariables() {
            return ThemeController.state.themeVariables;
        }
        setThemeMode(themeMode) {
            ThemeController.setThemeMode(themeMode);
            setColorTheme(ThemeController.state.themeMode);
        }
        setTermsConditionsUrl(termsConditionsUrl) {
            OptionsController.setTermsConditionsUrl(termsConditionsUrl);
        }
        setPrivacyPolicyUrl(privacyPolicyUrl) {
            OptionsController.setPrivacyPolicyUrl(privacyPolicyUrl);
        }
        setThemeVariables(themeVariables) {
            ThemeController.setThemeVariables(themeVariables);
            setThemeVariables(ThemeController.state.themeVariables);
        }
        subscribeTheme(callback) {
            return ThemeController.subscribe(callback);
        }
        getWalletInfo() {
            return AccountController.state.connectedWalletInfo;
        }
        getAccount(namespace) {
            const authConnector = ConnectorController.getAuthConnector(namespace);
            const accountState = ChainController.getAccountData(namespace);
            const activeChain = ChainController.state.activeChain;
            if (!accountState) {
                return undefined;
            }
            return {
                allAccounts: accountState.allAccounts,
                caipAddress: accountState.caipAddress,
                address: CoreHelperUtil.getPlainAddress(accountState.caipAddress),
                isConnected: Boolean(accountState.caipAddress),
                status: accountState.status,
                embeddedWalletInfo: authConnector
                    ? {
                        user: accountState.user
                            ? {
                                ...accountState.user,
                                /*
                                 * Getting the username from the chain controller works well for social logins,
                                 * but Farcaster uses a different connection flow and doesn’t emit the username via events.
                                 * Since the username is stored in local storage before the chain controller updates,
                                 * it’s safe to use the local storage value here.
                                 */
                                username: StorageUtil.getConnectedSocialUsername()
                            }
                            : undefined,
                        authProvider: accountState.socialProvider ||
                            'email',
                        accountType: accountState.preferredAccountTypes?.[namespace || activeChain],
                        isSmartAccountDeployed: Boolean(accountState.smartAccountDeployed)
                    }
                    : undefined
            };
        }
        subscribeAccount(callback, namespace) {
            const updateVal = () => {
                const account = this.getAccount(namespace);
                if (!account) {
                    return;
                }
                callback(account);
            };
            if (namespace) {
                ChainController.subscribeChainProp('accountState', updateVal, namespace);
            }
            else {
                ChainController.subscribe(updateVal);
            }
            ConnectorController.subscribe(updateVal);
        }
        subscribeNetwork(callback) {
            return ChainController.subscribe(({ activeCaipNetwork }) => {
                callback({
                    caipNetwork: activeCaipNetwork,
                    chainId: activeCaipNetwork?.id,
                    caipNetworkId: activeCaipNetwork?.caipNetworkId
                });
            });
        }
        subscribeWalletInfo(callback) {
            return AccountController.subscribeKey('connectedWalletInfo', callback);
        }
        subscribeShouldUpdateToAddress(callback) {
            AccountController.subscribeKey('shouldUpdateToAddress', callback);
        }
        subscribeCaipNetworkChange(callback) {
            ChainController.subscribeKey('activeCaipNetwork', callback);
        }
        getState() {
            return PublicStateController.state;
        }
        subscribeState(callback) {
            return PublicStateController.subscribe(callback);
        }
        showErrorMessage(message) {
            SnackController.showError(message);
        }
        showSuccessMessage(message) {
            SnackController.showSuccess(message);
        }
        getEvent() {
            return { ...EventsController.state };
        }
        subscribeEvents(callback) {
            return EventsController.subscribe(callback);
        }
        replace(route) {
            RouterController.replace(route);
        }
        redirect(route) {
            RouterController.push(route);
        }
        popTransactionStack(cancel) {
            RouterController.popTransactionStack(cancel);
        }
        isOpen() {
            return ModalController.state.open;
        }
        isTransactionStackEmpty() {
            return RouterController.state.transactionStack.length === 0;
        }
        isTransactionShouldReplaceView() {
            return RouterController.state.transactionStack[RouterController.state.transactionStack.length - 1]?.replace;
        }
        static getInstance() {
            return this.instance;
        }
        updateFeatures(newFeatures) {
            OptionsController.setFeatures(newFeatures);
        }
        updateOptions(newOptions) {
            const currentOptions = OptionsController.state || {};
            const updatedOptions = { ...currentOptions, ...newOptions };
            OptionsController.setOptions(updatedOptions);
        }
        setConnectMethodsOrder(connectMethodsOrder) {
            OptionsController.setConnectMethodsOrder(connectMethodsOrder);
        }
        setWalletFeaturesOrder(walletFeaturesOrder) {
            OptionsController.setWalletFeaturesOrder(walletFeaturesOrder);
        }
        setCollapseWallets(collapseWallets) {
            OptionsController.setCollapseWallets(collapseWallets);
        }
        setSocialsOrder(socialsOrder) {
            OptionsController.setSocialsOrder(socialsOrder);
        }
        getConnectMethodsOrder() {
            return WalletUtil.getConnectOrderMethod(OptionsController.state.features, ConnectorController.getConnectors());
        }
        /**
         * Adds a network to an existing adapter in AppKit.
         * @param namespace - The chain namespace to add the network to (e.g. 'eip155', 'solana')
         * @param network - The network configuration to add
         * @throws Error if adapter for namespace doesn't exist
         */
        addNetwork(namespace, network) {
            if (this.chainAdapters && !this.chainAdapters[namespace]) {
                throw new Error(`Adapter for namespace ${namespace} doesn't exist`);
            }
            const extendedNetwork = this.extendCaipNetwork(network, this.options);
            if (!this.getCaipNetworks().find(n => n.id === extendedNetwork.id)) {
                ChainController.addNetwork(extendedNetwork);
            }
        }
        /**
         * Removes a network from an existing adapter in AppKit.
         * @param namespace - The chain namespace the network belongs to
         * @param networkId - The network ID to remove
         * @throws Error if adapter for namespace doesn't exist or if removing last network
         */
        removeNetwork(namespace, networkId) {
            if (this.chainAdapters && !this.chainAdapters[namespace]) {
                throw new Error(`Adapter for namespace ${namespace} doesn't exist`);
            }
            const networkToRemove = this.getCaipNetworks().find(n => n.id === networkId);
            if (!networkToRemove) {
                return;
            }
            ChainController.removeNetwork(namespace, networkId);
        }
    }

    // -- Helpers -------------------------------------------------------------------
    let isInitialized = false;
    // -- Client --------------------------------------------------------------------
    class AppKit extends AppKitBaseClient {
        // -- Overrides --------------------------------------------------------------
        async open(options) {
            // Only open modal when not connected
            const isConnected = ConnectorController.isConnected();
            if (!isConnected) {
                await super.open(options);
            }
        }
        async close() {
            await super.close();
            if (this.options.manualWCControl) {
                ConnectionController.finalizeWcConnection();
            }
        }
        async syncIdentity(_request) {
            return Promise.resolve();
        }
        async syncBalance(_params) {
            return Promise.resolve();
        }
        async injectModalUi() {
            if (!isInitialized && CoreHelperUtil.isClient()) {
                await Promise.resolve().then(function () { return basic; });
                await Promise.resolve().then(function () { return w3mModal; });
                const isElementCreated = document.querySelector('w3m-modal');
                if (!isElementCreated) {
                    const modal = document.createElement('w3m-modal');
                    if (!OptionsController.state.disableAppend && !OptionsController.state.enableEmbedded) {
                        document.body.insertAdjacentElement('beforeend', modal);
                    }
                }
                isInitialized = true;
            }
        }
    }

    const PACKAGE_VERSION = '1.7.3';

    function createAppKit(options) {
        return new AppKit({
            ...options,
            basic: true,
            sdkVersion: `html-core-${PACKAGE_VERSION}`
        });
    }

    // Taken from https://stackoverflow.com/a/41429145/2247097
    class ClientNotInitializedError extends Error {
        constructor() {
            super();
            // Set the prototype explicitly.
            Object.setPrototypeOf(this, ClientNotInitializedError.prototype);
        }
    }

    class WalletConnectFeatureNotSupportedError extends Error {
        constructor(method) {
            super(`WalletConnect Adapter - Method ${method} is not supported by the wallet`);
            this.name = 'WalletConnectFeatureNotSupportedError';
        }
    }

    function getChainsFromChainId(chainId) {
        let chains = [chainId];
        if (chainId === SolanaChainIDs.Mainnet || chainId === SolanaChainIDs.Deprecated_Mainnet) {
            chains = [SolanaChainIDs.Mainnet, SolanaChainIDs.Deprecated_Mainnet];
            if (chainId === SolanaChainIDs.Deprecated_Mainnet) {
                console.warn(chainWarns.mainnet);
            }
        }
        else if (chainId === SolanaChainIDs.Deprecated_Devnet || chainId === SolanaChainIDs.Devnet) {
            chains = [SolanaChainIDs.Devnet, SolanaChainIDs.Deprecated_Devnet];
            {
                console.warn(chainWarns.devnet);
            }
        }
        return chains;
    }
    const chainWarns = {
        mainnet: `You are using a deprecated chain ID for Solana Mainnet, please use ${SolanaChainIDs.Mainnet} instead.`,
        devnet: `You are using a deprecated chain ID for Solana Devnet, please use ${SolanaChainIDs.Devnet} instead.`,
        wallet: 'The connected wallet is using a deprecated chain ID for Solana. Please, contact them to upgrade. You can learn more at https://github.com/ChainAgnostic/namespaces/blob/main/solana/caip10.md#chain-ids'
    };
    function getDefaultChainFromSession(session, selectedChain) {
        var _a;
        const chains = (_a = session.namespaces['solana']) === null || _a === void 0 ? void 0 : _a.accounts.map(account => `solana:${account.split(':')[1]}`);
        if (selectedChain === SolanaChainIDs.Mainnet) {
            if (chains === null || chains === void 0 ? void 0 : chains.find(chain => chain === SolanaChainIDs.Mainnet)) {
                return SolanaChainIDs.Mainnet;
            }
            console.warn(chainWarns.wallet);
            return SolanaChainIDs.Deprecated_Mainnet;
        }
        else if (selectedChain === SolanaChainIDs.Devnet) {
            if (chains === null || chains === void 0 ? void 0 : chains.find(chain => chain === SolanaChainIDs.Devnet)) {
                return SolanaChainIDs.Devnet;
            }
            console.warn(chainWarns.wallet);
            return SolanaChainIDs.Deprecated_Devnet;
        }
        throw Error('WalletConnect Solana Adapter: Unable to get a default chain from the session.');
    }
    function getConnectParams(chainId) {
        /** Workaround to support old chain Id configuration */
        const chains = getChainsFromChainId(chainId);
        return {
            optionalNamespaces: {
                solana: {
                    chains,
                    methods: [WalletConnectRPCMethods.signTransaction, WalletConnectRPCMethods.signMessage],
                    events: []
                }
            }
        };
    }

    class QRCodeModalError extends Error {
        constructor() {
            super('QR Code Modal was closed by user');
            // Set the prototype explicitly.
            Object.setPrototypeOf(this, QRCodeModalError.prototype);
            this.name = 'QRCodeModalError';
        }
    }

    class WalletConnectWallet {
        constructor(config) {
            this.initClient(config.options);
            this._network = config.network;
            if (!config.options.projectId) {
                throw Error('WalletConnect Adapter: Project ID is undefined');
            }
            this._projectId = config.options.projectId;
        }
        async connect() {
            var _a, _b, _c, _d, _e, _f;
            if (!this._UniversalProvider) {
                await new Promise(res => {
                    this._ConnectQueueResolver = res;
                });
            }
            if (!this._UniversalProvider) {
                throw new Error("WalletConnect Adapter - Universal Provider was undefined while calling 'connect()'");
            }
            if (this._UniversalProvider.session) {
                this._session = this._UniversalProvider.session;
                const defaultNetwork = getDefaultChainFromSession(this._session, this._network);
                this._network = defaultNetwork;
                this._UniversalProvider.setDefaultChain(defaultNetwork);
                return {
                    publicKey: this.publicKey
                };
            }
            await this.initModal();
            const params = getConnectParams(this._network);
            (_a = this._modal) === null || _a === void 0 ? void 0 : _a.open();
            // Create an abort controller to handle modal close
            const controller = new AbortController();
            const signal = controller.signal;
            (_b = this._modal) === null || _b === void 0 ? void 0 : _b.subscribeState((state) => {
                if (!state.open) {
                    controller.abort(new QRCodeModalError());
                }
            });
            try {
                const session = await Promise.race([
                    (_c = this._UniversalProvider) === null || _c === void 0 ? void 0 : _c.connect(params),
                    new Promise((_, reject) => {
                        signal.addEventListener('abort', () => {
                            reject(signal.reason);
                        });
                    })
                ]);
                (_d = this._modal) === null || _d === void 0 ? void 0 : _d.close();
                this._session = session;
                if (!session) {
                    throw new walletAdapterBase.WalletConnectionError();
                }
                const defaultNetwork = getDefaultChainFromSession(session, this._network);
                this._network = defaultNetwork;
                (_e = this._UniversalProvider) === null || _e === void 0 ? void 0 : _e.setDefaultChain(defaultNetwork);
                return { publicKey: this.publicKey };
            }
            catch (error) {
                (_f = this._modal) === null || _f === void 0 ? void 0 : _f.close();
                throw error;
            }
        }
        async disconnect() {
            var _a;
            if ((_a = this._UniversalProvider) === null || _a === void 0 ? void 0 : _a.session) {
                await this.initModal();
                if (!this._modal) {
                    throw Error('WalletConnect Adapter -Modal is undefined: unable to disconnect');
                }
                await this.client.disconnect();
                // await this._modal.disconnect()
                this._session = undefined;
            }
            else {
                throw new ClientNotInitializedError();
            }
        }
        get client() {
            if (this._UniversalProvider) {
                return this._UniversalProvider;
            }
            throw new ClientNotInitializedError();
        }
        get session() {
            if (!this._session) {
                throw new ClientNotInitializedError();
            }
            return this._session;
        }
        get publicKey() {
            var _a, _b, _c, _d;
            if (((_a = this._UniversalProvider) === null || _a === void 0 ? void 0 : _a.session) && this._session) {
                const { address } = Xe$5((_d = (_c = (_b = this._session) === null || _b === void 0 ? void 0 : _b.namespaces['solana']) === null || _c === void 0 ? void 0 : _c.accounts[0]) !== null && _d !== void 0 ? _d : '');
                return new web3_js.PublicKey(address);
            }
            throw new ClientNotInitializedError();
        }
        async signTransaction(transaction) {
            this.checkIfWalletSupportsMethod(WalletConnectRPCMethods.signTransaction);
            const isVersioned = walletAdapterBase.isVersionedTransaction(transaction);
            const legacyTransaction = isVersioned ? {} : transaction;
            const { signature, transaction: signedSerializedTransaction } = await this.client.client.request({
                chainId: this._network,
                topic: this.session.topic,
                request: {
                    method: WalletConnectRPCMethods.signTransaction,
                    params: {
                        /*
                         * Passing ...legacyTransaction is deprecated.
                         * All new clients should rely on the `transaction` parameter.
                         * The future versions will stop passing ...legacyTransaction.
                         */
                        ...legacyTransaction,
                        // New base64-encoded serialized transaction request parameter
                        transaction: this.serialize(transaction)
                    }
                }
            });
            if (signedSerializedTransaction) {
                return this.deserialize(signedSerializedTransaction, isVersioned);
            }
            transaction.addSignature(this.publicKey, Buffer.from(base58.decode(signature)));
            return transaction;
        }
        async signMessage(message) {
            this.checkIfWalletSupportsMethod(WalletConnectRPCMethods.signMessage);
            const { signature } = await this.client.client.request({
                // The network does not change the output of message signing, but this is a required parameter for SignClient
                chainId: this._network,
                topic: this.session.topic,
                request: {
                    method: WalletConnectRPCMethods.signMessage,
                    params: {
                        pubkey: this.publicKey.toString(),
                        message: base58.encode(message)
                    }
                }
            });
            return base58.decode(signature);
        }
        async signAndSendTransaction(transaction) {
            this.checkIfWalletSupportsMethod(WalletConnectRPCMethods.signAndSendTransaction);
            const { signature } = await this.client.client.request({
                chainId: this._network,
                topic: this.session.topic,
                request: {
                    method: WalletConnectRPCMethods.signAndSendTransaction,
                    params: { transaction: this.serialize(transaction) }
                }
            });
            return signature;
        }
        async signAllTransactions(transactions) {
            try {
                this.checkIfWalletSupportsMethod(WalletConnectRPCMethods.signAllTransactions);
                const serializedTransactions = transactions.map(transaction => this.serialize(transaction));
                const { transactions: serializedSignedTransactions } = await this.client.client.request({
                    chainId: this._network,
                    topic: this.session.topic,
                    request: {
                        method: WalletConnectRPCMethods.signAllTransactions,
                        params: { transactions: serializedTransactions }
                    }
                });
                return transactions.map((transaction, index) => {
                    var _a, _b;
                    if (walletAdapterBase.isVersionedTransaction(transaction)) {
                        return this.deserialize((_a = serializedSignedTransactions[index]) !== null && _a !== void 0 ? _a : '', true);
                    }
                    return this.deserialize((_b = serializedSignedTransactions[index]) !== null && _b !== void 0 ? _b : '');
                });
            }
            catch (error) {
                if (error instanceof WalletConnectFeatureNotSupportedError) {
                    const promises = transactions.map(transaction => this.signTransaction(transaction));
                    const signedTransactions = await Promise.all(promises);
                    return signedTransactions;
                }
                throw error;
            }
        }
        async initClient(options) {
            const provider = await oh.init(options);
            this._UniversalProvider = provider;
            if (this._ConnectQueueResolver) {
                this._ConnectQueueResolver(true);
            }
        }
        async initModal() {
            if (this._modal) {
                return;
            }
            if (!this._UniversalProvider) {
                throw new Error('WalletConnect Adapter - cannot init modal when Universal Provider is undefined');
            }
            this._modal = createAppKit({
                projectId: this._projectId,
                universalProvider: this._UniversalProvider,
                networks: [solana, solanaDevnet, solanaTestnet],
                manualWCControl: true
            });
        }
        serialize(transaction) {
            return Buffer.from(transaction.serialize({ verifySignatures: false })).toString('base64');
        }
        deserialize(serializedTransaction, versioned = false) {
            if (versioned) {
                return web3_js.VersionedTransaction.deserialize(Buffer.from(serializedTransaction, 'base64'));
            }
            return web3_js.Transaction.from(Buffer.from(serializedTransaction, 'base64'));
        }
        checkIfWalletSupportsMethod(method) {
            var _a;
            if (!((_a = this.session.namespaces['solana']) === null || _a === void 0 ? void 0 : _a.methods.includes(method))) {
                throw new WalletConnectFeatureNotSupportedError(method);
            }
        }
    }

    const WalletConnectWalletName = 'WalletConnect';
    class WalletConnectWalletAdapter extends walletAdapterBase.BaseSignerWalletAdapter {
        emit(event, ...args) {
            return this._eventEmitter.emit(event, ...args);
        }
        constructor(config) {
            super();
            this.name = WalletConnectWalletName;
            this.url = 'https://walletconnect.org';
            this.icon = 'data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE4NSIgdmlld0JveD0iMCAwIDMwMCAxODUiIHdpZHRoPSIzMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTYxLjQzODU0MjkgMzYuMjU2MjYxMmM0OC45MTEyMjQxLTQ3Ljg4ODE2NjMgMTI4LjIxMTk4NzEtNDcuODg4MTY2MyAxNzcuMTIzMjA5MSAwbDUuODg2NTQ1IDUuNzYzNDE3NGMyLjQ0NTU2MSAyLjM5NDQwODEgMi40NDU1NjEgNi4yNzY1MTEyIDAgOC42NzA5MjA0bC0yMC4xMzY2OTUgMTkuNzE1NTAzYy0xLjIyMjc4MSAxLjE5NzIwNTEtMy4yMDUzIDEuMTk3MjA1MS00LjQyODA4MSAwbC04LjEwMDU4NC03LjkzMTE0NzljLTM0LjEyMTY5Mi0zMy40MDc5ODE3LTg5LjQ0Mzg4Ni0zMy40MDc5ODE3LTEyMy41NjU1Nzg4IDBsLTguNjc1MDU2MiA4LjQ5MzYwNTFjLTEuMjIyNzgxNiAxLjE5NzIwNDEtMy4yMDUzMDEgMS4xOTcyMDQxLTQuNDI4MDgwNiAwbC0yMC4xMzY2OTQ5LTE5LjcxNTUwMzFjLTIuNDQ1NTYxMi0yLjM5NDQwOTItMi40NDU1NjEyLTYuMjc2NTEyIDAtOC42NzA5MjA0em0yMTguNzY3Nzk2MSA0MC43NzM3NDQ5IDE3LjkyMTY5NyAxNy41NDY4OTdjMi40NDU1NDkgMi4zOTQzOTY5IDIuNDQ1NTYzIDYuMjc2NDc2OS4wMDAwMzEgOC42NzA4ODk5bC04MC44MTAxNzEgNzkuMTIxMTM0Yy0yLjQ0NTU0NCAyLjM5NDQyNi02LjQxMDU4MiAyLjM5NDQ1My04Ljg1NjE2LjAwMDA2Mi0uMDAwMDEtLjAwMDAxLS4wMDAwMjItLjAwMDAyMi0uMDAwMDMyLS4wMDAwMzJsLTU3LjM1NDE0My01Ni4xNTQ1NzJjLS42MTEzOS0uNTk4NjAyLTEuNjAyNjUtLjU5ODYwMi0yLjIxNDA0IDAtLjAwMDAwNC4wMDAwMDQtLjAwMDA3LjAwMDA4LS4wMDAwMTEuMDAwMDExbC01Ny4zNTI5MjEyIDU2LjE1NDUzMWMtMi40NDU1MzY4IDIuMzk0NDMyLTYuNDEwNTc1NSAyLjM5NDQ3Mi04Ljg1NjE2MTIuMDAwMDg3LS4wMDAwMTQzLS4wMDAwMTQtLjAwMDAyOTYtLjAwMDAyOC0uMDAwMDQ0OS0uMDAwMDQ0bC04MC44MTI0MTk0My03OS4xMjIxODVjLTIuNDQ1NTYwMjEtMi4zOTQ0MDgtMi40NDU1NjAyMS02LjI3NjUxMTUgMC04LjY3MDkxOTdsMTcuOTIxNzI5NjMtMTcuNTQ2ODY3M2MyLjQ0NTU2MDItMi4zOTQ0MDgyIDYuNDEwNTk4OS0yLjM5NDQwODIgOC44NTYxNjAyIDBsNTcuMzU0OTc3NSA1Ni4xNTUzNTdjLjYxMTM5MDguNTk4NjAyIDEuNjAyNjQ5LjU5ODYwMiAyLjIxNDAzOTggMCAuMDAwMDA5Mi0uMDAwMDA5LjAwMDAxNzQtLjAwMDAxNy4wMDAwMjY1LS4wMDAwMjRsNTcuMzUyMTAzMS01Ni4xNTUzMzNjMi40NDU1MDUtMi4zOTQ0NjMzIDYuNDEwNTQ0LTIuMzk0NTUzMSA4Ljg1NjE2MS0uMDAwMi4wMDAwMzQuMDAwMDMzNi4wMDAwNjguMDAwMDY3My4wMDAxMDEuMDAwMTAxbDU3LjM1NDkwMiA1Ni4xNTU0MzJjLjYxMTM5LjU5ODYwMSAxLjYwMjY1LjU5ODYwMSAyLjIxNDA0IDBsNTcuMzUzOTc1LTU2LjE1NDMyNDljMi40NDU1NjEtMi4zOTQ0MDkyIDYuNDEwNTk5LTIuMzk0NDA5MiA4Ljg1NjE2IDB6IiBmaWxsPSIjM2I5OWZjIi8+PC9zdmc+';
            this._eventEmitter = new require$$0$3.EventEmitter();
            this.supportedTransactionVersions = new Set(['legacy', 0]);
            this._publicKey = null;
            this._connecting = false;
            this._config = config;
            this._wallet = null;
            this._readyState =
                typeof window === 'undefined' ? walletAdapterBase.WalletReadyState.Unsupported : walletAdapterBase.WalletReadyState.Loadable;
            this._onDisconnect = this.disconnect.bind(this);
        }
        get publicKey() {
            return this._publicKey;
        }
        get connecting() {
            return this._connecting;
        }
        get readyState() {
            return this._readyState;
        }
        async connect() {
            try {
                if (this.connected || this.connecting) {
                    return;
                }
                if (this._readyState !== walletAdapterBase.WalletReadyState.Loadable) {
                    throw new walletAdapterBase.WalletNotReadyError();
                }
                this._connecting = true;
                this._wallet = new WalletConnectWallet({
                    network: this._config.network === walletAdapterBase.WalletAdapterNetwork.Mainnet
                        ? WalletConnectChainID.Mainnet
                        : WalletConnectChainID.Devnet,
                    options: this._config.options
                });
                const { publicKey } = await this._wallet.connect();
                this._publicKey = publicKey;
                this.emit('connect', publicKey);
                this._wallet.client.on('session_delete', this._onDisconnect);
            }
            catch (error) {
                if (error.constructor.name === 'QRCodeModalError' || error instanceof Error && error.name === 'QRCodeModalError') {
                    throw new walletAdapterBase.WalletWindowClosedError();
                }
                this._connecting = false;
                throw error;
            }
            finally {
                this._connecting = false;
            }
        }
        async disconnect() {
            const wallet = this._wallet;
            if (wallet) {
                wallet.client.off('session_delete', this._onDisconnect);
                this._publicKey = null;
                try {
                    if (wallet.client.session) {
                        await wallet.disconnect();
                    }
                }
                catch (error) {
                    console.error('WalletConnectWalletAdapter: disconnect error', error);
                    this.emit('error', new walletAdapterBase.WalletDisconnectionError(error === null || error === void 0 ? void 0 : error.message, error));
                }
            }
            this.emit('disconnect');
        }
        async signTransaction(transaction) {
            try {
                const wallet = this._wallet;
                if (!wallet) {
                    throw new walletAdapterBase.WalletNotConnectedError();
                }
                try {
                    return await wallet.signTransaction(transaction);
                }
                catch (error) {
                    throw new walletAdapterBase.WalletSignTransactionError(error === null || error === void 0 ? void 0 : error.message, error);
                }
            }
            catch (error) {
                this.emit('error', error);
                throw error;
            }
        }
        async signMessage(message) {
            try {
                const wallet = this._wallet;
                if (!wallet) {
                    throw new walletAdapterBase.WalletNotConnectedError();
                }
                try {
                    return await wallet.signMessage(message);
                }
                catch (error) {
                    throw new walletAdapterBase.WalletSignMessageError(error === null || error === void 0 ? void 0 : error.message, error);
                }
            }
            catch (error) {
                this.emit('error', error);
                throw error;
            }
        }
        async signAndSendTransaction(transaction) {
            try {
                const wallet = this._wallet;
                if (!wallet) {
                    throw new walletAdapterBase.WalletNotConnectedError();
                }
                try {
                    return await wallet.signAndSendTransaction(transaction);
                }
                catch (error) {
                    throw new walletAdapterBase.WalletSignTransactionError(error === null || error === void 0 ? void 0 : error.message, error);
                }
            }
            catch (error) {
                this.emit('error', error);
                throw error;
            }
        }
        async signAllTransactions(transactions) {
            try {
                const wallet = this._wallet;
                if (!wallet) {
                    throw new walletAdapterBase.WalletNotConnectedError();
                }
                try {
                    return await wallet.signAllTransactions(transactions);
                }
                catch (error) {
                    throw new walletAdapterBase.WalletSignTransactionError(error === null || error === void 0 ? void 0 : error.message, error);
                }
            }
            catch (error) {
                this.emit('error', error);
                throw error;
            }
        }
    }

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const o$3={attribute:true,type:String,converter:u$1,reflect:false,hasChanged:f$3},r$2=(t=o$3,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),"setter"===n&&((t=Object.create(t)).wrapped=true),s.set(r.name,t),"accessor"===n){const{name:o}=r;return {set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t);},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if("setter"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t);}}throw Error("Unsupported decorator location: "+n)};function n$3(t){return (e,o)=>"object"==typeof o?r$2(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function r$1(r){return n$3({...r,state:true,attribute:false})}

    var styles$I = i$6 `
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;

    var __decorate$10 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiFlex = class WuiFlex extends i$3 {
        render() {
            this.style.cssText = `
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap && `var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap && `var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap && `var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding && UiHelperUtil.getSpacingStyles(this.padding, 0)};
      padding-right: ${this.padding && UiHelperUtil.getSpacingStyles(this.padding, 1)};
      padding-bottom: ${this.padding && UiHelperUtil.getSpacingStyles(this.padding, 2)};
      padding-left: ${this.padding && UiHelperUtil.getSpacingStyles(this.padding, 3)};
      margin-top: ${this.margin && UiHelperUtil.getSpacingStyles(this.margin, 0)};
      margin-right: ${this.margin && UiHelperUtil.getSpacingStyles(this.margin, 1)};
      margin-bottom: ${this.margin && UiHelperUtil.getSpacingStyles(this.margin, 2)};
      margin-left: ${this.margin && UiHelperUtil.getSpacingStyles(this.margin, 3)};
    `;
            return x$1 `<slot></slot>`;
        }
    };
    WuiFlex.styles = [resetStyles, styles$I];
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "flexDirection", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "flexWrap", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "flexBasis", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "flexGrow", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "flexShrink", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "alignItems", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "justifyContent", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "columnGap", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "rowGap", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "gap", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "padding", void 0);
    __decorate$10([
        n$3()
    ], WuiFlex.prototype, "margin", void 0);
    WuiFlex = __decorate$10([
        customElement('wui-flex')
    ], WuiFlex);

    /**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const o$2=o=>o??E;

    /**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const i$2=o=>null===o||"object"!=typeof o&&"function"!=typeof o,f$1=o=>void 0===o.strings;

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    const t={ATTRIBUTE:1,CHILD:2},e$2=t=>(...e)=>({_$litDirective$:t,values:e});let i$1 = class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i;}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const s$1=(i,t)=>{const e=i._$AN;if(void 0===e)return  false;for(const i of e)i._$AO?.(t,false),s$1(i,t);return  true},o$1=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t;}while(0===e?.size)},r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),c$1(t);}};function h$2(i){ void 0!==this._$AN?(o$1(this),this._$AM=i,r(this)):this._$AM=i;}function n$2(i,t=false,e=0){const r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s$1(r[i],false),o$1(r[i]);else null!=r&&(s$1(r,false),o$1(r));else s$1(this,i);}const c$1=i=>{i.type==t.CHILD&&(i._$AP??=n$2,i._$AQ??=h$2);};class f extends i$1{constructor(){super(...arguments),this._$AN=void 0;}_$AT(i,t,e){super._$AT(i,t,e),r(this),this.isConnected=i._$AU;}_$AO(i,t=true){i!==this.isConnected&&(this.isConnected=i,i?this.reconnected?.():this.disconnected?.()),t&&(s$1(this,i),o$1(this));}setValue(t){if(f$1(this._$Ct))this._$Ct._$AI(t,this);else {const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0);}}disconnected(){}reconnected(){}}

    /**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
    class s{constructor(t){this.G=t;}disconnect(){this.G=void 0;}reconnect(t){this.G=t;}deref(){return this.G}}class i{constructor(){this.Y=void 0,this.Z=void 0;}get(){return this.Y}pause(){this.Y??=new Promise((t=>this.Z=t));}resume(){this.Z?.(),this.Y=this.Z=void 0;}}

    /**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const n$1=t=>!i$2(t)&&"function"==typeof t.then,h$1=1073741823;class c extends f{constructor(){super(...arguments),this._$Cwt=h$1,this._$Cbt=[],this._$CK=new s(this),this._$CX=new i;}render(...s){return s.find((t=>!n$1(t)))??T}update(s,i){const e=this._$Cbt;let r=e.length;this._$Cbt=i;const o=this._$CK,c=this._$CX;this.isConnected||this.disconnected();for(let t=0;t<i.length&&!(t>this._$Cwt);t++){const s=i[t];if(!n$1(s))return this._$Cwt=t,s;t<r&&s===e[t]||(this._$Cwt=h$1,r=0,Promise.resolve(s).then((async t=>{for(;c.get();)await c.get();const i=o.deref();if(void 0!==i){const e=i._$Cbt.indexOf(s);e>-1&&e<i._$Cwt&&(i._$Cwt=e,i.setValue(t));}})));}return T}disconnected(){this._$CK.disconnect(),this._$CX.pause();}reconnected(){this._$CK.reconnect(this),this._$CX.resume();}}const m=e$2(c);

    class CacheUtil {
        constructor() {
            this.cache = new Map();
        }
        set(key, value) {
            this.cache.set(key, value);
        }
        get(key) {
            return this.cache.get(key);
        }
        has(key) {
            return this.cache.has(key);
        }
        delete(key) {
            this.cache.delete(key);
        }
        clear() {
            this.cache.clear();
        }
    }
    const globalSvgCache = new CacheUtil();

    var styles$H = i$6 `
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`;

    var __decorate$$ = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    const ICONS = {
        add: async () => (await Promise.resolve().then(function () { return add; })).addSvg,
        allWallets: async () => (await Promise.resolve().then(function () { return allWallets; })).allWalletsSvg,
        arrowBottomCircle: async () => (await Promise.resolve().then(function () { return arrowBottomCircle; })).arrowBottomCircleSvg,
        appStore: async () => (await Promise.resolve().then(function () { return appStore; })).appStoreSvg,
        apple: async () => (await Promise.resolve().then(function () { return apple; })).appleSvg,
        arrowBottom: async () => (await Promise.resolve().then(function () { return arrowBottom; })).arrowBottomSvg,
        arrowLeft: async () => (await Promise.resolve().then(function () { return arrowLeft; })).arrowLeftSvg,
        arrowRight: async () => (await Promise.resolve().then(function () { return arrowRight; })).arrowRightSvg,
        arrowTop: async () => (await Promise.resolve().then(function () { return arrowTop; })).arrowTopSvg,
        bank: async () => (await Promise.resolve().then(function () { return bank; })).bankSvg,
        browser: async () => (await Promise.resolve().then(function () { return browser; })).browserSvg,
        card: async () => (await Promise.resolve().then(function () { return card; })).cardSvg,
        checkmark: async () => (await Promise.resolve().then(function () { return checkmark; })).checkmarkSvg,
        checkmarkBold: async () => (await Promise.resolve().then(function () { return checkmarkBold; })).checkmarkBoldSvg,
        chevronBottom: async () => (await Promise.resolve().then(function () { return chevronBottom; })).chevronBottomSvg,
        chevronLeft: async () => (await Promise.resolve().then(function () { return chevronLeft; })).chevronLeftSvg,
        chevronRight: async () => (await Promise.resolve().then(function () { return chevronRight; })).chevronRightSvg,
        chevronTop: async () => (await Promise.resolve().then(function () { return chevronTop; })).chevronTopSvg,
        chromeStore: async () => (await Promise.resolve().then(function () { return chromeStore; })).chromeStoreSvg,
        clock: async () => (await Promise.resolve().then(function () { return clock; })).clockSvg,
        close: async () => (await Promise.resolve().then(function () { return close; })).closeSvg,
        compass: async () => (await Promise.resolve().then(function () { return compass; })).compassSvg,
        coinPlaceholder: async () => (await Promise.resolve().then(function () { return coinPlaceholder; })).coinPlaceholderSvg,
        copy: async () => (await Promise.resolve().then(function () { return copy; })).copySvg,
        cursor: async () => (await Promise.resolve().then(function () { return cursor; })).cursorSvg,
        cursorTransparent: async () => (await Promise.resolve().then(function () { return cursorTransparent; })).cursorTransparentSvg,
        desktop: async () => (await Promise.resolve().then(function () { return desktop; })).desktopSvg,
        disconnect: async () => (await Promise.resolve().then(function () { return disconnect; })).disconnectSvg,
        discord: async () => (await Promise.resolve().then(function () { return discord; })).discordSvg,
        etherscan: async () => (await Promise.resolve().then(function () { return etherscan; })).etherscanSvg,
        extension: async () => (await Promise.resolve().then(function () { return extension; })).extensionSvg,
        externalLink: async () => (await Promise.resolve().then(function () { return externalLink; })).externalLinkSvg,
        facebook: async () => (await Promise.resolve().then(function () { return facebook; })).facebookSvg,
        farcaster: async () => (await Promise.resolve().then(function () { return farcaster; })).farcasterSvg,
        filters: async () => (await Promise.resolve().then(function () { return filters; })).filtersSvg,
        github: async () => (await Promise.resolve().then(function () { return github; })).githubSvg,
        google: async () => (await Promise.resolve().then(function () { return google; })).googleSvg,
        helpCircle: async () => (await Promise.resolve().then(function () { return helpCircle; })).helpCircleSvg,
        image: async () => (await Promise.resolve().then(function () { return image; })).imageSvg,
        id: async () => (await Promise.resolve().then(function () { return id; })).idSvg,
        infoCircle: async () => (await Promise.resolve().then(function () { return infoCircle; })).infoCircleSvg,
        lightbulb: async () => (await Promise.resolve().then(function () { return lightbulb; })).lightbulbSvg,
        mail: async () => (await Promise.resolve().then(function () { return mail; })).mailSvg,
        mobile: async () => (await Promise.resolve().then(function () { return mobile; })).mobileSvg,
        more: async () => (await Promise.resolve().then(function () { return more; })).moreSvg,
        networkPlaceholder: async () => (await Promise.resolve().then(function () { return networkPlaceholder; })).networkPlaceholderSvg,
        nftPlaceholder: async () => (await Promise.resolve().then(function () { return nftPlaceholder; })).nftPlaceholderSvg,
        off: async () => (await Promise.resolve().then(function () { return off; })).offSvg,
        playStore: async () => (await Promise.resolve().then(function () { return playStore; })).playStoreSvg,
        plus: async () => (await Promise.resolve().then(function () { return plus; })).plusSvg,
        qrCode: async () => (await Promise.resolve().then(function () { return qrCode; })).qrCodeIcon,
        recycleHorizontal: async () => (await Promise.resolve().then(function () { return recycleHorizontal; })).recycleHorizontalSvg,
        refresh: async () => (await Promise.resolve().then(function () { return refresh; })).refreshSvg,
        search: async () => (await Promise.resolve().then(function () { return search; })).searchSvg,
        send: async () => (await Promise.resolve().then(function () { return send; })).sendSvg,
        swapHorizontal: async () => (await Promise.resolve().then(function () { return swapHorizontal; })).swapHorizontalSvg,
        swapHorizontalMedium: async () => (await Promise.resolve().then(function () { return swapHorizontalMedium; })).swapHorizontalMediumSvg,
        swapHorizontalBold: async () => (await Promise.resolve().then(function () { return swapHorizontalBold; })).swapHorizontalBoldSvg,
        swapHorizontalRoundedBold: async () => (await Promise.resolve().then(function () { return swapHorizontalRoundedBold; })).swapHorizontalRoundedBoldSvg,
        swapVertical: async () => (await Promise.resolve().then(function () { return swapVertical; })).swapVerticalSvg,
        telegram: async () => (await Promise.resolve().then(function () { return telegram; })).telegramSvg,
        threeDots: async () => (await Promise.resolve().then(function () { return threeDots; })).threeDotsSvg,
        twitch: async () => (await Promise.resolve().then(function () { return twitch; })).twitchSvg,
        twitter: async () => (await Promise.resolve().then(function () { return x; })).xSvg,
        twitterIcon: async () => (await Promise.resolve().then(function () { return twitterIcon; })).twitterIconSvg,
        verify: async () => (await Promise.resolve().then(function () { return verify; })).verifySvg,
        verifyFilled: async () => (await Promise.resolve().then(function () { return verifyFilled; })).verifyFilledSvg,
        wallet: async () => (await Promise.resolve().then(function () { return wallet; })).walletSvg,
        walletConnect: async () => (await Promise.resolve().then(function () { return walletconnect; })).walletConnectSvg,
        walletConnectLightBrown: async () => (await Promise.resolve().then(function () { return walletconnect; })).walletConnectLightBrownSvg,
        walletConnectBrown: async () => (await Promise.resolve().then(function () { return walletconnect; })).walletConnectBrownSvg,
        walletPlaceholder: async () => (await Promise.resolve().then(function () { return walletPlaceholder; })).walletPlaceholderSvg,
        warningCircle: async () => (await Promise.resolve().then(function () { return warningCircle; })).warningCircleSvg,
        x: async () => (await Promise.resolve().then(function () { return x; })).xSvg,
        info: async () => (await Promise.resolve().then(function () { return info; })).infoSvg,
        exclamationTriangle: async () => (await Promise.resolve().then(function () { return exclamationTriangle; })).exclamationTriangleSvg,
        reown: async () => (await Promise.resolve().then(function () { return reownLogo; })).reownSvg
    };
    async function getSvg(name) {
        if (globalSvgCache.has(name)) {
            return globalSvgCache.get(name);
        }
        const importFn = ICONS[name] ?? ICONS.copy;
        const svgPromise = importFn();
        globalSvgCache.set(name, svgPromise);
        return svgPromise;
    }
    let WuiIcon = class WuiIcon extends i$3 {
        constructor() {
            super(...arguments);
            this.size = 'md';
            this.name = 'copy';
            this.color = 'fg-300';
            this.aspectRatio = '1 / 1';
        }
        render() {
            this.style.cssText = `
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `;
            return x$1 `${m(getSvg(this.name), x$1 `<div class="fallback"></div>`)}`;
        }
    };
    WuiIcon.styles = [resetStyles, colorStyles, styles$H];
    __decorate$$([
        n$3()
    ], WuiIcon.prototype, "size", void 0);
    __decorate$$([
        n$3()
    ], WuiIcon.prototype, "name", void 0);
    __decorate$$([
        n$3()
    ], WuiIcon.prototype, "color", void 0);
    __decorate$$([
        n$3()
    ], WuiIcon.prototype, "aspectRatio", void 0);
    WuiIcon = __decorate$$([
        customElement('wui-icon')
    ], WuiIcon);

    /**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const e$1=e$2(class extends i$1{constructor(t$1){if(super(t$1),t$1.type!==t.ATTRIBUTE||"class"!==t$1.name||t$1.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return " "+Object.keys(t).filter((s=>t[s])).join(" ")+" "}update(s,[i]){if(void 0===this.st){this.st=new Set,void 0!==s.strings&&(this.nt=new Set(s.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in i)i[t]&&!this.nt?.has(t)&&this.st.add(t);return this.render(i)}const r=s.element.classList;for(const t of this.st)t in i||(r.remove(t),this.st.delete(t));for(const t in i){const s=!!i[t];s===this.st.has(t)||this.nt?.has(t)||(s?(r.add(t),this.st.add(t)):(r.remove(t),this.st.delete(t)));}return T}});

    var styles$G = i$6 `
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;

    var __decorate$_ = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiText = class WuiText extends i$3 {
        constructor() {
            super(...arguments);
            this.variant = 'paragraph-500';
            this.color = 'fg-300';
            this.align = 'left';
            this.lineClamp = undefined;
        }
        render() {
            const classes = {
                [`wui-font-${this.variant}`]: true,
                [`wui-color-${this.color}`]: true,
                [`wui-line-clamp-${this.lineClamp}`]: this.lineClamp ? true : false
            };
            this.style.cssText = `
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `;
            return x$1 `<slot class=${e$1(classes)}></slot>`;
        }
    };
    WuiText.styles = [resetStyles, styles$G];
    __decorate$_([
        n$3()
    ], WuiText.prototype, "variant", void 0);
    __decorate$_([
        n$3()
    ], WuiText.prototype, "color", void 0);
    __decorate$_([
        n$3()
    ], WuiText.prototype, "align", void 0);
    __decorate$_([
        n$3()
    ], WuiText.prototype, "lineClamp", void 0);
    WuiText = __decorate$_([
        customElement('wui-text')
    ], WuiText);

    var styles$F = i$6 `
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;

    var __decorate$Z = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiIconBox = class WuiIconBox extends i$3 {
        constructor() {
            super(...arguments);
            this.size = 'md';
            this.backgroundColor = 'accent-100';
            this.iconColor = 'accent-100';
            this.background = 'transparent';
            this.border = false;
            this.borderColor = 'wui-color-bg-125';
            this.icon = 'copy';
        }
        render() {
            const iconSize = this.iconSize || this.size;
            const isLg = this.size === 'lg';
            const isXl = this.size === 'xl';
            const bgMix = isLg ? '12%' : '16%';
            const borderRadius = isLg ? 'xxs' : isXl ? 's' : '3xl';
            const isGray = this.background === 'gray';
            const isOpaque = this.background === 'opaque';
            const isColorChange = (this.backgroundColor === 'accent-100' && isOpaque) ||
                (this.backgroundColor === 'success-100' && isOpaque) ||
                (this.backgroundColor === 'error-100' && isOpaque) ||
                (this.backgroundColor === 'inverse-100' && isOpaque);
            let bgValueVariable = `var(--wui-color-${this.backgroundColor})`;
            if (isColorChange) {
                bgValueVariable = `var(--wui-icon-box-bg-${this.backgroundColor})`;
            }
            else if (isGray) {
                bgValueVariable = `var(--wui-color-gray-${this.backgroundColor})`;
            }
            this.style.cssText = `
       --local-bg-value: ${bgValueVariable};
       --local-bg-mix: ${isColorChange || isGray ? `100%` : bgMix};
       --local-border-radius: var(--wui-border-radius-${borderRadius});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor === 'wui-color-bg-125' ? `2px` : `1px`} solid ${this.border ? `var(--${this.borderColor})` : `transparent`}
   `;
            return x$1 ` <wui-icon color=${this.iconColor} size=${iconSize} name=${this.icon}></wui-icon> `;
        }
    };
    WuiIconBox.styles = [resetStyles, elementStyles, styles$F];
    __decorate$Z([
        n$3()
    ], WuiIconBox.prototype, "size", void 0);
    __decorate$Z([
        n$3()
    ], WuiIconBox.prototype, "backgroundColor", void 0);
    __decorate$Z([
        n$3()
    ], WuiIconBox.prototype, "iconColor", void 0);
    __decorate$Z([
        n$3()
    ], WuiIconBox.prototype, "iconSize", void 0);
    __decorate$Z([
        n$3()
    ], WuiIconBox.prototype, "background", void 0);
    __decorate$Z([
        n$3({ type: Boolean })
    ], WuiIconBox.prototype, "border", void 0);
    __decorate$Z([
        n$3()
    ], WuiIconBox.prototype, "borderColor", void 0);
    __decorate$Z([
        n$3()
    ], WuiIconBox.prototype, "icon", void 0);
    WuiIconBox = __decorate$Z([
        customElement('wui-icon-box')
    ], WuiIconBox);

    var styles$E = i$6 `
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;

    var __decorate$Y = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiImage = class WuiImage extends i$3 {
        constructor() {
            super(...arguments);
            this.src = './path/to/image.jpg';
            this.alt = 'Image';
            this.size = undefined;
        }
        render() {
            this.style.cssText = `
      --local-width: ${this.size ? `var(--wui-icon-size-${this.size});` : '100%'};
      --local-height: ${this.size ? `var(--wui-icon-size-${this.size});` : '100%'};
      `;
            return x$1 `<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`;
        }
        handleImageError() {
            this.dispatchEvent(new CustomEvent('onLoadError', { bubbles: true, composed: true }));
        }
    };
    WuiImage.styles = [resetStyles, colorStyles, styles$E];
    __decorate$Y([
        n$3()
    ], WuiImage.prototype, "src", void 0);
    __decorate$Y([
        n$3()
    ], WuiImage.prototype, "alt", void 0);
    __decorate$Y([
        n$3()
    ], WuiImage.prototype, "size", void 0);
    WuiImage = __decorate$Y([
        customElement('wui-image')
    ], WuiImage);

    var styles$D = i$6 `
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`;

    var __decorate$X = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiWalletImage = class WuiWalletImage extends i$3 {
        constructor() {
            super(...arguments);
            this.size = 'md';
            this.name = '';
            this.installed = false;
            this.badgeSize = 'xs';
        }
        render() {
            let borderRadius = 'xxs';
            if (this.size === 'lg') {
                borderRadius = 'm';
            }
            else if (this.size === 'md') {
                borderRadius = 'xs';
            }
            else {
                borderRadius = 'xxs';
            }
            this.style.cssText = `
       --local-border-radius: var(--wui-border-radius-${borderRadius});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `;
            if (this.walletIcon) {
                this.dataset['walletIcon'] = this.walletIcon;
            }
            return x$1 `
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `;
        }
        templateVisual() {
            if (this.imageSrc) {
                return x$1 `<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`;
            }
            else if (this.walletIcon) {
                return x$1 `<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`;
            }
            return x$1 `<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`;
        }
    };
    WuiWalletImage.styles = [elementStyles, resetStyles, styles$D];
    __decorate$X([
        n$3()
    ], WuiWalletImage.prototype, "size", void 0);
    __decorate$X([
        n$3()
    ], WuiWalletImage.prototype, "name", void 0);
    __decorate$X([
        n$3()
    ], WuiWalletImage.prototype, "imageSrc", void 0);
    __decorate$X([
        n$3()
    ], WuiWalletImage.prototype, "walletIcon", void 0);
    __decorate$X([
        n$3({ type: Boolean })
    ], WuiWalletImage.prototype, "installed", void 0);
    __decorate$X([
        n$3()
    ], WuiWalletImage.prototype, "badgeSize", void 0);
    WuiWalletImage = __decorate$X([
        customElement('wui-wallet-image')
    ], WuiWalletImage);

    var styles$C = i$6 `
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;

    var __decorate$W = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    const TOTAL_IMAGES = 4;
    let WuiAllWalletsImage = class WuiAllWalletsImage extends i$3 {
        constructor() {
            super(...arguments);
            this.walletImages = [];
        }
        render() {
            const isPlaceholders = this.walletImages.length < TOTAL_IMAGES;
            return x$1 `${this.walletImages
            .slice(0, TOTAL_IMAGES)
            .map(({ src, walletName }) => x$1 `
            <wui-wallet-image
              size="inherit"
              imageSrc=${src}
              name=${o$2(walletName)}
            ></wui-wallet-image>
          `)}
      ${isPlaceholders
            ? [...Array(TOTAL_IMAGES - this.walletImages.length)].map(() => x$1 ` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`)
            : null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`;
        }
    };
    WuiAllWalletsImage.styles = [resetStyles, styles$C];
    __decorate$W([
        n$3({ type: Array })
    ], WuiAllWalletsImage.prototype, "walletImages", void 0);
    WuiAllWalletsImage = __decorate$W([
        customElement('wui-all-wallets-image')
    ], WuiAllWalletsImage);

    var styles$B = i$6 `
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`;

    var __decorate$V = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiTag = class WuiTag extends i$3 {
        constructor() {
            super(...arguments);
            this.variant = 'main';
            this.size = 'lg';
        }
        render() {
            this.dataset['variant'] = this.variant;
            this.dataset['size'] = this.size;
            const textVariant = this.size === 'md' ? 'mini-700' : 'micro-700';
            return x$1 `
      <wui-text data-variant=${this.variant} variant=${textVariant} color="inherit">
        <slot></slot>
      </wui-text>
    `;
        }
    };
    WuiTag.styles = [resetStyles, styles$B];
    __decorate$V([
        n$3()
    ], WuiTag.prototype, "variant", void 0);
    __decorate$V([
        n$3()
    ], WuiTag.prototype, "size", void 0);
    WuiTag = __decorate$V([
        customElement('wui-tag')
    ], WuiTag);

    var styles$A = i$6 `
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`;

    var __decorate$U = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiListWallet = class WuiListWallet extends i$3 {
        constructor() {
            super(...arguments);
            this.walletImages = [];
            this.imageSrc = '';
            this.name = '';
            this.tabIdx = undefined;
            this.installed = false;
            this.disabled = false;
            this.showAllWallets = false;
            this.loading = false;
            this.loadingSpinnerColor = 'accent-100';
        }
        render() {
            return x$1 `
      <button ?disabled=${this.disabled} tabindex=${o$2(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `;
        }
        templateAllWallets() {
            if (this.showAllWallets && this.imageSrc) {
                return x$1 ` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `;
            }
            else if (this.showAllWallets && this.walletIcon) {
                return x$1 ` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `;
            }
            return null;
        }
        templateWalletImage() {
            if (!this.showAllWallets && this.imageSrc) {
                return x$1 `<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`;
            }
            else if (!this.showAllWallets && !this.imageSrc) {
                return x$1 `<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`;
            }
            return null;
        }
        templateStatus() {
            if (this.loading) {
                return x$1 `<wui-loading-spinner
        size="lg"
        color=${this.loadingSpinnerColor}
      ></wui-loading-spinner>`;
            }
            else if (this.tagLabel && this.tagVariant) {
                return x$1 `<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`;
            }
            else if (this.icon) {
                return x$1 `<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`;
            }
            return null;
        }
    };
    WuiListWallet.styles = [resetStyles, elementStyles, styles$A];
    __decorate$U([
        n$3({ type: Array })
    ], WuiListWallet.prototype, "walletImages", void 0);
    __decorate$U([
        n$3()
    ], WuiListWallet.prototype, "imageSrc", void 0);
    __decorate$U([
        n$3()
    ], WuiListWallet.prototype, "name", void 0);
    __decorate$U([
        n$3()
    ], WuiListWallet.prototype, "tagLabel", void 0);
    __decorate$U([
        n$3()
    ], WuiListWallet.prototype, "tagVariant", void 0);
    __decorate$U([
        n$3()
    ], WuiListWallet.prototype, "icon", void 0);
    __decorate$U([
        n$3()
    ], WuiListWallet.prototype, "walletIcon", void 0);
    __decorate$U([
        n$3()
    ], WuiListWallet.prototype, "tabIdx", void 0);
    __decorate$U([
        n$3({ type: Boolean })
    ], WuiListWallet.prototype, "installed", void 0);
    __decorate$U([
        n$3({ type: Boolean })
    ], WuiListWallet.prototype, "disabled", void 0);
    __decorate$U([
        n$3({ type: Boolean })
    ], WuiListWallet.prototype, "showAllWallets", void 0);
    __decorate$U([
        n$3({ type: Boolean })
    ], WuiListWallet.prototype, "loading", void 0);
    __decorate$U([
        n$3({ type: String })
    ], WuiListWallet.prototype, "loadingSpinnerColor", void 0);
    WuiListWallet = __decorate$U([
        customElement('wui-list-wallet')
    ], WuiListWallet);

    var __decorate$T = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mAllWalletsWidget = class W3mAllWalletsWidget extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.tabIdx = undefined;
            this.connectors = ConnectorController.state.connectors;
            this.count = ApiController.state.count;
            this.isFetchingRecommendedWallets = ApiController.state.isFetchingRecommendedWallets;
            this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => (this.connectors = val)), ApiController.subscribeKey('count', val => (this.count = val)), ApiController.subscribeKey('isFetchingRecommendedWallets', val => (this.isFetchingRecommendedWallets = val)));
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            const wcConnector = this.connectors.find(c => c.id === 'walletConnect');
            const { allWallets } = OptionsController.state;
            if (!wcConnector || allWallets === 'HIDE') {
                return null;
            }
            if (allWallets === 'ONLY_MOBILE' && !CoreHelperUtil.isMobile()) {
                return null;
            }
            const featuredCount = ApiController.state.featured.length;
            const rawCount = this.count + featuredCount;
            const roundedCount = rawCount < 10 ? rawCount : Math.floor(rawCount / 10) * 10;
            const tagLabel = roundedCount < rawCount ? `${roundedCount}+` : `${roundedCount}`;
            return x$1 `
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${tagLabel}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${o$2(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        loadingSpinnerColor=${this.isFetchingRecommendedWallets ? 'fg-300' : 'accent-100'}
      ></wui-list-wallet>
    `;
        }
        onAllWallets() {
            EventsController.sendEvent({ type: 'track', event: 'CLICK_ALL_WALLETS' });
            RouterController.push('AllWallets');
        }
    };
    __decorate$T([
        n$3()
    ], W3mAllWalletsWidget.prototype, "tabIdx", void 0);
    __decorate$T([
        r$1()
    ], W3mAllWalletsWidget.prototype, "connectors", void 0);
    __decorate$T([
        r$1()
    ], W3mAllWalletsWidget.prototype, "count", void 0);
    __decorate$T([
        r$1()
    ], W3mAllWalletsWidget.prototype, "isFetchingRecommendedWallets", void 0);
    W3mAllWalletsWidget = __decorate$T([
        customElement('w3m-all-wallets-widget')
    ], W3mAllWalletsWidget);

    var __decorate$S = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectAnnouncedWidget = class W3mConnectAnnouncedWidget extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.tabIdx = undefined;
            this.connectors = ConnectorController.state.connectors;
            this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => (this.connectors = val)));
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            const announcedConnectors = this.connectors.filter(connector => connector.type === 'ANNOUNCED');
            if (!announcedConnectors?.length) {
                this.style.cssText = `display: none`;
                return null;
            }
            return x$1 `
      <wui-flex flexDirection="column" gap="xs">
        ${announcedConnectors
            .filter(ConnectorUtil.showConnector)
            .map(connector => x$1 `
              <wui-list-wallet
                imageSrc=${o$2(AssetUtil.getConnectorImage(connector))}
                name=${connector.name ?? 'Unknown'}
                @click=${() => this.onConnector(connector)}
                tagVariant="success"
                tagLabel="installed"
                data-testid=${`wallet-selector-${connector.id}`}
                .installed=${true}
                tabIdx=${o$2(this.tabIdx)}
              >
              </wui-list-wallet>
            `)}
      </wui-flex>
    `;
        }
        onConnector(connector) {
            if (connector.id === 'walletConnect') {
                if (CoreHelperUtil.isMobile()) {
                    RouterController.push('AllWallets');
                }
                else {
                    RouterController.push('ConnectingWalletConnect');
                }
            }
            else {
                RouterController.push('ConnectingExternal', { connector });
            }
        }
    };
    __decorate$S([
        n$3()
    ], W3mConnectAnnouncedWidget.prototype, "tabIdx", void 0);
    __decorate$S([
        r$1()
    ], W3mConnectAnnouncedWidget.prototype, "connectors", void 0);
    W3mConnectAnnouncedWidget = __decorate$S([
        customElement('w3m-connect-announced-widget')
    ], W3mConnectAnnouncedWidget);

    var __decorate$R = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectCustomWidget = class W3mConnectCustomWidget extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.tabIdx = undefined;
            this.connectors = ConnectorController.state.connectors;
            this.loading = false;
            this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => (this.connectors = val)));
            if (CoreHelperUtil.isTelegram() && CoreHelperUtil.isIos()) {
                this.loading = !ConnectionController.state.wcUri;
                this.unsubscribe.push(ConnectionController.subscribeKey('wcUri', val => (this.loading = !val)));
            }
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            const { customWallets } = OptionsController.state;
            if (!customWallets?.length) {
                this.style.cssText = `display: none`;
                return null;
            }
            const wallets = this.filterOutDuplicateWallets(customWallets);
            return x$1 `<wui-flex flexDirection="column" gap="xs">
      ${wallets.map(wallet => x$1 `
          <wui-list-wallet
            imageSrc=${o$2(AssetUtil.getWalletImage(wallet))}
            name=${wallet.name ?? 'Unknown'}
            @click=${() => this.onConnectWallet(wallet)}
            data-testid=${`wallet-selector-${wallet.id}`}
            tabIdx=${o$2(this.tabIdx)}
            ?loading=${this.loading}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`;
        }
        filterOutDuplicateWallets(wallets) {
            const recent = StorageUtil.getRecentWallets();
            const connectorRDNSs = this.connectors
                .map(connector => connector.info?.rdns)
                .filter(Boolean);
            const recentRDNSs = recent.map(wallet => wallet.rdns).filter(Boolean);
            const allRDNSs = connectorRDNSs.concat(recentRDNSs);
            if (allRDNSs.includes('io.metamask.mobile') && CoreHelperUtil.isMobile()) {
                const index = allRDNSs.indexOf('io.metamask.mobile');
                allRDNSs[index] = 'io.metamask';
            }
            const filtered = wallets.filter(wallet => !allRDNSs.includes(String(wallet?.rdns)));
            return filtered;
        }
        onConnectWallet(wallet) {
            if (this.loading) {
                return;
            }
            RouterController.push('ConnectingWalletConnect', { wallet });
        }
    };
    __decorate$R([
        n$3()
    ], W3mConnectCustomWidget.prototype, "tabIdx", void 0);
    __decorate$R([
        r$1()
    ], W3mConnectCustomWidget.prototype, "connectors", void 0);
    __decorate$R([
        r$1()
    ], W3mConnectCustomWidget.prototype, "loading", void 0);
    W3mConnectCustomWidget = __decorate$R([
        customElement('w3m-connect-custom-widget')
    ], W3mConnectCustomWidget);

    var __decorate$Q = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectExternalWidget = class W3mConnectExternalWidget extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.tabIdx = undefined;
            this.connectors = ConnectorController.state.connectors;
            this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => (this.connectors = val)));
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            const externalConnectors = this.connectors.filter(connector => connector.type === 'EXTERNAL');
            const filteredOutExcludedConnectors = externalConnectors.filter(ConnectorUtil.showConnector);
            const filteredOutCoinbaseConnectors = filteredOutExcludedConnectors.filter(connector => connector.id !== ConstantsUtil$3.CONNECTOR_ID.COINBASE_SDK);
            if (!filteredOutCoinbaseConnectors?.length) {
                this.style.cssText = `display: none`;
                return null;
            }
            return x$1 `
      <wui-flex flexDirection="column" gap="xs">
        ${filteredOutCoinbaseConnectors.map(connector => x$1 `
            <wui-list-wallet
              imageSrc=${o$2(AssetUtil.getConnectorImage(connector))}
              .installed=${true}
              name=${connector.name ?? 'Unknown'}
              data-testid=${`wallet-selector-external-${connector.id}`}
              @click=${() => this.onConnector(connector)}
              tabIdx=${o$2(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `;
        }
        onConnector(connector) {
            RouterController.push('ConnectingExternal', { connector });
        }
    };
    __decorate$Q([
        n$3()
    ], W3mConnectExternalWidget.prototype, "tabIdx", void 0);
    __decorate$Q([
        r$1()
    ], W3mConnectExternalWidget.prototype, "connectors", void 0);
    W3mConnectExternalWidget = __decorate$Q([
        customElement('w3m-connect-external-widget')
    ], W3mConnectExternalWidget);

    var __decorate$P = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectFeaturedWidget = class W3mConnectFeaturedWidget extends i$3 {
        constructor() {
            super(...arguments);
            this.tabIdx = undefined;
            this.wallets = [];
        }
        render() {
            if (!this.wallets.length) {
                this.style.cssText = `display: none`;
                return null;
            }
            return x$1 `
      <wui-flex flexDirection="column" gap="xs">
        ${this.wallets.map(wallet => x$1 `
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${wallet.id}`}
              imageSrc=${o$2(AssetUtil.getWalletImage(wallet))}
              name=${wallet.name ?? 'Unknown'}
              @click=${() => this.onConnectWallet(wallet)}
              tabIdx=${o$2(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `;
        }
        onConnectWallet(wallet) {
            ConnectorController.selectWalletConnector(wallet);
        }
    };
    __decorate$P([
        n$3()
    ], W3mConnectFeaturedWidget.prototype, "tabIdx", void 0);
    __decorate$P([
        n$3()
    ], W3mConnectFeaturedWidget.prototype, "wallets", void 0);
    W3mConnectFeaturedWidget = __decorate$P([
        customElement('w3m-connect-featured-widget')
    ], W3mConnectFeaturedWidget);

    var __decorate$O = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectInjectedWidget = class W3mConnectInjectedWidget extends i$3 {
        constructor() {
            super(...arguments);
            this.tabIdx = undefined;
            this.connectors = [];
        }
        render() {
            const injectedConnectors = this.connectors;
            if (!injectedConnectors?.length ||
                (injectedConnectors.length === 1 &&
                    injectedConnectors[0]?.name === 'Browser Wallet' &&
                    !CoreHelperUtil.isMobile())) {
                this.style.cssText = `display: none`;
                return null;
            }
            return x$1 `
      <wui-flex flexDirection="column" gap="xs">
        ${injectedConnectors.map(connector => {
            const walletRDNS = connector.info?.rdns;
            if (!CoreHelperUtil.isMobile() && connector.name === 'Browser Wallet') {
                return null;
            }
            if (!walletRDNS && !ConnectionController.checkInstalled()) {
                this.style.cssText = `display: none`;
                return null;
            }
            if (!ConnectorUtil.showConnector(connector)) {
                return null;
            }
            return x$1 `
            <wui-list-wallet
              imageSrc=${o$2(AssetUtil.getConnectorImage(connector))}
              .installed=${true}
              name=${connector.name ?? 'Unknown'}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${connector.id}`}
              @click=${() => this.onConnector(connector)}
              tabIdx=${o$2(this.tabIdx)}
            >
            </wui-list-wallet>
          `;
        })}
      </wui-flex>
    `;
        }
        onConnector(connector) {
            ConnectorController.setActiveConnector(connector);
            RouterController.push('ConnectingExternal', { connector });
        }
    };
    __decorate$O([
        n$3()
    ], W3mConnectInjectedWidget.prototype, "tabIdx", void 0);
    __decorate$O([
        n$3()
    ], W3mConnectInjectedWidget.prototype, "connectors", void 0);
    W3mConnectInjectedWidget = __decorate$O([
        customElement('w3m-connect-injected-widget')
    ], W3mConnectInjectedWidget);

    var __decorate$N = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectMultiChainWidget = class W3mConnectMultiChainWidget extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.tabIdx = undefined;
            this.connectors = ConnectorController.state.connectors;
            this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => (this.connectors = val)));
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            const multiChainConnectors = this.connectors.filter(connector => connector.type === 'MULTI_CHAIN' && connector.name !== 'WalletConnect');
            if (!multiChainConnectors?.length) {
                this.style.cssText = `display: none`;
                return null;
            }
            return x$1 `
      <wui-flex flexDirection="column" gap="xs">
        ${multiChainConnectors.map(connector => x$1 `
            <wui-list-wallet
              imageSrc=${o$2(AssetUtil.getConnectorImage(connector))}
              .installed=${true}
              name=${connector.name ?? 'Unknown'}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${connector.id}`}
              @click=${() => this.onConnector(connector)}
              tabIdx=${o$2(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `;
        }
        onConnector(connector) {
            ConnectorController.setActiveConnector(connector);
            RouterController.push('ConnectingMultiChain');
        }
    };
    __decorate$N([
        n$3()
    ], W3mConnectMultiChainWidget.prototype, "tabIdx", void 0);
    __decorate$N([
        r$1()
    ], W3mConnectMultiChainWidget.prototype, "connectors", void 0);
    W3mConnectMultiChainWidget = __decorate$N([
        customElement('w3m-connect-multi-chain-widget')
    ], W3mConnectMultiChainWidget);

    var __decorate$M = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectRecentWidget = class W3mConnectRecentWidget extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.tabIdx = undefined;
            this.connectors = ConnectorController.state.connectors;
            this.loading = false;
            this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => (this.connectors = val)));
            if (CoreHelperUtil.isTelegram() && CoreHelperUtil.isIos()) {
                this.loading = !ConnectionController.state.wcUri;
                this.unsubscribe.push(ConnectionController.subscribeKey('wcUri', val => (this.loading = !val)));
            }
        }
        render() {
            const recentWallets = StorageUtil.getRecentWallets();
            const filteredRecentWallets = recentWallets
                .filter(wallet => !WalletUtil.isExcluded(wallet))
                .filter(wallet => !this.hasWalletConnector(wallet))
                .filter(wallet => this.isWalletCompatibleWithCurrentChain(wallet));
            if (!filteredRecentWallets.length) {
                this.style.cssText = `display: none`;
                return null;
            }
            return x$1 `
      <wui-flex flexDirection="column" gap="xs">
        ${filteredRecentWallets.map(wallet => x$1 `
            <wui-list-wallet
              imageSrc=${o$2(AssetUtil.getWalletImage(wallet))}
              name=${wallet.name ?? 'Unknown'}
              @click=${() => this.onConnectWallet(wallet)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${o$2(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `;
        }
        onConnectWallet(wallet) {
            if (this.loading) {
                return;
            }
            ConnectorController.selectWalletConnector(wallet);
        }
        hasWalletConnector(wallet) {
            return this.connectors.some(connector => connector.id === wallet.id || connector.name === wallet.name);
        }
        isWalletCompatibleWithCurrentChain(wallet) {
            const currentNamespace = ChainController.state.activeChain;
            if (currentNamespace && wallet.chains) {
                return wallet.chains.some(c => {
                    const chainNamespace = c.split(':')[0];
                    return currentNamespace === chainNamespace;
                });
            }
            return true;
        }
    };
    __decorate$M([
        n$3()
    ], W3mConnectRecentWidget.prototype, "tabIdx", void 0);
    __decorate$M([
        r$1()
    ], W3mConnectRecentWidget.prototype, "connectors", void 0);
    __decorate$M([
        r$1()
    ], W3mConnectRecentWidget.prototype, "loading", void 0);
    W3mConnectRecentWidget = __decorate$M([
        customElement('w3m-connect-recent-widget')
    ], W3mConnectRecentWidget);

    var __decorate$L = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectRecommendedWidget = class W3mConnectRecommendedWidget extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.tabIdx = undefined;
            this.wallets = [];
            this.loading = false;
            if (CoreHelperUtil.isTelegram() && CoreHelperUtil.isIos()) {
                this.loading = !ConnectionController.state.wcUri;
                this.unsubscribe.push(ConnectionController.subscribeKey('wcUri', val => (this.loading = !val)));
            }
        }
        render() {
            const { connectors } = ConnectorController.state;
            const { customWallets, featuredWalletIds } = OptionsController.state;
            const recentWallets = StorageUtil.getRecentWallets();
            const wcConnector = connectors.find(c => c.id === 'walletConnect');
            const injectedConnectors = connectors.filter(c => c.type === 'INJECTED' || c.type === 'ANNOUNCED' || c.type === 'MULTI_CHAIN');
            const injectedWallets = injectedConnectors.filter(i => i.name !== 'Browser Wallet');
            if (!wcConnector) {
                return null;
            }
            if (featuredWalletIds || customWallets || !this.wallets.length) {
                this.style.cssText = `display: none`;
                return null;
            }
            const overrideLength = injectedWallets.length + recentWallets.length;
            const maxRecommended = Math.max(0, 2 - overrideLength);
            const wallets = WalletUtil.filterOutDuplicateWallets(this.wallets).slice(0, maxRecommended);
            if (!wallets.length) {
                this.style.cssText = `display: none`;
                return null;
            }
            return x$1 `
      <wui-flex flexDirection="column" gap="xs">
        ${wallets.map(wallet => x$1 `
            <wui-list-wallet
              imageSrc=${o$2(AssetUtil.getWalletImage(wallet))}
              name=${wallet?.name ?? 'Unknown'}
              @click=${() => this.onConnectWallet(wallet)}
              tabIdx=${o$2(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `;
        }
        onConnectWallet(wallet) {
            if (this.loading) {
                return;
            }
            const connector = ConnectorController.getConnector(wallet.id, wallet.rdns);
            if (connector) {
                RouterController.push('ConnectingExternal', { connector });
            }
            else {
                RouterController.push('ConnectingWalletConnect', { wallet });
            }
        }
    };
    __decorate$L([
        n$3()
    ], W3mConnectRecommendedWidget.prototype, "tabIdx", void 0);
    __decorate$L([
        n$3()
    ], W3mConnectRecommendedWidget.prototype, "wallets", void 0);
    __decorate$L([
        r$1()
    ], W3mConnectRecommendedWidget.prototype, "loading", void 0);
    W3mConnectRecommendedWidget = __decorate$L([
        customElement('w3m-connect-recommended-widget')
    ], W3mConnectRecommendedWidget);

    var __decorate$K = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectWalletConnectWidget = class W3mConnectWalletConnectWidget extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.tabIdx = undefined;
            this.connectors = ConnectorController.state.connectors;
            this.connectorImages = AssetController.state.connectorImages;
            this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => (this.connectors = val)), AssetController.subscribeKey('connectorImages', val => (this.connectorImages = val)));
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            if (CoreHelperUtil.isMobile()) {
                this.style.cssText = `display: none`;
                return null;
            }
            const connector = this.connectors.find(c => c.id === 'walletConnect');
            if (!connector) {
                this.style.cssText = `display: none`;
                return null;
            }
            const connectorImage = connector.imageUrl || this.connectorImages[connector?.imageId ?? ''];
            return x$1 `
      <wui-list-wallet
        imageSrc=${o$2(connectorImage)}
        name=${connector.name ?? 'Unknown'}
        @click=${() => this.onConnector(connector)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${o$2(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `;
        }
        onConnector(connector) {
            ConnectorController.setActiveConnector(connector);
            RouterController.push('ConnectingWalletConnect');
        }
    };
    __decorate$K([
        n$3()
    ], W3mConnectWalletConnectWidget.prototype, "tabIdx", void 0);
    __decorate$K([
        r$1()
    ], W3mConnectWalletConnectWidget.prototype, "connectors", void 0);
    __decorate$K([
        r$1()
    ], W3mConnectWalletConnectWidget.prototype, "connectorImages", void 0);
    W3mConnectWalletConnectWidget = __decorate$K([
        customElement('w3m-connect-walletconnect-widget')
    ], W3mConnectWalletConnectWidget);

    var styles$z = i$6 `
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;

    var __decorate$J = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectorList = class W3mConnectorList extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.tabIdx = undefined;
            this.connectors = ConnectorController.state.connectors;
            this.recommended = ApiController.state.recommended;
            this.featured = ApiController.state.featured;
            this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => (this.connectors = val)), ApiController.subscribeKey('recommended', val => (this.recommended = val)), ApiController.subscribeKey('featured', val => (this.featured = val)));
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            return x$1 `
      <wui-flex flexDirection="column" gap="xs"> ${this.connectorListTemplate()} </wui-flex>
    `;
        }
        connectorListTemplate() {
            const { custom, recent, announced, injected, multiChain, recommended, featured, external } = ConnectorUtil.getConnectorsByType(this.connectors, this.recommended, this.featured);
            const connectorTypeOrder = ConnectorUtil.getConnectorTypeOrder({
                custom,
                recent,
                announced,
                injected,
                multiChain,
                recommended,
                featured,
                external
            });
            return connectorTypeOrder.map(type => {
                switch (type) {
                    case 'injected':
                        return x$1 `
            ${multiChain.length
                        ? x$1 `<w3m-connect-multi-chain-widget
                  tabIdx=${o$2(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`
                        : null}
            ${announced.length
                        ? x$1 `<w3m-connect-announced-widget
                  tabIdx=${o$2(this.tabIdx)}
                ></w3m-connect-announced-widget>`
                        : null}
            ${injected.length
                        ? x$1 `<w3m-connect-injected-widget
                  .connectors=${injected}
                  tabIdx=${o$2(this.tabIdx)}
                ></w3m-connect-injected-widget>`
                        : null}
          `;
                    case 'walletConnect':
                        return x$1 `<w3m-connect-walletconnect-widget
            tabIdx=${o$2(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;
                    case 'recent':
                        return x$1 `<w3m-connect-recent-widget
            tabIdx=${o$2(this.tabIdx)}
          ></w3m-connect-recent-widget>`;
                    case 'featured':
                        return x$1 `<w3m-connect-featured-widget
            .wallets=${featured}
            tabIdx=${o$2(this.tabIdx)}
          ></w3m-connect-featured-widget>`;
                    case 'custom':
                        return x$1 `<w3m-connect-custom-widget
            tabIdx=${o$2(this.tabIdx)}
          ></w3m-connect-custom-widget>`;
                    case 'external':
                        return x$1 `<w3m-connect-external-widget
            tabIdx=${o$2(this.tabIdx)}
          ></w3m-connect-external-widget>`;
                    case 'recommended':
                        return x$1 `<w3m-connect-recommended-widget
            .wallets=${recommended}
            tabIdx=${o$2(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;
                    default:
                        console.warn(`Unknown connector type: ${type}`);
                        return null;
                }
            });
        }
    };
    W3mConnectorList.styles = styles$z;
    __decorate$J([
        n$3()
    ], W3mConnectorList.prototype, "tabIdx", void 0);
    __decorate$J([
        r$1()
    ], W3mConnectorList.prototype, "connectors", void 0);
    __decorate$J([
        r$1()
    ], W3mConnectorList.prototype, "recommended", void 0);
    __decorate$J([
        r$1()
    ], W3mConnectorList.prototype, "featured", void 0);
    W3mConnectorList = __decorate$J([
        customElement('w3m-connector-list')
    ], W3mConnectorList);

    var styles$y = i$6 `
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;

    var __decorate$I = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiTabs = class WuiTabs extends i$3 {
        constructor() {
            super(...arguments);
            this.tabs = [];
            this.onTabChange = () => null;
            this.buttons = [];
            this.disabled = false;
            this.localTabWidth = '100px';
            this.activeTab = 0;
            this.isDense = false;
        }
        render() {
            this.isDense = this.tabs.length > 3;
            this.style.cssText = `
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `;
            this.dataset['type'] = this.isDense ? 'flex' : 'block';
            return this.tabs.map((tab, index) => {
                const isActive = index === this.activeTab;
                return x$1 `
        <button
          ?disabled=${this.disabled}
          @click=${() => this.onTabClick(index)}
          data-active=${isActive}
          data-testid="tab-${tab.label?.toLowerCase()}"
        >
          ${this.iconTemplate(tab)}
          <wui-text variant="small-600" color="inherit"> ${tab.label} </wui-text>
        </button>
      `;
            });
        }
        firstUpdated() {
            if (this.shadowRoot && this.isDense) {
                this.buttons = [...this.shadowRoot.querySelectorAll('button')];
                setTimeout(() => {
                    this.animateTabs(0, true);
                }, 0);
            }
        }
        iconTemplate(tab) {
            if (tab.icon) {
                return x$1 `<wui-icon size="xs" color="inherit" name=${tab.icon}></wui-icon>`;
            }
            return null;
        }
        onTabClick(index) {
            if (this.buttons) {
                this.animateTabs(index, false);
            }
            this.activeTab = index;
            this.onTabChange(index);
        }
        animateTabs(index, initialAnimation) {
            const passiveBtn = this.buttons[this.activeTab];
            const activeBtn = this.buttons[index];
            const passiveBtnText = passiveBtn?.querySelector('wui-text');
            const activeBtnText = activeBtn?.querySelector('wui-text');
            const activeBtnBounds = activeBtn?.getBoundingClientRect();
            const activeBtnTextBounds = activeBtnText?.getBoundingClientRect();
            if (passiveBtn && passiveBtnText && !initialAnimation && index !== this.activeTab) {
                passiveBtnText.animate([{ opacity: 0 }], {
                    duration: 50,
                    easing: 'ease',
                    fill: 'forwards'
                });
                passiveBtn.animate([{ width: `34px` }], {
                    duration: 500,
                    easing: 'ease',
                    fill: 'forwards'
                });
            }
            if (activeBtn && activeBtnBounds && activeBtnTextBounds && activeBtnText) {
                if (index !== this.activeTab || initialAnimation) {
                    this.localTabWidth = `${Math.round(activeBtnBounds.width + activeBtnTextBounds.width) + 6}px`;
                    activeBtn.animate([{ width: `${activeBtnBounds.width + activeBtnTextBounds.width}px` }], {
                        duration: initialAnimation ? 0 : 500,
                        fill: 'forwards',
                        easing: 'ease'
                    });
                    activeBtnText.animate([{ opacity: 1 }], {
                        duration: initialAnimation ? 0 : 125,
                        delay: initialAnimation ? 0 : 200,
                        fill: 'forwards',
                        easing: 'ease'
                    });
                }
            }
        }
    };
    WuiTabs.styles = [resetStyles, elementStyles, styles$y];
    __decorate$I([
        n$3({ type: Array })
    ], WuiTabs.prototype, "tabs", void 0);
    __decorate$I([
        n$3()
    ], WuiTabs.prototype, "onTabChange", void 0);
    __decorate$I([
        n$3({ type: Array })
    ], WuiTabs.prototype, "buttons", void 0);
    __decorate$I([
        n$3({ type: Boolean })
    ], WuiTabs.prototype, "disabled", void 0);
    __decorate$I([
        n$3()
    ], WuiTabs.prototype, "localTabWidth", void 0);
    __decorate$I([
        r$1()
    ], WuiTabs.prototype, "activeTab", void 0);
    __decorate$I([
        r$1()
    ], WuiTabs.prototype, "isDense", void 0);
    WuiTabs = __decorate$I([
        customElement('wui-tabs')
    ], WuiTabs);

    var __decorate$H = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectingHeader = class W3mConnectingHeader extends i$3 {
        constructor() {
            super();
            this.platformTabs = [];
            this.unsubscribe = [];
            this.platforms = [];
            this.onSelectPlatfrom = undefined;
            this.buffering = false;
            this.unsubscribe.push(ConnectionController.subscribeKey('buffering', val => (this.buffering = val)));
        }
        disconnectCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            const tabs = this.generateTabs();
            return x$1 `
      <wui-flex justifyContent="center" .padding=${['0', '0', 'l', '0']}>
        <wui-tabs
          ?disabled=${this.buffering}
          .tabs=${tabs}
          .onTabChange=${this.onTabChange.bind(this)}
        ></wui-tabs>
      </wui-flex>
    `;
        }
        generateTabs() {
            const tabs = this.platforms.map(platform => {
                if (platform === 'browser') {
                    return { label: 'Browser', icon: 'extension', platform: 'browser' };
                }
                else if (platform === 'mobile') {
                    return { label: 'Mobile', icon: 'mobile', platform: 'mobile' };
                }
                else if (platform === 'qrcode') {
                    return { label: 'Mobile', icon: 'mobile', platform: 'qrcode' };
                }
                else if (platform === 'web') {
                    return { label: 'Webapp', icon: 'browser', platform: 'web' };
                }
                else if (platform === 'desktop') {
                    return { label: 'Desktop', icon: 'desktop', platform: 'desktop' };
                }
                return { label: 'Browser', icon: 'extension', platform: 'unsupported' };
            });
            this.platformTabs = tabs.map(({ platform }) => platform);
            return tabs;
        }
        onTabChange(index) {
            const tab = this.platformTabs[index];
            if (tab) {
                this.onSelectPlatfrom?.(tab);
            }
        }
    };
    __decorate$H([
        n$3({ type: Array })
    ], W3mConnectingHeader.prototype, "platforms", void 0);
    __decorate$H([
        n$3()
    ], W3mConnectingHeader.prototype, "onSelectPlatfrom", void 0);
    __decorate$H([
        r$1()
    ], W3mConnectingHeader.prototype, "buffering", void 0);
    W3mConnectingHeader = __decorate$H([
        customElement('w3m-connecting-header')
    ], W3mConnectingHeader);

    var styles$x = i$6 `
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;

    var __decorate$G = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiLoadingSpinner = class WuiLoadingSpinner extends i$3 {
        constructor() {
            super(...arguments);
            this.color = 'accent-100';
            this.size = 'lg';
        }
        render() {
            this.style.cssText = `--local-color: ${this.color === 'inherit' ? 'inherit' : `var(--wui-color-${this.color})`}`;
            this.dataset['size'] = this.size;
            return x$1 `<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`;
        }
    };
    WuiLoadingSpinner.styles = [resetStyles, styles$x];
    __decorate$G([
        n$3()
    ], WuiLoadingSpinner.prototype, "color", void 0);
    __decorate$G([
        n$3()
    ], WuiLoadingSpinner.prototype, "size", void 0);
    WuiLoadingSpinner = __decorate$G([
        customElement('wui-loading-spinner')
    ], WuiLoadingSpinner);

    var styles$w = i$6 `
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;

    var __decorate$F = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    const SPINNER_COLOR_BY_VARIANT = {
        main: 'inverse-100',
        inverse: 'inverse-000',
        accent: 'accent-100',
        'accent-error': 'error-100',
        'accent-success': 'success-100',
        neutral: 'fg-100',
        disabled: 'gray-glass-020'
    };
    const TEXT_VARIANT_BY_SIZE = {
        lg: 'paragraph-600',
        md: 'small-600'
    };
    const SPINNER_SIZE_BY_SIZE = {
        lg: 'md',
        md: 'md'
    };
    let WuiButton = class WuiButton extends i$3 {
        constructor() {
            super(...arguments);
            this.size = 'lg';
            this.disabled = false;
            this.fullWidth = false;
            this.loading = false;
            this.variant = 'main';
            this.hasIconLeft = false;
            this.hasIconRight = false;
            this.borderRadius = 'm';
        }
        render() {
            this.style.cssText = `
    --local-width: ${this.fullWidth ? '100%' : 'auto'};
    --local-opacity-100: ${this.loading ? 0 : 1};
    --local-opacity-000: ${this.loading ? 1 : 0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;
            const textVariant = this.textVariant ?? TEXT_VARIANT_BY_SIZE[this.size];
            return x$1 `
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${() => this.handleSlotLeftChange()}></slot>
        <wui-text variant=${textVariant} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${() => this.handleSlotRightChange()}></slot>
      </button>
    `;
        }
        handleSlotLeftChange() {
            this.hasIconLeft = true;
        }
        handleSlotRightChange() {
            this.hasIconRight = true;
        }
        loadingTemplate() {
            if (this.loading) {
                const size = SPINNER_SIZE_BY_SIZE[this.size];
                const color = this.disabled
                    ? SPINNER_COLOR_BY_VARIANT['disabled']
                    : SPINNER_COLOR_BY_VARIANT[this.variant];
                return x$1 `<wui-loading-spinner color=${color} size=${size}></wui-loading-spinner>`;
            }
            return x$1 ``;
        }
    };
    WuiButton.styles = [resetStyles, elementStyles, styles$w];
    __decorate$F([
        n$3()
    ], WuiButton.prototype, "size", void 0);
    __decorate$F([
        n$3({ type: Boolean })
    ], WuiButton.prototype, "disabled", void 0);
    __decorate$F([
        n$3({ type: Boolean })
    ], WuiButton.prototype, "fullWidth", void 0);
    __decorate$F([
        n$3({ type: Boolean })
    ], WuiButton.prototype, "loading", void 0);
    __decorate$F([
        n$3()
    ], WuiButton.prototype, "variant", void 0);
    __decorate$F([
        n$3({ type: Boolean })
    ], WuiButton.prototype, "hasIconLeft", void 0);
    __decorate$F([
        n$3({ type: Boolean })
    ], WuiButton.prototype, "hasIconRight", void 0);
    __decorate$F([
        n$3()
    ], WuiButton.prototype, "borderRadius", void 0);
    __decorate$F([
        n$3()
    ], WuiButton.prototype, "textVariant", void 0);
    WuiButton = __decorate$F([
        customElement('wui-button')
    ], WuiButton);

    var styles$v = i$6 `
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`;

    var __decorate$E = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiLink = class WuiLink extends i$3 {
        constructor() {
            super(...arguments);
            this.tabIdx = undefined;
            this.disabled = false;
            this.color = 'inherit';
        }
        render() {
            return x$1 `
      <button ?disabled=${this.disabled} tabindex=${o$2(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `;
        }
    };
    WuiLink.styles = [resetStyles, elementStyles, styles$v];
    __decorate$E([
        n$3()
    ], WuiLink.prototype, "tabIdx", void 0);
    __decorate$E([
        n$3({ type: Boolean })
    ], WuiLink.prototype, "disabled", void 0);
    __decorate$E([
        n$3()
    ], WuiLink.prototype, "color", void 0);
    WuiLink = __decorate$E([
        customElement('wui-link')
    ], WuiLink);

    var styles$u = i$6 `
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;

    var __decorate$D = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiLoadingThumbnail = class WuiLoadingThumbnail extends i$3 {
        constructor() {
            super(...arguments);
            this.radius = 36;
        }
        render() {
            return this.svgLoaderTemplate();
        }
        svgLoaderTemplate() {
            const radius = this.radius > 50 ? 50 : this.radius;
            const standardValue = 36;
            const radiusFactor = standardValue - radius;
            const dashArrayStart = 116 + radiusFactor;
            const dashArrayEnd = 245 + radiusFactor;
            const dashOffset = 360 + radiusFactor * 1.75;
            return x$1 `
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${radius}
          stroke-dasharray="${dashArrayStart} ${dashArrayEnd}"
          stroke-dashoffset=${dashOffset}
        />
      </svg>
    `;
        }
    };
    WuiLoadingThumbnail.styles = [resetStyles, styles$u];
    __decorate$D([
        n$3({ type: Number })
    ], WuiLoadingThumbnail.prototype, "radius", void 0);
    WuiLoadingThumbnail = __decorate$D([
        customElement('wui-loading-thumbnail')
    ], WuiLoadingThumbnail);

    var styles$t = i$6 `
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`;

    var __decorate$C = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiChipButton = class WuiChipButton extends i$3 {
        constructor() {
            super(...arguments);
            this.variant = 'accent';
            this.imageSrc = '';
            this.disabled = false;
            this.icon = 'externalLink';
            this.size = 'md';
            this.text = '';
        }
        render() {
            const textVariant = this.size === 'sm' ? 'small-600' : 'paragraph-600';
            return x$1 `
      <button
        class=${this.disabled ? 'disabled' : ''}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc ? x$1 `<wui-image src=${this.imageSrc}></wui-image>` : null}
        <wui-text variant=${textVariant} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `;
        }
    };
    WuiChipButton.styles = [resetStyles, elementStyles, styles$t];
    __decorate$C([
        n$3()
    ], WuiChipButton.prototype, "variant", void 0);
    __decorate$C([
        n$3()
    ], WuiChipButton.prototype, "imageSrc", void 0);
    __decorate$C([
        n$3({ type: Boolean })
    ], WuiChipButton.prototype, "disabled", void 0);
    __decorate$C([
        n$3()
    ], WuiChipButton.prototype, "icon", void 0);
    __decorate$C([
        n$3()
    ], WuiChipButton.prototype, "size", void 0);
    __decorate$C([
        n$3()
    ], WuiChipButton.prototype, "text", void 0);
    WuiChipButton = __decorate$C([
        customElement('wui-chip-button')
    ], WuiChipButton);

    var styles$s = i$6 `
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;

    var __decorate$B = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiCtaButton = class WuiCtaButton extends i$3 {
        constructor() {
            super(...arguments);
            this.disabled = false;
            this.label = '';
            this.buttonLabel = '';
        }
        render() {
            return x$1 `
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${['1xs', '2l', '1xs', '2l']}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `;
        }
    };
    WuiCtaButton.styles = [resetStyles, elementStyles, styles$s];
    __decorate$B([
        n$3({ type: Boolean })
    ], WuiCtaButton.prototype, "disabled", void 0);
    __decorate$B([
        n$3()
    ], WuiCtaButton.prototype, "label", void 0);
    __decorate$B([
        n$3()
    ], WuiCtaButton.prototype, "buttonLabel", void 0);
    WuiCtaButton = __decorate$B([
        customElement('wui-cta-button')
    ], WuiCtaButton);

    var styles$r = i$6 `
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;

    var __decorate$A = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mMobileDownloadLinks = class W3mMobileDownloadLinks extends i$3 {
        constructor() {
            super(...arguments);
            this.wallet = undefined;
        }
        render() {
            if (!this.wallet) {
                this.style.display = 'none';
                return null;
            }
            const { name, app_store, play_store, chrome_store, homepage } = this.wallet;
            const isMobile = CoreHelperUtil.isMobile();
            const isIos = CoreHelperUtil.isIos();
            const isAndroid = CoreHelperUtil.isAndroid();
            const isMultiple = [app_store, play_store, homepage, chrome_store].filter(Boolean).length > 1;
            const shortName = UiHelperUtil.getTruncateString({
                string: name,
                charsStart: 12,
                charsEnd: 0,
                truncate: 'end'
            });
            if (isMultiple && !isMobile) {
                return x$1 `
        <wui-cta-button
          label=${`Don't have ${shortName}?`}
          buttonLabel="Get"
          @click=${() => RouterController.push('Downloads', { wallet: this.wallet })}
        ></wui-cta-button>
      `;
            }
            if (!isMultiple && homepage) {
                return x$1 `
        <wui-cta-button
          label=${`Don't have ${shortName}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `;
            }
            if (app_store && isIos) {
                return x$1 `
        <wui-cta-button
          label=${`Don't have ${shortName}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `;
            }
            if (play_store && isAndroid) {
                return x$1 `
        <wui-cta-button
          label=${`Don't have ${shortName}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `;
            }
            this.style.display = 'none';
            return null;
        }
        onAppStore() {
            if (this.wallet?.app_store) {
                CoreHelperUtil.openHref(this.wallet.app_store, '_blank');
            }
        }
        onPlayStore() {
            if (this.wallet?.play_store) {
                CoreHelperUtil.openHref(this.wallet.play_store, '_blank');
            }
        }
        onHomePage() {
            if (this.wallet?.homepage) {
                CoreHelperUtil.openHref(this.wallet.homepage, '_blank');
            }
        }
    };
    W3mMobileDownloadLinks.styles = [styles$r];
    __decorate$A([
        n$3({ type: Object })
    ], W3mMobileDownloadLinks.prototype, "wallet", void 0);
    W3mMobileDownloadLinks = __decorate$A([
        customElement('w3m-mobile-download-links')
    ], W3mMobileDownloadLinks);

    var styles$q = i$6 `
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;

    var __decorate$z = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    class W3mConnectingWidget extends i$3 {
        constructor() {
            super();
            this.wallet = RouterController.state.data?.wallet;
            this.connector = RouterController.state.data?.connector;
            this.timeout = undefined;
            this.secondaryBtnIcon = 'refresh';
            this.onConnect = undefined;
            this.onRender = undefined;
            this.onAutoConnect = undefined;
            this.isWalletConnect = true;
            this.unsubscribe = [];
            this.imageSrc = AssetUtil.getWalletImage(this.wallet) ?? AssetUtil.getConnectorImage(this.connector);
            this.name = this.wallet?.name ?? this.connector?.name ?? 'Wallet';
            this.isRetrying = false;
            this.uri = ConnectionController.state.wcUri;
            this.error = ConnectionController.state.wcError;
            this.ready = false;
            this.showRetry = false;
            this.secondaryBtnLabel = 'Try again';
            this.secondaryLabel = 'Accept connection request in the wallet';
            this.buffering = false;
            this.isLoading = false;
            this.isMobile = false;
            this.onRetry = undefined;
            this.unsubscribe.push(...[
                ConnectionController.subscribeKey('wcUri', val => {
                    this.uri = val;
                    if (this.isRetrying && this.onRetry) {
                        this.isRetrying = false;
                        this.onConnect?.();
                    }
                }),
                ConnectionController.subscribeKey('wcError', val => (this.error = val)),
                ConnectionController.subscribeKey('buffering', val => (this.buffering = val))
            ]);
            if ((CoreHelperUtil.isTelegram() || CoreHelperUtil.isSafari()) &&
                CoreHelperUtil.isIos() &&
                ConnectionController.state.wcUri) {
                this.onConnect?.();
            }
        }
        firstUpdated() {
            this.onAutoConnect?.();
            this.showRetry = !this.onAutoConnect;
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
            clearTimeout(this.timeout);
        }
        render() {
            this.onRender?.();
            this.onShowRetry();
            const subLabel = this.error
                ? 'Connection can be declined if a previous request is still active'
                : this.secondaryLabel;
            let label = `Continue in ${this.name}`;
            if (this.buffering) {
                label = 'Connecting...';
            }
            if (this.error) {
                label = 'Connection declined';
            }
            return x$1 `
      <wui-flex
        data-error=${o$2(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${['3xl', 'xl', 'xl', 'xl']}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${o$2(this.imageSrc)}></wui-wallet-image>

          ${this.error ? null : this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error ? 'error-100' : 'fg-100'}>
            ${label}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${subLabel}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel
            ? x$1 `
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying || (!this.error && this.buffering) || this.isLoading}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `
            : null}
      </wui-flex>

      ${this.isWalletConnect
            ? x$1 `
            <wui-flex .padding=${['0', 'xl', 'xl', 'xl']} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `
            : null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `;
        }
        onShowRetry() {
            if (this.error && !this.showRetry) {
                this.showRetry = true;
                const retryButton = this.shadowRoot?.querySelector('wui-button');
                retryButton?.animate([{ opacity: 0 }, { opacity: 1 }], {
                    fill: 'forwards',
                    easing: 'ease'
                });
            }
        }
        onTryAgain() {
            if (!this.buffering) {
                ConnectionController.setWcError(false);
                if (this.onRetry) {
                    this.isRetrying = true;
                    this.onRetry?.();
                }
                else {
                    this.onConnect?.();
                }
            }
        }
        loaderTemplate() {
            const borderRadiusMaster = ThemeController.state.themeVariables['--w3m-border-radius-master'];
            const radius = borderRadiusMaster ? parseInt(borderRadiusMaster.replace('px', ''), 10) : 4;
            return x$1 `<wui-loading-thumbnail radius=${radius * 9}></wui-loading-thumbnail>`;
        }
        onCopyUri() {
            try {
                if (this.uri) {
                    CoreHelperUtil.copyToClopboard(this.uri);
                    SnackController.showSuccess('Link copied');
                }
            }
            catch {
                SnackController.showError('Failed to copy');
            }
        }
    }
    W3mConnectingWidget.styles = styles$q;
    __decorate$z([
        r$1()
    ], W3mConnectingWidget.prototype, "isRetrying", void 0);
    __decorate$z([
        r$1()
    ], W3mConnectingWidget.prototype, "uri", void 0);
    __decorate$z([
        r$1()
    ], W3mConnectingWidget.prototype, "error", void 0);
    __decorate$z([
        r$1()
    ], W3mConnectingWidget.prototype, "ready", void 0);
    __decorate$z([
        r$1()
    ], W3mConnectingWidget.prototype, "showRetry", void 0);
    __decorate$z([
        r$1()
    ], W3mConnectingWidget.prototype, "secondaryBtnLabel", void 0);
    __decorate$z([
        r$1()
    ], W3mConnectingWidget.prototype, "secondaryLabel", void 0);
    __decorate$z([
        r$1()
    ], W3mConnectingWidget.prototype, "buffering", void 0);
    __decorate$z([
        r$1()
    ], W3mConnectingWidget.prototype, "isLoading", void 0);
    __decorate$z([
        n$3({ type: Boolean })
    ], W3mConnectingWidget.prototype, "isMobile", void 0);
    __decorate$z([
        n$3()
    ], W3mConnectingWidget.prototype, "onRetry", void 0);

    var __decorate$y = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectingWcBrowser = class W3mConnectingWcBrowser extends W3mConnectingWidget {
        constructor() {
            super();
            if (!this.wallet) {
                throw new Error('w3m-connecting-wc-browser: No wallet provided');
            }
            this.onConnect = this.onConnectProxy.bind(this);
            this.onAutoConnect = this.onConnectProxy.bind(this);
            EventsController.sendEvent({
                type: 'track',
                event: 'SELECT_WALLET',
                properties: { name: this.wallet.name, platform: 'browser' }
            });
        }
        async onConnectProxy() {
            try {
                this.error = false;
                const { connectors } = ConnectorController.state;
                const connector = connectors.find(c => (c.type === 'ANNOUNCED' && c.info?.rdns === this.wallet?.rdns) ||
                    c.type === 'INJECTED' ||
                    c.name === this.wallet?.name);
                if (connector) {
                    await ConnectionController.connectExternal(connector, connector.chain);
                }
                else {
                    throw new Error('w3m-connecting-wc-browser: No connector found');
                }
                ModalController.close();
                EventsController.sendEvent({
                    type: 'track',
                    event: 'CONNECT_SUCCESS',
                    properties: { method: 'browser', name: this.wallet?.name || 'Unknown' }
                });
            }
            catch (error) {
                EventsController.sendEvent({
                    type: 'track',
                    event: 'CONNECT_ERROR',
                    properties: { message: error?.message ?? 'Unknown' }
                });
                this.error = true;
            }
        }
    };
    W3mConnectingWcBrowser = __decorate$y([
        customElement('w3m-connecting-wc-browser')
    ], W3mConnectingWcBrowser);

    var __decorate$x = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectingWcDesktop = class W3mConnectingWcDesktop extends W3mConnectingWidget {
        constructor() {
            super();
            if (!this.wallet) {
                throw new Error('w3m-connecting-wc-desktop: No wallet provided');
            }
            this.onConnect = this.onConnectProxy.bind(this);
            this.onRender = this.onRenderProxy.bind(this);
            EventsController.sendEvent({
                type: 'track',
                event: 'SELECT_WALLET',
                properties: { name: this.wallet.name, platform: 'desktop' }
            });
        }
        onRenderProxy() {
            if (!this.ready && this.uri) {
                this.ready = true;
                this.onConnect?.();
            }
        }
        onConnectProxy() {
            if (this.wallet?.desktop_link && this.uri) {
                try {
                    this.error = false;
                    const { desktop_link, name } = this.wallet;
                    const { redirect, href } = CoreHelperUtil.formatNativeUrl(desktop_link, this.uri);
                    ConnectionController.setWcLinking({ name, href });
                    ConnectionController.setRecentWallet(this.wallet);
                    CoreHelperUtil.openHref(redirect, '_blank');
                }
                catch {
                    this.error = true;
                }
            }
        }
    };
    W3mConnectingWcDesktop = __decorate$x([
        customElement('w3m-connecting-wc-desktop')
    ], W3mConnectingWcDesktop);

    var __decorate$w = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectingWcMobile = class W3mConnectingWcMobile extends W3mConnectingWidget {
        constructor() {
            super();
            this.btnLabelTimeout = undefined;
            this.labelTimeout = undefined;
            this.onRender = () => {
                if (!this.ready && this.uri) {
                    this.ready = true;
                    this.onConnect?.();
                }
            };
            this.onConnect = () => {
                if (this.wallet?.mobile_link && this.uri) {
                    try {
                        this.error = false;
                        const { mobile_link, name } = this.wallet;
                        const { redirect, href } = CoreHelperUtil.formatNativeUrl(mobile_link, this.uri);
                        ConnectionController.setWcLinking({ name, href });
                        ConnectionController.setRecentWallet(this.wallet);
                        const target = CoreHelperUtil.isIframe() ? '_top' : '_self';
                        CoreHelperUtil.openHref(redirect, target);
                        clearTimeout(this.labelTimeout);
                        this.secondaryLabel = ConstantsUtil$2.CONNECT_LABELS.MOBILE;
                    }
                    catch (e) {
                        EventsController.sendEvent({
                            type: 'track',
                            event: 'CONNECT_PROXY_ERROR',
                            properties: {
                                message: e instanceof Error ? e.message : 'Error parsing the deeplink',
                                uri: this.uri,
                                mobile_link: this.wallet.mobile_link,
                                name: this.wallet.name
                            }
                        });
                        this.error = true;
                    }
                }
            };
            if (!this.wallet) {
                throw new Error('w3m-connecting-wc-mobile: No wallet provided');
            }
            this.initializeStateAndTimers();
            document.addEventListener('visibilitychange', this.onBuffering.bind(this));
            EventsController.sendEvent({
                type: 'track',
                event: 'SELECT_WALLET',
                properties: { name: this.wallet.name, platform: 'mobile' }
            });
        }
        disconnectedCallback() {
            super.disconnectedCallback();
            document.removeEventListener('visibilitychange', this.onBuffering.bind(this));
            clearTimeout(this.btnLabelTimeout);
            clearTimeout(this.labelTimeout);
        }
        initializeStateAndTimers() {
            this.secondaryBtnLabel = undefined;
            this.secondaryLabel = ConstantsUtil$2.CONNECT_LABELS.MOBILE;
            this.btnLabelTimeout = setTimeout(() => {
                this.secondaryBtnLabel = 'Try again';
                this.secondaryLabel = ConstantsUtil$2.CONNECT_LABELS.MOBILE;
            }, ConstantsUtil$2.FIVE_SEC_MS);
            this.labelTimeout = setTimeout(() => {
                this.secondaryLabel = `Hold tight... it's taking longer than expected`;
            }, ConstantsUtil$2.THREE_SEC_MS);
        }
        onBuffering() {
            const isIos = CoreHelperUtil.isIos();
            if (document?.visibilityState === 'visible' && !this.error && isIos) {
                ConnectionController.setBuffering(true);
                setTimeout(() => {
                    ConnectionController.setBuffering(false);
                }, 5000);
            }
        }
        onTryAgain() {
            if (!this.buffering) {
                clearTimeout(this.btnLabelTimeout);
                clearTimeout(this.labelTimeout);
                this.initializeStateAndTimers();
                ConnectionController.setWcError(false);
                this.onConnect();
            }
        }
    };
    W3mConnectingWcMobile = __decorate$w([
        customElement('w3m-connecting-wc-mobile')
    ], W3mConnectingWcMobile);

    var server = {};

    var canPromise;
    var hasRequiredCanPromise;

    function requireCanPromise () {
    	if (hasRequiredCanPromise) return canPromise;
    	hasRequiredCanPromise = 1;
    	// can-promise has a crash in some versions of react native that dont have
    	// standard global objects
    	// https://github.com/soldair/node-qrcode/issues/157

    	canPromise = function () {
    	  return typeof Promise === 'function' && Promise.prototype && Promise.prototype.then
    	};
    	return canPromise;
    }

    var qrcode = {};

    var utils$1 = {};

    var hasRequiredUtils$1;

    function requireUtils$1 () {
    	if (hasRequiredUtils$1) return utils$1;
    	hasRequiredUtils$1 = 1;
    	let toSJISFunction;
    	const CODEWORDS_COUNT = [
    	  0, // Not used
    	  26, 44, 70, 100, 134, 172, 196, 242, 292, 346,
    	  404, 466, 532, 581, 655, 733, 815, 901, 991, 1085,
    	  1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185,
    	  2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706
    	];

    	/**
    	 * Returns the QR Code size for the specified version
    	 *
    	 * @param  {Number} version QR Code version
    	 * @return {Number}         size of QR code
    	 */
    	utils$1.getSymbolSize = function getSymbolSize (version) {
    	  if (!version) throw new Error('"version" cannot be null or undefined')
    	  if (version < 1 || version > 40) throw new Error('"version" should be in range from 1 to 40')
    	  return version * 4 + 17
    	};

    	/**
    	 * Returns the total number of codewords used to store data and EC information.
    	 *
    	 * @param  {Number} version QR Code version
    	 * @return {Number}         Data length in bits
    	 */
    	utils$1.getSymbolTotalCodewords = function getSymbolTotalCodewords (version) {
    	  return CODEWORDS_COUNT[version]
    	};

    	/**
    	 * Encode data with Bose-Chaudhuri-Hocquenghem
    	 *
    	 * @param  {Number} data Value to encode
    	 * @return {Number}      Encoded value
    	 */
    	utils$1.getBCHDigit = function (data) {
    	  let digit = 0;

    	  while (data !== 0) {
    	    digit++;
    	    data >>>= 1;
    	  }

    	  return digit
    	};

    	utils$1.setToSJISFunction = function setToSJISFunction (f) {
    	  if (typeof f !== 'function') {
    	    throw new Error('"toSJISFunc" is not a valid function.')
    	  }

    	  toSJISFunction = f;
    	};

    	utils$1.isKanjiModeEnabled = function () {
    	  return typeof toSJISFunction !== 'undefined'
    	};

    	utils$1.toSJIS = function toSJIS (kanji) {
    	  return toSJISFunction(kanji)
    	};
    	return utils$1;
    }

    var errorCorrectionLevel = {};

    var hasRequiredErrorCorrectionLevel;

    function requireErrorCorrectionLevel () {
    	if (hasRequiredErrorCorrectionLevel) return errorCorrectionLevel;
    	hasRequiredErrorCorrectionLevel = 1;
    	(function (exports) {
    		exports.L = { bit: 1 };
    		exports.M = { bit: 0 };
    		exports.Q = { bit: 3 };
    		exports.H = { bit: 2 };

    		function fromString (string) {
    		  if (typeof string !== 'string') {
    		    throw new Error('Param is not a string')
    		  }

    		  const lcStr = string.toLowerCase();

    		  switch (lcStr) {
    		    case 'l':
    		    case 'low':
    		      return exports.L

    		    case 'm':
    		    case 'medium':
    		      return exports.M

    		    case 'q':
    		    case 'quartile':
    		      return exports.Q

    		    case 'h':
    		    case 'high':
    		      return exports.H

    		    default:
    		      throw new Error('Unknown EC Level: ' + string)
    		  }
    		}

    		exports.isValid = function isValid (level) {
    		  return level && typeof level.bit !== 'undefined' &&
    		    level.bit >= 0 && level.bit < 4
    		};

    		exports.from = function from (value, defaultValue) {
    		  if (exports.isValid(value)) {
    		    return value
    		  }

    		  try {
    		    return fromString(value)
    		  } catch (e) {
    		    return defaultValue
    		  }
    		}; 
    	} (errorCorrectionLevel));
    	return errorCorrectionLevel;
    }

    var bitBuffer;
    var hasRequiredBitBuffer;

    function requireBitBuffer () {
    	if (hasRequiredBitBuffer) return bitBuffer;
    	hasRequiredBitBuffer = 1;
    	function BitBuffer () {
    	  this.buffer = [];
    	  this.length = 0;
    	}

    	BitBuffer.prototype = {

    	  get: function (index) {
    	    const bufIndex = Math.floor(index / 8);
    	    return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) === 1
    	  },

    	  put: function (num, length) {
    	    for (let i = 0; i < length; i++) {
    	      this.putBit(((num >>> (length - i - 1)) & 1) === 1);
    	    }
    	  },

    	  getLengthInBits: function () {
    	    return this.length
    	  },

    	  putBit: function (bit) {
    	    const bufIndex = Math.floor(this.length / 8);
    	    if (this.buffer.length <= bufIndex) {
    	      this.buffer.push(0);
    	    }

    	    if (bit) {
    	      this.buffer[bufIndex] |= (0x80 >>> (this.length % 8));
    	    }

    	    this.length++;
    	  }
    	};

    	bitBuffer = BitBuffer;
    	return bitBuffer;
    }

    /**
     * Helper class to handle QR Code symbol modules
     *
     * @param {Number} size Symbol size
     */

    var bitMatrix;
    var hasRequiredBitMatrix;

    function requireBitMatrix () {
    	if (hasRequiredBitMatrix) return bitMatrix;
    	hasRequiredBitMatrix = 1;
    	function BitMatrix (size) {
    	  if (!size || size < 1) {
    	    throw new Error('BitMatrix size must be defined and greater than 0')
    	  }

    	  this.size = size;
    	  this.data = new Uint8Array(size * size);
    	  this.reservedBit = new Uint8Array(size * size);
    	}

    	/**
    	 * Set bit value at specified location
    	 * If reserved flag is set, this bit will be ignored during masking process
    	 *
    	 * @param {Number}  row
    	 * @param {Number}  col
    	 * @param {Boolean} value
    	 * @param {Boolean} reserved
    	 */
    	BitMatrix.prototype.set = function (row, col, value, reserved) {
    	  const index = row * this.size + col;
    	  this.data[index] = value;
    	  if (reserved) this.reservedBit[index] = true;
    	};

    	/**
    	 * Returns bit value at specified location
    	 *
    	 * @param  {Number}  row
    	 * @param  {Number}  col
    	 * @return {Boolean}
    	 */
    	BitMatrix.prototype.get = function (row, col) {
    	  return this.data[row * this.size + col]
    	};

    	/**
    	 * Applies xor operator at specified location
    	 * (used during masking process)
    	 *
    	 * @param {Number}  row
    	 * @param {Number}  col
    	 * @param {Boolean} value
    	 */
    	BitMatrix.prototype.xor = function (row, col, value) {
    	  this.data[row * this.size + col] ^= value;
    	};

    	/**
    	 * Check if bit at specified location is reserved
    	 *
    	 * @param {Number}   row
    	 * @param {Number}   col
    	 * @return {Boolean}
    	 */
    	BitMatrix.prototype.isReserved = function (row, col) {
    	  return this.reservedBit[row * this.size + col]
    	};

    	bitMatrix = BitMatrix;
    	return bitMatrix;
    }

    var alignmentPattern = {};

    /**
     * Alignment pattern are fixed reference pattern in defined positions
     * in a matrix symbology, which enables the decode software to re-synchronise
     * the coordinate mapping of the image modules in the event of moderate amounts
     * of distortion of the image.
     *
     * Alignment patterns are present only in QR Code symbols of version 2 or larger
     * and their number depends on the symbol version.
     */

    var hasRequiredAlignmentPattern;

    function requireAlignmentPattern () {
    	if (hasRequiredAlignmentPattern) return alignmentPattern;
    	hasRequiredAlignmentPattern = 1;
    	(function (exports) {
    		const getSymbolSize = requireUtils$1().getSymbolSize;

    		/**
    		 * Calculate the row/column coordinates of the center module of each alignment pattern
    		 * for the specified QR Code version.
    		 *
    		 * The alignment patterns are positioned symmetrically on either side of the diagonal
    		 * running from the top left corner of the symbol to the bottom right corner.
    		 *
    		 * Since positions are simmetrical only half of the coordinates are returned.
    		 * Each item of the array will represent in turn the x and y coordinate.
    		 * @see {@link getPositions}
    		 *
    		 * @param  {Number} version QR Code version
    		 * @return {Array}          Array of coordinate
    		 */
    		exports.getRowColCoords = function getRowColCoords (version) {
    		  if (version === 1) return []

    		  const posCount = Math.floor(version / 7) + 2;
    		  const size = getSymbolSize(version);
    		  const intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2;
    		  const positions = [size - 7]; // Last coord is always (size - 7)

    		  for (let i = 1; i < posCount - 1; i++) {
    		    positions[i] = positions[i - 1] - intervals;
    		  }

    		  positions.push(6); // First coord is always 6

    		  return positions.reverse()
    		};

    		/**
    		 * Returns an array containing the positions of each alignment pattern.
    		 * Each array's element represent the center point of the pattern as (x, y) coordinates
    		 *
    		 * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}
    		 * and filtering out the items that overlaps with finder pattern
    		 *
    		 * @example
    		 * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.
    		 * The alignment patterns, therefore, are to be centered on (row, column)
    		 * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).
    		 * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns
    		 * and are not therefore used for alignment patterns.
    		 *
    		 * let pos = getPositions(7)
    		 * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]
    		 *
    		 * @param  {Number} version QR Code version
    		 * @return {Array}          Array of coordinates
    		 */
    		exports.getPositions = function getPositions (version) {
    		  const coords = [];
    		  const pos = exports.getRowColCoords(version);
    		  const posLength = pos.length;

    		  for (let i = 0; i < posLength; i++) {
    		    for (let j = 0; j < posLength; j++) {
    		      // Skip if position is occupied by finder patterns
    		      if ((i === 0 && j === 0) || // top-left
    		          (i === 0 && j === posLength - 1) || // bottom-left
    		          (i === posLength - 1 && j === 0)) { // top-right
    		        continue
    		      }

    		      coords.push([pos[i], pos[j]]);
    		    }
    		  }

    		  return coords
    		}; 
    	} (alignmentPattern));
    	return alignmentPattern;
    }

    var finderPattern = {};

    var hasRequiredFinderPattern;

    function requireFinderPattern () {
    	if (hasRequiredFinderPattern) return finderPattern;
    	hasRequiredFinderPattern = 1;
    	const getSymbolSize = requireUtils$1().getSymbolSize;
    	const FINDER_PATTERN_SIZE = 7;

    	/**
    	 * Returns an array containing the positions of each finder pattern.
    	 * Each array's element represent the top-left point of the pattern as (x, y) coordinates
    	 *
    	 * @param  {Number} version QR Code version
    	 * @return {Array}          Array of coordinates
    	 */
    	finderPattern.getPositions = function getPositions (version) {
    	  const size = getSymbolSize(version);

    	  return [
    	    // top-left
    	    [0, 0],
    	    // top-right
    	    [size - FINDER_PATTERN_SIZE, 0],
    	    // bottom-left
    	    [0, size - FINDER_PATTERN_SIZE]
    	  ]
    	};
    	return finderPattern;
    }

    var maskPattern = {};

    /**
     * Data mask pattern reference
     * @type {Object}
     */

    var hasRequiredMaskPattern;

    function requireMaskPattern () {
    	if (hasRequiredMaskPattern) return maskPattern;
    	hasRequiredMaskPattern = 1;
    	(function (exports) {
    		exports.Patterns = {
    		  PATTERN000: 0,
    		  PATTERN001: 1,
    		  PATTERN010: 2,
    		  PATTERN011: 3,
    		  PATTERN100: 4,
    		  PATTERN101: 5,
    		  PATTERN110: 6,
    		  PATTERN111: 7
    		};

    		/**
    		 * Weighted penalty scores for the undesirable features
    		 * @type {Object}
    		 */
    		const PenaltyScores = {
    		  N1: 3,
    		  N2: 3,
    		  N3: 40,
    		  N4: 10
    		};

    		/**
    		 * Check if mask pattern value is valid
    		 *
    		 * @param  {Number}  mask    Mask pattern
    		 * @return {Boolean}         true if valid, false otherwise
    		 */
    		exports.isValid = function isValid (mask) {
    		  return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7
    		};

    		/**
    		 * Returns mask pattern from a value.
    		 * If value is not valid, returns undefined
    		 *
    		 * @param  {Number|String} value        Mask pattern value
    		 * @return {Number}                     Valid mask pattern or undefined
    		 */
    		exports.from = function from (value) {
    		  return exports.isValid(value) ? parseInt(value, 10) : undefined
    		};

    		/**
    		* Find adjacent modules in row/column with the same color
    		* and assign a penalty value.
    		*
    		* Points: N1 + i
    		* i is the amount by which the number of adjacent modules of the same color exceeds 5
    		*/
    		exports.getPenaltyN1 = function getPenaltyN1 (data) {
    		  const size = data.size;
    		  let points = 0;
    		  let sameCountCol = 0;
    		  let sameCountRow = 0;
    		  let lastCol = null;
    		  let lastRow = null;

    		  for (let row = 0; row < size; row++) {
    		    sameCountCol = sameCountRow = 0;
    		    lastCol = lastRow = null;

    		    for (let col = 0; col < size; col++) {
    		      let module = data.get(row, col);
    		      if (module === lastCol) {
    		        sameCountCol++;
    		      } else {
    		        if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5);
    		        lastCol = module;
    		        sameCountCol = 1;
    		      }

    		      module = data.get(col, row);
    		      if (module === lastRow) {
    		        sameCountRow++;
    		      } else {
    		        if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5);
    		        lastRow = module;
    		        sameCountRow = 1;
    		      }
    		    }

    		    if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5);
    		    if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5);
    		  }

    		  return points
    		};

    		/**
    		 * Find 2x2 blocks with the same color and assign a penalty value
    		 *
    		 * Points: N2 * (m - 1) * (n - 1)
    		 */
    		exports.getPenaltyN2 = function getPenaltyN2 (data) {
    		  const size = data.size;
    		  let points = 0;

    		  for (let row = 0; row < size - 1; row++) {
    		    for (let col = 0; col < size - 1; col++) {
    		      const last = data.get(row, col) +
    		        data.get(row, col + 1) +
    		        data.get(row + 1, col) +
    		        data.get(row + 1, col + 1);

    		      if (last === 4 || last === 0) points++;
    		    }
    		  }

    		  return points * PenaltyScores.N2
    		};

    		/**
    		 * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,
    		 * preceded or followed by light area 4 modules wide
    		 *
    		 * Points: N3 * number of pattern found
    		 */
    		exports.getPenaltyN3 = function getPenaltyN3 (data) {
    		  const size = data.size;
    		  let points = 0;
    		  let bitsCol = 0;
    		  let bitsRow = 0;

    		  for (let row = 0; row < size; row++) {
    		    bitsCol = bitsRow = 0;
    		    for (let col = 0; col < size; col++) {
    		      bitsCol = ((bitsCol << 1) & 0x7FF) | data.get(row, col);
    		      if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D)) points++;

    		      bitsRow = ((bitsRow << 1) & 0x7FF) | data.get(col, row);
    		      if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D)) points++;
    		    }
    		  }

    		  return points * PenaltyScores.N3
    		};

    		/**
    		 * Calculate proportion of dark modules in entire symbol
    		 *
    		 * Points: N4 * k
    		 *
    		 * k is the rating of the deviation of the proportion of dark modules
    		 * in the symbol from 50% in steps of 5%
    		 */
    		exports.getPenaltyN4 = function getPenaltyN4 (data) {
    		  let darkCount = 0;
    		  const modulesCount = data.data.length;

    		  for (let i = 0; i < modulesCount; i++) darkCount += data.data[i];

    		  const k = Math.abs(Math.ceil((darkCount * 100 / modulesCount) / 5) - 10);

    		  return k * PenaltyScores.N4
    		};

    		/**
    		 * Return mask value at given position
    		 *
    		 * @param  {Number} maskPattern Pattern reference value
    		 * @param  {Number} i           Row
    		 * @param  {Number} j           Column
    		 * @return {Boolean}            Mask value
    		 */
    		function getMaskAt (maskPattern, i, j) {
    		  switch (maskPattern) {
    		    case exports.Patterns.PATTERN000: return (i + j) % 2 === 0
    		    case exports.Patterns.PATTERN001: return i % 2 === 0
    		    case exports.Patterns.PATTERN010: return j % 3 === 0
    		    case exports.Patterns.PATTERN011: return (i + j) % 3 === 0
    		    case exports.Patterns.PATTERN100: return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0
    		    case exports.Patterns.PATTERN101: return (i * j) % 2 + (i * j) % 3 === 0
    		    case exports.Patterns.PATTERN110: return ((i * j) % 2 + (i * j) % 3) % 2 === 0
    		    case exports.Patterns.PATTERN111: return ((i * j) % 3 + (i + j) % 2) % 2 === 0

    		    default: throw new Error('bad maskPattern:' + maskPattern)
    		  }
    		}

    		/**
    		 * Apply a mask pattern to a BitMatrix
    		 *
    		 * @param  {Number}    pattern Pattern reference number
    		 * @param  {BitMatrix} data    BitMatrix data
    		 */
    		exports.applyMask = function applyMask (pattern, data) {
    		  const size = data.size;

    		  for (let col = 0; col < size; col++) {
    		    for (let row = 0; row < size; row++) {
    		      if (data.isReserved(row, col)) continue
    		      data.xor(row, col, getMaskAt(pattern, row, col));
    		    }
    		  }
    		};

    		/**
    		 * Returns the best mask pattern for data
    		 *
    		 * @param  {BitMatrix} data
    		 * @return {Number} Mask pattern reference number
    		 */
    		exports.getBestMask = function getBestMask (data, setupFormatFunc) {
    		  const numPatterns = Object.keys(exports.Patterns).length;
    		  let bestPattern = 0;
    		  let lowerPenalty = Infinity;

    		  for (let p = 0; p < numPatterns; p++) {
    		    setupFormatFunc(p);
    		    exports.applyMask(p, data);

    		    // Calculate penalty
    		    const penalty =
    		      exports.getPenaltyN1(data) +
    		      exports.getPenaltyN2(data) +
    		      exports.getPenaltyN3(data) +
    		      exports.getPenaltyN4(data);

    		    // Undo previously applied mask
    		    exports.applyMask(p, data);

    		    if (penalty < lowerPenalty) {
    		      lowerPenalty = penalty;
    		      bestPattern = p;
    		    }
    		  }

    		  return bestPattern
    		}; 
    	} (maskPattern));
    	return maskPattern;
    }

    var errorCorrectionCode = {};

    var hasRequiredErrorCorrectionCode;

    function requireErrorCorrectionCode () {
    	if (hasRequiredErrorCorrectionCode) return errorCorrectionCode;
    	hasRequiredErrorCorrectionCode = 1;
    	const ECLevel = requireErrorCorrectionLevel();

    	const EC_BLOCKS_TABLE = [
    	// L  M  Q  H
    	  1, 1, 1, 1,
    	  1, 1, 1, 1,
    	  1, 1, 2, 2,
    	  1, 2, 2, 4,
    	  1, 2, 4, 4,
    	  2, 4, 4, 4,
    	  2, 4, 6, 5,
    	  2, 4, 6, 6,
    	  2, 5, 8, 8,
    	  4, 5, 8, 8,
    	  4, 5, 8, 11,
    	  4, 8, 10, 11,
    	  4, 9, 12, 16,
    	  4, 9, 16, 16,
    	  6, 10, 12, 18,
    	  6, 10, 17, 16,
    	  6, 11, 16, 19,
    	  6, 13, 18, 21,
    	  7, 14, 21, 25,
    	  8, 16, 20, 25,
    	  8, 17, 23, 25,
    	  9, 17, 23, 34,
    	  9, 18, 25, 30,
    	  10, 20, 27, 32,
    	  12, 21, 29, 35,
    	  12, 23, 34, 37,
    	  12, 25, 34, 40,
    	  13, 26, 35, 42,
    	  14, 28, 38, 45,
    	  15, 29, 40, 48,
    	  16, 31, 43, 51,
    	  17, 33, 45, 54,
    	  18, 35, 48, 57,
    	  19, 37, 51, 60,
    	  19, 38, 53, 63,
    	  20, 40, 56, 66,
    	  21, 43, 59, 70,
    	  22, 45, 62, 74,
    	  24, 47, 65, 77,
    	  25, 49, 68, 81
    	];

    	const EC_CODEWORDS_TABLE = [
    	// L  M  Q  H
    	  7, 10, 13, 17,
    	  10, 16, 22, 28,
    	  15, 26, 36, 44,
    	  20, 36, 52, 64,
    	  26, 48, 72, 88,
    	  36, 64, 96, 112,
    	  40, 72, 108, 130,
    	  48, 88, 132, 156,
    	  60, 110, 160, 192,
    	  72, 130, 192, 224,
    	  80, 150, 224, 264,
    	  96, 176, 260, 308,
    	  104, 198, 288, 352,
    	  120, 216, 320, 384,
    	  132, 240, 360, 432,
    	  144, 280, 408, 480,
    	  168, 308, 448, 532,
    	  180, 338, 504, 588,
    	  196, 364, 546, 650,
    	  224, 416, 600, 700,
    	  224, 442, 644, 750,
    	  252, 476, 690, 816,
    	  270, 504, 750, 900,
    	  300, 560, 810, 960,
    	  312, 588, 870, 1050,
    	  336, 644, 952, 1110,
    	  360, 700, 1020, 1200,
    	  390, 728, 1050, 1260,
    	  420, 784, 1140, 1350,
    	  450, 812, 1200, 1440,
    	  480, 868, 1290, 1530,
    	  510, 924, 1350, 1620,
    	  540, 980, 1440, 1710,
    	  570, 1036, 1530, 1800,
    	  570, 1064, 1590, 1890,
    	  600, 1120, 1680, 1980,
    	  630, 1204, 1770, 2100,
    	  660, 1260, 1860, 2220,
    	  720, 1316, 1950, 2310,
    	  750, 1372, 2040, 2430
    	];

    	/**
    	 * Returns the number of error correction block that the QR Code should contain
    	 * for the specified version and error correction level.
    	 *
    	 * @param  {Number} version              QR Code version
    	 * @param  {Number} errorCorrectionLevel Error correction level
    	 * @return {Number}                      Number of error correction blocks
    	 */
    	errorCorrectionCode.getBlocksCount = function getBlocksCount (version, errorCorrectionLevel) {
    	  switch (errorCorrectionLevel) {
    	    case ECLevel.L:
    	      return EC_BLOCKS_TABLE[(version - 1) * 4 + 0]
    	    case ECLevel.M:
    	      return EC_BLOCKS_TABLE[(version - 1) * 4 + 1]
    	    case ECLevel.Q:
    	      return EC_BLOCKS_TABLE[(version - 1) * 4 + 2]
    	    case ECLevel.H:
    	      return EC_BLOCKS_TABLE[(version - 1) * 4 + 3]
    	    default:
    	      return undefined
    	  }
    	};

    	/**
    	 * Returns the number of error correction codewords to use for the specified
    	 * version and error correction level.
    	 *
    	 * @param  {Number} version              QR Code version
    	 * @param  {Number} errorCorrectionLevel Error correction level
    	 * @return {Number}                      Number of error correction codewords
    	 */
    	errorCorrectionCode.getTotalCodewordsCount = function getTotalCodewordsCount (version, errorCorrectionLevel) {
    	  switch (errorCorrectionLevel) {
    	    case ECLevel.L:
    	      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0]
    	    case ECLevel.M:
    	      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1]
    	    case ECLevel.Q:
    	      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2]
    	    case ECLevel.H:
    	      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3]
    	    default:
    	      return undefined
    	  }
    	};
    	return errorCorrectionCode;
    }

    var polynomial = {};

    var galoisField = {};

    var hasRequiredGaloisField;

    function requireGaloisField () {
    	if (hasRequiredGaloisField) return galoisField;
    	hasRequiredGaloisField = 1;
    	const EXP_TABLE = new Uint8Array(512);
    	const LOG_TABLE = new Uint8Array(256)
    	/**
    	 * Precompute the log and anti-log tables for faster computation later
    	 *
    	 * For each possible value in the galois field 2^8, we will pre-compute
    	 * the logarithm and anti-logarithm (exponential) of this value
    	 *
    	 * ref {@link https://en.wikiversity.org/wiki/Reed%E2%80%93Solomon_codes_for_coders#Introduction_to_mathematical_fields}
    	 */
    	;(function initTables () {
    	  let x = 1;
    	  for (let i = 0; i < 255; i++) {
    	    EXP_TABLE[i] = x;
    	    LOG_TABLE[x] = i;

    	    x <<= 1; // multiply by 2

    	    // The QR code specification says to use byte-wise modulo 100011101 arithmetic.
    	    // This means that when a number is 256 or larger, it should be XORed with 0x11D.
    	    if (x & 0x100) { // similar to x >= 256, but a lot faster (because 0x100 == 256)
    	      x ^= 0x11D;
    	    }
    	  }

    	  // Optimization: double the size of the anti-log table so that we don't need to mod 255 to
    	  // stay inside the bounds (because we will mainly use this table for the multiplication of
    	  // two GF numbers, no more).
    	  // @see {@link mul}
    	  for (let i = 255; i < 512; i++) {
    	    EXP_TABLE[i] = EXP_TABLE[i - 255];
    	  }
    	}());

    	/**
    	 * Returns log value of n inside Galois Field
    	 *
    	 * @param  {Number} n
    	 * @return {Number}
    	 */
    	galoisField.log = function log (n) {
    	  if (n < 1) throw new Error('log(' + n + ')')
    	  return LOG_TABLE[n]
    	};

    	/**
    	 * Returns anti-log value of n inside Galois Field
    	 *
    	 * @param  {Number} n
    	 * @return {Number}
    	 */
    	galoisField.exp = function exp (n) {
    	  return EXP_TABLE[n]
    	};

    	/**
    	 * Multiplies two number inside Galois Field
    	 *
    	 * @param  {Number} x
    	 * @param  {Number} y
    	 * @return {Number}
    	 */
    	galoisField.mul = function mul (x, y) {
    	  if (x === 0 || y === 0) return 0

    	  // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized
    	  // @see {@link initTables}
    	  return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]]
    	};
    	return galoisField;
    }

    var hasRequiredPolynomial;

    function requirePolynomial () {
    	if (hasRequiredPolynomial) return polynomial;
    	hasRequiredPolynomial = 1;
    	(function (exports) {
    		const GF = requireGaloisField();

    		/**
    		 * Multiplies two polynomials inside Galois Field
    		 *
    		 * @param  {Uint8Array} p1 Polynomial
    		 * @param  {Uint8Array} p2 Polynomial
    		 * @return {Uint8Array}    Product of p1 and p2
    		 */
    		exports.mul = function mul (p1, p2) {
    		  const coeff = new Uint8Array(p1.length + p2.length - 1);

    		  for (let i = 0; i < p1.length; i++) {
    		    for (let j = 0; j < p2.length; j++) {
    		      coeff[i + j] ^= GF.mul(p1[i], p2[j]);
    		    }
    		  }

    		  return coeff
    		};

    		/**
    		 * Calculate the remainder of polynomials division
    		 *
    		 * @param  {Uint8Array} divident Polynomial
    		 * @param  {Uint8Array} divisor  Polynomial
    		 * @return {Uint8Array}          Remainder
    		 */
    		exports.mod = function mod (divident, divisor) {
    		  let result = new Uint8Array(divident);

    		  while ((result.length - divisor.length) >= 0) {
    		    const coeff = result[0];

    		    for (let i = 0; i < divisor.length; i++) {
    		      result[i] ^= GF.mul(divisor[i], coeff);
    		    }

    		    // remove all zeros from buffer head
    		    let offset = 0;
    		    while (offset < result.length && result[offset] === 0) offset++;
    		    result = result.slice(offset);
    		  }

    		  return result
    		};

    		/**
    		 * Generate an irreducible generator polynomial of specified degree
    		 * (used by Reed-Solomon encoder)
    		 *
    		 * @param  {Number} degree Degree of the generator polynomial
    		 * @return {Uint8Array}    Buffer containing polynomial coefficients
    		 */
    		exports.generateECPolynomial = function generateECPolynomial (degree) {
    		  let poly = new Uint8Array([1]);
    		  for (let i = 0; i < degree; i++) {
    		    poly = exports.mul(poly, new Uint8Array([1, GF.exp(i)]));
    		  }

    		  return poly
    		}; 
    	} (polynomial));
    	return polynomial;
    }

    var reedSolomonEncoder;
    var hasRequiredReedSolomonEncoder;

    function requireReedSolomonEncoder () {
    	if (hasRequiredReedSolomonEncoder) return reedSolomonEncoder;
    	hasRequiredReedSolomonEncoder = 1;
    	const Polynomial = requirePolynomial();

    	function ReedSolomonEncoder (degree) {
    	  this.genPoly = undefined;
    	  this.degree = degree;

    	  if (this.degree) this.initialize(this.degree);
    	}

    	/**
    	 * Initialize the encoder.
    	 * The input param should correspond to the number of error correction codewords.
    	 *
    	 * @param  {Number} degree
    	 */
    	ReedSolomonEncoder.prototype.initialize = function initialize (degree) {
    	  // create an irreducible generator polynomial
    	  this.degree = degree;
    	  this.genPoly = Polynomial.generateECPolynomial(this.degree);
    	};

    	/**
    	 * Encodes a chunk of data
    	 *
    	 * @param  {Uint8Array} data Buffer containing input data
    	 * @return {Uint8Array}      Buffer containing encoded data
    	 */
    	ReedSolomonEncoder.prototype.encode = function encode (data) {
    	  if (!this.genPoly) {
    	    throw new Error('Encoder not initialized')
    	  }

    	  // Calculate EC for this data block
    	  // extends data size to data+genPoly size
    	  const paddedData = new Uint8Array(data.length + this.degree);
    	  paddedData.set(data);

    	  // The error correction codewords are the remainder after dividing the data codewords
    	  // by a generator polynomial
    	  const remainder = Polynomial.mod(paddedData, this.genPoly);

    	  // return EC data blocks (last n byte, where n is the degree of genPoly)
    	  // If coefficients number in remainder are less than genPoly degree,
    	  // pad with 0s to the left to reach the needed number of coefficients
    	  const start = this.degree - remainder.length;
    	  if (start > 0) {
    	    const buff = new Uint8Array(this.degree);
    	    buff.set(remainder, start);

    	    return buff
    	  }

    	  return remainder
    	};

    	reedSolomonEncoder = ReedSolomonEncoder;
    	return reedSolomonEncoder;
    }

    var version = {};

    var mode = {};

    var versionCheck = {};

    /**
     * Check if QR Code version is valid
     *
     * @param  {Number}  version QR Code version
     * @return {Boolean}         true if valid version, false otherwise
     */

    var hasRequiredVersionCheck;

    function requireVersionCheck () {
    	if (hasRequiredVersionCheck) return versionCheck;
    	hasRequiredVersionCheck = 1;
    	versionCheck.isValid = function isValid (version) {
    	  return !isNaN(version) && version >= 1 && version <= 40
    	};
    	return versionCheck;
    }

    var regex = {};

    var hasRequiredRegex;

    function requireRegex () {
    	if (hasRequiredRegex) return regex;
    	hasRequiredRegex = 1;
    	const numeric = '[0-9]+';
    	const alphanumeric = '[A-Z $%*+\\-./:]+';
    	let kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' +
    	  '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' +
    	  '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' +
    	  '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+';
    	kanji = kanji.replace(/u/g, '\\u');

    	const byte = '(?:(?![A-Z0-9 $%*+\\-./:]|' + kanji + ')(?:.|[\r\n]))+';

    	regex.KANJI = new RegExp(kanji, 'g');
    	regex.BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\-./:]+', 'g');
    	regex.BYTE = new RegExp(byte, 'g');
    	regex.NUMERIC = new RegExp(numeric, 'g');
    	regex.ALPHANUMERIC = new RegExp(alphanumeric, 'g');

    	const TEST_KANJI = new RegExp('^' + kanji + '$');
    	const TEST_NUMERIC = new RegExp('^' + numeric + '$');
    	const TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\-./:]+$');

    	regex.testKanji = function testKanji (str) {
    	  return TEST_KANJI.test(str)
    	};

    	regex.testNumeric = function testNumeric (str) {
    	  return TEST_NUMERIC.test(str)
    	};

    	regex.testAlphanumeric = function testAlphanumeric (str) {
    	  return TEST_ALPHANUMERIC.test(str)
    	};
    	return regex;
    }

    var hasRequiredMode;

    function requireMode () {
    	if (hasRequiredMode) return mode;
    	hasRequiredMode = 1;
    	(function (exports) {
    		const VersionCheck = requireVersionCheck();
    		const Regex = requireRegex();

    		/**
    		 * Numeric mode encodes data from the decimal digit set (0 - 9)
    		 * (byte values 30HEX to 39HEX).
    		 * Normally, 3 data characters are represented by 10 bits.
    		 *
    		 * @type {Object}
    		 */
    		exports.NUMERIC = {
    		  id: 'Numeric',
    		  bit: 1 << 0,
    		  ccBits: [10, 12, 14]
    		};

    		/**
    		 * Alphanumeric mode encodes data from a set of 45 characters,
    		 * i.e. 10 numeric digits (0 - 9),
    		 *      26 alphabetic characters (A - Z),
    		 *   and 9 symbols (SP, $, %, *, +, -, ., /, :).
    		 * Normally, two input characters are represented by 11 bits.
    		 *
    		 * @type {Object}
    		 */
    		exports.ALPHANUMERIC = {
    		  id: 'Alphanumeric',
    		  bit: 1 << 1,
    		  ccBits: [9, 11, 13]
    		};

    		/**
    		 * In byte mode, data is encoded at 8 bits per character.
    		 *
    		 * @type {Object}
    		 */
    		exports.BYTE = {
    		  id: 'Byte',
    		  bit: 1 << 2,
    		  ccBits: [8, 16, 16]
    		};

    		/**
    		 * The Kanji mode efficiently encodes Kanji characters in accordance with
    		 * the Shift JIS system based on JIS X 0208.
    		 * The Shift JIS values are shifted from the JIS X 0208 values.
    		 * JIS X 0208 gives details of the shift coded representation.
    		 * Each two-byte character value is compacted to a 13-bit binary codeword.
    		 *
    		 * @type {Object}
    		 */
    		exports.KANJI = {
    		  id: 'Kanji',
    		  bit: 1 << 3,
    		  ccBits: [8, 10, 12]
    		};

    		/**
    		 * Mixed mode will contain a sequences of data in a combination of any of
    		 * the modes described above
    		 *
    		 * @type {Object}
    		 */
    		exports.MIXED = {
    		  bit: -1
    		};

    		/**
    		 * Returns the number of bits needed to store the data length
    		 * according to QR Code specifications.
    		 *
    		 * @param  {Mode}   mode    Data mode
    		 * @param  {Number} version QR Code version
    		 * @return {Number}         Number of bits
    		 */
    		exports.getCharCountIndicator = function getCharCountIndicator (mode, version) {
    		  if (!mode.ccBits) throw new Error('Invalid mode: ' + mode)

    		  if (!VersionCheck.isValid(version)) {
    		    throw new Error('Invalid version: ' + version)
    		  }

    		  if (version >= 1 && version < 10) return mode.ccBits[0]
    		  else if (version < 27) return mode.ccBits[1]
    		  return mode.ccBits[2]
    		};

    		/**
    		 * Returns the most efficient mode to store the specified data
    		 *
    		 * @param  {String} dataStr Input data string
    		 * @return {Mode}           Best mode
    		 */
    		exports.getBestModeForData = function getBestModeForData (dataStr) {
    		  if (Regex.testNumeric(dataStr)) return exports.NUMERIC
    		  else if (Regex.testAlphanumeric(dataStr)) return exports.ALPHANUMERIC
    		  else if (Regex.testKanji(dataStr)) return exports.KANJI
    		  else return exports.BYTE
    		};

    		/**
    		 * Return mode name as string
    		 *
    		 * @param {Mode} mode Mode object
    		 * @returns {String}  Mode name
    		 */
    		exports.toString = function toString (mode) {
    		  if (mode && mode.id) return mode.id
    		  throw new Error('Invalid mode')
    		};

    		/**
    		 * Check if input param is a valid mode object
    		 *
    		 * @param   {Mode}    mode Mode object
    		 * @returns {Boolean} True if valid mode, false otherwise
    		 */
    		exports.isValid = function isValid (mode) {
    		  return mode && mode.bit && mode.ccBits
    		};

    		/**
    		 * Get mode object from its name
    		 *
    		 * @param   {String} string Mode name
    		 * @returns {Mode}          Mode object
    		 */
    		function fromString (string) {
    		  if (typeof string !== 'string') {
    		    throw new Error('Param is not a string')
    		  }

    		  const lcStr = string.toLowerCase();

    		  switch (lcStr) {
    		    case 'numeric':
    		      return exports.NUMERIC
    		    case 'alphanumeric':
    		      return exports.ALPHANUMERIC
    		    case 'kanji':
    		      return exports.KANJI
    		    case 'byte':
    		      return exports.BYTE
    		    default:
    		      throw new Error('Unknown mode: ' + string)
    		  }
    		}

    		/**
    		 * Returns mode from a value.
    		 * If value is not a valid mode, returns defaultValue
    		 *
    		 * @param  {Mode|String} value        Encoding mode
    		 * @param  {Mode}        defaultValue Fallback value
    		 * @return {Mode}                     Encoding mode
    		 */
    		exports.from = function from (value, defaultValue) {
    		  if (exports.isValid(value)) {
    		    return value
    		  }

    		  try {
    		    return fromString(value)
    		  } catch (e) {
    		    return defaultValue
    		  }
    		}; 
    	} (mode));
    	return mode;
    }

    var hasRequiredVersion;

    function requireVersion () {
    	if (hasRequiredVersion) return version;
    	hasRequiredVersion = 1;
    	(function (exports) {
    		const Utils = requireUtils$1();
    		const ECCode = requireErrorCorrectionCode();
    		const ECLevel = requireErrorCorrectionLevel();
    		const Mode = requireMode();
    		const VersionCheck = requireVersionCheck();

    		// Generator polynomial used to encode version information
    		const G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);
    		const G18_BCH = Utils.getBCHDigit(G18);

    		function getBestVersionForDataLength (mode, length, errorCorrectionLevel) {
    		  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {
    		    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {
    		      return currentVersion
    		    }
    		  }

    		  return undefined
    		}

    		function getReservedBitsCount (mode, version) {
    		  // Character count indicator + mode indicator bits
    		  return Mode.getCharCountIndicator(mode, version) + 4
    		}

    		function getTotalBitsFromDataArray (segments, version) {
    		  let totalBits = 0;

    		  segments.forEach(function (data) {
    		    const reservedBits = getReservedBitsCount(data.mode, version);
    		    totalBits += reservedBits + data.getBitsLength();
    		  });

    		  return totalBits
    		}

    		function getBestVersionForMixedData (segments, errorCorrectionLevel) {
    		  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {
    		    const length = getTotalBitsFromDataArray(segments, currentVersion);
    		    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, Mode.MIXED)) {
    		      return currentVersion
    		    }
    		  }

    		  return undefined
    		}

    		/**
    		 * Returns version number from a value.
    		 * If value is not a valid version, returns defaultValue
    		 *
    		 * @param  {Number|String} value        QR Code version
    		 * @param  {Number}        defaultValue Fallback value
    		 * @return {Number}                     QR Code version number
    		 */
    		exports.from = function from (value, defaultValue) {
    		  if (VersionCheck.isValid(value)) {
    		    return parseInt(value, 10)
    		  }

    		  return defaultValue
    		};

    		/**
    		 * Returns how much data can be stored with the specified QR code version
    		 * and error correction level
    		 *
    		 * @param  {Number} version              QR Code version (1-40)
    		 * @param  {Number} errorCorrectionLevel Error correction level
    		 * @param  {Mode}   mode                 Data mode
    		 * @return {Number}                      Quantity of storable data
    		 */
    		exports.getCapacity = function getCapacity (version, errorCorrectionLevel, mode) {
    		  if (!VersionCheck.isValid(version)) {
    		    throw new Error('Invalid QR Code version')
    		  }

    		  // Use Byte mode as default
    		  if (typeof mode === 'undefined') mode = Mode.BYTE;

    		  // Total codewords for this QR code version (Data + Error correction)
    		  const totalCodewords = Utils.getSymbolTotalCodewords(version);

    		  // Total number of error correction codewords
    		  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel);

    		  // Total number of data codewords
    		  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;

    		  if (mode === Mode.MIXED) return dataTotalCodewordsBits

    		  const usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode, version);

    		  // Return max number of storable codewords
    		  switch (mode) {
    		    case Mode.NUMERIC:
    		      return Math.floor((usableBits / 10) * 3)

    		    case Mode.ALPHANUMERIC:
    		      return Math.floor((usableBits / 11) * 2)

    		    case Mode.KANJI:
    		      return Math.floor(usableBits / 13)

    		    case Mode.BYTE:
    		    default:
    		      return Math.floor(usableBits / 8)
    		  }
    		};

    		/**
    		 * Returns the minimum version needed to contain the amount of data
    		 *
    		 * @param  {Segment} data                    Segment of data
    		 * @param  {Number} [errorCorrectionLevel=H] Error correction level
    		 * @param  {Mode} mode                       Data mode
    		 * @return {Number}                          QR Code version
    		 */
    		exports.getBestVersionForData = function getBestVersionForData (data, errorCorrectionLevel) {
    		  let seg;

    		  const ecl = ECLevel.from(errorCorrectionLevel, ECLevel.M);

    		  if (Array.isArray(data)) {
    		    if (data.length > 1) {
    		      return getBestVersionForMixedData(data, ecl)
    		    }

    		    if (data.length === 0) {
    		      return 1
    		    }

    		    seg = data[0];
    		  } else {
    		    seg = data;
    		  }

    		  return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl)
    		};

    		/**
    		 * Returns version information with relative error correction bits
    		 *
    		 * The version information is included in QR Code symbols of version 7 or larger.
    		 * It consists of an 18-bit sequence containing 6 data bits,
    		 * with 12 error correction bits calculated using the (18, 6) Golay code.
    		 *
    		 * @param  {Number} version QR Code version
    		 * @return {Number}         Encoded version info bits
    		 */
    		exports.getEncodedBits = function getEncodedBits (version) {
    		  if (!VersionCheck.isValid(version) || version < 7) {
    		    throw new Error('Invalid QR Code version')
    		  }

    		  let d = version << 12;

    		  while (Utils.getBCHDigit(d) - G18_BCH >= 0) {
    		    d ^= (G18 << (Utils.getBCHDigit(d) - G18_BCH));
    		  }

    		  return (version << 12) | d
    		}; 
    	} (version));
    	return version;
    }

    var formatInfo = {};

    var hasRequiredFormatInfo;

    function requireFormatInfo () {
    	if (hasRequiredFormatInfo) return formatInfo;
    	hasRequiredFormatInfo = 1;
    	const Utils = requireUtils$1();

    	const G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);
    	const G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);
    	const G15_BCH = Utils.getBCHDigit(G15);

    	/**
    	 * Returns format information with relative error correction bits
    	 *
    	 * The format information is a 15-bit sequence containing 5 data bits,
    	 * with 10 error correction bits calculated using the (15, 5) BCH code.
    	 *
    	 * @param  {Number} errorCorrectionLevel Error correction level
    	 * @param  {Number} mask                 Mask pattern
    	 * @return {Number}                      Encoded format information bits
    	 */
    	formatInfo.getEncodedBits = function getEncodedBits (errorCorrectionLevel, mask) {
    	  const data = ((errorCorrectionLevel.bit << 3) | mask);
    	  let d = data << 10;

    	  while (Utils.getBCHDigit(d) - G15_BCH >= 0) {
    	    d ^= (G15 << (Utils.getBCHDigit(d) - G15_BCH));
    	  }

    	  // xor final data with mask pattern in order to ensure that
    	  // no combination of Error Correction Level and data mask pattern
    	  // will result in an all-zero data string
    	  return ((data << 10) | d) ^ G15_MASK
    	};
    	return formatInfo;
    }

    var segments = {};

    var numericData;
    var hasRequiredNumericData;

    function requireNumericData () {
    	if (hasRequiredNumericData) return numericData;
    	hasRequiredNumericData = 1;
    	const Mode = requireMode();

    	function NumericData (data) {
    	  this.mode = Mode.NUMERIC;
    	  this.data = data.toString();
    	}

    	NumericData.getBitsLength = function getBitsLength (length) {
    	  return 10 * Math.floor(length / 3) + ((length % 3) ? ((length % 3) * 3 + 1) : 0)
    	};

    	NumericData.prototype.getLength = function getLength () {
    	  return this.data.length
    	};

    	NumericData.prototype.getBitsLength = function getBitsLength () {
    	  return NumericData.getBitsLength(this.data.length)
    	};

    	NumericData.prototype.write = function write (bitBuffer) {
    	  let i, group, value;

    	  // The input data string is divided into groups of three digits,
    	  // and each group is converted to its 10-bit binary equivalent.
    	  for (i = 0; i + 3 <= this.data.length; i += 3) {
    	    group = this.data.substr(i, 3);
    	    value = parseInt(group, 10);

    	    bitBuffer.put(value, 10);
    	  }

    	  // If the number of input digits is not an exact multiple of three,
    	  // the final one or two digits are converted to 4 or 7 bits respectively.
    	  const remainingNum = this.data.length - i;
    	  if (remainingNum > 0) {
    	    group = this.data.substr(i);
    	    value = parseInt(group, 10);

    	    bitBuffer.put(value, remainingNum * 3 + 1);
    	  }
    	};

    	numericData = NumericData;
    	return numericData;
    }

    var alphanumericData;
    var hasRequiredAlphanumericData;

    function requireAlphanumericData () {
    	if (hasRequiredAlphanumericData) return alphanumericData;
    	hasRequiredAlphanumericData = 1;
    	const Mode = requireMode();

    	/**
    	 * Array of characters available in alphanumeric mode
    	 *
    	 * As per QR Code specification, to each character
    	 * is assigned a value from 0 to 44 which in this case coincides
    	 * with the array index
    	 *
    	 * @type {Array}
    	 */
    	const ALPHA_NUM_CHARS = [
    	  '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',
    	  'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',
    	  'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',
    	  ' ', '$', '%', '*', '+', '-', '.', '/', ':'
    	];

    	function AlphanumericData (data) {
    	  this.mode = Mode.ALPHANUMERIC;
    	  this.data = data;
    	}

    	AlphanumericData.getBitsLength = function getBitsLength (length) {
    	  return 11 * Math.floor(length / 2) + 6 * (length % 2)
    	};

    	AlphanumericData.prototype.getLength = function getLength () {
    	  return this.data.length
    	};

    	AlphanumericData.prototype.getBitsLength = function getBitsLength () {
    	  return AlphanumericData.getBitsLength(this.data.length)
    	};

    	AlphanumericData.prototype.write = function write (bitBuffer) {
    	  let i;

    	  // Input data characters are divided into groups of two characters
    	  // and encoded as 11-bit binary codes.
    	  for (i = 0; i + 2 <= this.data.length; i += 2) {
    	    // The character value of the first character is multiplied by 45
    	    let value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45;

    	    // The character value of the second digit is added to the product
    	    value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1]);

    	    // The sum is then stored as 11-bit binary number
    	    bitBuffer.put(value, 11);
    	  }

    	  // If the number of input data characters is not a multiple of two,
    	  // the character value of the final character is encoded as a 6-bit binary number.
    	  if (this.data.length % 2) {
    	    bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6);
    	  }
    	};

    	alphanumericData = AlphanumericData;
    	return alphanumericData;
    }

    var encodeUtf8;
    var hasRequiredEncodeUtf8;

    function requireEncodeUtf8 () {
    	if (hasRequiredEncodeUtf8) return encodeUtf8;
    	hasRequiredEncodeUtf8 = 1;

    	encodeUtf8 = function encodeUtf8 (input) {
    	  var result = [];
    	  var size = input.length;

    	  for (var index = 0; index < size; index++) {
    	    var point = input.charCodeAt(index);

    	    if (point >= 0xD800 && point <= 0xDBFF && size > index + 1) {
    	      var second = input.charCodeAt(index + 1);

    	      if (second >= 0xDC00 && second <= 0xDFFF) {
    	        // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae
    	        point = (point - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;
    	        index += 1;
    	      }
    	    }

    	    // US-ASCII
    	    if (point < 0x80) {
    	      result.push(point);
    	      continue
    	    }

    	    // 2-byte UTF-8
    	    if (point < 0x800) {
    	      result.push((point >> 6) | 192);
    	      result.push((point & 63) | 128);
    	      continue
    	    }

    	    // 3-byte UTF-8
    	    if (point < 0xD800 || (point >= 0xE000 && point < 0x10000)) {
    	      result.push((point >> 12) | 224);
    	      result.push(((point >> 6) & 63) | 128);
    	      result.push((point & 63) | 128);
    	      continue
    	    }

    	    // 4-byte UTF-8
    	    if (point >= 0x10000 && point <= 0x10FFFF) {
    	      result.push((point >> 18) | 240);
    	      result.push(((point >> 12) & 63) | 128);
    	      result.push(((point >> 6) & 63) | 128);
    	      result.push((point & 63) | 128);
    	      continue
    	    }

    	    // Invalid character
    	    result.push(0xEF, 0xBF, 0xBD);
    	  }

    	  return new Uint8Array(result).buffer
    	};
    	return encodeUtf8;
    }

    var byteData;
    var hasRequiredByteData;

    function requireByteData () {
    	if (hasRequiredByteData) return byteData;
    	hasRequiredByteData = 1;
    	const encodeUtf8 = requireEncodeUtf8();
    	const Mode = requireMode();

    	function ByteData (data) {
    	  this.mode = Mode.BYTE;
    	  if (typeof (data) === 'string') {
    	    data = encodeUtf8(data);
    	  }
    	  this.data = new Uint8Array(data);
    	}

    	ByteData.getBitsLength = function getBitsLength (length) {
    	  return length * 8
    	};

    	ByteData.prototype.getLength = function getLength () {
    	  return this.data.length
    	};

    	ByteData.prototype.getBitsLength = function getBitsLength () {
    	  return ByteData.getBitsLength(this.data.length)
    	};

    	ByteData.prototype.write = function (bitBuffer) {
    	  for (let i = 0, l = this.data.length; i < l; i++) {
    	    bitBuffer.put(this.data[i], 8);
    	  }
    	};

    	byteData = ByteData;
    	return byteData;
    }

    var kanjiData;
    var hasRequiredKanjiData;

    function requireKanjiData () {
    	if (hasRequiredKanjiData) return kanjiData;
    	hasRequiredKanjiData = 1;
    	const Mode = requireMode();
    	const Utils = requireUtils$1();

    	function KanjiData (data) {
    	  this.mode = Mode.KANJI;
    	  this.data = data;
    	}

    	KanjiData.getBitsLength = function getBitsLength (length) {
    	  return length * 13
    	};

    	KanjiData.prototype.getLength = function getLength () {
    	  return this.data.length
    	};

    	KanjiData.prototype.getBitsLength = function getBitsLength () {
    	  return KanjiData.getBitsLength(this.data.length)
    	};

    	KanjiData.prototype.write = function (bitBuffer) {
    	  let i;

    	  // In the Shift JIS system, Kanji characters are represented by a two byte combination.
    	  // These byte values are shifted from the JIS X 0208 values.
    	  // JIS X 0208 gives details of the shift coded representation.
    	  for (i = 0; i < this.data.length; i++) {
    	    let value = Utils.toSJIS(this.data[i]);

    	    // For characters with Shift JIS values from 0x8140 to 0x9FFC:
    	    if (value >= 0x8140 && value <= 0x9FFC) {
    	      // Subtract 0x8140 from Shift JIS value
    	      value -= 0x8140;

    	    // For characters with Shift JIS values from 0xE040 to 0xEBBF
    	    } else if (value >= 0xE040 && value <= 0xEBBF) {
    	      // Subtract 0xC140 from Shift JIS value
    	      value -= 0xC140;
    	    } else {
    	      throw new Error(
    	        'Invalid SJIS character: ' + this.data[i] + '\n' +
    	        'Make sure your charset is UTF-8')
    	    }

    	    // Multiply most significant byte of result by 0xC0
    	    // and add least significant byte to product
    	    value = (((value >>> 8) & 0xff) * 0xC0) + (value & 0xff);

    	    // Convert result to a 13-bit binary string
    	    bitBuffer.put(value, 13);
    	  }
    	};

    	kanjiData = KanjiData;
    	return kanjiData;
    }

    var dijkstra = {exports: {}};

    var hasRequiredDijkstra;

    function requireDijkstra () {
    	if (hasRequiredDijkstra) return dijkstra.exports;
    	hasRequiredDijkstra = 1;
    	(function (module) {

    		/******************************************************************************
    		 * Created 2008-08-19.
    		 *
    		 * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.
    		 *
    		 * Copyright (C) 2008
    		 *   Wyatt Baldwin <self@wyattbaldwin.com>
    		 *   All rights reserved
    		 *
    		 * Licensed under the MIT license.
    		 *
    		 *   http://www.opensource.org/licenses/mit-license.php
    		 *
    		 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    		 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    		 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    		 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    		 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    		 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    		 * THE SOFTWARE.
    		 *****************************************************************************/
    		var dijkstra = {
    		  single_source_shortest_paths: function(graph, s, d) {
    		    // Predecessor map for each node that has been encountered.
    		    // node ID => predecessor node ID
    		    var predecessors = {};

    		    // Costs of shortest paths from s to all nodes encountered.
    		    // node ID => cost
    		    var costs = {};
    		    costs[s] = 0;

    		    // Costs of shortest paths from s to all nodes encountered; differs from
    		    // `costs` in that it provides easy access to the node that currently has
    		    // the known shortest path from s.
    		    // XXX: Do we actually need both `costs` and `open`?
    		    var open = dijkstra.PriorityQueue.make();
    		    open.push(s, 0);

    		    var closest,
    		        u, v,
    		        cost_of_s_to_u,
    		        adjacent_nodes,
    		        cost_of_e,
    		        cost_of_s_to_u_plus_cost_of_e,
    		        cost_of_s_to_v,
    		        first_visit;
    		    while (!open.empty()) {
    		      // In the nodes remaining in graph that have a known cost from s,
    		      // find the node, u, that currently has the shortest path from s.
    		      closest = open.pop();
    		      u = closest.value;
    		      cost_of_s_to_u = closest.cost;

    		      // Get nodes adjacent to u...
    		      adjacent_nodes = graph[u] || {};

    		      // ...and explore the edges that connect u to those nodes, updating
    		      // the cost of the shortest paths to any or all of those nodes as
    		      // necessary. v is the node across the current edge from u.
    		      for (v in adjacent_nodes) {
    		        if (adjacent_nodes.hasOwnProperty(v)) {
    		          // Get the cost of the edge running from u to v.
    		          cost_of_e = adjacent_nodes[v];

    		          // Cost of s to u plus the cost of u to v across e--this is *a*
    		          // cost from s to v that may or may not be less than the current
    		          // known cost to v.
    		          cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;

    		          // If we haven't visited v yet OR if the current known cost from s to
    		          // v is greater than the new cost we just found (cost of s to u plus
    		          // cost of u to v across e), update v's cost in the cost list and
    		          // update v's predecessor in the predecessor list (it's now u).
    		          cost_of_s_to_v = costs[v];
    		          first_visit = (typeof costs[v] === 'undefined');
    		          if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {
    		            costs[v] = cost_of_s_to_u_plus_cost_of_e;
    		            open.push(v, cost_of_s_to_u_plus_cost_of_e);
    		            predecessors[v] = u;
    		          }
    		        }
    		      }
    		    }

    		    if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {
    		      var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');
    		      throw new Error(msg);
    		    }

    		    return predecessors;
    		  },

    		  extract_shortest_path_from_predecessor_list: function(predecessors, d) {
    		    var nodes = [];
    		    var u = d;
    		    while (u) {
    		      nodes.push(u);
    		      predecessors[u];
    		      u = predecessors[u];
    		    }
    		    nodes.reverse();
    		    return nodes;
    		  },

    		  find_path: function(graph, s, d) {
    		    var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);
    		    return dijkstra.extract_shortest_path_from_predecessor_list(
    		      predecessors, d);
    		  },

    		  /**
    		   * A very naive priority queue implementation.
    		   */
    		  PriorityQueue: {
    		    make: function (opts) {
    		      var T = dijkstra.PriorityQueue,
    		          t = {},
    		          key;
    		      opts = opts || {};
    		      for (key in T) {
    		        if (T.hasOwnProperty(key)) {
    		          t[key] = T[key];
    		        }
    		      }
    		      t.queue = [];
    		      t.sorter = opts.sorter || T.default_sorter;
    		      return t;
    		    },

    		    default_sorter: function (a, b) {
    		      return a.cost - b.cost;
    		    },

    		    /**
    		     * Add a new item to the queue and ensure the highest priority element
    		     * is at the front of the queue.
    		     */
    		    push: function (value, cost) {
    		      var item = {value: value, cost: cost};
    		      this.queue.push(item);
    		      this.queue.sort(this.sorter);
    		    },

    		    /**
    		     * Return the highest priority element in the queue.
    		     */
    		    pop: function () {
    		      return this.queue.shift();
    		    },

    		    empty: function () {
    		      return this.queue.length === 0;
    		    }
    		  }
    		};


    		// node.js module exports
    		{
    		  module.exports = dijkstra;
    		} 
    	} (dijkstra));
    	return dijkstra.exports;
    }

    var hasRequiredSegments;

    function requireSegments () {
    	if (hasRequiredSegments) return segments;
    	hasRequiredSegments = 1;
    	(function (exports) {
    		const Mode = requireMode();
    		const NumericData = requireNumericData();
    		const AlphanumericData = requireAlphanumericData();
    		const ByteData = requireByteData();
    		const KanjiData = requireKanjiData();
    		const Regex = requireRegex();
    		const Utils = requireUtils$1();
    		const dijkstra = requireDijkstra();

    		/**
    		 * Returns UTF8 byte length
    		 *
    		 * @param  {String} str Input string
    		 * @return {Number}     Number of byte
    		 */
    		function getStringByteLength (str) {
    		  return unescape(encodeURIComponent(str)).length
    		}

    		/**
    		 * Get a list of segments of the specified mode
    		 * from a string
    		 *
    		 * @param  {Mode}   mode Segment mode
    		 * @param  {String} str  String to process
    		 * @return {Array}       Array of object with segments data
    		 */
    		function getSegments (regex, mode, str) {
    		  const segments = [];
    		  let result;

    		  while ((result = regex.exec(str)) !== null) {
    		    segments.push({
    		      data: result[0],
    		      index: result.index,
    		      mode: mode,
    		      length: result[0].length
    		    });
    		  }

    		  return segments
    		}

    		/**
    		 * Extracts a series of segments with the appropriate
    		 * modes from a string
    		 *
    		 * @param  {String} dataStr Input string
    		 * @return {Array}          Array of object with segments data
    		 */
    		function getSegmentsFromString (dataStr) {
    		  const numSegs = getSegments(Regex.NUMERIC, Mode.NUMERIC, dataStr);
    		  const alphaNumSegs = getSegments(Regex.ALPHANUMERIC, Mode.ALPHANUMERIC, dataStr);
    		  let byteSegs;
    		  let kanjiSegs;

    		  if (Utils.isKanjiModeEnabled()) {
    		    byteSegs = getSegments(Regex.BYTE, Mode.BYTE, dataStr);
    		    kanjiSegs = getSegments(Regex.KANJI, Mode.KANJI, dataStr);
    		  } else {
    		    byteSegs = getSegments(Regex.BYTE_KANJI, Mode.BYTE, dataStr);
    		    kanjiSegs = [];
    		  }

    		  const segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs);

    		  return segs
    		    .sort(function (s1, s2) {
    		      return s1.index - s2.index
    		    })
    		    .map(function (obj) {
    		      return {
    		        data: obj.data,
    		        mode: obj.mode,
    		        length: obj.length
    		      }
    		    })
    		}

    		/**
    		 * Returns how many bits are needed to encode a string of
    		 * specified length with the specified mode
    		 *
    		 * @param  {Number} length String length
    		 * @param  {Mode} mode     Segment mode
    		 * @return {Number}        Bit length
    		 */
    		function getSegmentBitsLength (length, mode) {
    		  switch (mode) {
    		    case Mode.NUMERIC:
    		      return NumericData.getBitsLength(length)
    		    case Mode.ALPHANUMERIC:
    		      return AlphanumericData.getBitsLength(length)
    		    case Mode.KANJI:
    		      return KanjiData.getBitsLength(length)
    		    case Mode.BYTE:
    		      return ByteData.getBitsLength(length)
    		  }
    		}

    		/**
    		 * Merges adjacent segments which have the same mode
    		 *
    		 * @param  {Array} segs Array of object with segments data
    		 * @return {Array}      Array of object with segments data
    		 */
    		function mergeSegments (segs) {
    		  return segs.reduce(function (acc, curr) {
    		    const prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null;
    		    if (prevSeg && prevSeg.mode === curr.mode) {
    		      acc[acc.length - 1].data += curr.data;
    		      return acc
    		    }

    		    acc.push(curr);
    		    return acc
    		  }, [])
    		}

    		/**
    		 * Generates a list of all possible nodes combination which
    		 * will be used to build a segments graph.
    		 *
    		 * Nodes are divided by groups. Each group will contain a list of all the modes
    		 * in which is possible to encode the given text.
    		 *
    		 * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.
    		 * The group for '12345' will contain then 3 objects, one for each
    		 * possible encoding mode.
    		 *
    		 * Each node represents a possible segment.
    		 *
    		 * @param  {Array} segs Array of object with segments data
    		 * @return {Array}      Array of object with segments data
    		 */
    		function buildNodes (segs) {
    		  const nodes = [];
    		  for (let i = 0; i < segs.length; i++) {
    		    const seg = segs[i];

    		    switch (seg.mode) {
    		      case Mode.NUMERIC:
    		        nodes.push([seg,
    		          { data: seg.data, mode: Mode.ALPHANUMERIC, length: seg.length },
    		          { data: seg.data, mode: Mode.BYTE, length: seg.length }
    		        ]);
    		        break
    		      case Mode.ALPHANUMERIC:
    		        nodes.push([seg,
    		          { data: seg.data, mode: Mode.BYTE, length: seg.length }
    		        ]);
    		        break
    		      case Mode.KANJI:
    		        nodes.push([seg,
    		          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }
    		        ]);
    		        break
    		      case Mode.BYTE:
    		        nodes.push([
    		          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }
    		        ]);
    		    }
    		  }

    		  return nodes
    		}

    		/**
    		 * Builds a graph from a list of nodes.
    		 * All segments in each node group will be connected with all the segments of
    		 * the next group and so on.
    		 *
    		 * At each connection will be assigned a weight depending on the
    		 * segment's byte length.
    		 *
    		 * @param  {Array} nodes    Array of object with segments data
    		 * @param  {Number} version QR Code version
    		 * @return {Object}         Graph of all possible segments
    		 */
    		function buildGraph (nodes, version) {
    		  const table = {};
    		  const graph = { start: {} };
    		  let prevNodeIds = ['start'];

    		  for (let i = 0; i < nodes.length; i++) {
    		    const nodeGroup = nodes[i];
    		    const currentNodeIds = [];

    		    for (let j = 0; j < nodeGroup.length; j++) {
    		      const node = nodeGroup[j];
    		      const key = '' + i + j;

    		      currentNodeIds.push(key);
    		      table[key] = { node: node, lastCount: 0 };
    		      graph[key] = {};

    		      for (let n = 0; n < prevNodeIds.length; n++) {
    		        const prevNodeId = prevNodeIds[n];

    		        if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {
    		          graph[prevNodeId][key] =
    		            getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) -
    		            getSegmentBitsLength(table[prevNodeId].lastCount, node.mode);

    		          table[prevNodeId].lastCount += node.length;
    		        } else {
    		          if (table[prevNodeId]) table[prevNodeId].lastCount = node.length;

    		          graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) +
    		            4 + Mode.getCharCountIndicator(node.mode, version); // switch cost
    		        }
    		      }
    		    }

    		    prevNodeIds = currentNodeIds;
    		  }

    		  for (let n = 0; n < prevNodeIds.length; n++) {
    		    graph[prevNodeIds[n]].end = 0;
    		  }

    		  return { map: graph, table: table }
    		}

    		/**
    		 * Builds a segment from a specified data and mode.
    		 * If a mode is not specified, the more suitable will be used.
    		 *
    		 * @param  {String} data             Input data
    		 * @param  {Mode | String} modesHint Data mode
    		 * @return {Segment}                 Segment
    		 */
    		function buildSingleSegment (data, modesHint) {
    		  let mode;
    		  const bestMode = Mode.getBestModeForData(data);

    		  mode = Mode.from(modesHint, bestMode);

    		  // Make sure data can be encoded
    		  if (mode !== Mode.BYTE && mode.bit < bestMode.bit) {
    		    throw new Error('"' + data + '"' +
    		      ' cannot be encoded with mode ' + Mode.toString(mode) +
    		      '.\n Suggested mode is: ' + Mode.toString(bestMode))
    		  }

    		  // Use Mode.BYTE if Kanji support is disabled
    		  if (mode === Mode.KANJI && !Utils.isKanjiModeEnabled()) {
    		    mode = Mode.BYTE;
    		  }

    		  switch (mode) {
    		    case Mode.NUMERIC:
    		      return new NumericData(data)

    		    case Mode.ALPHANUMERIC:
    		      return new AlphanumericData(data)

    		    case Mode.KANJI:
    		      return new KanjiData(data)

    		    case Mode.BYTE:
    		      return new ByteData(data)
    		  }
    		}

    		/**
    		 * Builds a list of segments from an array.
    		 * Array can contain Strings or Objects with segment's info.
    		 *
    		 * For each item which is a string, will be generated a segment with the given
    		 * string and the more appropriate encoding mode.
    		 *
    		 * For each item which is an object, will be generated a segment with the given
    		 * data and mode.
    		 * Objects must contain at least the property "data".
    		 * If property "mode" is not present, the more suitable mode will be used.
    		 *
    		 * @param  {Array} array Array of objects with segments data
    		 * @return {Array}       Array of Segments
    		 */
    		exports.fromArray = function fromArray (array) {
    		  return array.reduce(function (acc, seg) {
    		    if (typeof seg === 'string') {
    		      acc.push(buildSingleSegment(seg, null));
    		    } else if (seg.data) {
    		      acc.push(buildSingleSegment(seg.data, seg.mode));
    		    }

    		    return acc
    		  }, [])
    		};

    		/**
    		 * Builds an optimized sequence of segments from a string,
    		 * which will produce the shortest possible bitstream.
    		 *
    		 * @param  {String} data    Input string
    		 * @param  {Number} version QR Code version
    		 * @return {Array}          Array of segments
    		 */
    		exports.fromString = function fromString (data, version) {
    		  const segs = getSegmentsFromString(data, Utils.isKanjiModeEnabled());

    		  const nodes = buildNodes(segs);
    		  const graph = buildGraph(nodes, version);
    		  const path = dijkstra.find_path(graph.map, 'start', 'end');

    		  const optimizedSegs = [];
    		  for (let i = 1; i < path.length - 1; i++) {
    		    optimizedSegs.push(graph.table[path[i]].node);
    		  }

    		  return exports.fromArray(mergeSegments(optimizedSegs))
    		};

    		/**
    		 * Splits a string in various segments with the modes which
    		 * best represent their content.
    		 * The produced segments are far from being optimized.
    		 * The output of this function is only used to estimate a QR Code version
    		 * which may contain the data.
    		 *
    		 * @param  {string} data Input string
    		 * @return {Array}       Array of segments
    		 */
    		exports.rawSplit = function rawSplit (data) {
    		  return exports.fromArray(
    		    getSegmentsFromString(data, Utils.isKanjiModeEnabled())
    		  )
    		}; 
    	} (segments));
    	return segments;
    }

    var hasRequiredQrcode;

    function requireQrcode () {
    	if (hasRequiredQrcode) return qrcode;
    	hasRequiredQrcode = 1;
    	const Utils = requireUtils$1();
    	const ECLevel = requireErrorCorrectionLevel();
    	const BitBuffer = requireBitBuffer();
    	const BitMatrix = requireBitMatrix();
    	const AlignmentPattern = requireAlignmentPattern();
    	const FinderPattern = requireFinderPattern();
    	const MaskPattern = requireMaskPattern();
    	const ECCode = requireErrorCorrectionCode();
    	const ReedSolomonEncoder = requireReedSolomonEncoder();
    	const Version = requireVersion();
    	const FormatInfo = requireFormatInfo();
    	const Mode = requireMode();
    	const Segments = requireSegments();

    	/**
    	 * QRCode for JavaScript
    	 *
    	 * modified by Ryan Day for nodejs support
    	 * Copyright (c) 2011 Ryan Day
    	 *
    	 * Licensed under the MIT license:
    	 *   http://www.opensource.org/licenses/mit-license.php
    	 *
    	//---------------------------------------------------------------------
    	// QRCode for JavaScript
    	//
    	// Copyright (c) 2009 Kazuhiko Arase
    	//
    	// URL: http://www.d-project.com/
    	//
    	// Licensed under the MIT license:
    	//   http://www.opensource.org/licenses/mit-license.php
    	//
    	// The word "QR Code" is registered trademark of
    	// DENSO WAVE INCORPORATED
    	//   http://www.denso-wave.com/qrcode/faqpatent-e.html
    	//
    	//---------------------------------------------------------------------
    	*/

    	/**
    	 * Add finder patterns bits to matrix
    	 *
    	 * @param  {BitMatrix} matrix  Modules matrix
    	 * @param  {Number}    version QR Code version
    	 */
    	function setupFinderPattern (matrix, version) {
    	  const size = matrix.size;
    	  const pos = FinderPattern.getPositions(version);

    	  for (let i = 0; i < pos.length; i++) {
    	    const row = pos[i][0];
    	    const col = pos[i][1];

    	    for (let r = -1; r <= 7; r++) {
    	      if (row + r <= -1 || size <= row + r) continue

    	      for (let c = -1; c <= 7; c++) {
    	        if (col + c <= -1 || size <= col + c) continue

    	        if ((r >= 0 && r <= 6 && (c === 0 || c === 6)) ||
    	          (c >= 0 && c <= 6 && (r === 0 || r === 6)) ||
    	          (r >= 2 && r <= 4 && c >= 2 && c <= 4)) {
    	          matrix.set(row + r, col + c, true, true);
    	        } else {
    	          matrix.set(row + r, col + c, false, true);
    	        }
    	      }
    	    }
    	  }
    	}

    	/**
    	 * Add timing pattern bits to matrix
    	 *
    	 * Note: this function must be called before {@link setupAlignmentPattern}
    	 *
    	 * @param  {BitMatrix} matrix Modules matrix
    	 */
    	function setupTimingPattern (matrix) {
    	  const size = matrix.size;

    	  for (let r = 8; r < size - 8; r++) {
    	    const value = r % 2 === 0;
    	    matrix.set(r, 6, value, true);
    	    matrix.set(6, r, value, true);
    	  }
    	}

    	/**
    	 * Add alignment patterns bits to matrix
    	 *
    	 * Note: this function must be called after {@link setupTimingPattern}
    	 *
    	 * @param  {BitMatrix} matrix  Modules matrix
    	 * @param  {Number}    version QR Code version
    	 */
    	function setupAlignmentPattern (matrix, version) {
    	  const pos = AlignmentPattern.getPositions(version);

    	  for (let i = 0; i < pos.length; i++) {
    	    const row = pos[i][0];
    	    const col = pos[i][1];

    	    for (let r = -2; r <= 2; r++) {
    	      for (let c = -2; c <= 2; c++) {
    	        if (r === -2 || r === 2 || c === -2 || c === 2 ||
    	          (r === 0 && c === 0)) {
    	          matrix.set(row + r, col + c, true, true);
    	        } else {
    	          matrix.set(row + r, col + c, false, true);
    	        }
    	      }
    	    }
    	  }
    	}

    	/**
    	 * Add version info bits to matrix
    	 *
    	 * @param  {BitMatrix} matrix  Modules matrix
    	 * @param  {Number}    version QR Code version
    	 */
    	function setupVersionInfo (matrix, version) {
    	  const size = matrix.size;
    	  const bits = Version.getEncodedBits(version);
    	  let row, col, mod;

    	  for (let i = 0; i < 18; i++) {
    	    row = Math.floor(i / 3);
    	    col = i % 3 + size - 8 - 3;
    	    mod = ((bits >> i) & 1) === 1;

    	    matrix.set(row, col, mod, true);
    	    matrix.set(col, row, mod, true);
    	  }
    	}

    	/**
    	 * Add format info bits to matrix
    	 *
    	 * @param  {BitMatrix} matrix               Modules matrix
    	 * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level
    	 * @param  {Number}    maskPattern          Mask pattern reference value
    	 */
    	function setupFormatInfo (matrix, errorCorrectionLevel, maskPattern) {
    	  const size = matrix.size;
    	  const bits = FormatInfo.getEncodedBits(errorCorrectionLevel, maskPattern);
    	  let i, mod;

    	  for (i = 0; i < 15; i++) {
    	    mod = ((bits >> i) & 1) === 1;

    	    // vertical
    	    if (i < 6) {
    	      matrix.set(i, 8, mod, true);
    	    } else if (i < 8) {
    	      matrix.set(i + 1, 8, mod, true);
    	    } else {
    	      matrix.set(size - 15 + i, 8, mod, true);
    	    }

    	    // horizontal
    	    if (i < 8) {
    	      matrix.set(8, size - i - 1, mod, true);
    	    } else if (i < 9) {
    	      matrix.set(8, 15 - i - 1 + 1, mod, true);
    	    } else {
    	      matrix.set(8, 15 - i - 1, mod, true);
    	    }
    	  }

    	  // fixed module
    	  matrix.set(size - 8, 8, 1, true);
    	}

    	/**
    	 * Add encoded data bits to matrix
    	 *
    	 * @param  {BitMatrix}  matrix Modules matrix
    	 * @param  {Uint8Array} data   Data codewords
    	 */
    	function setupData (matrix, data) {
    	  const size = matrix.size;
    	  let inc = -1;
    	  let row = size - 1;
    	  let bitIndex = 7;
    	  let byteIndex = 0;

    	  for (let col = size - 1; col > 0; col -= 2) {
    	    if (col === 6) col--;

    	    while (true) {
    	      for (let c = 0; c < 2; c++) {
    	        if (!matrix.isReserved(row, col - c)) {
    	          let dark = false;

    	          if (byteIndex < data.length) {
    	            dark = (((data[byteIndex] >>> bitIndex) & 1) === 1);
    	          }

    	          matrix.set(row, col - c, dark);
    	          bitIndex--;

    	          if (bitIndex === -1) {
    	            byteIndex++;
    	            bitIndex = 7;
    	          }
    	        }
    	      }

    	      row += inc;

    	      if (row < 0 || size <= row) {
    	        row -= inc;
    	        inc = -inc;
    	        break
    	      }
    	    }
    	  }
    	}

    	/**
    	 * Create encoded codewords from data input
    	 *
    	 * @param  {Number}   version              QR Code version
    	 * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level
    	 * @param  {ByteData} data                 Data input
    	 * @return {Uint8Array}                    Buffer containing encoded codewords
    	 */
    	function createData (version, errorCorrectionLevel, segments) {
    	  // Prepare data buffer
    	  const buffer = new BitBuffer();

    	  segments.forEach(function (data) {
    	    // prefix data with mode indicator (4 bits)
    	    buffer.put(data.mode.bit, 4);

    	    // Prefix data with character count indicator.
    	    // The character count indicator is a string of bits that represents the
    	    // number of characters that are being encoded.
    	    // The character count indicator must be placed after the mode indicator
    	    // and must be a certain number of bits long, depending on the QR version
    	    // and data mode
    	    // @see {@link Mode.getCharCountIndicator}.
    	    buffer.put(data.getLength(), Mode.getCharCountIndicator(data.mode, version));

    	    // add binary data sequence to buffer
    	    data.write(buffer);
    	  });

    	  // Calculate required number of bits
    	  const totalCodewords = Utils.getSymbolTotalCodewords(version);
    	  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel);
    	  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;

    	  // Add a terminator.
    	  // If the bit string is shorter than the total number of required bits,
    	  // a terminator of up to four 0s must be added to the right side of the string.
    	  // If the bit string is more than four bits shorter than the required number of bits,
    	  // add four 0s to the end.
    	  if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {
    	    buffer.put(0, 4);
    	  }

    	  // If the bit string is fewer than four bits shorter, add only the number of 0s that
    	  // are needed to reach the required number of bits.

    	  // After adding the terminator, if the number of bits in the string is not a multiple of 8,
    	  // pad the string on the right with 0s to make the string's length a multiple of 8.
    	  while (buffer.getLengthInBits() % 8 !== 0) {
    	    buffer.putBit(0);
    	  }

    	  // Add pad bytes if the string is still shorter than the total number of required bits.
    	  // Extend the buffer to fill the data capacity of the symbol corresponding to
    	  // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)
    	  // and 00010001 (0x11) alternately.
    	  const remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8;
    	  for (let i = 0; i < remainingByte; i++) {
    	    buffer.put(i % 2 ? 0x11 : 0xEC, 8);
    	  }

    	  return createCodewords(buffer, version, errorCorrectionLevel)
    	}

    	/**
    	 * Encode input data with Reed-Solomon and return codewords with
    	 * relative error correction bits
    	 *
    	 * @param  {BitBuffer} bitBuffer            Data to encode
    	 * @param  {Number}    version              QR Code version
    	 * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level
    	 * @return {Uint8Array}                     Buffer containing encoded codewords
    	 */
    	function createCodewords (bitBuffer, version, errorCorrectionLevel) {
    	  // Total codewords for this QR code version (Data + Error correction)
    	  const totalCodewords = Utils.getSymbolTotalCodewords(version);

    	  // Total number of error correction codewords
    	  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel);

    	  // Total number of data codewords
    	  const dataTotalCodewords = totalCodewords - ecTotalCodewords;

    	  // Total number of blocks
    	  const ecTotalBlocks = ECCode.getBlocksCount(version, errorCorrectionLevel);

    	  // Calculate how many blocks each group should contain
    	  const blocksInGroup2 = totalCodewords % ecTotalBlocks;
    	  const blocksInGroup1 = ecTotalBlocks - blocksInGroup2;

    	  const totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks);

    	  const dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks);
    	  const dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1;

    	  // Number of EC codewords is the same for both groups
    	  const ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1;

    	  // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount
    	  const rs = new ReedSolomonEncoder(ecCount);

    	  let offset = 0;
    	  const dcData = new Array(ecTotalBlocks);
    	  const ecData = new Array(ecTotalBlocks);
    	  let maxDataSize = 0;
    	  const buffer = new Uint8Array(bitBuffer.buffer);

    	  // Divide the buffer into the required number of blocks
    	  for (let b = 0; b < ecTotalBlocks; b++) {
    	    const dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2;

    	    // extract a block of data from buffer
    	    dcData[b] = buffer.slice(offset, offset + dataSize);

    	    // Calculate EC codewords for this data block
    	    ecData[b] = rs.encode(dcData[b]);

    	    offset += dataSize;
    	    maxDataSize = Math.max(maxDataSize, dataSize);
    	  }

    	  // Create final data
    	  // Interleave the data and error correction codewords from each block
    	  const data = new Uint8Array(totalCodewords);
    	  let index = 0;
    	  let i, r;

    	  // Add data codewords
    	  for (i = 0; i < maxDataSize; i++) {
    	    for (r = 0; r < ecTotalBlocks; r++) {
    	      if (i < dcData[r].length) {
    	        data[index++] = dcData[r][i];
    	      }
    	    }
    	  }

    	  // Apped EC codewords
    	  for (i = 0; i < ecCount; i++) {
    	    for (r = 0; r < ecTotalBlocks; r++) {
    	      data[index++] = ecData[r][i];
    	    }
    	  }

    	  return data
    	}

    	/**
    	 * Build QR Code symbol
    	 *
    	 * @param  {String} data                 Input string
    	 * @param  {Number} version              QR Code version
    	 * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level
    	 * @param  {MaskPattern} maskPattern     Mask pattern
    	 * @return {Object}                      Object containing symbol data
    	 */
    	function createSymbol (data, version, errorCorrectionLevel, maskPattern) {
    	  let segments;

    	  if (Array.isArray(data)) {
    	    segments = Segments.fromArray(data);
    	  } else if (typeof data === 'string') {
    	    let estimatedVersion = version;

    	    if (!estimatedVersion) {
    	      const rawSegments = Segments.rawSplit(data);

    	      // Estimate best version that can contain raw splitted segments
    	      estimatedVersion = Version.getBestVersionForData(rawSegments, errorCorrectionLevel);
    	    }

    	    // Build optimized segments
    	    // If estimated version is undefined, try with the highest version
    	    segments = Segments.fromString(data, estimatedVersion || 40);
    	  } else {
    	    throw new Error('Invalid data')
    	  }

    	  // Get the min version that can contain data
    	  const bestVersion = Version.getBestVersionForData(segments, errorCorrectionLevel);

    	  // If no version is found, data cannot be stored
    	  if (!bestVersion) {
    	    throw new Error('The amount of data is too big to be stored in a QR Code')
    	  }

    	  // If not specified, use min version as default
    	  if (!version) {
    	    version = bestVersion;

    	  // Check if the specified version can contain the data
    	  } else if (version < bestVersion) {
    	    throw new Error('\n' +
    	      'The chosen QR Code version cannot contain this amount of data.\n' +
    	      'Minimum version required to store current data is: ' + bestVersion + '.\n'
    	    )
    	  }

    	  const dataBits = createData(version, errorCorrectionLevel, segments);

    	  // Allocate matrix buffer
    	  const moduleCount = Utils.getSymbolSize(version);
    	  const modules = new BitMatrix(moduleCount);

    	  // Add function modules
    	  setupFinderPattern(modules, version);
    	  setupTimingPattern(modules);
    	  setupAlignmentPattern(modules, version);

    	  // Add temporary dummy bits for format info just to set them as reserved.
    	  // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}
    	  // since the masking operation must be performed only on the encoding region.
    	  // These blocks will be replaced with correct values later in code.
    	  setupFormatInfo(modules, errorCorrectionLevel, 0);

    	  if (version >= 7) {
    	    setupVersionInfo(modules, version);
    	  }

    	  // Add data codewords
    	  setupData(modules, dataBits);

    	  if (isNaN(maskPattern)) {
    	    // Find best mask pattern
    	    maskPattern = MaskPattern.getBestMask(modules,
    	      setupFormatInfo.bind(null, modules, errorCorrectionLevel));
    	  }

    	  // Apply mask pattern
    	  MaskPattern.applyMask(maskPattern, modules);

    	  // Replace format info bits with correct values
    	  setupFormatInfo(modules, errorCorrectionLevel, maskPattern);

    	  return {
    	    modules: modules,
    	    version: version,
    	    errorCorrectionLevel: errorCorrectionLevel,
    	    maskPattern: maskPattern,
    	    segments: segments
    	  }
    	}

    	/**
    	 * QR Code
    	 *
    	 * @param {String | Array} data                 Input data
    	 * @param {Object} options                      Optional configurations
    	 * @param {Number} options.version              QR Code version
    	 * @param {String} options.errorCorrectionLevel Error correction level
    	 * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis
    	 */
    	qrcode.create = function create (data, options) {
    	  if (typeof data === 'undefined' || data === '') {
    	    throw new Error('No input text')
    	  }

    	  let errorCorrectionLevel = ECLevel.M;
    	  let version;
    	  let mask;

    	  if (typeof options !== 'undefined') {
    	    // Use higher error correction level as default
    	    errorCorrectionLevel = ECLevel.from(options.errorCorrectionLevel, ECLevel.M);
    	    version = Version.from(options.version);
    	    mask = MaskPattern.from(options.maskPattern);

    	    if (options.toSJISFunc) {
    	      Utils.setToSJISFunction(options.toSJISFunc);
    	    }
    	  }

    	  return createSymbol(data, version, errorCorrectionLevel, mask)
    	};
    	return qrcode;
    }

    var png$1 = {};

    var png = {};

    var parserAsync = {exports: {}};

    var chunkstream = {exports: {}};

    var hasRequiredChunkstream;

    function requireChunkstream () {
    	if (hasRequiredChunkstream) return chunkstream.exports;
    	hasRequiredChunkstream = 1;

    	let util = require$$0$4;
    	let Stream = require$$0$a;

    	let ChunkStream = (chunkstream.exports = function () {
    	  Stream.call(this);

    	  this._buffers = [];
    	  this._buffered = 0;

    	  this._reads = [];
    	  this._paused = false;

    	  this._encoding = "utf8";
    	  this.writable = true;
    	});
    	util.inherits(ChunkStream, Stream);

    	ChunkStream.prototype.read = function (length, callback) {
    	  this._reads.push({
    	    length: Math.abs(length), // if length < 0 then at most this length
    	    allowLess: length < 0,
    	    func: callback,
    	  });

    	  process.nextTick(
    	    function () {
    	      this._process();

    	      // its paused and there is not enought data then ask for more
    	      if (this._paused && this._reads && this._reads.length > 0) {
    	        this._paused = false;

    	        this.emit("drain");
    	      }
    	    }.bind(this)
    	  );
    	};

    	ChunkStream.prototype.write = function (data, encoding) {
    	  if (!this.writable) {
    	    this.emit("error", new Error("Stream not writable"));
    	    return false;
    	  }

    	  let dataBuffer;
    	  if (Buffer.isBuffer(data)) {
    	    dataBuffer = data;
    	  } else {
    	    dataBuffer = Buffer.from(data, encoding || this._encoding);
    	  }

    	  this._buffers.push(dataBuffer);
    	  this._buffered += dataBuffer.length;

    	  this._process();

    	  // ok if there are no more read requests
    	  if (this._reads && this._reads.length === 0) {
    	    this._paused = true;
    	  }

    	  return this.writable && !this._paused;
    	};

    	ChunkStream.prototype.end = function (data, encoding) {
    	  if (data) {
    	    this.write(data, encoding);
    	  }

    	  this.writable = false;

    	  // already destroyed
    	  if (!this._buffers) {
    	    return;
    	  }

    	  // enqueue or handle end
    	  if (this._buffers.length === 0) {
    	    this._end();
    	  } else {
    	    this._buffers.push(null);
    	    this._process();
    	  }
    	};

    	ChunkStream.prototype.destroySoon = ChunkStream.prototype.end;

    	ChunkStream.prototype._end = function () {
    	  if (this._reads.length > 0) {
    	    this.emit("error", new Error("Unexpected end of input"));
    	  }

    	  this.destroy();
    	};

    	ChunkStream.prototype.destroy = function () {
    	  if (!this._buffers) {
    	    return;
    	  }

    	  this.writable = false;
    	  this._reads = null;
    	  this._buffers = null;

    	  this.emit("close");
    	};

    	ChunkStream.prototype._processReadAllowingLess = function (read) {
    	  // ok there is any data so that we can satisfy this request
    	  this._reads.shift(); // == read

    	  // first we need to peek into first buffer
    	  let smallerBuf = this._buffers[0];

    	  // ok there is more data than we need
    	  if (smallerBuf.length > read.length) {
    	    this._buffered -= read.length;
    	    this._buffers[0] = smallerBuf.slice(read.length);

    	    read.func.call(this, smallerBuf.slice(0, read.length));
    	  } else {
    	    // ok this is less than maximum length so use it all
    	    this._buffered -= smallerBuf.length;
    	    this._buffers.shift(); // == smallerBuf

    	    read.func.call(this, smallerBuf);
    	  }
    	};

    	ChunkStream.prototype._processRead = function (read) {
    	  this._reads.shift(); // == read

    	  let pos = 0;
    	  let count = 0;
    	  let data = Buffer.alloc(read.length);

    	  // create buffer for all data
    	  while (pos < read.length) {
    	    let buf = this._buffers[count++];
    	    let len = Math.min(buf.length, read.length - pos);

    	    buf.copy(data, pos, 0, len);
    	    pos += len;

    	    // last buffer wasn't used all so just slice it and leave
    	    if (len !== buf.length) {
    	      this._buffers[--count] = buf.slice(len);
    	    }
    	  }

    	  // remove all used buffers
    	  if (count > 0) {
    	    this._buffers.splice(0, count);
    	  }

    	  this._buffered -= read.length;

    	  read.func.call(this, data);
    	};

    	ChunkStream.prototype._process = function () {
    	  try {
    	    // as long as there is any data and read requests
    	    while (this._buffered > 0 && this._reads && this._reads.length > 0) {
    	      let read = this._reads[0];

    	      // read any data (but no more than length)
    	      if (read.allowLess) {
    	        this._processReadAllowingLess(read);
    	      } else if (this._buffered >= read.length) {
    	        // ok we can meet some expectations

    	        this._processRead(read);
    	      } else {
    	        // not enought data to satisfy first request in queue
    	        // so we need to wait for more
    	        break;
    	      }
    	    }

    	    if (this._buffers && !this.writable) {
    	      this._end();
    	    }
    	  } catch (ex) {
    	    this.emit("error", ex);
    	  }
    	};
    	return chunkstream.exports;
    }

    var filterParseAsync = {exports: {}};

    var filterParse = {exports: {}};

    var interlace = {};

    var hasRequiredInterlace;

    function requireInterlace () {
    	if (hasRequiredInterlace) return interlace;
    	hasRequiredInterlace = 1;

    	// Adam 7
    	//   0 1 2 3 4 5 6 7
    	// 0 x 6 4 6 x 6 4 6
    	// 1 7 7 7 7 7 7 7 7
    	// 2 5 6 5 6 5 6 5 6
    	// 3 7 7 7 7 7 7 7 7
    	// 4 3 6 4 6 3 6 4 6
    	// 5 7 7 7 7 7 7 7 7
    	// 6 5 6 5 6 5 6 5 6
    	// 7 7 7 7 7 7 7 7 7

    	let imagePasses = [
    	  {
    	    // pass 1 - 1px
    	    x: [0],
    	    y: [0],
    	  },
    	  {
    	    // pass 2 - 1px
    	    x: [4],
    	    y: [0],
    	  },
    	  {
    	    // pass 3 - 2px
    	    x: [0, 4],
    	    y: [4],
    	  },
    	  {
    	    // pass 4 - 4px
    	    x: [2, 6],
    	    y: [0, 4],
    	  },
    	  {
    	    // pass 5 - 8px
    	    x: [0, 2, 4, 6],
    	    y: [2, 6],
    	  },
    	  {
    	    // pass 6 - 16px
    	    x: [1, 3, 5, 7],
    	    y: [0, 2, 4, 6],
    	  },
    	  {
    	    // pass 7 - 32px
    	    x: [0, 1, 2, 3, 4, 5, 6, 7],
    	    y: [1, 3, 5, 7],
    	  },
    	];

    	interlace.getImagePasses = function (width, height) {
    	  let images = [];
    	  let xLeftOver = width % 8;
    	  let yLeftOver = height % 8;
    	  let xRepeats = (width - xLeftOver) / 8;
    	  let yRepeats = (height - yLeftOver) / 8;
    	  for (let i = 0; i < imagePasses.length; i++) {
    	    let pass = imagePasses[i];
    	    let passWidth = xRepeats * pass.x.length;
    	    let passHeight = yRepeats * pass.y.length;
    	    for (let j = 0; j < pass.x.length; j++) {
    	      if (pass.x[j] < xLeftOver) {
    	        passWidth++;
    	      } else {
    	        break;
    	      }
    	    }
    	    for (let j = 0; j < pass.y.length; j++) {
    	      if (pass.y[j] < yLeftOver) {
    	        passHeight++;
    	      } else {
    	        break;
    	      }
    	    }
    	    if (passWidth > 0 && passHeight > 0) {
    	      images.push({ width: passWidth, height: passHeight, index: i });
    	    }
    	  }
    	  return images;
    	};

    	interlace.getInterlaceIterator = function (width) {
    	  return function (x, y, pass) {
    	    let outerXLeftOver = x % imagePasses[pass].x.length;
    	    let outerX =
    	      ((x - outerXLeftOver) / imagePasses[pass].x.length) * 8 +
    	      imagePasses[pass].x[outerXLeftOver];
    	    let outerYLeftOver = y % imagePasses[pass].y.length;
    	    let outerY =
    	      ((y - outerYLeftOver) / imagePasses[pass].y.length) * 8 +
    	      imagePasses[pass].y[outerYLeftOver];
    	    return outerX * 4 + outerY * width * 4;
    	  };
    	};
    	return interlace;
    }

    var paethPredictor;
    var hasRequiredPaethPredictor;

    function requirePaethPredictor () {
    	if (hasRequiredPaethPredictor) return paethPredictor;
    	hasRequiredPaethPredictor = 1;

    	paethPredictor = function paethPredictor(left, above, upLeft) {
    	  let paeth = left + above - upLeft;
    	  let pLeft = Math.abs(paeth - left);
    	  let pAbove = Math.abs(paeth - above);
    	  let pUpLeft = Math.abs(paeth - upLeft);

    	  if (pLeft <= pAbove && pLeft <= pUpLeft) {
    	    return left;
    	  }
    	  if (pAbove <= pUpLeft) {
    	    return above;
    	  }
    	  return upLeft;
    	};
    	return paethPredictor;
    }

    var hasRequiredFilterParse;

    function requireFilterParse () {
    	if (hasRequiredFilterParse) return filterParse.exports;
    	hasRequiredFilterParse = 1;

    	let interlaceUtils = requireInterlace();
    	let paethPredictor = requirePaethPredictor();

    	function getByteWidth(width, bpp, depth) {
    	  let byteWidth = width * bpp;
    	  if (depth !== 8) {
    	    byteWidth = Math.ceil(byteWidth / (8 / depth));
    	  }
    	  return byteWidth;
    	}

    	let Filter = (filterParse.exports = function (bitmapInfo, dependencies) {
    	  let width = bitmapInfo.width;
    	  let height = bitmapInfo.height;
    	  let interlace = bitmapInfo.interlace;
    	  let bpp = bitmapInfo.bpp;
    	  let depth = bitmapInfo.depth;

    	  this.read = dependencies.read;
    	  this.write = dependencies.write;
    	  this.complete = dependencies.complete;

    	  this._imageIndex = 0;
    	  this._images = [];
    	  if (interlace) {
    	    let passes = interlaceUtils.getImagePasses(width, height);
    	    for (let i = 0; i < passes.length; i++) {
    	      this._images.push({
    	        byteWidth: getByteWidth(passes[i].width, bpp, depth),
    	        height: passes[i].height,
    	        lineIndex: 0,
    	      });
    	    }
    	  } else {
    	    this._images.push({
    	      byteWidth: getByteWidth(width, bpp, depth),
    	      height: height,
    	      lineIndex: 0,
    	    });
    	  }

    	  // when filtering the line we look at the pixel to the left
    	  // the spec also says it is done on a byte level regardless of the number of pixels
    	  // so if the depth is byte compatible (8 or 16) we subtract the bpp in order to compare back
    	  // a pixel rather than just a different byte part. However if we are sub byte, we ignore.
    	  if (depth === 8) {
    	    this._xComparison = bpp;
    	  } else if (depth === 16) {
    	    this._xComparison = bpp * 2;
    	  } else {
    	    this._xComparison = 1;
    	  }
    	});

    	Filter.prototype.start = function () {
    	  this.read(
    	    this._images[this._imageIndex].byteWidth + 1,
    	    this._reverseFilterLine.bind(this)
    	  );
    	};

    	Filter.prototype._unFilterType1 = function (
    	  rawData,
    	  unfilteredLine,
    	  byteWidth
    	) {
    	  let xComparison = this._xComparison;
    	  let xBiggerThan = xComparison - 1;

    	  for (let x = 0; x < byteWidth; x++) {
    	    let rawByte = rawData[1 + x];
    	    let f1Left = x > xBiggerThan ? unfilteredLine[x - xComparison] : 0;
    	    unfilteredLine[x] = rawByte + f1Left;
    	  }
    	};

    	Filter.prototype._unFilterType2 = function (
    	  rawData,
    	  unfilteredLine,
    	  byteWidth
    	) {
    	  let lastLine = this._lastLine;

    	  for (let x = 0; x < byteWidth; x++) {
    	    let rawByte = rawData[1 + x];
    	    let f2Up = lastLine ? lastLine[x] : 0;
    	    unfilteredLine[x] = rawByte + f2Up;
    	  }
    	};

    	Filter.prototype._unFilterType3 = function (
    	  rawData,
    	  unfilteredLine,
    	  byteWidth
    	) {
    	  let xComparison = this._xComparison;
    	  let xBiggerThan = xComparison - 1;
    	  let lastLine = this._lastLine;

    	  for (let x = 0; x < byteWidth; x++) {
    	    let rawByte = rawData[1 + x];
    	    let f3Up = lastLine ? lastLine[x] : 0;
    	    let f3Left = x > xBiggerThan ? unfilteredLine[x - xComparison] : 0;
    	    let f3Add = Math.floor((f3Left + f3Up) / 2);
    	    unfilteredLine[x] = rawByte + f3Add;
    	  }
    	};

    	Filter.prototype._unFilterType4 = function (
    	  rawData,
    	  unfilteredLine,
    	  byteWidth
    	) {
    	  let xComparison = this._xComparison;
    	  let xBiggerThan = xComparison - 1;
    	  let lastLine = this._lastLine;

    	  for (let x = 0; x < byteWidth; x++) {
    	    let rawByte = rawData[1 + x];
    	    let f4Up = lastLine ? lastLine[x] : 0;
    	    let f4Left = x > xBiggerThan ? unfilteredLine[x - xComparison] : 0;
    	    let f4UpLeft = x > xBiggerThan && lastLine ? lastLine[x - xComparison] : 0;
    	    let f4Add = paethPredictor(f4Left, f4Up, f4UpLeft);
    	    unfilteredLine[x] = rawByte + f4Add;
    	  }
    	};

    	Filter.prototype._reverseFilterLine = function (rawData) {
    	  let filter = rawData[0];
    	  let unfilteredLine;
    	  let currentImage = this._images[this._imageIndex];
    	  let byteWidth = currentImage.byteWidth;

    	  if (filter === 0) {
    	    unfilteredLine = rawData.slice(1, byteWidth + 1);
    	  } else {
    	    unfilteredLine = Buffer.alloc(byteWidth);

    	    switch (filter) {
    	      case 1:
    	        this._unFilterType1(rawData, unfilteredLine, byteWidth);
    	        break;
    	      case 2:
    	        this._unFilterType2(rawData, unfilteredLine, byteWidth);
    	        break;
    	      case 3:
    	        this._unFilterType3(rawData, unfilteredLine, byteWidth);
    	        break;
    	      case 4:
    	        this._unFilterType4(rawData, unfilteredLine, byteWidth);
    	        break;
    	      default:
    	        throw new Error("Unrecognised filter type - " + filter);
    	    }
    	  }

    	  this.write(unfilteredLine);

    	  currentImage.lineIndex++;
    	  if (currentImage.lineIndex >= currentImage.height) {
    	    this._lastLine = null;
    	    this._imageIndex++;
    	    currentImage = this._images[this._imageIndex];
    	  } else {
    	    this._lastLine = unfilteredLine;
    	  }

    	  if (currentImage) {
    	    // read, using the byte width that may be from the new current image
    	    this.read(currentImage.byteWidth + 1, this._reverseFilterLine.bind(this));
    	  } else {
    	    this._lastLine = null;
    	    this.complete();
    	  }
    	};
    	return filterParse.exports;
    }

    var hasRequiredFilterParseAsync;

    function requireFilterParseAsync () {
    	if (hasRequiredFilterParseAsync) return filterParseAsync.exports;
    	hasRequiredFilterParseAsync = 1;

    	let util = require$$0$4;
    	let ChunkStream = requireChunkstream();
    	let Filter = requireFilterParse();

    	let FilterAsync = (filterParseAsync.exports = function (bitmapInfo) {
    	  ChunkStream.call(this);

    	  let buffers = [];
    	  let that = this;
    	  this._filter = new Filter(bitmapInfo, {
    	    read: this.read.bind(this),
    	    write: function (buffer) {
    	      buffers.push(buffer);
    	    },
    	    complete: function () {
    	      that.emit("complete", Buffer.concat(buffers));
    	    },
    	  });

    	  this._filter.start();
    	});
    	util.inherits(FilterAsync, ChunkStream);
    	return filterParseAsync.exports;
    }

    var parser = {exports: {}};

    var constants;
    var hasRequiredConstants;

    function requireConstants () {
    	if (hasRequiredConstants) return constants;
    	hasRequiredConstants = 1;

    	constants = {
    	  PNG_SIGNATURE: [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a],

    	  TYPE_IHDR: 0x49484452,
    	  TYPE_IEND: 0x49454e44,
    	  TYPE_IDAT: 0x49444154,
    	  TYPE_PLTE: 0x504c5445,
    	  TYPE_tRNS: 0x74524e53, // eslint-disable-line camelcase
    	  TYPE_gAMA: 0x67414d41, // eslint-disable-line camelcase

    	  // color-type bits
    	  COLORTYPE_GRAYSCALE: 0,
    	  COLORTYPE_PALETTE: 1,
    	  COLORTYPE_COLOR: 2,
    	  COLORTYPE_ALPHA: 4, // e.g. grayscale and alpha

    	  // color-type combinations
    	  COLORTYPE_PALETTE_COLOR: 3,
    	  COLORTYPE_COLOR_ALPHA: 6,

    	  COLORTYPE_TO_BPP_MAP: {
    	    0: 1,
    	    2: 3,
    	    3: 1,
    	    4: 2,
    	    6: 4,
    	  },

    	  GAMMA_DIVISION: 100000,
    	};
    	return constants;
    }

    var crc = {exports: {}};

    var hasRequiredCrc;

    function requireCrc () {
    	if (hasRequiredCrc) return crc.exports;
    	hasRequiredCrc = 1;

    	let crcTable = [];

    	(function () {
    	  for (let i = 0; i < 256; i++) {
    	    let currentCrc = i;
    	    for (let j = 0; j < 8; j++) {
    	      if (currentCrc & 1) {
    	        currentCrc = 0xedb88320 ^ (currentCrc >>> 1);
    	      } else {
    	        currentCrc = currentCrc >>> 1;
    	      }
    	    }
    	    crcTable[i] = currentCrc;
    	  }
    	})();

    	let CrcCalculator = (crc.exports = function () {
    	  this._crc = -1;
    	});

    	CrcCalculator.prototype.write = function (data) {
    	  for (let i = 0; i < data.length; i++) {
    	    this._crc = crcTable[(this._crc ^ data[i]) & 0xff] ^ (this._crc >>> 8);
    	  }
    	  return true;
    	};

    	CrcCalculator.prototype.crc32 = function () {
    	  return this._crc ^ -1;
    	};

    	CrcCalculator.crc32 = function (buf) {
    	  let crc = -1;
    	  for (let i = 0; i < buf.length; i++) {
    	    crc = crcTable[(crc ^ buf[i]) & 0xff] ^ (crc >>> 8);
    	  }
    	  return crc ^ -1;
    	};
    	return crc.exports;
    }

    var hasRequiredParser;

    function requireParser () {
    	if (hasRequiredParser) return parser.exports;
    	hasRequiredParser = 1;

    	let constants = requireConstants();
    	let CrcCalculator = requireCrc();

    	let Parser = (parser.exports = function (options, dependencies) {
    	  this._options = options;
    	  options.checkCRC = options.checkCRC !== false;

    	  this._hasIHDR = false;
    	  this._hasIEND = false;
    	  this._emittedHeadersFinished = false;

    	  // input flags/metadata
    	  this._palette = [];
    	  this._colorType = 0;

    	  this._chunks = {};
    	  this._chunks[constants.TYPE_IHDR] = this._handleIHDR.bind(this);
    	  this._chunks[constants.TYPE_IEND] = this._handleIEND.bind(this);
    	  this._chunks[constants.TYPE_IDAT] = this._handleIDAT.bind(this);
    	  this._chunks[constants.TYPE_PLTE] = this._handlePLTE.bind(this);
    	  this._chunks[constants.TYPE_tRNS] = this._handleTRNS.bind(this);
    	  this._chunks[constants.TYPE_gAMA] = this._handleGAMA.bind(this);

    	  this.read = dependencies.read;
    	  this.error = dependencies.error;
    	  this.metadata = dependencies.metadata;
    	  this.gamma = dependencies.gamma;
    	  this.transColor = dependencies.transColor;
    	  this.palette = dependencies.palette;
    	  this.parsed = dependencies.parsed;
    	  this.inflateData = dependencies.inflateData;
    	  this.finished = dependencies.finished;
    	  this.simpleTransparency = dependencies.simpleTransparency;
    	  this.headersFinished = dependencies.headersFinished || function () {};
    	});

    	Parser.prototype.start = function () {
    	  this.read(constants.PNG_SIGNATURE.length, this._parseSignature.bind(this));
    	};

    	Parser.prototype._parseSignature = function (data) {
    	  let signature = constants.PNG_SIGNATURE;

    	  for (let i = 0; i < signature.length; i++) {
    	    if (data[i] !== signature[i]) {
    	      this.error(new Error("Invalid file signature"));
    	      return;
    	    }
    	  }
    	  this.read(8, this._parseChunkBegin.bind(this));
    	};

    	Parser.prototype._parseChunkBegin = function (data) {
    	  // chunk content length
    	  let length = data.readUInt32BE(0);

    	  // chunk type
    	  let type = data.readUInt32BE(4);
    	  let name = "";
    	  for (let i = 4; i < 8; i++) {
    	    name += String.fromCharCode(data[i]);
    	  }

    	  //console.log('chunk ', name, length);

    	  // chunk flags
    	  let ancillary = Boolean(data[4] & 0x20); // or critical
    	  //    priv = Boolean(data[5] & 0x20), // or public
    	  //    safeToCopy = Boolean(data[7] & 0x20); // or unsafe

    	  if (!this._hasIHDR && type !== constants.TYPE_IHDR) {
    	    this.error(new Error("Expected IHDR on beggining"));
    	    return;
    	  }

    	  this._crc = new CrcCalculator();
    	  this._crc.write(Buffer.from(name));

    	  if (this._chunks[type]) {
    	    return this._chunks[type](length);
    	  }

    	  if (!ancillary) {
    	    this.error(new Error("Unsupported critical chunk type " + name));
    	    return;
    	  }

    	  this.read(length + 4, this._skipChunk.bind(this));
    	};

    	Parser.prototype._skipChunk = function (/*data*/) {
    	  this.read(8, this._parseChunkBegin.bind(this));
    	};

    	Parser.prototype._handleChunkEnd = function () {
    	  this.read(4, this._parseChunkEnd.bind(this));
    	};

    	Parser.prototype._parseChunkEnd = function (data) {
    	  let fileCrc = data.readInt32BE(0);
    	  let calcCrc = this._crc.crc32();

    	  // check CRC
    	  if (this._options.checkCRC && calcCrc !== fileCrc) {
    	    this.error(new Error("Crc error - " + fileCrc + " - " + calcCrc));
    	    return;
    	  }

    	  if (!this._hasIEND) {
    	    this.read(8, this._parseChunkBegin.bind(this));
    	  }
    	};

    	Parser.prototype._handleIHDR = function (length) {
    	  this.read(length, this._parseIHDR.bind(this));
    	};
    	Parser.prototype._parseIHDR = function (data) {
    	  this._crc.write(data);

    	  let width = data.readUInt32BE(0);
    	  let height = data.readUInt32BE(4);
    	  let depth = data[8];
    	  let colorType = data[9]; // bits: 1 palette, 2 color, 4 alpha
    	  let compr = data[10];
    	  let filter = data[11];
    	  let interlace = data[12];

    	  // console.log('    width', width, 'height', height,
    	  //     'depth', depth, 'colorType', colorType,
    	  //     'compr', compr, 'filter', filter, 'interlace', interlace
    	  // );

    	  if (
    	    depth !== 8 &&
    	    depth !== 4 &&
    	    depth !== 2 &&
    	    depth !== 1 &&
    	    depth !== 16
    	  ) {
    	    this.error(new Error("Unsupported bit depth " + depth));
    	    return;
    	  }
    	  if (!(colorType in constants.COLORTYPE_TO_BPP_MAP)) {
    	    this.error(new Error("Unsupported color type"));
    	    return;
    	  }
    	  if (compr !== 0) {
    	    this.error(new Error("Unsupported compression method"));
    	    return;
    	  }
    	  if (filter !== 0) {
    	    this.error(new Error("Unsupported filter method"));
    	    return;
    	  }
    	  if (interlace !== 0 && interlace !== 1) {
    	    this.error(new Error("Unsupported interlace method"));
    	    return;
    	  }

    	  this._colorType = colorType;

    	  let bpp = constants.COLORTYPE_TO_BPP_MAP[this._colorType];

    	  this._hasIHDR = true;

    	  this.metadata({
    	    width: width,
    	    height: height,
    	    depth: depth,
    	    interlace: Boolean(interlace),
    	    palette: Boolean(colorType & constants.COLORTYPE_PALETTE),
    	    color: Boolean(colorType & constants.COLORTYPE_COLOR),
    	    alpha: Boolean(colorType & constants.COLORTYPE_ALPHA),
    	    bpp: bpp,
    	    colorType: colorType,
    	  });

    	  this._handleChunkEnd();
    	};

    	Parser.prototype._handlePLTE = function (length) {
    	  this.read(length, this._parsePLTE.bind(this));
    	};
    	Parser.prototype._parsePLTE = function (data) {
    	  this._crc.write(data);

    	  let entries = Math.floor(data.length / 3);
    	  // console.log('Palette:', entries);

    	  for (let i = 0; i < entries; i++) {
    	    this._palette.push([data[i * 3], data[i * 3 + 1], data[i * 3 + 2], 0xff]);
    	  }

    	  this.palette(this._palette);

    	  this._handleChunkEnd();
    	};

    	Parser.prototype._handleTRNS = function (length) {
    	  this.simpleTransparency();
    	  this.read(length, this._parseTRNS.bind(this));
    	};
    	Parser.prototype._parseTRNS = function (data) {
    	  this._crc.write(data);

    	  // palette
    	  if (this._colorType === constants.COLORTYPE_PALETTE_COLOR) {
    	    if (this._palette.length === 0) {
    	      this.error(new Error("Transparency chunk must be after palette"));
    	      return;
    	    }
    	    if (data.length > this._palette.length) {
    	      this.error(new Error("More transparent colors than palette size"));
    	      return;
    	    }
    	    for (let i = 0; i < data.length; i++) {
    	      this._palette[i][3] = data[i];
    	    }
    	    this.palette(this._palette);
    	  }

    	  // for colorType 0 (grayscale) and 2 (rgb)
    	  // there might be one gray/color defined as transparent
    	  if (this._colorType === constants.COLORTYPE_GRAYSCALE) {
    	    // grey, 2 bytes
    	    this.transColor([data.readUInt16BE(0)]);
    	  }
    	  if (this._colorType === constants.COLORTYPE_COLOR) {
    	    this.transColor([
    	      data.readUInt16BE(0),
    	      data.readUInt16BE(2),
    	      data.readUInt16BE(4),
    	    ]);
    	  }

    	  this._handleChunkEnd();
    	};

    	Parser.prototype._handleGAMA = function (length) {
    	  this.read(length, this._parseGAMA.bind(this));
    	};
    	Parser.prototype._parseGAMA = function (data) {
    	  this._crc.write(data);
    	  this.gamma(data.readUInt32BE(0) / constants.GAMMA_DIVISION);

    	  this._handleChunkEnd();
    	};

    	Parser.prototype._handleIDAT = function (length) {
    	  if (!this._emittedHeadersFinished) {
    	    this._emittedHeadersFinished = true;
    	    this.headersFinished();
    	  }
    	  this.read(-length, this._parseIDAT.bind(this, length));
    	};
    	Parser.prototype._parseIDAT = function (length, data) {
    	  this._crc.write(data);

    	  if (
    	    this._colorType === constants.COLORTYPE_PALETTE_COLOR &&
    	    this._palette.length === 0
    	  ) {
    	    throw new Error("Expected palette not found");
    	  }

    	  this.inflateData(data);
    	  let leftOverLength = length - data.length;

    	  if (leftOverLength > 0) {
    	    this._handleIDAT(leftOverLength);
    	  } else {
    	    this._handleChunkEnd();
    	  }
    	};

    	Parser.prototype._handleIEND = function (length) {
    	  this.read(length, this._parseIEND.bind(this));
    	};
    	Parser.prototype._parseIEND = function (data) {
    	  this._crc.write(data);

    	  this._hasIEND = true;
    	  this._handleChunkEnd();

    	  if (this.finished) {
    	    this.finished();
    	  }
    	};
    	return parser.exports;
    }

    var bitmapper = {};

    var hasRequiredBitmapper;

    function requireBitmapper () {
    	if (hasRequiredBitmapper) return bitmapper;
    	hasRequiredBitmapper = 1;

    	let interlaceUtils = requireInterlace();

    	let pixelBppMapper = [
    	  // 0 - dummy entry
    	  function () {},

    	  // 1 - L
    	  // 0: 0, 1: 0, 2: 0, 3: 0xff
    	  function (pxData, data, pxPos, rawPos) {
    	    if (rawPos === data.length) {
    	      throw new Error("Ran out of data");
    	    }

    	    let pixel = data[rawPos];
    	    pxData[pxPos] = pixel;
    	    pxData[pxPos + 1] = pixel;
    	    pxData[pxPos + 2] = pixel;
    	    pxData[pxPos + 3] = 0xff;
    	  },

    	  // 2 - LA
    	  // 0: 0, 1: 0, 2: 0, 3: 1
    	  function (pxData, data, pxPos, rawPos) {
    	    if (rawPos + 1 >= data.length) {
    	      throw new Error("Ran out of data");
    	    }

    	    let pixel = data[rawPos];
    	    pxData[pxPos] = pixel;
    	    pxData[pxPos + 1] = pixel;
    	    pxData[pxPos + 2] = pixel;
    	    pxData[pxPos + 3] = data[rawPos + 1];
    	  },

    	  // 3 - RGB
    	  // 0: 0, 1: 1, 2: 2, 3: 0xff
    	  function (pxData, data, pxPos, rawPos) {
    	    if (rawPos + 2 >= data.length) {
    	      throw new Error("Ran out of data");
    	    }

    	    pxData[pxPos] = data[rawPos];
    	    pxData[pxPos + 1] = data[rawPos + 1];
    	    pxData[pxPos + 2] = data[rawPos + 2];
    	    pxData[pxPos + 3] = 0xff;
    	  },

    	  // 4 - RGBA
    	  // 0: 0, 1: 1, 2: 2, 3: 3
    	  function (pxData, data, pxPos, rawPos) {
    	    if (rawPos + 3 >= data.length) {
    	      throw new Error("Ran out of data");
    	    }

    	    pxData[pxPos] = data[rawPos];
    	    pxData[pxPos + 1] = data[rawPos + 1];
    	    pxData[pxPos + 2] = data[rawPos + 2];
    	    pxData[pxPos + 3] = data[rawPos + 3];
    	  },
    	];

    	let pixelBppCustomMapper = [
    	  // 0 - dummy entry
    	  function () {},

    	  // 1 - L
    	  // 0: 0, 1: 0, 2: 0, 3: 0xff
    	  function (pxData, pixelData, pxPos, maxBit) {
    	    let pixel = pixelData[0];
    	    pxData[pxPos] = pixel;
    	    pxData[pxPos + 1] = pixel;
    	    pxData[pxPos + 2] = pixel;
    	    pxData[pxPos + 3] = maxBit;
    	  },

    	  // 2 - LA
    	  // 0: 0, 1: 0, 2: 0, 3: 1
    	  function (pxData, pixelData, pxPos) {
    	    let pixel = pixelData[0];
    	    pxData[pxPos] = pixel;
    	    pxData[pxPos + 1] = pixel;
    	    pxData[pxPos + 2] = pixel;
    	    pxData[pxPos + 3] = pixelData[1];
    	  },

    	  // 3 - RGB
    	  // 0: 0, 1: 1, 2: 2, 3: 0xff
    	  function (pxData, pixelData, pxPos, maxBit) {
    	    pxData[pxPos] = pixelData[0];
    	    pxData[pxPos + 1] = pixelData[1];
    	    pxData[pxPos + 2] = pixelData[2];
    	    pxData[pxPos + 3] = maxBit;
    	  },

    	  // 4 - RGBA
    	  // 0: 0, 1: 1, 2: 2, 3: 3
    	  function (pxData, pixelData, pxPos) {
    	    pxData[pxPos] = pixelData[0];
    	    pxData[pxPos + 1] = pixelData[1];
    	    pxData[pxPos + 2] = pixelData[2];
    	    pxData[pxPos + 3] = pixelData[3];
    	  },
    	];

    	function bitRetriever(data, depth) {
    	  let leftOver = [];
    	  let i = 0;

    	  function split() {
    	    if (i === data.length) {
    	      throw new Error("Ran out of data");
    	    }
    	    let byte = data[i];
    	    i++;
    	    let byte8, byte7, byte6, byte5, byte4, byte3, byte2, byte1;
    	    switch (depth) {
    	      default:
    	        throw new Error("unrecognised depth");
    	      case 16:
    	        byte2 = data[i];
    	        i++;
    	        leftOver.push((byte << 8) + byte2);
    	        break;
    	      case 4:
    	        byte2 = byte & 0x0f;
    	        byte1 = byte >> 4;
    	        leftOver.push(byte1, byte2);
    	        break;
    	      case 2:
    	        byte4 = byte & 3;
    	        byte3 = (byte >> 2) & 3;
    	        byte2 = (byte >> 4) & 3;
    	        byte1 = (byte >> 6) & 3;
    	        leftOver.push(byte1, byte2, byte3, byte4);
    	        break;
    	      case 1:
    	        byte8 = byte & 1;
    	        byte7 = (byte >> 1) & 1;
    	        byte6 = (byte >> 2) & 1;
    	        byte5 = (byte >> 3) & 1;
    	        byte4 = (byte >> 4) & 1;
    	        byte3 = (byte >> 5) & 1;
    	        byte2 = (byte >> 6) & 1;
    	        byte1 = (byte >> 7) & 1;
    	        leftOver.push(byte1, byte2, byte3, byte4, byte5, byte6, byte7, byte8);
    	        break;
    	    }
    	  }

    	  return {
    	    get: function (count) {
    	      while (leftOver.length < count) {
    	        split();
    	      }
    	      let returner = leftOver.slice(0, count);
    	      leftOver = leftOver.slice(count);
    	      return returner;
    	    },
    	    resetAfterLine: function () {
    	      leftOver.length = 0;
    	    },
    	    end: function () {
    	      if (i !== data.length) {
    	        throw new Error("extra data found");
    	      }
    	    },
    	  };
    	}

    	function mapImage8Bit(image, pxData, getPxPos, bpp, data, rawPos) {
    	  // eslint-disable-line max-params
    	  let imageWidth = image.width;
    	  let imageHeight = image.height;
    	  let imagePass = image.index;
    	  for (let y = 0; y < imageHeight; y++) {
    	    for (let x = 0; x < imageWidth; x++) {
    	      let pxPos = getPxPos(x, y, imagePass);
    	      pixelBppMapper[bpp](pxData, data, pxPos, rawPos);
    	      rawPos += bpp; //eslint-disable-line no-param-reassign
    	    }
    	  }
    	  return rawPos;
    	}

    	function mapImageCustomBit(image, pxData, getPxPos, bpp, bits, maxBit) {
    	  // eslint-disable-line max-params
    	  let imageWidth = image.width;
    	  let imageHeight = image.height;
    	  let imagePass = image.index;
    	  for (let y = 0; y < imageHeight; y++) {
    	    for (let x = 0; x < imageWidth; x++) {
    	      let pixelData = bits.get(bpp);
    	      let pxPos = getPxPos(x, y, imagePass);
    	      pixelBppCustomMapper[bpp](pxData, pixelData, pxPos, maxBit);
    	    }
    	    bits.resetAfterLine();
    	  }
    	}

    	bitmapper.dataToBitMap = function (data, bitmapInfo) {
    	  let width = bitmapInfo.width;
    	  let height = bitmapInfo.height;
    	  let depth = bitmapInfo.depth;
    	  let bpp = bitmapInfo.bpp;
    	  let interlace = bitmapInfo.interlace;
    	  let bits;

    	  if (depth !== 8) {
    	    bits = bitRetriever(data, depth);
    	  }
    	  let pxData;
    	  if (depth <= 8) {
    	    pxData = Buffer.alloc(width * height * 4);
    	  } else {
    	    pxData = new Uint16Array(width * height * 4);
    	  }
    	  let maxBit = Math.pow(2, depth) - 1;
    	  let rawPos = 0;
    	  let images;
    	  let getPxPos;

    	  if (interlace) {
    	    images = interlaceUtils.getImagePasses(width, height);
    	    getPxPos = interlaceUtils.getInterlaceIterator(width, height);
    	  } else {
    	    let nonInterlacedPxPos = 0;
    	    getPxPos = function () {
    	      let returner = nonInterlacedPxPos;
    	      nonInterlacedPxPos += 4;
    	      return returner;
    	    };
    	    images = [{ width: width, height: height }];
    	  }

    	  for (let imageIndex = 0; imageIndex < images.length; imageIndex++) {
    	    if (depth === 8) {
    	      rawPos = mapImage8Bit(
    	        images[imageIndex],
    	        pxData,
    	        getPxPos,
    	        bpp,
    	        data,
    	        rawPos
    	      );
    	    } else {
    	      mapImageCustomBit(
    	        images[imageIndex],
    	        pxData,
    	        getPxPos,
    	        bpp,
    	        bits,
    	        maxBit
    	      );
    	    }
    	  }
    	  if (depth === 8) {
    	    if (rawPos !== data.length) {
    	      throw new Error("extra data found");
    	    }
    	  } else {
    	    bits.end();
    	  }

    	  return pxData;
    	};
    	return bitmapper;
    }

    var formatNormaliser;
    var hasRequiredFormatNormaliser;

    function requireFormatNormaliser () {
    	if (hasRequiredFormatNormaliser) return formatNormaliser;
    	hasRequiredFormatNormaliser = 1;

    	function dePalette(indata, outdata, width, height, palette) {
    	  let pxPos = 0;
    	  // use values from palette
    	  for (let y = 0; y < height; y++) {
    	    for (let x = 0; x < width; x++) {
    	      let color = palette[indata[pxPos]];

    	      if (!color) {
    	        throw new Error("index " + indata[pxPos] + " not in palette");
    	      }

    	      for (let i = 0; i < 4; i++) {
    	        outdata[pxPos + i] = color[i];
    	      }
    	      pxPos += 4;
    	    }
    	  }
    	}

    	function replaceTransparentColor(indata, outdata, width, height, transColor) {
    	  let pxPos = 0;
    	  for (let y = 0; y < height; y++) {
    	    for (let x = 0; x < width; x++) {
    	      let makeTrans = false;

    	      if (transColor.length === 1) {
    	        if (transColor[0] === indata[pxPos]) {
    	          makeTrans = true;
    	        }
    	      } else if (
    	        transColor[0] === indata[pxPos] &&
    	        transColor[1] === indata[pxPos + 1] &&
    	        transColor[2] === indata[pxPos + 2]
    	      ) {
    	        makeTrans = true;
    	      }
    	      if (makeTrans) {
    	        for (let i = 0; i < 4; i++) {
    	          outdata[pxPos + i] = 0;
    	        }
    	      }
    	      pxPos += 4;
    	    }
    	  }
    	}

    	function scaleDepth(indata, outdata, width, height, depth) {
    	  let maxOutSample = 255;
    	  let maxInSample = Math.pow(2, depth) - 1;
    	  let pxPos = 0;

    	  for (let y = 0; y < height; y++) {
    	    for (let x = 0; x < width; x++) {
    	      for (let i = 0; i < 4; i++) {
    	        outdata[pxPos + i] = Math.floor(
    	          (indata[pxPos + i] * maxOutSample) / maxInSample + 0.5
    	        );
    	      }
    	      pxPos += 4;
    	    }
    	  }
    	}

    	formatNormaliser = function (indata, imageData) {
    	  let depth = imageData.depth;
    	  let width = imageData.width;
    	  let height = imageData.height;
    	  let colorType = imageData.colorType;
    	  let transColor = imageData.transColor;
    	  let palette = imageData.palette;

    	  let outdata = indata; // only different for 16 bits

    	  if (colorType === 3) {
    	    // paletted
    	    dePalette(indata, outdata, width, height, palette);
    	  } else {
    	    if (transColor) {
    	      replaceTransparentColor(indata, outdata, width, height, transColor);
    	    }
    	    // if it needs scaling
    	    if (depth !== 8) {
    	      // if we need to change the buffer size
    	      if (depth === 16) {
    	        outdata = Buffer.alloc(width * height * 4);
    	      }
    	      scaleDepth(indata, outdata, width, height, depth);
    	    }
    	  }
    	  return outdata;
    	};
    	return formatNormaliser;
    }

    var hasRequiredParserAsync;

    function requireParserAsync () {
    	if (hasRequiredParserAsync) return parserAsync.exports;
    	hasRequiredParserAsync = 1;

    	let util = require$$0$4;
    	let zlib = require$$0$b;
    	let ChunkStream = requireChunkstream();
    	let FilterAsync = requireFilterParseAsync();
    	let Parser = requireParser();
    	let bitmapper = requireBitmapper();
    	let formatNormaliser = requireFormatNormaliser();

    	let ParserAsync = (parserAsync.exports = function (options) {
    	  ChunkStream.call(this);

    	  this._parser = new Parser(options, {
    	    read: this.read.bind(this),
    	    error: this._handleError.bind(this),
    	    metadata: this._handleMetaData.bind(this),
    	    gamma: this.emit.bind(this, "gamma"),
    	    palette: this._handlePalette.bind(this),
    	    transColor: this._handleTransColor.bind(this),
    	    finished: this._finished.bind(this),
    	    inflateData: this._inflateData.bind(this),
    	    simpleTransparency: this._simpleTransparency.bind(this),
    	    headersFinished: this._headersFinished.bind(this),
    	  });
    	  this._options = options;
    	  this.writable = true;

    	  this._parser.start();
    	});
    	util.inherits(ParserAsync, ChunkStream);

    	ParserAsync.prototype._handleError = function (err) {
    	  this.emit("error", err);

    	  this.writable = false;

    	  this.destroy();

    	  if (this._inflate && this._inflate.destroy) {
    	    this._inflate.destroy();
    	  }

    	  if (this._filter) {
    	    this._filter.destroy();
    	    // For backward compatibility with Node 7 and below.
    	    // Suppress errors due to _inflate calling write() even after
    	    // it's destroy()'ed.
    	    this._filter.on("error", function () {});
    	  }

    	  this.errord = true;
    	};

    	ParserAsync.prototype._inflateData = function (data) {
    	  if (!this._inflate) {
    	    if (this._bitmapInfo.interlace) {
    	      this._inflate = zlib.createInflate();

    	      this._inflate.on("error", this.emit.bind(this, "error"));
    	      this._filter.on("complete", this._complete.bind(this));

    	      this._inflate.pipe(this._filter);
    	    } else {
    	      let rowSize =
    	        ((this._bitmapInfo.width *
    	          this._bitmapInfo.bpp *
    	          this._bitmapInfo.depth +
    	          7) >>
    	          3) +
    	        1;
    	      let imageSize = rowSize * this._bitmapInfo.height;
    	      let chunkSize = Math.max(imageSize, zlib.Z_MIN_CHUNK);

    	      this._inflate = zlib.createInflate({ chunkSize: chunkSize });
    	      let leftToInflate = imageSize;

    	      let emitError = this.emit.bind(this, "error");
    	      this._inflate.on("error", function (err) {
    	        if (!leftToInflate) {
    	          return;
    	        }

    	        emitError(err);
    	      });
    	      this._filter.on("complete", this._complete.bind(this));

    	      let filterWrite = this._filter.write.bind(this._filter);
    	      this._inflate.on("data", function (chunk) {
    	        if (!leftToInflate) {
    	          return;
    	        }

    	        if (chunk.length > leftToInflate) {
    	          chunk = chunk.slice(0, leftToInflate);
    	        }

    	        leftToInflate -= chunk.length;

    	        filterWrite(chunk);
    	      });

    	      this._inflate.on("end", this._filter.end.bind(this._filter));
    	    }
    	  }
    	  this._inflate.write(data);
    	};

    	ParserAsync.prototype._handleMetaData = function (metaData) {
    	  this._metaData = metaData;
    	  this._bitmapInfo = Object.create(metaData);

    	  this._filter = new FilterAsync(this._bitmapInfo);
    	};

    	ParserAsync.prototype._handleTransColor = function (transColor) {
    	  this._bitmapInfo.transColor = transColor;
    	};

    	ParserAsync.prototype._handlePalette = function (palette) {
    	  this._bitmapInfo.palette = palette;
    	};

    	ParserAsync.prototype._simpleTransparency = function () {
    	  this._metaData.alpha = true;
    	};

    	ParserAsync.prototype._headersFinished = function () {
    	  // Up until this point, we don't know if we have a tRNS chunk (alpha)
    	  // so we can't emit metadata any earlier
    	  this.emit("metadata", this._metaData);
    	};

    	ParserAsync.prototype._finished = function () {
    	  if (this.errord) {
    	    return;
    	  }

    	  if (!this._inflate) {
    	    this.emit("error", "No Inflate block");
    	  } else {
    	    // no more data to inflate
    	    this._inflate.end();
    	  }
    	};

    	ParserAsync.prototype._complete = function (filteredData) {
    	  if (this.errord) {
    	    return;
    	  }

    	  let normalisedBitmapData;

    	  try {
    	    let bitmapData = bitmapper.dataToBitMap(filteredData, this._bitmapInfo);

    	    normalisedBitmapData = formatNormaliser(bitmapData, this._bitmapInfo);
    	    bitmapData = null;
    	  } catch (ex) {
    	    this._handleError(ex);
    	    return;
    	  }

    	  this.emit("parsed", normalisedBitmapData);
    	};
    	return parserAsync.exports;
    }

    var packerAsync = {exports: {}};

    var packer = {exports: {}};

    var bitpacker;
    var hasRequiredBitpacker;

    function requireBitpacker () {
    	if (hasRequiredBitpacker) return bitpacker;
    	hasRequiredBitpacker = 1;

    	let constants = requireConstants();

    	bitpacker = function (dataIn, width, height, options) {
    	  let outHasAlpha =
    	    [constants.COLORTYPE_COLOR_ALPHA, constants.COLORTYPE_ALPHA].indexOf(
    	      options.colorType
    	    ) !== -1;
    	  if (options.colorType === options.inputColorType) {
    	    let bigEndian = (function () {
    	      let buffer = new ArrayBuffer(2);
    	      new DataView(buffer).setInt16(0, 256, true /* littleEndian */);
    	      // Int16Array uses the platform's endianness.
    	      return new Int16Array(buffer)[0] !== 256;
    	    })();
    	    // If no need to convert to grayscale and alpha is present/absent in both, take a fast route
    	    if (options.bitDepth === 8 || (options.bitDepth === 16 && bigEndian)) {
    	      return dataIn;
    	    }
    	  }

    	  // map to a UInt16 array if data is 16bit, fix endianness below
    	  let data = options.bitDepth !== 16 ? dataIn : new Uint16Array(dataIn.buffer);

    	  let maxValue = 255;
    	  let inBpp = constants.COLORTYPE_TO_BPP_MAP[options.inputColorType];
    	  if (inBpp === 4 && !options.inputHasAlpha) {
    	    inBpp = 3;
    	  }
    	  let outBpp = constants.COLORTYPE_TO_BPP_MAP[options.colorType];
    	  if (options.bitDepth === 16) {
    	    maxValue = 65535;
    	    outBpp *= 2;
    	  }
    	  let outData = Buffer.alloc(width * height * outBpp);

    	  let inIndex = 0;
    	  let outIndex = 0;

    	  let bgColor = options.bgColor || {};
    	  if (bgColor.red === undefined) {
    	    bgColor.red = maxValue;
    	  }
    	  if (bgColor.green === undefined) {
    	    bgColor.green = maxValue;
    	  }
    	  if (bgColor.blue === undefined) {
    	    bgColor.blue = maxValue;
    	  }

    	  function getRGBA() {
    	    let red;
    	    let green;
    	    let blue;
    	    let alpha = maxValue;
    	    switch (options.inputColorType) {
    	      case constants.COLORTYPE_COLOR_ALPHA:
    	        alpha = data[inIndex + 3];
    	        red = data[inIndex];
    	        green = data[inIndex + 1];
    	        blue = data[inIndex + 2];
    	        break;
    	      case constants.COLORTYPE_COLOR:
    	        red = data[inIndex];
    	        green = data[inIndex + 1];
    	        blue = data[inIndex + 2];
    	        break;
    	      case constants.COLORTYPE_ALPHA:
    	        alpha = data[inIndex + 1];
    	        red = data[inIndex];
    	        green = red;
    	        blue = red;
    	        break;
    	      case constants.COLORTYPE_GRAYSCALE:
    	        red = data[inIndex];
    	        green = red;
    	        blue = red;
    	        break;
    	      default:
    	        throw new Error(
    	          "input color type:" +
    	            options.inputColorType +
    	            " is not supported at present"
    	        );
    	    }

    	    if (options.inputHasAlpha) {
    	      if (!outHasAlpha) {
    	        alpha /= maxValue;
    	        red = Math.min(
    	          Math.max(Math.round((1 - alpha) * bgColor.red + alpha * red), 0),
    	          maxValue
    	        );
    	        green = Math.min(
    	          Math.max(Math.round((1 - alpha) * bgColor.green + alpha * green), 0),
    	          maxValue
    	        );
    	        blue = Math.min(
    	          Math.max(Math.round((1 - alpha) * bgColor.blue + alpha * blue), 0),
    	          maxValue
    	        );
    	      }
    	    }
    	    return { red: red, green: green, blue: blue, alpha: alpha };
    	  }

    	  for (let y = 0; y < height; y++) {
    	    for (let x = 0; x < width; x++) {
    	      let rgba = getRGBA();

    	      switch (options.colorType) {
    	        case constants.COLORTYPE_COLOR_ALPHA:
    	        case constants.COLORTYPE_COLOR:
    	          if (options.bitDepth === 8) {
    	            outData[outIndex] = rgba.red;
    	            outData[outIndex + 1] = rgba.green;
    	            outData[outIndex + 2] = rgba.blue;
    	            if (outHasAlpha) {
    	              outData[outIndex + 3] = rgba.alpha;
    	            }
    	          } else {
    	            outData.writeUInt16BE(rgba.red, outIndex);
    	            outData.writeUInt16BE(rgba.green, outIndex + 2);
    	            outData.writeUInt16BE(rgba.blue, outIndex + 4);
    	            if (outHasAlpha) {
    	              outData.writeUInt16BE(rgba.alpha, outIndex + 6);
    	            }
    	          }
    	          break;
    	        case constants.COLORTYPE_ALPHA:
    	        case constants.COLORTYPE_GRAYSCALE: {
    	          // Convert to grayscale and alpha
    	          let grayscale = (rgba.red + rgba.green + rgba.blue) / 3;
    	          if (options.bitDepth === 8) {
    	            outData[outIndex] = grayscale;
    	            if (outHasAlpha) {
    	              outData[outIndex + 1] = rgba.alpha;
    	            }
    	          } else {
    	            outData.writeUInt16BE(grayscale, outIndex);
    	            if (outHasAlpha) {
    	              outData.writeUInt16BE(rgba.alpha, outIndex + 2);
    	            }
    	          }
    	          break;
    	        }
    	        default:
    	          throw new Error("unrecognised color Type " + options.colorType);
    	      }

    	      inIndex += inBpp;
    	      outIndex += outBpp;
    	    }
    	  }

    	  return outData;
    	};
    	return bitpacker;
    }

    var filterPack;
    var hasRequiredFilterPack;

    function requireFilterPack () {
    	if (hasRequiredFilterPack) return filterPack;
    	hasRequiredFilterPack = 1;

    	let paethPredictor = requirePaethPredictor();

    	function filterNone(pxData, pxPos, byteWidth, rawData, rawPos) {
    	  for (let x = 0; x < byteWidth; x++) {
    	    rawData[rawPos + x] = pxData[pxPos + x];
    	  }
    	}

    	function filterSumNone(pxData, pxPos, byteWidth) {
    	  let sum = 0;
    	  let length = pxPos + byteWidth;

    	  for (let i = pxPos; i < length; i++) {
    	    sum += Math.abs(pxData[i]);
    	  }
    	  return sum;
    	}

    	function filterSub(pxData, pxPos, byteWidth, rawData, rawPos, bpp) {
    	  for (let x = 0; x < byteWidth; x++) {
    	    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;
    	    let val = pxData[pxPos + x] - left;

    	    rawData[rawPos + x] = val;
    	  }
    	}

    	function filterSumSub(pxData, pxPos, byteWidth, bpp) {
    	  let sum = 0;
    	  for (let x = 0; x < byteWidth; x++) {
    	    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;
    	    let val = pxData[pxPos + x] - left;

    	    sum += Math.abs(val);
    	  }

    	  return sum;
    	}

    	function filterUp(pxData, pxPos, byteWidth, rawData, rawPos) {
    	  for (let x = 0; x < byteWidth; x++) {
    	    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;
    	    let val = pxData[pxPos + x] - up;

    	    rawData[rawPos + x] = val;
    	  }
    	}

    	function filterSumUp(pxData, pxPos, byteWidth) {
    	  let sum = 0;
    	  let length = pxPos + byteWidth;
    	  for (let x = pxPos; x < length; x++) {
    	    let up = pxPos > 0 ? pxData[x - byteWidth] : 0;
    	    let val = pxData[x] - up;

    	    sum += Math.abs(val);
    	  }

    	  return sum;
    	}

    	function filterAvg(pxData, pxPos, byteWidth, rawData, rawPos, bpp) {
    	  for (let x = 0; x < byteWidth; x++) {
    	    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;
    	    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;
    	    let val = pxData[pxPos + x] - ((left + up) >> 1);

    	    rawData[rawPos + x] = val;
    	  }
    	}

    	function filterSumAvg(pxData, pxPos, byteWidth, bpp) {
    	  let sum = 0;
    	  for (let x = 0; x < byteWidth; x++) {
    	    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;
    	    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;
    	    let val = pxData[pxPos + x] - ((left + up) >> 1);

    	    sum += Math.abs(val);
    	  }

    	  return sum;
    	}

    	function filterPaeth(pxData, pxPos, byteWidth, rawData, rawPos, bpp) {
    	  for (let x = 0; x < byteWidth; x++) {
    	    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;
    	    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;
    	    let upleft =
    	      pxPos > 0 && x >= bpp ? pxData[pxPos + x - (byteWidth + bpp)] : 0;
    	    let val = pxData[pxPos + x] - paethPredictor(left, up, upleft);

    	    rawData[rawPos + x] = val;
    	  }
    	}

    	function filterSumPaeth(pxData, pxPos, byteWidth, bpp) {
    	  let sum = 0;
    	  for (let x = 0; x < byteWidth; x++) {
    	    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;
    	    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;
    	    let upleft =
    	      pxPos > 0 && x >= bpp ? pxData[pxPos + x - (byteWidth + bpp)] : 0;
    	    let val = pxData[pxPos + x] - paethPredictor(left, up, upleft);

    	    sum += Math.abs(val);
    	  }

    	  return sum;
    	}

    	let filters = {
    	  0: filterNone,
    	  1: filterSub,
    	  2: filterUp,
    	  3: filterAvg,
    	  4: filterPaeth,
    	};

    	let filterSums = {
    	  0: filterSumNone,
    	  1: filterSumSub,
    	  2: filterSumUp,
    	  3: filterSumAvg,
    	  4: filterSumPaeth,
    	};

    	filterPack = function (pxData, width, height, options, bpp) {
    	  let filterTypes;
    	  if (!("filterType" in options) || options.filterType === -1) {
    	    filterTypes = [0, 1, 2, 3, 4];
    	  } else if (typeof options.filterType === "number") {
    	    filterTypes = [options.filterType];
    	  } else {
    	    throw new Error("unrecognised filter types");
    	  }

    	  if (options.bitDepth === 16) {
    	    bpp *= 2;
    	  }
    	  let byteWidth = width * bpp;
    	  let rawPos = 0;
    	  let pxPos = 0;
    	  let rawData = Buffer.alloc((byteWidth + 1) * height);

    	  let sel = filterTypes[0];

    	  for (let y = 0; y < height; y++) {
    	    if (filterTypes.length > 1) {
    	      // find best filter for this line (with lowest sum of values)
    	      let min = Infinity;

    	      for (let i = 0; i < filterTypes.length; i++) {
    	        let sum = filterSums[filterTypes[i]](pxData, pxPos, byteWidth, bpp);
    	        if (sum < min) {
    	          sel = filterTypes[i];
    	          min = sum;
    	        }
    	      }
    	    }

    	    rawData[rawPos] = sel;
    	    rawPos++;
    	    filters[sel](pxData, pxPos, byteWidth, rawData, rawPos, bpp);
    	    rawPos += byteWidth;
    	    pxPos += byteWidth;
    	  }
    	  return rawData;
    	};
    	return filterPack;
    }

    var hasRequiredPacker;

    function requirePacker () {
    	if (hasRequiredPacker) return packer.exports;
    	hasRequiredPacker = 1;

    	let constants = requireConstants();
    	let CrcStream = requireCrc();
    	let bitPacker = requireBitpacker();
    	let filter = requireFilterPack();
    	let zlib = require$$0$b;

    	let Packer = (packer.exports = function (options) {
    	  this._options = options;

    	  options.deflateChunkSize = options.deflateChunkSize || 32 * 1024;
    	  options.deflateLevel =
    	    options.deflateLevel != null ? options.deflateLevel : 9;
    	  options.deflateStrategy =
    	    options.deflateStrategy != null ? options.deflateStrategy : 3;
    	  options.inputHasAlpha =
    	    options.inputHasAlpha != null ? options.inputHasAlpha : true;
    	  options.deflateFactory = options.deflateFactory || zlib.createDeflate;
    	  options.bitDepth = options.bitDepth || 8;
    	  // This is outputColorType
    	  options.colorType =
    	    typeof options.colorType === "number"
    	      ? options.colorType
    	      : constants.COLORTYPE_COLOR_ALPHA;
    	  options.inputColorType =
    	    typeof options.inputColorType === "number"
    	      ? options.inputColorType
    	      : constants.COLORTYPE_COLOR_ALPHA;

    	  if (
    	    [
    	      constants.COLORTYPE_GRAYSCALE,
    	      constants.COLORTYPE_COLOR,
    	      constants.COLORTYPE_COLOR_ALPHA,
    	      constants.COLORTYPE_ALPHA,
    	    ].indexOf(options.colorType) === -1
    	  ) {
    	    throw new Error(
    	      "option color type:" + options.colorType + " is not supported at present"
    	    );
    	  }
    	  if (
    	    [
    	      constants.COLORTYPE_GRAYSCALE,
    	      constants.COLORTYPE_COLOR,
    	      constants.COLORTYPE_COLOR_ALPHA,
    	      constants.COLORTYPE_ALPHA,
    	    ].indexOf(options.inputColorType) === -1
    	  ) {
    	    throw new Error(
    	      "option input color type:" +
    	        options.inputColorType +
    	        " is not supported at present"
    	    );
    	  }
    	  if (options.bitDepth !== 8 && options.bitDepth !== 16) {
    	    throw new Error(
    	      "option bit depth:" + options.bitDepth + " is not supported at present"
    	    );
    	  }
    	});

    	Packer.prototype.getDeflateOptions = function () {
    	  return {
    	    chunkSize: this._options.deflateChunkSize,
    	    level: this._options.deflateLevel,
    	    strategy: this._options.deflateStrategy,
    	  };
    	};

    	Packer.prototype.createDeflate = function () {
    	  return this._options.deflateFactory(this.getDeflateOptions());
    	};

    	Packer.prototype.filterData = function (data, width, height) {
    	  // convert to correct format for filtering (e.g. right bpp and bit depth)
    	  let packedData = bitPacker(data, width, height, this._options);

    	  // filter pixel data
    	  let bpp = constants.COLORTYPE_TO_BPP_MAP[this._options.colorType];
    	  let filteredData = filter(packedData, width, height, this._options, bpp);
    	  return filteredData;
    	};

    	Packer.prototype._packChunk = function (type, data) {
    	  let len = data ? data.length : 0;
    	  let buf = Buffer.alloc(len + 12);

    	  buf.writeUInt32BE(len, 0);
    	  buf.writeUInt32BE(type, 4);

    	  if (data) {
    	    data.copy(buf, 8);
    	  }

    	  buf.writeInt32BE(
    	    CrcStream.crc32(buf.slice(4, buf.length - 4)),
    	    buf.length - 4
    	  );
    	  return buf;
    	};

    	Packer.prototype.packGAMA = function (gamma) {
    	  let buf = Buffer.alloc(4);
    	  buf.writeUInt32BE(Math.floor(gamma * constants.GAMMA_DIVISION), 0);
    	  return this._packChunk(constants.TYPE_gAMA, buf);
    	};

    	Packer.prototype.packIHDR = function (width, height) {
    	  let buf = Buffer.alloc(13);
    	  buf.writeUInt32BE(width, 0);
    	  buf.writeUInt32BE(height, 4);
    	  buf[8] = this._options.bitDepth; // Bit depth
    	  buf[9] = this._options.colorType; // colorType
    	  buf[10] = 0; // compression
    	  buf[11] = 0; // filter
    	  buf[12] = 0; // interlace

    	  return this._packChunk(constants.TYPE_IHDR, buf);
    	};

    	Packer.prototype.packIDAT = function (data) {
    	  return this._packChunk(constants.TYPE_IDAT, data);
    	};

    	Packer.prototype.packIEND = function () {
    	  return this._packChunk(constants.TYPE_IEND, null);
    	};
    	return packer.exports;
    }

    var hasRequiredPackerAsync;

    function requirePackerAsync () {
    	if (hasRequiredPackerAsync) return packerAsync.exports;
    	hasRequiredPackerAsync = 1;

    	let util = require$$0$4;
    	let Stream = require$$0$a;
    	let constants = requireConstants();
    	let Packer = requirePacker();

    	let PackerAsync = (packerAsync.exports = function (opt) {
    	  Stream.call(this);

    	  let options = opt || {};

    	  this._packer = new Packer(options);
    	  this._deflate = this._packer.createDeflate();

    	  this.readable = true;
    	});
    	util.inherits(PackerAsync, Stream);

    	PackerAsync.prototype.pack = function (data, width, height, gamma) {
    	  // Signature
    	  this.emit("data", Buffer.from(constants.PNG_SIGNATURE));
    	  this.emit("data", this._packer.packIHDR(width, height));

    	  if (gamma) {
    	    this.emit("data", this._packer.packGAMA(gamma));
    	  }

    	  let filteredData = this._packer.filterData(data, width, height);

    	  // compress it
    	  this._deflate.on("error", this.emit.bind(this, "error"));

    	  this._deflate.on(
    	    "data",
    	    function (compressedData) {
    	      this.emit("data", this._packer.packIDAT(compressedData));
    	    }.bind(this)
    	  );

    	  this._deflate.on(
    	    "end",
    	    function () {
    	      this.emit("data", this._packer.packIEND());
    	      this.emit("end");
    	    }.bind(this)
    	  );

    	  this._deflate.end(filteredData);
    	};
    	return packerAsync.exports;
    }

    var pngSync = {};

    var syncInflate = {exports: {}};

    var hasRequiredSyncInflate;

    function requireSyncInflate () {
    	if (hasRequiredSyncInflate) return syncInflate.exports;
    	hasRequiredSyncInflate = 1;
    	(function (module, exports) {

    		let assert = require$$7$1.ok;
    		let zlib = require$$0$b;
    		let util = require$$0$4;

    		let kMaxLength = require$$0$6.kMaxLength;

    		function Inflate(opts) {
    		  if (!(this instanceof Inflate)) {
    		    return new Inflate(opts);
    		  }

    		  if (opts && opts.chunkSize < zlib.Z_MIN_CHUNK) {
    		    opts.chunkSize = zlib.Z_MIN_CHUNK;
    		  }

    		  zlib.Inflate.call(this, opts);

    		  // Node 8 --> 9 compatibility check
    		  this._offset = this._offset === undefined ? this._outOffset : this._offset;
    		  this._buffer = this._buffer || this._outBuffer;

    		  if (opts && opts.maxLength != null) {
    		    this._maxLength = opts.maxLength;
    		  }
    		}

    		function createInflate(opts) {
    		  return new Inflate(opts);
    		}

    		function _close(engine, callback) {

    		  // Caller may invoke .close after a zlib error (which will null _handle).
    		  if (!engine._handle) {
    		    return;
    		  }

    		  engine._handle.close();
    		  engine._handle = null;
    		}

    		Inflate.prototype._processChunk = function (chunk, flushFlag, asyncCb) {
    		  if (typeof asyncCb === "function") {
    		    return zlib.Inflate._processChunk.call(this, chunk, flushFlag, asyncCb);
    		  }

    		  let self = this;

    		  let availInBefore = chunk && chunk.length;
    		  let availOutBefore = this._chunkSize - this._offset;
    		  let leftToInflate = this._maxLength;
    		  let inOff = 0;

    		  let buffers = [];
    		  let nread = 0;

    		  let error;
    		  this.on("error", function (err) {
    		    error = err;
    		  });

    		  function handleChunk(availInAfter, availOutAfter) {
    		    if (self._hadError) {
    		      return;
    		    }

    		    let have = availOutBefore - availOutAfter;
    		    assert(have >= 0, "have should not go down");

    		    if (have > 0) {
    		      let out = self._buffer.slice(self._offset, self._offset + have);
    		      self._offset += have;

    		      if (out.length > leftToInflate) {
    		        out = out.slice(0, leftToInflate);
    		      }

    		      buffers.push(out);
    		      nread += out.length;
    		      leftToInflate -= out.length;

    		      if (leftToInflate === 0) {
    		        return false;
    		      }
    		    }

    		    if (availOutAfter === 0 || self._offset >= self._chunkSize) {
    		      availOutBefore = self._chunkSize;
    		      self._offset = 0;
    		      self._buffer = Buffer.allocUnsafe(self._chunkSize);
    		    }

    		    if (availOutAfter === 0) {
    		      inOff += availInBefore - availInAfter;
    		      availInBefore = availInAfter;

    		      return true;
    		    }

    		    return false;
    		  }

    		  assert(this._handle, "zlib binding closed");
    		  let res;
    		  do {
    		    res = this._handle.writeSync(
    		      flushFlag,
    		      chunk, // in
    		      inOff, // in_off
    		      availInBefore, // in_len
    		      this._buffer, // out
    		      this._offset, //out_off
    		      availOutBefore
    		    ); // out_len
    		    // Node 8 --> 9 compatibility check
    		    res = res || this._writeState;
    		  } while (!this._hadError && handleChunk(res[0], res[1]));

    		  if (this._hadError) {
    		    throw error;
    		  }

    		  if (nread >= kMaxLength) {
    		    _close(this);
    		    throw new RangeError(
    		      "Cannot create final Buffer. It would be larger than 0x" +
    		        kMaxLength.toString(16) +
    		        " bytes"
    		    );
    		  }

    		  let buf = Buffer.concat(buffers, nread);
    		  _close(this);

    		  return buf;
    		};

    		util.inherits(Inflate, zlib.Inflate);

    		function zlibBufferSync(engine, buffer) {
    		  if (typeof buffer === "string") {
    		    buffer = Buffer.from(buffer);
    		  }
    		  if (!(buffer instanceof Buffer)) {
    		    throw new TypeError("Not a string or buffer");
    		  }

    		  let flushFlag = engine._finishFlushFlag;
    		  if (flushFlag == null) {
    		    flushFlag = zlib.Z_FINISH;
    		  }

    		  return engine._processChunk(buffer, flushFlag);
    		}

    		function inflateSync(buffer, opts) {
    		  return zlibBufferSync(new Inflate(opts), buffer);
    		}

    		module.exports = exports = inflateSync;
    		exports.Inflate = Inflate;
    		exports.createInflate = createInflate;
    		exports.inflateSync = inflateSync; 
    	} (syncInflate, syncInflate.exports));
    	return syncInflate.exports;
    }

    var syncReader = {exports: {}};

    var hasRequiredSyncReader;

    function requireSyncReader () {
    	if (hasRequiredSyncReader) return syncReader.exports;
    	hasRequiredSyncReader = 1;

    	let SyncReader = (syncReader.exports = function (buffer) {
    	  this._buffer = buffer;
    	  this._reads = [];
    	});

    	SyncReader.prototype.read = function (length, callback) {
    	  this._reads.push({
    	    length: Math.abs(length), // if length < 0 then at most this length
    	    allowLess: length < 0,
    	    func: callback,
    	  });
    	};

    	SyncReader.prototype.process = function () {
    	  // as long as there is any data and read requests
    	  while (this._reads.length > 0 && this._buffer.length) {
    	    let read = this._reads[0];

    	    if (
    	      this._buffer.length &&
    	      (this._buffer.length >= read.length || read.allowLess)
    	    ) {
    	      // ok there is any data so that we can satisfy this request
    	      this._reads.shift(); // == read

    	      let buf = this._buffer;

    	      this._buffer = buf.slice(read.length);

    	      read.func.call(this, buf.slice(0, read.length));
    	    } else {
    	      break;
    	    }
    	  }

    	  if (this._reads.length > 0) {
    	    return new Error("There are some read requests waitng on finished stream");
    	  }

    	  if (this._buffer.length > 0) {
    	    return new Error("unrecognised content at end of stream");
    	  }
    	};
    	return syncReader.exports;
    }

    var filterParseSync = {};

    var hasRequiredFilterParseSync;

    function requireFilterParseSync () {
    	if (hasRequiredFilterParseSync) return filterParseSync;
    	hasRequiredFilterParseSync = 1;

    	let SyncReader = requireSyncReader();
    	let Filter = requireFilterParse();

    	filterParseSync.process = function (inBuffer, bitmapInfo) {
    	  let outBuffers = [];
    	  let reader = new SyncReader(inBuffer);
    	  let filter = new Filter(bitmapInfo, {
    	    read: reader.read.bind(reader),
    	    write: function (bufferPart) {
    	      outBuffers.push(bufferPart);
    	    },
    	    complete: function () {},
    	  });

    	  filter.start();
    	  reader.process();

    	  return Buffer.concat(outBuffers);
    	};
    	return filterParseSync;
    }

    var parserSync;
    var hasRequiredParserSync;

    function requireParserSync () {
    	if (hasRequiredParserSync) return parserSync;
    	hasRequiredParserSync = 1;

    	let hasSyncZlib = true;
    	let zlib = require$$0$b;
    	let inflateSync = requireSyncInflate();
    	if (!zlib.deflateSync) {
    	  hasSyncZlib = false;
    	}
    	let SyncReader = requireSyncReader();
    	let FilterSync = requireFilterParseSync();
    	let Parser = requireParser();
    	let bitmapper = requireBitmapper();
    	let formatNormaliser = requireFormatNormaliser();

    	parserSync = function (buffer, options) {
    	  if (!hasSyncZlib) {
    	    throw new Error(
    	      "To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0"
    	    );
    	  }

    	  let err;
    	  function handleError(_err_) {
    	    err = _err_;
    	  }

    	  let metaData;
    	  function handleMetaData(_metaData_) {
    	    metaData = _metaData_;
    	  }

    	  function handleTransColor(transColor) {
    	    metaData.transColor = transColor;
    	  }

    	  function handlePalette(palette) {
    	    metaData.palette = palette;
    	  }

    	  function handleSimpleTransparency() {
    	    metaData.alpha = true;
    	  }

    	  let gamma;
    	  function handleGamma(_gamma_) {
    	    gamma = _gamma_;
    	  }

    	  let inflateDataList = [];
    	  function handleInflateData(inflatedData) {
    	    inflateDataList.push(inflatedData);
    	  }

    	  let reader = new SyncReader(buffer);

    	  let parser = new Parser(options, {
    	    read: reader.read.bind(reader),
    	    error: handleError,
    	    metadata: handleMetaData,
    	    gamma: handleGamma,
    	    palette: handlePalette,
    	    transColor: handleTransColor,
    	    inflateData: handleInflateData,
    	    simpleTransparency: handleSimpleTransparency,
    	  });

    	  parser.start();
    	  reader.process();

    	  if (err) {
    	    throw err;
    	  }

    	  //join together the inflate datas
    	  let inflateData = Buffer.concat(inflateDataList);
    	  inflateDataList.length = 0;

    	  let inflatedData;
    	  if (metaData.interlace) {
    	    inflatedData = zlib.inflateSync(inflateData);
    	  } else {
    	    let rowSize =
    	      ((metaData.width * metaData.bpp * metaData.depth + 7) >> 3) + 1;
    	    let imageSize = rowSize * metaData.height;
    	    inflatedData = inflateSync(inflateData, {
    	      chunkSize: imageSize,
    	      maxLength: imageSize,
    	    });
    	  }
    	  inflateData = null;

    	  if (!inflatedData || !inflatedData.length) {
    	    throw new Error("bad png - invalid inflate data response");
    	  }

    	  let unfilteredData = FilterSync.process(inflatedData, metaData);
    	  inflateData = null;

    	  let bitmapData = bitmapper.dataToBitMap(unfilteredData, metaData);
    	  unfilteredData = null;

    	  let normalisedBitmapData = formatNormaliser(bitmapData, metaData);

    	  metaData.data = normalisedBitmapData;
    	  metaData.gamma = gamma || 0;

    	  return metaData;
    	};
    	return parserSync;
    }

    var packerSync;
    var hasRequiredPackerSync;

    function requirePackerSync () {
    	if (hasRequiredPackerSync) return packerSync;
    	hasRequiredPackerSync = 1;

    	let hasSyncZlib = true;
    	let zlib = require$$0$b;
    	if (!zlib.deflateSync) {
    	  hasSyncZlib = false;
    	}
    	let constants = requireConstants();
    	let Packer = requirePacker();

    	packerSync = function (metaData, opt) {
    	  if (!hasSyncZlib) {
    	    throw new Error(
    	      "To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0"
    	    );
    	  }

    	  let options = opt || {};

    	  let packer = new Packer(options);

    	  let chunks = [];

    	  // Signature
    	  chunks.push(Buffer.from(constants.PNG_SIGNATURE));

    	  // Header
    	  chunks.push(packer.packIHDR(metaData.width, metaData.height));

    	  if (metaData.gamma) {
    	    chunks.push(packer.packGAMA(metaData.gamma));
    	  }

    	  let filteredData = packer.filterData(
    	    metaData.data,
    	    metaData.width,
    	    metaData.height
    	  );

    	  // compress it
    	  let compressedData = zlib.deflateSync(
    	    filteredData,
    	    packer.getDeflateOptions()
    	  );
    	  filteredData = null;

    	  if (!compressedData || !compressedData.length) {
    	    throw new Error("bad png - invalid compressed data response");
    	  }
    	  chunks.push(packer.packIDAT(compressedData));

    	  // End
    	  chunks.push(packer.packIEND());

    	  return Buffer.concat(chunks);
    	};
    	return packerSync;
    }

    var hasRequiredPngSync;

    function requirePngSync () {
    	if (hasRequiredPngSync) return pngSync;
    	hasRequiredPngSync = 1;

    	let parse = requireParserSync();
    	let pack = requirePackerSync();

    	pngSync.read = function (buffer, options) {
    	  return parse(buffer, options || {});
    	};

    	pngSync.write = function (png, options) {
    	  return pack(png, options);
    	};
    	return pngSync;
    }

    var hasRequiredPng$1;

    function requirePng$1 () {
    	if (hasRequiredPng$1) return png;
    	hasRequiredPng$1 = 1;

    	let util = require$$0$4;
    	let Stream = require$$0$a;
    	let Parser = requireParserAsync();
    	let Packer = requirePackerAsync();
    	let PNGSync = requirePngSync();

    	let PNG = (png.PNG = function (options) {
    	  Stream.call(this);

    	  options = options || {}; // eslint-disable-line no-param-reassign

    	  // coerce pixel dimensions to integers (also coerces undefined -> 0):
    	  this.width = options.width | 0;
    	  this.height = options.height | 0;

    	  this.data =
    	    this.width > 0 && this.height > 0
    	      ? Buffer.alloc(4 * this.width * this.height)
    	      : null;

    	  if (options.fill && this.data) {
    	    this.data.fill(0);
    	  }

    	  this.gamma = 0;
    	  this.readable = this.writable = true;

    	  this._parser = new Parser(options);

    	  this._parser.on("error", this.emit.bind(this, "error"));
    	  this._parser.on("close", this._handleClose.bind(this));
    	  this._parser.on("metadata", this._metadata.bind(this));
    	  this._parser.on("gamma", this._gamma.bind(this));
    	  this._parser.on(
    	    "parsed",
    	    function (data) {
    	      this.data = data;
    	      this.emit("parsed", data);
    	    }.bind(this)
    	  );

    	  this._packer = new Packer(options);
    	  this._packer.on("data", this.emit.bind(this, "data"));
    	  this._packer.on("end", this.emit.bind(this, "end"));
    	  this._parser.on("close", this._handleClose.bind(this));
    	  this._packer.on("error", this.emit.bind(this, "error"));
    	});
    	util.inherits(PNG, Stream);

    	PNG.sync = PNGSync;

    	PNG.prototype.pack = function () {
    	  if (!this.data || !this.data.length) {
    	    this.emit("error", "No data provided");
    	    return this;
    	  }

    	  process.nextTick(
    	    function () {
    	      this._packer.pack(this.data, this.width, this.height, this.gamma);
    	    }.bind(this)
    	  );

    	  return this;
    	};

    	PNG.prototype.parse = function (data, callback) {
    	  if (callback) {
    	    let onParsed, onError;

    	    onParsed = function (parsedData) {
    	      this.removeListener("error", onError);

    	      this.data = parsedData;
    	      callback(null, this);
    	    }.bind(this);

    	    onError = function (err) {
    	      this.removeListener("parsed", onParsed);

    	      callback(err, null);
    	    }.bind(this);

    	    this.once("parsed", onParsed);
    	    this.once("error", onError);
    	  }

    	  this.end(data);
    	  return this;
    	};

    	PNG.prototype.write = function (data) {
    	  this._parser.write(data);
    	  return true;
    	};

    	PNG.prototype.end = function (data) {
    	  this._parser.end(data);
    	};

    	PNG.prototype._metadata = function (metadata) {
    	  this.width = metadata.width;
    	  this.height = metadata.height;

    	  this.emit("metadata", metadata);
    	};

    	PNG.prototype._gamma = function (gamma) {
    	  this.gamma = gamma;
    	};

    	PNG.prototype._handleClose = function () {
    	  if (!this._parser.writable && !this._packer.readable) {
    	    this.emit("close");
    	  }
    	};

    	PNG.bitblt = function (src, dst, srcX, srcY, width, height, deltaX, deltaY) {
    	  // eslint-disable-line max-params
    	  // coerce pixel dimensions to integers (also coerces undefined -> 0):
    	  /* eslint-disable no-param-reassign */
    	  srcX |= 0;
    	  srcY |= 0;
    	  width |= 0;
    	  height |= 0;
    	  deltaX |= 0;
    	  deltaY |= 0;
    	  /* eslint-enable no-param-reassign */

    	  if (
    	    srcX > src.width ||
    	    srcY > src.height ||
    	    srcX + width > src.width ||
    	    srcY + height > src.height
    	  ) {
    	    throw new Error("bitblt reading outside image");
    	  }

    	  if (
    	    deltaX > dst.width ||
    	    deltaY > dst.height ||
    	    deltaX + width > dst.width ||
    	    deltaY + height > dst.height
    	  ) {
    	    throw new Error("bitblt writing outside image");
    	  }

    	  for (let y = 0; y < height; y++) {
    	    src.data.copy(
    	      dst.data,
    	      ((deltaY + y) * dst.width + deltaX) << 2,
    	      ((srcY + y) * src.width + srcX) << 2,
    	      ((srcY + y) * src.width + srcX + width) << 2
    	    );
    	  }
    	};

    	PNG.prototype.bitblt = function (
    	  dst,
    	  srcX,
    	  srcY,
    	  width,
    	  height,
    	  deltaX,
    	  deltaY
    	) {
    	  // eslint-disable-line max-params

    	  PNG.bitblt(this, dst, srcX, srcY, width, height, deltaX, deltaY);
    	  return this;
    	};

    	PNG.adjustGamma = function (src) {
    	  if (src.gamma) {
    	    for (let y = 0; y < src.height; y++) {
    	      for (let x = 0; x < src.width; x++) {
    	        let idx = (src.width * y + x) << 2;

    	        for (let i = 0; i < 3; i++) {
    	          let sample = src.data[idx + i] / 255;
    	          sample = Math.pow(sample, 1 / 2.2 / src.gamma);
    	          src.data[idx + i] = Math.round(sample * 255);
    	        }
    	      }
    	    }
    	    src.gamma = 0;
    	  }
    	};

    	PNG.prototype.adjustGamma = function () {
    	  PNG.adjustGamma(this);
    	};
    	return png;
    }

    var utils = {};

    var hasRequiredUtils;

    function requireUtils () {
    	if (hasRequiredUtils) return utils;
    	hasRequiredUtils = 1;
    	(function (exports) {
    		function hex2rgba (hex) {
    		  if (typeof hex === 'number') {
    		    hex = hex.toString();
    		  }

    		  if (typeof hex !== 'string') {
    		    throw new Error('Color should be defined as hex string')
    		  }

    		  let hexCode = hex.slice().replace('#', '').split('');
    		  if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {
    		    throw new Error('Invalid hex color: ' + hex)
    		  }

    		  // Convert from short to long form (fff -> ffffff)
    		  if (hexCode.length === 3 || hexCode.length === 4) {
    		    hexCode = Array.prototype.concat.apply([], hexCode.map(function (c) {
    		      return [c, c]
    		    }));
    		  }

    		  // Add default alpha value
    		  if (hexCode.length === 6) hexCode.push('F', 'F');

    		  const hexValue = parseInt(hexCode.join(''), 16);

    		  return {
    		    r: (hexValue >> 24) & 255,
    		    g: (hexValue >> 16) & 255,
    		    b: (hexValue >> 8) & 255,
    		    a: hexValue & 255,
    		    hex: '#' + hexCode.slice(0, 6).join('')
    		  }
    		}

    		exports.getOptions = function getOptions (options) {
    		  if (!options) options = {};
    		  if (!options.color) options.color = {};

    		  const margin = typeof options.margin === 'undefined' ||
    		    options.margin === null ||
    		    options.margin < 0
    		    ? 4
    		    : options.margin;

    		  const width = options.width && options.width >= 21 ? options.width : undefined;
    		  const scale = options.scale || 4;

    		  return {
    		    width: width,
    		    scale: width ? 4 : scale,
    		    margin: margin,
    		    color: {
    		      dark: hex2rgba(options.color.dark || '#000000ff'),
    		      light: hex2rgba(options.color.light || '#ffffffff')
    		    },
    		    type: options.type,
    		    rendererOpts: options.rendererOpts || {}
    		  }
    		};

    		exports.getScale = function getScale (qrSize, opts) {
    		  return opts.width && opts.width >= qrSize + opts.margin * 2
    		    ? opts.width / (qrSize + opts.margin * 2)
    		    : opts.scale
    		};

    		exports.getImageWidth = function getImageWidth (qrSize, opts) {
    		  const scale = exports.getScale(qrSize, opts);
    		  return Math.floor((qrSize + opts.margin * 2) * scale)
    		};

    		exports.qrToImageData = function qrToImageData (imgData, qr, opts) {
    		  const size = qr.modules.size;
    		  const data = qr.modules.data;
    		  const scale = exports.getScale(size, opts);
    		  const symbolSize = Math.floor((size + opts.margin * 2) * scale);
    		  const scaledMargin = opts.margin * scale;
    		  const palette = [opts.color.light, opts.color.dark];

    		  for (let i = 0; i < symbolSize; i++) {
    		    for (let j = 0; j < symbolSize; j++) {
    		      let posDst = (i * symbolSize + j) * 4;
    		      let pxColor = opts.color.light;

    		      if (i >= scaledMargin && j >= scaledMargin &&
    		        i < symbolSize - scaledMargin && j < symbolSize - scaledMargin) {
    		        const iSrc = Math.floor((i - scaledMargin) / scale);
    		        const jSrc = Math.floor((j - scaledMargin) / scale);
    		        pxColor = palette[data[iSrc * size + jSrc] ? 1 : 0];
    		      }

    		      imgData[posDst++] = pxColor.r;
    		      imgData[posDst++] = pxColor.g;
    		      imgData[posDst++] = pxColor.b;
    		      imgData[posDst] = pxColor.a;
    		    }
    		  }
    		}; 
    	} (utils));
    	return utils;
    }

    var hasRequiredPng;

    function requirePng () {
    	if (hasRequiredPng) return png$1;
    	hasRequiredPng = 1;
    	(function (exports) {
    		const fs = require$$0$5;
    		const PNG = requirePng$1().PNG;
    		const Utils = requireUtils();

    		exports.render = function render (qrData, options) {
    		  const opts = Utils.getOptions(options);
    		  const pngOpts = opts.rendererOpts;
    		  const size = Utils.getImageWidth(qrData.modules.size, opts);

    		  pngOpts.width = size;
    		  pngOpts.height = size;

    		  const pngImage = new PNG(pngOpts);
    		  Utils.qrToImageData(pngImage.data, qrData, opts);

    		  return pngImage
    		};

    		exports.renderToDataURL = function renderToDataURL (qrData, options, cb) {
    		  if (typeof cb === 'undefined') {
    		    cb = options;
    		    options = undefined;
    		  }

    		  exports.renderToBuffer(qrData, options, function (err, output) {
    		    if (err) cb(err);
    		    let url = 'data:image/png;base64,';
    		    url += output.toString('base64');
    		    cb(null, url);
    		  });
    		};

    		exports.renderToBuffer = function renderToBuffer (qrData, options, cb) {
    		  if (typeof cb === 'undefined') {
    		    cb = options;
    		    options = undefined;
    		  }

    		  const png = exports.render(qrData, options);
    		  const buffer = [];

    		  png.on('error', cb);

    		  png.on('data', function (data) {
    		    buffer.push(data);
    		  });

    		  png.on('end', function () {
    		    cb(null, Buffer.concat(buffer));
    		  });

    		  png.pack();
    		};

    		exports.renderToFile = function renderToFile (path, qrData, options, cb) {
    		  if (typeof cb === 'undefined') {
    		    cb = options;
    		    options = undefined;
    		  }

    		  let called = false;
    		  const done = (...args) => {
    		    if (called) return
    		    called = true;
    		    cb.apply(null, args);
    		  };
    		  const stream = fs.createWriteStream(path);

    		  stream.on('error', done);
    		  stream.on('close', done);

    		  exports.renderToFileStream(stream, qrData, options);
    		};

    		exports.renderToFileStream = function renderToFileStream (stream, qrData, options) {
    		  const png = exports.render(qrData, options);
    		  png.pack().pipe(stream);
    		}; 
    	} (png$1));
    	return png$1;
    }

    var utf8 = {};

    var hasRequiredUtf8;

    function requireUtf8 () {
    	if (hasRequiredUtf8) return utf8;
    	hasRequiredUtf8 = 1;
    	(function (exports) {
    		const Utils = requireUtils();

    		const BLOCK_CHAR = {
    		  WW: ' ',
    		  WB: '▄',
    		  BB: '█',
    		  BW: '▀'
    		};

    		const INVERTED_BLOCK_CHAR = {
    		  BB: ' ',
    		  BW: '▄',
    		  WW: '█',
    		  WB: '▀'
    		};

    		function getBlockChar (top, bottom, blocks) {
    		  if (top && bottom) return blocks.BB
    		  if (top && !bottom) return blocks.BW
    		  if (!top && bottom) return blocks.WB
    		  return blocks.WW
    		}

    		exports.render = function (qrData, options, cb) {
    		  const opts = Utils.getOptions(options);
    		  let blocks = BLOCK_CHAR;
    		  if (opts.color.dark.hex === '#ffffff' || opts.color.light.hex === '#000000') {
    		    blocks = INVERTED_BLOCK_CHAR;
    		  }

    		  const size = qrData.modules.size;
    		  const data = qrData.modules.data;

    		  let output = '';
    		  let hMargin = Array(size + (opts.margin * 2) + 1).join(blocks.WW);
    		  hMargin = Array((opts.margin / 2) + 1).join(hMargin + '\n');

    		  const vMargin = Array(opts.margin + 1).join(blocks.WW);

    		  output += hMargin;
    		  for (let i = 0; i < size; i += 2) {
    		    output += vMargin;
    		    for (let j = 0; j < size; j++) {
    		      const topModule = data[i * size + j];
    		      const bottomModule = data[(i + 1) * size + j];

    		      output += getBlockChar(topModule, bottomModule, blocks);
    		    }

    		    output += vMargin + '\n';
    		  }

    		  output += hMargin.slice(0, -1);

    		  if (typeof cb === 'function') {
    		    cb(null, output);
    		  }

    		  return output
    		};

    		exports.renderToFile = function renderToFile (path, qrData, options, cb) {
    		  if (typeof cb === 'undefined') {
    		    cb = options;
    		    options = undefined;
    		  }

    		  const fs = require$$0$5;
    		  const utf8 = exports.render(qrData, options);
    		  fs.writeFile(path, utf8, cb);
    		}; 
    	} (utf8));
    	return utf8;
    }

    var terminal$1 = {};

    var terminal = {};

    var hasRequiredTerminal$1;

    function requireTerminal$1 () {
    	if (hasRequiredTerminal$1) return terminal;
    	hasRequiredTerminal$1 = 1;
    	// let Utils = require('./utils')

    	terminal.render = function (qrData, options, cb) {
    	  const size = qrData.modules.size;
    	  const data = qrData.modules.data;

    	  // let opts = Utils.getOptions(options)

    	  // use same scheme as https://github.com/gtanner/qrcode-terminal because it actually works! =)
    	  const black = '\x1b[40m  \x1b[0m';
    	  const white = '\x1b[47m  \x1b[0m';

    	  let output = '';
    	  const hMargin = Array(size + 3).join(white);
    	  const vMargin = Array(2).join(white);

    	  output += hMargin + '\n';
    	  for (let i = 0; i < size; ++i) {
    	    output += white;
    	    for (let j = 0; j < size; j++) {
    	      // let topModule = data[i * size + j]
    	      // let bottomModule = data[(i + 1) * size + j]

    	      output += data[i * size + j] ? black : white;// getBlockChar(topModule, bottomModule)
    	    }
    	    // output += white+'\n'
    	    output += vMargin + '\n';
    	  }

    	  output += hMargin + '\n';

    	  if (typeof cb === 'function') {
    	    cb(null, output);
    	  }

    	  return output
    	};
    	/*
    	exports.renderToFile = function renderToFile (path, qrData, options, cb) {
    	  if (typeof cb === 'undefined') {
    	    cb = options
    	    options = undefined
    	  }

    	  let fs = require('fs')
    	  let utf8 = exports.render(qrData, options)
    	  fs.writeFile(path, utf8, cb)
    	}
    	*/
    	return terminal;
    }

    var terminalSmall = {};

    var hasRequiredTerminalSmall;

    function requireTerminalSmall () {
    	if (hasRequiredTerminalSmall) return terminalSmall;
    	hasRequiredTerminalSmall = 1;
    	const backgroundWhite = '\x1b[47m';
    	const backgroundBlack = '\x1b[40m';
    	const foregroundWhite = '\x1b[37m';
    	const foregroundBlack = '\x1b[30m';
    	const reset = '\x1b[0m';
    	const lineSetupNormal = backgroundWhite + foregroundBlack; // setup colors
    	const lineSetupInverse = backgroundBlack + foregroundWhite; // setup colors

    	const createPalette = function (lineSetup, foregroundWhite, foregroundBlack) {
    	  return {
    	    // 1 ... white, 2 ... black, 0 ... transparent (default)

    	    '00': reset + ' ' + lineSetup,
    	    '01': reset + foregroundWhite + '▄' + lineSetup,
    	    '02': reset + foregroundBlack + '▄' + lineSetup,
    	    10: reset + foregroundWhite + '▀' + lineSetup,
    	    11: ' ',
    	    12: '▄',
    	    20: reset + foregroundBlack + '▀' + lineSetup,
    	    21: '▀',
    	    22: '█'
    	  }
    	};

    	/**
    	 * Returns code for QR pixel
    	 * @param {boolean[][]} modules
    	 * @param {number} size
    	 * @param {number} x
    	 * @param {number} y
    	 * @return {'0' | '1' | '2'}
    	 */
    	const mkCodePixel = function (modules, size, x, y) {
    	  const sizePlus = size + 1;
    	  if ((x >= sizePlus) || (y >= sizePlus) || (y < -1) || (x < -1)) return '0'
    	  if ((x >= size) || (y >= size) || (y < 0) || (x < 0)) return '1'
    	  const idx = (y * size) + x;
    	  return modules[idx] ? '2' : '1'
    	};

    	/**
    	 * Returns code for four QR pixels. Suitable as key in palette.
    	 * @param {boolean[][]} modules
    	 * @param {number} size
    	 * @param {number} x
    	 * @param {number} y
    	 * @return {keyof palette}
    	 */
    	const mkCode = function (modules, size, x, y) {
    	  return (
    	    mkCodePixel(modules, size, x, y) +
    	    mkCodePixel(modules, size, x, y + 1)
    	  )
    	};

    	terminalSmall.render = function (qrData, options, cb) {
    	  const size = qrData.modules.size;
    	  const data = qrData.modules.data;

    	  const inverse = !!(options && options.inverse);
    	  const lineSetup = options && options.inverse ? lineSetupInverse : lineSetupNormal;
    	  const white = inverse ? foregroundBlack : foregroundWhite;
    	  const black = inverse ? foregroundWhite : foregroundBlack;

    	  const palette = createPalette(lineSetup, white, black);
    	  const newLine = reset + '\n' + lineSetup;

    	  let output = lineSetup; // setup colors

    	  for (let y = -1; y < size + 1; y += 2) {
    	    for (let x = -1; x < size; x++) {
    	      output += palette[mkCode(data, size, x, y)];
    	    }

    	    output += palette[mkCode(data, size, size, y)] + newLine;
    	  }

    	  output += reset;

    	  if (typeof cb === 'function') {
    	    cb(null, output);
    	  }

    	  return output
    	};
    	return terminalSmall;
    }

    var hasRequiredTerminal;

    function requireTerminal () {
    	if (hasRequiredTerminal) return terminal$1;
    	hasRequiredTerminal = 1;
    	const big = requireTerminal$1();
    	const small = requireTerminalSmall();

    	terminal$1.render = function (qrData, options, cb) {
    	  if (options && options.small) {
    	    return small.render(qrData, options, cb)
    	  }
    	  return big.render(qrData, options, cb)
    	};
    	return terminal$1;
    }

    var svg = {};

    var svgTag = {};

    var hasRequiredSvgTag;

    function requireSvgTag () {
    	if (hasRequiredSvgTag) return svgTag;
    	hasRequiredSvgTag = 1;
    	const Utils = requireUtils();

    	function getColorAttrib (color, attrib) {
    	  const alpha = color.a / 255;
    	  const str = attrib + '="' + color.hex + '"';

    	  return alpha < 1
    	    ? str + ' ' + attrib + '-opacity="' + alpha.toFixed(2).slice(1) + '"'
    	    : str
    	}

    	function svgCmd (cmd, x, y) {
    	  let str = cmd + x;
    	  if (typeof y !== 'undefined') str += ' ' + y;

    	  return str
    	}

    	function qrToPath (data, size, margin) {
    	  let path = '';
    	  let moveBy = 0;
    	  let newRow = false;
    	  let lineLength = 0;

    	  for (let i = 0; i < data.length; i++) {
    	    const col = Math.floor(i % size);
    	    const row = Math.floor(i / size);

    	    if (!col && !newRow) newRow = true;

    	    if (data[i]) {
    	      lineLength++;

    	      if (!(i > 0 && col > 0 && data[i - 1])) {
    	        path += newRow
    	          ? svgCmd('M', col + margin, 0.5 + row + margin)
    	          : svgCmd('m', moveBy, 0);

    	        moveBy = 0;
    	        newRow = false;
    	      }

    	      if (!(col + 1 < size && data[i + 1])) {
    	        path += svgCmd('h', lineLength);
    	        lineLength = 0;
    	      }
    	    } else {
    	      moveBy++;
    	    }
    	  }

    	  return path
    	}

    	svgTag.render = function render (qrData, options, cb) {
    	  const opts = Utils.getOptions(options);
    	  const size = qrData.modules.size;
    	  const data = qrData.modules.data;
    	  const qrcodesize = size + opts.margin * 2;

    	  const bg = !opts.color.light.a
    	    ? ''
    	    : '<path ' + getColorAttrib(opts.color.light, 'fill') +
    	      ' d="M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z"/>';

    	  const path =
    	    '<path ' + getColorAttrib(opts.color.dark, 'stroke') +
    	    ' d="' + qrToPath(data, size, opts.margin) + '"/>';

    	  const viewBox = 'viewBox="' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '"';

    	  const width = !opts.width ? '' : 'width="' + opts.width + '" height="' + opts.width + '" ';

    	  const svgTag = '<svg xmlns="http://www.w3.org/2000/svg" ' + width + viewBox + ' shape-rendering="crispEdges">' + bg + path + '</svg>\n';

    	  if (typeof cb === 'function') {
    	    cb(null, svgTag);
    	  }

    	  return svgTag
    	};
    	return svgTag;
    }

    var hasRequiredSvg;

    function requireSvg () {
    	if (hasRequiredSvg) return svg;
    	hasRequiredSvg = 1;
    	(function (exports) {
    		const svgTagRenderer = requireSvgTag();

    		exports.render = svgTagRenderer.render;

    		exports.renderToFile = function renderToFile (path, qrData, options, cb) {
    		  if (typeof cb === 'undefined') {
    		    cb = options;
    		    options = undefined;
    		  }

    		  const fs = require$$0$5;
    		  const svgTag = exports.render(qrData, options);

    		  const xmlStr = '<?xml version="1.0" encoding="utf-8"?>' +
    		    '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">' +
    		    svgTag;

    		  fs.writeFile(path, xmlStr, cb);
    		}; 
    	} (svg));
    	return svg;
    }

    var browser$1 = {};

    var canvas = {};

    var hasRequiredCanvas;

    function requireCanvas () {
    	if (hasRequiredCanvas) return canvas;
    	hasRequiredCanvas = 1;
    	(function (exports) {
    		const Utils = requireUtils();

    		function clearCanvas (ctx, canvas, size) {
    		  ctx.clearRect(0, 0, canvas.width, canvas.height);

    		  if (!canvas.style) canvas.style = {};
    		  canvas.height = size;
    		  canvas.width = size;
    		  canvas.style.height = size + 'px';
    		  canvas.style.width = size + 'px';
    		}

    		function getCanvasElement () {
    		  try {
    		    return document.createElement('canvas')
    		  } catch (e) {
    		    throw new Error('You need to specify a canvas element')
    		  }
    		}

    		exports.render = function render (qrData, canvas, options) {
    		  let opts = options;
    		  let canvasEl = canvas;

    		  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {
    		    opts = canvas;
    		    canvas = undefined;
    		  }

    		  if (!canvas) {
    		    canvasEl = getCanvasElement();
    		  }

    		  opts = Utils.getOptions(opts);
    		  const size = Utils.getImageWidth(qrData.modules.size, opts);

    		  const ctx = canvasEl.getContext('2d');
    		  const image = ctx.createImageData(size, size);
    		  Utils.qrToImageData(image.data, qrData, opts);

    		  clearCanvas(ctx, canvasEl, size);
    		  ctx.putImageData(image, 0, 0);

    		  return canvasEl
    		};

    		exports.renderToDataURL = function renderToDataURL (qrData, canvas, options) {
    		  let opts = options;

    		  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {
    		    opts = canvas;
    		    canvas = undefined;
    		  }

    		  if (!opts) opts = {};

    		  const canvasEl = exports.render(qrData, canvas, opts);

    		  const type = opts.type || 'image/png';
    		  const rendererOpts = opts.rendererOpts || {};

    		  return canvasEl.toDataURL(type, rendererOpts.quality)
    		}; 
    	} (canvas));
    	return canvas;
    }

    var hasRequiredBrowser;

    function requireBrowser () {
    	if (hasRequiredBrowser) return browser$1;
    	hasRequiredBrowser = 1;
    	const canPromise = requireCanPromise();

    	const QRCode = requireQrcode();
    	const CanvasRenderer = requireCanvas();
    	const SvgRenderer = requireSvgTag();

    	function renderCanvas (renderFunc, canvas, text, opts, cb) {
    	  const args = [].slice.call(arguments, 1);
    	  const argsNum = args.length;
    	  const isLastArgCb = typeof args[argsNum - 1] === 'function';

    	  if (!isLastArgCb && !canPromise()) {
    	    throw new Error('Callback required as last argument')
    	  }

    	  if (isLastArgCb) {
    	    if (argsNum < 2) {
    	      throw new Error('Too few arguments provided')
    	    }

    	    if (argsNum === 2) {
    	      cb = text;
    	      text = canvas;
    	      canvas = opts = undefined;
    	    } else if (argsNum === 3) {
    	      if (canvas.getContext && typeof cb === 'undefined') {
    	        cb = opts;
    	        opts = undefined;
    	      } else {
    	        cb = opts;
    	        opts = text;
    	        text = canvas;
    	        canvas = undefined;
    	      }
    	    }
    	  } else {
    	    if (argsNum < 1) {
    	      throw new Error('Too few arguments provided')
    	    }

    	    if (argsNum === 1) {
    	      text = canvas;
    	      canvas = opts = undefined;
    	    } else if (argsNum === 2 && !canvas.getContext) {
    	      opts = text;
    	      text = canvas;
    	      canvas = undefined;
    	    }

    	    return new Promise(function (resolve, reject) {
    	      try {
    	        const data = QRCode.create(text, opts);
    	        resolve(renderFunc(data, canvas, opts));
    	      } catch (e) {
    	        reject(e);
    	      }
    	    })
    	  }

    	  try {
    	    const data = QRCode.create(text, opts);
    	    cb(null, renderFunc(data, canvas, opts));
    	  } catch (e) {
    	    cb(e);
    	  }
    	}

    	browser$1.create = QRCode.create;
    	browser$1.toCanvas = renderCanvas.bind(null, CanvasRenderer.render);
    	browser$1.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL);

    	// only svg for now.
    	browser$1.toString = renderCanvas.bind(null, function (data, _, opts) {
    	  return SvgRenderer.render(data, opts)
    	});
    	return browser$1;
    }

    var hasRequiredServer;

    function requireServer () {
    	if (hasRequiredServer) return server;
    	hasRequiredServer = 1;
    	const canPromise = requireCanPromise();
    	const QRCode = requireQrcode();
    	const PngRenderer = requirePng();
    	const Utf8Renderer = requireUtf8();
    	const TerminalRenderer = requireTerminal();
    	const SvgRenderer = requireSvg();

    	function checkParams (text, opts, cb) {
    	  if (typeof text === 'undefined') {
    	    throw new Error('String required as first argument')
    	  }

    	  if (typeof cb === 'undefined') {
    	    cb = opts;
    	    opts = {};
    	  }

    	  if (typeof cb !== 'function') {
    	    if (!canPromise()) {
    	      throw new Error('Callback required as last argument')
    	    } else {
    	      opts = cb || {};
    	      cb = null;
    	    }
    	  }

    	  return {
    	    opts: opts,
    	    cb: cb
    	  }
    	}

    	function getTypeFromFilename (path) {
    	  return path.slice((path.lastIndexOf('.') - 1 >>> 0) + 2).toLowerCase()
    	}

    	function getRendererFromType (type) {
    	  switch (type) {
    	    case 'svg':
    	      return SvgRenderer

    	    case 'txt':
    	    case 'utf8':
    	      return Utf8Renderer

    	    case 'png':
    	    case 'image/png':
    	    default:
    	      return PngRenderer
    	  }
    	}

    	function getStringRendererFromType (type) {
    	  switch (type) {
    	    case 'svg':
    	      return SvgRenderer

    	    case 'terminal':
    	      return TerminalRenderer

    	    case 'utf8':
    	    default:
    	      return Utf8Renderer
    	  }
    	}

    	function render (renderFunc, text, params) {
    	  if (!params.cb) {
    	    return new Promise(function (resolve, reject) {
    	      try {
    	        const data = QRCode.create(text, params.opts);
    	        return renderFunc(data, params.opts, function (err, data) {
    	          return err ? reject(err) : resolve(data)
    	        })
    	      } catch (e) {
    	        reject(e);
    	      }
    	    })
    	  }

    	  try {
    	    const data = QRCode.create(text, params.opts);
    	    return renderFunc(data, params.opts, params.cb)
    	  } catch (e) {
    	    params.cb(e);
    	  }
    	}

    	server.create = QRCode.create;

    	server.toCanvas = requireBrowser().toCanvas;

    	server.toString = function toString (text, opts, cb) {
    	  const params = checkParams(text, opts, cb);
    	  const type = params.opts ? params.opts.type : undefined;
    	  const renderer = getStringRendererFromType(type);
    	  return render(renderer.render, text, params)
    	};

    	server.toDataURL = function toDataURL (text, opts, cb) {
    	  const params = checkParams(text, opts, cb);
    	  const renderer = getRendererFromType(params.opts.type);
    	  return render(renderer.renderToDataURL, text, params)
    	};

    	server.toBuffer = function toBuffer (text, opts, cb) {
    	  const params = checkParams(text, opts, cb);
    	  const renderer = getRendererFromType(params.opts.type);
    	  return render(renderer.renderToBuffer, text, params)
    	};

    	server.toFile = function toFile (path, text, opts, cb) {
    	  if (typeof path !== 'string' || !(typeof text === 'string' || typeof text === 'object')) {
    	    throw new Error('Invalid argument')
    	  }

    	  if ((arguments.length < 3) && !canPromise()) {
    	    throw new Error('Too few arguments provided')
    	  }

    	  const params = checkParams(text, opts, cb);
    	  const type = params.opts.type || getTypeFromFilename(path);
    	  const renderer = getRendererFromType(type);
    	  const renderToFile = renderer.renderToFile.bind(null, path);

    	  return render(renderToFile, text, params)
    	};

    	server.toFileStream = function toFileStream (stream, text, opts) {
    	  if (arguments.length < 2) {
    	    throw new Error('Too few arguments provided')
    	  }

    	  const params = checkParams(text, opts, stream.emit.bind(stream, 'error'));
    	  const renderer = getRendererFromType('png'); // Only png support for now
    	  const renderToFileStream = renderer.renderToFileStream.bind(null, stream);
    	  render(renderToFileStream, text, params);
    	};
    	return server;
    }

    /*
    *copyright Ryan Day 2012
    *
    * Licensed under the MIT license:
    *   http://www.opensource.org/licenses/mit-license.php
    *
    * this is the main server side application file for node-qrcode.
    * these exports use serverside canvas api methods for file IO and buffers
    *
    */

    var lib;
    var hasRequiredLib;

    function requireLib () {
    	if (hasRequiredLib) return lib;
    	hasRequiredLib = 1;
    	lib = requireServer();
    	return lib;
    }

    var libExports = requireLib();
    var QRCodeUtil = /*@__PURE__*/getDefaultExportFromCjs(libExports);

    const CONNECTING_ERROR_MARGIN = 0.1;
    const CIRCLE_SIZE_MODIFIER = 2.5;
    const QRCODE_MATRIX_MARGIN = 7;
    function isAdjecentDots(cy, otherCy, cellSize) {
        if (cy === otherCy) {
            return false;
        }
        const diff = cy - otherCy < 0 ? otherCy - cy : cy - otherCy;
        return diff <= cellSize + CONNECTING_ERROR_MARGIN;
    }
    function getMatrix(value, errorCorrectionLevel) {
        const arr = Array.prototype.slice.call(QRCodeUtil.create(value, { errorCorrectionLevel }).modules.data, 0);
        const sqrt = Math.sqrt(arr.length);
        return arr.reduce((rows, key, index) => (index % sqrt === 0 ? rows.push([key]) : rows[rows.length - 1].push(key)) && rows, []);
    }
    const QrCodeUtil = {
        generate({ uri, size, logoSize, dotColor = '#141414' }) {
            const edgeColor = 'transparent';
            const strokeWidth = 5;
            const dots = [];
            const matrix = getMatrix(uri, 'Q');
            const cellSize = size / matrix.length;
            const qrList = [
                { x: 0, y: 0 },
                { x: 1, y: 0 },
                { x: 0, y: 1 }
            ];
            qrList.forEach(({ x, y }) => {
                const x1 = (matrix.length - QRCODE_MATRIX_MARGIN) * cellSize * x;
                const y1 = (matrix.length - QRCODE_MATRIX_MARGIN) * cellSize * y;
                const borderRadius = 0.45;
                for (let i = 0; i < qrList.length; i += 1) {
                    const dotSize = cellSize * (QRCODE_MATRIX_MARGIN - i * 2);
                    dots.push(b `
            <rect
              fill=${i === 2 ? dotColor : edgeColor}
              width=${i === 0 ? dotSize - strokeWidth : dotSize}
              rx= ${i === 0 ? (dotSize - strokeWidth) * borderRadius : dotSize * borderRadius}
              ry= ${i === 0 ? (dotSize - strokeWidth) * borderRadius : dotSize * borderRadius}
              stroke=${dotColor}
              stroke-width=${i === 0 ? strokeWidth : 0}
              height=${i === 0 ? dotSize - strokeWidth : dotSize}
              x= ${i === 0 ? y1 + cellSize * i + strokeWidth / 2 : y1 + cellSize * i}
              y= ${i === 0 ? x1 + cellSize * i + strokeWidth / 2 : x1 + cellSize * i}
            />
          `);
                }
            });
            const clearArenaSize = Math.floor((logoSize + 25) / cellSize);
            const matrixMiddleStart = matrix.length / 2 - clearArenaSize / 2;
            const matrixMiddleEnd = matrix.length / 2 + clearArenaSize / 2 - 1;
            const circles = [];
            matrix.forEach((row, i) => {
                row.forEach((_, j) => {
                    if (matrix[i][j]) {
                        if (!((i < QRCODE_MATRIX_MARGIN && j < QRCODE_MATRIX_MARGIN) ||
                            (i > matrix.length - (QRCODE_MATRIX_MARGIN + 1) && j < QRCODE_MATRIX_MARGIN) ||
                            (i < QRCODE_MATRIX_MARGIN && j > matrix.length - (QRCODE_MATRIX_MARGIN + 1)))) {
                            if (!(i > matrixMiddleStart &&
                                i < matrixMiddleEnd &&
                                j > matrixMiddleStart &&
                                j < matrixMiddleEnd)) {
                                const cx = i * cellSize + cellSize / 2;
                                const cy = j * cellSize + cellSize / 2;
                                circles.push([cx, cy]);
                            }
                        }
                    }
                });
            });
            const circlesToConnect = {};
            circles.forEach(([cx, cy]) => {
                if (circlesToConnect[cx]) {
                    circlesToConnect[cx]?.push(cy);
                }
                else {
                    circlesToConnect[cx] = [cy];
                }
            });
            Object.entries(circlesToConnect)
                .map(([cx, cys]) => {
                const newCys = cys.filter(cy => cys.every(otherCy => !isAdjecentDots(cy, otherCy, cellSize)));
                return [Number(cx), newCys];
            })
                .forEach(([cx, cys]) => {
                cys.forEach(cy => {
                    dots.push(b `<circle cx=${cx} cy=${cy} fill=${dotColor} r=${cellSize / CIRCLE_SIZE_MODIFIER} />`);
                });
            });
            Object.entries(circlesToConnect)
                .filter(([_, cys]) => cys.length > 1)
                .map(([cx, cys]) => {
                const newCys = cys.filter(cy => cys.some(otherCy => isAdjecentDots(cy, otherCy, cellSize)));
                return [Number(cx), newCys];
            })
                .map(([cx, cys]) => {
                cys.sort((a, b) => (a < b ? -1 : 1));
                const groups = [];
                for (const cy of cys) {
                    const group = groups.find(item => item.some(otherCy => isAdjecentDots(cy, otherCy, cellSize)));
                    if (group) {
                        group.push(cy);
                    }
                    else {
                        groups.push([cy]);
                    }
                }
                return [cx, groups.map(item => [item[0], item[item.length - 1]])];
            })
                .forEach(([cx, groups]) => {
                groups.forEach(([y1, y2]) => {
                    dots.push(b `
              <line
                x1=${cx}
                x2=${cx}
                y1=${y1}
                y2=${y2}
                stroke=${dotColor}
                stroke-width=${cellSize / (CIRCLE_SIZE_MODIFIER / 2)}
                stroke-linecap="round"
              />
            `);
                });
            });
            return dots;
        }
    };

    var styles$p = i$6 `
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;

    var __decorate$v = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    const DEFAULT_ICON_COLOR = '#3396ff';
    let WuiQrCode = class WuiQrCode extends i$3 {
        constructor() {
            super(...arguments);
            this.uri = '';
            this.size = 0;
            this.theme = 'dark';
            this.imageSrc = undefined;
            this.alt = undefined;
            this.arenaClear = undefined;
            this.farcaster = undefined;
        }
        render() {
            this.dataset['theme'] = this.theme;
            this.dataset['clear'] = String(this.arenaClear);
            this.style.cssText = `
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color ?? DEFAULT_ICON_COLOR}
    `;
            return x$1 `${this.templateVisual()} ${this.templateSvg()}`;
        }
        templateSvg() {
            const size = this.theme === 'light' ? this.size : this.size - 16 * 2;
            return b `
      <svg height=${size} width=${size}>
        ${QrCodeUtil.generate({
            uri: this.uri,
            size,
            logoSize: this.arenaClear ? 0 : size / 4,
            dotColor: this.color
        })}
      </svg>
    `;
        }
        templateVisual() {
            if (this.imageSrc) {
                return x$1 `<wui-image src=${this.imageSrc} alt=${this.alt ?? 'logo'}></wui-image>`;
            }
            if (this.farcaster) {
                return x$1 `<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`;
            }
            return x$1 `<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`;
        }
    };
    WuiQrCode.styles = [resetStyles, styles$p];
    __decorate$v([
        n$3()
    ], WuiQrCode.prototype, "uri", void 0);
    __decorate$v([
        n$3({ type: Number })
    ], WuiQrCode.prototype, "size", void 0);
    __decorate$v([
        n$3()
    ], WuiQrCode.prototype, "theme", void 0);
    __decorate$v([
        n$3()
    ], WuiQrCode.prototype, "imageSrc", void 0);
    __decorate$v([
        n$3()
    ], WuiQrCode.prototype, "alt", void 0);
    __decorate$v([
        n$3()
    ], WuiQrCode.prototype, "color", void 0);
    __decorate$v([
        n$3({ type: Boolean })
    ], WuiQrCode.prototype, "arenaClear", void 0);
    __decorate$v([
        n$3({ type: Boolean })
    ], WuiQrCode.prototype, "farcaster", void 0);
    WuiQrCode = __decorate$v([
        customElement('wui-qr-code')
    ], WuiQrCode);

    var styles$o = i$6 `
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;

    var __decorate$u = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiShimmer = class WuiShimmer extends i$3 {
        constructor() {
            super(...arguments);
            this.width = '';
            this.height = '';
            this.borderRadius = 'm';
            this.variant = 'default';
        }
        render() {
            this.style.cssText = `
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `;
            return x$1 `<slot></slot>`;
        }
    };
    WuiShimmer.styles = [styles$o];
    __decorate$u([
        n$3()
    ], WuiShimmer.prototype, "width", void 0);
    __decorate$u([
        n$3()
    ], WuiShimmer.prototype, "height", void 0);
    __decorate$u([
        n$3()
    ], WuiShimmer.prototype, "borderRadius", void 0);
    __decorate$u([
        n$3()
    ], WuiShimmer.prototype, "variant", void 0);
    WuiShimmer = __decorate$u([
        customElement('wui-shimmer')
    ], WuiShimmer);

    var styles$n = i$6 `
  .reown-logo {
    height: var(--wui-spacing-xxl);
  }
`;

    var __decorate$t = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiUxByReown = class WuiUxByReown extends i$3 {
        render() {
            return x$1 `
      <wui-flex
        justifyContent="center"
        alignItems="center"
        gap="xs"
        .padding=${['0', '0', 'l', '0']}
      >
        <wui-text variant="small-500" color="fg-100"> UX by </wui-text>
        <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>
      </wui-flex>
    `;
        }
    };
    WuiUxByReown.styles = [resetStyles, elementStyles, styles$n];
    WuiUxByReown = __decorate$t([
        customElement('wui-ux-by-reown')
    ], WuiUxByReown);

    var styles$m = i$6 `
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;

    var __decorate$s = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectingWcQrcode = class W3mConnectingWcQrcode extends W3mConnectingWidget {
        constructor() {
            super();
            this.forceUpdate = () => {
                this.requestUpdate();
            };
            window.addEventListener('resize', this.forceUpdate);
            EventsController.sendEvent({
                type: 'track',
                event: 'SELECT_WALLET',
                properties: { name: this.wallet?.name ?? 'WalletConnect', platform: 'qrcode' }
            });
        }
        disconnectedCallback() {
            super.disconnectedCallback();
            this.unsubscribe?.forEach(unsub => unsub());
            window.removeEventListener('resize', this.forceUpdate);
        }
        render() {
            this.onRenderProxy();
            return x$1 `
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${['0', 'xl', 'xl', 'xl']}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `;
        }
        onRenderProxy() {
            if (!this.ready && this.uri) {
                this.timeout = setTimeout(() => {
                    this.ready = true;
                }, 200);
            }
        }
        qrCodeTemplate() {
            if (!this.uri || !this.ready) {
                return null;
            }
            const size = this.getBoundingClientRect().width - 40;
            const alt = this.wallet ? this.wallet.name : undefined;
            ConnectionController.setWcLinking(undefined);
            ConnectionController.setRecentWallet(this.wallet);
            return x$1 ` <wui-qr-code
      size=${size}
      theme=${ThemeController.state.themeMode}
      uri=${this.uri}
      imageSrc=${o$2(AssetUtil.getWalletImage(this.wallet))}
      color=${o$2(ThemeController.state.themeVariables['--w3m-qr-color'])}
      alt=${o$2(alt)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`;
        }
        copyTemplate() {
            const inactive = !this.uri || !this.ready;
            return x$1 `<wui-link
      .disabled=${inactive}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`;
        }
    };
    W3mConnectingWcQrcode.styles = styles$m;
    W3mConnectingWcQrcode = __decorate$s([
        customElement('w3m-connecting-wc-qrcode')
    ], W3mConnectingWcQrcode);

    var __decorate$r = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectingWcUnsupported = class W3mConnectingWcUnsupported extends i$3 {
        constructor() {
            super();
            this.wallet = RouterController.state.data?.wallet;
            if (!this.wallet) {
                throw new Error('w3m-connecting-wc-unsupported: No wallet provided');
            }
            EventsController.sendEvent({
                type: 'track',
                event: 'SELECT_WALLET',
                properties: { name: this.wallet.name, platform: 'browser' }
            });
        }
        render() {
            return x$1 `
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${['3xl', 'xl', 'xl', 'xl']}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${o$2(AssetUtil.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `;
        }
    };
    W3mConnectingWcUnsupported = __decorate$r([
        customElement('w3m-connecting-wc-unsupported')
    ], W3mConnectingWcUnsupported);

    var __decorate$q = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectingWcWeb = class W3mConnectingWcWeb extends W3mConnectingWidget {
        constructor() {
            super();
            this.isLoading = true;
            if (!this.wallet) {
                throw new Error('w3m-connecting-wc-web: No wallet provided');
            }
            this.onConnect = this.onConnectProxy.bind(this);
            this.secondaryBtnLabel = 'Open';
            this.secondaryLabel = 'Open and continue in a new browser tab';
            this.secondaryBtnIcon = 'externalLink';
            this.updateLoadingState();
            this.unsubscribe.push(ConnectionController.subscribeKey('wcUri', () => {
                this.updateLoadingState();
            }));
            EventsController.sendEvent({
                type: 'track',
                event: 'SELECT_WALLET',
                properties: { name: this.wallet.name, platform: 'web' }
            });
        }
        updateLoadingState() {
            this.isLoading = !this.uri;
        }
        onConnectProxy() {
            if (this.wallet?.webapp_link && this.uri) {
                try {
                    this.error = false;
                    const { webapp_link, name } = this.wallet;
                    const { redirect, href } = CoreHelperUtil.formatUniversalUrl(webapp_link, this.uri);
                    ConnectionController.setWcLinking({ name, href });
                    ConnectionController.setRecentWallet(this.wallet);
                    CoreHelperUtil.openHref(redirect, '_blank');
                }
                catch {
                    this.error = true;
                }
            }
        }
    };
    __decorate$q([
        r$1()
    ], W3mConnectingWcWeb.prototype, "isLoading", void 0);
    W3mConnectingWcWeb = __decorate$q([
        customElement('w3m-connecting-wc-web')
    ], W3mConnectingWcWeb);

    var __decorate$p = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectingWcView = class W3mConnectingWcView extends i$3 {
        constructor() {
            super();
            this.wallet = RouterController.state.data?.wallet;
            this.platform = undefined;
            this.platforms = [];
            this.isSiwxEnabled = Boolean(OptionsController.state.siwx);
            this.determinePlatforms();
            this.initializeConnection();
        }
        render() {
            return x$1 `
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      <wui-ux-by-reown></wui-ux-by-reown>
    `;
        }
        async initializeConnection(retry = false) {
            if (this.platform === 'browser' || (OptionsController.state.manualWCControl && !retry)) {
                return;
            }
            try {
                const { wcPairingExpiry, status } = ConnectionController.state;
                if (retry ||
                    OptionsController.state.enableEmbedded ||
                    CoreHelperUtil.isPairingExpired(wcPairingExpiry) ||
                    status === 'connecting') {
                    await ConnectionController.connectWalletConnect();
                    if (!this.isSiwxEnabled) {
                        ModalController.close();
                    }
                }
            }
            catch (error) {
                EventsController.sendEvent({
                    type: 'track',
                    event: 'CONNECT_ERROR',
                    properties: { message: error?.message ?? 'Unknown' }
                });
                ConnectionController.setWcError(true);
                SnackController.showError(error.message ?? 'Connection error');
                ConnectionController.resetWcConnection();
                RouterController.goBack();
            }
        }
        determinePlatforms() {
            if (!this.wallet) {
                this.platforms.push('qrcode');
                this.platform = 'qrcode';
                return;
            }
            if (this.platform) {
                return;
            }
            const { mobile_link, desktop_link, webapp_link, injected, rdns } = this.wallet;
            const injectedIds = injected?.map(({ injected_id }) => injected_id).filter(Boolean);
            const browserIds = [...(rdns ? [rdns] : (injectedIds ?? []))];
            const isBrowser = OptionsController.state.isUniversalProvider ? false : browserIds.length;
            const isMobileWc = mobile_link;
            const isWebWc = webapp_link;
            const isBrowserInstalled = ConnectionController.checkInstalled(browserIds);
            const isBrowserWc = isBrowser && isBrowserInstalled;
            const isDesktopWc = desktop_link && !CoreHelperUtil.isMobile();
            if (isBrowserWc && !ChainController.state.noAdapters) {
                this.platforms.push('browser');
            }
            if (isMobileWc) {
                this.platforms.push(CoreHelperUtil.isMobile() ? 'mobile' : 'qrcode');
            }
            if (isWebWc) {
                this.platforms.push('web');
            }
            if (isDesktopWc) {
                this.platforms.push('desktop');
            }
            if (!isBrowserWc && isBrowser && !ChainController.state.noAdapters) {
                this.platforms.push('unsupported');
            }
            this.platform = this.platforms[0];
        }
        platformTemplate() {
            switch (this.platform) {
                case 'browser':
                    return x$1 `<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;
                case 'web':
                    return x$1 `<w3m-connecting-wc-web></w3m-connecting-wc-web>`;
                case 'desktop':
                    return x$1 `
          <w3m-connecting-wc-desktop .onRetry=${() => this.initializeConnection(true)}>
          </w3m-connecting-wc-desktop>
        `;
                case 'mobile':
                    return x$1 `
          <w3m-connecting-wc-mobile isMobile .onRetry=${() => this.initializeConnection(true)}>
          </w3m-connecting-wc-mobile>
        `;
                case 'qrcode':
                    return x$1 `<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;
                default:
                    return x$1 `<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`;
            }
        }
        headerTemplate() {
            const multiPlatform = this.platforms.length > 1;
            if (!multiPlatform) {
                return null;
            }
            return x$1 `
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `;
        }
        async onSelectPlatform(platform) {
            const container = this.shadowRoot?.querySelector('div');
            if (container) {
                await container.animate([{ opacity: 1 }, { opacity: 0 }], {
                    duration: 200,
                    fill: 'forwards',
                    easing: 'ease'
                }).finished;
                this.platform = platform;
                container.animate([{ opacity: 0 }, { opacity: 1 }], {
                    duration: 200,
                    fill: 'forwards',
                    easing: 'ease'
                });
            }
        }
    };
    __decorate$p([
        r$1()
    ], W3mConnectingWcView.prototype, "platform", void 0);
    __decorate$p([
        r$1()
    ], W3mConnectingWcView.prototype, "platforms", void 0);
    __decorate$p([
        r$1()
    ], W3mConnectingWcView.prototype, "isSiwxEnabled", void 0);
    W3mConnectingWcView = __decorate$p([
        customElement('w3m-connecting-wc-view')
    ], W3mConnectingWcView);

    var __decorate$o = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mConnectingWcBasicView = class W3mConnectingWcBasicView extends i$3 {
        constructor() {
            super(...arguments);
            this.isMobile = CoreHelperUtil.isMobile();
        }
        render() {
            if (this.isMobile) {
                const { featured, recommended } = ApiController.state;
                const { customWallets } = OptionsController.state;
                const recent = StorageUtil.getRecentWallets();
                const showConnectors = featured.length || recommended.length || customWallets?.length || recent.length;
                return x$1 `<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${['3xs', 's', 's', 's']}
      >
        ${showConnectors ? x$1 `<w3m-connector-list></w3m-connector-list>` : null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`;
            }
            return x$1 `<wui-flex flexDirection="column" .padding=${['0', '0', 'l', '0']}>
      <w3m-connecting-wc-view></w3m-connecting-wc-view>
      <wui-flex flexDirection="column" .padding=${['0', 'm', '0', 'm']}>
        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex
    ></wui-flex>`;
        }
    };
    __decorate$o([
        r$1()
    ], W3mConnectingWcBasicView.prototype, "isMobile", void 0);
    W3mConnectingWcBasicView = __decorate$o([
        customElement('w3m-connecting-wc-basic-view')
    ], W3mConnectingWcBasicView);

    /**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const e=()=>new h;class h{}const o=new WeakMap,n=e$2(class extends f{render(i){return E}update(i,[s]){const e=s!==this.G;return e&&void 0!==this.G&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.G=s,this.ht=i.options?.host,this.rt(this.ct=i.element)),E}rt(t){if(this.isConnected||(t=void 0),"function"==typeof this.G){const i=this.ht??globalThis;let s=o.get(i);void 0===s&&(s=new WeakMap,o.set(i,s)),void 0!==s.get(this.G)&&this.G.call(this.ht,void 0),s.set(this.G,t),void 0!==t&&this.G.call(this.ht,t);}else this.G.value=t;}get lt(){return "function"==typeof this.G?o.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0);}reconnected(){this.rt(this.ct);}});

    var styles$l = i$6 `
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`;

    var __decorate$n = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiSwitch = class WuiSwitch extends i$3 {
        constructor() {
            super(...arguments);
            this.inputElementRef = e();
            this.checked = undefined;
        }
        render() {
            return x$1 `
      <label>
        <input
          ${n(this.inputElementRef)}
          type="checkbox"
          ?checked=${o$2(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `;
        }
        dispatchChangeEvent() {
            this.dispatchEvent(new CustomEvent('switchChange', {
                detail: this.inputElementRef.value?.checked,
                bubbles: true,
                composed: true
            }));
        }
    };
    WuiSwitch.styles = [resetStyles, elementStyles, colorStyles, styles$l];
    __decorate$n([
        n$3({ type: Boolean })
    ], WuiSwitch.prototype, "checked", void 0);
    WuiSwitch = __decorate$n([
        customElement('wui-switch')
    ], WuiSwitch);

    var styles$k = i$6 `
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;

    var __decorate$m = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiCertifiedSwitch = class WuiCertifiedSwitch extends i$3 {
        constructor() {
            super(...arguments);
            this.checked = undefined;
        }
        render() {
            return x$1 `
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${o$2(this.checked)}></wui-switch>
      </button>
    `;
        }
    };
    WuiCertifiedSwitch.styles = [resetStyles, elementStyles, styles$k];
    __decorate$m([
        n$3({ type: Boolean })
    ], WuiCertifiedSwitch.prototype, "checked", void 0);
    WuiCertifiedSwitch = __decorate$m([
        customElement('wui-certified-switch')
    ], WuiCertifiedSwitch);

    var styles$j = i$6 `
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`;

    var __decorate$l = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiInputElement = class WuiInputElement extends i$3 {
        constructor() {
            super(...arguments);
            this.icon = 'copy';
        }
        render() {
            return x$1 `
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `;
        }
    };
    WuiInputElement.styles = [resetStyles, elementStyles, styles$j];
    __decorate$l([
        n$3()
    ], WuiInputElement.prototype, "icon", void 0);
    WuiInputElement = __decorate$l([
        customElement('wui-input-element')
    ], WuiInputElement);

    var styles$i = i$6 `
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;

    var __decorate$k = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiInputText = class WuiInputText extends i$3 {
        constructor() {
            super(...arguments);
            this.inputElementRef = e();
            this.size = 'md';
            this.disabled = false;
            this.placeholder = '';
            this.type = 'text';
            this.value = '';
        }
        render() {
            const inputClass = `wui-padding-right-${this.inputRightPadding}`;
            const sizeClass = `wui-size-${this.size}`;
            const classes = {
                [sizeClass]: true,
                [inputClass]: Boolean(this.inputRightPadding)
            };
            return x$1 `${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${n(this.inputElementRef)}
        class=${e$1(classes)}
        type=${this.type}
        enterkeyhint=${o$2(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value || ''}
        tabindex=${o$2(this.tabIdx)}
      />
      <slot></slot>`;
        }
        templateIcon() {
            if (this.icon) {
                return x$1 `<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`;
            }
            return null;
        }
        dispatchInputChangeEvent() {
            this.dispatchEvent(new CustomEvent('inputChange', {
                detail: this.inputElementRef.value?.value,
                bubbles: true,
                composed: true
            }));
        }
    };
    WuiInputText.styles = [resetStyles, elementStyles, styles$i];
    __decorate$k([
        n$3()
    ], WuiInputText.prototype, "size", void 0);
    __decorate$k([
        n$3()
    ], WuiInputText.prototype, "icon", void 0);
    __decorate$k([
        n$3({ type: Boolean })
    ], WuiInputText.prototype, "disabled", void 0);
    __decorate$k([
        n$3()
    ], WuiInputText.prototype, "placeholder", void 0);
    __decorate$k([
        n$3()
    ], WuiInputText.prototype, "type", void 0);
    __decorate$k([
        n$3()
    ], WuiInputText.prototype, "keyHint", void 0);
    __decorate$k([
        n$3()
    ], WuiInputText.prototype, "value", void 0);
    __decorate$k([
        n$3()
    ], WuiInputText.prototype, "inputRightPadding", void 0);
    __decorate$k([
        n$3()
    ], WuiInputText.prototype, "tabIdx", void 0);
    WuiInputText = __decorate$k([
        customElement('wui-input-text')
    ], WuiInputText);

    var styles$h = i$6 `
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;

    var __decorate$j = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiSearchBar = class WuiSearchBar extends i$3 {
        constructor() {
            super(...arguments);
            this.inputComponentRef = e();
        }
        render() {
            return x$1 `
      <wui-input-text
        ${n(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `;
        }
        clearValue() {
            const inputComponent = this.inputComponentRef.value;
            const inputElement = inputComponent?.inputElementRef.value;
            if (inputElement) {
                inputElement.value = '';
                inputElement.focus();
                inputElement.dispatchEvent(new Event('input'));
            }
        }
    };
    WuiSearchBar.styles = [resetStyles, styles$h];
    WuiSearchBar = __decorate$j([
        customElement('wui-search-bar')
    ], WuiSearchBar);

    const networkSvgMd = b `<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`;

    var styles$g = i$6 `
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;

    var __decorate$i = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiCardSelectLoader = class WuiCardSelectLoader extends i$3 {
        constructor() {
            super(...arguments);
            this.type = 'wallet';
        }
        render() {
            return x$1 `
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `;
        }
        shimmerTemplate() {
            if (this.type === 'network') {
                return x$1 ` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${networkSvgMd}`;
            }
            return x$1 `<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`;
        }
    };
    WuiCardSelectLoader.styles = [resetStyles, elementStyles, styles$g];
    __decorate$i([
        n$3()
    ], WuiCardSelectLoader.prototype, "type", void 0);
    WuiCardSelectLoader = __decorate$i([
        customElement('wui-card-select-loader')
    ], WuiCardSelectLoader);

    var styles$f = i$6 `
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;

    var __decorate$h = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiGrid = class WuiGrid extends i$3 {
        render() {
            this.style.cssText = `
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap && `var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap && `var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap && `var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding && UiHelperUtil.getSpacingStyles(this.padding, 0)};
      padding-right: ${this.padding && UiHelperUtil.getSpacingStyles(this.padding, 1)};
      padding-bottom: ${this.padding && UiHelperUtil.getSpacingStyles(this.padding, 2)};
      padding-left: ${this.padding && UiHelperUtil.getSpacingStyles(this.padding, 3)};
      margin-top: ${this.margin && UiHelperUtil.getSpacingStyles(this.margin, 0)};
      margin-right: ${this.margin && UiHelperUtil.getSpacingStyles(this.margin, 1)};
      margin-bottom: ${this.margin && UiHelperUtil.getSpacingStyles(this.margin, 2)};
      margin-left: ${this.margin && UiHelperUtil.getSpacingStyles(this.margin, 3)};
    `;
            return x$1 `<slot></slot>`;
        }
    };
    WuiGrid.styles = [resetStyles, styles$f];
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "gridTemplateRows", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "gridTemplateColumns", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "justifyItems", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "alignItems", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "justifyContent", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "alignContent", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "columnGap", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "rowGap", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "gap", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "padding", void 0);
    __decorate$h([
        n$3()
    ], WuiGrid.prototype, "margin", void 0);
    WuiGrid = __decorate$h([
        customElement('wui-grid')
    ], WuiGrid);

    var styles$e = i$6 `
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;

    var __decorate$g = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mAllWalletsListItem = class W3mAllWalletsListItem extends i$3 {
        constructor() {
            super();
            this.observer = new IntersectionObserver(() => undefined);
            this.visible = false;
            this.imageSrc = undefined;
            this.imageLoading = false;
            this.wallet = undefined;
            this.observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        this.visible = true;
                        this.fetchImageSrc();
                    }
                    else {
                        this.visible = false;
                    }
                });
            }, { threshold: 0.01 });
        }
        firstUpdated() {
            this.observer.observe(this);
        }
        disconnectedCallback() {
            this.observer.disconnect();
        }
        render() {
            const certified = this.wallet?.badge_type === 'certified';
            return x$1 `
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${o$2(certified ? 'certified' : undefined)}
            >${this.wallet?.name}</wui-text
          >
          ${certified ? x$1 `<wui-icon size="sm" name="walletConnectBrown"></wui-icon>` : null}
        </wui-flex>
      </button>
    `;
        }
        imageTemplate() {
            if ((!this.visible && !this.imageSrc) || this.imageLoading) {
                return this.shimmerTemplate();
            }
            return x$1 `
      <wui-wallet-image
        size="md"
        imageSrc=${o$2(this.imageSrc)}
        name=${this.wallet?.name}
        .installed=${this.wallet?.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `;
        }
        shimmerTemplate() {
            return x$1 `<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`;
        }
        async fetchImageSrc() {
            if (!this.wallet) {
                return;
            }
            this.imageSrc = AssetUtil.getWalletImage(this.wallet);
            if (this.imageSrc) {
                return;
            }
            this.imageLoading = true;
            this.imageSrc = await AssetUtil.fetchWalletImage(this.wallet.image_id);
            this.imageLoading = false;
        }
    };
    W3mAllWalletsListItem.styles = styles$e;
    __decorate$g([
        r$1()
    ], W3mAllWalletsListItem.prototype, "visible", void 0);
    __decorate$g([
        r$1()
    ], W3mAllWalletsListItem.prototype, "imageSrc", void 0);
    __decorate$g([
        r$1()
    ], W3mAllWalletsListItem.prototype, "imageLoading", void 0);
    __decorate$g([
        n$3()
    ], W3mAllWalletsListItem.prototype, "wallet", void 0);
    W3mAllWalletsListItem = __decorate$g([
        customElement('w3m-all-wallets-list-item')
    ], W3mAllWalletsListItem);

    var styles$d = i$6 `
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;

    var __decorate$f = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    const PAGINATOR_ID = 'local-paginator';
    let W3mAllWalletsList = class W3mAllWalletsList extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.paginationObserver = undefined;
            this.loading = !ApiController.state.wallets.length;
            this.wallets = ApiController.state.wallets;
            this.recommended = ApiController.state.recommended;
            this.featured = ApiController.state.featured;
            this.unsubscribe.push(...[
                ApiController.subscribeKey('wallets', val => (this.wallets = val)),
                ApiController.subscribeKey('recommended', val => (this.recommended = val)),
                ApiController.subscribeKey('featured', val => (this.featured = val))
            ]);
        }
        firstUpdated() {
            this.initialFetch();
            this.createPaginationObserver();
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
            this.paginationObserver?.disconnect();
        }
        render() {
            return x$1 `
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${['0', 's', 's', 's']}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading ? this.shimmerTemplate(16) : this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `;
        }
        async initialFetch() {
            this.loading = true;
            const gridEl = this.shadowRoot?.querySelector('wui-grid');
            if (gridEl) {
                await ApiController.fetchWalletsByPage({ page: 1 });
                await gridEl.animate([{ opacity: 1 }, { opacity: 0 }], {
                    duration: 200,
                    fill: 'forwards',
                    easing: 'ease'
                }).finished;
                this.loading = false;
                gridEl.animate([{ opacity: 0 }, { opacity: 1 }], {
                    duration: 200,
                    fill: 'forwards',
                    easing: 'ease'
                });
            }
        }
        shimmerTemplate(items, id) {
            return [...Array(items)].map(() => x$1 `
        <wui-card-select-loader type="wallet" id=${o$2(id)}></wui-card-select-loader>
      `);
        }
        walletsTemplate() {
            const wallets = CoreHelperUtil.uniqueBy([...this.featured, ...this.recommended, ...this.wallets], 'id');
            const walletsWithInstalled = WalletUtil.markWalletsAsInstalled(wallets);
            return walletsWithInstalled.map(wallet => x$1 `
        <w3m-all-wallets-list-item
          @click=${() => this.onConnectWallet(wallet)}
          .wallet=${wallet}
        ></w3m-all-wallets-list-item>
      `);
        }
        paginationLoaderTemplate() {
            const { wallets, recommended, featured, count } = ApiController.state;
            const columns = window.innerWidth < 352 ? 3 : 4;
            const currentWallets = wallets.length + recommended.length;
            const minimumRows = Math.ceil(currentWallets / columns);
            let shimmerCount = minimumRows * columns - currentWallets + columns;
            shimmerCount -= wallets.length ? featured.length % columns : 0;
            if (count === 0 && featured.length > 0) {
                return null;
            }
            if (count === 0 || [...featured, ...wallets, ...recommended].length < count) {
                return this.shimmerTemplate(shimmerCount, PAGINATOR_ID);
            }
            return null;
        }
        createPaginationObserver() {
            const loaderEl = this.shadowRoot?.querySelector(`#${PAGINATOR_ID}`);
            if (loaderEl) {
                this.paginationObserver = new IntersectionObserver(([element]) => {
                    if (element?.isIntersecting && !this.loading) {
                        const { page, count, wallets } = ApiController.state;
                        if (wallets.length < count) {
                            ApiController.fetchWalletsByPage({ page: page + 1 });
                        }
                    }
                });
                this.paginationObserver.observe(loaderEl);
            }
        }
        onConnectWallet(wallet) {
            ConnectorController.selectWalletConnector(wallet);
        }
    };
    W3mAllWalletsList.styles = styles$d;
    __decorate$f([
        r$1()
    ], W3mAllWalletsList.prototype, "loading", void 0);
    __decorate$f([
        r$1()
    ], W3mAllWalletsList.prototype, "wallets", void 0);
    __decorate$f([
        r$1()
    ], W3mAllWalletsList.prototype, "recommended", void 0);
    __decorate$f([
        r$1()
    ], W3mAllWalletsList.prototype, "featured", void 0);
    W3mAllWalletsList = __decorate$f([
        customElement('w3m-all-wallets-list')
    ], W3mAllWalletsList);

    var styles$c = i$6 `
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;

    var __decorate$e = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mAllWalletsSearch = class W3mAllWalletsSearch extends i$3 {
        constructor() {
            super(...arguments);
            this.prevQuery = '';
            this.prevBadge = undefined;
            this.loading = true;
            this.query = '';
        }
        render() {
            this.onSearch();
            return this.loading
                ? x$1 `<wui-loading-spinner color="accent-100"></wui-loading-spinner>`
                : this.walletsTemplate();
        }
        async onSearch() {
            if (this.query.trim() !== this.prevQuery.trim() || this.badge !== this.prevBadge) {
                this.prevQuery = this.query;
                this.prevBadge = this.badge;
                this.loading = true;
                await ApiController.searchWallet({ search: this.query, badge: this.badge });
                this.loading = false;
            }
        }
        walletsTemplate() {
            const { search } = ApiController.state;
            const wallets = WalletUtil.markWalletsAsInstalled(search);
            if (!search.length) {
                return x$1 `
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `;
            }
            return x$1 `
      <wui-grid
        data-testid="wallet-list"
        .padding=${['0', 's', 's', 's']}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${wallets.map(wallet => x$1 `
            <w3m-all-wallets-list-item
              @click=${() => this.onConnectWallet(wallet)}
              .wallet=${wallet}
              data-testid="wallet-search-item-${wallet.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `;
        }
        onConnectWallet(wallet) {
            ConnectorController.selectWalletConnector(wallet);
        }
    };
    W3mAllWalletsSearch.styles = styles$c;
    __decorate$e([
        r$1()
    ], W3mAllWalletsSearch.prototype, "loading", void 0);
    __decorate$e([
        n$3()
    ], W3mAllWalletsSearch.prototype, "query", void 0);
    __decorate$e([
        n$3()
    ], W3mAllWalletsSearch.prototype, "badge", void 0);
    W3mAllWalletsSearch = __decorate$e([
        customElement('w3m-all-wallets-search')
    ], W3mAllWalletsSearch);

    var __decorate$d = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mAllWalletsView = class W3mAllWalletsView extends i$3 {
        constructor() {
            super(...arguments);
            this.search = '';
            this.onDebouncedSearch = CoreHelperUtil.debounce((value) => {
                this.search = value;
            });
        }
        render() {
            const isSearch = this.search.length >= 2;
            return x$1 `
      <wui-flex .padding=${['0', 's', 's', 's']} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${isSearch || this.badge
            ? x$1 `<w3m-all-wallets-search
            query=${this.search}
            badge=${o$2(this.badge)}
          ></w3m-all-wallets-search>`
            : x$1 `<w3m-all-wallets-list badge=${o$2(this.badge)}></w3m-all-wallets-list>`}
    `;
        }
        onInputChange(event) {
            this.onDebouncedSearch(event.detail);
        }
        onClick() {
            if (this.badge === 'certified') {
                this.badge = undefined;
                return;
            }
            this.badge = 'certified';
            SnackController.showSvg('Only WalletConnect certified', {
                icon: 'walletConnectBrown',
                iconColor: 'accent-100'
            });
        }
        qrButtonTemplate() {
            if (CoreHelperUtil.isMobile()) {
                return x$1 `
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `;
            }
            return null;
        }
        onWalletConnectQr() {
            RouterController.push('ConnectingWalletConnect');
        }
    };
    __decorate$d([
        r$1()
    ], W3mAllWalletsView.prototype, "search", void 0);
    __decorate$d([
        r$1()
    ], W3mAllWalletsView.prototype, "badge", void 0);
    W3mAllWalletsView = __decorate$d([
        customElement('w3m-all-wallets-view')
    ], W3mAllWalletsView);

    var styles$b = i$6 `
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;

    var __decorate$c = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiListItem = class WuiListItem extends i$3 {
        constructor() {
            super(...arguments);
            this.tabIdx = undefined;
            this.variant = 'icon';
            this.disabled = false;
            this.imageSrc = undefined;
            this.alt = undefined;
            this.chevron = false;
            this.loading = false;
        }
        render() {
            return x$1 `
      <button
        ?disabled=${this.loading ? true : Boolean(this.disabled)}
        data-loading=${this.loading}
        data-iconvariant=${o$2(this.iconVariant)}
        tabindex=${o$2(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `;
        }
        visualTemplate() {
            if (this.variant === 'image' && this.imageSrc) {
                return x$1 `<wui-image src=${this.imageSrc} alt=${this.alt ?? 'list item'}></wui-image>`;
            }
            if (this.iconVariant === 'square' && this.icon && this.variant === 'icon') {
                return x$1 `<wui-icon name=${this.icon}></wui-icon>`;
            }
            if (this.variant === 'icon' && this.icon && this.iconVariant) {
                const color = ['blue', 'square-blue'].includes(this.iconVariant) ? 'accent-100' : 'fg-200';
                const size = this.iconVariant === 'square-blue' ? 'mdl' : 'md';
                const iconSize = this.iconSize ? this.iconSize : size;
                return x$1 `
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${iconSize}
          background="transparent"
          iconColor=${color}
          backgroundColor=${color}
          size=${size}
        ></wui-icon-box>
      `;
            }
            return null;
        }
        loadingTemplate() {
            if (this.loading) {
                return x$1 `<wui-loading-spinner
        data-testid="wui-list-item-loading-spinner"
        color="fg-300"
      ></wui-loading-spinner>`;
            }
            return x$1 ``;
        }
        chevronTemplate() {
            if (this.chevron) {
                return x$1 `<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`;
            }
            return null;
        }
    };
    WuiListItem.styles = [resetStyles, elementStyles, styles$b];
    __decorate$c([
        n$3()
    ], WuiListItem.prototype, "icon", void 0);
    __decorate$c([
        n$3()
    ], WuiListItem.prototype, "iconSize", void 0);
    __decorate$c([
        n$3()
    ], WuiListItem.prototype, "tabIdx", void 0);
    __decorate$c([
        n$3()
    ], WuiListItem.prototype, "variant", void 0);
    __decorate$c([
        n$3()
    ], WuiListItem.prototype, "iconVariant", void 0);
    __decorate$c([
        n$3({ type: Boolean })
    ], WuiListItem.prototype, "disabled", void 0);
    __decorate$c([
        n$3()
    ], WuiListItem.prototype, "imageSrc", void 0);
    __decorate$c([
        n$3()
    ], WuiListItem.prototype, "alt", void 0);
    __decorate$c([
        n$3({ type: Boolean })
    ], WuiListItem.prototype, "chevron", void 0);
    __decorate$c([
        n$3({ type: Boolean })
    ], WuiListItem.prototype, "loading", void 0);
    WuiListItem = __decorate$c([
        customElement('wui-list-item')
    ], WuiListItem);

    var __decorate$b = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mDownloadsView = class W3mDownloadsView extends i$3 {
        constructor() {
            super(...arguments);
            this.wallet = RouterController.state.data?.wallet;
        }
        render() {
            if (!this.wallet) {
                throw new Error('w3m-downloads-view');
            }
            return x$1 `
      <wui-flex gap="xs" flexDirection="column" .padding=${['s', 's', 'l', 's']}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `;
        }
        chromeTemplate() {
            if (!this.wallet?.chrome_store) {
                return null;
            }
            return x$1 `<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`;
        }
        iosTemplate() {
            if (!this.wallet?.app_store) {
                return null;
            }
            return x$1 `<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`;
        }
        androidTemplate() {
            if (!this.wallet?.play_store) {
                return null;
            }
            return x$1 `<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`;
        }
        homepageTemplate() {
            if (!this.wallet?.homepage) {
                return null;
            }
            return x$1 `
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `;
        }
        onChromeStore() {
            if (this.wallet?.chrome_store) {
                CoreHelperUtil.openHref(this.wallet.chrome_store, '_blank');
            }
        }
        onAppStore() {
            if (this.wallet?.app_store) {
                CoreHelperUtil.openHref(this.wallet.app_store, '_blank');
            }
        }
        onPlayStore() {
            if (this.wallet?.play_store) {
                CoreHelperUtil.openHref(this.wallet.play_store, '_blank');
            }
        }
        onHomePage() {
            if (this.wallet?.homepage) {
                CoreHelperUtil.openHref(this.wallet.homepage, '_blank');
            }
        }
    };
    W3mDownloadsView = __decorate$b([
        customElement('w3m-downloads-view')
    ], W3mDownloadsView);

    var basic = /*#__PURE__*/Object.freeze({
        __proto__: null,
        get W3mAllWalletsView () { return W3mAllWalletsView; },
        get W3mConnectingWcBasicView () { return W3mConnectingWcBasicView; },
        get W3mDownloadsView () { return W3mDownloadsView; }
    });

    var styles$a = i$6 `
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`;

    var __decorate$a = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiCard = class WuiCard extends i$3 {
        render() {
            return x$1 `<slot></slot>`;
        }
    };
    WuiCard.styles = [resetStyles, styles$a];
    WuiCard = __decorate$a([
        customElement('wui-card')
    ], WuiCard);

    var styles$9 = i$6 `
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`;

    var __decorate$9 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiAlertBar = class WuiAlertBar extends i$3 {
        constructor() {
            super(...arguments);
            this.message = '';
            this.backgroundColor = 'accent-100';
            this.iconColor = 'accent-100';
            this.icon = 'info';
        }
        render() {
            this.style.cssText = `
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `;
            return x$1 `
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `;
        }
        onClose() {
            AlertController.close();
        }
    };
    WuiAlertBar.styles = [resetStyles, styles$9];
    __decorate$9([
        n$3()
    ], WuiAlertBar.prototype, "message", void 0);
    __decorate$9([
        n$3()
    ], WuiAlertBar.prototype, "backgroundColor", void 0);
    __decorate$9([
        n$3()
    ], WuiAlertBar.prototype, "iconColor", void 0);
    __decorate$9([
        n$3()
    ], WuiAlertBar.prototype, "icon", void 0);
    WuiAlertBar = __decorate$9([
        customElement('wui-alertbar')
    ], WuiAlertBar);

    var styles$8 = i$6 `
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`;

    var __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    const presets$1 = {
        info: {
            backgroundColor: 'fg-350',
            iconColor: 'fg-325',
            icon: 'info'
        },
        success: {
            backgroundColor: 'success-glass-reown-020',
            iconColor: 'success-125',
            icon: 'checkmark'
        },
        warning: {
            backgroundColor: 'warning-glass-reown-020',
            iconColor: 'warning-100',
            icon: 'warningCircle'
        },
        error: {
            backgroundColor: 'error-glass-reown-020',
            iconColor: 'error-125',
            icon: 'exclamationTriangle'
        }
    };
    let W3mAlertBar = class W3mAlertBar extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.open = AlertController.state.open;
            this.onOpen(true);
            this.unsubscribe.push(AlertController.subscribeKey('open', val => {
                this.open = val;
                this.onOpen(false);
            }));
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            const { message, variant } = AlertController.state;
            const preset = presets$1[variant];
            return x$1 `
      <wui-alertbar
        message=${message}
        backgroundColor=${preset?.backgroundColor}
        iconColor=${preset?.iconColor}
        icon=${preset?.icon}
      ></wui-alertbar>
    `;
        }
        onOpen(isMounted) {
            if (this.open) {
                this.animate([
                    { opacity: 0, transform: 'scale(0.85)' },
                    { opacity: 1, transform: 'scale(1)' }
                ], {
                    duration: 150,
                    fill: 'forwards',
                    easing: 'ease'
                });
                this.style.cssText = `pointer-events: auto`;
            }
            else if (!isMounted) {
                this.animate([
                    { opacity: 1, transform: 'scale(1)' },
                    { opacity: 0, transform: 'scale(0.85)' }
                ], {
                    duration: 150,
                    fill: 'forwards',
                    easing: 'ease'
                });
                this.style.cssText = `pointer-events: none`;
            }
        }
    };
    W3mAlertBar.styles = styles$8;
    __decorate$8([
        r$1()
    ], W3mAlertBar.prototype, "open", void 0);
    W3mAlertBar = __decorate$8([
        customElement('w3m-alertbar')
    ], W3mAlertBar);

    var styles$7 = i$6 `
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`;

    var __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiIconLink = class WuiIconLink extends i$3 {
        constructor() {
            super(...arguments);
            this.size = 'md';
            this.disabled = false;
            this.icon = 'copy';
            this.iconColor = 'inherit';
        }
        render() {
            const borderRadius = this.size === 'lg' ? '--wui-border-radius-xs' : '--wui-border-radius-xxs';
            const padding = this.size === 'lg' ? '--wui-spacing-1xs' : '--wui-spacing-2xs';
            this.style.cssText = `
    --local-border-radius: var(${borderRadius});
    --local-padding: var(${padding});
`;
            return x$1 `
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `;
        }
    };
    WuiIconLink.styles = [resetStyles, elementStyles, colorStyles, styles$7];
    __decorate$7([
        n$3()
    ], WuiIconLink.prototype, "size", void 0);
    __decorate$7([
        n$3({ type: Boolean })
    ], WuiIconLink.prototype, "disabled", void 0);
    __decorate$7([
        n$3()
    ], WuiIconLink.prototype, "icon", void 0);
    __decorate$7([
        n$3()
    ], WuiIconLink.prototype, "iconColor", void 0);
    WuiIconLink = __decorate$7([
        customElement('wui-icon-link')
    ], WuiIconLink);

    var styles$6 = i$6 `
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`;

    var __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiSelect = class WuiSelect extends i$3 {
        constructor() {
            super(...arguments);
            this.imageSrc = '';
        }
        render() {
            return x$1 `<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`;
        }
        imageTemplate() {
            if (this.imageSrc) {
                return x$1 `<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`;
            }
            return x$1 `<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`;
        }
    };
    WuiSelect.styles = [resetStyles, elementStyles, colorStyles, styles$6];
    __decorate$6([
        n$3()
    ], WuiSelect.prototype, "imageSrc", void 0);
    WuiSelect = __decorate$6([
        customElement('wui-select')
    ], WuiSelect);

    var styles$5 = i$6 `
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;

    var __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    const BETA_SCREENS = ['SmartSessionList'];
    function headings() {
        const connectorName = RouterController.state.data?.connector?.name;
        const walletName = RouterController.state.data?.wallet?.name;
        const networkName = RouterController.state.data?.network?.name;
        const name = walletName ?? connectorName;
        const connectors = ConnectorController.getConnectors();
        const isEmail = connectors.length === 1 && connectors[0]?.id === 'w3m-email';
        return {
            Connect: `Connect ${isEmail ? 'Email' : ''} Wallet`,
            Create: 'Create Wallet',
            ChooseAccountName: undefined,
            Account: undefined,
            AccountSettings: undefined,
            AllWallets: 'All Wallets',
            ApproveTransaction: 'Approve Transaction',
            BuyInProgress: 'Buy',
            ConnectingExternal: name ?? 'Connect Wallet',
            ConnectingWalletConnect: name ?? 'WalletConnect',
            ConnectingWalletConnectBasic: 'WalletConnect',
            ConnectingSiwe: 'Sign In',
            Convert: 'Convert',
            ConvertSelectToken: 'Select token',
            ConvertPreview: 'Preview convert',
            Downloads: name ? `Get ${name}` : 'Downloads',
            EmailLogin: 'Email Login',
            EmailVerifyOtp: 'Confirm Email',
            EmailVerifyDevice: 'Register Device',
            GetWallet: 'Get a wallet',
            Networks: 'Choose Network',
            OnRampProviders: 'Choose Provider',
            OnRampActivity: 'Activity',
            OnRampTokenSelect: 'Select Token',
            OnRampFiatSelect: 'Select Currency',
            Profile: undefined,
            SwitchNetwork: networkName ?? 'Switch Network',
            SwitchAddress: 'Switch Address',
            Transactions: 'Activity',
            UnsupportedChain: 'Switch Network',
            UpgradeEmailWallet: 'Upgrade your Wallet',
            UpdateEmailWallet: 'Edit Email',
            UpdateEmailPrimaryOtp: 'Confirm Current Email',
            UpdateEmailSecondaryOtp: 'Confirm New Email',
            WhatIsABuy: 'What is Buy?',
            RegisterAccountName: 'Choose name',
            RegisterAccountNameSuccess: '',
            WalletReceive: 'Receive',
            WalletCompatibleNetworks: 'Compatible Networks',
            Swap: 'Swap',
            SwapSelectToken: 'Select token',
            SwapPreview: 'Preview swap',
            WalletSend: 'Send',
            WalletSendPreview: 'Review send',
            WalletSendSelectToken: 'Select Token',
            WhatIsANetwork: 'What is a network?',
            WhatIsAWallet: 'What is a wallet?',
            ConnectWallets: 'Connect wallet',
            ConnectSocials: 'All socials',
            ConnectingSocial: AccountController.state.socialProvider
                ? AccountController.state.socialProvider
                : 'Connect Social',
            ConnectingMultiChain: 'Select chain',
            ConnectingFarcaster: 'Farcaster',
            SwitchActiveChain: 'Switch chain',
            SmartSessionCreated: undefined,
            SmartSessionList: 'Smart Sessions',
            SIWXSignMessage: 'Sign In'
        };
    }
    let W3mHeader = class W3mHeader extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.heading = headings()[RouterController.state.view];
            this.network = ChainController.state.activeCaipNetwork;
            this.networkImage = AssetUtil.getNetworkImage(this.network);
            this.buffering = false;
            this.showBack = false;
            this.prevHistoryLength = 1;
            this.view = RouterController.state.view;
            this.viewDirection = '';
            this.headerText = headings()[RouterController.state.view];
            this.unsubscribe.push(AssetController.subscribeNetworkImages(() => {
                this.networkImage = AssetUtil.getNetworkImage(this.network);
            }), RouterController.subscribeKey('view', val => {
                setTimeout(() => {
                    this.view = val;
                    this.headerText = headings()[val];
                }, ConstantsUtil.ANIMATION_DURATIONS.HeaderText);
                this.onViewChange();
                this.onHistoryChange();
            }), ConnectionController.subscribeKey('buffering', val => (this.buffering = val)), ChainController.subscribeKey('activeCaipNetwork', val => {
                this.network = val;
                this.networkImage = AssetUtil.getNetworkImage(this.network);
            }));
        }
        disconnectCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            return x$1 `
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `;
        }
        onWalletHelp() {
            EventsController.sendEvent({ type: 'track', event: 'CLICK_WALLET_HELP' });
            RouterController.push('WhatIsAWallet');
        }
        async onClose() {
            const isUnsupportedChain = RouterController.state.view === 'UnsupportedChain';
            if (isUnsupportedChain || (await SIWXUtil.isSIWXCloseDisabled())) {
                ModalController.shake();
            }
            else {
                ModalController.close();
            }
        }
        rightHeaderTemplate() {
            const isSmartSessionsEnabled = OptionsController?.state?.features?.smartSessions;
            if (RouterController.state.view !== 'Account' || !isSmartSessionsEnabled) {
                return this.closeButtonTemplate();
            }
            return x$1 `<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${() => RouterController.push('SmartSessionList')}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `;
        }
        closeButtonTemplate() {
            return x$1 `
      <wui-icon-link
        ?disabled=${this.buffering}
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `;
        }
        titleTemplate() {
            const isBeta = BETA_SCREENS.includes(this.view);
            return x$1 `
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${isBeta ? x$1 `<wui-tag variant="main">Beta</wui-tag>` : null}
      </wui-flex>
    `;
        }
        leftHeaderTemplate() {
            const { view } = RouterController.state;
            const isConnectHelp = view === 'Connect';
            const isEmbeddedEnable = OptionsController.state.enableEmbedded;
            const isApproveTransaction = view === 'ApproveTransaction';
            const isConnectingSIWEView = view === 'ConnectingSiwe';
            const isAccountView = view === 'Account';
            const enableNetworkSwitch = OptionsController.state.enableNetworkSwitch;
            const shouldHideBack = isApproveTransaction || isConnectingSIWEView || (isConnectHelp && isEmbeddedEnable);
            if (isAccountView && enableNetworkSwitch) {
                return x$1 `<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${o$2(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${o$2(this.networkImage)}
      ></wui-select>`;
            }
            if (this.showBack && !shouldHideBack) {
                return x$1 `<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        ?disabled=${this.buffering}
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`;
            }
            return x$1 `<wui-icon-link
      data-hidden=${!isConnectHelp}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`;
        }
        onNetworks() {
            if (this.isAllowedNetworkSwitch()) {
                EventsController.sendEvent({ type: 'track', event: 'CLICK_NETWORKS' });
                RouterController.push('Networks');
            }
        }
        isAllowedNetworkSwitch() {
            const requestedCaipNetworks = ChainController.getAllRequestedCaipNetworks();
            const isMultiNetwork = requestedCaipNetworks ? requestedCaipNetworks.length > 1 : false;
            const isValidNetwork = requestedCaipNetworks?.find(({ id }) => id === this.network?.id);
            return isMultiNetwork || !isValidNetwork;
        }
        getPadding() {
            if (this.heading) {
                return ['l', '2l', 'l', '2l'];
            }
            return ['0', '2l', '0', '2l'];
        }
        onViewChange() {
            const { history } = RouterController.state;
            let direction = ConstantsUtil.VIEW_DIRECTION.Next;
            if (history.length < this.prevHistoryLength) {
                direction = ConstantsUtil.VIEW_DIRECTION.Prev;
            }
            this.prevHistoryLength = history.length;
            this.viewDirection = direction;
        }
        async onHistoryChange() {
            const { history } = RouterController.state;
            const buttonEl = this.shadowRoot?.querySelector('#dynamic');
            if (history.length > 1 && !this.showBack && buttonEl) {
                await buttonEl.animate([{ opacity: 1 }, { opacity: 0 }], {
                    duration: 200,
                    fill: 'forwards',
                    easing: 'ease'
                }).finished;
                this.showBack = true;
                buttonEl.animate([{ opacity: 0 }, { opacity: 1 }], {
                    duration: 200,
                    fill: 'forwards',
                    easing: 'ease'
                });
            }
            else if (history.length <= 1 && this.showBack && buttonEl) {
                await buttonEl.animate([{ opacity: 1 }, { opacity: 0 }], {
                    duration: 200,
                    fill: 'forwards',
                    easing: 'ease'
                }).finished;
                this.showBack = false;
                buttonEl.animate([{ opacity: 0 }, { opacity: 1 }], {
                    duration: 200,
                    fill: 'forwards',
                    easing: 'ease'
                });
            }
        }
        onGoBack() {
            RouterController.goBack();
        }
    };
    W3mHeader.styles = styles$5;
    __decorate$5([
        r$1()
    ], W3mHeader.prototype, "heading", void 0);
    __decorate$5([
        r$1()
    ], W3mHeader.prototype, "network", void 0);
    __decorate$5([
        r$1()
    ], W3mHeader.prototype, "networkImage", void 0);
    __decorate$5([
        r$1()
    ], W3mHeader.prototype, "buffering", void 0);
    __decorate$5([
        r$1()
    ], W3mHeader.prototype, "showBack", void 0);
    __decorate$5([
        r$1()
    ], W3mHeader.prototype, "prevHistoryLength", void 0);
    __decorate$5([
        r$1()
    ], W3mHeader.prototype, "view", void 0);
    __decorate$5([
        r$1()
    ], W3mHeader.prototype, "viewDirection", void 0);
    __decorate$5([
        r$1()
    ], W3mHeader.prototype, "headerText", void 0);
    W3mHeader = __decorate$5([
        customElement('w3m-header')
    ], W3mHeader);

    var styles$4 = i$6 `
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`;

    var __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let WuiSnackbar = class WuiSnackbar extends i$3 {
        constructor() {
            super(...arguments);
            this.backgroundColor = 'accent-100';
            this.iconColor = 'accent-100';
            this.icon = 'checkmark';
            this.message = '';
            this.loading = false;
            this.iconType = 'default';
        }
        render() {
            return x$1 `
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `;
        }
        templateIcon() {
            if (this.loading) {
                return x$1 `<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`;
            }
            if (this.iconType === 'default') {
                return x$1 `<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`;
            }
            return x$1 `<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`;
        }
    };
    WuiSnackbar.styles = [resetStyles, styles$4];
    __decorate$4([
        n$3()
    ], WuiSnackbar.prototype, "backgroundColor", void 0);
    __decorate$4([
        n$3()
    ], WuiSnackbar.prototype, "iconColor", void 0);
    __decorate$4([
        n$3()
    ], WuiSnackbar.prototype, "icon", void 0);
    __decorate$4([
        n$3()
    ], WuiSnackbar.prototype, "message", void 0);
    __decorate$4([
        n$3()
    ], WuiSnackbar.prototype, "loading", void 0);
    __decorate$4([
        n$3()
    ], WuiSnackbar.prototype, "iconType", void 0);
    WuiSnackbar = __decorate$4([
        customElement('wui-snackbar')
    ], WuiSnackbar);

    var styles$3 = i$6 `
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;

    var __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    const presets = {
        loading: undefined,
        success: {
            backgroundColor: 'success-100',
            iconColor: 'success-100',
            icon: 'checkmark'
        },
        error: {
            backgroundColor: 'error-100',
            iconColor: 'error-100',
            icon: 'close'
        }
    };
    let W3mSnackBar = class W3mSnackBar extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.timeout = undefined;
            this.open = SnackController.state.open;
            this.unsubscribe.push(SnackController.subscribeKey('open', val => {
                this.open = val;
                this.onOpen();
            }));
        }
        disconnectedCallback() {
            clearTimeout(this.timeout);
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            const { message, variant, svg } = SnackController.state;
            const preset = presets[variant];
            const { icon, iconColor } = svg ?? preset ?? {};
            return x$1 `
      <wui-snackbar
        message=${message}
        backgroundColor=${preset?.backgroundColor}
        iconColor=${iconColor}
        icon=${icon}
        .loading=${variant === 'loading'}
      ></wui-snackbar>
    `;
        }
        onOpen() {
            clearTimeout(this.timeout);
            if (this.open) {
                this.animate([
                    { opacity: 0, transform: 'translateX(-50%) scale(0.85)' },
                    { opacity: 1, transform: 'translateX(-50%) scale(1)' }
                ], {
                    duration: 150,
                    fill: 'forwards',
                    easing: 'ease'
                });
                if (this.timeout) {
                    clearTimeout(this.timeout);
                }
                if (SnackController.state.autoClose) {
                    this.timeout = setTimeout(() => SnackController.hide(), 2500);
                }
            }
            else {
                this.animate([
                    { opacity: 1, transform: 'translateX(-50%) scale(1)' },
                    { opacity: 0, transform: 'translateX(-50%) scale(0.85)' }
                ], {
                    duration: 150,
                    fill: 'forwards',
                    easing: 'ease'
                });
            }
        }
    };
    W3mSnackBar.styles = styles$3;
    __decorate$3([
        r$1()
    ], W3mSnackBar.prototype, "open", void 0);
    W3mSnackBar = __decorate$3([
        customElement('w3m-snackbar')
    ], W3mSnackBar);

    var styles$2 = i$6 `
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;

    var __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mTooltip = class W3mTooltip extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.open = TooltipController.state.open;
            this.message = TooltipController.state.message;
            this.triggerRect = TooltipController.state.triggerRect;
            this.variant = TooltipController.state.variant;
            this.unsubscribe.push(...[
                TooltipController.subscribe(newState => {
                    this.open = newState.open;
                    this.message = newState.message;
                    this.triggerRect = newState.triggerRect;
                    this.variant = newState.variant;
                })
            ]);
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            this.dataset['variant'] = this.variant;
            const topValue = this.triggerRect.top;
            const leftValue = this.triggerRect.left;
            this.style.cssText = `
    --w3m-tooltip-top: ${topValue}px;
    --w3m-tooltip-left: ${leftValue}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width / 2}px;
    --w3m-tooltip-display: ${this.open ? 'flex' : 'none'};
    --w3m-tooltip-opacity: ${this.open ? 1 : 0};
    `;
            return x$1 `<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`;
        }
    };
    W3mTooltip.styles = [styles$2];
    __decorate$2([
        r$1()
    ], W3mTooltip.prototype, "open", void 0);
    __decorate$2([
        r$1()
    ], W3mTooltip.prototype, "message", void 0);
    __decorate$2([
        r$1()
    ], W3mTooltip.prototype, "triggerRect", void 0);
    __decorate$2([
        r$1()
    ], W3mTooltip.prototype, "variant", void 0);
    W3mTooltip = __decorate$2([
        customElement('w3m-tooltip'),
        customElement('w3m-tooltip')
    ], W3mTooltip);

    var styles$1 = i$6 `
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;

    var __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    let W3mRouter = class W3mRouter extends i$3 {
        constructor() {
            super();
            this.resizeObserver = undefined;
            this.prevHeight = '0px';
            this.prevHistoryLength = 1;
            this.unsubscribe = [];
            this.view = RouterController.state.view;
            this.viewDirection = '';
            this.unsubscribe.push(RouterController.subscribeKey('view', val => this.onViewChange(val)));
        }
        firstUpdated() {
            this.resizeObserver = new ResizeObserver(([content]) => {
                const height = `${content?.contentRect.height}px`;
                if (this.prevHeight !== '0px') {
                    this.style.setProperty('--prev-height', this.prevHeight);
                    this.style.setProperty('--new-height', height);
                    this.style.animation = 'w3m-view-height 150ms forwards ease';
                    this.style.height = 'auto';
                }
                setTimeout(() => {
                    this.prevHeight = height;
                    this.style.animation = 'unset';
                }, ConstantsUtil.ANIMATION_DURATIONS.ModalHeight);
            });
            this.resizeObserver?.observe(this.getWrapper());
        }
        disconnectedCallback() {
            this.resizeObserver?.unobserve(this.getWrapper());
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
        }
        render() {
            return x$1 `<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`;
        }
        viewTemplate() {
            switch (this.view) {
                case 'AccountSettings':
                    return x$1 `<w3m-account-settings-view></w3m-account-settings-view>`;
                case 'Account':
                    return x$1 `<w3m-account-view></w3m-account-view>`;
                case 'AllWallets':
                    return x$1 `<w3m-all-wallets-view></w3m-all-wallets-view>`;
                case 'ApproveTransaction':
                    return x$1 `<w3m-approve-transaction-view></w3m-approve-transaction-view>`;
                case 'BuyInProgress':
                    return x$1 `<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;
                case 'ChooseAccountName':
                    return x$1 `<w3m-choose-account-name-view></w3m-choose-account-name-view>`;
                case 'Connect':
                    return x$1 `<w3m-connect-view></w3m-connect-view>`;
                case 'Create':
                    return x$1 `<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;
                case 'ConnectingWalletConnect':
                    return x$1 `<w3m-connecting-wc-view></w3m-connecting-wc-view>`;
                case 'ConnectingWalletConnectBasic':
                    return x$1 `<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;
                case 'ConnectingExternal':
                    return x$1 `<w3m-connecting-external-view></w3m-connecting-external-view>`;
                case 'ConnectingSiwe':
                    return x$1 `<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;
                case 'ConnectWallets':
                    return x$1 `<w3m-connect-wallets-view></w3m-connect-wallets-view>`;
                case 'ConnectSocials':
                    return x$1 `<w3m-connect-socials-view></w3m-connect-socials-view>`;
                case 'ConnectingSocial':
                    return x$1 `<w3m-connecting-social-view></w3m-connecting-social-view>`;
                case 'Downloads':
                    return x$1 `<w3m-downloads-view></w3m-downloads-view>`;
                case 'EmailLogin':
                    return x$1 `<w3m-email-login-view></w3m-email-login-view>`;
                case 'EmailVerifyOtp':
                    return x$1 `<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;
                case 'EmailVerifyDevice':
                    return x$1 `<w3m-email-verify-device-view></w3m-email-verify-device-view>`;
                case 'GetWallet':
                    return x$1 `<w3m-get-wallet-view></w3m-get-wallet-view>`;
                case 'Networks':
                    return x$1 `<w3m-networks-view></w3m-networks-view>`;
                case 'SwitchNetwork':
                    return x$1 `<w3m-network-switch-view></w3m-network-switch-view>`;
                case 'Profile':
                    return x$1 `<w3m-profile-view></w3m-profile-view>`;
                case 'SwitchAddress':
                    return x$1 `<w3m-switch-address-view></w3m-switch-address-view>`;
                case 'Transactions':
                    return x$1 `<w3m-transactions-view></w3m-transactions-view>`;
                case 'OnRampProviders':
                    return x$1 `<w3m-onramp-providers-view></w3m-onramp-providers-view>`;
                case 'OnRampActivity':
                    return x$1 `<w3m-onramp-activity-view></w3m-onramp-activity-view>`;
                case 'OnRampTokenSelect':
                    return x$1 `<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;
                case 'OnRampFiatSelect':
                    return x$1 `<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;
                case 'UpgradeEmailWallet':
                    return x$1 `<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;
                case 'UpdateEmailWallet':
                    return x$1 `<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;
                case 'UpdateEmailPrimaryOtp':
                    return x$1 `<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;
                case 'UpdateEmailSecondaryOtp':
                    return x$1 `<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;
                case 'UnsupportedChain':
                    return x$1 `<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;
                case 'Swap':
                    return x$1 `<w3m-swap-view></w3m-swap-view>`;
                case 'SwapSelectToken':
                    return x$1 `<w3m-swap-select-token-view></w3m-swap-select-token-view>`;
                case 'SwapPreview':
                    return x$1 `<w3m-swap-preview-view></w3m-swap-preview-view>`;
                case 'WalletSend':
                    return x$1 `<w3m-wallet-send-view></w3m-wallet-send-view>`;
                case 'WalletSendSelectToken':
                    return x$1 `<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;
                case 'WalletSendPreview':
                    return x$1 `<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;
                case 'WhatIsABuy':
                    return x$1 `<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;
                case 'WalletReceive':
                    return x$1 `<w3m-wallet-receive-view></w3m-wallet-receive-view>`;
                case 'WalletCompatibleNetworks':
                    return x$1 `<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;
                case 'WhatIsAWallet':
                    return x$1 `<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;
                case 'ConnectingMultiChain':
                    return x$1 `<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;
                case 'WhatIsANetwork':
                    return x$1 `<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;
                case 'ConnectingFarcaster':
                    return x$1 `<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;
                case 'SwitchActiveChain':
                    return x$1 `<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;
                case 'RegisterAccountName':
                    return x$1 `<w3m-register-account-name-view></w3m-register-account-name-view>`;
                case 'RegisterAccountNameSuccess':
                    return x$1 `<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;
                case 'SmartSessionCreated':
                    return x$1 `<w3m-smart-session-created-view></w3m-smart-session-created-view>`;
                case 'SmartSessionList':
                    return x$1 `<w3m-smart-session-list-view></w3m-smart-session-list-view>`;
                case 'SIWXSignMessage':
                    return x$1 `<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;
                default:
                    return x$1 `<w3m-connect-view></w3m-connect-view>`;
            }
        }
        onViewChange(newView) {
            TooltipController.hide();
            let direction = ConstantsUtil.VIEW_DIRECTION.Next;
            const { history } = RouterController.state;
            if (history.length < this.prevHistoryLength) {
                direction = ConstantsUtil.VIEW_DIRECTION.Prev;
            }
            this.prevHistoryLength = history.length;
            this.viewDirection = direction;
            setTimeout(() => {
                this.view = newView;
            }, ConstantsUtil.ANIMATION_DURATIONS.ViewTransition);
        }
        getWrapper() {
            return this.shadowRoot?.querySelector('div');
        }
    };
    W3mRouter.styles = styles$1;
    __decorate$1([
        r$1()
    ], W3mRouter.prototype, "view", void 0);
    __decorate$1([
        r$1()
    ], W3mRouter.prototype, "viewDirection", void 0);
    W3mRouter = __decorate$1([
        customElement('w3m-router')
    ], W3mRouter);

    var styles = i$6 `
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.embedded) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.embedded) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`;

    var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    const SCROLL_LOCK = 'scroll-lock';
    let W3mModal = class W3mModal extends i$3 {
        constructor() {
            super();
            this.unsubscribe = [];
            this.abortController = undefined;
            this.hasPrefetched = false;
            this.enableEmbedded = OptionsController.state.enableEmbedded;
            this.open = ModalController.state.open;
            this.caipAddress = ChainController.state.activeCaipAddress;
            this.caipNetwork = ChainController.state.activeCaipNetwork;
            this.shake = ModalController.state.shake;
            this.filterByNamespace = ConnectorController.state.filterByNamespace;
            this.initializeTheming();
            ApiController.prefetchAnalyticsConfig();
            this.unsubscribe.push(...[
                ModalController.subscribeKey('open', val => (val ? this.onOpen() : this.onClose())),
                ModalController.subscribeKey('shake', val => (this.shake = val)),
                ChainController.subscribeKey('activeCaipNetwork', val => this.onNewNetwork(val)),
                ChainController.subscribeKey('activeCaipAddress', val => this.onNewAddress(val)),
                OptionsController.subscribeKey('enableEmbedded', val => (this.enableEmbedded = val)),
                ConnectorController.subscribeKey('filterByNamespace', val => {
                    if (this.filterByNamespace !== val && !ChainController.getAccountData(val)?.caipAddress) {
                        ApiController.fetchRecommendedWallets();
                        this.filterByNamespace = val;
                    }
                })
            ]);
        }
        firstUpdated() {
            if (this.caipAddress) {
                if (this.enableEmbedded) {
                    ModalController.close();
                    this.prefetch();
                    return;
                }
                this.onNewAddress(this.caipAddress);
            }
            if (this.open) {
                this.onOpen();
            }
            if (this.enableEmbedded) {
                this.prefetch();
            }
        }
        disconnectedCallback() {
            this.unsubscribe.forEach(unsubscribe => unsubscribe());
            this.onRemoveKeyboardListener();
        }
        render() {
            this.style.cssText = `
      --local-border-bottom-mobile-radius: ${this.enableEmbedded ? 'clamp(0px, var(--wui-border-radius-l), 44px)' : '0px'};
    `;
            if (this.enableEmbedded) {
                return x$1 `${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `;
            }
            return this.open
                ? x$1 `
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `
                : null;
        }
        contentTemplate() {
            return x$1 ` <wui-card
      shake="${this.shake}"
      data-embedded="${o$2(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`;
        }
        async onOverlayClick(event) {
            if (event.target === event.currentTarget) {
                await this.handleClose();
            }
        }
        async handleClose() {
            const isUnsupportedChain = RouterController.state.view === 'UnsupportedChain';
            if (isUnsupportedChain || (await SIWXUtil.isSIWXCloseDisabled())) {
                ModalController.shake();
            }
            else {
                ModalController.close();
            }
        }
        initializeTheming() {
            const { themeVariables, themeMode } = ThemeController.state;
            const defaultThemeMode = UiHelperUtil.getColorTheme(themeMode);
            initializeTheming(themeVariables, defaultThemeMode);
        }
        onClose() {
            this.open = false;
            this.classList.remove('open');
            this.onScrollUnlock();
            SnackController.hide();
            this.onRemoveKeyboardListener();
        }
        onOpen() {
            this.open = true;
            this.classList.add('open');
            this.onScrollLock();
            this.onAddKeyboardListener();
        }
        onScrollLock() {
            const styleTag = document.createElement('style');
            styleTag.dataset['w3m'] = SCROLL_LOCK;
            styleTag.textContent = `
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `;
            document.head.appendChild(styleTag);
        }
        onScrollUnlock() {
            const styleTag = document.head.querySelector(`style[data-w3m="${SCROLL_LOCK}"]`);
            if (styleTag) {
                styleTag.remove();
            }
        }
        onAddKeyboardListener() {
            this.abortController = new AbortController();
            const card = this.shadowRoot?.querySelector('wui-card');
            card?.focus();
            window.addEventListener('keydown', event => {
                if (event.key === 'Escape') {
                    this.handleClose();
                }
                else if (event.key === 'Tab') {
                    const { tagName } = event.target;
                    if (tagName && !tagName.includes('W3M-') && !tagName.includes('WUI-')) {
                        card?.focus();
                    }
                }
            }, this.abortController);
        }
        onRemoveKeyboardListener() {
            this.abortController?.abort();
            this.abortController = undefined;
        }
        async onNewAddress(caipAddress) {
            const isSwitchingNamespace = ChainController.state.isSwitchingNamespace;
            const nextConnected = CoreHelperUtil.getPlainAddress(caipAddress);
            const isDisconnectedInSameNamespace = !nextConnected && !isSwitchingNamespace;
            const isSwitchingNamespaceAndConnected = isSwitchingNamespace && nextConnected;
            if (isDisconnectedInSameNamespace) {
                ModalController.close();
            }
            else if (isSwitchingNamespaceAndConnected) {
                RouterController.goBack();
            }
            await SIWXUtil.initializeIfEnabled();
            this.caipAddress = caipAddress;
            ChainController.setIsSwitchingNamespace(false);
        }
        onNewNetwork(nextCaipNetwork) {
            const prevCaipNetwork = this.caipNetwork;
            const prevCaipNetworkId = prevCaipNetwork?.caipNetworkId?.toString();
            const prevChainNamespace = prevCaipNetwork?.chainNamespace;
            const nextNetworkId = nextCaipNetwork?.caipNetworkId?.toString();
            const nextChainNamespace = nextCaipNetwork?.chainNamespace;
            const networkIdChanged = prevCaipNetworkId !== nextNetworkId;
            const namespaceChanged = prevChainNamespace !== nextChainNamespace;
            const isNetworkChangedInSameNamespace = networkIdChanged && !namespaceChanged;
            const wasUnsupportedNetwork = prevCaipNetwork?.name === ConstantsUtil$3.UNSUPPORTED_NETWORK_NAME;
            const isConnectingExternal = RouterController.state.view === 'ConnectingExternal';
            const isNotConnected = !this.caipAddress;
            const isUnsupportedNetworkScreen = RouterController.state.view === 'UnsupportedChain';
            const isModalOpen = ModalController.state.open;
            let shouldGoBack = false;
            if (isModalOpen && !isConnectingExternal) {
                if (isNotConnected) {
                    if (networkIdChanged) {
                        shouldGoBack = true;
                    }
                }
                else if (isUnsupportedNetworkScreen) {
                    shouldGoBack = true;
                }
                else if (isNetworkChangedInSameNamespace && !wasUnsupportedNetwork) {
                    shouldGoBack = true;
                }
            }
            if (shouldGoBack && RouterController.state.view !== 'SIWXSignMessage') {
                RouterController.goBack();
            }
            this.caipNetwork = nextCaipNetwork;
        }
        prefetch() {
            if (!this.hasPrefetched) {
                ApiController.prefetch();
                ApiController.fetchWalletsByPage({ page: 1 });
                this.hasPrefetched = true;
            }
        }
    };
    W3mModal.styles = styles;
    __decorate([
        n$3({ type: Boolean })
    ], W3mModal.prototype, "enableEmbedded", void 0);
    __decorate([
        r$1()
    ], W3mModal.prototype, "open", void 0);
    __decorate([
        r$1()
    ], W3mModal.prototype, "caipAddress", void 0);
    __decorate([
        r$1()
    ], W3mModal.prototype, "caipNetwork", void 0);
    __decorate([
        r$1()
    ], W3mModal.prototype, "shake", void 0);
    __decorate([
        r$1()
    ], W3mModal.prototype, "filterByNamespace", void 0);
    W3mModal = __decorate([
        customElement('w3m-modal')
    ], W3mModal);

    var w3mModal = /*#__PURE__*/Object.freeze({
        __proto__: null,
        get W3mModal () { return W3mModal; }
    });

    const addSvg = b `<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`;

    var add = /*#__PURE__*/Object.freeze({
        __proto__: null,
        addSvg: addSvg
    });

    const allWalletsSvg = b `<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`;

    var allWallets = /*#__PURE__*/Object.freeze({
        __proto__: null,
        allWalletsSvg: allWalletsSvg
    });

    const arrowBottomCircleSvg = b `<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`;

    var arrowBottomCircle = /*#__PURE__*/Object.freeze({
        __proto__: null,
        arrowBottomCircleSvg: arrowBottomCircleSvg
    });

    const appStoreSvg = b `
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`;

    var appStore = /*#__PURE__*/Object.freeze({
        __proto__: null,
        appStoreSvg: appStoreSvg
    });

    const appleSvg = b `<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;

    var apple = /*#__PURE__*/Object.freeze({
        __proto__: null,
        appleSvg: appleSvg
    });

    const arrowBottomSvg = b `<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`;

    var arrowBottom = /*#__PURE__*/Object.freeze({
        __proto__: null,
        arrowBottomSvg: arrowBottomSvg
    });

    const arrowLeftSvg = b `<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`;

    var arrowLeft = /*#__PURE__*/Object.freeze({
        __proto__: null,
        arrowLeftSvg: arrowLeftSvg
    });

    const arrowRightSvg = b `<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`;

    var arrowRight = /*#__PURE__*/Object.freeze({
        __proto__: null,
        arrowRightSvg: arrowRightSvg
    });

    const arrowTopSvg = b `<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`;

    var arrowTop = /*#__PURE__*/Object.freeze({
        __proto__: null,
        arrowTopSvg: arrowTopSvg
    });

    const bankSvg = b `<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`;

    var bank = /*#__PURE__*/Object.freeze({
        __proto__: null,
        bankSvg: bankSvg
    });

    const browserSvg = b `<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`;

    var browser = /*#__PURE__*/Object.freeze({
        __proto__: null,
        browserSvg: browserSvg
    });

    const cardSvg = b `<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`;

    var card = /*#__PURE__*/Object.freeze({
        __proto__: null,
        cardSvg: cardSvg
    });

    const checkmarkSvg = b `<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`;

    var checkmark = /*#__PURE__*/Object.freeze({
        __proto__: null,
        checkmarkSvg: checkmarkSvg
    });

    const checkmarkBoldSvg = b `<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`;

    var checkmarkBold = /*#__PURE__*/Object.freeze({
        __proto__: null,
        checkmarkBoldSvg: checkmarkBoldSvg
    });

    const chevronBottomSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`;

    var chevronBottom = /*#__PURE__*/Object.freeze({
        __proto__: null,
        chevronBottomSvg: chevronBottomSvg
    });

    const chevronLeftSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`;

    var chevronLeft = /*#__PURE__*/Object.freeze({
        __proto__: null,
        chevronLeftSvg: chevronLeftSvg
    });

    const chevronRightSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`;

    var chevronRight = /*#__PURE__*/Object.freeze({
        __proto__: null,
        chevronRightSvg: chevronRightSvg
    });

    const chevronTopSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`;

    var chevronTop = /*#__PURE__*/Object.freeze({
        __proto__: null,
        chevronTopSvg: chevronTopSvg
    });

    const chromeStoreSvg = b `<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`;

    var chromeStore = /*#__PURE__*/Object.freeze({
        __proto__: null,
        chromeStoreSvg: chromeStoreSvg
    });

    const clockSvg = b `<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`;

    var clock = /*#__PURE__*/Object.freeze({
        __proto__: null,
        clockSvg: clockSvg
    });

    const closeSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`;

    var close = /*#__PURE__*/Object.freeze({
        __proto__: null,
        closeSvg: closeSvg
    });

    const compassSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`;

    var compass = /*#__PURE__*/Object.freeze({
        __proto__: null,
        compassSvg: compassSvg
    });

    const coinPlaceholderSvg = b `<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`;

    var coinPlaceholder = /*#__PURE__*/Object.freeze({
        __proto__: null,
        coinPlaceholderSvg: coinPlaceholderSvg
    });

    const copySvg = b `<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`;

    var copy = /*#__PURE__*/Object.freeze({
        __proto__: null,
        copySvg: copySvg
    });

    const cursorSvg = b ` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`;

    var cursor = /*#__PURE__*/Object.freeze({
        __proto__: null,
        cursorSvg: cursorSvg
    });

    const cursorTransparentSvg = b `<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `;

    var cursorTransparent = /*#__PURE__*/Object.freeze({
        __proto__: null,
        cursorTransparentSvg: cursorTransparentSvg
    });

    const desktopSvg = b `<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`;

    var desktop = /*#__PURE__*/Object.freeze({
        __proto__: null,
        desktopSvg: desktopSvg
    });

    const disconnectSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`;

    var disconnect = /*#__PURE__*/Object.freeze({
        __proto__: null,
        disconnectSvg: disconnectSvg
    });

    const discordSvg = b `<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`;

    var discord = /*#__PURE__*/Object.freeze({
        __proto__: null,
        discordSvg: discordSvg
    });

    const etherscanSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`;

    var etherscan = /*#__PURE__*/Object.freeze({
        __proto__: null,
        etherscanSvg: etherscanSvg
    });

    const extensionSvg = b `<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`;

    var extension = /*#__PURE__*/Object.freeze({
        __proto__: null,
        extensionSvg: extensionSvg
    });

    const externalLinkSvg = b `<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`;

    var externalLink = /*#__PURE__*/Object.freeze({
        __proto__: null,
        externalLinkSvg: externalLinkSvg
    });

    const facebookSvg = b `<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;

    var facebook = /*#__PURE__*/Object.freeze({
        __proto__: null,
        facebookSvg: facebookSvg
    });

    const farcasterSvg = b `<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`;

    var farcaster = /*#__PURE__*/Object.freeze({
        __proto__: null,
        farcasterSvg: farcasterSvg
    });

    const filtersSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`;

    var filters = /*#__PURE__*/Object.freeze({
        __proto__: null,
        filtersSvg: filtersSvg
    });

    const githubSvg = b `<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;

    var github = /*#__PURE__*/Object.freeze({
        __proto__: null,
        githubSvg: githubSvg
    });

    const googleSvg = b `<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`;

    var google = /*#__PURE__*/Object.freeze({
        __proto__: null,
        googleSvg: googleSvg
    });

    const helpCircleSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`;

    var helpCircle = /*#__PURE__*/Object.freeze({
        __proto__: null,
        helpCircleSvg: helpCircleSvg
    });

    const imageSvg = b `<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`;

    var image = /*#__PURE__*/Object.freeze({
        __proto__: null,
        imageSvg: imageSvg
    });

    const idSvg = b `<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`;

    var id = /*#__PURE__*/Object.freeze({
        __proto__: null,
        idSvg: idSvg
    });

    const infoCircleSvg = b `<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`;

    var infoCircle = /*#__PURE__*/Object.freeze({
        __proto__: null,
        infoCircleSvg: infoCircleSvg
    });

    const lightbulbSvg = b `<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`;

    var lightbulb = /*#__PURE__*/Object.freeze({
        __proto__: null,
        lightbulbSvg: lightbulbSvg
    });

    const mailSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`;

    var mail = /*#__PURE__*/Object.freeze({
        __proto__: null,
        mailSvg: mailSvg
    });

    const mobileSvg = b `<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`;

    var mobile = /*#__PURE__*/Object.freeze({
        __proto__: null,
        mobileSvg: mobileSvg
    });

    const moreSvg = b `<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`;

    var more = /*#__PURE__*/Object.freeze({
        __proto__: null,
        moreSvg: moreSvg
    });

    const networkPlaceholderSvg = b `<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`;

    var networkPlaceholder = /*#__PURE__*/Object.freeze({
        __proto__: null,
        networkPlaceholderSvg: networkPlaceholderSvg
    });

    const nftPlaceholderSvg = b `<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`;

    var nftPlaceholder = /*#__PURE__*/Object.freeze({
        __proto__: null,
        nftPlaceholderSvg: nftPlaceholderSvg
    });

    const offSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`;

    var off = /*#__PURE__*/Object.freeze({
        __proto__: null,
        offSvg: offSvg
    });

    const playStoreSvg = b ` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`;

    var playStore = /*#__PURE__*/Object.freeze({
        __proto__: null,
        playStoreSvg: playStoreSvg
    });

    const plusSvg = b `<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`;

    var plus = /*#__PURE__*/Object.freeze({
        __proto__: null,
        plusSvg: plusSvg
    });

    const qrCodeIcon = b `<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`;

    var qrCode = /*#__PURE__*/Object.freeze({
        __proto__: null,
        qrCodeIcon: qrCodeIcon
    });

    const recycleHorizontalSvg = b `<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`;

    var recycleHorizontal = /*#__PURE__*/Object.freeze({
        __proto__: null,
        recycleHorizontalSvg: recycleHorizontalSvg
    });

    const refreshSvg = b `<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`;

    var refresh = /*#__PURE__*/Object.freeze({
        __proto__: null,
        refreshSvg: refreshSvg
    });

    const searchSvg = b `<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`;

    var search = /*#__PURE__*/Object.freeze({
        __proto__: null,
        searchSvg: searchSvg
    });

    const sendSvg = b `<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`;

    var send = /*#__PURE__*/Object.freeze({
        __proto__: null,
        sendSvg: sendSvg
    });

    const swapHorizontalSvg = b `<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`;

    var swapHorizontal = /*#__PURE__*/Object.freeze({
        __proto__: null,
        swapHorizontalSvg: swapHorizontalSvg
    });

    const swapHorizontalMediumSvg = b `<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`;

    var swapHorizontalMedium = /*#__PURE__*/Object.freeze({
        __proto__: null,
        swapHorizontalMediumSvg: swapHorizontalMediumSvg
    });

    const swapHorizontalBoldSvg = b `<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`;

    var swapHorizontalBold = /*#__PURE__*/Object.freeze({
        __proto__: null,
        swapHorizontalBoldSvg: swapHorizontalBoldSvg
    });

    const swapHorizontalRoundedBoldSvg = b `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`;

    var swapHorizontalRoundedBold = /*#__PURE__*/Object.freeze({
        __proto__: null,
        swapHorizontalRoundedBoldSvg: swapHorizontalRoundedBoldSvg
    });

    const swapVerticalSvg = b `<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`;

    var swapVertical = /*#__PURE__*/Object.freeze({
        __proto__: null,
        swapVerticalSvg: swapVerticalSvg
    });

    const telegramSvg = b `<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`;

    var telegram = /*#__PURE__*/Object.freeze({
        __proto__: null,
        telegramSvg: telegramSvg
    });

    const threeDotsSvg = b `<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`;

    var threeDots = /*#__PURE__*/Object.freeze({
        __proto__: null,
        threeDotsSvg: threeDotsSvg
    });

    const twitchSvg = b `<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;

    var twitch = /*#__PURE__*/Object.freeze({
        __proto__: null,
        twitchSvg: twitchSvg
    });

    const xSvg = b `<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`;

    var x = /*#__PURE__*/Object.freeze({
        __proto__: null,
        xSvg: xSvg
    });

    const twitterIconSvg = b `<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`;

    var twitterIcon = /*#__PURE__*/Object.freeze({
        __proto__: null,
        twitterIconSvg: twitterIconSvg
    });

    const verifySvg = b `<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`;

    var verify = /*#__PURE__*/Object.freeze({
        __proto__: null,
        verifySvg: verifySvg
    });

    const verifyFilledSvg = b `<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`;

    var verifyFilled = /*#__PURE__*/Object.freeze({
        __proto__: null,
        verifyFilledSvg: verifyFilledSvg
    });

    const walletSvg = b `<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`;

    var wallet = /*#__PURE__*/Object.freeze({
        __proto__: null,
        walletSvg: walletSvg
    });

    const walletConnectSvg = b `<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`;
    const walletConnectLightBrownSvg = b `
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`;
    const walletConnectBrownSvg = b `
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`;

    var walletconnect = /*#__PURE__*/Object.freeze({
        __proto__: null,
        walletConnectBrownSvg: walletConnectBrownSvg,
        walletConnectLightBrownSvg: walletConnectLightBrownSvg,
        walletConnectSvg: walletConnectSvg
    });

    const walletPlaceholderSvg = b `
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`;

    var walletPlaceholder = /*#__PURE__*/Object.freeze({
        __proto__: null,
        walletPlaceholderSvg: walletPlaceholderSvg
    });

    const warningCircleSvg = b `<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`;

    var warningCircle = /*#__PURE__*/Object.freeze({
        __proto__: null,
        warningCircleSvg: warningCircleSvg
    });

    const infoSvg = b `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`;

    var info = /*#__PURE__*/Object.freeze({
        __proto__: null,
        infoSvg: infoSvg
    });

    const exclamationTriangleSvg = b `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`;

    var exclamationTriangle = /*#__PURE__*/Object.freeze({
        __proto__: null,
        exclamationTriangleSvg: exclamationTriangleSvg
    });

    const reownSvg = b `<svg width="60" height="16" viewBox="0 0 60 16" fill="none"">
  <path d="M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z" fill="#363636"/>
  <path d="M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z" fill="#F6F6F6"/>
  <path d="M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z" fill="#363636"/>
  <path d="M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z" fill="#F6F6F6"/>
  <path d="M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z" fill="#363636"/>
  <path d="M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z" fill="#F6F6F6"/>
  <path d="M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z" fill="#F6F6F6"/>
  <path d="M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z" fill="#F6F6F6"/>
  <path d="M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z" fill="#F6F6F6"/>
  <path d="M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z" fill="#F6F6F6"/>
</svg>`;

    var reownLogo = /*#__PURE__*/Object.freeze({
        __proto__: null,
        reownSvg: reownSvg
    });

    exports.WalletConnectWalletAdapter = WalletConnectWalletAdapter;
    exports.WalletConnectWalletName = WalletConnectWalletName;

}));
